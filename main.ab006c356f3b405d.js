"use strict";(self.webpackChunklicorApp=self.webpackChunklicorApp||[]).push([[179],{2011:(mt,Te,P)=>{P.d(Te,{Dh:()=>ve,GT:()=>ue,cc:()=>xe,hO:()=>ze,on:()=>$,pX:()=>oe,xv:()=>he});var c=P(4650),X=P(9260),O=P(8623);mt=P.hmd(mt);const ae=["ngOnDestroy"],oe=(me,_t,It,Pe={})=>new Proxy(me,{get:(be,fe)=>It.runOutsideAngular(()=>{var Ge;if(me[fe])return!(null===(Ge=Pe?.spy)||void 0===Ge)&&Ge.get&&Pe.spy.get(fe,me[fe]),me[fe];if(ae.indexOf(fe)>-1)return()=>{};const He=_t.toPromise().then(et=>{const ee=et&&et[fe];return"function"==typeof ee?ee.bind(et):ee&&ee.then?ee.then(xt=>It.run(()=>xt)):It.run(()=>ee)});return new Proxy(()=>{},{get:(et,ee)=>He[ee],apply:(et,ee,xt)=>He.then(ut=>{var Zt;const at=ut&&ut(...xt);return!(null===(Zt=Pe?.spy)||void 0===Zt)&&Zt.apply&&Pe.spy.apply(fe,xt,at),at})})})}),ue=(me,_t)=>{_t.forEach(It=>{Object.getOwnPropertyNames(It.prototype||It).forEach(Pe=>{Object.defineProperty(me.prototype,Pe,Object.getOwnPropertyDescriptor(It.prototype||It,Pe))})})};class ne{constructor(_t){return _t}}const ve=new c.OlP("angularfire2.app.options"),he=new c.OlP("angularfire2.app.name");function $(me,_t,It){const be="object"==typeof It&&It||{};be.name=be.name||"string"==typeof It&&It||"[DEFAULT]";const Ge=X.Z.apps.filter(He=>He&&He.name===be.name)[0]||_t.runOutsideAngular(()=>X.Z.initializeApp(me,be));try{JSON.stringify(me)!==JSON.stringify(Ge.options)&&j("error",`${Ge.name} Firebase App already initialized with different options${mt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ne(Ge)}const j=(me,..._t)=>{(0,c.X6Q)()&&typeof console<"u"&&console[me](..._t)},Z={provide:ne,useFactory:$,deps:[ve,c.R0b,[new c.FiY,he]]};let ze=(()=>{class me{constructor(It){X.Z.registerVersion("angularfire",O.q4.full,"core"),X.Z.registerVersion("angularfire",O.q4.full,"app-compat"),X.Z.registerVersion("angular",c.q4F.full,It.toString())}static initializeApp(It,Pe){return{ngModule:me,providers:[{provide:ve,useValue:It},{provide:he,useValue:Pe}]}}}return me.\u0275fac=function(It){return new(It||me)(c.LFG(c.Lbi))},me.\u0275mod=c.oAB({type:me}),me.\u0275inj=c.cJS({providers:[Z]}),me})();function xe(me,_t,It,Pe,be){const[,fe,Ge]=globalThis.\u0275AngularfireInstanceCache.find(He=>He[0]===me)||[];if(fe)return function Ce(me,_t){try{return me.toString()===_t.toString()}catch{return me===_t}}(be,Ge)||(ge("error",`${_t} was already initialized on the ${It} Firebase App with different settings.${rt?" You may need to reload as Firebase is not HMR aware.":""}`),ge("warn",{is:be,was:Ge})),fe;{const He=Pe();return globalThis.\u0275AngularfireInstanceCache.push([me,He,be]),He}}const rt=!!mt.hot,ge=(me,..._t)=>{(0,c.X6Q)()&&typeof console<"u"&&console[me](..._t)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8623:(mt,Te,P)=>{P.d(Te,{q4:()=>_c,iC:()=>ll,HU:()=>tp,vb:()=>Xs,JM:()=>bu});var c=P(4650),X=P(259),O=P(5861),ae=P(2951),oe=P(2090),ue=P(4859),ne=P(1877);let he,$;const ze=new WeakMap,xe=new WeakMap,Ce=new WeakMap,rt=new WeakMap,ge=new WeakMap;let It={get(C,T,x){if(C instanceof IDBTransaction){if("done"===T)return xe.get(C);if("objectStoreNames"===T)return C.objectStoreNames||Ce.get(C);if("store"===T)return x.objectStoreNames[1]?void 0:x.objectStore(x.objectStoreNames[0])}return Ge(C[T])},set:(C,T,x)=>(C[T]=x,!0),has:(C,T)=>C instanceof IDBTransaction&&("done"===T||"store"===T)||T in C};function fe(C){return"function"==typeof C?function be(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Z(){return $||($=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...T){return C.apply(He(this),T),Ge(ze.get(this))}:function(...T){return Ge(C.apply(He(this),T))}:function(T,...x){const L=C.call(He(this),T,...x);return Ce.set(L,T.sort?T.sort():[T]),Ge(L)}}(C):(C instanceof IDBTransaction&&function _t(C){if(xe.has(C))return;const T=new Promise((x,L)=>{const G=()=>{C.removeEventListener("complete",Q),C.removeEventListener("error",ye),C.removeEventListener("abort",ye)},Q=()=>{x(),G()},ye=()=>{L(C.error||new DOMException("AbortError","AbortError")),G()};C.addEventListener("complete",Q),C.addEventListener("error",ye),C.addEventListener("abort",ye)});xe.set(C,T)}(C),((C,T)=>T.some(x=>C instanceof x))(C,function j(){return he||(he=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,It):C)}function Ge(C){if(C instanceof IDBRequest)return function me(C){const T=new Promise((x,L)=>{const G=()=>{C.removeEventListener("success",Q),C.removeEventListener("error",ye)},Q=()=>{x(Ge(C.result)),G()},ye=()=>{L(C.error),G()};C.addEventListener("success",Q),C.addEventListener("error",ye)});return T.then(x=>{x instanceof IDBCursor&&ze.set(x,C)}).catch(()=>{}),ge.set(T,C),T}(C);if(rt.has(C))return rt.get(C);const T=fe(C);return T!==C&&(rt.set(C,T),ge.set(T,C)),T}const He=C=>ge.get(C);function et(C,T,{blocked:x,upgrade:L,blocking:G,terminated:Q}={}){const ye=indexedDB.open(C,T),We=Ge(ye);return L&&ye.addEventListener("upgradeneeded",Qe=>{L(Ge(ye.result),Qe.oldVersion,Qe.newVersion,Ge(ye.transaction))}),x&&ye.addEventListener("blocked",()=>x()),We.then(Qe=>{Q&&Qe.addEventListener("close",()=>Q()),G&&Qe.addEventListener("versionchange",()=>G())}).catch(()=>{}),We}function ee(C,{blocked:T}={}){const x=indexedDB.deleteDatabase(C);return T&&x.addEventListener("blocked",()=>T()),Ge(x).then(()=>{})}const xt=["get","getKey","getAll","getAllKeys","count"],ut=["put","add","delete","clear"],Zt=new Map;function at(C,T){if(!(C instanceof IDBDatabase)||T in C||"string"!=typeof T)return;if(Zt.get(T))return Zt.get(T);const x=T.replace(/FromIndex$/,""),L=T!==x,G=ut.includes(x);if(!(x in(L?IDBIndex:IDBObjectStore).prototype)||!G&&!xt.includes(x))return;const Q=function(){var ye=(0,O.Z)(function*(We,...Qe){const pt=this.transaction(We,G?"readwrite":"readonly");let Nt=pt.store;return L&&(Nt=Nt.index(Qe.shift())),(yield Promise.all([Nt[x](...Qe),G&&pt.done]))[0]});return function(Qe){return ye.apply(this,arguments)}}();return Zt.set(T,Q),Q}!function Pe(C){It=C(It)}(C=>({...C,get:(T,x,L)=>at(T,x)||C.get(T,x,L),has:(T,x)=>!!at(T,x)||C.has(T,x)}));const de="@firebase/installations",ke="w:0.6.4",Le="FIS_v2",qt=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Kt(C){return C instanceof oe.ZR&&C.code.includes("request-failed")}function tn({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function Fn(C){return{token:C.token,requestStatus:2,expiresIn:Va(C.expiresIn),creationTime:Date.now()}}function zn(C,T){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,O.Z)(function*(C,T){const L=(yield T.json()).error;return qt.create("request-failed",{requestName:C,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function ar({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function Ai(C,{refreshToken:T}){const x=ar(C);return x.append("Authorization",function jo(C){return`${Le} ${C}`}(T)),x}function ss(C){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,O.Z)(function*(C){const T=yield C();return T.status>=500&&T.status<600?C():T})).apply(this,arguments)}function Va(C){return Number(C.replace("s","000"))}function dt(C,T){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,O.Z)(function*({appConfig:C,heartbeatServiceProvider:T},{fid:x}){const L=tn(C),G=ar(C),Q=T.getImmediate({optional:!0});if(Q){const pt=yield Q.getHeartbeatsHeader();pt&&G.append("x-firebase-client",pt)}const We={method:"POST",headers:G,body:JSON.stringify({fid:x,authVersion:Le,appId:C.appId,sdkVersion:ke})},Qe=yield ss(()=>fetch(L,We));if(Qe.ok){const pt=yield Qe.json();return{fid:pt.fid||x,registrationStatus:2,refreshToken:pt.refreshToken,authToken:Fn(pt.authToken)}}throw yield zn("Create Installation",Qe)})).apply(this,arguments)}function Vr(C){return new Promise(T=>{setTimeout(T,C)})}const $o=/^[cdef][\w-]{21}$/;function di(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const x=function Mn(C){return function Zi(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return $o.test(x)?x:""}catch{return""}}function ln(C){return`${C.appName}!${C.appId}`}const nt=new Map;function bt(C,T){const x=ln(C);lr(x,T),function oi(C,T){const x=function Mi(){return!Tt&&"BroadcastChannel"in self&&(Tt=new BroadcastChannel("[Firebase] FID Change"),Tt.onmessage=C=>{lr(C.data.key,C.data.fid)}),Tt}();x&&x.postMessage({key:C,fid:T}),function _n(){0===nt.size&&Tt&&(Tt.close(),Tt=null)}()}(x,T)}function lr(C,T){const x=nt.get(C);if(x)for(const L of x)L(T)}let Tt=null;const hi="firebase-installations-store";let xi=null;function Br(){return xi||(xi=et("firebase-installations-database",1,{upgrade:(C,T)=>{0===T&&C.createObjectStore(hi)}})),xi}function Un(C,T){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,O.Z)(function*(C,T){const x=ln(C),G=(yield Br()).transaction(hi,"readwrite"),Q=G.objectStore(hi),ye=yield Q.get(x);return yield Q.put(T,x),yield G.done,(!ye||ye.fid!==T.fid)&&bt(C,T.fid),T})).apply(this,arguments)}function as(C){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,O.Z)(function*(C){const T=ln(C),L=(yield Br()).transaction(hi,"readwrite");yield L.objectStore(hi).delete(T),yield L.done})).apply(this,arguments)}function cr(C,T){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,O.Z)(function*(C,T){const x=ln(C),G=(yield Br()).transaction(hi,"readwrite"),Q=G.objectStore(hi),ye=yield Q.get(x),We=T(ye);return void 0===We?yield Q.delete(x):yield Q.put(We,x),yield G.done,We&&(!ye||ye.fid!==We.fid)&&bt(C,We.fid),We})).apply(this,arguments)}function U(C){return V.apply(this,arguments)}function V(){return(V=(0,O.Z)(function*(C){let T;const x=yield cr(C.appConfig,L=>{const G=q(L),Q=le(C,G);return T=Q.registrationPromise,Q.installationEntry});return""===x.fid?{installationEntry:yield T}:{installationEntry:x,registrationPromise:T}})).apply(this,arguments)}function q(C){return Ve(C||{fid:di(),registrationStatus:0})}function le(C,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(qt.create("app-offline"))};const x={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},L=function Y(C,T){return qe.apply(this,arguments)}(C,x);return{installationEntry:x,registrationPromise:L}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:At(C)}:{installationEntry:T}}function qe(){return(qe=(0,O.Z)(function*(C,T){try{const x=yield dt(C,T);return Un(C.appConfig,x)}catch(x){throw Kt(x)&&409===x.customData.serverCode?yield as(C.appConfig):yield Un(C.appConfig,{fid:T.fid,registrationStatus:0}),x}})).apply(this,arguments)}function At(C){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,O.Z)(function*(C){let T=yield fn(C.appConfig);for(;1===T.registrationStatus;)yield Vr(100),T=yield fn(C.appConfig);if(0===T.registrationStatus){const{installationEntry:x,registrationPromise:L}=yield U(C);return L||x}return T})).apply(this,arguments)}function fn(C){return cr(C,T=>{if(!T)throw qt.create("installation-not-found");return Ve(T)})}function Ve(C){return function lt(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function yt(C,T){return bn.apply(this,arguments)}function bn(){return(bn=(0,O.Z)(function*({appConfig:C,heartbeatServiceProvider:T},x){const L=ki(C,x),G=Ai(C,x),Q=T.getImmediate({optional:!0});if(Q){const pt=yield Q.getHeartbeatsHeader();pt&&G.append("x-firebase-client",pt)}const We={method:"POST",headers:G,body:JSON.stringify({installation:{sdkVersion:ke,appId:C.appId}})},Qe=yield ss(()=>fetch(L,We));if(Qe.ok)return Fn(yield Qe.json());throw yield zn("Generate Auth Token",Qe)})).apply(this,arguments)}function ki(C,{fid:T}){return`${tn(C)}/${T}/authTokens:generate`}function wn(C){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,O.Z)(function*(C,T=!1){let x;const L=yield cr(C.appConfig,Q=>{if(!Vt(Q))throw qt.create("not-registered");const ye=Q.authToken;if(!T&&un(ye))return Q;if(1===ye.requestStatus)return x=re(C,T),Q;{if(!navigator.onLine)throw qt.create("app-offline");const We=Jt(Q);return x=Ne(C,We),We}});return x?yield x:L.authToken})).apply(this,arguments)}function re(C,T){return te.apply(this,arguments)}function te(){return(te=(0,O.Z)(function*(C,T){let x=yield Oe(C.appConfig);for(;1===x.authToken.requestStatus;)yield Vr(100),x=yield Oe(C.appConfig);const L=x.authToken;return 0===L.requestStatus?wn(C,T):L})).apply(this,arguments)}function Oe(C){return cr(C,T=>{if(!Vt(T))throw qt.create("not-registered");return function Oi(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function Ne(C,T){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,O.Z)(function*(C,T){try{const x=yield yt(C,T),L=Object.assign(Object.assign({},T),{authToken:x});return yield Un(C.appConfig,L),x}catch(x){if(!Kt(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const L=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield Un(C.appConfig,L)}else yield as(C.appConfig);throw x}})).apply(this,arguments)}function Vt(C){return void 0!==C&&2===C.registrationStatus}function un(C){return 2===C.requestStatus&&!function Ln(C){const T=Date.now();return T<C.creationTime||C.creationTime+C.expiresIn<T+36e5}(C)}function Jt(C){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:T})}function ur(){return(ur=(0,O.Z)(function*(C){const T=C,{installationEntry:x,registrationPromise:L}=yield U(T);return L?L.catch(console.error):wn(T).catch(console.error),x.fid})).apply(this,arguments)}function Hl(){return(Hl=(0,O.Z)(function*(C,T=!1){const x=C;return yield En(x),(yield wn(x,T)).token})).apply(this,arguments)}function En(C){return ls.apply(this,arguments)}function ls(){return(ls=(0,O.Z)(function*(C){const{registrationPromise:T}=yield U(C);T&&(yield T)})).apply(this,arguments)}function fi(C){return qt.create("missing-app-config-values",{valueName:C})}const Yi="installations",$l=C=>{const T=C.getProvider("app").getImmediate(),x=function Ed(C){if(!C||!C.options)throw fi("App Configuration");if(!C.name)throw fi("App Name");const T=["projectId","apiKey","appId"];for(const x of T)if(!C.options[x])throw fi(x);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(T);return{app:T,appConfig:x,heartbeatServiceProvider:(0,ae._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},Ds=C=>{const T=C.getProvider("app").getImmediate(),x=(0,ae._getProvider)(T,Yi).getImmediate();return{getId:()=>function br(C){return ur.apply(this,arguments)}(x),getToken:G=>function Go(C){return Hl.apply(this,arguments)}(x,G)}};(function Hr(){(0,ae._registerComponent)(new ue.wA(Yi,$l,"PUBLIC")),(0,ae._registerComponent)(new ue.wA("installations-internal",Ds,"PRIVATE"))})(),(0,ae.registerVersion)(de,"0.6.4"),(0,ae.registerVersion)(de,"0.6.4","esm2017");const Zo="@firebase/remote-config",Sn=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class wr{constructor(T,x,L,G){this.client=T,this.storage=x,this.storageCache=L,this.logger=G}isCachedDataFresh(T,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-x,G=L<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${G}.`),G}fetch(T){var x=this;return(0,O.Z)(function*(){const[L,G]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(G&&x.isCachedDataFresh(T.cacheMaxAgeMillis,L))return G;T.eTag=G&&G.eTag;const Q=yield x.client.fetch(T),ye=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Q.status&&ye.push(x.storage.setLastSuccessfulFetchResponse(Q)),yield Promise.all(ye),Q})()}}function ql(C=navigator){return C.languages&&C.languages[0]||C.language}class Ba{constructor(T,x,L,G,Q,ye){this.firebaseInstallations=T,this.sdkVersion=x,this.namespace=L,this.projectId=G,this.apiKey=Q,this.appId=ye}fetch(T){var x=this;return(0,O.Z)(function*(){const[L,G]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),ye=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,We={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},Qe={sdk_version:x.sdkVersion,app_instance_id:L,app_instance_id_token:G,app_id:x.appId,language_code:ql()},pt={method:"POST",headers:We,body:JSON.stringify(Qe)},Nt=fetch(ye,pt),kt=new Promise((fr,Kr)=>{T.signal.addEventListener(()=>{const wi=new Error("The operation was aborted.");wi.name="AbortError",Kr(wi)})});let xr;try{yield Promise.race([Nt,kt]),xr=yield Nt}catch(fr){let Kr="fetch-client-network";throw"AbortError"===fr?.name&&(Kr="fetch-timeout"),Sn.create(Kr,{originalErrorMessage:fr?.message})}let bi=xr.status;const ca=xr.headers.get("ETag")||void 0;let ul,Ns;if(200===xr.status){let fr;try{fr=yield xr.json()}catch(Kr){throw Sn.create("fetch-client-parse",{originalErrorMessage:Kr?.message})}ul=fr.entries,Ns=fr.state}if("INSTANCE_STATE_UNSPECIFIED"===Ns?bi=500:"NO_CHANGE"===Ns?bi=304:("NO_TEMPLATE"===Ns||"EMPTY_CONFIG"===Ns)&&(ul={}),304!==bi&&200!==bi)throw Sn.create("fetch-status",{httpStatus:bi});return{status:bi,eTag:ca,config:ul}})()}}class Pf{constructor(T,x){this.client=T,this.storage=x}fetch(T){var x=this;return(0,O.Z)(function*(){const L=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(T,L)})()}attemptFetch(T,{throttleEndTimeMillis:x,backoffCount:L}){var G=this;return(0,O.Z)(function*(){yield function tu(C,T){return new Promise((x,L)=>{const G=Math.max(T-Date.now(),0),Q=setTimeout(x,G);C.addEventListener(()=>{clearTimeout(Q),L(Sn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,x);try{const Q=yield G.client.fetch(T);return yield G.storage.deleteThrottleMetadata(),Q}catch(Q){if(!function Wl(C){if(!(C instanceof oe.ZR&&C.customData))return!1;const T=Number(C.customData.httpStatus);return 429===T||500===T||503===T||504===T}(Q))throw Q;const ye={throttleEndTimeMillis:Date.now()+(0,oe.$s)(L),backoffCount:L+1};return yield G.storage.setThrottleMetadata(ye),G.attemptFetch(T,ye)}})()}}class Nf{constructor(T,x,L,G,Q){this.app=T,this._client=x,this._storageCache=L,this._storage=G,this._logger=Q,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function _i(C,T){const x=C.target.error||void 0;return Sn.create(T,{originalErrorMessage:x&&x?.message})}const Ui="app_namespace_store";class lE{constructor(T,x,L,G=function Yl(){return new Promise((C,T)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=L=>{T(_i(L,"storage-open"))},x.onsuccess=L=>{C(L.target.result)},x.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(Ui,{keyPath:"compositeKey"})}}catch(x){T(Sn.create("storage-open",{originalErrorMessage:x?.message}))}})}()){this.appId=T,this.appName=x,this.namespace=L,this.openDbPromise=G}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var x=this;return(0,O.Z)(function*(){const L=yield x.openDbPromise;return new Promise((G,Q)=>{const We=L.transaction([Ui],"readonly").objectStore(Ui),Qe=x.createCompositeKey(T);try{const pt=We.get(Qe);pt.onerror=Nt=>{Q(_i(Nt,"storage-get"))},pt.onsuccess=Nt=>{const kt=Nt.target.result;G(kt?kt.value:void 0)}}catch(pt){Q(Sn.create("storage-get",{originalErrorMessage:pt?.message}))}})})()}set(T,x){var L=this;return(0,O.Z)(function*(){const G=yield L.openDbPromise;return new Promise((Q,ye)=>{const Qe=G.transaction([Ui],"readwrite").objectStore(Ui),pt=L.createCompositeKey(T);try{const Nt=Qe.put({compositeKey:pt,value:x});Nt.onerror=kt=>{ye(_i(kt,"storage-set"))},Nt.onsuccess=()=>{Q()}}catch(Nt){ye(Sn.create("storage-set",{originalErrorMessage:Nt?.message}))}})})()}delete(T){var x=this;return(0,O.Z)(function*(){const L=yield x.openDbPromise;return new Promise((G,Q)=>{const We=L.transaction([Ui],"readwrite").objectStore(Ui),Qe=x.createCompositeKey(T);try{const pt=We.delete(Qe);pt.onerror=Nt=>{Q(_i(Nt,"storage-delete"))},pt.onsuccess=()=>{G()}}catch(pt){Q(Sn.create("storage-delete",{originalErrorMessage:pt?.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class qn{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,O.Z)(function*(){const x=T.storage.getLastFetchStatus(),L=T.storage.getLastSuccessfulFetchTimestampMillis(),G=T.storage.getActiveConfig(),Q=yield x;Q&&(T.lastFetchStatus=Q);const ye=yield L;ye&&(T.lastSuccessfulFetchTimestampMillis=ye);const We=yield G;We&&(T.activeConfig=We)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function Qi(){return nu.apply(this,arguments)}function nu(){return(nu=(0,O.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}!function Ss(){(0,ae._registerComponent)(new ue.wA("remote-config",function C(T,{instanceIdentifier:x}){const L=T.getProvider("app").getImmediate(),G=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Sn.create("registration-window");if(!(0,oe.hl)())throw Sn.create("indexed-db-unavailable");const{projectId:Q,apiKey:ye,appId:We}=L.options;if(!Q)throw Sn.create("registration-project-id");if(!ye)throw Sn.create("registration-api-key");if(!We)throw Sn.create("registration-app-id");const Qe=new lE(We,L.name,x=x||"firebase"),pt=new qn(Qe),Nt=new ne.Yd(Zo);Nt.logLevel=ne.in.ERROR;const kt=new Ba(G,ae.SDK_VERSION,x,Q,ye,We),xr=new Pf(kt,Qe),bi=new wr(xr,Qe,pt,Nt),ca=new Nf(L,bi,pt,Qe,Nt);return function _g(C){const T=(0,oe.m9)(C);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(ca),ca},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(Zo,"0.4.4"),(0,ae.registerVersion)(Zo,"0.4.4","esm2017")}();const Xl="/firebase-messaging-sw.js",Ua="/firebase-cloud-messaging-push-scope",Wn="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",$s="google.c.a.c_id",Rd="google.c.a.c_l",$r="google.c.a.ts",mo="google.c.a.e";var Et=(()=>{return(C=Et||(Et={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",Et;var C})();function cs(C){const T=new Uint8Array(C);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function kd(C){const x=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(x),G=new Uint8Array(L.length);for(let Q=0;Q<L.length;++Q)G[Q]=L.charCodeAt(Q);return G}const Ha="fcm_token_details_db",iu="fcm_token_object_Store";function Pd(C){return ja.apply(this,arguments)}function ja(){return ja=(0,O.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Q=>Q.name).includes(Ha))return null;let T=null;return(yield et(Ha,5,{upgrade:(L=(0,O.Z)(function*(G,Q,ye,We){var Qe;if(Q<2||!G.objectStoreNames.contains(iu))return;const pt=We.objectStore(iu),Nt=yield pt.index("fcmSenderId").get(C);if(yield pt.clear(),Nt)if(2===Q){const kt=Nt;if(!kt.auth||!kt.p256dh||!kt.endpoint)return;T={token:kt.fcmToken,createTime:null!==(Qe=kt.createTime)&&void 0!==Qe?Qe:Date.now(),subscriptionOptions:{auth:kt.auth,p256dh:kt.p256dh,endpoint:kt.endpoint,swScope:kt.swScope,vapidKey:"string"==typeof kt.vapidKey?kt.vapidKey:cs(kt.vapidKey)}}}else if(3===Q){const kt=Nt;T={token:kt.fcmToken,createTime:kt.createTime,subscriptionOptions:{auth:cs(kt.auth),p256dh:cs(kt.p256dh),endpoint:kt.endpoint,swScope:kt.swScope,vapidKey:cs(kt.vapidKey)}}}else if(4===Q){const kt=Nt;T={token:kt.fcmToken,createTime:kt.createTime,subscriptionOptions:{auth:cs(kt.auth),p256dh:cs(kt.p256dh),endpoint:kt.endpoint,swScope:kt.swScope,vapidKey:cs(kt.vapidKey)}}}}),function(Q,ye,We,Qe){return L.apply(this,arguments)})})).close(),yield ee(Ha),yield ee("fcm_vapid_details_db"),yield ee("undefined"),Nd(T)?T:null;var L}),ja.apply(this,arguments)}function Nd(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:T}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const us="firebase-messaging-store";let $a=null;function Hn(){return $a||($a=et("firebase-messaging-database",1,{upgrade:(C,T)=>{0===T&&C.createObjectStore(us)}})),$a}function Jl(C){return As.apply(this,arguments)}function As(){return(As=(0,O.Z)(function*(C){const T=Rn(C),L=yield(yield Hn()).transaction(us).objectStore(us).get(T);if(L)return L;{const G=yield Pd(C.appConfig.senderId);if(G)return yield Hi(C,G),G}})).apply(this,arguments)}function Hi(C,T){return go.apply(this,arguments)}function go(){return(go=(0,O.Z)(function*(C,T){const x=Rn(C),G=(yield Hn()).transaction(us,"readwrite");return yield G.objectStore(us).put(T,x),yield G.done,T})).apply(this,arguments)}function ru(C){return ec.apply(this,arguments)}function ec(){return(ec=(0,O.Z)(function*(C){const T=Rn(C),L=(yield Hn()).transaction(us,"readwrite");yield L.objectStore(us).delete(T),yield L.done})).apply(this,arguments)}function Rn({appConfig:C}){return C.appId}const yi=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Pi(C,T){return ds.apply(this,arguments)}function ds(){return(ds=(0,O.Z)(function*(C,T){const x=yield Fd(C),L=nc(T),G={method:"POST",headers:x,body:JSON.stringify(L)};let Q;try{Q=yield(yield fetch(zs(C.appConfig),G)).json()}catch(ye){throw yi.create("token-subscribe-failed",{errorInfo:ye?.toString()})}if(Q.error)throw yi.create("token-subscribe-failed",{errorInfo:Q.error.message});if(!Q.token)throw yi.create("token-subscribe-no-token");return Q.token})).apply(this,arguments)}function su(C,T){return zr.apply(this,arguments)}function zr(){return(zr=(0,O.Z)(function*(C,T){const x=yield Fd(C),L=nc(T.subscriptionOptions),G={method:"PATCH",headers:x,body:JSON.stringify(L)};let Q;try{Q=yield(yield fetch(`${zs(C.appConfig)}/${T.token}`,G)).json()}catch(ye){throw yi.create("token-update-failed",{errorInfo:ye?.toString()})}if(Q.error)throw yi.create("token-update-failed",{errorInfo:Q.error.message});if(!Q.token)throw yi.create("token-update-no-token");return Q.token})).apply(this,arguments)}function Cr(C,T){return tc.apply(this,arguments)}function tc(){return(tc=(0,O.Z)(function*(C,T){const L={method:"DELETE",headers:yield Fd(C)};try{const Q=yield(yield fetch(`${zs(C.appConfig)}/${T}`,L)).json();if(Q.error)throw yi.create("token-unsubscribe-failed",{errorInfo:Q.error.message})}catch(G){throw yi.create("token-unsubscribe-failed",{errorInfo:G?.toString()})}})).apply(this,arguments)}function zs({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function Fd(C){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,O.Z)(function*({appConfig:C,installations:T}){const x=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function nc({p256dh:C,auth:T,endpoint:x,vapidKey:L}){const G={web:{endpoint:x,auth:T,p256dh:C}};return L!==Wn&&(G.web.applicationPubKey=L),G}const za=6048e5;function ic(C){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,O.Z)(function*(C){const T=yield Bd(C.swRegistration,C.vapidKey),x={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:T.endpoint,auth:cs(T.getKey("auth")),p256dh:cs(T.getKey("p256dh"))},L=yield Jl(C.firebaseDependencies);if(L){if(Ud(L.subscriptionOptions,x))return Date.now()>=L.createTime+za?rc(C,{token:L.token,createTime:Date.now(),subscriptionOptions:x}):L.token;try{yield Cr(C.firebaseDependencies,L.token)}catch(G){console.warn(G)}return Vd(C.firebaseDependencies,x)}return Vd(C.firebaseDependencies,x)})).apply(this,arguments)}function Ld(C){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,O.Z)(function*(C){const T=yield Jl(C.firebaseDependencies);T&&(yield Cr(C.firebaseDependencies,T.token),yield ru(C.firebaseDependencies));const x=yield C.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function rc(C,T){return _o.apply(this,arguments)}function _o(){return(_o=(0,O.Z)(function*(C,T){try{const x=yield su(C.firebaseDependencies,T),L=Object.assign(Object.assign({},T),{token:x,createTime:Date.now()});return yield Hi(C.firebaseDependencies,L),x}catch(x){throw yield Ld(C),x}})).apply(this,arguments)}function Vd(C,T){return qa.apply(this,arguments)}function qa(){return(qa=(0,O.Z)(function*(C,T){const L={token:yield Pi(C,T),createTime:Date.now(),subscriptionOptions:T};return yield Hi(C,L),L.token})).apply(this,arguments)}function Bd(C,T){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,O.Z)(function*(C,T){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:kd(T)})})).apply(this,arguments)}function Ud(C,T){return T.vapidKey===C.vapidKey&&T.endpoint===C.endpoint&&T.auth===C.auth&&T.p256dh===C.p256dh}function Vf(C){const T={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Xi(C,T){if(!T.notification)return;C.notification={};const x=T.notification.title;x&&(C.notification.title=x);const L=T.notification.body;L&&(C.notification.body=L);const G=T.notification.image;G&&(C.notification.image=G);const Q=T.notification.icon;Q&&(C.notification.icon=Q)}(T,C),function Ms(C,T){!T.data||(C.data=T.data)}(T,C),function jn(C,T){var x,L,G,Q,ye;if(!(T.fcmOptions||null!==(x=T.notification)&&void 0!==x&&x.click_action))return;C.fcmOptions={};const We=null!==(G=null===(L=T.fcmOptions)||void 0===L?void 0:L.link)&&void 0!==G?G:null===(Q=T.notification)||void 0===Q?void 0:Q.click_action;We&&(C.fcmOptions.link=We);const Qe=null===(ye=T.fcmOptions)||void 0===ye?void 0:ye.analytics_label;Qe&&(C.fcmOptions.analyticsLabel=Qe)}(T,C),T}function Hd(C){return"object"==typeof C&&!!C&&$s in C}function Bf(C,T){const x=[];for(let L=0;L<C.length;L++)x.push(C.charAt(L)),L<T.length&&x.push(T.charAt(L));return x.join("")}function $d(C){return yi.create("missing-app-config-values",{valueName:C})}Bf("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Bf("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class zd{constructor(T,x,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const G=function jd(C){if(!C||!C.options)throw $d("App Configuration Object");if(!C.name)throw $d("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:x}=C;for(const L of T)if(!x[L])throw $d(L);return{appName:C.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:G,installations:x,analyticsProvider:L}}_delete(){return Promise.resolve()}}function Gd(C){return yo.apply(this,arguments)}function yo(){return(yo=(0,O.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(Xl,{scope:Ua}),C.swRegistration.update().catch(()=>{})}catch(T){throw yi.create("failed-service-worker-registration",{browserErrorMessage:T?.message})}})).apply(this,arguments)}function sc(C,T){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,O.Z)(function*(C,T){if(!T&&!C.swRegistration&&(yield Gd(C)),T||!C.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw yi.create("invalid-sw-registration");C.swRegistration=T}})).apply(this,arguments)}function qd(C,T){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,O.Z)(function*(C,T){T?C.vapidKey=T:C.vapidKey||(C.vapidKey=Wn)})).apply(this,arguments)}function xs(){return(xs=(0,O.Z)(function*(C,T){if(!navigator)throw yi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw yi.create("permission-blocked");return yield qd(C,T?.vapidKey),yield sc(C,T?.serviceWorkerRegistration),ic(C)})).apply(this,arguments)}function Za(C,T,x){return oc.apply(this,arguments)}function oc(){return(oc=(0,O.Z)(function*(C,T,x){const L=vg(T);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:x[$s],message_name:x[Rd],message_time:x[$r],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function vg(C){switch(C){case Et.NOTIFICATION_CLICKED:return"notification_open";case Et.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ka(){return(Ka=(0,O.Z)(function*(C,T){const x=T.data;if(!x.isFirebaseMessaging)return;C.onMessageHandler&&x.messageType===Et.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(Vf(x)):C.onMessageHandler.next(Vf(x)));const L=x.data;Hd(L)&&"1"===L[mo]&&(yield Za(C,x.messageType,L))})).apply(this,arguments)}const Hf="@firebase/messaging",Zd=C=>{const T=new zd(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function Rs(C,T){return Ka.apply(this,arguments)}(T,x)),T},ac=C=>{const T=C.getProvider("messaging").getImmediate();return{getToken:L=>function Uf(C,T){return xs.apply(this,arguments)}(T,L)}};function Ya(){return ou.apply(this,arguments)}function ou(){return(ou=(0,O.Z)(function*(){try{yield(0,oe.eu)()}catch{return!1}return typeof window<"u"&&(0,oe.hl)()&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function lc(){(0,ae._registerComponent)(new ue.wA("messaging",Zd,"PUBLIC")),(0,ae._registerComponent)(new ue.wA("messaging-internal",ac,"PRIVATE")),(0,ae.registerVersion)(Hf,"0.12.4"),(0,ae.registerVersion)(Hf,"0.12.4","esm2017")}();const fs="analytics",qs="firebase_id",Ir="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",cu="https://www.googletagmanager.com/gtag/js",Vn=new ne.Yd("@firebase/analytics"),ai=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Xo(C){if(!C.startsWith(cu)){const T=ai.create("invalid-gtag-resource",{gtagURL:C});return Vn.warn(T.message),""}return C}function Xa(C){return Promise.all(C.map(T=>T.catch(x=>x)))}function hc(C,T){const x=function vo(C,T){let x;return window.trustedTypes&&(x=window.trustedTypes.createPolicy(C,T)),x}("firebase-js-sdk-policy",{createScriptURL:Xo}),L=document.createElement("script"),G=`${cu}?l=${C}&id=${T}`;L.src=x?x?.createScriptURL(G):G,L.async=!0,document.head.appendChild(L)}function Ja(C,T,x,L,G,Q){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,O.Z)(function*(C,T,x,L,G,Q){const ye=L[G];try{if(ye)yield T[ye];else{const Qe=(yield Xa(x)).find(pt=>pt.measurementId===G);Qe&&(yield T[Qe.appId])}}catch(We){Vn.error(We)}C("config",G,Q)})).apply(this,arguments)}function bg(C,T,x,L,G){return ps.apply(this,arguments)}function ps(){return(ps=(0,O.Z)(function*(C,T,x,L,G){try{let Q=[];if(G&&G.send_to){let ye=G.send_to;Array.isArray(ye)||(ye=[ye]);const We=yield Xa(x);for(const Qe of ye){const pt=We.find(kt=>kt.measurementId===Qe),Nt=pt&&T[pt.appId];if(!Nt){Q=[];break}Q.push(Nt)}}0===Q.length&&(Q=Object.values(T)),yield Promise.all(Q),C("event",L,G||{})}catch(Q){Vn.error(Q)}})).apply(this,arguments)}function Kd(C){const T=window.document.getElementsByTagName("script");for(const x of Object.values(T))if(x.src&&x.src.includes(cu)&&x.src.includes(C))return x;return null}const $n=new class zf{constructor(T={},x=1e3){this.throttleMetadata=T,this.intervalMillis=x}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,x){this.throttleMetadata[T]=x}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function du(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function tl(C){return hu.apply(this,arguments)}function hu(){return(hu=(0,O.Z)(function*(C){var T;const{appId:x,apiKey:L}=C,G={method:"GET",headers:du(L)},Q=Ir.replace("{app-id}",x),ye=yield fetch(Q,G);if(200!==ye.status&&304!==ye.status){let We="";try{const Qe=yield ye.json();null!==(T=Qe.error)&&void 0!==T&&T.message&&(We=Qe.error.message)}catch{}throw ai.create("config-fetch-failed",{httpStatus:ye.status,responseMessage:We})}return ye.json()})).apply(this,arguments)}function fc(C){return ks.apply(this,arguments)}function ks(){return(ks=(0,O.Z)(function*(C,T=$n,x){const{appId:L,apiKey:G,measurementId:Q}=C.options;if(!L)throw ai.create("no-app-id");if(!G){if(Q)return{measurementId:Q,appId:L};throw ai.create("no-api-key")}const ye=T.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},We=new Zs;return setTimeout((0,O.Z)(function*(){We.abort()}),void 0!==x?x:6e4),ea({appId:L,apiKey:G,measurementId:Q},ye,We,T)})).apply(this,arguments)}function ea(C,T,x){return Os.apply(this,arguments)}function Os(){return(Os=(0,O.Z)(function*(C,{throttleEndTimeMillis:T,backoffCount:x},L,G=$n){var Q;const{appId:ye,measurementId:We}=C;try{yield Qd(L,T)}catch(Qe){if(We)return Vn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${We} provided in the "measurementId" field in the local Firebase config. [${Qe?.message}]`),{appId:ye,measurementId:We};throw Qe}try{const Qe=yield tl(C);return G.deleteThrottleMetadata(ye),Qe}catch(Qe){const pt=Qe;if(!ta(pt)){if(G.deleteThrottleMetadata(ye),We)return Vn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${We} provided in the "measurementId" field in the local Firebase config. [${pt?.message}]`),{appId:ye,measurementId:We};throw Qe}const Nt=503===Number(null===(Q=pt?.customData)||void 0===Q?void 0:Q.httpStatus)?(0,oe.$s)(x,G.intervalMillis,30):(0,oe.$s)(x,G.intervalMillis),kt={throttleEndTimeMillis:Date.now()+Nt,backoffCount:x+1};return G.setThrottleMetadata(ye,kt),Vn.debug(`Calling attemptFetch again in ${Nt} millis`),ea(C,kt,L,G)}})).apply(this,arguments)}function Qd(C,T){return new Promise((x,L)=>{const G=Math.max(T-Date.now(),0),Q=setTimeout(x,G);C.addEventListener(()=>{clearTimeout(Q),L(ai.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function ta(C){if(!(C instanceof oe.ZR&&C.customData))return!1;const T=Number(C.customData.httpStatus);return 429===T||500===T||503===T||504===T}class Zs{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let na,ei;function dn(){return(dn=(0,O.Z)(function*(C,T,x,L,G){if(G&&G.global)C("event",x,L);else{const Q=yield T;C("event",x,Object.assign(Object.assign({},L),{send_to:Q}))}})).apply(this,arguments)}function il(C){ei=C}function hr(C){na=C}function wg(){return mu.apply(this,arguments)}function mu(){return(mu=(0,O.Z)(function*(){if(!(0,oe.hl)())return Vn.warn(ai.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(C){return Vn.warn(ai.create("indexeddb-unavailable",{errorInfo:C?.toString()}).message),!1}return!0})).apply(this,arguments)}function Dr(){return(Dr=(0,O.Z)(function*(C,T,x,L,G,Q,ye){var We;const Qe=fc(C);Qe.then(bi=>{x[bi.measurementId]=bi.appId,C.options.measurementId&&bi.measurementId!==C.options.measurementId&&Vn.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${bi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(bi=>Vn.error(bi)),T.push(Qe);const pt=wg().then(bi=>{if(bi)return L.getId()}),[Nt,kt]=yield Promise.all([Qe,pt]);Kd(Q)||hc(Q,Nt.measurementId),ei&&(G("consent","default",ei),il(void 0)),G("js",new Date);const xr=null!==(We=ye?.config)&&void 0!==We?We:{};return xr.origin="firebase",xr.update=!0,null!=kt&&(xr[qs]=kt),G("config",Nt.measurementId,xr),na&&(G("set",na),hr(void 0)),Nt.measurementId})).apply(this,arguments)}class Zf{constructor(T){this.app=T}_delete(){return delete Tr[this.app.options.appId],Promise.resolve()}}let Tr={},wo=[];const gu={};let Eg,Ks,_u="dataLayer",mc=!1;function rl(C,T,x){!function Jd(){const C=[];if((0,oe.ru)()&&C.push("This is a browser extension environment."),(0,oe.zI)()||C.push("Cookies are not available."),C.length>0){const T=C.map((L,G)=>`(${G+1}) ${L}`).join(" "),x=ai.create("invalid-analytics-context",{errorInfo:T});Vn.warn(x.message)}}();const L=C.options.appId;if(!L)throw ai.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw ai.create("no-api-key");Vn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Tr[L])throw ai.create("already-exists",{id:L});if(!mc){!function $f(C){let T=[];Array.isArray(window[C])?T=window[C]:window[C]=T}(_u);const{wrappedGtag:Q,gtagCore:ye}=function Ws(C,T,x,L,G){let Q=function(...ye){window[L].push(arguments)};return window[G]&&"function"==typeof window[G]&&(Q=window[G]),window[G]=function el(C,T,x,L){function Q(){return(Q=(0,O.Z)(function*(ye,...We){try{if("event"===ye){const[Qe,pt]=We;yield bg(C,T,x,Qe,pt)}else if("config"===ye){const[Qe,pt]=We;yield Ja(C,T,x,L,Qe,pt)}else if("consent"===ye){const[Qe]=We;C("consent","update",Qe)}else if("get"===ye){const[Qe,pt,Nt]=We;C("get",Qe,pt,Nt)}else if("set"===ye){const[Qe]=We;C("set",Qe)}else C(ye,...We)}catch(Qe){Vn.error(Qe)}})).apply(this,arguments)}return function G(ye){return Q.apply(this,arguments)}}(Q,C,T,x),{gtagCore:Q,wrappedGtag:window[G]}}(Tr,wo,gu,_u,"gtag");Ks=Q,Eg=ye,mc=!0}return Tr[L]=function pi(C,T,x,L,G,Q,ye){return Dr.apply(this,arguments)}(C,wo,gu,T,Eg,_u,x),new Zf(C)}function eh(){return th.apply(this,arguments)}function th(){return(th=(0,O.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}const Eo="@firebase/analytics";!function Xf(){(0,ae._registerComponent)(new ue.wA(fs,(T,{options:x})=>rl(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,ae._registerComponent)(new ue.wA("analytics-internal",function C(T){try{const x=T.getProvider(fs).getImmediate();return{logEvent:(L,G,Q)=>function rn(C,T,x,L){C=(0,oe.m9)(C),function nl(C,T,x,L,G){return dn.apply(this,arguments)}(Ks,Tr[C.app.options.appId],T,x,L).catch(G=>Vn.error(G))}(x,L,G,Q)}}catch(x){throw ai.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,ae.registerVersion)(Eo,"0.10.0"),(0,ae.registerVersion)(Eo,"0.10.0","esm2017")}();var Jf=P(4408),sa=P(7565);const oa=new class Ar extends sa.v{}(class ol extends Jf.o{constructor(T,x){super(T,x),this.scheduler=T,this.work=x}schedule(T,x=0){return x>0?super.schedule(T,x):(this.delay=x,this.state=T,this.scheduler.flush(this),this)}execute(T,x){return x>0||this.closed?super.execute(T,x):this._execute(T,x)}requestAsyncId(T,x,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(T,x,L):(T.flush(this),0)}});var ft=P(4986),gc=P(8505),vu=P(9468),Ps=P(5363);const _c=new c.GfV("7.5.0"),yc="__angularfire_symbol__analyticsIsSupportedValue",Ys="__angularfire_symbol__analyticsIsSupported",Wr="__angularfire_symbol__remoteConfigIsSupportedValue",vi="__angularfire_symbol__remoteConfigIsSupported",aa="__angularfire_symbol__messagingIsSupportedValue",ms="__angularfire_symbol__messagingIsSupported";function bu(C,T,x){if(T){if(1===T.length)return T[0];const Q=T.filter(ye=>ye.app===x);if(1===Q.length)return Q[0]}return x.container.getProvider(C).getImmediate({optional:!0})}globalThis[Ys]||(globalThis[Ys]=eh().then(C=>globalThis[yc]=C).catch(()=>globalThis[yc]=!1)),globalThis[ms]||(globalThis[ms]=Ya().then(C=>globalThis[aa]=C).catch(()=>globalThis[aa]=!1)),globalThis[vi]||(globalThis[vi]=Qi().then(C=>globalThis[Wr]=C).catch(()=>globalThis[Wr]=!1));const Xs=(C,T)=>{const x=T?[T]:(0,X.C6)(),L=[];return x.forEach(G=>{G.container.getProvider(C).instances.forEach(ye=>{L.includes(ye)||L.push(ye)})}),L};function Co(){}class kn{constructor(T,x=oa){this.zone=T,this.delegate=x}now(){return this.delegate.now()}schedule(T,x,L){const G=this.zone;return this.delegate.schedule(function(ye){G.runGuarded(()=>{T.apply(this,[ye])})},x,L)}}class Mr{constructor(T){this.zone=T,this.task=null}call(T,x){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Co,{},Co,Co)),x.pipe((0,gc.b)({next:L,complete:L,error:L})).subscribe(T).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let tp=(()=>{class C{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new kn(Zone.current)),this.insideAngular=x.run(()=>new kn(Zone.current,ft.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(x){return new(x||C)(c.LFG(c.R0b))},C.\u0275prov=c.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function Zr(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function ll(C){return Zr(),function cl(C){return function(x){return(x=x.lift(new Mr(C.ngZone))).pipe((0,vu.R)(C.outsideAngular),(0,Ps.Q)(C.insideAngular))}}(Zr())(C)}},2090:(mt,Te,P)=>{P.d(Te,{$s:()=>as,BH:()=>fe,G6:()=>ke,L:()=>he,LL:()=>Ue,Pz:()=>be,Sg:()=>Ge,UG:()=>ee,US:()=>ue,ZB:()=>Z,ZR:()=>Ft,aH:()=>Pe,b$:()=>Zt,eu:()=>Ie,hl:()=>Le,jU:()=>xt,m9:()=>Ki,ne:()=>ln,pd:()=>di,r3:()=>Lr,ru:()=>ut,tV:()=>$,uI:()=>et,vZ:()=>Wi,w1:()=>de,xO:()=>$o,xb:()=>jo,z$:()=>He,zI:()=>Rt,zd:()=>vr});const ae=function(U){const V=[];let q=0;for(let le=0;le<U.length;le++){let Y=U.charCodeAt(le);Y<128?V[q++]=Y:Y<2048?(V[q++]=Y>>6|192,V[q++]=63&Y|128):55296==(64512&Y)&&le+1<U.length&&56320==(64512&U.charCodeAt(le+1))?(Y=65536+((1023&Y)<<10)+(1023&U.charCodeAt(++le)),V[q++]=Y>>18|240,V[q++]=Y>>12&63|128,V[q++]=Y>>6&63|128,V[q++]=63&Y|128):(V[q++]=Y>>12|224,V[q++]=Y>>6&63|128,V[q++]=63&Y|128)}return V},ue={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,V){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,le=[];for(let Y=0;Y<U.length;Y+=3){const qe=U[Y],At=Y+1<U.length,Lt=At?U[Y+1]:0,fn=Y+2<U.length,Ve=fn?U[Y+2]:0;let bn=(15&Lt)<<2|Ve>>6,ki=63&Ve;fn||(ki=64,At||(bn=64)),le.push(q[qe>>2],q[(3&qe)<<4|Lt>>4],q[bn],q[ki])}return le.join("")},encodeString(U,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(U):this.encodeByteArray(ae(U),V)},decodeString(U,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(U):function(U){const V=[];let q=0,le=0;for(;q<U.length;){const Y=U[q++];if(Y<128)V[le++]=String.fromCharCode(Y);else if(Y>191&&Y<224){const qe=U[q++];V[le++]=String.fromCharCode((31&Y)<<6|63&qe)}else if(Y>239&&Y<365){const fn=((7&Y)<<18|(63&U[q++])<<12|(63&U[q++])<<6|63&U[q++])-65536;V[le++]=String.fromCharCode(55296+(fn>>10)),V[le++]=String.fromCharCode(56320+(1023&fn))}else{const qe=U[q++],At=U[q++];V[le++]=String.fromCharCode((15&Y)<<12|(63&qe)<<6|63&At)}}return V.join("")}(this.decodeStringToByteArray(U,V))},decodeStringToByteArray(U,V){this.init_();const q=V?this.charToByteMapWebSafe_:this.charToByteMap_,le=[];for(let Y=0;Y<U.length;){const qe=q[U.charAt(Y++)],Lt=Y<U.length?q[U.charAt(Y)]:0;++Y;const Ve=Y<U.length?q[U.charAt(Y)]:64;++Y;const yt=Y<U.length?q[U.charAt(Y)]:64;if(++Y,null==qe||null==Lt||null==Ve||null==yt)throw new ne;le.push(qe<<2|Lt>>4),64!==Ve&&(le.push(Lt<<4&240|Ve>>2),64!==yt&&le.push(Ve<<6&192|yt))}return le},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}};class ne extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const he=function(U){return function(U){const V=ae(U);return ue.encodeByteArray(V,!0)}(U).replace(/\./g,"")},$=function(U){try{return ue.decodeString(U,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function Z(U,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return V}for(const q in V)!V.hasOwnProperty(q)||!ze(q)||(U[q]=Z(U[q],V[q]));return U}function ze(U){return"__proto__"!==U}const me=()=>{try{return function xe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const U=process.env.__FIREBASE_DEFAULTS__;return U?JSON.parse(U):void 0})()||(()=>{if(typeof document>"u")return;let U;try{U=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const V=U&&$(U[1]);return V&&JSON.parse(V)})()}catch(U){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${U}`)}},Pe=()=>{var U;return null===(U=me())||void 0===U?void 0:U.config},be=U=>{var V;return null===(V=me())||void 0===V?void 0:V[`_${U}`]};class fe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,q)=>{this.resolve=V,this.reject=q})}wrapCallback(V){return(q,le)=>{q?this.reject(q):this.resolve(le),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(q):V(q,le))}}}function Ge(U,V){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const le=V||"demo-project",Y=U.iat||0,qe=U.sub||U.user_id;if(!qe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const At=Object.assign({iss:`https://securetoken.google.com/${le}`,aud:le,iat:Y,exp:Y+3600,auth_time:Y,sub:qe,user_id:qe,firebase:{sign_in_provider:"custom",identities:{}}},U);return[he(JSON.stringify({alg:"none",type:"JWT"})),he(JSON.stringify(At)),""].join(".")}function He(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function et(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(He())}function ee(){var U;const V=null===(U=me())||void 0===U?void 0:U.forceEnvironment;if("node"===V)return!0;if("browser"===V)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function xt(){return"object"==typeof self&&self.self===self}function ut(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function Zt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function de(){const U=He();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function ke(){return!ee()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Le(){try{return"object"==typeof indexedDB}catch{return!1}}function Ie(){return new Promise((U,V)=>{try{let q=!0;const le="validate-browser-context-for-indexeddb-analytics-module",Y=self.indexedDB.open(le);Y.onsuccess=()=>{Y.result.close(),q||self.indexedDB.deleteDatabase(le),U(!0)},Y.onupgradeneeded=()=>{q=!1},Y.onerror=()=>{var qe;V((null===(qe=Y.error)||void 0===qe?void 0:qe.message)||"")}}catch(q){V(q)}})}function Rt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ft extends Error{constructor(V,q,le){super(q),this.code=V,this.customData=le,this.name="FirebaseError",Object.setPrototypeOf(this,Ft.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ue.prototype.create)}}class Ue{constructor(V,q,le){this.service=V,this.serviceName=q,this.errors=le}create(V,...q){const le=q[0]||{},Y=`${this.service}/${V}`,qe=this.errors[V],At=qe?function qt(U,V){return U.replace(Kt,(q,le)=>{const Y=V[le];return null!=Y?String(Y):`<${le}?>`})}(qe,le):"Error";return new Ft(Y,`${this.serviceName}: ${At} (${Y}).`,le)}}const Kt=/\{\$([^}]+)}/g;function Lr(U,V){return Object.prototype.hasOwnProperty.call(U,V)}function jo(U){for(const V in U)if(Object.prototype.hasOwnProperty.call(U,V))return!1;return!0}function Wi(U,V){if(U===V)return!0;const q=Object.keys(U),le=Object.keys(V);for(const Y of q){if(!le.includes(Y))return!1;const qe=U[Y],At=V[Y];if(Vr(qe)&&Vr(At)){if(!Wi(qe,At))return!1}else if(qe!==At)return!1}for(const Y of le)if(!q.includes(Y))return!1;return!0}function Vr(U){return null!==U&&"object"==typeof U}function $o(U){const V=[];for(const[q,le]of Object.entries(U))Array.isArray(le)?le.forEach(Y=>{V.push(encodeURIComponent(q)+"="+encodeURIComponent(Y))}):V.push(encodeURIComponent(q)+"="+encodeURIComponent(le));return V.length?"&"+V.join("&"):""}function vr(U){const V={};return U.replace(/^\?/,"").split("&").forEach(le=>{if(le){const[Y,qe]=le.split("=");V[decodeURIComponent(Y)]=decodeURIComponent(qe)}}),V}function di(U){const V=U.indexOf("?");if(!V)return"";const q=U.indexOf("#",V);return U.substring(V,q>0?q:void 0)}function ln(U,V){const q=new nt(U,V);return q.subscribe.bind(q)}class nt{constructor(V,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{V(this)}).catch(le=>{this.error(le)})}next(V){this.forEachObserver(q=>{q.next(V)})}error(V){this.forEachObserver(q=>{q.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,q,le){let Y;if(void 0===V&&void 0===q&&void 0===le)throw new Error("Missing Observer.");Y=function vn(U,V){if("object"!=typeof U||null===U)return!1;for(const q of V)if(q in U&&"function"==typeof U[q])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:q,complete:le},void 0===Y.next&&(Y.next=os),void 0===Y.error&&(Y.error=os),void 0===Y.complete&&(Y.complete=os);const qe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Y.error(this.finalError):Y.complete()}catch{}}),this.observers.push(Y),qe}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,V)}sendOne(V,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{q(this.observers[V])}catch(le){typeof console<"u"&&console.error&&console.error(le)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function os(){}function as(U,V=1e3,q=2){const le=V*Math.pow(q,U),Y=Math.round(.5*le*(Math.random()-.5)*2);return Math.min(144e5,le+Y)}function Ki(U){return U&&U._delegate?U._delegate:U}},8438:(mt,Te,P)=>{var c=P(4650);let X=null;function O(){return X}const ne=new c.OlP("DocumentToken");let ve=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function he(){return(0,c.LFG)(j)}()},providedIn:"platform"}),n})();const $=new c.OlP("Location Initialized");let j=(()=>{class n extends ve{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){Z()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){Z()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ne))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function ze(){return new j((0,c.LFG)(ne))}()},providedIn:"platform"}),n})();function Z(){return!!window.history.pushState}function xe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ce(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function rt(n){return n&&"?"!==n[0]?"?"+n:n}let ge=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(_t)},providedIn:"root"}),n})();const me=new c.OlP("appBaseHref");let _t=(()=>{class n extends ge{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(ne).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return xe(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+rt(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,a){const u=this.prepareExternalUrl(r+rt(a));this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,a){const u=this.prepareExternalUrl(r+rt(a));this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ve),c.LFG(me,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),It=(()=>{class n extends ge{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=xe(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,a){let u=this.prepareExternalUrl(r+rt(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,a){let u=this.prepareExternalUrl(r+rt(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ve),c.LFG(me,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Pe=(()=>{class n{constructor(t){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._baseHref=Ce(Ge(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+rt(i))}normalize(t){return n.stripTrailingSlash(function fe(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ge(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+rt(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+rt(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=rt,n.joinWithSlash=xe,n.stripTrailingSlash=Ce,n.\u0275fac=function(t){return new(t||n)(c.LFG(ge))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function be(){return new Pe((0,c.LFG)(ge))}()},providedIn:"root"}),n})();function Ge(n){return n.replace(/\/index.html$/,"")}const He={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var et=(()=>((et=et||{})[et.Decimal=0]="Decimal",et[et.Percent=1]="Percent",et[et.Currency=2]="Currency",et[et.Scientific=3]="Scientific",et))(),xt=(()=>((xt=xt||{})[xt.Format=0]="Format",xt[xt.Standalone=1]="Standalone",xt))(),ut=(()=>((ut=ut||{})[ut.Narrow=0]="Narrow",ut[ut.Abbreviated=1]="Abbreviated",ut[ut.Wide=2]="Wide",ut[ut.Short=3]="Short",ut))(),Zt=(()=>((Zt=Zt||{})[Zt.Short=0]="Short",Zt[Zt.Medium=1]="Medium",Zt[Zt.Long=2]="Long",Zt[Zt.Full=3]="Full",Zt))(),at=(()=>((at=at||{})[at.Decimal=0]="Decimal",at[at.Group=1]="Group",at[at.List=2]="List",at[at.PercentSign=3]="PercentSign",at[at.PlusSign=4]="PlusSign",at[at.MinusSign=5]="MinusSign",at[at.Exponential=6]="Exponential",at[at.SuperscriptingExponent=7]="SuperscriptingExponent",at[at.PerMille=8]="PerMille",at[at.Infinity=9]="Infinity",at[at.NaN=10]="NaN",at[at.TimeSeparator=11]="TimeSeparator",at[at.CurrencyDecimal=12]="CurrencyDecimal",at[at.CurrencyGroup=13]="CurrencyGroup",at))();function Ft(n,e){return dt((0,c.cg1)(n)[c.wAp.DateFormat],e)}function Ue(n,e){return dt((0,c.cg1)(n)[c.wAp.TimeFormat],e)}function qt(n,e){return dt((0,c.cg1)(n)[c.wAp.DateTimeFormat],e)}function Kt(n,e){const t=(0,c.cg1)(n),i=t[c.wAp.NumberSymbols][e];if(typeof i>"u"){if(e===at.CurrencyDecimal)return t[c.wAp.NumberSymbols][at.Decimal];if(e===at.CurrencyGroup)return t[c.wAp.NumberSymbols][at.Group]}return i}function ss(n){if(!n[c.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[c.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function dt(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Wi(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const vr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,di={},Mn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ln=(()=>((ln=ln||{})[ln.Short=0]="Short",ln[ln.ShortGMT=1]="ShortGMT",ln[ln.Long=2]="Long",ln[ln.Extended=3]="Extended",ln))(),nt=(()=>((nt=nt||{})[nt.FullYear=0]="FullYear",nt[nt.Month=1]="Month",nt[nt.Date=2]="Date",nt[nt.Hours=3]="Hours",nt[nt.Minutes=4]="Minutes",nt[nt.Seconds=5]="Seconds",nt[nt.FractionalSeconds=6]="FractionalSeconds",nt[nt.Day=7]="Day",nt))(),bt=(()=>((bt=bt||{})[bt.DayPeriods=0]="DayPeriods",bt[bt.Days=1]="Days",bt[bt.Months=2]="Months",bt[bt.Eras=3]="Eras",bt))();function vn(n,e,t,i){let r=function Y(n){if(At(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,a=1,u=1]=n.split("-").map(f=>+f);return os(r,a-1,u)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(vr))return function qe(n){const e=new Date(0);let t=0,i=0;const r=n[8]?e.setUTCFullYear:e.setFullYear,a=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const u=Number(n[4]||0)-t,f=Number(n[5]||0)-i,_=Number(n[6]||0),w=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return a.call(e,u,f,_,w),e}(i)}const e=new Date(n);if(!At(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=lr(t,e)||e;let f,u=[];for(;e;){if(f=Mn.exec(e),!f){u.push(e);break}{u=u.concat(f.slice(1));const I=u.pop();if(!I)break;e=I}}let _=r.getTimezoneOffset();i&&(_=V(i,_),r=function le(n,e,t){const i=t?-1:1,r=n.getTimezoneOffset();return function q(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,i*(V(e,r)-r))}(r,i,!0));let w="";return u.forEach(I=>{const A=function U(n){if(Ki[n])return Ki[n];let e;switch(n){case"G":case"GG":case"GGG":e=cn(bt.Eras,ut.Abbreviated);break;case"GGGG":e=cn(bt.Eras,ut.Wide);break;case"GGGGG":e=cn(bt.Eras,ut.Narrow);break;case"y":e=_n(nt.FullYear,1,0,!1,!0);break;case"yy":e=_n(nt.FullYear,2,0,!0,!0);break;case"yyy":e=_n(nt.FullYear,3,0,!1,!0);break;case"yyyy":e=_n(nt.FullYear,4,0,!1,!0);break;case"Y":e=cr(1);break;case"YY":e=cr(2,!0);break;case"YYY":e=cr(3);break;case"YYYY":e=cr(4);break;case"M":case"L":e=_n(nt.Month,1,1);break;case"MM":case"LL":e=_n(nt.Month,2,1);break;case"MMM":e=cn(bt.Months,ut.Abbreviated);break;case"MMMM":e=cn(bt.Months,ut.Wide);break;case"MMMMM":e=cn(bt.Months,ut.Narrow);break;case"LLL":e=cn(bt.Months,ut.Abbreviated,xt.Standalone);break;case"LLLL":e=cn(bt.Months,ut.Wide,xt.Standalone);break;case"LLLLL":e=cn(bt.Months,ut.Narrow,xt.Standalone);break;case"w":e=Gn(1);break;case"ww":e=Gn(2);break;case"W":e=Gn(1,!0);break;case"d":e=_n(nt.Date,1);break;case"dd":e=_n(nt.Date,2);break;case"c":case"cc":e=_n(nt.Day,1);break;case"ccc":e=cn(bt.Days,ut.Abbreviated,xt.Standalone);break;case"cccc":e=cn(bt.Days,ut.Wide,xt.Standalone);break;case"ccccc":e=cn(bt.Days,ut.Narrow,xt.Standalone);break;case"cccccc":e=cn(bt.Days,ut.Short,xt.Standalone);break;case"E":case"EE":case"EEE":e=cn(bt.Days,ut.Abbreviated);break;case"EEEE":e=cn(bt.Days,ut.Wide);break;case"EEEEE":e=cn(bt.Days,ut.Narrow);break;case"EEEEEE":e=cn(bt.Days,ut.Short);break;case"a":case"aa":case"aaa":e=cn(bt.DayPeriods,ut.Abbreviated);break;case"aaaa":e=cn(bt.DayPeriods,ut.Wide);break;case"aaaaa":e=cn(bt.DayPeriods,ut.Narrow);break;case"b":case"bb":case"bbb":e=cn(bt.DayPeriods,ut.Abbreviated,xt.Standalone,!0);break;case"bbbb":e=cn(bt.DayPeriods,ut.Wide,xt.Standalone,!0);break;case"bbbbb":e=cn(bt.DayPeriods,ut.Narrow,xt.Standalone,!0);break;case"B":case"BB":case"BBB":e=cn(bt.DayPeriods,ut.Abbreviated,xt.Format,!0);break;case"BBBB":e=cn(bt.DayPeriods,ut.Wide,xt.Format,!0);break;case"BBBBB":e=cn(bt.DayPeriods,ut.Narrow,xt.Format,!0);break;case"h":e=_n(nt.Hours,1,-12);break;case"hh":e=_n(nt.Hours,2,-12);break;case"H":e=_n(nt.Hours,1);break;case"HH":e=_n(nt.Hours,2);break;case"m":e=_n(nt.Minutes,1);break;case"mm":e=_n(nt.Minutes,2);break;case"s":e=_n(nt.Seconds,1);break;case"ss":e=_n(nt.Seconds,2);break;case"S":e=_n(nt.FractionalSeconds,1);break;case"SS":e=_n(nt.FractionalSeconds,2);break;case"SSS":e=_n(nt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=xi(ln.Short);break;case"ZZZZZ":e=xi(ln.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=xi(ln.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=xi(ln.Long);break;default:return null}return Ki[n]=e,e}(I);w+=A?A(r,t,_):"''"===I?"'":I.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),w}function os(n,e,t){const i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function lr(n,e){const t=function pe(n){return(0,c.cg1)(n)[c.wAp.LocaleId]}(n);if(di[t]=di[t]||{},di[t][e])return di[t][e];let i="";switch(e){case"shortDate":i=Ft(n,Zt.Short);break;case"mediumDate":i=Ft(n,Zt.Medium);break;case"longDate":i=Ft(n,Zt.Long);break;case"fullDate":i=Ft(n,Zt.Full);break;case"shortTime":i=Ue(n,Zt.Short);break;case"mediumTime":i=Ue(n,Zt.Medium);break;case"longTime":i=Ue(n,Zt.Long);break;case"fullTime":i=Ue(n,Zt.Full);break;case"short":const r=lr(n,"shortTime"),a=lr(n,"shortDate");i=oi(qt(n,Zt.Short),[r,a]);break;case"medium":const u=lr(n,"mediumTime"),f=lr(n,"mediumDate");i=oi(qt(n,Zt.Medium),[u,f]);break;case"long":const _=lr(n,"longTime"),w=lr(n,"longDate");i=oi(qt(n,Zt.Long),[_,w]);break;case"full":const I=lr(n,"fullTime"),A=lr(n,"fullDate");i=oi(qt(n,Zt.Full),[I,A])}return i&&(di[t][e]=i),i}function oi(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),n}function Tt(n,e,t="-",i,r){let a="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,a=t));let u=String(n);for(;u.length<e;)u="0"+u;return i&&(u=u.slice(u.length-e)),a+u}function _n(n,e,t=0,i=!1,r=!1){return function(a,u){let f=function zo(n,e){switch(n){case nt.FullYear:return e.getFullYear();case nt.Month:return e.getMonth();case nt.Date:return e.getDate();case nt.Hours:return e.getHours();case nt.Minutes:return e.getMinutes();case nt.Seconds:return e.getSeconds();case nt.FractionalSeconds:return e.getMilliseconds();case nt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,a);if((t>0||f>-t)&&(f+=t),n===nt.Hours)0===f&&-12===t&&(f=12);else if(n===nt.FractionalSeconds)return function Mi(n,e){return Tt(n,3).substring(0,e)}(f,e);const _=Kt(u,at.MinusSign);return Tt(f,e,_,i,r)}}function cn(n,e,t=xt.Format,i=!1){return function(r,a){return function hi(n,e,t,i,r,a){switch(t){case bt.Months:return function Le(n,e,t){const i=(0,c.cg1)(n),a=dt([i[c.wAp.MonthsFormat],i[c.wAp.MonthsStandalone]],e);return dt(a,t)}(e,r,i)[n.getMonth()];case bt.Days:return function ke(n,e,t){const i=(0,c.cg1)(n),a=dt([i[c.wAp.DaysFormat],i[c.wAp.DaysStandalone]],e);return dt(a,t)}(e,r,i)[n.getDay()];case bt.DayPeriods:const u=n.getHours(),f=n.getMinutes();if(a){const w=function Lr(n){const e=(0,c.cg1)(n);return ss(e),(e[c.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?Wi(i):[Wi(i[0]),Wi(i[1])])}(e),I=function Va(n,e,t){const i=(0,c.cg1)(n);ss(i);const a=dt([i[c.wAp.ExtraData][0],i[c.wAp.ExtraData][1]],e)||[];return dt(a,t)||[]}(e,r,i),A=w.findIndex(F=>{if(Array.isArray(F)){const[B,W]=F,ie=u>=B.hours&&f>=B.minutes,_e=u<W.hours||u===W.hours&&f<W.minutes;if(B.hours<W.hours){if(ie&&_e)return!0}else if(ie||_e)return!0}else if(F.hours===u&&F.minutes===f)return!0;return!1});if(-1!==A)return I[A]}return function Se(n,e,t){const i=(0,c.cg1)(n),a=dt([i[c.wAp.DayPeriodsFormat],i[c.wAp.DayPeriodsStandalone]],e);return dt(a,t)}(e,r,i)[u<12?0:1];case bt.Eras:return function Ie(n,e){return dt((0,c.cg1)(n)[c.wAp.Eras],e)}(e,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,a,n,e,t,i)}}function xi(n){return function(e,t,i){const r=-1*i,a=Kt(t,at.MinusSign),u=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case ln.Short:return(r>=0?"+":"")+Tt(u,2,a)+Tt(Math.abs(r%60),2,a);case ln.ShortGMT:return"GMT"+(r>=0?"+":"")+Tt(u,1,a);case ln.Long:return"GMT"+(r>=0?"+":"")+Tt(u,2,a)+":"+Tt(Math.abs(r%60),2,a);case ln.Extended:return 0===i?"Z":(r>=0?"+":"")+Tt(u,2,a)+":"+Tt(Math.abs(r%60),2,a);default:throw new Error(`Unknown zone width "${n}"`)}}}function as(n){return os(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Gn(n,e=!1){return function(t,i){let r;if(e){const a=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,u=t.getDate();r=1+Math.floor((u+a)/7)}else{const a=as(t),u=function Ri(n){const e=os(n,0,1).getDay();return os(n,0,1+(e<=4?4:11)-e)}(a.getFullYear()),f=a.getTime()-u.getTime();r=1+Math.round(f/6048e5)}return Tt(r,n,Kt(i,at.MinusSign))}}function cr(n,e=!1){return function(t,i){return Tt(as(t).getFullYear(),n,Kt(i,at.MinusSign),e)}}const Ki={};function V(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function At(n){return n instanceof Date&&!isNaN(n.valueOf())}const Lt=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function te(n,e,t,i,r){const u=function Dt(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),r=i[0],a=i[1],u=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],f=u[0],_=u[1]||"";t.posPre=f.substring(0,f.indexOf("#"));for(let I=0;I<_.length;I++){const A=_.charAt(I);"0"===A?t.minFrac=t.maxFrac=I+1:"#"===A?t.maxFrac=I+1:t.posSuf+=A}const w=f.split(",");if(t.gSize=w[1]?w[1].length:0,t.lgSize=w[2]||w[1]?(w[2]||w[1]).length:0,a){const I=r.length-t.posPre.length-t.posSuf.length,A=a.indexOf("#");t.negPre=a.substring(0,A).replace(/'/g,""),t.negSuf=a.slice(A+I).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function tn(n,e){return(0,c.cg1)(n)[c.wAp.NumberFormats][e]}(e,et.Currency),Kt(e,at.MinusSign));return u.minFrac=function $o(n){let e;const t=He[n];return t&&(e=t[2]),"number"==typeof e?e:2}(i),u.maxFrac=u.minFrac,function re(n,e,t,i,r,a,u=!1){let f="",_=!1;if(isFinite(n)){let w=function un(n){let i,r,a,u,f,e=Math.abs(n)+"",t=0;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(a=e.search(/e/i))>0?(r<0&&(r=a),r+=+e.slice(a+1),e=e.substring(0,a)):r<0&&(r=e.length),a=0;"0"===e.charAt(a);a++);if(a===(f=e.length))i=[0],r=1;else{for(f--;"0"===e.charAt(f);)f--;for(r-=a,i=[],u=0;a<=f;a++,u++)i[u]=Number(e.charAt(a))}return r>22&&(i=i.splice(0,21),t=r-1,r=1),{digits:i,exponent:t,integerLen:r}}(n);u&&(w=function Vt(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(w));let I=e.minInt,A=e.minFrac,F=e.maxFrac;if(a){const it=a.match(Lt);if(null===it)throw new Error(`${a} is not a valid digit info`);const Je=it[1],Ct=it[3],jt=it[5];null!=Je&&(I=Jt(Je)),null!=Ct&&(A=Jt(Ct)),null!=jt?F=Jt(jt):null!=Ct&&A>F&&(F=A)}!function Ln(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let i=n.digits,r=i.length-n.integerLen;const a=Math.min(Math.max(e,r),t);let u=a+n.integerLen,f=i[u];if(u>0){i.splice(Math.max(n.integerLen,u));for(let A=u;A<i.length;A++)i[A]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,u=a+1),i[0]=0;for(let A=1;A<u;A++)i[A]=0}if(f>=5)if(u-1<0){for(let A=0;A>u;A--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[u-1]++;for(;r<Math.max(0,a);r++)i.push(0);let _=0!==a;const w=e+n.integerLen,I=i.reduceRight(function(A,F,B,W){return W[B]=(F+=A)<10?F:F-10,_&&(0===W[B]&&B>=w?W.pop():_=!1),F>=10?1:0},0);I&&(i.unshift(I),n.integerLen++)}(w,A,F);let B=w.digits,W=w.integerLen;const ie=w.exponent;let _e=[];for(_=B.every(it=>!it);W<I;W++)B.unshift(0);for(;W<0;W++)B.unshift(0);W>0?_e=B.splice(W,B.length):(_e=B,B=[0]);const $e=[];for(B.length>=e.lgSize&&$e.unshift(B.splice(-e.lgSize,B.length).join(""));B.length>e.gSize;)$e.unshift(B.splice(-e.gSize,B.length).join(""));B.length&&$e.unshift(B.join("")),f=$e.join(Kt(t,i)),_e.length&&(f+=Kt(t,r)+_e.join("")),ie&&(f+=Kt(t,at.Exponential)+"+"+ie)}else f=Kt(t,at.Infinity);return f=n<0&&!_?e.negPre+f+e.negSuf:e.posPre+f+e.posSuf,f}(n,u,e,at.CurrencyGroup,at.CurrencyDecimal,r).replace("\xa4",t).replace("\xa4","").trim()}function Jt(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}class Kc{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let yn=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,a,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Kc(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===a?void 0:a);else if(null!==a){const f=i.get(a);i.move(f,u),js(f,r)}});for(let r=0,a=i.length;r<a;r++){const f=i.get(r).context;f.index=r,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{js(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function js(n,e){n.context.$implicit=e.item}let xn=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Ed,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){fi("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){fi("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Ed{constructor(){this.$implicit=null,this.ngIf=null}}function fi(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}function Sn(n,e){return new c.vHH(2100,!1)}const _g=new c.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Xc=(()=>{class n{constructor(t,i){this.locale=t,this.defaultTimezone=i}transform(t,i="mediumDate",r,a){if(null==t||""===t||t!=t)return null;try{return vn(t,i,a||this.locale,r??this.defaultTimezone??void 0)}catch(u){throw Sn()}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.soG,16),c.Y36(_g,24))},n.\u0275pipe=c.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),ql=(()=>{class n{constructor(t,i="USD"){this._locale=t,this._defaultCurrencyCode=i}transform(t,i=this._defaultCurrencyCode,r="symbol",a,u){if(!function Ba(n){return!(null==n||""===n||n!=n)}(t))return null;u=u||this._locale,"boolean"==typeof r&&(r=r?"symbol":"code");let f=i||this._defaultCurrencyCode;"code"!==r&&(f="symbol"===r||"symbol-narrow"===r?function Vr(n,e,t="en"){const i=function ar(n){return(0,c.cg1)(n)[c.wAp.Currencies]}(t)[n]||He[n]||[],r=i[1];return"narrow"===e&&"string"==typeof r?r:i[0]||n}(f,"symbol"===r?"wide":"narrow",u):r);try{return te(function tu(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),u,f,i,a)}catch(_){throw Sn()}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.soG,16),c.Y36(c.EJc,16))},n.\u0275pipe=c.Yjl({name:"currency",type:n,pure:!0,standalone:!0}),n})();let po=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Zl="browser";function Kl(n){return"server"===n}let Ss=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new Ql((0,c.LFG)(ne),window)}),n})();class Ql{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Qi(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const a=r.shadowRoot;if(a){const u=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],r-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Er(this.window.history)||Er(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Er(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Zd extends class Wd extends class ue{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function oe(n){X||(X=n)}(new Zd)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function lc(){return ac=ac||document.querySelector("base"),ac?ac.getAttribute("href"):null}();return null==t?null:function ou(n){Ya=Ya||document.createElement("a"),Ya.setAttribute("href",n);const e=Ya.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ac=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Hl(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,a]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let Ya,ac=null;const Qa=new c.OlP("TRANSITION_ID"),jf=[{provide:c.ip1,useFactory:function cc(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const i=O(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<r.length;a++)i.remove(r[a])})}},deps:[Qa,ne,c.zs3],multi:!0}];let Iv=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const hs=new c.OlP("EventManagerPlugins");let dc=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let a=0;a<r.length;a++){const u=r[a];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(hs),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Qo{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=O().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let fs=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),qs=(()=>{class n extends fs{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(a=>{const u=this._doc.createElement("style");u.textContent=a,r.push(i.appendChild(u))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(au),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(au))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ne))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function au(n){O().remove(n)}const lu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ir=/%COMP%/g;function vo(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?vo(n,r,t):(r=r.replace(Ir,n),t.push(r))}return t}function hc(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ja=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Jo(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case c.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Ws(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case c.ifc.ShadowDom:return new Kd(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=vo(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(dc),c.LFG(qs),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Jo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(lu[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(el(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(el(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const a=lu[r];a?e.setAttributeNS(a,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=lu[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,i,r&c.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,hc(i)):this.eventManager.addEventListener(e,t,hc(i))}}function el(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Ws extends Jo{constructor(e,t,i,r){super(e),this.component=i;const a=vo(r+"-"+i.id,i.styles,[]);t.addStyles(a),this.contentAttr=function Xo(n){return"_ngcontent-%COMP%".replace(Ir,n)}(r+"-"+i.id),this.hostAttr=function Xa(n){return"_nghost-%COMP%".replace(Ir,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class Kd extends Jo{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=vo(r.id,r.styles,[]);for(let u=0;u<a.length;u++){const f=document.createElement("style");f.textContent=a[u],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Yd=(()=>{class n extends Qo{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ne))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const qr=["alt","control","meta","shift"],zf={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$n={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let du=(()=>{class n extends Qo{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const a=n.parseEventName(i),u=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,a.domEventName,u))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const a=n._normalizeKey(i.pop());let u="",f=i.indexOf("code");if(f>-1&&(i.splice(f,1),u="code."),qr.forEach(w=>{const I=i.indexOf(w);I>-1&&(i.splice(I,1),u+=w+".")}),u+=a,0!=i.length||0===a.length)return null;const _={};return _.domEventName=r,_.fullKey=u,_}static matchEventFullKeyCode(t,i){let r=zf[t.key]||t.key,a="";return i.indexOf("code.")>-1&&(r=t.code,a="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),qr.forEach(u=>{u!==r&&(0,$n[u])(t)&&(a+=u+".")}),a+=r,a===i)}static eventCallback(t,i,r){return a=>{n.matchEventFullKeyCode(a,t)&&r.runGuarded(()=>i(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ne))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const na=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:Zl},{provide:c.g9A,useValue:function Os(){Zd.makeCurrent()},multi:!0},{provide:ne,useFactory:function ta(){return(0,c.RDi)(document),document},deps:[]}]),nl=new c.OlP(""),dn=[{provide:c.rWj,useClass:class uc{addToWindow(e){c.dqk.getAngularTestability=(i,r=!0)=>{const a=e.findTestabilityInTree(i,r);if(null==a)throw new Error("Could not find testability for element.");return a},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(i=>{const r=c.dqk.getAllAngularTestabilities();let a=r.length,u=!1;const f=function(_){u=u||_,a--,0==a&&i(u)};r.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],fu=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function Qd(){return new c.qLn},deps:[]},{provide:hs,useClass:Yd,multi:!0,deps:[ne,c.R0b,c.Lbi]},{provide:hs,useClass:du,multi:!0,deps:[ne]},{provide:Ja,useClass:Ja,deps:[dc,qs,c.AFp]},{provide:c.FYo,useExisting:Ja},{provide:fs,useExisting:qs},{provide:qs,useClass:qs,deps:[ne]},{provide:dc,useClass:dc,deps:[hs,c.R0b]},{provide:class Xl{},useClass:Iv,deps:[]},[]];let pc=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:Qa,useExisting:c.AFp},jf]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(nl,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[...fu,...dn],imports:[po,c.hGG]}),n})(),Wf=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ne))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function pu(){return new Wf((0,c.LFG)(ne))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let sl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):c.LFG(ra),i},providedIn:"root"}),n})(),ra=(()=>{class n extends sl{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case c.q3G.NONE:return i;case c.q3G.HTML:return(0,c.qzn)(i,"HTML")?(0,c.z3N)(i):(0,c.EiD)(this._doc,String(i)).toString();case c.q3G.STYLE:return(0,c.qzn)(i,"Style")?(0,c.z3N)(i):i;case c.q3G.SCRIPT:if((0,c.qzn)(i,"Script"))return(0,c.z3N)(i);throw new Error("unsafe value used in a script context");case c.q3G.URL:return(0,c.qzn)(i,"URL")?(0,c.z3N)(i):(0,c.mCW)(String(i));case c.q3G.RESOURCE_URL:if((0,c.qzn)(i,"ResourceURL"))return(0,c.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,c.JVY)(t)}bypassSecurityTrustStyle(t){return(0,c.L6k)(t)}bypassSecurityTrustScript(t){return(0,c.eBb)(t)}bypassSecurityTrustUrl(t){return(0,c.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,c.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ne))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function Ig(n){return new ra(n.get(ne))}(c.LFG(c.zs3)),i},providedIn:"root"}),n})();const pn=void 0,Qf=["es",[["a.\xa0m.","p.\xa0m."],pn,pn],pn,[["D","L","M","X","J","V","S"],["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],pn,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene","feb","mar","abr","may","jun","jul","ago","sept","oct","nov","dic"],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],pn,[["a. C.","d. C."],pn,["antes de Cristo","despu\xe9s de Cristo"]],1,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1}, {0}",pn,pn,pn],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{AUD:[pn,"$"],BRL:[pn,"R$"],BYN:[pn,"\u0440."],CAD:[pn,"$"],CNY:[pn,"\xa5"],EGP:[],ESP:["\u20a7"],GBP:[pn,"\xa3"],HKD:[pn,"$"],ILS:[pn,"\u20aa"],INR:[pn,"\u20b9"],JPY:[pn,"\xa5"],KRW:[pn,"\u20a9"],MXN:[pn,"$"],NZD:[pn,"$"],PHP:[pn,"\u20b1"],RON:[pn,"L"],THB:["\u0e3f"],TWD:[pn,"NT$"],USD:["US$","$"],XAF:[],XCD:[pn,"$"],XOF:[]},"ltr",function yu(n){const e=n,t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length,r=parseInt(n.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 1===e?1:0===r&&0!==t&&t%1e6==0&&0===i||!(r>=0&&r<=5)?4:5}];var rn=P(8996),ti=P(9751);const{isArray:Eo}=Array,{getPrototypeOf:ih,prototype:Xf,keys:Jf}=Object;function ol(n){if(1===n.length){const e=n[0];if(Eo(e))return{args:e,keys:null};if(function sa(n){return n&&"object"==typeof n&&ih(n)===Xf}(e)){const t=Jf(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var Ar=P(8421),oa=P(3269),$t=P(5403),ft=P(4004);const{isArray:gc}=Array;function Ps(n){return(0,ft.U)(e=>function vu(n,e){return gc(e)?n(...e):n(e)}(n,e))}function _c(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function yc(...n){const e=(0,oa.jO)(n),{args:t,keys:i}=ol(n),r=new ti.y(a=>{const{length:u}=t;if(!u)return void a.complete();const f=new Array(u);let _=u,w=u;for(let I=0;I<u;I++){let A=!1;(0,Ar.Xf)(t[I]).subscribe((0,$t.x)(a,F=>{A||(A=!0,w--),f[I]=F},()=>_--,void 0,()=>{(!_||!A)&&(w||a.next(i?_c(i,f):f),a.complete())}))}});return e?r.pipe(Ps(e)):r}let Ys=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),Wr=(()=>{class n extends Ys{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const vi=new c.OlP("NgValueAccessor"),al={provide:vi,useExisting:(0,c.Gpc)(()=>Qs),multi:!0},la=new c.OlP("CompositionEventMode");let Qs=(()=>{class n extends Ys{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ep(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(la,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&c.NdJ("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[c._Bn([al]),c.qOj]}),n})();function Xs(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Co(n){return null!=n&&"number"==typeof n.length}const kn=new c.OlP("NgValidators"),Mr=new c.OlP("NgAsyncValidators"),tp=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Zr{static min(e){return function wu(n){return e=>{if(Xs(e.value)||Xs(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Js(n){return e=>{if(Xs(e.value)||Xs(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function rh(n){return Xs(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function np(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function ll(n){return Xs(n.value)||tp.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function cl(n){return e=>Xs(e.value)||!Co(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Io(n){return e=>Co(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Eu(n){if(!n)return C;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Xs(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return We(e)}static composeAsync(e){return pt(e)}}function C(n){return null}function T(n){return null!=n}function x(n){return(0,c.QGY)(n)?(0,rn.D)(n):n}function L(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function G(n,e){return e.map(t=>t(n))}function ye(n){return n.map(e=>function Q(n){return!n.validate}(e)?e:t=>e.validate(t))}function We(n){if(!n)return null;const e=n.filter(T);return 0==e.length?null:function(t){return L(G(t,e))}}function Qe(n){return null!=n?We(ye(n)):null}function pt(n){if(!n)return null;const e=n.filter(T);return 0==e.length?null:function(t){return yc(G(t,e).map(x)).pipe((0,ft.U)(L))}}function Nt(n){return null!=n?pt(ye(n)):null}function kt(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function xr(n){return n._rawValidators}function bi(n){return n._rawAsyncValidators}function ca(n){return n?Array.isArray(n)?n:[n]:[]}function ul(n,e){return Array.isArray(n)?n.includes(e):n===e}function Ns(n,e){const t=ca(e);return ca(n).forEach(r=>{ul(t,r)||t.push(r)}),t}function fr(n,e){return ca(e).filter(t=>!ul(n,t))}class Kr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Qe(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Nt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class wi extends Kr{get formDirective(){return null}get path(){return null}}class Do extends Kr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ip{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let rp=(()=>{class n extends ip{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Do,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&c.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[c.qOj]}),n})(),sh=(()=>{class n extends ip{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(wi,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&c.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[c.qOj]}),n})();const dl="VALID",Cu="INVALID",Iu="PENDING",ua="DISABLED";function uh(n){return(dh(n)?n.validators:n)||null}function Du(n){return Array.isArray(n)?Qe(n):n||null}function wc(n,e){return(dh(e)?e.asyncValidators:n)||null}function Tu(n){return Array.isArray(n)?Nt(n):n||null}function dh(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function op(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new c.vHH(1e3,"");if(!i[t])throw new c.vHH(1001,"")}function Ag(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new c.vHH(1002,"")})}class da{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Du(this._rawValidators),this._composedAsyncValidatorFn=Tu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===dl}get invalid(){return this.status===Cu}get pending(){return this.status==Iu}get disabled(){return this.status===ua}get enabled(){return this.status!==ua}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Du(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Tu(e)}addValidators(e){this.setValidators(Ns(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ns(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(fr(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(fr(e,this._rawAsyncValidators))}hasValidator(e){return ul(this._rawValidators,e)}hasAsyncValidator(e){return ul(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Iu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ua,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=dl,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===dl||this.status===Iu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ua:dl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Iu,this._hasOwnPendingAsyncValidator=!0;const t=x(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?ua:this.errors?Cu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Iu)?Iu:this._anyControlsHaveStatus(Cu)?Cu:dl}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){dh(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class Su extends da{constructor(e,t,i){super(uh(t),wc(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Ag(this,0,e),Object.keys(e).forEach(i=>{op(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,a)=>{i=t(i,r,a)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class ap extends Su{}function lp(n,e){return[...e.path,n]}function eo(n,e){Mu(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function up(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&xg(n,e)})}(n,e),function dp(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Rv(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&xg(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function cp(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function ha(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),hh(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Au(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Mu(n,e){const t=xr(n);null!==e.validator?n.setValidators(kt(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=bi(n);null!==e.asyncValidator?n.setAsyncValidators(kt(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Au(e._rawValidators,r),Au(e._rawAsyncValidators,r)}function hh(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=xr(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==e.validator);a.length!==r.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const r=bi(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==e.asyncValidator);a.length!==r.length&&(t=!0,n.setAsyncValidators(a))}}}const i=()=>{};return Au(e._rawValidators,i),Au(e._rawAsyncValidators,i),t}function xg(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function xu(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Fs(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(a=>{a.constructor===Qs?t=a:function Ng(n){return Object.getPrototypeOf(n.constructor)===Wr}(a)?i=a:r=a}),r||i||t||null}function Fg(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function fp(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const pl=class extends da{constructor(e=null,t,i){super(uh(t),wc(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),dh(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=fp(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Fg(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Fg(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){fp(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Ru={provide:Do,useExisting:(0,c.Gpc)(()=>ku)},Lg=(()=>Promise.resolve())();let ku=(()=>{class n extends Do{constructor(t,i,r,a,u){super(),this._changeDetectorRef=u,this.control=new pl,this._registered=!1,this.update=new c.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Fs(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),xu(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){eo(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Lg.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&(0,c.D6c)(i);Lg.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?lp(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(wi,9),c.Y36(kn,10),c.Y36(Mr,10),c.Y36(vi,10),c.Y36(c.sBO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([Ru]),c.qOj,c.TTD]}),n})(),gh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const vp={provide:vi,useExisting:(0,c.Gpc)(()=>Cc),multi:!0};let Cc=(()=>{class n extends Wr{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=i=>{t(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,i){1&t&&c.NdJ("input",function(a){return i.onChange(a.target.value)})("blur",function(){return i.onTouched()})},features:[c._Bn([vp]),c.qOj]}),n})(),_h=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Pu=new c.OlP("NgModelWithFormControlWarning"),wp={provide:wi,useExisting:(0,c.Gpc)(()=>gl)};let gl=(()=>{class n extends wi{constructor(t,i){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(hh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return eo(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){ha(t.control||null,t,!1),function ph(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,function hp(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(ha(i||null,t),(n=>n instanceof pl)(r)&&(eo(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);(function Rg(n,e){Mu(n,e)})(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function kg(n,e){return hh(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Mu(this.form,this),this._oldForm&&hh(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(kn,10),c.Y36(Mr,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&c.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([wp]),c.qOj,c.TTD]}),n})();const Hg={provide:Do,useExisting:(0,c.Gpc)(()=>Ji)};let Ji=(()=>{class n extends Do{constructor(t,i,r,a,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Fs(0,a)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),xu(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return lp(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(c.Y36(wi,13),c.Y36(kn,10),c.Y36(Mr,10),c.Y36(vi,10),c.Y36(Pu,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([Hg]),c.qOj,c.TTD]}),n})(),Tp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[_h]}),n})(),Sp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Tp]}),n})(),_l=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Pu,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Tp]}),n})();class wh extends da{constructor(e,t,i){super(uh(t),wc(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Ag(this,0,e),e.forEach((i,r)=>{op(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function ni(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let hE=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,i=null){const r=this._reduceControls(t);let a={};return ni(i)?a=i:null!==i&&(a.validators=i.validator,a.asyncValidators=i.asyncValidator),new Su(r,a)}record(t,i=null){const r=this._reduceControls(t);return new ap(r,i)}control(t,i,r){let a={};return this.useNonNullable?(ni(i)?a=i:(a.validators=i,a.asyncValidators=r),new pl(t,{...a,nonNullable:!0})):new pl(t,i,r)}array(t,i,r){const a=t.map(u=>this._createControl(u));return new wh(a,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return t instanceof pl||t instanceof da?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:_l}),n})();var So=P(2011);const pE_firebase={apiKey:"AIzaSyCPokL3VPOIn4_CcjSJ_WwZq6LFZdreb4s",authDomain:"licorapp-d94de.firebaseapp.com",projectId:"licorapp-d94de",storageBucket:"licorapp-d94de.appspot.com",messagingSenderId:"197141046042",appId:"1:197141046042:web:5f04c3a5f904602ef982a3"};function ct(...n){const e=(0,oa.yG)(n);return(0,rn.D)(n,e)}var Xt=P(7579);class io extends Xt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const zv=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var yl=P(4671),Gv=P(9672);function qv(...n){const e=(0,oa.yG)(n),t=(0,oa.jO)(n),{args:i,keys:r}=ol(n);if(0===i.length)return(0,rn.D)([],e);const a=new ti.y(function mE(n,e,t=yl.y){return i=>{Wv(e,()=>{const{length:r}=n,a=new Array(r);let u=r,f=r;for(let _=0;_<r;_++)Wv(e,()=>{const w=(0,rn.D)(n[_],e);let I=!1;w.subscribe((0,$t.x)(i,A=>{a[_]=A,I||(I=!0,f--),f||i.next(t(a.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,e,r?u=>_c(r,u):yl.y));return t?a.pipe(Ps(t)):a}function Wv(n,e,t){n?(0,Gv.f)(t,n,e):e()}var Ap=P(8189);function Zg(...n){return function gE(){return(0,Ap.J)(1)}()((0,rn.D)(n,(0,oa.yG)(n)))}function Kg(n){return new ti.y(e=>{(0,Ar.Xf)(n()).subscribe(e)})}var KR=P(9635),pa=P(576);function Dc(n,e){const t=(0,pa.m)(n)?n:()=>n,i=r=>r.error(t());return new ti.y(e?r=>e.schedule(i,0,r):i)}var Tc=P(515),Sc=P(727),ii=P(4482);function Zv(){return(0,ii.e)((n,e)=>{let t=null;n._refCount++;const i=(0,$t.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,a=t;t=null,r&&(!a||r===a)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Yg extends ti.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ii.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Sc.w0;const t=this.getSubject();e.add(this.source.subscribe((0,$t.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Sc.w0.EMPTY)}return e}refCount(){return Zv()(this)}}function Ii(n,e){return(0,ii.e)((t,i)=>{let r=null,a=0,u=!1;const f=()=>u&&!r&&i.complete();t.subscribe((0,$t.x)(i,_=>{r?.unsubscribe();let w=0;const I=a++;(0,Ar.Xf)(n(_,I)).subscribe(r=(0,$t.x)(i,A=>i.next(e?e(_,A,I,w++):A),()=>{r=null,f()}))},()=>{u=!0,f()}))})}function ma(n){return n<=0?()=>Tc.E:(0,ii.e)((e,t)=>{let i=0;e.subscribe((0,$t.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function ga(...n){const e=(0,oa.yG)(n);return(0,ii.e)((t,i)=>{(e?Zg(n,t,e):Zg(n,t)).subscribe(i)})}function ri(n,e){return(0,ii.e)((t,i)=>{let r=0;t.subscribe((0,$t.x)(i,a=>n.call(e,a,r++)&&i.next(a)))})}var mi=P(5577);function Mp(n){return(0,ii.e)((e,t)=>{let i=!1;e.subscribe((0,$t.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Qg(n=OT){return(0,ii.e)((e,t)=>{let i=!1;e.subscribe((0,$t.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function OT(){return new zv}function vl(n,e){const t=arguments.length>=2;return i=>i.pipe(n?ri((r,a)=>n(r,a,i)):yl.y,ma(1),t?Mp(e):Qg(()=>new zv))}function bl(n,e){return(0,pa.m)(e)?(0,mi.z)(n,e,1):(0,mi.z)(n,1)}var Zn=P(8505);function wl(n){return(0,ii.e)((e,t)=>{let a,i=null,r=!1;i=e.subscribe((0,$t.x)(t,void 0,void 0,u=>{a=(0,Ar.Xf)(n(u,wl(n)(e))),i?(i.unsubscribe(),i=null,a.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,a.subscribe(t))})}function PT(n,e,t,i,r){return(a,u)=>{let f=t,_=e,w=0;a.subscribe((0,$t.x)(u,I=>{const A=w++;_=f?n(_,I,A):(f=!0,I),i&&u.next(_)},r&&(()=>{f&&u.next(_),u.complete()})))}}function xp(n,e){return(0,ii.e)(PT(n,e,arguments.length>=2,!0))}function Kv(n){return n<=0?()=>Tc.E:(0,ii.e)((e,t)=>{let i=[];e.subscribe((0,$t.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Xg(n,e){const t=arguments.length>=2;return i=>i.pipe(n?ri((r,a)=>n(r,a,i)):yl.y,Kv(1),t?Mp(e):Qg(()=>new zv))}function Jg(n){return(0,ft.U)(()=>n)}function e_(n){return(0,ii.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const en="primary",t_=Symbol("RouteTitle");class FT{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function _a(n){return new FT(n)}function LT(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let a=0;a<i.length;a++){const u=i[a],f=n[a];if(u.startsWith(":"))r[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function gs(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let a=0;a<t.length;a++)if(r=t[a],!_E(n[r],e[r]))return!1;return!0}function _E(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,a)=>i[a]===r)}return n===e}function VT(n){return Array.prototype.concat.apply([],n)}function Yv(n){return n.length>0?n[n.length-1]:null}function pr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Ac(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,rn.D)(Promise.resolve(n)):ct(n)}const Qv={exact:function Ch(n,e,t){if(!Qr(n.segments,e.segments)||!r_(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!Ch(n.children[i],e.children[i],t))return!1;return!0},subset:bE},i_={exact:function Xv(n,e){return gs(n,e)},subset:function BT(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>_E(n[t],e[t]))},ignored:()=>!0};function vE(n,e,t){return Qv[t.paths](n.root,e.root,t.matrixParams)&&i_[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function bE(n,e,t){return wE(n,e,e.segments,t)}function wE(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Qr(r,t)||e.hasChildren()||!r_(r,t,i))}if(n.segments.length===t.length){if(!Qr(n.segments,t)||!r_(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!bE(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Qr(n.segments,r)&&r_(n.segments,r,i)&&n.children[en])&&wE(n.children[en],e,a,i)}}function r_(n,e,t){return e.every((i,r)=>i_[t](n[r].parameters,i.parameters))}class Vu{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_a(this.queryParams)),this._queryParamMap}toString(){return QR.serialize(this)}}class nn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,pr(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return kp(this)}}class Rp{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=_a(this.parameters)),this._parameterMap}toString(){return TE(this)}}function Qr(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let EE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new CE},providedIn:"root"}),n})();class CE{parse(e){const t=new GT(e);return new Vu(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${s_(e.root,!0)}`,i=function HT(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${eb(t)}=${eb(r)}`).join("&"):`${eb(t)}=${eb(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function IE(n){return encodeURI(n)}(e.fragment)}`:""}`}}const QR=new CE;function kp(n){return n.segments.map(e=>TE(e)).join("/")}function s_(n,e){if(!n.hasChildren())return kp(n);if(e){const t=n.children[en]?s_(n.children[en],!1):"",i=[];return pr(n.children,(r,a)=>{a!==en&&i.push(`${a}:${s_(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function UT(n,e){let t=[];return pr(n.children,(i,r)=>{r===en&&(t=t.concat(e(i,r)))}),pr(n.children,(i,r)=>{r!==en&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===en?[s_(n.children[en],!1)]:[`${r}:${s_(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[en]?`${kp(n)}/${t[0]}`:`${kp(n)}/(${t.join("//")})`}}function Jv(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function eb(n){return Jv(n).replace(/%3B/gi,";")}function tb(n){return Jv(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Op(n){return decodeURIComponent(n)}function DE(n){return Op(n.replace(/\+/g,"%20"))}function TE(n){return`${tb(n.path)}${function Ao(n){return Object.keys(n).map(e=>`;${tb(e)}=${tb(n[e])}`).join("")}(n.parameters)}`}const SE=/^[^\/()?;=#]+/;function o_(n){const e=n.match(SE);return e?e[0]:""}const jT=/^[^=?&#]+/,zT=/^[^&#]+/;class GT{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new nn([],{}):new nn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[en]=new nn(e,t)),i}parseSegment(){const e=o_(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(e),new Rp(Op(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=o_(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=o_(this.remaining);r&&(i=r,this.capture(i))}e[Op(t)]=Op(i)}parseQueryParam(e){const t=function $T(n){const e=n.match(jT);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const u=function AE(n){const e=n.match(zT);return e?e[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=DE(t),a=DE(i);if(e.hasOwnProperty(r)){let u=e[r];Array.isArray(u)||(u=[u],e[r]=u),u.push(a)}else e[r]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=o_(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new c.vHH(4010,!1);let a;i.indexOf(":")>-1?(a=i.slice(0,i.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=en);const u=this.parseChildren();t[a]=1===Object.keys(u).length?u[en]:new nn([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new c.vHH(4011,!1)}}function nb(n){return n.segments.length>0?new nn([],{[en]:n}):n}function a_(n){const e={};for(const i of Object.keys(n.children)){const a=a_(n.children[i]);(a.segments.length>0||a.hasChildren())&&(e[i]=a)}return function zt(n){if(1===n.numberOfChildren&&n.children[en]){const e=n.children[en];return new nn(n.segments.concat(e.segments),e.children)}return n}(new nn(n.segments,e))}function Mc(n){return n instanceof Vu}function ME(n,e,t,i,r){if(0===t.length)return Th(e.root,e.root,e.root,i,r);const a=function ib(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new KT(!0,0,n);let e=0,t=!1;const i=n.reduce((r,a,u)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return pr(a.outlets,(_,w)=>{f[w]="string"==typeof _?_.split("/"):_}),[...r,{outlets:f}]}if(a.segmentPath)return[...r,a.segmentPath]}return"string"!=typeof a?[...r,a]:0===u?(a.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&r.push(f))}),r):[...r,a]},[]);return new KT(t,e,i)}(t);return a.toRoot()?Th(e.root,e.root,new nn([],{}),i,r):function u(_){const w=function YT(n,e,t,i){if(n.isAbsolute)return new Bu(e.root,!0,0);if(-1===i)return new Bu(t,t===e.root,0);return function c_(n,e,t){let i=n,r=e,a=t;for(;a>r;){if(a-=r,i=i.parent,!i)throw new c.vHH(4005,!1);r=i.segments.length}return new Bu(i,!1,r-a)}(t,i+(Pp(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,_),I=w.processChildren?u_(w.segmentGroup,w.index,a.commands):sb(w.segmentGroup,w.index,a.commands);return Th(e.root,w.segmentGroup,I,i,r)}(n.snapshot?._lastPathIndex)}function Pp(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Dh(n){return"object"==typeof n&&null!=n&&n.outlets}function Th(n,e,t,i,r){let u,a={};i&&pr(i,(_,w)=>{a[w]=Array.isArray(_)?_.map(I=>`${I}`):`${_}`}),u=n===e?t:xE(n,e,t);const f=nb(a_(u));return new Vu(f,a,r)}function xE(n,e,t){const i={};return pr(n.children,(r,a)=>{i[a]=r===e?t:xE(r,e,t)}),new nn(n.segments,i)}class KT{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Pp(i[0]))throw new c.vHH(4003,!1);const r=i.find(Dh);if(r&&r!==Yv(i))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Bu{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function sb(n,e,t){if(n||(n=new nn([],{})),0===n.segments.length&&n.hasChildren())return u_(n,e,t);const i=function XR(n,e,t){let i=0,r=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return a;const u=n.segments[r],f=t[i];if(Dh(f))break;const _=`${f}`,w=i<t.length-1?t[i+1]:null;if(r>0&&void 0===_)break;if(_&&w&&"object"==typeof w&&void 0===w.outlets){if(!XT(_,w,u))return a;i+=2}else{if(!XT(_,{},u))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const a=new nn(n.segments.slice(0,i.pathIndex),{});return a.children[en]=new nn(n.segments.slice(i.pathIndex),n.children),u_(a,0,r)}return i.match&&0===r.length?new nn(n.segments,{}):i.match&&!n.hasChildren()?RE(n,e,t):i.match?u_(n,0,r):RE(n,e,t)}function u_(n,e,t){if(0===t.length)return new nn(n.segments,{});{const i=function rb(n){return Dh(n[0])?n[0].outlets:{[en]:n}}(t),r={};return pr(i,(a,u)=>{"string"==typeof a&&(a=[a]),null!==a&&(r[u]=sb(n.children[u],e,a))}),pr(n.children,(a,u)=>{void 0===i[u]&&(r[u]=a)}),new nn(n.segments,r)}}function RE(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const a=t[r];if(Dh(a)){const _=QT(a.outlets);return new nn(i,_)}if(0===r&&Pp(t[0])){i.push(new Rp(n.segments[e].path,ob(t[0]))),r++;continue}const u=Dh(a)?a.outlets[en]:`${a}`,f=r<t.length-1?t[r+1]:null;u&&f&&Pp(f)?(i.push(new Rp(u,ob(f))),r+=2):(i.push(new Rp(u,{})),r++)}return new nn(i,{})}function QT(n){const e={};return pr(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=RE(new nn([],{}),0,t))}),e}function ob(n){const e={};return pr(n,(t,i)=>e[i]=`${t}`),e}function XT(n,e,t){return n==t.path&&gs(e,t.parameters)}class El{constructor(e,t){this.id=e,this.url=t}}class xc extends El{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Hu extends El{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Np extends El{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Fp extends El{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class JT extends El{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kE extends El{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eS extends El{constructor(e,t,i,r,a){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class tS extends El{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nS extends El{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iS{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class rS{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class OE{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sS{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class PE{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class NE{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class d_{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class h_{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ab(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=ab(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=FE(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return FE(e,this._root).map(t=>t.value)}}function ab(n,e){if(n===e.value)return e;for(const t of e.children){const i=ab(n,t);if(i)return i}return null}function FE(n,e){if(n===e.value)return[e];for(const t of e.children){const i=FE(n,t);if(i.length)return i.unshift(e),i}return[]}class _s{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ju(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class lb extends h_{constructor(e,t){super(e),this.snapshot=t,p_(this,e)}toString(){return this.snapshot.toString()}}function Lp(n,e){const t=function Mo(n,e){const u=new ro([],{},{},"",{},en,e,null,n.root,-1,{});return new f_("",new _s(u,[]))}(n,e),i=new io([new Rp("",{})]),r=new io({}),a=new io({}),u=new io({}),f=new io(""),_=new Cl(i,r,u,f,a,en,e,t.root);return _.snapshot=t.root,new lb(new _s(_,[]),t)}class Cl{constructor(e,t,i,r,a,u,f,_){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=f,this.title=this.data?.pipe((0,ft.U)(w=>w[t_]))??ct(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ft.U)(e=>_a(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ft.U)(e=>_a(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function LE(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],a=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return function cb(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class ro{constructor(e,t,i,r,a,u,f,_,w,I,A,F){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=f,this.title=this.data?.[t_],this.routeConfig=_,this._urlSegment=w,this._lastPathIndex=I,this._correctedLastPathIndex=F??I,this._resolve=A}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_a(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_a(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class f_ extends h_{constructor(e,t){super(t),this.url=e,p_(this,t)}toString(){return m_(this._root)}}function p_(n,e){e.value._routerState=n,e.children.forEach(t=>p_(n,t))}function m_(n){const e=n.children.length>0?` { ${n.children.map(m_).join(", ")} } `:"";return`${n.value}${e}`}function VE(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,gs(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),gs(e.params,t.params)||n.params.next(t.params),function Eh(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!gs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),gs(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function g_(n,e){const t=gs(n.params,e.params)&&function Ih(n,e){return Qr(n,e)&&n.every((t,i)=>gs(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||g_(n.parent,e.parent))}function Rc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function __(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Rc(n,i,r);return Rc(n,i)})}(n,e,t);return new _s(i,r)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const u=a.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(f=>Rc(n,f)),u}}const i=function ub(n){return new Cl(new io(n.url),new io(n.params),new io(n.queryParams),new io(n.fragment),new io(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(a=>Rc(n,a));return new _s(i,r)}}const Vp="ngNavigationCancelingError";function y_(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=Mc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=oS(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function oS(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[Vp]=!0,i.cancellationCode=e,t&&(i.url=t),i}function BE(n){return UE(n)&&Mc(n.url)}function UE(n){return n&&n[Vp]}class aS{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Bp,this.attachRef=null}}let Bp=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new aS,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Up=!1;let db=(()=>{class n{constructor(t,i,r,a,u){this.parentContexts=t,this.location=i,this.changeDetector=a,this.environmentInjector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=r||en,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,Up);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,Up);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,Up);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new c.vHH(4013,Up);this._activatedRoute=t;const r=this.location,u=t._futureSnapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,_=new lS(t,f,r.injector);if(i&&function tk(n){return!!n.resolveComponentFactory}(i)){const w=i.resolveComponentFactory(u);this.activated=r.createComponent(w,r.length,_)}else this.activated=r.createComponent(u,{index:r.length,injector:_,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Bp),c.Y36(c.s_b),c.$8M("name"),c.Y36(c.sBO),c.Y36(c.lqb))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class lS{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Cl?this.route:e===Bp?this.childContexts:this.parent.get(e,t)}}let v_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(t,i){1&t&&c._UZ(0,"router-outlet")},dependencies:[db],encapsulation:2}),n})();function hb(n,e){return n.providers&&!n._injector&&(n._injector=(0,c.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function $E(n){const e=n.children&&n.children.map($E),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==en&&(t.component=v_),t}function xo(n){return n.outlet||en}function cS(n,e){const t=n.filter(i=>xo(i)===e);return t.push(...n.filter(i=>xo(i)!==e)),t}function b_(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class fb{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),VE(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=ju(t);e.children.forEach(a=>{const u=a.value.outlet;this.deactivateRoutes(a,r[u],i),delete r[u]}),pr(r,(a,u)=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(r===a)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,i);else a&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=ju(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);if(i&&i.outlet){const u=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=ju(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=ju(t);e.children.forEach(a=>{this.activateRoutes(a,r[a.value.outlet],i),this.forwardEvent(new NE(a.value.snapshot))}),e.children.length&&this.forwardEvent(new sS(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(VE(r),r===a)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const f=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),VE(f.route.value),this.activateChildRoutes(e,null,u.children)}else{const f=b_(r.snapshot),_=f?.get(c._Vd)??null;u.attachRef=null,u.route=r,u.resolver=_,u.injector=f,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,i)}}class zE{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Hp{constructor(e,t){this.component=e,this.route=t}}function pb(n,e,t){const i=n._root;return jp(i,e?e._root:null,t,[i.value])}function Oc(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,c.Z0I)(n)?e.get(n):n:i}function jp(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=ju(e);return n.children.forEach(u=>{(function Pc(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,u=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){const _=function qE(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Qr(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Qr(n.url,e.url)||!gs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!g_(n,e)||!gs(n.queryParams,e.queryParams);default:return!g_(n,e)}}(u,a,a.routeConfig.runGuardsAndResolvers);_?r.canActivateChecks.push(new zE(i)):(a.data=u.data,a._resolvedData=u._resolvedData),jp(n,e,a.component?f?f.children:null:t,i,r),_&&f&&f.outlet&&f.outlet.isActivated&&r.canDeactivateChecks.push(new Hp(f.outlet.component,u))}else u&&$p(e,f,r),r.canActivateChecks.push(new zE(i)),jp(n,null,a.component?f?f.children:null:t,i,r)})(u,a[u.value.outlet],t,i.concat([u.value]),r),delete a[u.value.outlet]}),pr(a,(u,f)=>$p(u,t.getContext(f),r)),r}function $p(n,e,t){const i=ju(n),r=n.value;pr(i,(a,u)=>{$p(a,r.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new Hp(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function zp(n){return"function"==typeof n}function Ah(n){return n instanceof zv||"EmptyError"===n?.name}const qp=Symbol("INITIAL_VALUE");function $u(){return Ii(n=>qv(n.map(e=>e.pipe(ma(1),ga(qp)))).pipe((0,ft.U)(e=>{for(const t of e)if(!0!==t){if(t===qp)return qp;if(!1===t||t instanceof Vu)return t}return!0}),ri(e=>e!==qp),ma(1)))}function bb(n){return(0,KR.z)((0,Zn.b)(e=>{if(Mc(e))throw y_(0,e)}),(0,ft.U)(e=>!0===e))}const wb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ys(n,e,t,i,r){const a=E_(n,e,t);return a.matched?function YE(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?ct(r.map(u=>{const f=Oc(u,n);return Ac(function mb(n){return n&&zp(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe($u(),bb()):ct(!0)}(i=hb(e,i),e,t).pipe((0,ft.U)(u=>!0===u?a:{...wb})):ct(a)}function E_(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...wb}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||LT)(t,n,e);if(!r)return{...wb};const a={};pr(r.posParams,(f,_)=>{a[_]=f.path});const u=r.consumed.length>0?{...a,...r.consumed[r.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function C_(n,e,t,i,r="corrected"){if(t.length>0&&function Eb(n,e,t){return t.some(i=>I_(n,e,i)&&xo(i)!==en)}(n,t,i)){const u=new nn(e,function mS(n,e,t,i){const r={};r[en]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&xo(a)!==en){const u=new nn([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,r[xo(a)]=u}return r}(n,e,i,new nn(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function QE(n,e,t){return t.some(i=>I_(n,e,i))}(n,t,i)){const u=new nn(n.segments,function ak(n,e,t,i,r,a){const u={};for(const f of i)if(I_(n,t,f)&&!r[xo(f)]){const _=new nn([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===a?n.segments.length:e.length,u[xo(f)]=_}return{...r,...u}}(n,e,t,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const a=new nn(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function I_(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function XE(n,e,t,i){return!!(xo(n)===i||i!==en&&I_(e,t,n))&&("**"===n.path||E_(e,n,t).matched)}function JE(n,e,t){return 0===e.length&&!n.children[t]}const Wp=!1;class D_{constructor(e){this.segmentGroup=e||null}}class Cb{constructor(e){this.urlTree=e}}function Zp(n){return Dc(new D_(n))}function eC(n){return Dc(new Cb(n))}class ya{constructor(e,t,i,r,a){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=a,this.allowRedirects=!0}apply(){const e=C_(this.urlTree.root,[],[],this.config).segmentGroup,t=new nn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,en).pipe((0,ft.U)(a=>this.createUrlTree(a_(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(wl(a=>{if(a instanceof Cb)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof D_?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,en).pipe((0,ft.U)(r=>this.createUrlTree(a_(r),e.queryParams,e.fragment))).pipe(wl(r=>{throw r instanceof D_?this.noMatchError(r):r}))}noMatchError(e){return new c.vHH(4002,Wp)}createUrlTree(e,t,i){const r=nb(e);return new Vu(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,ft.U)(a=>new nn([],a))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const a of Object.keys(i.children))"primary"===a?r.unshift(a):r.push(a);return(0,rn.D)(r).pipe(bl(a=>{const u=i.children[a],f=cS(t,a);return this.expandSegmentGroup(e,f,u,a).pipe((0,ft.U)(_=>({segment:_,outlet:a})))}),xp((a,u)=>(a[u.outlet]=u.segment,a),{}),Xg())}expandSegment(e,t,i,r,a,u){return(0,rn.D)(i).pipe(bl(f=>this.expandSegmentAgainstRoute(e,t,i,f,r,a,u).pipe(wl(w=>{if(w instanceof D_)return ct(null);throw w}))),vl(f=>!!f),wl((f,_)=>{if(Ah(f))return JE(t,r,a)?ct(new nn([],{})):Zp(t);throw f}))}expandSegmentAgainstRoute(e,t,i,r,a,u,f){return XE(r,t,a,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,a,u):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u):Zp(t):Zp(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const a=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?eC(a):this.lineralizeSegments(i,a).pipe((0,mi.z)(u=>{const f=new nn(u,{});return this.expandSegment(e,f,t,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u){const{matched:f,consumedSegments:_,remainingSegments:w,positionalParamSegments:I}=E_(t,r,a);if(!f)return Zp(t);const A=this.applyRedirectCommands(_,r.redirectTo,I);return r.redirectTo.startsWith("/")?eC(A):this.lineralizeSegments(r,A).pipe((0,mi.z)(F=>this.expandSegment(e,t,i,F.concat(w),u,!1)))}matchSegmentAgainstRoute(e,t,i,r,a){return"**"===i.path?(e=hb(i,e),i.loadChildren?(i._loadedRoutes?ct({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,ft.U)(f=>(i._loadedRoutes=f.routes,i._loadedInjector=f.injector,new nn(r,{})))):ct(new nn(r,{}))):ys(t,i,r,e).pipe(Ii(({matched:u,consumedSegments:f,remainingSegments:_})=>u?this.getChildConfig(e=i._injector??e,i,r).pipe((0,mi.z)(I=>{const A=I.injector??e,F=I.routes,{segmentGroup:B,slicedSegments:W}=C_(t,f,_,F),ie=new nn(B.segments,B.children);if(0===W.length&&ie.hasChildren())return this.expandChildren(A,F,ie).pipe((0,ft.U)(Je=>new nn(f,Je)));if(0===F.length&&0===W.length)return ct(new nn(f,{}));const _e=xo(i)===a;return this.expandSegment(A,ie,F,W,_e?en:a,!0).pipe((0,ft.U)(it=>new nn(f.concat(it.segments),it.children)))})):Zp(t)))}getChildConfig(e,t,i){return t.children?ct({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ct({routes:t._loadedRoutes,injector:t._loadedInjector}):function pS(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?ct(!0):ct(r.map(u=>{const f=Oc(u,n);return Ac(function uS(n){return n&&zp(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe($u(),bb())}(e,t,i).pipe((0,mi.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,Zn.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function nC(n){return Dc(oS(Wp,3))}())):ct({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return ct(i);if(r.numberOfChildren>1||!r.children[en])return Dc(new c.vHH(4e3,Wp));r=r.children[en]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const a=this.createSegmentGroup(e,t.root,i,r);return new Vu(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return pr(e,(r,a)=>{if("string"==typeof r&&r.startsWith(":")){const f=r.substring(1);i[a]=t[f]}else i[a]=r}),i}createSegmentGroup(e,t,i,r){const a=this.createSegments(e,t.segments,i,r);let u={};return pr(t.children,(f,_)=>{u[_]=this.createSegmentGroup(e,f,i,r)}),new nn(a,u)}createSegments(e,t,i,r){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,r):this.findOrReturn(a,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new c.vHH(4001,Wp);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class _S{}class yS{constructor(e,t,i,r,a,u,f,_){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=f,this.urlSerializer=_}recognize(){const e=C_(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,en).pipe((0,ft.U)(t=>{if(null===t)return null;const i=new ro([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},en,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new _s(i,t),a=new f_(this.url,r);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,i=LE(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,rn.D)(Object.keys(i.children)).pipe(bl(r=>{const a=i.children[r],u=cS(t,r);return this.processSegmentGroup(e,u,a,r)}),xp((r,a)=>r&&a?(r.push(...a),r):null),function NT(n,e=!1){return(0,ii.e)((t,i)=>{let r=0;t.subscribe((0,$t.x)(i,a=>{const u=n(a,r++);(u||e)&&i.next(a),!u&&i.complete()}))})}(r=>null!==r),Mp(null),Xg(),(0,ft.U)(r=>{if(null===r)return null;const a=rC(r);return function vS(n){n.sort((e,t)=>e.value.outlet===en?-1:t.value.outlet===en?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,i,r,a){return(0,rn.D)(t).pipe(bl(u=>this.processSegmentAgainstRoute(u._injector??e,u,i,r,a)),vl(u=>!!u),wl(u=>{if(Ah(u))return JE(i,r,a)?ct([]):ct(null);throw u}))}processSegmentAgainstRoute(e,t,i,r,a){if(t.redirectTo||!XE(t,i,r,a))return ct(null);let u;if("**"===t.path){const f=r.length>0?Yv(r).parameters:{},_=S_(i)+r.length;u=ct({snapshot:new ro(r,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ES(t),xo(t),t.component??t._loadedComponent??null,t,Kp(i),_,A_(t),_),consumedSegments:[],remainingSegments:[]})}else u=ys(i,t,r,e).pipe((0,ft.U)(({matched:f,consumedSegments:_,remainingSegments:w,parameters:I})=>{if(!f)return null;const A=S_(i)+_.length;return{snapshot:new ro(_,I,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ES(t),xo(t),t.component??t._loadedComponent??null,t,Kp(i),A,A_(t),A),consumedSegments:_,remainingSegments:w}}));return u.pipe(Ii(f=>{if(null===f)return ct(null);const{snapshot:_,consumedSegments:w,remainingSegments:I}=f;e=t._injector??e;const A=t._loadedInjector??e,F=function bS(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:B,slicedSegments:W}=C_(i,w,I,F.filter(_e=>void 0===_e.redirectTo),this.relativeLinkResolution);if(0===W.length&&B.hasChildren())return this.processChildren(A,F,B).pipe((0,ft.U)(_e=>null===_e?null:[new _s(_,_e)]));if(0===F.length&&0===W.length)return ct([new _s(_,[])]);const ie=xo(t)===a;return this.processSegment(A,F,B,W,ie?en:a).pipe((0,ft.U)(_e=>null===_e?null:[new _s(_,_e)]))}))}}function Db(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function rC(n){const e=[],t=new Set;for(const i of n){if(!Db(i)){e.push(i);continue}const r=e.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=rC(i.children);e.push(new _s(i.value,r))}return e.filter(i=>!t.has(i))}function Kp(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function S_(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function ES(n){return n.data||{}}function A_(n){return n.resolve||{}}function va(n){return"string"==typeof n.title||null===n.title}function Mh(n){return Ii(e=>{const t=n(e);return t?(0,rn.D)(t).pipe((0,ft.U)(()=>e)):ct(e)})}let Qp=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(a=>a.outlet===en);return i}getResolvedTitleForRoute(t){return t.data[t_]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(xh)},providedIn:"root"}),n})(),xh=(()=>{class n extends Qp{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Wf))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Sb{}class CS extends class cC{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Nc=new c.OlP("",{providedIn:"root",factory:()=>({})}),dC=new c.OlP("ROUTES");let Ab=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ct(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=Ac(t.loadComponent()).pipe((0,Zn.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),e_(()=>{this.componentLoaders.delete(t)})),r=new Yg(i,()=>new Xt.x).pipe(Zv());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ct({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const a=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,ft.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(i);let _,w,I=!1;Array.isArray(f)?w=f:(_=f.create(t).injector,w=VT(_.get(dC,[],c.XFs.Self|c.XFs.Optional)));return{routes:w.map($E),injector:_}}),e_(()=>{this.childrenLoaders.delete(i)})),u=new Yg(a,()=>new Xt.x).pipe(Zv());return this.childrenLoaders.set(i,u),u}loadModuleFactoryOrRoutes(t){return Ac(t()).pipe((0,mi.z)(i=>i instanceof c.YKP||Array.isArray(i)?ct(i):(0,rn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3),c.LFG(c.Sil))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class dk{}class DS{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function TS(n){throw n}function hC(n,e,t){return e.parse("/")}const Mb={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},SS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function fC(){const n=(0,c.f3M)(EE),e=(0,c.f3M)(Bp),t=(0,c.f3M)(Pe),i=(0,c.f3M)(c.zs3),r=(0,c.f3M)(c.Sil),a=(0,c.f3M)(dC,{optional:!0})??[],u=(0,c.f3M)(Nc,{optional:!0})??{},f=(0,c.f3M)(xh),_=(0,c.f3M)(Qp,{optional:!0}),w=(0,c.f3M)(dk,{optional:!0}),I=(0,c.f3M)(Sb,{optional:!0}),A=new er(null,n,e,t,i,r,VT(a));return w&&(A.urlHandlingStrategy=w),I&&(A.routeReuseStrategy=I),A.titleStrategy=_??f,function xb(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,A),A}let er=(()=>{class n{constructor(t,i,r,a,u,f,_){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=a,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Xt.x,this.errorHandler=TS,this.malformedUriErrorHandler=hC,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>ct(void 0),this.urlHandlingStrategy=new DS,this.routeReuseStrategy=new CS,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=u.get(Ab),this.configLoader.onLoadEndListener=F=>this.triggerEvent(new rS(F)),this.configLoader.onLoadStartListener=F=>this.triggerEvent(new iS(F)),this.ngModule=u.get(c.h0i),this.console=u.get(c.c2e);const A=u.get(c.R0b);this.isNgZoneEnabled=A instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function yE(){return new Vu(new nn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Lp(this.currentUrlTree,this.rootComponentType),this.transitions=new io({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(ri(r=>0!==r.id),(0,ft.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Ii(r=>{let a=!1,u=!1;return ct(r).pipe((0,Zn.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ii(f=>{const _=this.browserUrlTree.toString(),w=!this.navigated||f.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return pC(f.source)&&(this.browserUrlTree=f.extractedUrl),ct(f).pipe(Ii(A=>{const F=this.transitions.getValue();return i.next(new xc(A.id,this.serializeUrl(A.extractedUrl),A.source,A.restoredState)),F!==this.transitions.getValue()?Tc.E:Promise.resolve(A)}),function Ib(n,e,t,i){return Ii(r=>function gS(n,e,t,i,r){return new ya(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,ft.U)(a=>({...r,urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Zn.b)(A=>{this.currentNavigation={...this.currentNavigation,finalUrl:A.urlAfterRedirects},r.urlAfterRedirects=A.urlAfterRedirects}),function ck(n,e,t,i,r,a){return(0,mi.z)(u=>function iC(n,e,t,i,r,a,u="emptyOnly",f="legacy"){return new yS(n,e,t,i,r,u,f,a).recognize().pipe(Ii(_=>null===_?function lk(n){return new ti.y(e=>e.error(n))}(new _S):ct(_)))}(n,e,t,u.urlAfterRedirects,i.serialize(u.urlAfterRedirects),i,r,a).pipe((0,ft.U)(f=>({...u,targetSnapshot:f}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Zn.b)(A=>{if(r.targetSnapshot=A.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!A.extras.skipLocationChange){const B=this.urlHandlingStrategy.merge(A.urlAfterRedirects,A.rawUrl);this.setBrowserUrl(B,A)}this.browserUrlTree=A.urlAfterRedirects}const F=new JT(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(A.urlAfterRedirects),A.targetSnapshot);i.next(F)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:F,extractedUrl:B,source:W,restoredState:ie,extras:_e}=f,$e=new xc(F,this.serializeUrl(B),W,ie);i.next($e);const it=Lp(B,this.rootComponentType).snapshot;return ct(r={...f,targetSnapshot:it,urlAfterRedirects:B,extras:{..._e,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=f.rawUrl,f.resolve(null),Tc.E}),(0,Zn.b)(f=>{const _=new kE(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}),(0,ft.U)(f=>r={...f,guards:pb(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),function _b(n,e){return(0,mi.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:u}}=t;return 0===u.length&&0===a.length?ct({...t,guardsResult:!0}):function yb(n,e,t,i){return(0,rn.D)(n).pipe((0,mi.z)(r=>function KE(n,e,t,i,r){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?ct(a.map(f=>{const _=b_(e)??r,w=Oc(f,_);return Ac(function Sh(n){return n&&zp(n.canDeactivate)}(w)?w.canDeactivate(n,e,t,i):_.runInContext(()=>w(n,e,t,i))).pipe(vl())})).pipe($u()):ct(!0)}(r.component,r.route,t,e,i)),vl(r=>!0!==r,!0))}(u,i,r,n).pipe((0,mi.z)(f=>f&&function WE(n){return"boolean"==typeof n}(f)?function ZE(n,e,t,i){return(0,rn.D)(e).pipe(bl(r=>Zg(function hS(n,e){return null!==n&&e&&e(new OE(n)),ct(!0)}(r.route.parent,i),function vb(n,e){return null!==n&&e&&e(new PE(n)),ct(!0)}(r.route,i),function fS(n,e,t){const i=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(u=>function GE(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>Kg(()=>ct(u.guards.map(_=>{const w=b_(u.node)??t,I=Oc(_,w);return Ac(function w_(n){return n&&zp(n.canActivateChild)}(I)?I.canActivateChild(i,n):w.runInContext(()=>I(i,n))).pipe(vl())})).pipe($u())));return ct(a).pipe($u())}(n,r.path,t),function ok(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return ct(!0);const r=i.map(a=>Kg(()=>{const u=b_(e)??t,f=Oc(a,u);return Ac(function dS(n){return n&&zp(n.canActivate)}(f)?f.canActivate(e,n):u.runInContext(()=>f(e,n))).pipe(vl())}));return ct(r).pipe($u())}(n,r.route,t))),vl(r=>!0!==r,!0))}(i,a,n,e):ct(f)),(0,ft.U)(f=>({...t,guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,Zn.b)(f=>{if(r.guardsResult=f.guardsResult,Mc(f.guardsResult))throw y_(0,f.guardsResult);const _=new eS(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(_)}),ri(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",3),!1)),Mh(f=>{if(f.guards.canActivateChecks.length)return ct(f).pipe((0,Zn.b)(_=>{const w=new tS(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}),Ii(_=>{let w=!1;return ct(_).pipe(function sC(n,e){return(0,mi.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return ct(t);let a=0;return(0,rn.D)(r).pipe(bl(u=>function oC(n,e,t,i){const r=n.routeConfig,a=n._resolve;return void 0!==r?.title&&!va(r)&&(a[t_]=r.title),function aC(n,e,t,i){const r=function lC(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return ct({});const a={};return(0,rn.D)(r).pipe((0,mi.z)(u=>function Tb(n,e,t,i){const r=b_(e)??i,a=Oc(n,r);return Ac(a.resolve?a.resolve(e,t):r.runInContext(()=>a(e,t)))}(n[u],e,t,i).pipe(vl(),(0,Zn.b)(f=>{a[u]=f}))),Kv(1),Jg(a),wl(u=>Ah(u)?Tc.E:Dc(u)))}(a,n,e,i).pipe((0,ft.U)(u=>(n._resolvedData=u,n.data=LE(n,t).resolve,r&&va(r)&&(n.data[t_]=r.title),null)))}(u.route,i,n,e)),(0,Zn.b)(()=>a++),Kv(1),(0,mi.z)(u=>a===r.length?ct(t):Tc.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Zn.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(_),this.cancelNavigationTransition(_,"",2))}}))}),(0,Zn.b)(_=>{const w=new nS(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}))}),Mh(f=>{const _=w=>{const I=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&I.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,Zn.b)(A=>{w.component=A}),(0,ft.U)(()=>{})));for(const A of w.children)I.push(..._(A));return I};return qv(_(f.targetSnapshot.root)).pipe(Mp(),ma(1))}),Mh(()=>this.afterPreactivation()),(0,ft.U)(f=>{const _=function ek(n,e,t){const i=Rc(n,e._root,t?t._root:void 0);return new lb(i,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return r={...f,targetRouterState:_}}),(0,Zn.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,ft.U)(i=>(new fb(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,Zn.b)({next(){a=!0},complete(){a=!0}}),e_(()=>{a||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),wl(f=>{if(u=!0,UE(f)){BE(f)||(this.navigated=!0,this.restoreHistory(r,!0));const _=new Np(r.id,this.serializeUrl(r.extractedUrl),f.message,f.cancellationCode);if(i.next(_),BE(f)){const w=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),I={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||pC(r.source)};this.scheduleNavigation(w,"imperative",null,I,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const _=new Fp(r.id,this.serializeUrl(r.extractedUrl),f,r.targetSnapshot??void 0);i.next(_);try{r.resolve(this.errorHandler(f))}catch(w){r.reject(w)}}return Tc.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},a=t.state?.navigationId?t.state:null;if(a){const f={...a};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(r.state=f)}const u=this.parseUrl(t.url);this.scheduleNavigation(u,i,a,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map($E),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:a,fragment:u,queryParamsHandling:f,preserveFragment:_}=i,w=r||this.routerState.root,I=_?this.currentUrlTree.fragment:u;let A=null;switch(f){case"merge":A={...this.currentUrlTree.queryParams,...a};break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=a||null}return null!==A&&(A=this.removeEmptyProps(A)),ME(w,this.currentUrlTree,t,A,I??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Mc(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function AS(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new c.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...Mb}:!1===i?{...SS}:i,Mc(t))return vE(this.currentUrlTree,t,r);const a=this.parseUrl(t);return vE(this.currentUrlTree,a,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const a=t[r];return null!=a&&(i[r]=a),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Hu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,a,u){if(this.disposed)return Promise.resolve(!1);let f,_,w;u?(f=u.resolve,_=u.reject,w=u.promise):w=new Promise((F,B)=>{f=F,_=B});const I=++this.navigationId;let A;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),A=r&&r.\u0275routerPageId?r.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):A=0,this.setTransition({id:I,targetPageId:A,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:f,reject:_,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(F=>Promise.reject(F))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),a={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",a):this.location.go(r,"",a)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i,r){const a=new Np(t.id,this.serializeUrl(t.extractedUrl),i,r);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:function(){return fC()},providedIn:"root"}),n})();function pC(n){return"imperative"!==n}let Rh=(()=>{class n{constructor(t,i,r,a,u){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=a,this.el=u,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Xt.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,c.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,c.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,c.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==t?i.setAttribute(r,"tabindex",t):i.removeAttribute(r,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(er),c.Y36(Cl),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&c.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),n})(),x_=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Xt.x,this.subscription=t.events.subscribe(a=>{a instanceof Hu&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,c.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,c.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,c.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,a,u){return!!(0!==t||i||r||a||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(er),c.Y36(Cl),c.Y36(ge))},n.\u0275dir=c.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&c.NdJ("click",function(a){return i.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&c.uIk("target",i.target)("href",i.href,c.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),n})();class MS{}let xS=(()=>{class n{constructor(t,i,r,a,u){this.router=t,this.injector=r,this.preloadingStrategy=a,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(ri(t=>t instanceof Hu),bl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const a of i){a.providers&&!a._injector&&(a._injector=(0,c.MMx)(a.providers,t,`Route: ${a.path}`));const u=a._injector??t,f=a._loadedInjector??u;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?r.push(this.preloadConfig(u,a)):(a.children||a._loadedRoutes)&&r.push(this.processRoutes(f,a.children??a._loadedRoutes))}return(0,rn.D)(r).pipe((0,Ap.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):ct(null);const a=r.pipe((0,mi.z)(u=>null===u?ct(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,rn.D)([a,u]).pipe((0,Ap.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(er),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(MS),c.LFG(Ab))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Xp=new c.OlP("");let mC=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof xc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Hu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof d_&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new d_(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function so(n,e){return{\u0275kind:n,\u0275providers:e}}function kh(n){return[{provide:dC,multi:!0,useValue:n}]}function P_(){const n=(0,c.f3M)(c.zs3);return e=>{const t=n.get(c.z2F);if(e!==t.components[0])return;const i=n.get(er),r=n.get(Gu);1===n.get(Fc)&&i.initialNavigation(),n.get(qu,null,c.XFs.Optional)?.setUpPreloading(),n.get(Xp,null,c.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const Gu=new c.OlP("",{factory:()=>new Xt.x}),Fc=new c.OlP("",{providedIn:"root",factory:()=>1});const qu=new c.OlP("");function Fh(n){return so(0,[{provide:qu,useExisting:xS},{provide:MS,useExisting:n}])}const Rb=new c.OlP("ROUTER_FORROOT_GUARD"),gC=[Pe,{provide:EE,useClass:CE},{provide:er,useFactory:fC},Bp,{provide:Cl,useFactory:function mr(n){return n.routerState.root},deps:[er]},Ab];function _C(){return new c.PXZ("Router",er)}let kb=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[gC,[],kh(t),{provide:Rb,useFactory:wC,deps:[[er,new c.FiY,new c.tp0]]},{provide:Nc,useValue:i||{}},i?.useHash?{provide:ge,useClass:It}:{provide:ge,useClass:_t},{provide:Xp,useFactory:()=>{const n=(0,c.f3M)(er),e=(0,c.f3M)(Ss),t=(0,c.f3M)(Nc);return t.scrollOffset&&e.setOffset(t.scrollOffset),new mC(n,e,t)}},i?.preloadingStrategy?Fh(i.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:_C},i?.initialNavigation?kS(i):[],[{provide:EC,useFactory:P_},{provide:c.tb,multi:!0,useExisting:EC}]]}}static forChild(t){return{ngModule:n,providers:[kh(t)]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Rb,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[v_]}),n})();function wC(n){return"guarded"}function kS(n){return["disabled"===n.initialNavigation?so(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const e=(0,c.f3M)(er);return()=>{e.setUpLocationChangeListener()}}},{provide:Fc,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?so(2,[{provide:Fc,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:e=>{const t=e.get($,Promise.resolve());let i=!1;return()=>t.then(()=>new Promise(a=>{const u=e.get(er),f=e.get(Gu);(function r(a){e.get(er).events.pipe(ri(f=>f instanceof Hu||f instanceof Np||f instanceof Fp),(0,ft.U)(f=>f instanceof Hu||f instanceof Np&&(0===f.code||1===f.code)&&null),ri(f=>null!==f),ma(1)).subscribe(()=>{a()})})(()=>{a(!0),i=!0}),u.afterPreactivation=()=>(a(!0),i||f.closed?ct(void 0):f),u.initialNavigation()}))}}]).\u0275providers:[]]}const EC=new c.OlP("");var em=P(4986),tr=P(8623);function tm(){return(0,ii.e)((n,e)=>{let t,i=!1;n.subscribe((0,$t.x)(e,r=>{const a=t;t=r,i&&e.next([a,r]),i=!0}))})}function Ob(n,e=yl.y){return n=n??N_,(0,ii.e)((t,i)=>{let r,a=!0;t.subscribe((0,$t.x)(i,u=>{const f=e(u);(a||!n(r,f))&&(a=!1,r=f,i.next(u))}))})}function N_(n,e){return n===e}P(3042);var Xe,Nb=P(3942),we=P(5861),ba=P(2951),Wu=P(4859),Dl=P(1877),mn=P(2090),Fb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},oo={},nm=nm||{},Bt=Fb||self;function F_(){}function im(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Lh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var L_="closure_uid_"+(1e9*Math.random()>>>0),OS=0;function DC(n,e,t){return n.call.apply(n.bind,arguments)}function TC(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function gr(n,e,t){return(gr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?DC:TC).apply(null,arguments)}function Vh(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function ji(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,a){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return e.prototype[r].apply(i,u)}}function Tl(){this.s=this.s,this.o=this.o}Tl.prototype.s=!1,Tl.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function IC(n){Object.prototype.hasOwnProperty.call(n,L_)&&n[L_]||(n[L_]=++OS)}(this)},Tl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Lb=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function V_(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function Vb(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(im(i)){const r=n.length||0,a=i.length||0;n.length=r+a;for(let u=0;u<a;u++)n[r+u]=i[u]}else n.push(i)}}function _r(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}_r.prototype.h=function(){this.defaultPrevented=!0};var AC=function(){if(!Bt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Bt.addEventListener("test",F_,e),Bt.removeEventListener("test",F_,e)}catch{}return n}();function Bb(n){return/^[\s\xa0]*$/.test(n)}var MC=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Ub(n,e){return n<e?-1:n>e?1:0}function rm(){var n=Bt.navigator;return n&&(n=n.userAgent)?n:""}function wa(n){return-1!=rm().indexOf(n)}function Di(n){return Di[" "](n),n}function Hb(n,e,t){return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}Di[" "]=F_;var B_,n,PS=wa("Opera"),Bh=wa("Trident")||wa("MSIE"),jb=wa("Edge"),$b=jb||Bh,zb=wa("Gecko")&&!(-1!=rm().toLowerCase().indexOf("webkit")&&!wa("Edge"))&&!(wa("Trident")||wa("MSIE"))&&!wa("Edge"),xC=-1!=rm().toLowerCase().indexOf("webkit")&&!wa("Edge");function Zu(){var n=Bt.document;return n?n.documentMode:void 0}e:{var Gb="",U_=(n=rm(),zb?/rv:([^\);]+)(\)|;)/.exec(n):jb?/Edge\/([\d\.]+)/.exec(n):Bh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):xC?/WebKit\/(\S+)/.exec(n):PS?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(U_&&(Gb=U_?U_[1]:""),Bh){var qb=Zu();if(null!=qb&&qb>parseFloat(Gb)){B_=String(qb);break e}}B_=Gb}var RC={},Ea=Bt.document&&Bh&&(Zu()||parseInt(B_,10))||void 0;function om(n,e){if(_r.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(zb){e:{try{Di(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:kC[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&om.$.h.call(this)}}ji(om,_r);var kC={2:"touch",3:"pen",4:"mouse"};om.prototype.h=function(){om.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var vs="closure_listenable_"+(1e6*Math.random()|0),ko=0;function Oo(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++ko,this.fa=this.ia=!1}function am(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function j_(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function OC(n){const e={};for(const t in n)e[t]=n[t];return e}const PC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function NC(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let a=0;a<PC.length;a++)t=PC[a],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function $_(n){this.src=n,this.g={},this.h=0}function lm(n,e){var t=e.type;if(t in n.g){var a,i=n.g[t],r=Lb(i,e);(a=0<=r)&&Array.prototype.splice.call(i,r,1),a&&(am(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Ku(n,e,t,i){for(var r=0;r<n.length;++r){var a=n[r];if(!a.fa&&a.listener==e&&a.capture==!!t&&a.la==i)return r}return-1}$_.prototype.add=function(n,e,t,i,r){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var u=Ku(n,e,i,r);return-1<u?(e=n[u],t||(e.ia=!1)):((e=new Oo(e,this.src,a,!!i,r)).ia=t,n.push(e)),e};var Wb="closure_lm_"+(1e6*Math.random()|0),z_={};function FC(n,e,t,i,r){if(i&&i.once)return cm(n,e,t,i,r);if(Array.isArray(e)){for(var a=0;a<e.length;a++)FC(n,e[a],t,i,r);return null}return t=W_(t),n&&n[vs]?n.O(e,t,Lh(i)?!!i.capture:!!i,r):Zb(n,e,t,!1,i,r)}function Zb(n,e,t,i,r,a){if(!e)throw Error("Invalid event type");var u=Lh(r)?!!r.capture:!!r,f=Uh(n);if(f||(n[Wb]=f=new $_(n)),(t=f.add(e,t,i,u,a)).proxy)return t;if(i=function LC(){const e=Yb;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)AC||(r=u),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(Kb(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function cm(n,e,t,i,r){if(Array.isArray(e)){for(var a=0;a<e.length;a++)cm(n,e[a],t,i,r);return null}return t=W_(t),n&&n[vs]?n.P(e,t,Lh(i)?!!i.capture:!!i,r):Zb(n,e,t,!0,i,r)}function VC(n,e,t,i,r){if(Array.isArray(e))for(var a=0;a<e.length;a++)VC(n,e[a],t,i,r);else i=Lh(i)?!!i.capture:!!i,t=W_(t),n&&n[vs]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Ku(a=n.g[e],t,i,r))&&(am(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=Uh(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Ku(e,t,i,r)),(t=-1<n?e[n]:null)&&G_(t))}function G_(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[vs])lm(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(Kb(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=Uh(e))?(lm(t,n),0==t.h&&(t.src=null,e[Wb]=null)):am(n)}}}function Kb(n){return n in z_?z_[n]:z_[n]="on"+n}function Yb(n,e){if(n.fa)n=!0;else{e=new om(e,this);var t=n.listener,i=n.la||n.src;n.ia&&G_(n),n=t.call(i,e)}return n}function Uh(n){return(n=n[Wb])instanceof $_?n:null}var q_="__closure_events_fn_"+(1e9*Math.random()>>>0);function W_(n){return"function"==typeof n?n:(n[q_]||(n[q_]=function(e){return n.handleEvent(e)}),n[q_])}function $i(){Tl.call(this),this.i=new $_(this),this.S=this,this.J=null}function nr(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new _r(e,n);else if(e instanceof _r)e.target=e.target||n;else{var r=e;NC(e=new _r(i,n),r)}if(r=!0,t)for(var a=t.length-1;0<=a;a--){var u=e.g=t[a];r=um(u,i,!0,e)&&r}if(r=um(u=e.g=n,i,!0,e)&&r,r=um(u,i,!1,e)&&r,t)for(a=0;a<t.length;a++)r=um(u=e.g=t[a],i,!1,e)&&r}function um(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,a=0;a<e.length;++a){var u=e[a];if(u&&!u.fa&&u.capture==t){var f=u.listener,_=u.la||u.src;u.ia&&lm(n.i,u),r=!1!==f.call(_,i)&&r}}return r&&!i.defaultPrevented}ji($i,Tl),$i.prototype[vs]=!0,$i.prototype.removeEventListener=function(n,e,t,i){VC(this,n,e,t,i)},$i.prototype.N=function(){if($i.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)am(t[i]);delete n.g[e],n.h--}}this.J=null},$i.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},$i.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Z_=Bt.JSON.stringify;function BC(){var n=$C;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Qb,HC=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new NS,n=>n.reset());class NS{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function FS(n){Bt.setTimeout(()=>{throw n},0)}function jC(n,e){Qb||function LS(){var n=Bt.Promise.resolve(void 0);Qb=function(){n.then(VS)}}(),Xb||(Qb(),Xb=!0),$C.add(n,e)}var Xb=!1,$C=new class UC{constructor(){this.h=this.g=null}add(e,t){const i=HC.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function VS(){for(var n;n=BC();){try{n.h.call(n.g)}catch(t){FS(t)}var e=HC;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Xb=!1}function K_(n,e){$i.call(this),this.h=n||1,this.g=e||Bt,this.j=gr(this.qb,this),this.l=Date.now()}function Jb(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function ew(n,e,t){if("function"==typeof n)t&&(n=gr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=gr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Bt.setTimeout(n,e||0)}function zC(n){n.g=ew(()=>{n.g=null,n.i&&(n.i=!1,zC(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ji(K_,$i),(Xe=K_.prototype).ga=!1,Xe.T=null,Xe.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),nr(this,"tick"),this.ga&&(Jb(this),this.start()))}},Xe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Xe.N=function(){K_.$.N.call(this),Jb(this),delete this.g};class BS extends Tl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:zC(this)}N(){super.N(),this.g&&(Bt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dm(n){Tl.call(this),this.h=n,this.g={}}ji(dm,Tl);var GC=[];function qC(n,e,t,i){Array.isArray(t)||(t&&(GC[0]=t.toString()),t=GC);for(var r=0;r<t.length;r++){var a=FC(e,t[r],i||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function WC(n){j_(n.g,function(e,t){this.g.hasOwnProperty(t)&&G_(e)},n),n.g={}}function hm(){this.g=!0}function Yu(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function QC(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<r.length;u++)r[u]=""}}}return Z_(t)}catch{return e}}(n,t)+(i?" "+i:"")})}dm.prototype.N=function(){dm.$.N.call(this),WC(this)},dm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},hm.prototype.Ea=function(){this.g=!1},hm.prototype.info=function(){};var Lc={},tw=null;function fm(){return tw=tw||new $i}function nw(n){_r.call(this,Lc.Ta,n)}function Qu(n){const e=fm();nr(e,new nw(e))}function Vc(n,e){_r.call(this,Lc.STAT_EVENT,n),this.stat=e}function Xr(n){const e=fm();nr(e,new Vc(e,n))}function XC(n,e){_r.call(this,Lc.Ua,n),this.size=e}function Ca(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Bt.setTimeout(function(){n()},e)}Lc.Ta="serverreachability",ji(nw,_r),Lc.STAT_EVENT="statevent",ji(Vc,_r),Lc.Ua="timingevent",ji(XC,_r);var Y_={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Q_={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function JC(){}function rw(){}JC.prototype.h=null;var ow,X_={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Mt(){_r.call(this,"d")}function sw(){_r.call(this,"c")}function J_(){}function Ia(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new dm(this),this.P=ey,this.V=new K_(n=$b?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new eI}function eI(){this.i=null,this.g="",this.h=!1}ji(Mt,_r),ji(sw,_r),ji(J_,JC),J_.prototype.g=function(){return new XMLHttpRequest},J_.prototype.i=function(){return{}},ow=new J_;var ey=45e3,Hh={},Kn={};function tI(n,e,t){n.L=1,n.v=iy(Da(e)),n.s=t,n.S=!0,aw(n,null)}function aw(n,e){n.G=Date.now(),jh(n),n.A=Da(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),GS(t.i,"t",i),n.C=0,t=n.l.I,n.h=new eI,n.g=td(n.l,t?e:null,!n.s),0<n.O&&(n.M=new BS(gr(n.Pa,n,n.g),n.O)),qC(n.U,n.g,"readystatechange",n.nb),e=n.I?OC(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Qu(),function ZC(n,e,t,i,r,a){n.info(function(){if(n.g)if(a)for(var u="",f=a.split("&"),_=0;_<f.length;_++){var w=f[_].split("=");if(1<w.length){var I=w[0];w=w[1];var A=I.split("_");u=2<=A.length&&"type"==A[1]?u+(I+"=")+w+"&":u+(I+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.W,n.s)}function lw(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function nI(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=iI(n,t),r==Kn){4==e&&(n.o=4,Xr(14),i=!1),Yu(n.j,n.m,null,"[Incomplete Response]");break}if(r==Hh){n.o=4,Xr(15),Yu(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Yu(n.j,n.m,r,null),uw(n,r)}lw(n)&&r!=Kn&&r!=Hh&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Xr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ca&&(n.ca=!0,(e=n.l).g==n&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Am(e),e.L=!0,Xr(11))):(Yu(n.j,n.m,t,"[Invalid Chunked Response]"),Xu(n),mm(n))}function iI(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Kn:(t=Number(e.substring(t,i)),isNaN(t)?Hh:(i+=1)+t>e.length?Kn:(e=e.substr(i,t),n.C=i+t,e))}function jh(n){n.Y=Date.now()+n.P,cw(n,n.P)}function cw(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ca(gr(n.lb,n),e)}function pm(n){n.B&&(Bt.clearTimeout(n.B),n.B=null)}function mm(n){0==n.l.H||n.J||II(n.l,n)}function Xu(n){pm(n);var e=n.M;e&&"function"==typeof e.ra&&e.ra(),n.M=null,Jb(n.V),WC(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.ra())}function uw(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||hw(t.h,n)))if(!n.K&&hw(t.h,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Wh(t),Dm(t)}Sm(t),Xr(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.M&&0==t.A&&!t.v&&(t.v=Ca(gr(t.ib,t),6e3));if(1>=dI(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else Al(t,11)}else if((n.K||t.g==n)&&Wh(t),!Bb(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let w=r[e];if(t.V=w[0],w=w[1],2==t.H)if("c"==w[0]){t.J=w[1],t.oa=w[2];const I=w[3];null!=I&&(t.qa=I,t.j.info("VER="+t.qa));const A=w[4];null!=A&&(t.Ga=A,t.j.info("SVER="+t.Ga));const F=w[5];null!=F&&"number"==typeof F&&0<F&&(t.K=i=1.5*F,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const B=n.g;if(B){const W=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(W){var a=i.h;a.g||-1==W.indexOf("spdy")&&-1==W.indexOf("quic")&&-1==W.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(fw(a,a.h),a.h=null))}if(i.F){const ie=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;ie&&(i.Da=ie,Pn(i.G,i.F,ie))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-n.G,t.j.info("Handshake RTT: "+t.S+"ms"));var u=n;if((i=t).wa=ww(i,i.I?i.oa:null,i.Y),u.K){hI(i.h,u);var f=u,_=i.K;_&&f.setTimeout(_),f.B&&(pm(f),jh(f)),i.g=u}else CI(i);0<t.i.length&&uy(t)}else"stop"!=w[0]&&"close"!=w[0]||Al(t,7);else 3==t.H&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?Al(t,7):_w(t):"noop"!=w[0]&&t.l&&t.l.Aa(w),t.A=0)}Qu()}catch{}}function rI(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(im(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function US(n){if(n.sa&&"function"==typeof n.sa)return n.sa();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(im(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function gm(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(im(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,a=0;a<r;a++)e.call(void 0,i[a],t&&t[a],n)}(Xe=Ia.prototype).setTimeout=function(n){this.P=n},Xe.nb=function(n){n=n.target;const e=this.M;e&&3==Sl(n)?e.l():this.Pa(n)},Xe.Pa=function(n){try{if(n==this.g)e:{const I=Sl(this.g);var e=this.g.Ia();if(this.g.da(),!(3>I)&&(3!=I||$b||this.g&&(this.h.h||this.g.ja()||vI(this.g)))){this.J||4!=I||7==e||Qu(),pm(this);var t=this.g.da();this.aa=t;t:if(lw(this)){var i=vI(this.g);n="";var r=i.length,a=4==Sl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Xu(this),mm(this);var u="";break t}this.h.i=new Bt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:a&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==t,function KC(n,e,t,i,r,a,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+a+" "+u})}(this.j,this.u,this.A,this.m,this.W,I,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bb(f)){var w=f;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,Xr(12),Xu(this),mm(this);break e}Yu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,uw(this,t)}this.S?(nI(this,I,u),$b&&this.i&&3==I&&(qC(this.U,this.V,"tick",this.mb),this.V.start())):(Yu(this.j,this.m,u,null),uw(this,u)),4==I&&Xu(this),this.i&&!this.J&&(4==I?II(this.l,this):(this.i=!1,jh(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Xr(12)):(this.o=0,Xr(13)),Xu(this),mm(this)}}}catch{}},Xe.mb=function(){if(this.g){var n=Sl(this.g),e=this.g.ja();this.C<e.length&&(pm(this),nI(this,n,e),this.i&&4!=n&&jh(this))}},Xe.cancel=function(){this.J=!0,Xu(this)},Xe.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function YC(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Qu(),Xr(17)),Xu(this),this.o=2,mm(this)):cw(this,this.Y-n)};var sI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bc(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Bc){this.h=void 0!==e?e:n.h,_m(this,n.j),this.s=n.s,this.g=n.g,ny(this,n.m),this.l=n.l,e=n.i;var t=new bm;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),$h(this,t),this.o=n.o}else n&&(t=String(n).match(sI))?(this.h=!!e,_m(this,t[1]||"",!0),this.s=ym(t[2]||""),this.g=ym(t[3]||"",!0),ny(this,t[4]),this.l=ym(t[5]||"",!0),$h(this,t[6]||"",!0),this.o=ym(t[7]||"")):(this.h=!!e,this.i=new bm(null,this.h))}function Da(n){return new Bc(n)}function _m(n,e,t){n.j=t?ym(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function ny(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function $h(n,e,t){e instanceof bm?(n.i=e,function ry(n,e){e&&!n.j&&(Ju(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&($S(this,i),GS(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=vm(e,lI)),n.i=new bm(e,n.h))}function Pn(n,e,t){n.i.set(e,t)}function iy(n){return Pn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function ym(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function vm(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,oI),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function oI(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Bc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(vm(e,dw,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(vm(e,dw,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(vm(t,"/"==t.charAt(0)?HS:aI,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",vm(t,jS)),n.join("")};var dw=/[#\/\?@]/g,aI=/[#\?:]/g,HS=/[#\?]/g,lI=/[#\?@]/g,jS=/#/g;function bm(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ju(n){n.g||(n.g=new Map,n.h=0,n.i&&function ty(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var a=n[t].substring(0,i);r=n[t].substring(i+1)}else a=n[t];e(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function $S(n,e){Ju(n),e=ed(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function zS(n,e){return Ju(n),e=ed(n,e),n.g.has(e)}function GS(n,e,t){$S(n,e),0<t.length&&(n.i=null,n.g.set(ed(n,e),V_(t)),n.h+=t.length)}function ed(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function cI(n){this.l=n||uI,n=Bt.PerformanceNavigationTiming?0<(n=Bt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Bt.g&&Bt.g.Ka&&Bt.g.Ka()&&Bt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Xe=bm.prototype).add=function(n,e){Ju(this),this.i=null,n=ed(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Xe.forEach=function(n,e){Ju(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},Xe.sa=function(){Ju(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let a=0;a<r.length;a++)t.push(e[i])}return t},Xe.Z=function(n){Ju(this);let e=[];if("string"==typeof n)zS(this,n)&&(e=e.concat(this.g.get(ed(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Xe.set=function(n,e){return Ju(this),this.i=null,zS(this,n=ed(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Xe.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Xe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const a=encodeURIComponent(String(i)),u=this.Z(i);for(i=0;i<u.length;i++){var r=a;""!==u[i]&&(r+="="+encodeURIComponent(String(u[i]))),n.push(r)}}return this.i=n.join("&")};var uI=10;function zh(n){return!!n.h||!!n.g&&n.g.size>=n.j}function dI(n){return n.h?1:n.g?n.g.size:0}function hw(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function fw(n,e){n.g?n.g.add(e):n.h=e}function hI(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function fI(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return V_(n.i)}function sy(){}function WS(){this.g=new sy}function ZS(n,e,t){const i=t||"";try{rI(n,function(r,a){let u=r;Lh(r)&&(u=Z_(r)),e.push(i+a+"="+encodeURIComponent(u))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function oy(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Gh(n){this.l=n.fc||null,this.j=n.ob||!1}function ay(n,e){$i.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=ly,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}cI.prototype.cancel=function(){if(this.i=fI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},sy.prototype.stringify=function(n){return Bt.JSON.stringify(n,void 0)},sy.prototype.parse=function(n){return Bt.JSON.parse(n,void 0)},ji(Gh,JC),Gh.prototype.g=function(){return new ay(this.l,this.j)},Gh.prototype.i=function(n){return function(){return n}}({}),ji(ay,$i);var ly=0;function pI(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function qh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Em(n)}function Em(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Xe=ay.prototype).open=function(n,e){if(this.readyState!=ly)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Em(this)},Xe.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Bt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Xe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,qh(this)),this.readyState=ly},Xe.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Em(this)),this.g&&(this.readyState=3,Em(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Bt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;pI(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Xe.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?qh(this):Em(this),3==this.readyState&&pI(this)}},Xe.Za=function(n){this.g&&(this.response=this.responseText=n,qh(this))},Xe.Ya=function(n){this.g&&(this.response=n,qh(this))},Xe.ka=function(){this.g&&qh(this)},Xe.setRequestHeader=function(n,e){this.v.append(n,e)},Xe.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Xe.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(ay.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var pw=Bt.JSON.parse;function gi(n){$i.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=mw,this.L=this.M=!1}ji(gi,$i);var mw="",mI=/^https?$/i,KS=["POST","PUT"];function gI(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,cy(n),Cm(n)}function cy(n){n.F||(n.F=!0,nr(n,"complete"),nr(n,"error"))}function _I(n){if(n.h&&typeof nm<"u"&&(!n.C[1]||4!=Sl(n)||2!=n.da()))if(n.v&&4==Sl(n))ew(n.La,0,n);else if(nr(n,"readystatechange"),4==Sl(n)){n.h=!1;try{const f=n.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===f){var r=String(n.I).match(sI)[1]||null;if(!r&&Bt.self&&Bt.self.location){var a=Bt.self.location.protocol;r=a.substr(0,a.length-1)}i=!mI.test(r?r.toLowerCase():"")}t=i}if(t)nr(n,"complete"),nr(n,"success");else{n.m=6;try{var u=2<Sl(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.da()+"]",cy(n)}}finally{Cm(n)}}}function Cm(n,e){if(n.g){yI(n);const t=n.g,i=n.C[0]?F_:null;n.g=null,n.C=null,e||nr(n,"ready");try{t.onreadystatechange=i}catch{}}}function yI(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Bt.clearTimeout(n.A),n.A=null)}function Sl(n){return n.g?n.g.readyState:0}function vI(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case mw:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function bI(n){let e="";return j_(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function gw(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=bI(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Pn(n,e,t))}function Im(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function wI(n){this.Ga=0,this.i=[],this.j=new hm,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Im("failFast",!1,n),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Im("baseRetryDelayMs",5e3,n),this.hb=Im("retryDelaySeedMs",1e4,n),this.eb=Im("forwardChannelMaxRetries",2,n),this.xa=Im("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.K=void 0,this.I=n&&n.supportsCrossDomainXhr||!1,this.J="",this.h=new cI(n&&n.concurrentRequestLimit),this.Ja=new WS,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.j.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function _w(n){if(yw(n),3==n.H){var e=n.W++,t=Da(n.G);Pn(t,"SID",n.J),Pn(t,"RID",e),Pn(t,"TYPE","terminate"),Tm(n,t),(e=new Ia(n,n.j,e,void 0)).L=2,e.v=iy(Da(t)),t=!1,Bt.navigator&&Bt.navigator.sendBeacon&&(t=Bt.navigator.sendBeacon(e.v.toString(),"")),!t&&Bt.Image&&((new Image).src=e.v,t=!0),t||(e.g=td(e.l,null),e.g.ha(e.v)),e.G=Date.now(),jh(e)}TI(n)}function Dm(n){n.g&&(Am(n),n.g.cancel(),n.g=null)}function yw(n){Dm(n),n.u&&(Bt.clearTimeout(n.u),n.u=null),Wh(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Bt.clearTimeout(n.m),n.m=null)}function uy(n){zh(n.h)||n.m||(n.m=!0,jC(n.Na,n),n.C=0)}function vw(n,e){var t;t=e?e.m:n.W++;const i=Da(n.G);Pn(i,"SID",n.J),Pn(i,"RID",t),Pn(i,"AID",n.V),Tm(n,i),n.o&&n.s&&gw(i,n.o,n.s),t=new Ia(n,n.j,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.i=e.F.concat(n.i)),e=EI(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),fw(n.h,t),tI(t,i,e)}function Tm(n,e){n.ma&&j_(n.ma,function(t,i){Pn(e,i,t)}),n.l&&rI({},function(t,i){Pn(e,i,t)})}function EI(n,e,t){t=Math.min(n.i.length,t);var i=n.l?gr(n.l.Va,n.l,n):null;e:{var r=n.i;let a=-1;for(;;){const u=["count="+t];-1==a?0<t?(a=r[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);let f=!0;for(let _=0;_<t;_++){let w=r[_].h;const I=r[_].g;if(w-=a,0>w)a=Math.max(0,r[_].h-100),f=!1;else try{ZS(I,u,"req"+w+"_")}catch{i&&i(I)}}if(f){i=u.join("&");break e}}}return n=n.i.splice(0,t),e.F=n,i}function CI(n){n.g||n.u||(n.ba=1,jC(n.Ma,n),n.A=0)}function Sm(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Ca(gr(n.Ma,n),DI(n,n.A)),n.A++,0))}function Am(n){null!=n.B&&(Bt.clearTimeout(n.B),n.B=null)}function bw(n){n.g=new Ia(n,n.j,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Da(n.wa);Pn(e,"RID","rpc"),Pn(e,"SID",n.J),Pn(e,"CI",n.M?"0":"1"),Pn(e,"AID",n.V),Pn(e,"TYPE","xmlhttp"),Tm(n,e),n.o&&n.s&&gw(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.oa,t.L=1,t.v=iy(Da(e)),t.s=null,t.S=!0,aw(t,n)}function Wh(n){null!=n.v&&(Bt.clearTimeout(n.v),n.v=null)}function II(n,e){var t=null;if(n.g==e){Wh(n),Am(n),n.g=null;var i=2}else{if(!hw(n.h,e))return;t=e.F,hI(n.h,e),i=1}if(0!=n.H)if(n.ta=e.aa,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;nr(i=fm(),new XC(i,t)),uy(n)}else CI(n);else if(3==(r=e.o)||0==r&&0<n.ta||!(1==i&&function QS(n,e){return!(dI(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.F.concat(n.i),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Ca(gr(n.Na,n,e),DI(n,n.C)),n.C++,0)))}(n,e)||2==i&&Sm(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),r){case 1:Al(n,5);break;case 4:Al(n,10);break;case 3:Al(n,6);break;default:Al(n,2)}}function DI(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.l||(t*=2),t*e}function Al(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=gr(n.pb,n);t||(t=new Bc("//www.google.com/images/cleardot.gif"),Bt.location&&"http"==Bt.location.protocol||_m(t,"https"),iy(t)),function wm(n,e){const t=new hm;if(Bt.Image){const i=new Image;i.onload=Vh(oy,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Vh(oy,t,i,"TestLoadImage: error",!1,e),i.onabort=Vh(oy,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Vh(oy,t,i,"TestLoadImage: timeout",!1,e),Bt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Xr(2);n.H=0,n.l&&n.l.za(e),TI(n),yw(n)}function TI(n){if(n.H=0,n.pa=[],n.l){const e=fI(n.h);(0!=e.length||0!=n.i.length)&&(Vb(n.pa,e),Vb(n.pa,n.i),n.h.i.length=0,V_(n.i),n.i.length=0),n.l.ya()}}function ww(n,e,t){var i=t instanceof Bc?Da(t):new Bc(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),ny(i,i.m);else{var r=Bt.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var a=new Bc(null,void 0);i&&_m(a,i),e&&(a.g=e),r&&ny(a,r),t&&(a.l=t),i=a}return e=n.Da,(t=n.F)&&e&&Pn(i,t,e),Pn(i,"VER",n.qa),Tm(n,i),i}function td(n,e,t){if(e&&!n.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new gi(t&&n.Ha&&!n.va?new Gh({ob:!0}):n.va)).Oa(n.I),e}function Ew(){}function dy(){if(Bh&&!(10<=Number(Ea)))throw Error("Environmental error: no available transport.")}function ao(n,e){$i.call(this),this.g=new wI(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Bb(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Bb(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Zh(this)}function Cw(n){Mt.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function hy(){sw.call(this),this.status=1}function Zh(n){this.g=n}function Po(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function fy(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var a=n.g[3],u=(e=n.g[0])+(a^(t=n.g[1])&((r=n.g[2])^a))+i[0]+3614090360&4294967295;u=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=t+(u<<7&4294967295|u>>>25))+((u=a+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|u>>>20))+((u=r+(t^a&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^r&(a^e))+i[3]+3250441966&4294967295)<<22&4294967295|u>>>10))+((u=e+(a^t&(r^a))+i[4]+4118548399&4294967295)<<7&4294967295|u>>>25))+((u=a+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|u>>>20))+((u=r+(t^a&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^r&(a^e))+i[7]+4249261313&4294967295)<<22&4294967295|u>>>10))+((u=e+(a^t&(r^a))+i[8]+1770035416&4294967295)<<7&4294967295|u>>>25))+((u=a+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|u>>>20))+((u=r+(t^a&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^r&(a^e))+i[11]+2304563134&4294967295)<<22&4294967295|u>>>10))+((u=e+(a^t&(r^a))+i[12]+1804603682&4294967295)<<7&4294967295|u>>>25))+((u=a+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|u>>>20))+((u=r+(t^a&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^r&(a^e))+i[15]+1236535329&4294967295)<<22&4294967295|u>>>10))+((u=e+(r^a&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|u>>>27))+((u=a+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|u>>>23))+((u=r+(e^t&(a^e))+i[11]+643717713&4294967295)<<14&4294967295|u>>>18))+((u=t+(a^e&(r^a))+i[0]+3921069994&4294967295)<<20&4294967295|u>>>12))+((u=e+(r^a&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|u>>>27))+((u=a+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|u>>>23))+((u=r+(e^t&(a^e))+i[15]+3634488961&4294967295)<<14&4294967295|u>>>18))+((u=t+(a^e&(r^a))+i[4]+3889429448&4294967295)<<20&4294967295|u>>>12))+((u=e+(r^a&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|u>>>27))+((u=a+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|u>>>23))+((u=r+(e^t&(a^e))+i[3]+4107603335&4294967295)<<14&4294967295|u>>>18))+((u=t+(a^e&(r^a))+i[8]+1163531501&4294967295)<<20&4294967295|u>>>12))+((u=e+(r^a&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|u>>>27))+((u=a+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|u>>>23))+((u=r+(e^t&(a^e))+i[7]+1735328473&4294967295)<<14&4294967295|u>>>18))+((u=t+(a^e&(r^a))+i[12]+2368359562&4294967295)<<20&4294967295|u>>>12))+((u=e+(t^r^a)+i[5]+4294588738&4294967295)<<4&4294967295|u>>>28))+((u=a+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|u>>>21))+((u=r+(a^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|u>>>16))+((u=t+(r^a^e)+i[14]+4259657740&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^r^a)+i[1]+2763975236&4294967295)<<4&4294967295|u>>>28))+((u=a+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|u>>>21))+((u=r+(a^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|u>>>16))+((u=t+(r^a^e)+i[10]+3200236656&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^r^a)+i[13]+681279174&4294967295)<<4&4294967295|u>>>28))+((u=a+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|u>>>21))+((u=r+(a^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|u>>>16))+((u=t+(r^a^e)+i[6]+76029189&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^r^a)+i[9]+3654602809&4294967295)<<4&4294967295|u>>>28))+((u=a+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|u>>>21))+((u=r+(a^e^t)+i[15]+530742520&4294967295)<<16&4294967295|u>>>16))+((u=t+(r^a^e)+i[2]+3299628645&4294967295)<<23&4294967295|u>>>9))+((u=e+(r^(t|~a))+i[0]+4096336452&4294967295)<<6&4294967295|u>>>26))+((u=a+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|u>>>22))+((u=r+(e^(a|~t))+i[14]+2878612391&4294967295)<<15&4294967295|u>>>17))+((u=t+(a^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|u>>>11))+((u=e+(r^(t|~a))+i[12]+1700485571&4294967295)<<6&4294967295|u>>>26))+((u=a+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|u>>>22))+((u=r+(e^(a|~t))+i[10]+4293915773&4294967295)<<15&4294967295|u>>>17))+((u=t+(a^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|u>>>11))+((u=e+(r^(t|~a))+i[8]+1873313359&4294967295)<<6&4294967295|u>>>26))+((u=a+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|u>>>22))+((u=r+(e^(a|~t))+i[6]+2734768916&4294967295)<<15&4294967295|u>>>17))+((u=t+(a^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|u>>>11))+((a=(e=t+((u=e+(r^(t|~a))+i[4]+4149444226&4294967295)<<6&4294967295|u>>>26))+((u=a+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|u>>>22))^((r=a+((u=r+(e^(a|~t))+i[2]+718787259&4294967295)<<15&4294967295|u>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(u<<21&4294967295|u>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+a&4294967295}function Cn(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var a=0|n[r];i&&a==e||(t[r]=a,i=!1)}this.g=t}(Xe=gi.prototype).Oa=function(n){this.M=n},Xe.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ow.g(),this.C=function iw(n){return n.h||(n.h=n.i())}(this.u?this.u:ow),this.g.onreadystatechange=gr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(a){return void gI(this,a)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const a of i.keys())t.set(a,i.get(a))}i=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),r=Bt.FormData&&n instanceof Bt.FormData,!(0<=Lb(KS,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,u]of t)this.g.setRequestHeader(a,u);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{yI(this),0<this.B&&((this.L=function YS(n){return Bh&&function pk(){return Hb(RC,9,function(){let n=0;const e=MC(String(B_)).split("."),t=MC("9").split("."),i=Math.max(e.length,t.length);for(let u=0;0==n&&u<i;u++){var r=e[u]||"",a=t[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==r[0].length&&0==a[0].length)break;n=Ub(0==r[1].length?0:parseInt(r[1],10),0==a[1].length?0:parseInt(a[1],10))||Ub(0==r[2].length,0==a[2].length)||Ub(r[2],a[2]),r=r[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gr(this.ua,this)):this.A=ew(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){gI(this,a)}},Xe.ua=function(){typeof nm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,nr(this,"timeout"),this.abort(8))},Xe.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,nr(this,"complete"),nr(this,"abort"),Cm(this))},Xe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Cm(this,!0)),gi.$.N.call(this)},Xe.La=function(){this.s||(this.G||this.v||this.l?_I(this):this.kb())},Xe.kb=function(){_I(this)},Xe.da=function(){try{return 2<Sl(this)?this.g.status:-1}catch{return-1}},Xe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Xe.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),pw(e)}},Xe.Ia=function(){return this.m},Xe.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Xe=wI.prototype).qa=8,Xe.H=1,Xe.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Ia(this,this.j,n,void 0);let a=this.s;if(this.U&&(a?(a=OC(a),NC(a,this.U)):a=this.U),null!==this.o||this.O||(r.I=a,a=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=EI(this,r,e),Pn(t=Da(this.G),"RID",n),Pn(t,"CVER",22),this.F&&Pn(t,"X-HTTP-Session-Id",this.F),Tm(this,t),a&&(this.O?e="headers="+encodeURIComponent(String(bI(a)))+"&"+e:this.o&&gw(t,this.o,a)),fw(this.h,r),this.bb&&Pn(t,"TYPE","init"),this.P?(Pn(t,"$req",e),Pn(t,"SID","null"),r.ba=!0,tI(r,t,null)):tI(r,t,e),this.H=2}}else 3==this.H&&(n?vw(this,n):0==this.i.length||zh(this.h)||vw(this))},Xe.Ma=function(){if(this.u=null,bw(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var n=2*this.S;this.j.info("BP detection timer enabled: "+n),this.B=Ca(gr(this.jb,this),n)}},Xe.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Xr(10),Dm(this),bw(this))},Xe.ib=function(){null!=this.v&&(this.v=null,Dm(this),Sm(this),Xr(19))},Xe.pb=function(n){n?(this.j.info("Successfully pinged google.com"),Xr(2)):(this.j.info("Failed to ping google.com"),Xr(1))},(Xe=Ew.prototype).Ba=function(){},Xe.Aa=function(){},Xe.za=function(){},Xe.ya=function(){},Xe.Va=function(){},dy.prototype.g=function(n,e){return new ao(n,e)},ji(ao,$i),ao.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var n=this.g,e=this.l,t=this.h||void 0;Xr(0),n.Y=e,n.ma=t||{},n.M=n.aa,n.G=ww(n,null,n.Y),uy(n)},ao.prototype.close=function(){_w(this.g)},ao.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Z_(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.fb++,n)),3==e.H&&uy(e)},ao.prototype.N=function(){this.g.l=null,delete this.j,_w(this.g),delete this.g,ao.$.N.call(this)},ji(Cw,Mt),ji(hy,sw),ji(Zh,Ew),Zh.prototype.Ba=function(){nr(this.g,"a")},Zh.prototype.Aa=function(n){nr(this.g,new Cw(n))},Zh.prototype.za=function(n){nr(this.g,new hy)},Zh.prototype.ya=function(){nr(this.g,"b")},ji(Po,function Iw(){this.blockSize=-1}),Po.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Po.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,a=0;a<e;){if(0==r)for(;a<=t;)fy(this,n,a),a+=this.blockSize;if("string"==typeof n){for(;a<e;)if(i[r++]=n.charCodeAt(a++),r==this.blockSize){fy(this,i),r=0;break}}else for(;a<e;)if(i[r++]=n[a++],r==this.blockSize){fy(this,i),r=0;break}}this.h=r,this.i+=e},Po.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var SI={};function py(n){return-128<=n&&128>n?Hb(SI,n,function(e){return new Cn([0|e],0>e?-1:0)}):new Cn([0|n],0>n?-1:0)}function No(n){if(isNaN(n)||!isFinite(n))return Kh;if(0>n)return ir(No(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=Tw;return new Cn(e,0)}var Tw=4294967296,Kh=py(0),Sw=py(1),AI=py(16777216);function Ta(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Fo(n){return-1==n.h}function ir(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Cn(t,~n.h).add(Sw)}function my(n,e){return n.add(ir(e))}function gy(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function _y(n,e){this.g=n,this.h=e}function Aw(n,e){if(Ta(e))throw Error("division by zero");if(Ta(n))return new _y(Kh,Kh);if(Fo(n))return e=Aw(ir(n),e),new _y(ir(e.g),ir(e.h));if(Fo(e))return e=Aw(n,ir(e)),new _y(ir(e.g),e.h);if(30<n.g.length){if(Fo(n)||Fo(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Sw,i=e;0>=i.X(n);)t=MI(t),i=MI(i);var r=Yh(t,1),a=Yh(i,1);for(i=Yh(i,2),t=Yh(t,2);!Ta(i);){var u=a.add(i);0>=u.X(n)&&(r=r.add(t),a=u),i=Yh(i,1),t=Yh(t,1)}return e=my(n,r.R(e)),new _y(r,e)}for(r=Kh;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),u=(a=No(t)).R(e);Fo(u)||0<u.X(n);)u=(a=No(t-=i)).R(e);Ta(a)&&(a=Sw),r=r.add(a),n=my(n,u)}return new _y(r,n)}function MI(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Cn(t,n.h)}function Yh(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],a=0;a<i;a++)r[a]=0<e?n.D(a+t)>>>e|n.D(a+t+1)<<32-e:n.D(a+t);return new Cn(r,n.h)}(Xe=Cn.prototype).ea=function(){if(Fo(this))return-ir(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:Tw+i)*e,e*=Tw}return n},Xe.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ta(this))return"0";if(Fo(this))return"-"+ir(this).toString(n);for(var e=No(Math.pow(n,6)),t=this,i="";;){var r=Aw(t,e).g,a=((0<(t=my(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Ta(t=r))return a+i;for(;6>a.length;)a="0"+a;i=a+i}},Xe.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Xe.X=function(n){return Fo(n=my(this,n))?-1:Ta(n)?0:1},Xe.abs=function(){return Fo(this)?ir(this):this},Xe.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var a=i+(65535&this.D(r))+(65535&n.D(r)),u=(a>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=u>>>16,t[r]=(u&=65535)<<16|(a&=65535)}return new Cn(t,-2147483648&t[t.length-1]?-1:0)},Xe.R=function(n){if(Ta(this)||Ta(n))return Kh;if(Fo(this))return Fo(n)?ir(this).R(ir(n)):ir(ir(this).R(n));if(Fo(n))return ir(this.R(ir(n)));if(0>this.X(AI)&&0>n.X(AI))return No(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var a=this.D(i)>>>16,u=65535&this.D(i),f=n.D(r)>>>16,_=65535&n.D(r);t[2*i+2*r]+=u*_,gy(t,2*i+2*r),t[2*i+2*r+1]+=a*_,gy(t,2*i+2*r+1),t[2*i+2*r+1]+=u*f,gy(t,2*i+2*r+1),t[2*i+2*r+2]+=a*f,gy(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Cn(t,0)},Xe.gb=function(n){return Aw(this,n).h},Xe.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Cn(t,this.h&n.h)},Xe.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Cn(t,this.h|n.h)},Xe.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Cn(t,this.h^n.h)},dy.prototype.createWebChannel=dy.prototype.g,ao.prototype.send=ao.prototype.u,ao.prototype.open=ao.prototype.m,ao.prototype.close=ao.prototype.close,Y_.NO_ERROR=0,Y_.TIMEOUT=8,Y_.HTTP_ERROR=6,Q_.COMPLETE="complete",rw.EventType=X_,X_.OPEN="a",X_.CLOSE="b",X_.ERROR="c",X_.MESSAGE="d",$i.prototype.listen=$i.prototype.O,gi.prototype.listenOnce=gi.prototype.P,gi.prototype.getLastError=gi.prototype.Sa,gi.prototype.getLastErrorCode=gi.prototype.Ia,gi.prototype.getStatus=gi.prototype.da,gi.prototype.getResponseJson=gi.prototype.Wa,gi.prototype.getResponseText=gi.prototype.ja,gi.prototype.send=gi.prototype.ha,gi.prototype.setWithCredentials=gi.prototype.Oa,Po.prototype.digest=Po.prototype.l,Po.prototype.reset=Po.prototype.reset,Po.prototype.update=Po.prototype.j,Cn.prototype.add=Cn.prototype.add,Cn.prototype.multiply=Cn.prototype.R,Cn.prototype.modulo=Cn.prototype.gb,Cn.prototype.compare=Cn.prototype.X,Cn.prototype.toNumber=Cn.prototype.ea,Cn.prototype.toString=Cn.prototype.toString,Cn.prototype.getBits=Cn.prototype.D,Cn.fromNumber=No,Cn.fromString=function Dw(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return ir(Dw(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=No(Math.pow(e,8)),i=Kh,r=0;r<n.length;r+=8){var a=Math.min(8,n.length-r),u=parseInt(n.substring(r,r+a),e);8>a?(a=No(Math.pow(e,a)),i=i.R(a).add(No(u))):i=(i=i.R(t)).add(No(u))}return i};var XS=oo.createWebChannelTransport=function(){return new dy},xI=oo.getStatEventTarget=function(){return fm()},Mw=oo.ErrorCode=Y_,JS=oo.EventType=Q_,eA=oo.Event=Lc,RI=oo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},tA=oo.FetchXmlHttpFactory=Gh,yy=oo.WebChannel=rw,nA=oo.XhrIo=gi,iA=oo.Md5=Po,Sa=oo.Integer=Cn;const xw="@firebase/firestore";class zi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zi.UNAUTHENTICATED=new zi(null),zi.GOOGLE_CREDENTIALS=new zi("google-credentials-uid"),zi.FIRST_PARTY=new zi("first-party-uid"),zi.MOCK_USER=new zi("mock-user");let nd="9.21.0";const Ml=new Dl.Yd("@firebase/firestore");function vy(){return Ml.logLevel}function Fe(n,...e){if(Ml.logLevel<=Dl.in.DEBUG){const t=e.map(by);Ml.debug(`Firestore (${nd}): ${n}`,...t)}}function Fi(n,...e){if(Ml.logLevel<=Dl.in.ERROR){const t=e.map(by);Ml.error(`Firestore (${nd}): ${n}`,...t)}}function lo(n,...e){if(Ml.logLevel<=Dl.in.WARN){const t=e.map(by);Ml.warn(`Firestore (${nd}): ${n}`,...t)}}function by(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ot(n="Unexpected state"){const e=`FIRESTORE (${nd}) INTERNAL ASSERTION FAILED: `+n;throw Fi(e),new Error(e)}function gt(n,e){n||ot()}function Ze(n,e){return n}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends mn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Nn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class OI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wy{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(zi.UNAUTHENTICATED))}shutdown(){}}class Mm{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class sA{constructor(e){this.t=e,this.currentUser=zi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const a=w=>this.i!==r?(r=this.i,t(w)):Promise.resolve();let u=new Nn;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Nn,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const w=u;e.enqueueRetryable((0,we.Z)(function*(){yield w.promise,yield a(i.currentUser)}))},_=w=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(w=>_(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?_(w):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Nn)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(gt("string"==typeof i.accessToken),new OI(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return gt(null===e||"string"==typeof e),new zi(e)}}class oA{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=zi.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class aA{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new oA(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(zi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xm{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ey{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=a=>{null!=a.error&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.T;return this.T=a.token,Fe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const r=a=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?r(a):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(gt("string"==typeof t.token),this.T=t.token,new xm(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function lA(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class Rw{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=lA(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%e.length))}return i}}function Ut(n,e){return n<e?-1:n>e?1:0}function Uc(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function kw(n){return n+"\0"}class si{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Me(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Me(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Me(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return si.fromMillis(Date.now())}static fromDate(e){return si.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new si(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ut(this.nanoseconds,e.nanoseconds):Ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class wt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new wt(e)}static min(){return new wt(new si(0,0))}static max(){return new wt(new si(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Cy{constructor(e,t,i){void 0===t?t=0:t>e.length&&ot(),void 0===i?i=e.length-t:i>e.length-t&&ot(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Cy.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Cy?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=e.get(r),u=t.get(r);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class on extends Cy{construct(e,t,i){return new on(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Me(ce.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new on(t)}static emptyPath(){return new on([])}}const Ow=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class li extends Cy{construct(e,t,i){return new li(e,t,i)}static isValidIdentifier(e){return Ow.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),li.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new li(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(0===i.length)throw new Me(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;r<e.length;){const f=e[r];if("\\"===f){if(r+1===e.length)throw new Me(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Me(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=_,r+=2}else"`"===f?(u=!u,r++):"."!==f||u?(i+=f,r++):(a(),r++)}if(a(),u)throw new Me(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new li(t)}static emptyPath(){return new li([])}}class Ke{constructor(e){this.path=e}static fromPath(e){return new Ke(on.fromString(e))}static fromName(e){return new Ke(on.fromString(e).popFirst(5))}static empty(){return new Ke(on.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===on.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return on.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ke(new on(e.slice()))}}class Qh{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function Pw(n){return n.fields.find(e=>2===e.kind)}function id(n){return n.fields.filter(e=>2!==e.kind)}Qh.UNKNOWN_ID=-1;class Iy{constructor(e,t){this.fieldPath=e,this.kind=t}}class rd{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new rd(0,bs.min())}}function Nw(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=wt.fromTimestamp(1e9===i?new si(t+1,0):new si(t,i));return new bs(r,Ke.empty(),e)}function Fw(n){return new bs(n.readTime,n.key,-1)}class bs{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new bs(wt.min(),Ke.empty(),-1)}static max(){return new bs(wt.max(),Ke.empty(),-1)}}function Dy(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ke.comparator(n.documentKey,e.documentKey),0!==t?t:Ut(n.largestBatchId,e.largestBatchId))}const NI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Lw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function xl(n){return Vw.apply(this,arguments)}function Vw(){return Vw=(0,we.Z)(function*(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==NI)throw n;Fe("LocalStore","Unexpectedly lost primary lease")}),Vw.apply(this,arguments)}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):se.reject(t)}static resolve(e){return new se((t,i)=>{t(e)})}static reject(e){return new se((t,i)=>{i(e)})}static waitFor(e){return new se((t,i)=>{let r=0,a=0,u=!1;e.forEach(f=>{++r,f.next(()=>{++a,u&&a===r&&t()},_=>i(_))}),u=!0,a===r&&t()})}static or(e){let t=se.resolve(!1);for(const i of e)t=t.next(r=>r?se.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,a)=>{i.push(t.call(this,r,a))}),this.waitFor(i)}static mapArray(e,t){return new se((i,r)=>{const a=e.length,u=new Array(a);let f=0;for(let _=0;_<a;_++){const w=_;t(e[w]).next(I=>{u[w]=I,++f,f===a&&i(u)},I=>r(I))}})}static doWhile(e,t){return new se((i,r)=>{const a=()=>{!0===e()?t().next(()=>{a()},r):i()};a()})}}class Ty{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.R=new Nn,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{t.error?this.R.reject(new Rm(e,t.error)):this.R.resolve()},this.transaction.onerror=i=>{const r=Sy(i.target.error);this.R.reject(new Rm(e,r))}}static open(e,t,i,r){try{return new Ty(t,e.transaction(r,i))}catch(a){throw new Rm(t,a)}}get v(){return this.R.promise}abort(e){e&&this.R.reject(e),this.aborted||(Fe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new gk(t)}}class Yn{constructor(e,t,i){this.name=e,this.version=t,this.V=i,12.2===Yn.S((0,mn.z$)())&&Fi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Fe("SimpleDb","Removing database:",e),Jh(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,mn.hl)())return!1;if(Yn.C())return!0;const e=(0,mn.z$)(),t=Yn.S(e),i=0<t&&t<10,r=Yn.N(e),a=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||a)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(e){var t=this;return(0,we.Z)(function*(){return t.db||(Fe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=u=>{i(u.target.result)},a.onblocked=()=>{r(new Rm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const f=u.target.error;r("VersionError"===f.name?new Me(ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Me(ce.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Rm(e,f))},a.onupgradeneeded=u=>{Fe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.V.$(u.target.result,a.transaction,u.oldVersion,t.version).next(()=>{Fe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=i=>t.F(i)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var a=this;return(0,we.Z)(function*(){const u="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.O(e);const _=Ty.open(a.db,e,u?"readonly":"readwrite",i),w=r(_).next(I=>(_.P(),I)).catch(I=>(_.abort(I),se.reject(I))).toPromise();return w.catch(()=>{}),yield _.v,w}catch(_){const w=_,I="FirebaseError"!==w.name&&f<3;if(Fe("SimpleDb","Transaction failed with error:",w.message,"Retrying:",I),a.close(),!I)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Xh{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Jh(this.L.delete())}}class Rm extends Me{constructor(e,t){super(ce.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Hc(n){return"IndexedDbTransactionError"===n.name}class gk{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Fe("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Fe("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Jh(i)}add(e){return Fe("SimpleDb","ADD",this.store.name,e,e),Jh(this.store.add(e))}get(e){return Jh(this.store.get(e)).next(t=>(void 0===t&&(t=null),Fe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Fe("SimpleDb","DELETE",this.store.name,e),Jh(this.store.delete(e))}count(){return Fe("SimpleDb","COUNT",this.store.name),Jh(this.store.count())}j(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),a=[];return this.W(r,(u,f)=>{a.push(f)}).next(()=>a)}{const r=this.store.getAll(i.range);return new se((a,u)=>{r.onerror=f=>{u(f.target.error)},r.onsuccess=f=>{a(f.target.result)}})}}H(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new se((r,a)=>{i.onerror=u=>{a(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}J(e,t){Fe("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const r=this.cursor(i);return this.W(r,(a,u,f)=>f.delete())}X(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.W(r,t)}Z(e){const t=this.cursor({});return new se((i,r)=>{t.onerror=a=>{const u=Sy(a.target.error);r(u)},t.onsuccess=a=>{const u=a.target.result;u?e(u.primaryKey,u.value).next(f=>{f?u.continue():i()}):i()}})}W(e,t){const i=[];return new se((r,a)=>{e.onerror=u=>{a(u.target.error)},e.onsuccess=u=>{const f=u.target.result;if(!f)return void r();const _=new Xh(f),w=t(f.primaryKey,f.value,_);if(w instanceof se){const I=w.catch(A=>(_.done(),se.reject(A)));i.push(I)}_.isDone?r():null===_.K?f.continue():f.continue(_.K)}}).next(()=>se.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Jh(n){return new se((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=Sy(i.target.error);t(r)}})}let Bw=!1;function Sy(n){const e=Yn.S((0,mn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Me("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Bw||(Bw=!0,setTimeout(()=>{throw i},0)),i}}return n}class km{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Fe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,we.Z)(function*(){t.task=null;try{Fe("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(i){Hc(i)?Fe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield xl(i)}yield t.et(6e4)}))}}class uA{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,we.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.st(i,e))})()}st(e,t){const i=new Set;let r=t,a=!0;return se.doWhile(()=>!0===a&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!i.has(u))return Fe("IndexBackiller",`Processing collection: ${u}`),this.it(e,u,r).next(f=>{r-=f,i.add(u)});a=!1})).next(()=>t-r)}it(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(a=>{const u=a.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.rt(r,a)).next(f=>(Fe("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>u.size)}))}rt(e,t){let i=e;return t.changes.forEach((r,a)=>{const u=Fw(a);Dy(u,i)>0&&(i=u)}),new bs(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Jr=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Om(n){return null==n}function ef(n){return 0===n&&1/n==-1/0}function FI(n){return"number"==typeof n&&Number.isInteger(n)&&!ef(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function kr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Ay(e)),e=dA(n.get(t),e);return Ay(e)}function dA(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function Ay(n){return n+"\x01\x01"}function Lo(n){const e=n.length;if(gt(e>=2),2===e)return gt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),on.emptyPath();const t=e-2,i=[];let r="";for(let a=0;a<e;){const u=n.indexOf("\x01",a);switch((u<0||u>t)&&ot(),n.charAt(u+1)){case"\x01":const f=n.substring(a,u);let _;0===r.length?_=f:(r+=f,_=r,r=""),i.push(_);break;case"\x10":r+=n.substring(a,u),r+="\0";break;case"\x11":r+=n.substring(a,u+1);break;default:ot()}a=u+2}return new on(i)}const Uw=["userId","batchId"];function sd(n,e){return[n,kr(e)]}function My(n,e,t){return[n,kr(e),t]}const _k={},LI=["prefixPath","collectionGroup","readTime","documentId"],hA=["prefixPath","collectionGroup","documentId"],VI=["collectionGroup","readTime","prefixPath","documentId"],tf=["canonicalId","targetId"],fA=["targetId","path"],BI=["path","targetId"],Hw=["collectionId","parent"],yk=["indexId","uid"],pA=["uid","sequenceNumber"],vk=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],mA=["indexId","uid","orderedDocumentKey"],gA=["userId","collectionPath","documentId"],_A=["userId","collectionPath","largestBatchId"],UI=["userId","collectionGroup","largestBatchId"],jw=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],yA=[...jw,"documentOverlays"],$w=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],zw=$w,vA=[...zw,"indexConfiguration","indexState","indexEntries"];class Gw extends Lw{constructor(e,t){super(),this.at=e,this.currentSequenceNumber=t}}function Gi(n,e){const t=Ze(n);return Yn.M(t.at,e)}function HI(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Rl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function qw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Bn{constructor(e,t){this.comparator=e,this.root=t||yr.EMPTY}insert(e,t){return new Bn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,yr.BLACK,null,null))}remove(e){return new Bn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pm(this.root,e,this.comparator,!0)}}class Pm{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yr{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=i??yr.RED,this.left=r??yr.EMPTY,this.right=a??yr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new yr(e??this.key,t??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return yr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return yr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ot();const e=this.left.check();if(e!==this.right.check())throw ot();return e+(this.isRed()?0:1)}}yr.EMPTY=null,yr.RED=!0,yr.BLACK=!1,yr.EMPTY=new class{constructor(){this.size=0}get key(){throw ot()}get value(){throw ot()}get color(){throw ot()}get left(){throw ot()}get right(){throw ot()}copy(n,e,t,i,r){return this}insert(n,e,t){return new yr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qn{constructor(e){this.comparator=e,this.data=new Bn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new bA(this.data.getIterator())}getIteratorFrom(e){return new bA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Qn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(0!==this.comparator(r,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Qn(this.comparator);return t.data=e,t}}class bA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function od(n){return n.hasNext()?n.getNext():void 0}class Vs{constructor(e){this.fields=e,e.sort(li.comparator)}static empty(){return new Vs([])}unionWith(e){let t=new Qn(li.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Vs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Uc(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class wA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class rr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new wA("Invalid base64 string: "+r):r}}(e);return new rr(t)}static fromUint8Array(e){const t=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(e);return new rr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rr.EMPTY_BYTE_STRING=new rr("");const wk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ad(n){if(gt(!!n),"string"==typeof n){let e=0;const t=wk.exec(n);if(gt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ti(n.seconds),nanos:Ti(n.nanos)}}function Ti(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function jc(n){return"string"==typeof n?rr.fromBase64String(n):rr.fromUint8Array(n)}function ld(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Ww(n){const e=n.mapValue.fields.__previous_value__;return ld(e)?Ww(e):e}function nf(n){const e=ad(n.mapValue.fields.__local_write_time__.timestampValue);return new si(e.seconds,e.nanos)}class xy{constructor(e,t,i,r,a,u,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class kl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new kl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof kl&&e.projectId===this.projectId&&e.database===this.database}}const Ol={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Zw={nullValue:"NULL_VALUE"};function Aa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ld(n)?4:jI(n)?9007199254740991:10:ot()}function Vo(n,e){if(n===e)return!0;const t=Aa(n);if(t!==Aa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return nf(n).isEqual(nf(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=ad(i.timestampValue),u=ad(r.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,jc(n.bytesValue).isEqual(jc(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Ti(i.geoPointValue.latitude)===Ti(r.geoPointValue.latitude)&&Ti(i.geoPointValue.longitude)===Ti(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Ti(i.integerValue)===Ti(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=Ti(i.doubleValue),u=Ti(r.doubleValue);return a===u?ef(a)===ef(u):isNaN(a)&&isNaN(u)}return!1}(n,e);case 9:return Uc(n.arrayValue.values||[],e.arrayValue.values||[],Vo);case 10:return function(i,r){const a=i.mapValue.fields||{},u=r.mapValue.fields||{};if(HI(a)!==HI(u))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===u[f]||!Vo(a[f],u[f])))return!1;return!0}(n,e);default:return ot()}var r}function Nm(n,e){return void 0!==(n.values||[]).find(t=>Vo(t,e))}function Pl(n,e){if(n===e)return 0;const t=Aa(n),i=Aa(e);if(t!==i)return Ut(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ut(n.booleanValue,e.booleanValue);case 2:return function(r,a){const u=Ti(r.integerValue||r.doubleValue),f=Ti(a.integerValue||a.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return EA(n.timestampValue,e.timestampValue);case 4:return EA(nf(n),nf(e));case 5:return Ut(n.stringValue,e.stringValue);case 6:return function(r,a){const u=jc(r),f=jc(a);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(r,a){const u=r.split("/"),f=a.split("/");for(let _=0;_<u.length&&_<f.length;_++){const w=Ut(u[_],f[_]);if(0!==w)return w}return Ut(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,a){const u=Ut(Ti(r.latitude),Ti(a.latitude));return 0!==u?u:Ut(Ti(r.longitude),Ti(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,a){const u=r.values||[],f=a.values||[];for(let _=0;_<u.length&&_<f.length;++_){const w=Pl(u[_],f[_]);if(w)return w}return Ut(u.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,a){if(r===Ol.mapValue&&a===Ol.mapValue)return 0;if(r===Ol.mapValue)return 1;if(a===Ol.mapValue)return-1;const u=r.fields||{},f=Object.keys(u),_=a.fields||{},w=Object.keys(_);f.sort(),w.sort();for(let I=0;I<f.length&&I<w.length;++I){const A=Ut(f[I],w[I]);if(0!==A)return A;const F=Pl(u[f[I]],_[w[I]]);if(0!==F)return F}return Ut(f.length,w.length)}(n.mapValue,e.mapValue);default:throw ot()}}function EA(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ut(n,e);const t=ad(n),i=ad(e),r=Ut(t.seconds,i.seconds);return 0!==r?r:Ut(t.nanos,i.nanos)}function rf(n){return Kw(n)}function Kw(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=ad(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?jc(n.bytesValue).toBase64():"referenceValue"in n?Ke.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",a=!0;for(const u of i.values||[])a?a=!1:r+=",",r+=Kw(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let a="{",u=!0;for(const f of r)u?u=!1:a+=",",a+=`${f}:${Kw(i.fields[f])}`;return a+"}"}(n.mapValue):ot();var e}function Ma(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Yw(n){return!!n&&"integerValue"in n}function ky(n){return!!n&&"arrayValue"in n}function CA(n){return!!n&&"nullValue"in n}function IA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Oy(n){return!!n&&"mapValue"in n}function Fm(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Rl(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Fm(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Fm(n.arrayValue.values[t]);return e}return Object.assign({},n)}function jI(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ek(n){return"nullValue"in n?Zw:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ma(kl.empty(),Ke.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ot()}function DA(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ma(kl.empty(),Ke.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Ol:ot()}function Qw(n,e){const t=Pl(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Xw(n,e){const t=Pl(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Or{constructor(e){this.value=e}static empty(){return new Or({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Oy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fm(t)}setAll(e){let t=li.emptyPath(),i={},r=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,i,r),i={},r=[],t=f.popLast()}u?i[f.lastSegment()]=Fm(u):r.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());Oy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Oy(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Rl(t,(r,a)=>e[r]=a);for(const r of i)delete e[r]}clone(){return new Or(Fm(this.value))}}function co(n){const e=[];return Rl(n.fields,(t,i)=>{const r=new li([t]);if(Oy(i)){const a=co(i.mapValue).fields;if(0===a.length)e.push(r);else for(const u of a)e.push(r.child(u))}else e.push(r)}),new Vs(e)}class Xn{constructor(e,t,i,r,a,u,f){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=a,this.data=u,this.documentState=f}static newInvalidDocument(e){return new Xn(e,0,wt.min(),wt.min(),wt.min(),Or.empty(),0)}static newFoundDocument(e,t,i,r){return new Xn(e,1,t,wt.min(),i,r,0)}static newNoDocument(e,t){return new Xn(e,2,t,wt.min(),wt.min(),Or.empty(),0)}static newUnknownDocument(e,t){return new Xn(e,3,t,wt.min(),wt.min(),Or.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(wt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Or.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Or.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class xa{constructor(e,t){this.position=e,this.inclusive=t}}function $I(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],u=n.position[r];if(i=a.field.isKeyField()?Ke.comparator(Ke.fromName(u.referenceValue),t.key):Pl(u,t.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return i}function Bs(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Vo(n.position[t],e.position[t]))return!1;return!0}class sf{constructor(e,t="asc"){this.field=e,this.dir=t}}function Jw(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class zI{}class an extends zI{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new r0(e,t,i):"array-contains"===t?new Nl(e,i):"in"===t?new ZI(e,i):"not-in"===t?new Ck(e,i):"array-contains-any"===t?new TA(e,i):new an(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new $c(e,i):new WI(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Pl(t,this.value)):null!==t&&Aa(this.value)===Aa(t)&&this.matchesComparison(Pl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ot()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class In extends zI{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new In(e,t)}matches(e){return cd(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function cd(n){return"and"===n.op}function Py(n){return"or"===n.op}function e0(n){return t0(n)&&cd(n)}function t0(n){for(const e of n.filters)if(e instanceof In)return!1;return!0}function Ny(n){if(n instanceof an)return n.field.canonicalString()+n.op.toString()+rf(n.value);if(e0(n))return n.filters.map(e=>Ny(e)).join(",");{const e=n.filters.map(t=>Ny(t)).join(",");return`${n.op}(${e})`}}function GI(n,e){return n instanceof an?(t=n,(i=e)instanceof an&&t.op===i.op&&t.field.isEqual(i.field)&&Vo(t.value,i.value)):n instanceof In?function(t,i){return i instanceof In&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,a,u)=>r&&GI(a,i.filters[u]),!0)}(n,e):void ot();var t,i}function n0(n,e){const t=n.filters.concat(e);return In.create(t,n.op)}function qI(n){return n instanceof an?`${(e=n).field.canonicalString()} ${e.op} ${rf(e.value)}`:n instanceof In?function(e){return e.op.toString()+" {"+e.getFilters().map(qI).join(" ,")+"}"}(n):"Filter";var e}class r0 extends an{constructor(e,t,i){super(e,t,i),this.key=Ke.fromName(i.referenceValue)}matches(e){const t=Ke.comparator(e.key,this.key);return this.matchesComparison(t)}}class $c extends an{constructor(e,t){super(e,"in",t),this.keys=Fy(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class WI extends an{constructor(e,t){super(e,"not-in",t),this.keys=Fy(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Fy(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Ke.fromName(i.referenceValue))}class Nl extends an{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ky(t)&&Nm(t.arrayValue,this.value)}}class ZI extends an{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Nm(this.value.arrayValue,t)}}class Ck extends an{constructor(e,t){super(e,"not-in",t)}matches(e){if(Nm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Nm(this.value.arrayValue,t)}}class TA extends an{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ky(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Nm(this.value.arrayValue,i))}}class SA{constructor(e,t=null,i=[],r=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=u,this.endAt=f,this.ft=null}}function s0(n,e=null,t=[],i=[],r=null,a=null,u=null){return new SA(n,e,t,i,r,a,u)}function ud(n){const e=Ze(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Ny(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Om(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>rf(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>rf(i)).join(",")),e.ft=t}return e.ft}function af(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Jw(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!GI(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Bs(n.startAt,e.startAt)&&Bs(n.endAt,e.endAt)}function o0(n){return Ke.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Lm(n,e){return n.filters.filter(t=>t instanceof an&&t.field.isEqual(e))}function KI(n,e,t){let i=Zw,r=!0;for(const a of Lm(n,e)){let u=Zw,f=!0;switch(a.op){case"<":case"<=":u=Ek(a.value);break;case"==":case"in":case">=":u=a.value;break;case">":u=a.value,f=!1;break;case"!=":case"not-in":u=Zw}Qw({value:i,inclusive:r},{value:u,inclusive:f})<0&&(i=u,r=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];Qw({value:i,inclusive:r},{value:u,inclusive:t.inclusive})<0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}function a0(n,e,t){let i=Ol,r=!0;for(const a of Lm(n,e)){let u=Ol,f=!0;switch(a.op){case">=":case">":u=DA(a.value),f=!1;break;case"==":case"in":case"<=":u=a.value;break;case"<":u=a.value,f=!1;break;case"!=":case"not-in":u=Ol}Xw({value:i,inclusive:r},{value:u,inclusive:f})>0&&(i=u,r=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];Xw({value:i,inclusive:r},{value:u,inclusive:t.inclusive})>0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}class zc{constructor(e,t=null,i=[],r=[],a=null,u="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=_,this.dt=null,this._t=null}}function Ly(n,e,t,i,r,a,u,f){return new zc(n,e,t,i,r,a,u,f)}function dd(n){return new zc(n)}function l0(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Vy(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Vm(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function By(n){return null!==n.collectionGroup}function Ra(n){const e=Ze(n);if(null===e.dt){e.dt=[];const t=Vm(e),i=Vy(e);if(null!==t&&null===i)t.isKeyField()||e.dt.push(new sf(t)),e.dt.push(new sf(li.keyField(),"asc"));else{let r=!1;for(const a of e.explicitOrderBy)e.dt.push(a),a.field.isKeyField()&&(r=!0);if(!r){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new sf(li.keyField(),a))}}}return e.dt}function sr(n){const e=Ze(n);if(!e._t)if("F"===e.limitType)e._t=s0(e.path,e.collectionGroup,Ra(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Ra(e))t.push(new sf(a.field,"desc"===a.dir?"asc":"desc"));const i=e.endAt?new xa(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new xa(e.startAt.position,e.startAt.inclusive):null;e._t=s0(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function Uy(n,e){e.getFirstInequalityField(),Vm(n);const t=n.filters.concat([e]);return new zc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Hy(n,e,t){return new zc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function lf(n,e){return af(sr(n),sr(e))&&n.limitType===e.limitType}function c0(n){return`${ud(sr(n))}|lt:${n.limitType}`}function u0(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>qI(i)).join(", ")}]`),Om(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>rf(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>rf(i)).join(",")),`Target(${t})`}(sr(n))}; limitType=${n.limitType})`}function Bm(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):Ke.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of Ra(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,a,u){const f=$I(r,a,u);return r.inclusive?f<=0:f<0}(t.startAt,Ra(t),i)||t.endAt&&!function(r,a,u){const f=$I(r,a,u);return r.inclusive?f>=0:f>0}(t.endAt,Ra(t),i)));var t,i}function AA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function MA(n){return(e,t)=>{let i=!1;for(const r of Ra(n)){const a=YI(r,e,t);if(0!==a)return a;i=i||r.field.isKeyField()}return 0}}function YI(n,e,t){const i=n.field.isKeyField()?Ke.comparator(e.key,t.key):function(r,a,u){const f=a.data.field(r),_=u.data.field(r);return null!==f&&null!==_?Pl(f,_):ot()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ot()}}class Fl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,a]of i)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Rl(this.inner,(t,i)=>{for(const[r,a]of i)e(r,a)})}isEmpty(){return qw(this.inner)}size(){return this.innerSize}}const xA=new Bn(Ke.comparator);function ws(){return xA}const RA=new Bn(Ke.comparator);function jy(...n){let e=RA;for(const t of n)e=e.insert(t.key,t);return e}function kA(n){let e=RA;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ll(){return Um()}function OA(){return Um()}function Um(){return new Fl(n=>n.toString(),(n,e)=>n.isEqual(e))}const $y=new Bn(Ke.comparator),PA=new Qn(Ke.comparator);function Yt(...n){let e=PA;for(const t of n)e=e.add(t);return e}const QI=new Qn(Ut);function Vl(){return QI}function d0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ef(e)?"-0":e}}function zy(n){return{integerValue:""+n}}function Gy(n,e){return FI(e)?zy(e):d0(n,e)}class qy{constructor(){this._=void 0}}function h0(n,e,t){return n instanceof jm?function(i,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&ld(r)&&(r=Ww(r)),r&&(a.fields.__previous_value__=r),{mapValue:a}}(t,e):n instanceof cf?NA(n,e):n instanceof uf?p0(n,e):function(i,r){const a=Hm(i,r),u=XI(a)+XI(i.wt);return Yw(a)&&Yw(i.wt)?zy(u):d0(i.serializer,u)}(n,e)}function f0(n,e,t){return n instanceof cf?NA(n,e):n instanceof uf?p0(n,e):t}function Hm(n,e){return n instanceof df?Yw(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class jm extends qy{}class cf extends qy{constructor(e){super(),this.elements=e}}function NA(n,e){const t=JI(e);for(const i of n.elements)t.some(r=>Vo(r,i))||t.push(i);return{arrayValue:{values:t}}}class uf extends qy{constructor(e){super(),this.elements=e}}function p0(n,e){let t=JI(e);for(const i of n.elements)t=t.filter(r=>!Vo(r,i));return{arrayValue:{values:t}}}class df extends qy{constructor(e,t){super(),this.serializer=e,this.wt=t}}function XI(n){return Ti(n.integerValue||n.doubleValue)}function JI(n){return ky(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class $m{constructor(e,t){this.field=e,this.transform=t}}class tD{constructor(e,t){this.version=e,this.transformResults=t}}class Jn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wy(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Zy{}function m0(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new ff(n.key,Jn.none()):new hf(n.key,n.data,Jn.none());{const t=n.data,i=Or.empty();let r=new Qn(li.comparator);for(let a of e.fields)if(!r.has(a)){let u=t.field(a);null===u&&a.length>1&&(a=a.popLast(),u=t.field(a)),null===u?i.delete(a):i.set(a,u),r=r.add(a)}return new Bl(n.key,i,new Vs(r.toArray()),Jn.none())}}function g0(n,e,t){n instanceof hf?function(i,r,a){const u=i.value.clone(),f=LA(i.fieldTransforms,r,a.transformResults);u.setAll(f),r.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Bl?function(i,r,a){if(!Wy(i.precondition,r))return void r.convertToUnknownDocument(a.version);const u=LA(i.fieldTransforms,r,a.transformResults),f=r.data;f.setAll(FA(i)),f.setAll(u),r.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Ky(n,e,t,i){return n instanceof hf?function(r,a,u,f){if(!Wy(r.precondition,a))return u;const _=r.value.clone(),w=iD(r.fieldTransforms,f,a);return _.setAll(w),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(n,e,t,i):n instanceof Bl?function(r,a,u,f){if(!Wy(r.precondition,a))return u;const _=iD(r.fieldTransforms,f,a),w=a.data;return w.setAll(FA(r)),w.setAll(_),a.convertToFoundDocument(a.version,w).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(I=>I.field))}(n,e,t,i):(u=t,Wy(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u);var a,u}function nD(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=Hm(i.transform,r||null);null!=a&&(null===t&&(t=Or.empty()),t.set(i.field,a))}return t||null}function Yy(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Uc(t,i,(r,a)=>function eD(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof cf&&i instanceof cf||t instanceof uf&&i instanceof uf?Uc(t.elements,i.elements,Vo):t instanceof df&&i instanceof df?Vo(t.wt,i.wt):t instanceof jm&&i instanceof jm);var t,i}(r,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class hf extends Zy{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Bl extends Zy{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function FA(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function LA(n,e,t){const i=new Map;gt(n.length===t.length);for(let r=0;r<t.length;r++){const a=n[r],u=a.transform,f=e.data.field(a.field);i.set(a.field,f0(u,f,t[r]))}return i}function iD(n,e,t){const i=new Map;for(const r of n){const a=r.transform,u=t.data.field(r.field);i.set(r.field,h0(a,u,e))}return i}class ff extends Zy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _0 extends Zy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class rD{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&g0(a,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Ky(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Ky(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=OA();return this.mutations.forEach(r=>{const a=e.get(r.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=t.has(r.key)?null:f;const _=m0(u,f);null!==_&&i.set(r.key,_),u.isValidDocument()||u.convertToNoDocument(wt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Yt())}isEqual(e){return this.batchId===e.batchId&&Uc(this.mutations,e.mutations,(t,i)=>Yy(t,i))&&Uc(this.baseMutations,e.baseMutations,(t,i)=>Yy(t,i))}}class sD{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){gt(e.mutations.length===i.length);let r=$y;const a=e.mutations;for(let u=0;u<a.length;u++)r=r.insert(a[u].key,i[u].version);return new sD(e,t,i,r)}}class oD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Dk{constructor(e,t){this.count=e,this.unchangedNames=t}}var Li,gn;function VA(n){switch(n){default:return ot();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}function BA(n){if(void 0===n)return Fi("GRPC error has no .code"),ce.UNKNOWN;switch(n){case Li.OK:return ce.OK;case Li.CANCELLED:return ce.CANCELLED;case Li.UNKNOWN:return ce.UNKNOWN;case Li.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Li.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Li.INTERNAL:return ce.INTERNAL;case Li.UNAVAILABLE:return ce.UNAVAILABLE;case Li.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Li.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Li.NOT_FOUND:return ce.NOT_FOUND;case Li.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Li.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Li.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Li.ABORTED:return ce.ABORTED;case Li.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Li.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Li.DATA_LOSS:return ce.DATA_LOSS;default:return ot()}}(gn=Li||(Li={}))[gn.OK=0]="OK",gn[gn.CANCELLED=1]="CANCELLED",gn[gn.UNKNOWN=2]="UNKNOWN",gn[gn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gn[gn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gn[gn.NOT_FOUND=5]="NOT_FOUND",gn[gn.ALREADY_EXISTS=6]="ALREADY_EXISTS",gn[gn.PERMISSION_DENIED=7]="PERMISSION_DENIED",gn[gn.UNAUTHENTICATED=16]="UNAUTHENTICATED",gn[gn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gn[gn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gn[gn.ABORTED=10]="ABORTED",gn[gn.OUT_OF_RANGE=11]="OUT_OF_RANGE",gn[gn.UNIMPLEMENTED=12]="UNIMPLEMENTED",gn[gn.INTERNAL=13]="INTERNAL",gn[gn.UNAVAILABLE=14]="UNAVAILABLE",gn[gn.DATA_LOSS=15]="DATA_LOSS";class aD{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return y0}static getOrCreateInstance(){return null===y0&&(y0=new aD),y0}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let y0=null;function UA(){return new TextEncoder}const s=new Sa([4294967295,4294967295],0);function o(n){const e=UA().encode(n),t=new iA;return t.update(e),new Uint8Array(t.digest())}function l(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Sa([t,i],0),new Sa([r,a],0)]}class d{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new h(`Invalid padding: ${t}`);if(i<0)throw new h(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new h(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new h(`Invalid padding when bitmap length is 0: ${t}`);this.yt=8*e.length-t,this.It=Sa.fromNumber(this.yt)}Tt(e,t,i){let r=e.add(t.multiply(Sa.fromNumber(i)));return 1===r.compare(s)&&(r=new Sa([r.getBits(0),r.getBits(1)],0)),r.modulo(this.It).toNumber()}Et(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}At(e){if(0===this.yt)return!1;const t=o(e),[i,r]=l(t);for(let a=0;a<this.hashCount;a++){const u=this.Tt(i,r,a);if(!this.Et(u))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new d(a,r,t);return i.forEach(f=>u.insert(f)),u}insert(e){if(0===this.yt)return;const t=o(e),[i,r]=l(t);for(let a=0;a<this.hashCount;a++){const u=this.Tt(i,r,a);this.Rt(u)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class h extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class g{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,v.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new g(wt.min(),r,new Bn(Ut),ws(),Yt())}}class v{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new v(i,t,Yt(),Yt(),Yt())}}class E{constructor(e,t,i,r){this.vt=e,this.removedTargetIds=t,this.key=i,this.Pt=r}}class D{constructor(e,t){this.targetId=e,this.bt=t}}class M{constructor(e,t,i=rr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class k{constructor(){this.Vt=0,this.St=J(),this.Dt=rr.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return 0!==this.Vt}get kt(){return this.xt}Mt(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}Ot(){let e=Yt(),t=Yt(),i=Yt();return this.St.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:ot()}}),new v(this.Dt,this.Ct,e,t,i)}$t(){this.xt=!1,this.St=J()}Ft(e,t){this.xt=!0,this.St=this.St.insert(e,t)}Bt(e){this.xt=!0,this.St=this.St.remove(e)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class N{constructor(e){this.Kt=e,this.Gt=new Map,this.Qt=ws(),this.jt=z(),this.zt=new Bn(Ut)}Wt(e){for(const t of e.vt)e.Pt&&e.Pt.isFoundDocument()?this.Ht(t,e.Pt):this.Jt(t,e.key,e.Pt);for(const t of e.removedTargetIds)this.Jt(t,e.key,e.Pt)}Yt(e){this.forEachTarget(e,t=>{const i=this.Xt(t);switch(e.state){case 0:this.Zt(t)&&i.Mt(e.resumeToken);break;case 1:i.qt(),i.Nt||i.$t(),i.Mt(e.resumeToken);break;case 2:i.qt(),i.Nt||this.removeTarget(t);break;case 3:this.Zt(t)&&(i.Ut(),i.Mt(e.resumeToken));break;case 4:this.Zt(t)&&(this.te(t),i.Mt(e.resumeToken));break;default:ot()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Gt.forEach((i,r)=>{this.Zt(r)&&t(r)})}ee(e){var t;const i=e.targetId,r=e.bt.count,a=this.ne(i);if(a){const u=a.target;if(o0(u))if(0===r){const f=new Ke(u.path);this.Jt(i,f,Xn.newNoDocument(f,wt.min()))}else gt(1===r);else{const f=this.se(i);if(f!==r){const _=this.ie(e,f);0!==_&&(this.te(i),this.zt=this.zt.insert(i,2===_?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=aD.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(w,I,A){var F,B,W,ie,_e,$e;const it={localCacheCount:I,existenceFilterCount:A.count},Je=A.unchangedNames;return Je&&(it.bloomFilter={applied:0===w,hashCount:null!==(F=Je?.hashCount)&&void 0!==F?F:0,bitmapLength:null!==(ie=null===(W=null===(B=Je?.bits)||void 0===B?void 0:B.bitmap)||void 0===W?void 0:W.length)&&void 0!==ie?ie:0,padding:null!==($e=null===(_e=Je?.bits)||void 0===_e?void 0:_e.padding)&&void 0!==$e?$e:0}),it}(_,f,e.bt))}}}}ie(e,t){const{unchangedNames:i,count:r}=e.bt;if(!i||!i.bits)return 1;const{bits:{bitmap:a="",padding:u=0},hashCount:f=0}=i;let _,w;try{_=jc(a).toUint8Array()}catch(I){if(I instanceof wA)return lo("Decoding the base64 bloom filter in existence filter failed ("+I.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw I}try{w=new d(_,u,f)}catch(I){return lo(I instanceof h?"BloomFilter error: ":"Applying bloom filter failed: ",I),1}return 0===w.yt?1:r!==t-this.re(e.targetId,w)?2:0}re(e,t){const i=this.Kt.getRemoteKeysForTarget(e);let r=0;return i.forEach(a=>{const u=this.Kt.oe(),f=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;t.At(f)||(this.Jt(e,a,null),r++)}),r}ue(e){const t=new Map;this.Gt.forEach((a,u)=>{const f=this.ne(u);if(f){if(a.current&&o0(f.target)){const _=new Ke(f.target.path);null!==this.Qt.get(_)||this.ce(u,_)||this.Jt(u,_,Xn.newNoDocument(_,e))}a.kt&&(t.set(u,a.Ot()),a.$t())}});let i=Yt();this.jt.forEach((a,u)=>{let f=!0;u.forEachWhile(_=>{const w=this.ne(_);return!w||"TargetPurposeLimboResolution"===w.purpose||(f=!1,!1)}),f&&(i=i.add(a))}),this.Qt.forEach((a,u)=>u.setReadTime(e));const r=new g(e,t,this.zt,this.Qt,i);return this.Qt=ws(),this.jt=z(),this.zt=new Bn(Ut),r}Ht(e,t){if(!this.Zt(e))return;const i=this.ce(e,t.key)?2:0;this.Xt(e).Ft(t.key,i),this.Qt=this.Qt.insert(t.key,t),this.jt=this.jt.insert(t.key,this.ae(t.key).add(e))}Jt(e,t,i){if(!this.Zt(e))return;const r=this.Xt(e);this.ce(e,t)?r.Ft(t,1):r.Bt(t),this.jt=this.jt.insert(t,this.ae(t).delete(e)),i&&(this.Qt=this.Qt.insert(t,i))}removeTarget(e){this.Gt.delete(e)}se(e){const t=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Lt(e){this.Xt(e).Lt()}Xt(e){let t=this.Gt.get(e);return t||(t=new k,this.Gt.set(e,t)),t}ae(e){let t=this.jt.get(e);return t||(t=new Qn(Ut),this.jt=this.jt.insert(e,t)),t}Zt(e){const t=null!==this.ne(e);return t||Fe("WatchChangeAggregator","Detected inactive target",e),t}ne(e){const t=this.Gt.get(e);return t&&t.Nt?null:this.Kt.he(e)}te(e){this.Gt.set(e,new k),this.Kt.getRemoteKeysForTarget(e).forEach(t=>{this.Jt(e,t,null)})}ce(e,t){return this.Kt.getRemoteKeysForTarget(e).has(t)}}function z(){return new Bn(Ke.comparator)}function J(){return new Bn(Ke.comparator)}const Ee={asc:"ASCENDING",desc:"DESCENDING"},Be={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ye={and:"AND",or:"OR"};class ht{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function St(n,e){return n.useProto3Json||Om(e)?e:{value:e}}function De(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ot(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Dn(n,e){return De(n,e.toTimestamp())}function Gt(n){return gt(!!n),wt.fromTimestamp(function(e){const t=ad(e);return new si(t.seconds,t.nanos)}(n))}function Ul(n,e){return(t=n,new on(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Qy(n){const e=on.fromString(n);return gt(xk(e)),e}function hd(n,e){return Ul(n.databaseId,e.path)}function uo(n,e){const t=Qy(e);if(t.get(1)!==n.databaseId.projectId)throw new Me(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Me(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ke(Jy(t))}function zm(n,e){return Ul(n.databaseId,e)}function Xy(n){const e=Qy(n);return 4===e.length?on.emptyPath():Jy(e)}function fd(n){return new on(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Jy(n){return gt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function ev(n,e,t){return{name:hd(n,e),fields:t.value.mapValue.fields}}function tv(n,e,t){const i=uo(n,e.name),r=Gt(e.updateTime),a=e.createTime?Gt(e.createTime):wt.min(),u=new Or({mapValue:{fields:e.fields}}),f=Xn.newFoundDocument(i,r,a,u);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function v0(n,e){let t;if(e instanceof hf)t={update:ev(n,e.key,e.value)};else if(e instanceof ff)t={delete:hd(n,e.key)};else if(e instanceof Bl)t={update:ev(n,e.key,e.data),updateMask:VF(e.fieldMask)};else{if(!(e instanceof _0))return ot();t={verify:hd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const u=a.transform;if(u instanceof jm)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof cf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof uf)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof df)return{fieldPath:a.field.canonicalString(),increment:u.wt};throw ot()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:Dn(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ot()),t;var r}function HA(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?Jn.updateTime(Gt(r.updateTime)):void 0!==r.exists?Jn.exists(r.exists):Jn.none():Jn.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(a,u){let f=null;"setToServerValue"in u?(gt("REQUEST_TIME"===u.setToServerValue),f=new jm):"appendMissingElements"in u?f=new cf(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new uf(u.removeAllFromArray.values||[]):"increment"in u?f=new df(a,u.increment):ot();const _=li.fromServerFormat(u.fieldPath);return new $m(_,f)}(n,r)):[];var r;if(e.update){const r=uo(n,e.update.name),a=new Or({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new Vs((e.updateMask.fieldPaths||[]).map(w=>li.fromServerFormat(w)));return new Bl(r,a,u,t,i)}return new hf(r,a,t,i)}if(e.delete){const r=uo(n,e.delete);return new ff(r,t)}if(e.verify){const r=uo(n,e.verify);return new _0(r,t)}return ot()}function Tk(n,e){return{documents:[zm(n,e.path)]}}function jA(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=zm(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=zm(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(_){if(0!==_.length)return Mk(In.create(_,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const a=function(_){if(0!==_.length)return _.map(w=>{return{field:pf((I=w).field),direction:NF(I.dir)};var I})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const u=St(n,e.limit);var f,_;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function Sk(n){let e=Xy(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){gt(1===i);const I=t.from[0];I.allDescendants?r=I.collectionId:e=e.child(I.collectionId)}let a=[];t.where&&(a=function(I){const A=Ak(I);return A instanceof In&&e0(A)?A.getFilters():[A]}(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(I=>{return new sf(nv((A=I).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction));var A}));let f=null;t.limit&&(f=function(I){let A;return A="object"==typeof I?I.value:I,Om(A)?null:A}(t.limit));let _=null;var I;t.startAt&&(_=new xa((I=t.startAt).values||[],!!I.before));let w=null;return t.endAt&&(w=function(I){return new xa(I.values||[],!I.before)}(t.endAt)),Ly(e,r,u,a,f,"F",_,w)}function Ak(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=nv(e.unaryFilter.field);return an.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=nv(e.unaryFilter.field);return an.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=nv(e.unaryFilter.field);return an.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=nv(e.unaryFilter.field);return an.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ot()}}(n):void 0!==n.fieldFilter?an.create(nv((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ot()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return In.create(e.compositeFilter.filters.map(t=>Ak(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ot()}}(e.compositeFilter.op))}(n):ot();var e}function NF(n){return Ee[n]}function FF(n){return Be[n]}function LF(n){return Ye[n]}function pf(n){return{fieldPath:n.canonicalString()}}function nv(n){return li.fromServerFormat(n.fieldPath)}function Mk(n){return n instanceof an?function(e){if("=="===e.op){if(IA(e.value))return{unaryFilter:{field:pf(e.field),op:"IS_NAN"}};if(CA(e.value))return{unaryFilter:{field:pf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(IA(e.value))return{unaryFilter:{field:pf(e.field),op:"IS_NOT_NAN"}};if(CA(e.value))return{unaryFilter:{field:pf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pf(e.field),op:FF(e.op),value:e.value}}}(n):n instanceof In?function(e){const t=e.getFilters().map(i=>Mk(i));return 1===t.length?t[0]:{compositeFilter:{op:LF(e.op),filters:t}}}(n):ot()}function VF(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function xk(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class pd{constructor(e,t,i,r,a=wt.min(),u=wt.min(),f=rr.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=_}withSequenceNumber(e){return new pd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new pd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Rk{constructor(e){this.le=e}}function kk(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:lD(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:hd(r=n.le,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:De(r,a.version.toTimestamp()),createTime:De(r,a.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Gm(e.version)};else{if(!e.isUnknownDocument())return ot();i.unknownDocument={path:t.path.toArray(),version:Gm(e.version)}}var r,a;return i}function lD(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Gm(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function qm(n){const e=new si(n.seconds,n.nanoseconds);return wt.fromTimestamp(e)}function Wm(n,e){const t=(e.baseMutations||[]).map(a=>HA(n.le,a));for(let a=0;a<e.mutations.length-1;++a){const u=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(u.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const i=e.mutations.map(a=>HA(n.le,a)),r=si.fromMillis(e.localWriteTimeMs);return new rD(e.batchId,r,t,i)}function b0(n){const e=qm(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?qm(n.lastLimboFreeSnapshotVersion):wt.min();let i;var r;return void 0!==n.query.documents?(gt(1===(r=n.query).documents.length),i=sr(dd(Xy(r.documents[0])))):i=sr(Sk(n.query)),new pd(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,rr.fromBase64String(n.resumeToken))}function Ok(n,e){const t=Gm(e.snapshotVersion),i=Gm(e.lastLimboFreeSnapshotVersion);let r;r=o0(e.target)?Tk(n.le,e.target):jA(n.le,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ud(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function $A(n){const e=Sk({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Hy(e,e.limit,"L"):e}function zA(n,e){return new oD(e.largestBatchId,HA(n.le,e.overlayMutation))}function Pk(n,e){const t=e.path.lastSegment();return[n,kr(e.path.popLast()),t]}function Nk(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Gm(i.readTime),documentKey:kr(i.documentKey.path),largestBatchId:i.largestBatchId}}class UF{getBundleMetadata(e,t){return Fk(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:qm(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return Fk(e).put({bundleId:(i=t).id,createTime:Gm(Gt(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return Lk(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:$A(r.bundledQuery),readTime:qm(r.readTime)};var r})}saveNamedQuery(e,t){return Lk(e).put({name:(i=t).name,readTime:Gm(Gt(i.readTime)),bundledQuery:i.bundledQuery});var i}}function Fk(n){return Gi(n,"bundles")}function Lk(n){return Gi(n,"namedQueries")}class cD{constructor(e,t){this.serializer=e,this.userId=t}static fe(e,t){return new cD(e,t.uid||"")}getOverlay(e,t){return w0(e).get(Pk(this.userId,t)).next(i=>i?zA(this.serializer,i):null)}getOverlays(e,t){const i=Ll();return se.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((a,u)=>{const f=new oD(t,u);r.push(this.de(e,f))}),se.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(u=>r.add(kr(u.getCollectionPath())));const a=[];return r.forEach(u=>{const f=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);a.push(w0(e).J("collectionPathOverlayIndex",f))}),se.waitFor(a)}getOverlaysForCollection(e,t,i){const r=Ll(),a=kr(t),u=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,Number.POSITIVE_INFINITY],!0);return w0(e).j("collectionPathOverlayIndex",u).next(f=>{for(const _ of f){const w=zA(this.serializer,_);r.set(w.getKey(),w)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const a=Ll();let u;const f=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return w0(e).X({index:"collectionGroupOverlayIndex",range:f},(_,w,I)=>{const A=zA(this.serializer,w);a.size()<r||A.largestBatchId===u?(a.set(A.getKey(),A),u=A.largestBatchId):I.done()}).next(()=>a)}de(e,t){return w0(e).put(function(i,r,a){const[u,f,_]=Pk(r,a.mutation.key);return{userId:r,collectionPath:f,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:v0(i.le,a.mutation)}}(this.serializer,this.userId,t))}}function w0(n){return Gi(n,"documentOverlays")}class Zm{constructor(){}_e(e,t){this.we(e,t),t.me()}we(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye(Ti(e.integerValue));else if("doubleValue"in e){const i=Ti(e.doubleValue);isNaN(i)?this.ge(t,13):(this.ge(t,15),ef(i)?t.ye(0):t.ye(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ge(t,20),"string"==typeof i?t.pe(i):(t.pe(`${i.seconds||""}`),t.ye(i.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(jc(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ge(t,45),t.ye(i.latitude||0),t.ye(i.longitude||0)}else"mapValue"in e?jI(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):ot()}Ie(e,t){this.ge(t,25),this.Pe(e,t)}Pe(e,t){t.pe(e)}Re(e,t){const i=e.fields||{};this.ge(t,55);for(const r of Object.keys(i))this.Ie(r,t),this.we(i[r],t)}ve(e,t){const i=e.values||[];this.ge(t,50);for(const r of i)this.we(r,t)}Ae(e,t){this.ge(t,37),Ke.fromName(e).path.forEach(i=>{this.ge(t,60),this.Pe(i,t)})}ge(e,t){e.ye(t)}Te(e){e.ye(2)}}function HF(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function Vk(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const a=HF(255&t[r]);if(i+=a,8!==a)break}return i}(n);return Math.ceil(e/8)}Zm.be=new Zm;class jF{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ve(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Se(i.value),i=t.next();this.De()}Ce(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.xe(i.value),i=t.next();this.Ne()}ke(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Se(i);else if(i<2048)this.Se(960|i>>>6),this.Se(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Se(480|i>>>12),this.Se(128|63&i>>>6),this.Se(128|63&i);else{const r=t.codePointAt(0);this.Se(240|r>>>18),this.Se(128|63&r>>>12),this.Se(128|63&r>>>6),this.Se(128|63&r)}}this.De()}Me(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.xe(i);else if(i<2048)this.xe(960|i>>>6),this.xe(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.xe(480|i>>>12),this.xe(128|63&i>>>6),this.xe(128|63&i);else{const r=t.codePointAt(0);this.xe(240|r>>>18),this.xe(128|63&r>>>12),this.xe(128|63&r>>>6),this.xe(128|63&r)}}this.Ne()}Oe(e){const t=this.$e(e),i=Vk(t);this.Fe(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Be(e){const t=this.$e(e),i=Vk(t);this.Fe(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Le(){this.qe(255),this.qe(255)}Ue(){this.Ke(255),this.Ke(255)}reset(){this.position=0}seed(e){this.Fe(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ge(){return this.buffer.slice(0,this.position)}$e(e){const t=function(r){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,r,!1),new Uint8Array(a.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Se(e){const t=255&e;0===t?(this.qe(0),this.qe(255)):255===t?(this.qe(255),this.qe(0)):this.qe(t)}xe(e){const t=255&e;0===t?(this.Ke(0),this.Ke(255)):255===t?(this.Ke(255),this.Ke(0)):this.Ke(e)}De(){this.qe(0),this.qe(1)}Ne(){this.Ke(0),this.Ke(1)}qe(e){this.Fe(1),this.buffer[this.position++]=e}Ke(e){this.Fe(1),this.buffer[this.position++]=~e}Fe(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class $F{constructor(e){this.Qe=e}Ee(e){this.Qe.Ve(e)}pe(e){this.Qe.ke(e)}ye(e){this.Qe.Oe(e)}me(){this.Qe.Le()}}class zF{constructor(e){this.Qe=e}Ee(e){this.Qe.Ce(e)}pe(e){this.Qe.Me(e)}ye(e){this.Qe.Be(e)}me(){this.Qe.Ue()}}class E0{constructor(){this.Qe=new jF,this.je=new $F(this.Qe),this.ze=new zF(this.Qe)}seed(e){this.Qe.seed(e)}We(e){return 0===e?this.je:this.ze}Ge(){return this.Qe.Ge()}reset(){this.Qe.reset()}}class Km{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}He(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Km(this.indexId,this.documentKey,this.arrayValue,i)}}function mf(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Bk(n.arrayValue,e.arrayValue),0!==t?t:(t=Bk(n.directionalValue,e.directionalValue),0!==t?t:Ke.comparator(n.documentKey,e.documentKey)))}function Bk(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class GF{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Je=e.orderBy,this.Ye=[];for(const t of e.filters){const i=t;i.isInequality()?this.Xe=i:this.Ye.push(i)}}Ze(e){gt(e.collectionGroup===this.collectionId);const t=Pw(e);if(void 0!==t&&!this.tn(t))return!1;const i=id(e);let r=0,a=0;for(;r<i.length&&this.tn(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Xe){const u=i[r];if(!this.en(this.Xe,u)||!this.nn(this.Je[a++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(a>=this.Je.length||!this.nn(this.Je[a++],u))return!1}return!0}tn(e){for(const t of this.Ye)if(this.en(t,e))return!0;return!1}en(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}nn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Uk(n){var e,t;if(gt(n instanceof an||n instanceof In),n instanceof an){if(n instanceof ZI){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(a=>an.create(n.field,"==",a)))||[];return In.create(r,"or")}return n}const i=n.filters.map(r=>Uk(r));return In.create(i,n.op)}function qF(n){if(0===n.getFilters().length)return[];const e=WA(Uk(n));return gt(Hk(e)),GA(e)||qA(e)?[e]:e.getFilters()}function GA(n){return n instanceof an}function qA(n){return n instanceof In&&e0(n)}function Hk(n){return GA(n)||qA(n)||function(e){if(e instanceof In&&Py(e)){for(const t of e.getFilters())if(!GA(t)&&!qA(t))return!1;return!0}return!1}(n)}function WA(n){if(gt(n instanceof an||n instanceof In),n instanceof an)return n;if(1===n.filters.length)return WA(n.filters[0]);const e=n.filters.map(i=>WA(i));let t=In.create(e,n.op);return t=uD(t),Hk(t)?t:(gt(t instanceof In),gt(cd(t)),gt(t.filters.length>1),t.filters.reduce((i,r)=>ZA(i,r)))}function ZA(n,e){let t;return gt(n instanceof an||n instanceof In),gt(e instanceof an||e instanceof In),t=n instanceof an?e instanceof an?In.create([n,e],"and"):jk(n,e):e instanceof an?jk(e,n):function(i,r){if(gt(i.filters.length>0&&r.filters.length>0),cd(i)&&cd(r))return n0(i,r.getFilters());const a=Py(i)?i:r,u=Py(i)?r:i,f=a.filters.map(_=>ZA(_,u));return In.create(f,"or")}(n,e),uD(t)}function jk(n,e){if(cd(e))return n0(e,n.getFilters());{const t=e.filters.map(i=>ZA(n,i));return In.create(t,"or")}}function uD(n){if(gt(n instanceof an||n instanceof In),n instanceof an)return n;const e=n.getFilters();if(1===e.length)return uD(e[0]);if(t0(n))return n;const t=e.map(r=>uD(r)),i=[];return t.forEach(r=>{r instanceof an?i.push(r):r instanceof In&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:In.create(i,n.op)}class WF{constructor(){this.sn=new KA}addToCollectionParentIndex(e,t){return this.sn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.sn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(bs.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(bs.min())}updateCollectionGroup(e,t,i){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class KA{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Qn(on.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Qn(on.comparator)).toArray()}}const dD=new Uint8Array(0);class ZF{constructor(e,t){this.user=e,this.databaseId=t,this.rn=new KA,this.on=new Fl(i=>ud(i),(i,r)=>af(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.rn.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.rn.add(t)});const a={collectionId:i,parent:kr(r)};return $k(e).put(a)}return se.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[kw(t),""],!1,!0);return $k(e).j(r).next(a=>{for(const u of a){if(u.collectionId!==t)break;i.push(Lo(u.parent))}return i})}addFieldIndex(e,t){const i=hD(e),r={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var u;delete r.indexId;const a=i.add(r);if(t.indexState){const u=I0(e);return a.next(f=>{u.put(Nk(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const i=hD(e),r=I0(e),a=C0(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=C0(e);let r=!0;const a=new Map;return se.forEach(this.un(t),u=>this.cn(e,u).next(f=>{r&&(r=!!f),a.set(u,f)})).next(()=>{if(r){let u=Yt();const f=[];return se.forEach(a,(_,w)=>{var I;Fe("IndexedDbIndexManager",`Using index ${I=_,`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(Je=>`${Je.fieldPath}:${Je.kind}`).join(",")}`} to execute ${ud(t)}`);const A=function(Je,Ct){const jt=Pw(Ct);if(void 0===jt)return null;for(const Wt of Lm(Je,jt.fieldPath))switch(Wt.op){case"array-contains-any":return Wt.value.arrayValue.values||[];case"array-contains":return[Wt.value]}return null}(w,_),F=function(Je,Ct){const jt=new Map;for(const Wt of id(Ct))for(const An of Lm(Je,Wt.fieldPath))switch(An.op){case"==":case"in":jt.set(Wt.fieldPath.canonicalString(),An.value);break;case"not-in":case"!=":return jt.set(Wt.fieldPath.canonicalString(),An.value),Array.from(jt.values())}return null}(w,_),B=function(Je,Ct){const jt=[];let Wt=!0;for(const An of id(Ct)){const Nr=0===An.kind?KI(Je,An.fieldPath,Je.startAt):a0(Je,An.fieldPath,Je.startAt);jt.push(Nr.value),Wt&&(Wt=Nr.inclusive)}return new xa(jt,Wt)}(w,_),W=function(Je,Ct){const jt=[];let Wt=!0;for(const An of id(Ct)){const Nr=0===An.kind?a0(Je,An.fieldPath,Je.endAt):KI(Je,An.fieldPath,Je.endAt);jt.push(Nr.value),Wt&&(Wt=Nr.inclusive)}return new xa(jt,Wt)}(w,_),ie=this.an(_,w,B),_e=this.an(_,w,W),$e=this.hn(_,w,F),it=this.ln(_.indexId,A,ie,B.inclusive,_e,W.inclusive,$e);return se.forEach(it,Je=>i.H(Je,t.limit).next(Ct=>{Ct.forEach(jt=>{const Wt=Ke.fromSegments(jt.documentKey);u.has(Wt)||(u=u.add(Wt),f.push(Wt))})}))}).next(()=>f)}return se.resolve(null)})}un(e){let t=this.on.get(e);return t||(t=0===e.filters.length?[e]:qF(In.create(e.filters,"and")).map(i=>s0(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.on.set(e,t),t)}ln(e,t,i,r,a,u,f){const _=(null!=t?t.length:1)*Math.max(i.length,a.length),w=_/(null!=t?t.length:1),I=[];for(let A=0;A<_;++A){const F=t?this.fn(t[A/w]):dD,B=this.dn(e,F,i[A%w],r),W=this._n(e,F,a[A%w],u),ie=f.map(_e=>this.dn(e,F,_e,!0));I.push(...this.createRange(B,W,ie))}return I}dn(e,t,i,r){const a=new Km(e,Ke.empty(),t,i);return r?a:a.He()}_n(e,t,i,r){const a=new Km(e,Ke.empty(),t,i);return r?a.He():a}cn(e,t){const i=new GF(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(a=>{let u=null;for(const f of a)i.Ze(f)&&(!u||f.fields.length>u.fields.length)&&(u=f);return u})}getIndexType(e,t){let i=2;const r=this.un(t);return se.forEach(r,a=>this.cn(e,a).next(u=>{u?0!==i&&u.fields.length<function(f){let _=new Qn(li.comparator),w=!1;for(const I of f.filters)for(const A of I.getFlattenedFilters())A.field.isKeyField()||("array-contains"===A.op||"array-contains-any"===A.op?w=!0:_=_.add(A.field));for(const I of f.orderBy)I.field.isKeyField()||(_=_.add(I.field));return _.size+(w?1:0)}(a)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}wn(e,t){const i=new E0;for(const r of id(e)){const a=t.data.field(r.fieldPath);if(null==a)return null;const u=i.We(r.kind);Zm.be._e(a,u)}return i.Ge()}fn(e){const t=new E0;return Zm.be._e(e,t.We(0)),t.Ge()}mn(e,t){const i=new E0;return Zm.be._e(Ma(this.databaseId,t),i.We(function(r){const a=id(r);return 0===a.length?0:a[a.length-1].kind}(e))),i.Ge()}hn(e,t,i){if(null===i)return[];let r=[];r.push(new E0);let a=0;for(const u of id(e)){const f=i[a++];for(const _ of r)if(this.gn(t,u.fieldPath)&&ky(f))r=this.yn(r,u,f);else{const w=_.We(u.kind);Zm.be._e(f,w)}}return this.pn(r)}an(e,t,i){return this.hn(e,t,i.position)}pn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Ge();return t}yn(e,t,i){const r=[...e],a=[];for(const u of i.arrayValue.values||[])for(const f of r){const _=new E0;_.seed(f.Ge()),Zm.be._e(u,_.We(t.kind)),a.push(_)}return a}gn(e,t){return!!e.filters.find(i=>i instanceof an&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=hD(e),r=I0(e);return(t?i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.j()).next(a=>{const u=[];return se.forEach(a,f=>r.get([f.indexId,this.uid]).next(_=>{u.push(function(w,I){const A=I?new rd(I.sequenceNumber,new bs(qm(I.readTime),new Ke(Lo(I.documentKey)),I.largestBatchId)):rd.empty(),F=w.fields.map(([B,W])=>new Iy(li.fromServerFormat(B),W));return new Qh(w.indexId,w.collectionGroup,F,A)}(f,_))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const a=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==a?a:Ut(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=hD(e),a=I0(e);return this.In(e).next(u=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>se.forEach(f,_=>a.put(Nk(_.indexId,this.user,u,i)))))}updateIndexEntries(e,t){const i=new Map;return se.forEach(t,(r,a)=>{const u=i.get(r.collectionGroup);return(u?se.resolve(u):this.getFieldIndexes(e,r.collectionGroup)).next(f=>(i.set(r.collectionGroup,f),se.forEach(f,_=>this.Tn(e,r,_).next(w=>{const I=this.En(a,_);return w.isEqual(I)?se.resolve():this.An(e,a,_,w,I)}))))})}Rn(e,t,i,r){return C0(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.mn(i,t.key),documentKey:t.key.path.toArray()})}vn(e,t,i,r){return C0(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.mn(i,t.key),t.key.path.toArray()])}Tn(e,t,i){const r=C0(e);let a=new Qn(mf);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.mn(i,t)])},(u,f)=>{a=a.add(new Km(i.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}En(e,t){let i=new Qn(mf);const r=this.wn(t,e);if(null==r)return i;const a=Pw(t);if(null!=a){const u=e.data.field(a.fieldPath);if(ky(u))for(const f of u.arrayValue.values||[])i=i.add(new Km(t.indexId,e.key,this.fn(f),r))}else i=i.add(new Km(t.indexId,e.key,dD,r));return i}An(e,t,i,r,a){Fe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(f,_,w,I,A){const F=f.getIterator(),B=_.getIterator();let W=od(F),ie=od(B);for(;W||ie;){let _e=!1,$e=!1;if(W&&ie){const it=w(W,ie);it<0?$e=!0:it>0&&(_e=!0)}else null!=W?$e=!0:_e=!0;_e?(I(ie),ie=od(B)):$e?(A(W),W=od(F)):(W=od(F),ie=od(B))}}(r,a,mf,f=>{u.push(this.Rn(e,t,i,f))},f=>{u.push(this.vn(e,t,i,f))}),se.waitFor(u)}In(e){let t=1;return I0(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,a)=>{a.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((u,f)=>mf(u,f)).filter((u,f,_)=>!f||0!==mf(u,_[f-1]));const r=[];r.push(e);for(const u of i){const f=mf(u,e),_=mf(u,t);if(0===f)r[0]=e.He();else if(f>0&&_<0)r.push(u),r.push(u.He());else if(_>0)break}r.push(t);const a=[];for(let u=0;u<r.length;u+=2){if(this.Pn(r[u],r[u+1]))return[];a.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,dD,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,dD,[]]))}return a}Pn(e,t){return mf(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(zk)}getMinOffset(e,t){return se.mapArray(this.un(t),i=>this.cn(e,i).next(r=>r||ot())).next(zk)}}function $k(n){return Gi(n,"collectionParents")}function C0(n){return Gi(n,"indexEntries")}function hD(n){return Gi(n,"indexConfiguration")}function I0(n){return Gi(n,"indexState")}function zk(n){gt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;Dy(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new bs(e.readTime,e.documentKey,t)}const Gk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Es{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Es(e,Es.DEFAULT_COLLECTION_PERCENTILE,Es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function qk(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),a=[],u=IDBKeyRange.only(t.batchId);let f=0;const _=i.X({range:u},(I,A,F)=>(f++,F.delete()));a.push(_.next(()=>{gt(1===f)}));const w=[];for(const I of t.mutations){const A=My(e,I.key.path,t.batchId);a.push(r.delete(A)),w.push(I.key)}return se.waitFor(a).next(()=>w)}function fD(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ot();e=n.noDocument}return JSON.stringify(e).length}Es.DEFAULT_COLLECTION_PERCENTILE=10,Es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Es.DEFAULT=new Es(41943040,Es.DEFAULT_COLLECTION_PERCENTILE,Es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Es.DISABLED=new Es(-1,0,0);class pD{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.bn={}}static fe(e,t,i,r){gt(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new pD(a,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return gf(e).X({index:"userMutationsIndex",range:i},(r,a,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const a=iv(e),u=gf(e);return u.add({}).next(f=>{gt("number"==typeof f);const _=new rD(f,t,i,r),w=function(F,B,W){const ie=W.baseMutations.map($e=>v0(F.le,$e)),_e=W.mutations.map($e=>v0(F.le,$e));return{userId:B,batchId:W.batchId,localWriteTimeMs:W.localWriteTime.toMillis(),baseMutations:ie,mutations:_e}}(this.serializer,this.userId,_),I=[];let A=new Qn((F,B)=>Ut(F.canonicalString(),B.canonicalString()));for(const F of r){const B=My(this.userId,F.key.path,f);A=A.add(F.key.path.popLast()),I.push(u.put(w)),I.push(a.put(B,_k))}return A.forEach(F=>{I.push(this.indexManager.addToCollectionParentIndex(e,F))}),e.addOnCommittedListener(()=>{this.bn[f]=_.keys()}),se.waitFor(I).next(()=>_)})}lookupMutationBatch(e,t){return gf(e).get(t).next(i=>i?(gt(i.userId===this.userId),Wm(this.serializer,i)):null)}Vn(e,t){return this.bn[t]?se.resolve(this.bn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.bn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let a=null;return gf(e).X({index:"userMutationsIndex",range:r},(u,f,_)=>{f.userId===this.userId&&(gt(f.batchId>=i),a=Wm(this.serializer,f)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return gf(e).X({index:"userMutationsIndex",range:t,reverse:!0},(r,a,u)=>{i=a.batchId,u.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return gf(e).j("userMutationsIndex",t).next(i=>i.map(r=>Wm(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=sd(this.userId,t.path),r=IDBKeyRange.lowerBound(i),a=[];return iv(e).X({range:r},(u,f,_)=>{const[w,I,A]=u,F=Lo(I);if(w===this.userId&&t.path.isEqual(F))return gf(e).get(A).next(B=>{if(!B)throw ot();gt(B.userId===this.userId),a.push(Wm(this.serializer,B))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Qn(Ut);const r=[];return t.forEach(a=>{const u=sd(this.userId,a.path),f=IDBKeyRange.lowerBound(u),_=iv(e).X({range:f},(w,I,A)=>{const[F,B,W]=w,ie=Lo(B);F===this.userId&&a.path.isEqual(ie)?i=i.add(W):A.done()});r.push(_)}),se.waitFor(r).next(()=>this.Sn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,a=sd(this.userId,i),u=IDBKeyRange.lowerBound(a);let f=new Qn(Ut);return iv(e).X({range:u},(_,w,I)=>{const[A,F,B]=_,W=Lo(F);A===this.userId&&i.isPrefixOf(W)?W.length===r&&(f=f.add(B)):I.done()}).next(()=>this.Sn(e,f))}Sn(e,t){const i=[],r=[];return t.forEach(a=>{r.push(gf(e).get(a).next(u=>{if(null===u)throw ot();gt(u.userId===this.userId),i.push(Wm(this.serializer,u))}))}),se.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return qk(e.at,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Dn(t.batchId)}),se.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Dn(e){delete this.bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return se.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return iv(e).X({range:i},(a,u,f)=>{if(a[0]===this.userId){const _=Lo(a[1]);r.push(_)}else f.done()}).next(()=>{gt(0===r.length)})})}containsKey(e,t){return Wk(e,this.userId,t)}Cn(e){return Zk(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Wk(n,e,t){const i=sd(e,t.path),r=i[1],a=IDBKeyRange.lowerBound(i);let u=!1;return iv(n).X({range:a,Y:!0},(f,_,w)=>{const[I,A,F]=f;I===e&&A===r&&(u=!0),w.done()}).next(()=>u)}function gf(n){return Gi(n,"mutations")}function iv(n){return Gi(n,"documentMutations")}function Zk(n){return Gi(n,"mutationQueues")}class Ym{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static Nn(){return new Ym(0)}static kn(){return new Ym(-1)}}class KF{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Mn(e).next(t=>{const i=new Ym(t.highestTargetId);return t.highestTargetId=i.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Mn(e).next(t=>wt.fromTimestamp(new si(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Mn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Mn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r)))}addTargetData(e,t){return this.$n(e,t).next(()=>this.Mn(e).next(i=>(i.targetCount+=1,this.Fn(t,i),this.On(e,i))))}updateTargetData(e,t){return this.$n(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>rv(e).delete(t.targetId)).next(()=>this.Mn(e)).next(i=>(gt(i.targetCount>0),i.targetCount-=1,this.On(e,i)))}removeTargets(e,t,i){let r=0;const a=[];return rv(e).X((u,f)=>{const _=b0(f);_.sequenceNumber<=t&&null===i.get(_.targetId)&&(r++,a.push(this.removeTargetData(e,_)))}).next(()=>se.waitFor(a)).next(()=>r)}forEachTarget(e,t){return rv(e).X((i,r)=>{const a=b0(r);t(a)})}Mn(e){return Kk(e).get("targetGlobalKey").next(t=>(gt(null!==t),t))}On(e,t){return Kk(e).put("targetGlobalKey",t)}$n(e,t){return rv(e).put(Ok(this.serializer,t))}Fn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Mn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=ud(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let a=null;return rv(e).X({range:r,index:"queryTargetsIndex"},(u,f,_)=>{const w=b0(f);af(t,w.target)&&(a=w,_.done())}).next(()=>a)}addMatchingKeys(e,t,i){const r=[],a=_f(e);return t.forEach(u=>{const f=kr(u.path);r.push(a.put({targetId:i,path:f})),r.push(this.referenceDelegate.addReference(e,i,u))}),se.waitFor(r)}removeMatchingKeys(e,t,i){const r=_f(e);return se.forEach(t,a=>{const u=kr(a.path);return se.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(e,i,a)])})}removeMatchingKeysForTargetId(e,t){const i=_f(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=_f(e);let a=Yt();return r.X({range:i,Y:!0},(u,f,_)=>{const w=Lo(u[1]),I=new Ke(w);a=a.add(I)}).next(()=>a)}containsKey(e,t){const i=kr(t.path),r=IDBKeyRange.bound([i],[kw(i)],!1,!0);let a=0;return _f(e).X({index:"documentTargetsIndex",Y:!0,range:r},([u,f],_,w)=>{0!==u&&(a++,w.done())}).next(()=>a>0)}he(e,t){return rv(e).get(t).next(i=>i?b0(i):null)}}function rv(n){return Gi(n,"targets")}function Kk(n){return Gi(n,"targetGlobal")}function _f(n){return Gi(n,"targetDocuments")}function Yk([n,e],[t,i]){const r=Ut(n,t);return 0===r?Ut(e,i):r}class YF{constructor(e){this.Bn=e,this.buffer=new Qn(Yk),this.Ln=0}qn(){return++this.Ln}Un(e){const t=[e,this.qn()];if(this.buffer.size<this.Bn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Yk(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Qk{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Kn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Kn&&(this.Kn.cancel(),this.Kn=null)}get started(){return null!==this.Kn}Gn(e){var t=this;Fe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Kn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,we.Z)(function*(){t.Kn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Hc(i)?Fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield xl(i)}yield t.Gn(3e5)}))}}class QF{constructor(e,t){this.Qn=e,this.params=t}calculateTargetCount(e,t){return this.Qn.jn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return se.resolve(Jr.ct);const i=new YF(t);return this.Qn.forEachTarget(e,r=>i.Un(r.sequenceNumber)).next(()=>this.Qn.zn(e,r=>i.Un(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Qn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Qn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(Gk)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gk):this.Wn(e,t))}getCacheSize(e){return this.Qn.getCacheSize(e)}Wn(e,t){let i,r,a,u,f,_,w;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),r=this.params.maximumSequenceNumbersToCollect):r=A,u=Date.now(),this.nthSequenceNumber(e,r))).next(A=>(i=A,f=Date.now(),this.removeTargets(e,i,t))).next(A=>(a=A,_=Date.now(),this.removeOrphanedDocuments(e,i))).next(A=>(w=Date.now(),vy()<=Dl.in.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-I}ms\n\tDetermined least recently used ${r} in `+(f-u)+`ms\n\tRemoved ${a} targets in `+(_-f)+`ms\n\tRemoved ${A} documents in `+(w-_)+`ms\nTotal Duration: ${w-I}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:A})))}}class XF{constructor(e,t){this.db=e,this.garbageCollector=function Xk(n,e){return new QF(n,e)}(this,t)}jn(e){const t=this.Hn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Hn(e){let t=0;return this.zn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}zn(e,t){return this.Jn(e,(i,r)=>t(r))}addReference(e,t,i){return mD(e,i)}removeReference(e,t,i){return mD(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return mD(e,t)}Yn(e,t){return function(i,r){let a=!1;return Zk(i).Z(u=>Wk(i,u,r).next(f=>(f&&(a=!0),se.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let a=0;return this.Jn(e,(u,f)=>{if(f<=t){const _=this.Yn(e,u).next(w=>{if(!w)return a++,i.getEntry(e,u).next(()=>(i.removeEntry(u,wt.min()),_f(e).delete([0,kr(u.path)])))});r.push(_)}}).next(()=>se.waitFor(r)).next(()=>i.apply(e)).next(()=>a)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return mD(e,t)}Jn(e,t){const i=_f(e);let r,a=Jr.ct;return i.X({index:"documentTargetsIndex"},([u,f],{path:_,sequenceNumber:w})=>{0===u?(a!==Jr.ct&&t(new Ke(Lo(r)),a),a=w,r=_):a=Jr.ct}).next(()=>{a!==Jr.ct&&t(new Ke(Lo(r)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function mD(n,e){return _f(n).put((i=n.currentSequenceNumber,{targetId:0,path:kr(e.path),sequenceNumber:i}));var i}class Jk{constructor(){this.changes=new Fl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Xn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?se.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class JF{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Qm(e).put(i)}removeEntry(e,t,i){return Qm(e).delete(function(r,a){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],lD(a),u[u.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Xn(e,i)))}getEntry(e,t){let i=Xn.newInvalidDocument(t);return Qm(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(D0(t))},(r,a)=>{i=this.Zn(t,a)}).next(()=>i)}ts(e,t){let i={size:0,document:Xn.newInvalidDocument(t)};return Qm(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(D0(t))},(r,a)=>{i={document:this.Zn(t,a),size:fD(a)}}).next(()=>i)}getEntries(e,t){let i=ws();return this.es(e,t,(r,a)=>{const u=this.Zn(r,a);i=i.insert(r,u)}).next(()=>i)}ns(e,t){let i=ws(),r=new Bn(Ke.comparator);return this.es(e,t,(a,u)=>{const f=this.Zn(a,u);i=i.insert(a,f),r=r.insert(a,fD(u))}).next(()=>({documents:i,ss:r}))}es(e,t,i){if(t.isEmpty())return se.resolve();let r=new Qn(iO);t.forEach(_=>r=r.add(_));const a=IDBKeyRange.bound(D0(r.first()),D0(r.last())),u=r.getIterator();let f=u.getNext();return Qm(e).X({index:"documentKeyIndex",range:a},(_,w,I)=>{const A=Ke.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;f&&iO(f,A)<0;)i(f,null),f=u.getNext();f&&f.isEqual(A)&&(i(f,w),f=u.hasNext()?u.getNext():null),f?I.G(D0(f)):I.done()}).next(()=>{for(;f;)i(f,null),f=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,i,r){const a=t.path,u=[a.popLast().toArray(),a.lastSegment(),lD(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],f=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Qm(e).j(IDBKeyRange.bound(u,f,!0)).next(_=>{let w=ws();for(const I of _){const A=this.Zn(Ke.fromSegments(I.prefixPath.concat(I.collectionGroup,I.documentId)),I);A.isFoundDocument()&&(Bm(t,A)||r.has(A.key))&&(w=w.insert(A.key,A))}return w})}getAllFromCollectionGroup(e,t,i,r){let a=ws();const u=nO(t,i),f=nO(t,bs.max());return Qm(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,f,!0)},(_,w,I)=>{const A=this.Zn(Ke.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);a=a.insert(A.key,A),a.size===r&&I.done()}).next(()=>a)}newChangeBuffer(e){return new eL(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return tO(e).get("remoteDocumentGlobalKey").next(t=>(gt(!!t),t))}Xn(e,t){return tO(e).put("remoteDocumentGlobalKey",t)}Zn(e,t){if(t){const i=function BF(n,e){let t;if(e.document)t=tv(n.le,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=Ke.fromSegments(e.noDocument.path),r=qm(e.noDocument.readTime);t=Xn.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ot();{const i=Ke.fromSegments(e.unknownDocument.path),r=qm(e.unknownDocument.version);t=Xn.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new si(i[0],i[1]);return wt.fromTimestamp(r)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(wt.min()))return i}return Xn.newInvalidDocument(e)}}function eO(n){return new JF(n)}class eL extends Jk{constructor(e,t){super(),this.rs=e,this.trackRemovals=t,this.os=new Fl(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new Qn((a,u)=>Ut(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const f=this.os.get(a);if(t.push(this.rs.removeEntry(e,a,f.readTime)),u.isValidDocument()){const _=kk(this.rs.serializer,u);r=r.add(a.path.popLast()),i+=fD(_)-f.size,t.push(this.rs.addEntry(e,a,_))}else if(i-=f.size,this.trackRemovals){const _=kk(this.rs.serializer,u.convertToNoDocument(wt.min()));t.push(this.rs.addEntry(e,a,_))}}),r.forEach(a=>{t.push(this.rs.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.rs.updateMetadata(e,i)),se.waitFor(t)}getFromCache(e,t){return this.rs.ts(e,t).next(i=>(this.os.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.rs.ns(e,t).next(({documents:i,ss:r})=>(r.forEach((a,u)=>{this.os.set(a,{size:u,readTime:i.get(a).readTime})}),i))}}function tO(n){return Gi(n,"remoteDocumentGlobal")}function Qm(n){return Gi(n,"remoteDocumentsV14")}function D0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function nO(n,e){const t=e.documentKey.path.toArray();return[n,lD(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function iO(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let a=0;a<t.length-2&&a<i.length-2;++a)if(r=Ut(t[a],i[a]),r)return r;return r=Ut(t.length,i.length),r||(r=Ut(t[t.length-2],i[i.length-2]),r||Ut(t[t.length-1],i[i.length-1]))}class tL{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class rO{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&Ky(i.mutation,r,Vs.empty(),si.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Yt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Yt()){const r=Ll();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(a=>{let u=jy();return a.forEach((f,_)=>{u=u.insert(f,_.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=Ll();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Yt()))}populateOverlays(e,t,i){const r=[];return i.forEach(a=>{t.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,i,r){let a=ws();const u=Um(),f=Um();return t.forEach((_,w)=>{const I=i.get(w.key);r.has(w.key)&&(void 0===I||I.mutation instanceof Bl)?a=a.insert(w.key,w):void 0!==I?(u.set(w.key,I.mutation.getFieldMask()),Ky(I.mutation,w,I.mutation.getFieldMask(),si.now())):u.set(w.key,Vs.empty())}),this.recalculateAndSaveOverlays(e,a).next(_=>(_.forEach((w,I)=>u.set(w,I)),t.forEach((w,I)=>{var A;return f.set(w,new tL(I,null!==(A=u.get(w))&&void 0!==A?A:null))}),f))}recalculateAndSaveOverlays(e,t){const i=Um();let r=new Bn((u,f)=>u-f),a=Yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(_=>{const w=t.get(_);if(null===w)return;let I=i.get(_)||Vs.empty();I=f.applyToLocalView(w,I),i.set(_,I);const A=(r.get(f.batchId)||Yt()).add(_);r=r.insert(f.batchId,A)})}).next(()=>{const u=[],f=r.getReverseIterator();for(;f.hasNext();){const _=f.getNext(),w=_.key,I=_.value,A=OA();I.forEach(F=>{if(!a.has(F)){const B=m0(t.get(F),i.get(F));null!==B&&A.set(F,B),a=a.add(F)}}),u.push(this.documentOverlayCache.saveOverlays(e,w,A))}return se.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return Ke.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):By(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(a=>{const u=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-a.size):se.resolve(Ll());let f=-1,_=a;return u.next(w=>se.forEach(w,(I,A)=>(f<A.largestBatchId&&(f=A.largestBatchId),a.get(I)?se.resolve():this.remoteDocumentCache.getEntry(e,I).next(F=>{_=_.insert(I,F)}))).next(()=>this.populateOverlays(e,w,a)).next(()=>this.computeViews(e,_,w,Yt())).next(I=>({batchId:f,changes:kA(I)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ke(t)).next(i=>{let r=jy();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let a=jy();return this.indexManager.getCollectionParents(e,r).next(u=>se.forEach(u,f=>{const _=(w=t,I=f.child(r),new zc(I,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,I;return this.getDocumentsMatchingCollectionQuery(e,_,i).next(w=>{w.forEach((I,A)=>{a=a.insert(I,A)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(a=>{r.forEach((f,_)=>{const w=_.getKey();null===a.get(w)&&(a=a.insert(w,Xn.newInvalidDocument(w)))});let u=jy();return a.forEach((f,_)=>{const w=r.get(f);void 0!==w&&Ky(w.mutation,_,Vs.empty(),si.now()),Bm(t,_)&&(u=u.insert(f,_))}),u})}}class nL{constructor(e){this.serializer=e,this.us=new Map,this.cs=new Map}getBundleMetadata(e,t){return se.resolve(this.us.get(t))}saveBundleMetadata(e,t){var i;return this.us.set(t.id,{id:(i=t).id,version:i.version,createTime:Gt(i.createTime)}),se.resolve()}getNamedQuery(e,t){return se.resolve(this.cs.get(t))}saveNamedQuery(e,t){return this.cs.set(t.name,{name:(i=t).name,query:$A(i.bundledQuery),readTime:Gt(i.readTime)}),se.resolve();var i}}class iL{constructor(){this.overlays=new Bn(Ke.comparator),this.hs=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ll();return se.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,a)=>{this.de(e,t,a)}),se.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.hs.get(i);return void 0!==r&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.hs.delete(i)),se.resolve()}getOverlaysForCollection(e,t,i){const r=Ll(),a=t.length+1,u=new Ke(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const _=f.getNext().value,w=_.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===a&&_.largestBatchId>i&&r.set(_.getKey(),_)}return se.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new Bn((w,I)=>w-I);const u=this.overlays.getIterator();for(;u.hasNext();){const w=u.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>i){let I=a.get(w.largestBatchId);null===I&&(I=Ll(),a=a.insert(w.largestBatchId,I)),I.set(w.getKey(),w)}}const f=Ll(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((w,I)=>f.set(w,I)),!(f.size()>=r)););return se.resolve(f)}de(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.hs.get(r.largestBatchId).delete(i.key);this.hs.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new oD(t,i));let a=this.hs.get(t);void 0===a&&(a=Yt(),this.hs.set(t,a)),this.hs.set(t,a.add(i.key))}}class YA{constructor(){this.ls=new Qn(Pr.fs),this.ds=new Qn(Pr._s)}isEmpty(){return this.ls.isEmpty()}addReference(e,t){const i=new Pr(e,t);this.ls=this.ls.add(i),this.ds=this.ds.add(i)}ws(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gs(new Pr(e,t))}ys(e,t){e.forEach(i=>this.removeReference(i,t))}ps(e){const t=new Ke(new on([])),i=new Pr(t,e),r=new Pr(t,e+1),a=[];return this.ds.forEachInRange([i,r],u=>{this.gs(u),a.push(u.key)}),a}Is(){this.ls.forEach(e=>this.gs(e))}gs(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}Ts(e){const t=new Ke(new on([])),i=new Pr(t,e),r=new Pr(t,e+1);let a=Yt();return this.ds.forEachInRange([i,r],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Pr(e,0),i=this.ls.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Pr{constructor(e,t){this.key=e,this.Es=t}static fs(e,t){return Ke.comparator(e.key,t.key)||Ut(e.Es,t.Es)}static _s(e,t){return Ut(e.Es,t.Es)||Ke.comparator(e.key,t.key)}}class rL{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.As=1,this.Rs=new Qn(Pr.fs)}checkEmpty(e){return se.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const a=this.As;this.As++;const u=new rD(a,t,i,r);this.mutationQueue.push(u);for(const f of r)this.Rs=this.Rs.add(new Pr(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return se.resolve(u)}lookupMutationBatch(e,t){return se.resolve(this.vs(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.Ps(t+1),a=r<0?0:r;return se.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(0===this.mutationQueue.length?-1:this.As-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Pr(t,0),r=new Pr(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([i,r],u=>{const f=this.vs(u.Es);a.push(f)}),se.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Qn(Ut);return t.forEach(r=>{const a=new Pr(r,0),u=new Pr(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([a,u],f=>{i=i.add(f.Es)})}),se.resolve(this.bs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;Ke.isDocumentKey(a)||(a=a.child(""));const u=new Pr(new Ke(a),0);let f=new Qn(Ut);return this.Rs.forEachWhile(_=>{const w=_.key.path;return!!i.isPrefixOf(w)&&(w.length===r&&(f=f.add(_.Es)),!0)},u),se.resolve(this.bs(f))}bs(e){const t=[];return e.forEach(i=>{const r=this.vs(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){gt(0===this.Vs(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return se.forEach(t.mutations,r=>{const a=new Pr(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Dn(e){}containsKey(e,t){const i=new Pr(t,0),r=this.Rs.firstAfterOrEqual(i);return se.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return se.resolve()}Vs(e,t){return this.Ps(e)}Ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}vs(e){const t=this.Ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class sL{constructor(e){this.Ss=e,this.docs=new Bn(Ke.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,u=this.Ss(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return se.resolve(i?i.document.mutableCopy():Xn.newInvalidDocument(t))}getEntries(e,t){let i=ws();return t.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():Xn.newInvalidDocument(r))}),se.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let a=ws();const u=t.path,f=new Ke(u.child("")),_=this.docs.getIteratorFrom(f);for(;_.hasNext();){const{key:w,value:{document:I}}=_.getNext();if(!u.isPrefixOf(w.path))break;w.path.length>u.length+1||Dy(Fw(I),i)<=0||(r.has(I.key)||Bm(t,I))&&(a=a.insert(I.key,I.mutableCopy()))}return se.resolve(a)}getAllFromCollectionGroup(e,t,i,r){ot()}Ds(e,t){return se.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new oL(this)}getSize(e){return se.resolve(this.size)}}class oL extends Jk{constructor(e){super(),this.rs=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.rs.addEntry(e,r)):this.rs.removeEntry(i)}),se.waitFor(t)}getFromCache(e,t){return this.rs.getEntry(e,t)}getAllFromCache(e,t){return this.rs.getEntries(e,t)}}class aL{constructor(e){this.persistence=e,this.Cs=new Fl(t=>ud(t),af),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.xs=0,this.Ns=new YA,this.targetCount=0,this.ks=Ym.Nn()}forEachTarget(e,t){return this.Cs.forEach((i,r)=>t(r)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.xs)}allocateTargetId(e){return this.highestTargetId=this.ks.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.xs&&(this.xs=t),se.resolve()}$n(e){this.Cs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ks=new Ym(t),this.highestTargetId=t),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}addTargetData(e,t){return this.$n(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.$n(t),se.resolve()}removeTargetData(e,t){return this.Cs.delete(t.target),this.Ns.ps(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.Cs.forEach((u,f)=>{f.sequenceNumber<=t&&null===i.get(f.targetId)&&(this.Cs.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),r++)}),se.waitFor(a).next(()=>r)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const i=this.Cs.get(t)||null;return se.resolve(i)}addMatchingKeys(e,t,i){return this.Ns.ws(t,i),se.resolve()}removeMatchingKeys(e,t,i){this.Ns.ys(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(u=>{a.push(r.markPotentiallyOrphaned(e,u))}),se.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ns.ps(t),se.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ns.Ts(t);return se.resolve(i)}containsKey(e,t){return se.resolve(this.Ns.containsKey(t))}}class QA{constructor(e,t){this.Ms={},this.overlays={},this.Os=new Jr(0),this.$s=!1,this.$s=!0,this.referenceDelegate=e(this),this.Fs=new aL(this),this.indexManager=new WF,this.remoteDocumentCache=new sL(i=>this.referenceDelegate.Bs(i)),this.serializer=new Rk(t),this.Ls=new nL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new iL,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Ms[e.toKey()];return i||(i=new rL(t,this.referenceDelegate),this.Ms[e.toKey()]=i),i}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(e,t,i){Fe("MemoryPersistence","Starting transaction:",e);const r=new lL(this.Os.next());return this.referenceDelegate.qs(),i(r).next(a=>this.referenceDelegate.Us(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Ks(e,t){return se.or(Object.values(this.Ms).map(i=>()=>i.containsKey(e,t)))}}class lL extends Lw{constructor(e){super(),this.currentSequenceNumber=e}}class gD{constructor(e){this.persistence=e,this.Gs=new YA,this.Qs=null}static js(e){return new gD(e)}get zs(){if(this.Qs)return this.Qs;throw ot()}addReference(e,t,i){return this.Gs.addReference(i,t),this.zs.delete(i.toString()),se.resolve()}removeReference(e,t,i){return this.Gs.removeReference(i,t),this.zs.add(i.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.zs.add(t.toString()),se.resolve()}removeTarget(e,t){this.Gs.ps(t.targetId).forEach(r=>this.zs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(a=>this.zs.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}qs(){this.Qs=new Set}Us(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.zs,i=>{const r=Ke.fromPath(i);return this.Ws(e,r).next(a=>{a||t.removeEntry(r,wt.min())})}).next(()=>(this.Qs=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ws(e,t).next(i=>{i?this.zs.delete(t.toString()):this.zs.add(t.toString())})}Bs(e){return 0}Ws(e,t){return se.or([()=>se.resolve(this.Gs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ks(e,t)])}}class cL{constructor(e){this.serializer=e}$(e,t,i,r){const a=new Ty("createOrUpgrade",t);var f;i<1&&r>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Uw,{unique:!0}),f.createObjectStore("documentMutations"),sO(e),function(f){f.createObjectStore("remoteDocuments")}(e));let u=se.resolve();return i<3&&r>=3&&(0!==i&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),sO(e)),u=u.next(()=>function(f){const _=f.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:wt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",w)}(a))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(f,_){return _.store("mutations").j().next(w=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Uw,{unique:!0});const I=_.store("mutations"),A=w.map(F=>I.put(F));return se.waitFor(A)})}(e,a))),u=u.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(u=u.next(()=>this.Js(a))),i<6&&r>=6&&(u=u.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Ys(a)))),i<7&&r>=7&&(u=u.next(()=>this.Xs(a))),i<8&&r>=8&&(u=u.next(()=>this.Zs(e,a))),i<9&&r>=9&&(u=u.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(u=u.next(()=>this.ti(a))),i<11&&r>=11&&(u=u.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(u=u.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:gA});_.createIndex("collectionPathOverlayIndex",_A,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",UI,{unique:!1})}(e)})),i<13&&r>=13&&(u=u.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:LI});_.createIndex("documentKeyIndex",hA),_.createIndex("collectionGroupIndex",VI)}(e)).next(()=>this.ei(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.ni(e,a))),i<15&&r>=15&&(u=u.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:yk}).createIndex("sequenceNumberIndex",pA,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:vk}).createIndex("documentKeyIndex",mA,{unique:!1})}(e))),u}Ys(e){let t=0;return e.store("remoteDocuments").X((i,r)=>{t+=fD(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Js(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.j().next(r=>se.forEach(r,a=>{const u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",u).next(f=>se.forEach(f,_=>{gt(_.userId===a.userId);const w=Wm(this.serializer,_);return qk(e,a.userId,w).next(()=>{})}))}))}Xs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const a=[];return i.X((u,f)=>{const _=new on(u),w=[0,kr(_)];a.push(t.get(w).next(I=>I?se.resolve():t.put({targetId:0,path:kr(_),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>se.waitFor(a))})}Zs(e,t){e.createObjectStore("collectionParents",{keyPath:Hw});const i=t.store("collectionParents"),r=new KA,a=u=>{if(r.add(u)){const f=u.lastSegment(),_=u.popLast();return i.put({collectionId:f,parent:kr(_)})}};return t.store("remoteDocuments").X({Y:!0},(u,f)=>{const _=new on(u);return a(_.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([u,f,_],w)=>{const I=Lo(f);return a(I.popLast())}))}ti(e){const t=e.store("targets");return t.X((i,r)=>{const a=b0(r),u=Ok(this.serializer,a);return t.put(u)})}ei(e,t){const i=t.store("remoteDocuments"),r=[];return i.X((a,u)=>{const f=t.store("remoteDocumentsV14"),_=(w=u,w.document?new Ke(on.fromString(w.document.name).popFirst(5)):w.noDocument?Ke.fromSegments(w.noDocument.path):w.unknownDocument?Ke.fromSegments(w.unknownDocument.path):ot()).path.toArray();var w;const I={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(f.put(I))}).next(()=>se.waitFor(r))}ni(e,t){const i=t.store("mutations"),r=eO(this.serializer),a=new QA(gD.js,this.serializer.le);return i.j().next(u=>{const f=new Map;return u.forEach(_=>{var w;let I=null!==(w=f.get(_.userId))&&void 0!==w?w:Yt();Wm(this.serializer,_).keys().forEach(A=>I=I.add(A)),f.set(_.userId,I)}),se.forEach(f,(_,w)=>{const I=new zi(w),A=cD.fe(this.serializer,I),F=a.getIndexManager(I),B=pD.fe(I,this.serializer,F,a.referenceDelegate);return new rO(r,B,A,F).recalculateAndSaveOverlaysForDocumentKeys(new Gw(t,Jr.ct),_).next()})})}}function sO(n){n.createObjectStore("targetDocuments",{keyPath:fA}).createIndex("documentTargetsIndex",BI,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",tf,{unique:!0}),n.createObjectStore("targetGlobal")}const XA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class JA{constructor(e,t,i,r,a,u,f,_,w,I,A=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.si=a,this.window=u,this.document=f,this.ii=w,this.ri=I,this.oi=A,this.Os=null,this.$s=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.ai=null,this.hi=Number.NEGATIVE_INFINITY,this.li=F=>Promise.resolve(),!JA.D())throw new Me(ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new XF(this,r),this.fi=t+"main",this.serializer=new Rk(_),this.di=new Yn(this.fi,this.oi,new cL(this.serializer)),this.Fs=new KF(this.referenceDelegate,this.serializer),this.remoteDocumentCache=eO(this.serializer),this.Ls=new UF,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===I&&Fi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Me(ce.FAILED_PRECONDITION,XA);return this.mi(),this.gi(),this.yi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Fs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Jr(e,this.ii)}).then(()=>{this.$s=!0}).catch(e=>(this.di&&this.di.close(),Promise.reject(e)))}pi(e){var t=this;return this.li=function(){var i=(0,we.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.di.B(function(){var t=(0,we.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,we.Z)(function*(){t.started&&(yield t.wi())})))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>yD(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ii(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)))})}).next(()=>this.Ti(e)).next(t=>this.isPrimary&&!t?this.Ei(e).next(()=>!1):!!t&&this.Ai(e).next(()=>!0))).catch(e=>{if(Hc(e))return Fe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Fe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.li(e)),this.isPrimary=e})}Ii(e){return T0(e).get("owner").next(t=>se.resolve(this.Ri(t)))}vi(e){return yD(e).delete(this.clientId)}Pi(){var e=this;return(0,we.Z)(function*(){if(e.isPrimary&&!e.bi(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Gi(i,"clientMetadata");return r.j().next(a=>{const u=e.Vi(a,18e5),f=a.filter(_=>-1===u.indexOf(_));return se.forEach(f,_=>r.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e._i)for(const i of t)e._i.removeItem(e.Si(i.clientId))}})()}yi(){this.ai=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Pi()).then(()=>this.yi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ti(e){return this.ri?se.resolve(!0):T0(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Me(ce.FAILED_PRECONDITION,XA);return!1}}return!(!this.networkEnabled||!this.inForeground)||yD(e).j().next(i=>void 0===this.Vi(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,f=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Fe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,we.Z)(function*(){e.$s=!1,e.Ci(),e.ai&&(e.ai.cancel(),e.ai=null),e.xi(),e.Ni(),yield e.di.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new Gw(t,Jr.ct);return e.Ei(i).next(()=>e.vi(i))}),e.di.close(),e.ki()})()}Vi(e,t){return e.filter(i=>this.bi(i.updateTimeMs,t)&&!this.Di(i.clientId))}Mi(){return this.runTransaction("getActiveClients","readonly",e=>yD(e).j().next(t=>this.Vi(t,18e5).map(i=>i.clientId)))}get started(){return this.$s}getMutationQueue(e,t){return pD.fe(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new ZF(e,this.serializer.le.databaseId)}getDocumentOverlayCache(e){return cD.fe(this.serializer,e)}getBundleCache(){return this.Ls}runTransaction(e,t,i){Fe("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",a=15===(u=this.oi)?vA:14===u?zw:13===u?$w:12===u?yA:11===u?jw:void ot();var u;let f;return this.di.runTransaction(e,r,a,_=>(f=new Gw(_,this.Os?this.Os.next():Jr.ct),"readwrite-primary"===t?this.Ii(f).next(w=>!!w||this.Ti(f)).next(w=>{if(!w)throw Fi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)),new Me(ce.FAILED_PRECONDITION,NI);return i(f)}).next(w=>this.Ai(f).next(()=>w)):this.Oi(f).next(()=>i(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}Oi(e){return T0(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)&&!this.Ri(t)&&!(this.ri||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Me(ce.FAILED_PRECONDITION,XA)})}Ai(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return T0(e).put("owner",t)}static D(){return Yn.D()}Ei(e){const t=T0(e);return t.get("owner").next(i=>this.Ri(i)?(Fe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):se.resolve())}bi(e,t){const i=Date.now();return!(e<i-t||e>i&&(Fi(`Detected an update time that is in the future: ${e} > ${i}`),1))}mi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.wi()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Ci();const t=/(?:Version|Mobile)\/1[456]/;(0,mn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Ni(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Di(e){var t;try{const i=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Si(e)));return Fe("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Fi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ci(){if(this._i)try{this._i.setItem(this.Si(this.clientId),String(Date.now()))}catch(e){Fi("Failed to set zombie client id.",e)}}ki(){if(this._i)try{this._i.removeItem(this.Si(this.clientId))}catch{}}Si(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function T0(n){return Gi(n,"owner")}function yD(n){return Gi(n,"clientMetadata")}function eM(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class tM{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.$i=i,this.Fi=r}static Bi(e,t){let i=Yt(),r=Yt();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new tM(e,t.fromCache,i,r)}}class oO{constructor(){this.Li=!1}initialize(e,t){this.qi=e,this.indexManager=t,this.Li=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ui(e,t).next(a=>a||this.Ki(e,t,r,i)).next(a=>a||this.Gi(e,t))}Ui(e,t){if(l0(t))return se.resolve(null);let i=sr(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Hy(t,null,"F"),i=sr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const u=Yt(...a);return this.qi.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,i).next(_=>{const w=this.Qi(t,f);return this.ji(t,w,u,_.readTime)?this.Ui(e,Hy(t,null,"F")):this.zi(e,w,t,_)}))})))}Ki(e,t,i,r){return l0(t)||r.isEqual(wt.min())?this.Gi(e,t):this.qi.getDocuments(e,i).next(a=>{const u=this.Qi(t,a);return this.ji(t,u,i,r)?this.Gi(e,t):(vy()<=Dl.in.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),u0(t)),this.zi(e,u,t,Nw(r,-1)))})}Qi(e,t){let i=new Qn(MA(e));return t.forEach((r,a)=>{Bm(e,a)&&(i=i.add(a))}),i}ji(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Gi(e,t){return vy()<=Dl.in.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",u0(t)),this.qi.getDocumentsMatchingQuery(e,t,bs.min())}zi(e,t,i,r){return this.qi.getDocumentsMatchingQuery(e,i,r).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}class uL{constructor(e,t,i,r){this.persistence=e,this.Wi=t,this.serializer=r,this.Hi=new Bn(Ut),this.Ji=new Fl(a=>ud(a),af),this.Yi=new Map,this.Xi=e.getRemoteDocumentCache(),this.Fs=e.getTargetCache(),this.Ls=e.getBundleCache(),this.Zi(i)}Zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rO(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Hi))}}function aO(n,e,t,i){return new uL(n,e,t,i)}function lO(n,e){return nM.apply(this,arguments)}function nM(){return nM=(0,we.Z)(function*(n,e){const t=Ze(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,t.Zi(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const u=[],f=[];let _=Yt();for(const w of r){u.push(w.batchId);for(const I of w.mutations)_=_.add(I.key)}for(const w of a){f.push(w.batchId);for(const I of w.mutations)_=_.add(I.key)}return t.localDocuments.getDocuments(i,_).next(w=>({tr:w,removedBatchIds:u,addedBatchIds:f}))})})}),nM.apply(this,arguments)}function dL(n,e){const t=Ze(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),a=t.Xi.newChangeBuffer({trackRemovals:!0});return function(u,f,_,w){const I=_.batch,A=I.keys();let F=se.resolve();return A.forEach(B=>{F=F.next(()=>w.getEntry(f,B)).next(W=>{const ie=_.docVersions.get(B);gt(null!==ie),W.version.compareTo(ie)<0&&(I.applyToRemoteDocument(W,_),W.isValidDocument()&&(W.setReadTime(_.commitVersion),w.addEntry(W)))})}),F.next(()=>u.mutationQueue.removeMutationBatch(f,I))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let f=Yt();for(let _=0;_<u.mutationResults.length;++_)u.mutationResults[_].transformResults.length>0&&(f=f.add(u.batch.mutations[_].key));return f}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function cO(n){const e=Ze(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Fs.getLastRemoteSnapshotVersion(t))}function hL(n,e){const t=Ze(n),i=e.snapshotVersion;let r=t.Hi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Xi.newChangeBuffer({trackRemovals:!0});r=t.Hi;const f=[];e.targetChanges.forEach((I,A)=>{const F=r.get(A);if(!F)return;f.push(t.Fs.removeMatchingKeys(a,I.removedDocuments,A).next(()=>t.Fs.addMatchingKeys(a,I.addedDocuments,A)));let B=F.withSequenceNumber(a.currentSequenceNumber);var W,ie,_e;null!==e.targetMismatches.get(A)?B=B.withResumeToken(rr.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):I.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(I.resumeToken,i)),r=r.insert(A,B),ie=B,_e=I,(0===(W=F).resumeToken.approximateByteSize()||ie.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=3e8||_e.addedDocuments.size+_e.modifiedDocuments.size+_e.removedDocuments.size>0)&&f.push(t.Fs.updateTargetData(a,B))});let _=ws(),w=Yt();if(e.documentUpdates.forEach(I=>{e.resolvedLimboDocuments.has(I)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,I))}),f.push(uO(a,u,e.documentUpdates).next(I=>{_=I.er,w=I.nr})),!i.isEqual(wt.min())){const I=t.Fs.getLastRemoteSnapshotVersion(a).next(A=>t.Fs.setTargetsMetadata(a,a.currentSequenceNumber,i));f.push(I)}return se.waitFor(f).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,_,w)).next(()=>_)}).then(a=>(t.Hi=r,a))}function uO(n,e,t){let i=Yt(),r=Yt();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let u=ws();return t.forEach((f,_)=>{const w=a.get(f);_.isFoundDocument()!==w.isFoundDocument()&&(r=r.add(f)),_.isNoDocument()&&_.version.isEqual(wt.min())?(e.removeEntry(f,_.readTime),u=u.insert(f,_)):!w.isValidDocument()||_.version.compareTo(w.version)>0||0===_.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(_),u=u.insert(f,_)):Fe("LocalStore","Ignoring outdated watch update for ",f,". Current version:",w.version," Watch version:",_.version)}),{er:u,nr:r}})}function fL(n,e){const t=Ze(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function sv(n,e){const t=Ze(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Fs.getTargetData(i,e).next(a=>a?(r=a,se.resolve(r)):t.Fs.allocateTargetId(i).next(u=>(r=new pd(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Fs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Hi.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Hi=t.Hi.insert(i.targetId,i),t.Ji.set(e,i.targetId)),i})}function ov(n,e,t){return iM.apply(this,arguments)}function iM(){return iM=(0,we.Z)(function*(n,e,t){const i=Ze(n),r=i.Hi.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!Hc(u))throw u;Fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.Hi=i.Hi.remove(e),i.Ji.delete(r.target)}),iM.apply(this,arguments)}function vD(n,e,t){const i=Ze(n);let r=wt.min(),a=Yt();return i.persistence.runTransaction("Execute query","readonly",u=>function(f,_,w){const I=Ze(f),A=I.Ji.get(w);return void 0!==A?se.resolve(I.Hi.get(A)):I.Fs.getTargetData(_,w)}(i,u,sr(e)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.Fs.getMatchingKeysForTargetId(u,f.targetId).next(_=>{a=_})}).next(()=>i.Wi.getDocumentsMatchingQuery(u,e,t?r:wt.min(),t?a:Yt())).next(f=>(fO(i,AA(e),f),{documents:f,sr:a})))}function dO(n,e){const t=Ze(n),i=Ze(t.Fs),r=t.Hi.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",a=>i.he(a,e).next(u=>u?u.target:null))}function hO(n,e){const t=Ze(n),i=t.Yi.get(e)||wt.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Xi.getAllFromCollectionGroup(r,e,Nw(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(fO(t,e,r),r))}function fO(n,e,t){let i=n.Yi.get(e)||wt.min();t.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Yi.set(e,i)}function rM(){return rM=(0,we.Z)(function*(n,e,t,i){const r=Ze(n);let a=Yt(),u=ws();for(const w of t){const I=e.ir(w.metadata.name);w.document&&(a=a.add(I));const A=e.rr(w);A.setReadTime(e.ur(w.metadata.readTime)),u=u.insert(I,A)}const f=r.Xi.newChangeBuffer({trackRemovals:!0}),_=yield sv(r,(w=i,sr(dd(on.fromString(`__bundle__/docs/${w}`)))));var w;return r.persistence.runTransaction("Apply bundle documents","readwrite",w=>uO(w,f,u).next(I=>(f.apply(w),I)).next(I=>r.Fs.removeMatchingKeysForTargetId(w,_.targetId).next(()=>r.Fs.addMatchingKeys(w,a,_.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(w,I.er,I.nr)).next(()=>I.er)))}),rM.apply(this,arguments)}function mL(n,e){return sM.apply(this,arguments)}function sM(){return sM=(0,we.Z)(function*(n,e,t=Yt()){const i=yield sv(n,sr($A(e.bundledQuery))),r=Ze(n);return r.persistence.runTransaction("Save named query","readwrite",a=>{const u=Gt(e.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.Ls.saveNamedQuery(a,e);const f=i.withResumeToken(rr.EMPTY_BYTE_STRING,u);return r.Hi=r.Hi.insert(f.targetId,f),r.Fs.updateTargetData(a,f).next(()=>r.Fs.removeMatchingKeysForTargetId(a,i.targetId)).next(()=>r.Fs.addMatchingKeys(a,t,i.targetId)).next(()=>r.Ls.saveNamedQuery(a,e))})}),sM.apply(this,arguments)}function pO(n,e){return`firestore_clients_${n}_${e}`}function mO(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function oM(n,e){return`firestore_targets_${n}_${e}`}class bD{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static cr(e,t,i){const r=JSON.parse(i);let a,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(a=new Me(r.error.code,r.error.message))),u?new bD(e,t,r.state,a):(Fi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class S0{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static cr(e,t){const i=JSON.parse(t);let r,a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new Me(i.error.code,i.error.message))),a?new S0(e,i.state,r):(Fi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class wD{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static cr(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,a=Vl();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=FI(i.activeTargetIds[u]),a=a.add(i.activeTargetIds[u]);return r?new wD(e,a):(Fi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class aM{constructor(e,t){this.clientId=e,this.onlineState=t}static cr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new aM(t.clientId,t.onlineState):(Fi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class lM{constructor(){this.activeTargetIds=Vl()}hr(e){this.activeTargetIds=this.activeTargetIds.add(e)}lr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ar(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cM{constructor(e,t,i,r,a){this.window=e,this.si=t,this.persistenceKey=i,this.dr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.wr.bind(this),this.mr=new Bn(Ut),this.started=!1,this.gr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.yr=pO(this.persistenceKey,this.dr),this.pr=`firestore_sequence_number_${this.persistenceKey}`,this.mr=this.mr.insert(this.dr,new lM),this.Ir=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.Tr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.Er=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.Ar=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,we.Z)(function*(){const t=yield e.syncEngine.Mi();for(const r of t){if(r===e.dr)continue;const a=e.getItem(pO(e.persistenceKey,r));if(a){const u=wD.cr(r,a);u&&(e.mr=e.mr.insert(u.clientId,u))}}e.vr();const i=e.storage.getItem(e.Ar);if(i){const r=e.Pr(i);r&&e.br(r)}for(const r of e.gr)e.wr(r);e.gr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.pr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Vr(this.mr)}isActiveQueryTarget(e){let t=!1;return this.mr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Sr(e,"pending")}updateMutationState(e,t,i){this.Sr(e,t,i),this.Dr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(oM(this.persistenceKey,e));if(i){const r=S0.cr(e,i);r&&(t=r.state)}}return this.Cr.hr(e),this.vr(),t}removeLocalQueryTarget(e){this.Cr.lr(e),this.vr()}isLocalQueryTarget(e){return this.Cr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(oM(this.persistenceKey,e))}updateQueryState(e,t,i){this.Nr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Dr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.kr(e)}notifyBundleLoaded(e){this.Mr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.yr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Fe("SharedClientState","READ",e,t),t}setItem(e,t){Fe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Fe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}wr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Fe("SharedClientState","EVENT",i.key,i.newValue),i.key===this.yr)return void Fi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,we.Z)(function*(){if(t.started){if(null!==i.key)if(t.Ir.test(i.key)){if(null==i.newValue){const r=t.Or(i.key);return t.$r(r,null)}{const r=t.Fr(i.key,i.newValue);if(r)return t.$r(r.clientId,r)}}else if(t.Tr.test(i.key)){if(null!==i.newValue){const r=t.Br(i.key,i.newValue);if(r)return t.Lr(r)}}else if(t.Er.test(i.key)){if(null!==i.newValue){const r=t.qr(i.key,i.newValue);if(r)return t.Ur(r)}}else if(i.key===t.Ar){if(null!==i.newValue){const r=t.Pr(i.newValue);if(r)return t.br(r)}}else if(i.key===t.pr){const r=function(a){let u=Jr.ct;if(null!=a)try{const f=JSON.parse(a);gt("number"==typeof f),u=f}catch(f){Fi("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(i.newValue);r!==Jr.ct&&t.sequenceNumberHandler(r)}else if(i.key===t.Rr){const r=t.Kr(i.newValue);yield Promise.all(r.map(a=>t.syncEngine.Gr(a)))}}else t.gr.push(i)}))}}get Cr(){return this.mr.get(this.dr)}vr(){this.setItem(this.yr,this.Cr.ar())}Sr(e,t,i){const r=new bD(this.currentUser,e,t,i),a=mO(this.persistenceKey,this.currentUser,e);this.setItem(a,r.ar())}Dr(e){const t=mO(this.persistenceKey,this.currentUser,e);this.removeItem(t)}kr(e){this.storage.setItem(this.Ar,JSON.stringify({clientId:this.dr,onlineState:e}))}Nr(e,t,i){const r=oM(this.persistenceKey,e),a=new S0(e,t,i);this.setItem(r,a.ar())}Mr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Ir.exec(e);return t?t[1]:null}Fr(e,t){const i=this.Or(e);return wD.cr(i,t)}Br(e,t){const i=this.Tr.exec(e),r=Number(i[1]);return bD.cr(new zi(void 0!==i[2]?i[2]:null),r,t)}qr(e,t){const i=this.Er.exec(e),r=Number(i[1]);return S0.cr(r,t)}Pr(e){return aM.cr(e)}Kr(e){return JSON.parse(e)}Lr(e){var t=this;return(0,we.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Qr(e.batchId,e.state,e.error);Fe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Ur(e){return this.syncEngine.jr(e.targetId,e.state,e.error)}$r(e,t){const i=t?this.mr.insert(e,t):this.mr.remove(e),r=this.Vr(this.mr),a=this.Vr(i),u=[],f=[];return a.forEach(_=>{r.has(_)||u.push(_)}),r.forEach(_=>{a.has(_)||f.push(_)}),this.syncEngine.zr(u,f).then(()=>{this.mr=i})}br(e){this.mr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Vr(e){let t=Vl();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class gO{constructor(){this.Wr=new lM,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}updateQueryState(e,t,i){this.Hr[e]=t}removeLocalQueryTarget(e){this.Wr.lr(e)}isLocalQueryTarget(e){return this.Wr.activeTargetIds.has(e)}clearQueryState(e){delete this.Hr[e]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(e){return this.Wr.activeTargetIds.has(e)}start(){return this.Wr=new lM,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class gL{Jr(e){}shutdown(){}}class _O{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(e){this.no.push(e)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.no)e(0)}eo(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.no)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ED=null;function uM(){return null===ED?ED=268435456+Math.round(2147483648*Math.random()):ED++,"0x"+ED.toString(16)}const _L={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yL{constructor(e){this.io=e.io,this.ro=e.ro}oo(e){this.uo=e}co(e){this.ao=e}onMessage(e){this.ho=e}close(){this.ro()}send(e){this.io(e)}lo(){this.uo()}fo(e){this.ao(e)}_o(e){this.ho(e)}}const Cs="WebChannelConnection";class vL extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.wo=(e.ssl?"https":"http")+"://"+e.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(e,t,i,r,a){const u=uM(),f=this.Io(e,t);Fe("RestConnection",`Sending RPC '${e}' ${u}:`,f,i);const _={};return this.To(_,r,a),this.Eo(e,f,_,i).then(w=>(Fe("RestConnection",`Received RPC '${e}' ${u}: `,w),w),w=>{throw lo("RestConnection",`RPC '${e}' ${u} failed with error: `,w,"url: ",f,"request:",i),w})}Ao(e,t,i,r,a,u){return this.po(e,t,i,r,a)}To(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+nd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,a)=>e[a]=r),i&&i.headers.forEach((r,a)=>e[a]=r)}Io(e,t){return`${this.wo}/v1/${t}:${_L[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Eo(e,t,i,r){const a=uM();return new Promise((u,f)=>{const _=new nA;_.setWithCredentials(!0),_.listenOnce(JS.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Mw.NO_ERROR:const I=_.getResponseJson();Fe(Cs,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(I)),u(I);break;case Mw.TIMEOUT:Fe(Cs,`RPC '${e}' ${a} timed out`),f(new Me(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Mw.HTTP_ERROR:const A=_.getStatus();if(Fe(Cs,`RPC '${e}' ${a} failed with status:`,A,"response text:",_.getResponseText()),A>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const B=F?.error;if(B&&B.status&&B.message){const W=function(ie){const _e=ie.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(_e)>=0?_e:ce.UNKNOWN}(B.status);f(new Me(W,B.message))}else f(new Me(ce.UNKNOWN,"Server responded with status "+_.getStatus()))}else f(new Me(ce.UNAVAILABLE,"Connection failed."));break;default:ot()}}finally{Fe(Cs,`RPC '${e}' ${a} completed.`)}});const w=JSON.stringify(r);Fe(Cs,`RPC '${e}' ${a} sending request:`,r),_.send(t,"POST",w,i,15)})}Ro(e,t,i){const r=uM(),a=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=XS(),f=xI(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(_.xmlHttpFactory=new tA({})),this.To(_.initMessageHeaders,t,i),_.encodeInitMessageHeaders=!0;const w=a.join("");Fe(Cs,`Creating RPC '${e}' stream ${r}: ${w}`,_);const I=u.createWebChannel(w,_);let A=!1,F=!1;const B=new yL({io:ie=>{F?Fe(Cs,`Not sending because RPC '${e}' stream ${r} is closed:`,ie):(A||(Fe(Cs,`Opening RPC '${e}' stream ${r} transport.`),I.open(),A=!0),Fe(Cs,`RPC '${e}' stream ${r} sending:`,ie),I.send(ie))},ro:()=>I.close()}),W=(ie,_e,$e)=>{ie.listen(_e,it=>{try{$e(it)}catch(Je){setTimeout(()=>{throw Je},0)}})};return W(I,yy.EventType.OPEN,()=>{F||Fe(Cs,`RPC '${e}' stream ${r} transport opened.`)}),W(I,yy.EventType.CLOSE,()=>{F||(F=!0,Fe(Cs,`RPC '${e}' stream ${r} transport closed`),B.fo())}),W(I,yy.EventType.ERROR,ie=>{F||(F=!0,lo(Cs,`RPC '${e}' stream ${r} transport errored:`,ie),B.fo(new Me(ce.UNAVAILABLE,"The operation could not be completed")))}),W(I,yy.EventType.MESSAGE,ie=>{var _e;if(!F){const $e=ie.data[0];gt(!!$e);const it=$e,Je=it.error||(null===(_e=it[0])||void 0===_e?void 0:_e.error);if(Je){Fe(Cs,`RPC '${e}' stream ${r} received error:`,Je);const Ct=Je.status;let jt=function(An){const Nr=Li[An];if(void 0!==Nr)return BA(Nr)}(Ct),Wt=Je.message;void 0===jt&&(jt=ce.INTERNAL,Wt="Unknown error status: "+Ct+" with message "+Je.message),F=!0,B.fo(new Me(jt,Wt)),I.close()}else Fe(Cs,`RPC '${e}' stream ${r} received:`,$e),B._o($e)}}),W(f,eA.STAT_EVENT,ie=>{ie.stat===RI.PROXY?Fe(Cs,`RPC '${e}' stream ${r} detected buffering proxy`):ie.stat===RI.NOPROXY&&Fe(Cs,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{B.lo()},0),B}}function yO(){return typeof window<"u"?window:null}function CD(){return typeof document<"u"?document:null}function A0(n){return new ht(n,!0)}class dM{constructor(e,t,i=1e3,r=1.5,a=6e4){this.si=e,this.timerId=t,this.vo=i,this.Po=r,this.bo=a,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();const t=Math.floor(this.Vo+this.No()),i=Math.max(0,Date.now()-this.Do),r=Math.max(0,t-i);r>0&&Fe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Vo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Do=Date.now(),e())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){null!==this.So&&(this.So.skipDelay(),this.So=null)}cancel(){null!==this.So&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}class vO{constructor(e,t,i,r,a,u,f,_){this.si=e,this.Mo=i,this.Oo=r,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new dM(e,t)}qo(){return 1===this.state||5===this.state||this.Uo()}Uo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Ko()}stop(){var e=this;return(0,we.Z)(function*(){e.qo()&&(yield e.close(0))})()}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(e){this.Wo(),this.stream.send(e)}jo(){var e=this;return(0,we.Z)(function*(){if(e.Uo())return e.close(0)})()}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}close(e,t){var i=this;return(0,we.Z)(function*(){i.Wo(),i.Ho(),i.Lo.cancel(),i.$o++,4!==e?i.Lo.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(Fi(t.toString()),Fi("Using maximum backoff delay to prevent overloading the backend."),i.Lo.Co()):t&&t.code===ce.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Jo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.co(t)})()}Jo(){}auth(){this.state=1;const e=this.Yo(this.$o),t=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.$o===t&&this.Xo(i,r)},i=>{e(()=>{const r=new Me(ce.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Zo(r)})})}Xo(e,t){const i=this.Yo(this.$o);this.stream=this.tu(e,t),this.stream.oo(()=>{i(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(r=>{i(()=>this.Zo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Ko(){var e=this;this.state=5,this.Lo.xo((0,we.Z)(function*(){e.state=0,e.start()}))}Zo(e){return Fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Yo(e){return t=>{this.si.enqueueAndForget(()=>this.$o===e?t():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bL extends vO{constructor(e,t,i,r,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,u),this.serializer=a}tu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.Lo.reset();const t=function kF(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:ot(),r=e.targetChange.targetIds||[],a=function(_,w){return _.useProto3Json?(gt(void 0===w||"string"==typeof w),rr.fromBase64String(w||"")):(gt(void 0===w||w instanceof Uint8Array),rr.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(_){const w=void 0===_.code?ce.UNKNOWN:BA(_.code);return new Me(w,_.message||"")}(u);t=new M(i,r,a,f||null)}else if("documentChange"in e){const i=e.documentChange,r=uo(n,i.document.name),a=Gt(i.document.updateTime),u=i.document.createTime?Gt(i.document.createTime):wt.min(),f=new Or({mapValue:{fields:i.document.fields}}),_=Xn.newFoundDocument(r,a,u,f);t=new E(i.targetIds||[],i.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const i=e.documentDelete,r=uo(n,i.document),a=i.readTime?Gt(i.readTime):wt.min(),u=Xn.newNoDocument(r,a);t=new E([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const i=e.documentRemove,r=uo(n,i.document);t=new E([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return ot();{const i=e.filter,{count:r=0,unchangedNames:a}=i,u=new Dk(r,a);t=new D(i.targetId,u)}}var _;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return wt.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?wt.min():a.readTime?Gt(a.readTime):wt.min()}(e);return this.listener.eu(t,i)}nu(e){const t={};t.database=fd(this.serializer),t.addTarget=function(r,a){let u;const f=a.target;if(u=o0(f)?{documents:Tk(r,f)}:{query:jA(r,f)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){u.resumeToken=Ot(r,a.resumeToken);const _=St(r,a.expectedCount);null!==_&&(u.expectedCount=_)}else if(a.snapshotVersion.compareTo(wt.min())>0){u.readTime=De(r,a.snapshotVersion.toTimestamp());const _=St(r,a.expectedCount);null!==_&&(u.expectedCount=_)}return u}(this.serializer,e);const i=function PF(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ot()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.zo(t)}su(e){const t={};t.database=fd(this.serializer),t.removeTarget=e,this.zo(t)}}class wL extends vO{constructor(e,t,i,r,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,u),this.serializer=a,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();const t=function OF(n,e){return n&&n.length>0?(gt(void 0!==e),n.map(t=>function(i,r){let a=Gt(i.updateTime?i.updateTime:r);return a.isEqual(wt.min())&&(a=Gt(r)),new tD(a,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Gt(e.commitTime);return this.listener.uu(i,t)}return gt(!e.writeResults||0===e.writeResults.length),this.iu=!0,this.listener.cu()}au(){const e={};e.database=fd(this.serializer),this.zo(e)}ou(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>v0(this.serializer,i))};this.zo(t)}}class EL extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.hu=!1}lu(){if(this.hu)throw new Me(ce.FAILED_PRECONDITION,"The client has already been terminated.")}po(e,t,i){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.po(e,t,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Me(ce.UNKNOWN,r.toString())})}Ao(e,t,i,r){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Ao(e,t,i,a,u,r)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Me(ce.UNKNOWN,a.toString())})}terminate(){this.hu=!0}}class IL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(e){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.gu("Offline")))}set(e){this.Iu(),this.du=0,"Online"===e&&(this.wu=!1),this.gu(e)}gu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}yu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(Fi(t),this.wu=!1):Fe("OnlineStateTracker",t)}Iu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class DL{constructor(e,t,i,r,a){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=a,this.vu.Jr(f=>{i.enqueueAndForget((0,we.Z)(function*(){var _;yf(u)&&(Fe("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,we.Z)(function*(w){const I=Ze(w);I.Au.add(4),yield av(I),I.Pu.set("Unknown"),I.Au.delete(4),yield M0(I)}),function(w){return _.apply(this,arguments)})(u))}))}),this.Pu=new IL(i,r)}}function M0(n){return fM.apply(this,arguments)}function fM(){return fM=(0,we.Z)(function*(n){if(yf(n))for(const e of n.Ru)yield e(!0)}),fM.apply(this,arguments)}function av(n){return pM.apply(this,arguments)}function pM(){return pM=(0,we.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),pM.apply(this,arguments)}function ID(n,e){const t=Ze(n);t.Eu.has(e.targetId)||(t.Eu.set(e.targetId,e),_M(t)?gM(t):cv(t).Uo()&&mM(t,e))}function x0(n,e){const t=Ze(n),i=cv(t);t.Eu.delete(e),i.Uo()&&bO(t,e),0===t.Eu.size&&(i.Uo()?i.Qo():yf(t)&&t.Pu.set("Unknown"))}function mM(n,e){if(n.bu.Lt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(wt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}cv(n).nu(e)}function bO(n,e){n.bu.Lt(e),cv(n).su(e)}function gM(n){n.bu=new N({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),he:e=>n.Eu.get(e)||null,oe:()=>n.datastore.serializer.databaseId}),cv(n).start(),n.Pu.mu()}function _M(n){return yf(n)&&!cv(n).qo()&&n.Eu.size>0}function yf(n){return 0===Ze(n).Au.size}function wO(n){n.bu=void 0}function TL(n){return yM.apply(this,arguments)}function yM(){return yM=(0,we.Z)(function*(n){n.Eu.forEach((e,t)=>{mM(n,e)})}),yM.apply(this,arguments)}function SL(n,e){return vM.apply(this,arguments)}function vM(){return vM=(0,we.Z)(function*(n,e){wO(n),_M(n)?(n.Pu.pu(e),gM(n)):n.Pu.set("Unknown")}),vM.apply(this,arguments)}function AL(n,e,t){return bM.apply(this,arguments)}function bM(){return bM=(0,we.Z)(function*(n,e,t){if(n.Pu.set("Online"),e instanceof M&&2===e.state&&e.cause)try{yield(i=(0,we.Z)(function*(r,a){const u=a.cause;for(const f of a.targetIds)r.Eu.has(f)&&(yield r.remoteSyncer.rejectListen(f,u),r.Eu.delete(f),r.bu.removeTarget(f))}),function(r,a){return i.apply(this,arguments)})(n,e)}catch(i){Fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield DD(n,i)}else if(e instanceof E?n.bu.Wt(e):e instanceof D?n.bu.ee(e):n.bu.Yt(e),!t.isEqual(wt.min()))try{const i=yield cO(n.localStore);t.compareTo(i)>=0&&(yield function(r,a){const u=r.bu.ue(a);return u.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const w=r.Eu.get(_);w&&r.Eu.set(_,w.withResumeToken(f.resumeToken,a))}}),u.targetMismatches.forEach((f,_)=>{const w=r.Eu.get(f);if(!w)return;r.Eu.set(f,w.withResumeToken(rr.EMPTY_BYTE_STRING,w.snapshotVersion)),bO(r,f);const I=new pd(w.target,f,_,w.sequenceNumber);mM(r,I)}),r.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(i){Fe("RemoteStore","Failed to raise snapshot:",i),yield DD(n,i)}var i}),bM.apply(this,arguments)}function DD(n,e,t){return wM.apply(this,arguments)}function wM(){return wM=(0,we.Z)(function*(n,e,t){if(!Hc(e))throw e;n.Au.add(1),yield av(n),n.Pu.set("Offline"),t||(t=()=>cO(n.localStore)),n.asyncQueue.enqueueRetryable((0,we.Z)(function*(){Fe("RemoteStore","Retrying IndexedDB access"),yield t(),n.Au.delete(1),yield M0(n)}))}),wM.apply(this,arguments)}function EO(n,e){return e().catch(t=>DD(n,t,e))}function lv(n){return EM.apply(this,arguments)}function EM(){return EM=(0,we.Z)(function*(n){const e=Ze(n),t=vf(e);let i=e.Tu.length>0?e.Tu[e.Tu.length-1].batchId:-1;for(;ML(e);)try{const r=yield fL(e.localStore,i);if(null===r){0===e.Tu.length&&t.Qo();break}i=r.batchId,xL(e,r)}catch(r){yield DD(e,r)}CO(e)&&IO(e)}),EM.apply(this,arguments)}function ML(n){return yf(n)&&n.Tu.length<10}function xL(n,e){n.Tu.push(e);const t=vf(n);t.Uo()&&t.ru&&t.ou(e.mutations)}function CO(n){return yf(n)&&!vf(n).qo()&&n.Tu.length>0}function IO(n){vf(n).start()}function RL(n){return CM.apply(this,arguments)}function CM(){return CM=(0,we.Z)(function*(n){vf(n).au()}),CM.apply(this,arguments)}function kL(n){return IM.apply(this,arguments)}function IM(){return IM=(0,we.Z)(function*(n){const e=vf(n);for(const t of n.Tu)e.ou(t.mutations)}),IM.apply(this,arguments)}function OL(n,e,t){return DM.apply(this,arguments)}function DM(){return DM=(0,we.Z)(function*(n,e,t){const i=n.Tu.shift(),r=sD.from(i,e,t);yield EO(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield lv(n)}),DM.apply(this,arguments)}function PL(n,e){return TM.apply(this,arguments)}function TM(){return TM=(0,we.Z)(function*(n,e){var t;e&&vf(n).ru&&(yield(t=(0,we.Z)(function*(i,r){if(VA(a=r.code)&&a!==ce.ABORTED){const u=i.Tu.shift();vf(i).Go(),yield EO(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield lv(i)}var a}),function(i,r){return t.apply(this,arguments)})(n,e)),CO(n)&&IO(n)}),TM.apply(this,arguments)}function DO(n,e){return SM.apply(this,arguments)}function SM(){return SM=(0,we.Z)(function*(n,e){const t=Ze(n);t.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");const i=yf(t);t.Au.add(3),yield av(t),i&&t.Pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Au.delete(3),yield M0(t)}),SM.apply(this,arguments)}function AM(n,e){return MM.apply(this,arguments)}function MM(){return MM=(0,we.Z)(function*(n,e){const t=Ze(n);e?(t.Au.delete(2),yield M0(t)):e||(t.Au.add(2),yield av(t),t.Pu.set("Unknown"))}),MM.apply(this,arguments)}function cv(n){return n.Vu||(n.Vu=function(e,t,i){const r=Ze(e);return r.lu(),new bL(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{oo:TL.bind(null,n),co:SL.bind(null,n),eu:AL.bind(null,n)}),n.Ru.push(function(){var e=(0,we.Z)(function*(t){t?(n.Vu.Go(),_M(n)?gM(n):n.Pu.set("Unknown")):(yield n.Vu.stop(),wO(n))});return function(t){return e.apply(this,arguments)}}())),n.Vu}function vf(n){return n.Su||(n.Su=function(e,t,i){const r=Ze(e);return r.lu(),new wL(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{oo:RL.bind(null,n),co:PL.bind(null,n),cu:kL.bind(null,n),uu:OL.bind(null,n)}),n.Ru.push(function(){var e=(0,we.Z)(function*(t){t?(n.Su.Go(),yield lv(n)):(yield n.Su.stop(),n.Tu.length>0&&(Fe("RemoteStore",`Stopping write stream with ${n.Tu.length} pending writes`),n.Tu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Su}class xM{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new Nn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,i,r,a){const u=Date.now()+i,f=new xM(e,t,u,r,a);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Me(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uv(n,e){if(Fi("AsyncQueue",`${e}: ${n}`),Hc(n))return new Me(ce.UNAVAILABLE,`${e}: ${n}`);throw n}class dv{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ke.comparator(t.key,i.key):(t,i)=>Ke.comparator(t.key,i.key),this.keyedMap=jy(),this.sortedSet=new Bn(this.comparator)}static emptySet(e){return new dv(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof dv)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new dv;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class TO{constructor(){this.Du=new Bn(Ke.comparator)}track(e){const t=e.doc.key,i=this.Du.get(t);i?0!==e.type&&3===i.type?this.Du=this.Du.insert(t,e):3===e.type&&1!==i.type?this.Du=this.Du.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Du=this.Du.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Du=this.Du.remove(t):1===e.type&&2===i.type?this.Du=this.Du.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):ot():this.Du=this.Du.insert(t,e)}Cu(){const e=[];return this.Du.inorderTraversal((t,i)=>{e.push(i)}),e}}class hv{constructor(e,t,i,r,a,u,f,_,w){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=_,this.hasCachedResults=w}static fromInitialDocuments(e,t,i,r,a){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new hv(e,t,dv.emptySet(t),u,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class NL{constructor(){this.xu=void 0,this.listeners=[]}}class FL{constructor(){this.queries=new Fl(e=>c0(e),lf),this.onlineState="Unknown",this.Nu=new Set}}function RM(n,e){return kM.apply(this,arguments)}function kM(){return kM=(0,we.Z)(function*(n,e){const t=Ze(n),i=e.query;let r=!1,a=t.queries.get(i);if(a||(r=!0,a=new NL),r)try{a.xu=yield t.onListen(i)}catch(u){const f=uv(u,`Initialization of query '${u0(e.query)}' failed`);return void e.onError(f)}t.queries.set(i,a),a.listeners.push(e),e.ku(t.onlineState),a.xu&&e.Mu(a.xu)&&NM(t)}),kM.apply(this,arguments)}function OM(n,e){return PM.apply(this,arguments)}function PM(){return PM=(0,we.Z)(function*(n,e){const t=Ze(n),i=e.query;let r=!1;const a=t.queries.get(i);if(a){const u=a.listeners.indexOf(e);u>=0&&(a.listeners.splice(u,1),r=0===a.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),PM.apply(this,arguments)}function LL(n,e){const t=Ze(n);let i=!1;for(const r of e){const u=t.queries.get(r.query);if(u){for(const f of u.listeners)f.Mu(r)&&(i=!0);u.xu=r}}i&&NM(t)}function VL(n,e,t){const i=Ze(n),r=i.queries.get(e);if(r)for(const a of r.listeners)a.onError(t);i.queries.delete(e)}function NM(n){n.Nu.forEach(e=>{e.next()})}class FM{constructor(e,t,i){this.query=e,this.Ou=t,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=i||{}}Mu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new hv(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),t=!0):this.Lu(e,this.onlineState)&&(this.qu(e),t=!0),this.Fu=e,t}onError(e){this.Ou.error(e)}ku(e){this.onlineState=e;let t=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),t=!0),t}Lu(e,t){return!e.fromCache||(!this.options.Uu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Bu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}qu(e){e=hv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}class BL{constructor(e,t){this.Ku=e,this.byteLength=t}Gu(){return"metadata"in this.Ku}}class SO{constructor(e){this.serializer=e}ir(e){return uo(this.serializer,e)}rr(e){return e.metadata.exists?tv(this.serializer,e.document,!1):Xn.newNoDocument(this.ir(e.metadata.name),this.ur(e.metadata.readTime))}ur(e){return Gt(e)}}class UL{constructor(e,t,i){this.Qu=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=AO(e)}ju(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ku.namedQuery)this.queries.push(e.Ku.namedQuery);else if(e.Ku.documentMetadata){this.documents.push({metadata:e.Ku.documentMetadata}),e.Ku.documentMetadata.exists||++t;const i=on.fromString(e.Ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Ku.document&&(this.documents[this.documents.length-1].document=e.Ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}zu(e){const t=new Map,i=new SO(this.serializer);for(const r of e)if(r.metadata.queries){const a=i.ir(r.metadata.name);for(const u of r.metadata.queries){const f=(t.get(u)||Yt()).add(a);t.set(u,f)}}return t}complete(){var e=this;return(0,we.Z)(function*(){const t=yield function pL(n,e,t,i){return rM.apply(this,arguments)}(e.localStore,new SO(e.serializer),e.documents,e.Qu.id),i=e.zu(e.documents);for(const r of e.queries)yield mL(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Wu:e.collectionGroups,Hu:t}})()}}function AO(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class MO{constructor(e){this.key=e}}class xO{constructor(e){this.key=e}}class RO{constructor(e,t){this.query=e,this.Ju=t,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=Yt(),this.mutatedKeys=Yt(),this.Zu=MA(e),this.tc=new dv(this.Zu)}get ec(){return this.Ju}nc(e,t){const i=t?t.sc:new TO,r=t?t.tc:this.tc;let a=t?t.mutatedKeys:this.mutatedKeys,u=r,f=!1;const _="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,w="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((I,A)=>{const F=r.get(I),B=Bm(this.query,A)?A:null,W=!!F&&this.mutatedKeys.has(F.key),ie=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let _e=!1;F&&B?F.data.isEqual(B.data)?W!==ie&&(i.track({type:3,doc:B}),_e=!0):this.ic(F,B)||(i.track({type:2,doc:B}),_e=!0,(_&&this.Zu(B,_)>0||w&&this.Zu(B,w)<0)&&(f=!0)):!F&&B?(i.track({type:0,doc:B}),_e=!0):F&&!B&&(i.track({type:1,doc:F}),_e=!0,(_||w)&&(f=!0)),_e&&(B?(u=u.add(B),a=ie?a.add(I):a.delete(I)):(u=u.delete(I),a=a.delete(I)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const I="F"===this.query.limitType?u.last():u.first();u=u.delete(I.key),a=a.delete(I.key),i.track({type:1,doc:I})}return{tc:u,sc:i,ji:f,mutatedKeys:a}}ic(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;const a=e.sc.Cu();a.sort((w,I)=>function(A,F){const B=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot()}};return B(A)-B(F)}(w.type,I.type)||this.Zu(w.doc,I.doc)),this.rc(i);const u=t?this.oc():[],f=0===this.Xu.size&&this.current?1:0,_=f!==this.Yu;return this.Yu=f,0!==a.length||_?{snapshot:new hv(this.query,e.tc,r,a,e.mutatedKeys,0===f,_,!1,!!i&&i.resumeToken.approximateByteSize()>0),uc:u}:{uc:u}}ku(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tc:this.tc,sc:new TO,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}rc(e){e&&(e.addedDocuments.forEach(t=>this.Ju=this.Ju.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ju=this.Ju.delete(t)),this.current=e.current)}oc(){if(!this.current)return[];const e=this.Xu;this.Xu=Yt(),this.tc.forEach(i=>{this.cc(i.key)&&(this.Xu=this.Xu.add(i.key))});const t=[];return e.forEach(i=>{this.Xu.has(i)||t.push(new xO(i))}),this.Xu.forEach(i=>{e.has(i)||t.push(new MO(i))}),t}ac(e){this.Ju=e.sr,this.Xu=Yt();const t=this.nc(e.documents);return this.applyChanges(t,!0)}hc(){return hv.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}class HL{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class jL{constructor(e){this.key=e,this.lc=!1}}class $L{constructor(e,t,i,r,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.fc={},this.dc=new Fl(f=>c0(f),lf),this._c=new Map,this.wc=new Set,this.mc=new Bn(Ke.comparator),this.gc=new Map,this.yc=new YA,this.Ic={},this.Tc=new Map,this.Ec=Ym.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return!0===this.Ac}}function zL(n,e){return LM.apply(this,arguments)}function LM(){return LM=(0,we.Z)(function*(n,e){const t=ox(n);let i,r;const a=t.dc.get(e);if(a)i=a.targetId,t.sharedClientState.addLocalQueryTarget(i),r=a.view.hc();else{const u=yield sv(t.localStore,sr(e)),f=t.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield VM(t,e,i,"current"===f,u.resumeToken),t.isPrimaryClient&&ID(t.remoteStore,u)}return r}),LM.apply(this,arguments)}function VM(n,e,t,i,r){return BM.apply(this,arguments)}function BM(){return BM=(0,we.Z)(function*(n,e,t,i,r){n.Rc=(A,F,B)=>{return(W=(0,we.Z)(function*(ie,_e,$e,it){let Je=_e.view.nc($e);Je.ji&&(Je=yield vD(ie.localStore,_e.query,!1).then(({documents:Wt})=>_e.view.nc(Wt,Je)));const Ct=it&&it.targetChanges.get(_e.targetId),jt=_e.view.applyChanges(Je,ie.isPrimaryClient,Ct);return KM(ie,_e.targetId,jt.uc),jt.snapshot}),function(ie,_e,$e,it){return W.apply(this,arguments)})(n,A,F,B);var W};const a=yield vD(n.localStore,e,!0),u=new RO(e,a.sr),f=u.nc(a.documents),_=v.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),w=u.applyChanges(f,n.isPrimaryClient,_);KM(n,t,w.uc);const I=new HL(e,t,u);return n.dc.set(e,I),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),w.snapshot}),BM.apply(this,arguments)}function GL(n,e){return UM.apply(this,arguments)}function UM(){return UM=(0,we.Z)(function*(n,e){const t=Ze(n),i=t.dc.get(e),r=t._c.get(i.targetId);if(r.length>1)return t._c.set(i.targetId,r.filter(a=>!lf(a,e))),void t.dc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield ov(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),x0(t.remoteStore,i.targetId),fv(t,i.targetId)}).catch(xl))):(fv(t,i.targetId),yield ov(t.localStore,i.targetId,!0))}),UM.apply(this,arguments)}function HM(){return HM=(0,we.Z)(function*(n,e,t){const i=ax(n);try{const r=yield function(a,u){const f=Ze(a),_=si.now(),w=u.reduce((F,B)=>F.add(B.key),Yt());let I,A;return f.persistence.runTransaction("Locally write mutations","readwrite",F=>{let B=ws(),W=Yt();return f.Xi.getEntries(F,w).next(ie=>{B=ie,B.forEach((_e,$e)=>{$e.isValidDocument()||(W=W.add(_e))})}).next(()=>f.localDocuments.getOverlayedDocuments(F,B)).next(ie=>{I=ie;const _e=[];for(const $e of u){const it=nD($e,I.get($e.key).overlayedDocument);null!=it&&_e.push(new Bl($e.key,it,co(it.value.mapValue),Jn.exists(!0)))}return f.mutationQueue.addMutationBatch(F,_,_e,u)}).next(ie=>{A=ie;const _e=ie.applyToLocalDocumentSet(I,W);return f.documentOverlayCache.saveOverlays(F,ie.batchId,_e)})}).then(()=>({batchId:A.batchId,changes:kA(I)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,u,f){let _=a.Ic[a.currentUser.toKey()];_||(_=new Bn(Ut)),_=_.insert(u,f),a.Ic[a.currentUser.toKey()]=_}(i,r.batchId,t),yield md(i,r.changes),yield lv(i.remoteStore)}catch(r){const a=uv(r,"Failed to persist write");t.reject(a)}}),HM.apply(this,arguments)}function kO(n,e){return jM.apply(this,arguments)}function jM(){return jM=(0,we.Z)(function*(n,e){const t=Ze(n);try{const i=yield hL(t.localStore,e);e.targetChanges.forEach((r,a)=>{const u=t.gc.get(a);u&&(gt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.lc=!0:r.modifiedDocuments.size>0?gt(u.lc):r.removedDocuments.size>0&&(gt(u.lc),u.lc=!1))}),yield md(t,i,e)}catch(i){yield xl(i)}}),jM.apply(this,arguments)}function OO(n,e,t){const i=Ze(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.dc.forEach((a,u)=>{const f=u.view.ku(e);f.snapshot&&r.push(f.snapshot)}),function(a,u){const f=Ze(a);f.onlineState=u;let _=!1;f.queries.forEach((w,I)=>{for(const A of I.listeners)A.ku(u)&&(_=!0)}),_&&NM(f)}(i.eventManager,e),r.length&&i.fc.eu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function WL(n,e,t){return $M.apply(this,arguments)}function $M(){return $M=(0,we.Z)(function*(n,e,t){const i=Ze(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.gc.get(e),a=r&&r.key;if(a){let u=new Bn(Ke.comparator);u=u.insert(a,Xn.newNoDocument(a,wt.min()));const f=Yt().add(a),_=new g(wt.min(),new Map,new Bn(Ut),u,f);yield kO(i,_),i.mc=i.mc.remove(a),i.gc.delete(e),YM(i)}else yield ov(i.localStore,e,!1).then(()=>fv(i,e,t)).catch(xl)}),$M.apply(this,arguments)}function ZL(n,e){return zM.apply(this,arguments)}function zM(){return zM=(0,we.Z)(function*(n,e){const t=Ze(n),i=e.batch.batchId;try{const r=yield dL(t.localStore,e);ZM(t,i,null),WM(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield md(t,r)}catch(r){yield xl(r)}}),zM.apply(this,arguments)}function KL(n,e,t){return GM.apply(this,arguments)}function GM(){return GM=(0,we.Z)(function*(n,e,t){const i=Ze(n);try{const r=yield function(a,u){const f=Ze(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return f.mutationQueue.lookupMutationBatch(_,u).next(I=>(gt(null!==I),w=I.keys(),f.mutationQueue.removeMutationBatch(_,I))).next(()=>f.mutationQueue.performConsistencyCheck(_)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(_,w,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w)).next(()=>f.localDocuments.getDocuments(_,w))})}(i.localStore,e);ZM(i,e,t),WM(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield md(i,r)}catch(r){yield xl(r)}}),GM.apply(this,arguments)}function qM(){return qM=(0,we.Z)(function*(n,e){const t=Ze(n);yf(t.remoteStore)||Fe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(a){const u=Ze(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===i)return void e.resolve();const r=t.Tc.get(i)||[];r.push(e),t.Tc.set(i,r)}catch(i){const r=uv(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),qM.apply(this,arguments)}function WM(n,e){(n.Tc.get(e)||[]).forEach(t=>{t.resolve()}),n.Tc.delete(e)}function ZM(n,e,t){const i=Ze(n);let r=i.Ic[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.Ic[i.currentUser.toKey()]=r}}function fv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.dc.delete(i),t&&n.fc.vc(i,t);n._c.delete(e),n.isPrimaryClient&&n.yc.ps(e).forEach(i=>{n.yc.containsKey(i)||PO(n,i)})}function PO(n,e){n.wc.delete(e.path.canonicalString());const t=n.mc.get(e);null!==t&&(x0(n.remoteStore,t),n.mc=n.mc.remove(e),n.gc.delete(t),YM(n))}function KM(n,e,t){for(const i of t)i instanceof MO?(n.yc.addReference(i.key,e),QL(n,i)):i instanceof xO?(Fe("SyncEngine","Document no longer in limbo: "+i.key),n.yc.removeReference(i.key,e),n.yc.containsKey(i.key)||PO(n,i.key)):ot()}function QL(n,e){const t=e.key,i=t.path.canonicalString();n.mc.get(t)||n.wc.has(i)||(Fe("SyncEngine","New document in limbo: "+t),n.wc.add(i),YM(n))}function YM(n){for(;n.wc.size>0&&n.mc.size<n.maxConcurrentLimboResolutions;){const e=n.wc.values().next().value;n.wc.delete(e);const t=new Ke(on.fromString(e)),i=n.Ec.next();n.gc.set(i,new jL(t)),n.mc=n.mc.insert(t,i),ID(n.remoteStore,new pd(sr(dd(t.path)),i,"TargetPurposeLimboResolution",Jr.ct))}}function md(n,e,t){return QM.apply(this,arguments)}function QM(){return QM=(0,we.Z)(function*(n,e,t){const i=Ze(n),r=[],a=[],u=[];var f;i.dc.isEmpty()||(i.dc.forEach((f,_)=>{u.push(i.Rc(_,e,t).then(w=>{if((w||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,w?.fromCache?"not-current":"current"),w){r.push(w);const I=tM.Bi(_.targetId,w);a.push(I)}}))}),yield Promise.all(u),i.fc.eu(r),yield(f=(0,we.Z)(function*(_,w){const I=Ze(_);try{yield I.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>se.forEach(w,F=>se.forEach(F.$i,B=>I.persistence.referenceDelegate.addReference(A,F.targetId,B)).next(()=>se.forEach(F.Fi,B=>I.persistence.referenceDelegate.removeReference(A,F.targetId,B)))))}catch(A){if(!Hc(A))throw A;Fe("LocalStore","Failed to update sequence numbers: "+A)}for(const A of w){const F=A.targetId;if(!A.fromCache){const B=I.Hi.get(F),ie=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);I.Hi=I.Hi.insert(F,ie)}}}),function(_,w){return f.apply(this,arguments)})(i.localStore,a))}),QM.apply(this,arguments)}function XL(n,e){return XM.apply(this,arguments)}function XM(){return XM=(0,we.Z)(function*(n,e){const t=Ze(n);if(!t.currentUser.isEqual(e)){Fe("SyncEngine","User change. New user:",e.toKey());const i=yield lO(t.localStore,e);t.currentUser=e,(r=t).Tc.forEach(u=>{u.forEach(f=>{f.reject(new Me(ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Tc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield md(t,i.tr)}var r}),XM.apply(this,arguments)}function JL(n,e){const t=Ze(n),i=t.gc.get(e);if(i&&i.lc)return Yt().add(i.key);{let r=Yt();const a=t._c.get(e);if(!a)return r;for(const u of a){const f=t.dc.get(u);r=r.unionWith(f.view.ec)}return r}}function e2(n,e){return JM.apply(this,arguments)}function JM(){return JM=(0,we.Z)(function*(n,e){const t=Ze(n),i=yield vD(t.localStore,e.query,!0),r=e.view.ac(i);return t.isPrimaryClient&&KM(t,e.targetId,r.uc),r}),JM.apply(this,arguments)}function t2(n,e){return ex.apply(this,arguments)}function ex(){return ex=(0,we.Z)(function*(n,e){const t=Ze(n);return hO(t.localStore,e).then(i=>md(t,i))}),ex.apply(this,arguments)}function n2(n,e,t,i){return tx.apply(this,arguments)}function tx(){return tx=(0,we.Z)(function*(n,e,t,i){const r=Ze(n),a=yield function(u,f){const _=Ze(u),w=Ze(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",I=>w.Vn(I,f).next(A=>A?_.localDocuments.getDocuments(I,A):se.resolve(null)))}(r.localStore,e);var f;null!==a?("pending"===t?yield lv(r.remoteStore):"acknowledged"===t||"rejected"===t?(ZM(r,e,i||null),WM(r,e),f=e,Ze(Ze(r.localStore).mutationQueue).Dn(f)):ot(),yield md(r,a)):Fe("SyncEngine","Cannot apply mutation batch with id: "+e)}),tx.apply(this,arguments)}function nx(){return nx=(0,we.Z)(function*(n,e){const t=Ze(n);if(ox(t),ax(t),!0===e&&!0!==t.Ac){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield NO(t,i.toArray());t.Ac=!0,yield AM(t.remoteStore,!0);for(const a of r)ID(t.remoteStore,a)}else if(!1===e&&!1!==t.Ac){const i=[];let r=Promise.resolve();t._c.forEach((a,u)=>{t.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(fv(t,u),ov(t.localStore,u,!0))),x0(t.remoteStore,u)}),yield r,yield NO(t,i),function(a){const u=Ze(a);u.gc.forEach((f,_)=>{x0(u.remoteStore,_)}),u.yc.Is(),u.gc=new Map,u.mc=new Bn(Ke.comparator)}(t),t.Ac=!1,yield AM(t.remoteStore,!1)}}),nx.apply(this,arguments)}function NO(n,e,t){return ix.apply(this,arguments)}function ix(){return ix=(0,we.Z)(function*(n,e,t){const i=Ze(n),r=[],a=[];for(const u of e){let f;const _=i._c.get(u);if(_&&0!==_.length){f=yield sv(i.localStore,sr(_[0]));for(const w of _){const I=i.dc.get(w),A=yield e2(i,I);A.snapshot&&a.push(A.snapshot)}}else{const w=yield dO(i.localStore,u);f=yield sv(i.localStore,w),yield VM(i,FO(w),u,!1,f.resumeToken)}r.push(f)}return i.fc.eu(a),r}),ix.apply(this,arguments)}function FO(n){return Ly(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function s2(n){const e=Ze(n);return Ze(Ze(e.localStore).persistence).Mi()}function o2(n,e,t,i){return rx.apply(this,arguments)}function rx(){return rx=(0,we.Z)(function*(n,e,t,i){const r=Ze(n);if(r.Ac)return void Fe("SyncEngine","Ignoring unexpected query state notification.");const a=r._c.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const u=yield hO(r.localStore,AA(a[0])),f=g.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,rr.EMPTY_BYTE_STRING);yield md(r,u,f);break}case"rejected":yield ov(r.localStore,e,!0),fv(r,e,i);break;default:ot()}}),rx.apply(this,arguments)}function a2(n,e,t){return sx.apply(this,arguments)}function sx(){return sx=(0,we.Z)(function*(n,e,t){const i=ox(n);if(i.Ac){for(const r of e){if(i._c.has(r)){Fe("SyncEngine","Adding an already active target "+r);continue}const a=yield dO(i.localStore,r),u=yield sv(i.localStore,a);yield VM(i,FO(a),u.targetId,!1,u.resumeToken),ID(i.remoteStore,u)}for(const r of t)i._c.has(r)&&(yield ov(i.localStore,r,!1).then(()=>{x0(i.remoteStore,r),fv(i,r)}).catch(xl))}}),sx.apply(this,arguments)}function ox(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=kO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WL.bind(null,e),e.fc.eu=LL.bind(null,e.eventManager),e.fc.vc=VL.bind(null,e.eventManager),e}function ax(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=KL.bind(null,e),e}class R0{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,we.Z)(function*(){t.serializer=A0(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return aO(this.persistence,new oO,e.initialUser,this.serializer)}createPersistence(e){return new QA(gD.js,this.serializer)}createSharedClientState(e){return new gO}terminate(){var e=this;return(0,we.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class lx extends R0{constructor(e,t,i){super(),this.bc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,we.Z)(function*(){yield t().call(i,e),yield i.bc.initialize(i,e),yield ax(i.bc.syncEngine),yield lv(i.bc.remoteStore),yield i.persistence.pi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return aO(this.persistence,new oO,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Qk(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new uA(t,this.persistence);return new km(e.asyncQueue,i)}createPersistence(e){const t=eM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Es.withCacheSize(this.cacheSizeBytes):Es.DEFAULT;return new JA(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,yO(),CD(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new gO}}class LO extends lx{constructor(e,t){super(e,t,!1),this.bc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,we.Z)(function*(){yield t().call(i,e);const r=i.bc.syncEngine;i.sharedClientState instanceof cM&&(i.sharedClientState.syncEngine={Qr:n2.bind(null,r),jr:o2.bind(null,r),zr:a2.bind(null,r),Mi:s2.bind(null,r),Gr:t2.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.pi(function(){var a=(0,we.Z)(function*(u){yield function r2(n,e){return nx.apply(this,arguments)}(i.bc.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return a.apply(this,arguments)}}())})()}createSharedClientState(e){const t=yO();if(!cM.D(t))throw new Me(ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=eM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new cM(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class pv{initialize(e,t){var i=this;return(0,we.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>OO(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=XL.bind(null,i.syncEngine),yield AM(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new FL}createDatastore(e){const t=A0(e.databaseInfo.databaseId),i=new vL(e.databaseInfo);return new EL(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,a=f=>OO(this.syncEngine,f,0),u=_O.D()?new _O:new gL,new DL(t,i,r,a,u);var t,i,r,a,u}createSyncEngine(e,t){return function(i,r,a,u,f,_,w){const I=new $L(i,r,a,u,f,_);return w&&(I.Ac=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,we.Z)(function*(t){const i=Ze(t);Fe("RemoteStore","RemoteStore shutting down."),i.Au.add(5),yield av(i),i.vu.shutdown(),i.Pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function VO(n,e=10240){let t=0;return{read:()=>(0,we.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,we.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class TD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Vc(this.observer.next,e)}error(e){this.observer.error?this.Vc(this.observer.error,e):Fi("Uncaught Error in snapshot listener:",e.toString())}Sc(){this.muted=!0}Vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class u2{constructor(e,t){this.Dc=e,this.serializer=t,this.metadata=new Nn,this.buffer=new Uint8Array,this.Cc=new TextDecoder("utf-8"),this.xc().then(i=>{i&&i.Gu()?this.metadata.resolve(i.Ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Ku)}`))},i=>this.metadata.reject(i))}close(){return this.Dc.cancel()}getMetadata(){var e=this;return(0,we.Z)(function*(){return e.metadata.promise})()}Pc(){var e=this;return(0,we.Z)(function*(){return yield e.getMetadata(),e.xc()})()}xc(){var e=this;return(0,we.Z)(function*(){const t=yield e.Nc();if(null===t)return null;const i=e.Cc.decode(t),r=Number(i);isNaN(r)&&e.kc(`length string (${i}) is not valid number`);const a=yield e.Mc(r);return new BL(JSON.parse(a),t.length+r)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Nc(){var e=this;return(0,we.Z)(function*(){for(;e.Oc()<0&&!(yield e.$c()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.kc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Mc(e){var t=this;return(0,we.Z)(function*(){for(;t.buffer.length<e;)(yield t.$c())&&t.kc("Reached the end of bundle when more is expected.");const i=t.Cc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}kc(e){throw this.Dc.cancel(),new Error(`Invalid bundle format: ${e}`)}$c(){var e=this;return(0,we.Z)(function*(){const t=yield e.Dc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class d2{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,we.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Me(ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,we.Z)(function*(a,u){const f=Ze(a),_=fd(f.serializer)+"/documents",w={documents:u.map(B=>hd(f.serializer,B))},I=yield f.Ao("BatchGetDocuments",_,w,u.length),A=new Map;I.forEach(B=>{const W=function RF(n,e){return"found"in e?function(t,i){gt(!!i.found);const r=uo(t,i.found.name),a=Gt(i.found.updateTime),u=i.found.createTime?Gt(i.found.createTime):wt.min(),f=new Or({mapValue:{fields:i.found.fields}});return Xn.newFoundDocument(r,a,u,f)}(n,e):"missing"in e?function(t,i){gt(!!i.missing),gt(!!i.readTime);const r=uo(t,i.missing),a=Gt(i.readTime);return Xn.newNoDocument(r,a)}(n,e):ot()}(f.serializer,B);A.set(W.key.toString(),W)});const F=[];return u.forEach(B=>{const W=A.get(B.toString());gt(!!W),F.push(W)}),F}),function(a,u){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new ff(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,we.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const a=Ke.fromPath(r);e.mutations.push(new _0(a,e.precondition(a)))}),yield(i=(0,we.Z)(function*(r,a){const u=Ze(r),f=fd(u.serializer)+"/documents",_={writes:a.map(w=>v0(u.serializer,w))};yield u.po("Commit",f,_)}),function(r,a){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ot();t=wt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Me(ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(wt.min())?Jn.exists(!1):Jn.updateTime(t):Jn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(wt.min()))throw new Me(ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Jn.updateTime(t)}return Jn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class h2{constructor(e,t,i,r,a){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=a,this.Fc=i.maxAttempts,this.Lo=new dM(this.asyncQueue,"transaction_retry")}run(){this.Fc-=1,this.Bc()}Bc(){var e=this;this.Lo.xo((0,we.Z)(function*(){const t=new d2(e.datastore),i=e.Lc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(a=>{e.qc(a)}))}).catch(r=>{e.qc(r)})}))}Lc(e){try{const t=this.updateFunction(e);return!Om(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}qc(e){this.Fc>0&&this.Uc(e)?(this.Fc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Bc(),Promise.resolve()))):this.deferred.reject(e)}Uc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!VA(t)}return!1}}class f2{constructor(e,t,i,r){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=zi.UNAUTHENTICATED,this.clientId=Rw.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,we.Z)(function*(f){Fe("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Fe("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,we.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Me(ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Nn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=uv(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function SD(n,e){return cx.apply(this,arguments)}function cx(){return cx=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,we.Z)(function*(a){i.isEqual(a)||(yield lO(e.localStore,a),i=a)});return function(a){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),cx.apply(this,arguments)}function ux(n,e){return dx.apply(this,arguments)}function dx(){return dx=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield hx(n);Fe("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>DO(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>DO(e.remoteStore,a)),n._onlineComponents=e}),dx.apply(this,arguments)}function BO(n){return"FirebaseError"===n.name?n.code===ce.FAILED_PRECONDITION||n.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function hx(n){return fx.apply(this,arguments)}function fx(){return fx=(0,we.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Fe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield SD(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!BO(t))throw t;lo("Error using user provided cache. Falling back to memory cache: "+t),yield SD(n,new R0)}}else Fe("FirestoreClient","Using default OfflineComponentProvider"),yield SD(n,new R0);return n._offlineComponents}),fx.apply(this,arguments)}function AD(n){return px.apply(this,arguments)}function px(){return px=(0,we.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Fe("FirestoreClient","Using user provided OnlineComponentProvider"),yield ux(n,n._uninitializedComponentsProvider._online)):(Fe("FirestoreClient","Using default OnlineComponentProvider"),yield ux(n,new pv))),n._onlineComponents}),px.apply(this,arguments)}function UO(n){return hx(n).then(e=>e.persistence)}function MD(n){return hx(n).then(e=>e.localStore)}function HO(n){return AD(n).then(e=>e.remoteStore)}function mx(n){return AD(n).then(e=>e.syncEngine)}function mv(n){return gx.apply(this,arguments)}function gx(){return gx=(0,we.Z)(function*(n){const e=yield AD(n),t=e.eventManager;return t.onListen=zL.bind(null,e.syncEngine),t.onUnlisten=GL.bind(null,e.syncEngine),t}),gx.apply(this,arguments)}function $O(n,e,t={}){const i=new Nn;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(r,a,u,f,_){const w=new TD({next:A=>{a.enqueueAndForget(()=>OM(r,I));const F=A.docs.has(u);!F&&A.fromCache?_.reject(new Me(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&A.fromCache&&f&&"server"===f.source?_.reject(new Me(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(A)},error:A=>_.reject(A)}),I=new FM(dd(u.path),w,{includeMetadataChanges:!0,Uu:!0});return RM(r,I)}(yield mv(n),n.asyncQueue,e,t,i)})),i.promise}function zO(n,e,t={}){const i=new Nn;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(r,a,u,f,_){const w=new TD({next:A=>{a.enqueueAndForget(()=>OM(r,I)),A.fromCache&&"server"===f.source?_.reject(new Me(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(A)},error:A=>_.reject(A)}),I=new FM(u,w,{includeMetadataChanges:!0,Uu:!0});return RM(r,I)}(yield mv(n),n.asyncQueue,e,t,i)})),i.promise}const GO=new Map;function _x(n,e,t){if(!t)throw new Me(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function qO(n,e,t,i){if(!0===e&&!0===i)throw new Me(ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function WO(n){if(!Ke.isDocumentKey(n))throw new Me(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ZO(n){if(Ke.isDocumentKey(n))throw new Me(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function xD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ot()}function hn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Me(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=xD(n);throw new Me(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function KO(n,e){if(e<=0)throw new Me(ce.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class YO{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Me(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Me(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!this.experimentalForceLongPolling&&void 0!==e.experimentalAutoDetectLongPolling&&!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class k0{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YO({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Me(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Me(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YO(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new wy;switch(t.type){case"firstParty":return new aA(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Me(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=GO.get(e);t&&(Fe("ComponentProvider","Removing Datastore"),GO.delete(e),t.terminate())}(this),Promise.resolve()}}class ci{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ci(this.firestore,e,this._key)}}class es{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new es(this.firestore,e,this._query)}}class Gc extends es{constructor(e,t,i){super(e,t,dd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ci(this.firestore,null,new Ke(e))}withConverter(e){return new Gc(this.firestore,e,this._path)}}function XO(n,e,...t){if(n=(0,mn.m9)(n),_x("collection","path",e),n instanceof k0){const i=on.fromString(e,...t);return ZO(i),new Gc(n,null,i)}{if(!(n instanceof ci||n instanceof Gc))throw new Me(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(on.fromString(e,...t));return ZO(i),new Gc(n.firestore,null,i)}}function RD(n,e,...t){if(n=(0,mn.m9)(n),1===arguments.length&&(e=Rw.A()),_x("doc","path",e),n instanceof k0){const i=on.fromString(e,...t);return WO(i),new ci(n,null,new Ke(i))}{if(!(n instanceof ci||n instanceof Gc))throw new Me(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(on.fromString(e,...t));return WO(i),new ci(n.firestore,n instanceof Gc?n.converter:null,new Ke(i))}}function JO(n,e){return n=(0,mn.m9)(n),e=(0,mn.m9)(e),(n instanceof ci||n instanceof Gc)&&(e instanceof ci||e instanceof Gc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function yx(n,e){return n=(0,mn.m9)(n),e=(0,mn.m9)(e),n instanceof es&&e instanceof es&&n.firestore===e.firestore&&lf(n._query,e._query)&&n.converter===e.converter}class C2{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new dM(this,"async_queue_retry"),this.Yc=()=>{const t=CD();t&&Fe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Lo.ko()};const e=CD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;const t=CD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise(()=>{});const t=new Nn;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Gc.push(e),this.ta()))}ta(){var e=this;return(0,we.Z)(function*(){if(0!==e.Gc.length){try{yield e.Gc[0](),e.Gc.shift(),e.Lo.reset()}catch(t){if(!Hc(t))throw t;Fe("AsyncQueue","Operation failed with retryable error: "+t)}e.Gc.length>0&&e.Lo.xo(()=>e.ta())}})()}Zc(e){const t=this.Kc.then(()=>(this.Wc=!0,e().catch(i=>{throw this.zc=i,this.Wc=!1,Fi("INTERNAL UNHANDLED ERROR: ",function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),u}(i)),i}).then(i=>(this.Wc=!1,i))));return this.Kc=t,t}enqueueAfterDelay(e,t,i){this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);const r=xM.createAndSchedule(this,e,t,i,a=>this.ea(a));return this.jc.push(r),r}Xc(){this.zc&&ot()}verifyOperationInProgress(){}na(){var e=this;return(0,we.Z)(function*(){let t;do{t=e.Kc,yield t}while(t!==e.Kc)})()}sa(e){for(const t of this.jc)if(t.timerId===e)return!0;return!1}ia(e){return this.na().then(()=>{this.jc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.jc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.na()})}ra(e){this.Jc.push(e)}ea(e){const t=this.jc.indexOf(e);this.jc.splice(t,1)}}function vx(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class I2{constructor(){this._progressObserver={},this._taskCompletionResolver=new Nn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ui extends k0{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new C2,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||eP(this),this._firestoreClient.terminate()}}function qi(n){return n._firestoreClient||eP(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function eP(n){var e,t,i;const r=n._freezeSettings(),a=(f=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new xy(n._databaseId,f,n._persistenceKey,(w=r).host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,w.useFetchStreams));var f,w;n._firestoreClient=new f2(n._authCredentials,n._appCheckCredentials,n._queue,a),(null===(t=r.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(i=r.cache)||void 0===i?void 0:i._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function tP(n,e,t){const i=new Nn;return n.asyncQueue.enqueue((0,we.Z)(function*(){try{yield SD(n,t),yield ux(n,e),i.resolve()}catch(r){const a=r;if(!BO(a))throw a;lo("Error enabling indexeddb cache. Falling back to memory cache: "+a),i.reject(a)}})).then(()=>i.promise)}function nP(n){if(n._initialized||n._terminated)throw new Me(ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class qc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qc(rr.fromBase64String(e))}catch(t){throw new Me(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new qc(rr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class gd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Me(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new li(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Xm{constructor(e){this._methodName=e}}class kD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Me(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Me(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ut(this._lat,e._lat)||Ut(this._long,e._long)}}const N2=/^__.*__$/;class F2{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Bl(e,this.data,this.fieldMask,t,this.fieldTransforms):new hf(e,this.data,t,this.fieldTransforms)}}class iP{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Bl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function rP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot()}}class OD{constructor(e,t,i,r,a,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===a&&this.oa(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(e){return new OD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ca({path:i,ha:!1});return r.la(e),r}fa(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ca({path:i,ha:!1});return r.oa(),r}da(e){return this.ca({path:void 0,ha:!0})}_a(e){return FD(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}oa(){if(this.path)for(let e=0;e<this.path.length;e++)this.la(this.path.get(e))}la(e){if(0===e.length)throw this._a("Document fields must not be empty");if(rP(this.ua)&&N2.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class L2{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||A0(e)}ga(e,t,i,r=!1){return new OD({ua:e,methodName:t,ma:i,path:li.emptyPath(),ha:!1,wa:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jm(n){const e=n._freezeSettings(),t=A0(n._databaseId);return new L2(n._databaseId,!!e.ignoreUndefinedProperties,t)}function PD(n,e,t,i,r,a={}){const u=n.ga(a.merge||a.mergeFields?2:0,e,t,r);Cx("Data must be an object, but it was:",u,i);const f=aP(i,u);let _,w;if(a.merge)_=new Vs(u.fieldMask),w=u.fieldTransforms;else if(a.mergeFields){const I=[];for(const A of a.mergeFields){const F=N0(e,A,t);if(!u.contains(F))throw new Me(ce.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);cP(I,F)||I.push(F)}_=new Vs(I),w=u.fieldTransforms.filter(A=>_.covers(A.field))}else _=null,w=u.fieldTransforms;return new F2(new Or(f),_,w)}class P0 extends Xm{_toFieldTransform(e){if(2!==e.ua)throw e._a(1===e.ua?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof P0}}function sP(n,e,t){return new OD({ua:3,ma:e.settings.ma,methodName:n._methodName,ha:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class bx extends Xm{_toFieldTransform(e){return new $m(e.path,new jm)}isEqual(e){return e instanceof bx}}class V2 extends Xm{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=sP(this,e,!0),i=this.ya.map(a=>eg(a,t)),r=new cf(i);return new $m(e.path,r)}isEqual(e){return this===e}}class B2 extends Xm{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=sP(this,e,!0),i=this.ya.map(a=>eg(a,t)),r=new uf(i);return new $m(e.path,r)}isEqual(e){return this===e}}class U2 extends Xm{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=new df(e.serializer,Gy(e.serializer,this.pa));return new $m(e.path,t)}isEqual(e){return this===e}}function wx(n,e,t,i){const r=n.ga(1,e,t);Cx("Data must be an object, but it was:",r,i);const a=[],u=Or.empty();Rl(i,(_,w)=>{const I=ND(e,_,t);w=(0,mn.m9)(w);const A=r.fa(I);if(w instanceof P0)a.push(I);else{const F=eg(w,A);null!=F&&(a.push(I),u.set(I,F))}});const f=new Vs(a);return new iP(u,f,r.fieldTransforms)}function Ex(n,e,t,i,r,a){const u=n.ga(1,e,t),f=[N0(e,i,t)],_=[r];if(a.length%2!=0)throw new Me(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<a.length;F+=2)f.push(N0(e,a[F])),_.push(a[F+1]);const w=[],I=Or.empty();for(let F=f.length-1;F>=0;--F)if(!cP(w,f[F])){const B=f[F];let W=_[F];W=(0,mn.m9)(W);const ie=u.fa(B);if(W instanceof P0)w.push(B);else{const _e=eg(W,ie);null!=_e&&(w.push(B),I.set(B,_e))}}const A=new Vs(w);return new iP(I,A,u.fieldTransforms)}function oP(n,e,t,i=!1){return eg(t,n.ga(i?4:3,e))}function eg(n,e){if(lP(n=(0,mn.m9)(n)))return Cx("Unsupported field value:",e,n),aP(n,e);if(n instanceof Xm)return function(t,i){if(!rP(i.ua))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ha&&4!==e.ua)throw e._a("Nested arrays are not supported");return function(t,i){const r=[];let a=0;for(const u of t){let f=eg(u,i.da(a));null==f&&(f={nullValue:"NULL_VALUE"}),r.push(f),a++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,mn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Gy(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=si.fromDate(t);return{timestampValue:De(i.serializer,r)}}if(t instanceof si){const r=new si(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:De(i.serializer,r)}}if(t instanceof kD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof qc)return{bytesValue:Ot(i.serializer,t._byteString)};if(t instanceof ci){const r=i.databaseId,a=t.firestore._databaseId;if(!a.isEqual(r))throw i._a(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Ul(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${xD(t)}`)}(n,e)}function aP(n,e){const t={};return qw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rl(n,(i,r)=>{const a=eg(r,e.aa(i));null!=a&&(t[i]=a)}),{mapValue:{fields:t}}}function lP(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof si||n instanceof kD||n instanceof qc||n instanceof ci||n instanceof Xm)}function Cx(n,e,t){if(!lP(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=xD(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function N0(n,e,t){if((e=(0,mn.m9)(e))instanceof gd)return e._internalPath;if("string"==typeof e)return ND(n,e);throw FD("Field path arguments must be of type string or ",n,!1,void 0,t)}const H2=new RegExp("[~\\*/\\[\\]]");function ND(n,e,t){if(e.search(H2)>=0)throw FD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new gd(...e.split("."))._internalPath}catch{throw FD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function FD(n,e,t,i,r){const a=i&&!i.isEmpty(),u=void 0!==r;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(a||u)&&(_+=" (found",a&&(_+=` in field ${i}`),u&&(_+=` in document ${r}`),_+=")"),new Me(ce.INVALID_ARGUMENT,f+n+_)}function cP(n,e){return n.some(t=>t.isEqual(e))}class F0{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ci(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new j2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(LD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class j2 extends F0{data(){return super.data()}}function LD(n,e){return"string"==typeof e?ND(n,e):e instanceof gd?e._internalPath:e._delegate._internalPath}function uP(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Me(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ix{}class L0 extends Ix{}function bf(n,e,...t){let i=[];e instanceof Ix&&i.push(e),i=i.concat(t),function(r){const a=r.filter(f=>f instanceof gv).length,u=r.filter(f=>f instanceof V0).length;if(a>1||a>0&&u>0)throw new Me(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class V0 extends L0{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new V0(e,t,i)}_apply(e){const t=this._parse(e);return pP(e._query,t),new es(e.firestore,e.converter,Uy(e._query,t))}_parse(e){const t=Jm(e.firestore);return function(r,a,u,f,_,w,I){let A;if(_.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Me(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){fP(I,w);const F=[];for(const B of I)F.push(hP(f,r,B));A={arrayValue:{values:F}}}else A=hP(f,r,I)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||fP(I,w),A=oP(u,"where",I,"in"===w||"not-in"===w);return an.create(_,w,A)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class gv extends Ix{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new gv(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:In.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let a=i;const u=r.getFlattenedFilters();for(const f of u)pP(a,f),a=Uy(a,f)}(e._query,t),new es(e.firestore,e.converter,Uy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Dx extends L0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Dx(e,t)}_apply(e){const t=function(i,r,a){if(null!==i.startAt)throw new Me(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Me(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new sf(r,a);return function(f,_){if(null===Vy(f)){const w=Vm(f);null!==w&&mP(0,w,_.field)}}(i,u),u}(e._query,this._field,this._direction);return new es(e.firestore,e.converter,function(i,r){const a=i.explicitOrderBy.concat([r]);return new zc(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class VD extends L0{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new VD(e,t,i)}_apply(e){return new es(e.firestore,e.converter,Hy(e._query,this._limit,this._limitType))}}class BD extends L0{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new BD(e,t,i)}_apply(e){const t=dP(e,this.type,this._docOrFields,this._inclusive);return new es(e.firestore,e.converter,(r=t,new zc((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class UD extends L0{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new UD(e,t,i)}_apply(e){const t=dP(e,this.type,this._docOrFields,this._inclusive);return new es(e.firestore,e.converter,(r=t,new zc((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function dP(n,e,t,i){if(t[0]=(0,mn.m9)(t[0]),t[0]instanceof F0)return function(r,a,u,f,_){if(!f)throw new Me(ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const w=[];for(const I of Ra(r))if(I.field.isKeyField())w.push(Ma(a,f.key));else{const A=f.data.field(I.field);if(ld(A))throw new Me(ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===A){const F=I.field.canonicalString();throw new Me(ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}w.push(A)}return new xa(w,_)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Jm(n.firestore);return function(a,u,f,_,w,I){const A=a.explicitOrderBy;if(w.length>A.length)throw new Me(ce.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let B=0;B<w.length;B++){const W=w[B];if(A[B].field.isKeyField()){if("string"!=typeof W)throw new Me(ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof W}`);if(!By(a)&&-1!==W.indexOf("/"))throw new Me(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${W}' contains a slash.`);const ie=a.path.child(on.fromString(W));if(!Ke.isDocumentKey(ie))throw new Me(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${ie}' is not because it contains an odd number of segments.`);const _e=new Ke(ie);F.push(Ma(u,_e))}else{const ie=oP(f,_,W);F.push(ie)}}return new xa(F,I)}(n._query,n.firestore._databaseId,r,e,t,i)}}function hP(n,e,t){if("string"==typeof(t=(0,mn.m9)(t))){if(""===t)throw new Me(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!By(e)&&-1!==t.indexOf("/"))throw new Me(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(on.fromString(t));if(!Ke.isDocumentKey(i))throw new Me(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ma(n,new Ke(i))}if(t instanceof ci)return Ma(n,t._key);throw new Me(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xD(t)}.`)}function fP(n,e){if(!Array.isArray(n)||0===n.length)throw new Me(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pP(n,e){if(e.isInequality()){const i=Vm(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new Me(ce.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const a=Vy(n);null!==a&&mP(0,r,a)}const t=function(i,r){for(const a of i)for(const u of a.getFlattenedFilters())if(r.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Me(ce.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function mP(n,e,t){if(!t.isEqual(e))throw new Me(ce.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Tx{convertValue(e,t="none"){switch(Aa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ti(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(jc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ot()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Rl(e,(r,a)=>{i[r]=this.convertValue(a,t)}),i}convertGeoPoint(e){return new kD(Ti(e.latitude),Ti(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Ww(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(nf(e));default:return null}}convertTimestamp(e){const t=ad(e);return new si(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=on.fromString(e);gt(xk(i));const r=new kl(i.get(1),i.get(3)),a=new Ke(i.popFirst(5));return r.isEqual(t)||Fi(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function HD(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class Q2 extends Tx{constructor(e){super(),this.firestore=e}convertBytes(e){return new qc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ci(this.firestore,null,t)}}class tg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _d extends F0{constructor(e,t,i,r,a,u){super(e,t,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new B0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(LD("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class B0 extends _d{data(e={}){return super.data(e)}}class wf{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new tg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new B0(this._firestore,this._userDataWriter,i.key,i,new tg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Me(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new B0(i._firestore,i._userDataWriter,u.doc.key,u.doc,new tg(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const f=new B0(i._firestore,i._userDataWriter,u.doc.key,u.doc,new tg(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,w=-1;return 0!==u.type&&(_=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),1!==u.type&&(a=a.add(u.doc),w=a.indexOf(u.doc.key)),{type:J2(u.type),doc:f,oldIndex:_,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function J2(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot()}}function _P(n,e){return n instanceof _d&&e instanceof _d?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof wf&&e instanceof wf&&n._firestore===e._firestore&&yx(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Ef extends Tx{constructor(e){super(),this.firestore=e}convertBytes(e){return new qc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ci(this.firestore,null,t)}}function yP(n,e,t){n=hn(n,ci);const i=hn(n.firestore,ui),r=HD(n.converter,e,t);return _v(i,[PD(Jm(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Jn.none())])}function vP(n,e,t,...i){n=hn(n,ci);const r=hn(n.firestore,ui),a=Jm(r);let u;return u="string"==typeof(e=(0,mn.m9)(e))||e instanceof gd?Ex(a,"updateDoc",n._key,e,t,i):wx(a,"updateDoc",n._key,e),_v(r,[u.toMutation(n._key,Jn.exists(!0))])}function bP(n,...e){var t,i,r;n=(0,mn.m9)(n);let a={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||vx(e[u])||(a=e[u],u++);const f={includeMetadataChanges:a.includeMetadataChanges};if(vx(e[u])){const A=e[u];e[u]=null===(t=A.next)||void 0===t?void 0:t.bind(A),e[u+1]=null===(i=A.error)||void 0===i?void 0:i.bind(A),e[u+2]=null===(r=A.complete)||void 0===r?void 0:r.bind(A)}let _,w,I;if(n instanceof ci)w=hn(n.firestore,ui),I=dd(n._key.path),_={next:A=>{e[u]&&e[u](Sx(w,n,A))},error:e[u+1],complete:e[u+2]};else{const A=hn(n,es);w=hn(A.firestore,ui),I=A._query;const F=new Ef(w);_={next:B=>{e[u]&&e[u](new wf(w,F,A,B))},error:e[u+1],complete:e[u+2]},uP(n._query)}return function(A,F,B,W){const ie=new TD(W),_e=new FM(F,ie,B);return A.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return RM(yield mv(A),_e)})),()=>{ie.Sc(),A.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return OM(yield mv(A),_e)}))}}(qi(w),I,f,_)}function _v(n,e){return function(t,i){const r=new Nn;return t.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function qL(n,e,t){return HM.apply(this,arguments)}(yield mx(t),i,r)})),r.promise}(qi(n),e)}function Sx(n,e,t){const i=t.docs.get(e._key),r=new Ef(n);return new _d(n,r,e._key,i,new tg(t.hasPendingWrites,t.fromCache),e.converter)}const _V={maxAttempts:5};class wP{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Jm(e)}set(e,t,i){this._verifyNotCommitted();const r=Cf(e,this._firestore),a=HD(r.converter,t,i),u=PD(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,Jn.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const a=Cf(e,this._firestore);let u;return u="string"==typeof(t=(0,mn.m9)(t))||t instanceof gd?Ex(this._dataReader,"WriteBatch.update",a._key,t,i,r):wx(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(u.toMutation(a._key,Jn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Cf(e,this._firestore);return this._mutations=this._mutations.concat(new ff(t._key,Jn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Me(ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Cf(n,e){if((n=(0,mn.m9)(n)).firestore!==e)throw new Me(ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class yV extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Jm(e)}get(e){const t=Cf(e,this._firestore),i=new Q2(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return ot();const a=r[0];if(a.isFoundDocument())return new F0(this._firestore,i,a.key,a,t.converter);if(a.isNoDocument())return new F0(this._firestore,i,t._key,null,t.converter);throw ot()})}set(e,t,i){const r=Cf(e,this._firestore),a=HD(r.converter,t,i),u=PD(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(e,t,i,...r){const a=Cf(e,this._firestore);let u;return u="string"==typeof(t=(0,mn.m9)(t))||t instanceof gd?Ex(this._dataReader,"Transaction.update",a._key,t,i,r):wx(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,u),this}delete(e){const t=Cf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Cf(e,this._firestore),i=new Ef(this._firestore);return super.get(e).then(r=>new _d(this._firestore,i,t._key,r._document,new tg(!1,!1),t.converter))}}function Ax(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Me("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function CP(){if(typeof Uint8Array>"u")throw new Me("unimplemented","Uint8Arrays are not available in this environment.")}function IP(){if(!function bk(){return typeof atob<"u"}())throw new Me("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){nd=ba.SDK_VERSION,(0,ba._registerComponent)(new Wu.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const a=t.getProvider("app").getImmediate(),u=new ui(new sA(t.getProvider("auth-internal")),new Ey(t.getProvider("app-check-internal")),function(f,_){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Me(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(f.options.projectId,_)}(a,i),a);return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC").setMultipleInstances(!0)),(0,ba.registerVersion)(xw,"3.11.0",n),(0,ba.registerVersion)(xw,"3.11.0","esm2017")}();class U0{constructor(e){this._delegate=e}static fromBase64String(e){return IP(),new U0(qc.fromBase64String(e))}static fromUint8Array(e){return CP(),new U0(qc.fromUint8Array(e))}toBase64(){return IP(),this._delegate.toBase64()}toUint8Array(){return CP(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Mx(n){return function SV(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class AV{enableIndexedDbPersistence(e,t){return function T2(n,e){nP(n=hn(n,ui));const t=qi(n);if(t._uninitializedComponentsProvider)throw new Me(ce.FAILED_PRECONDITION,"SDK cache is already specified.");lo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new pv;return tP(t,r,new lx(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function S2(n){nP(n=hn(n,ui));const e=qi(n);if(e._uninitializedComponentsProvider)throw new Me(ce.FAILED_PRECONDITION,"SDK cache is already specified.");lo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new pv;return tP(e,i,new LO(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function A2(n){if(n._initialized&&!n._terminated)throw new Me(ce.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Nn;return n._queue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{yield(t=(0,we.Z)(function*(i){if(!Yn.D())return Promise.resolve();const r=i+"main";yield Yn.delete(r)}),function(i){return t.apply(this,arguments)})(eM(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class DP{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof kl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&lo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function QO(n,e,t,i={}){var r;const a=(n=hn(n,k0))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&lo("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let u,f;if("string"==typeof i.mockUserToken)u=i.mockUserToken,f=zi.MOCK_USER;else{u=(0,mn.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new Me(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new zi(_)}n._authCredentials=new Mm(new OI(u,f))}}(this._delegate,e,t,i)}enableNetwork(){return function x2(n){return function p2(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield UO(n),t=yield HO(n);return e.setNetworkEnabled(!0),function(i){const r=Ze(i);return r.Au.delete(0),M0(r)}(t)}))}(qi(n=hn(n,ui)))}(this._delegate)}disableNetwork(){return function R2(n){return function m2(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield UO(n),t=yield HO(n);return e.setNetworkEnabled(!1),(i=(0,we.Z)(function*(r){const a=Ze(r);a.Au.add(0),yield av(a),a.Pu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(qi(n=hn(n,ui)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,qO("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function M2(n){return function(e){const t=new Nn;return e.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function YL(n,e){return qM.apply(this,arguments)}(yield mx(e),t)})),t.promise}(qi(n=hn(n,ui)))}(this._delegate)}onSnapshotsInSync(e){return function lV(n,e){return function y2(n,e){const t=new TD(e);return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return i=yield mv(n),r=t,Ze(i).Nu.add(r),void r.next();var i,r})),()=>{t.Sc(),n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return i=yield mv(n),r=t,void Ze(i).Nu.delete(r);var i,r}))}}(qi(n=hn(n,ui)),vx(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Me("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new yv(this,XO(this._delegate,e))}catch(t){throw Us(t,"collection()","Firestore.collection()")}}doc(e){try{return new ka(this,RD(this._delegate,e))}catch(t){throw Us(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Hs(this,function E2(n,e){if(n=hn(n,k0),_x("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Me(ce.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new es(n,null,(t=e,new zc(on.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Us(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function vV(n,e,t){n=hn(n,ui);const i=Object.assign(Object.assign({},_V),t);return function(r){if(r.maxAttempts<1)throw new Me(ce.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,a,u){const f=new Nn;return r.asyncQueue.enqueueAndForget((0,we.Z)(function*(){const _=yield function jO(n){return AD(n).then(e=>e.datastore)}(r);new h2(r.asyncQueue,_,u,a,f).run()})),f.promise}(qi(n),r=>e(new yV(n,r)),i)}(this._delegate,t=>e(new TP(this,t)))}batch(){return qi(this._delegate),new SP(new wP(this._delegate,e=>_v(this._delegate,e)))}loadBundle(e){return function k2(n,e){const t=qi(n=hn(n,ui)),i=new I2;return function v2(n,e,t,i){const r=function(a,u){let f;return f="string"==typeof a?UA().encode(a):a,_=function(_,w){if(_ instanceof Uint8Array)return VO(_,w);if(_ instanceof ArrayBuffer)return VO(new Uint8Array(_),w);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new u2(_,u);var _}(t,A0(e));n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){!function l2(n,e,t){const i=Ze(n);var r;(r=(0,we.Z)(function*(a,u,f){try{const _=yield u.getMetadata();if(yield function(F,B){const W=Ze(F),ie=Gt(B.createTime);return W.persistence.runTransaction("hasNewerBundle","readonly",_e=>W.Ls.getBundleMetadata(_e,B.id)).then(_e=>!!_e&&_e.createTime.compareTo(ie)>=0)}(a.localStore,_))return yield u.close(),f._completeWith({taskState:"Success",documentsLoaded:(F=_).totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}),Promise.resolve(new Set);f._updateProgress(AO(_));const w=new UL(_,a.localStore,u.serializer);let I=yield u.Pc();for(;I;){const F=yield w.ju(I);F&&f._updateProgress(F),I=yield u.Pc()}const A=yield w.complete();return yield md(a,A.Hu,void 0),yield function(F,B){const W=Ze(F);return W.persistence.runTransaction("Save bundle","readwrite",ie=>W.Ls.saveBundleMetadata(ie,B))}(a.localStore,_),f._completeWith(A.progress),Promise.resolve(A.Wu)}catch(_){return lo("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var F}),function(a,u,f){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield mx(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function O2(n,e){return function b2(n,e){return n.asyncQueue.enqueue((0,we.Z)(function*(){return function(t,i){const r=Ze(t);return r.persistence.runTransaction("Get named query","readonly",a=>r.Ls.getNamedQuery(a,i))}(yield MD(n),e)}))}(qi(n=hn(n,ui)),e).then(t=>t?new es(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Hs(this,t):null)}}class jD extends Tx{constructor(e){super(),this.firestore=e}convertBytes(e){return new U0(new qc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ka.forKey(t,this.firestore,null)}}class TP{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new jD(e)}get(e){const t=ig(e);return this._delegate.get(t).then(i=>new H0(this._firestore,new _d(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=ig(e);return i?(Ax("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=ig(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=ig(e);return this._delegate.delete(t),this}}class SP{constructor(e){this._delegate=e}set(e,t,i){const r=ig(e);return i?(Ax("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=ig(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=ig(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class ng{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new B0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new j0(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=ng.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let a=r.get(t);return a||(a=new ng(e,new jD(e),t),r.set(t,a)),a}}ng.INSTANCES=new WeakMap;class ka{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new jD(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Me("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ka(t,new ci(t._delegate,i,new Ke(e)))}static forKey(e,t,i){return new ka(t,new ci(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new yv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new yv(this.firestore,XO(this._delegate,e))}catch(t){throw Us(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,mn.m9)(e))instanceof ci&&JO(this._delegate,e)}set(e,t){t=Ax("DocumentReference.set",t);try{return t?yP(this._delegate,e,t):yP(this._delegate,e)}catch(i){throw Us(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?vP(this._delegate,e):vP(this._delegate,e,t,...i)}catch(r){throw Us(r,"updateDoc()","DocumentReference.update()")}}delete(){return function oV(n){return _v(hn(n.firestore,ui),[new ff(n._key,Jn.none())])}(this._delegate)}onSnapshot(...e){const t=AP(e),i=MP(e,r=>new H0(this.firestore,new _d(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return bP(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function tV(n){n=hn(n,ci);const e=hn(n.firestore,ui),t=qi(e),i=new Ef(e);return function g2(n,e){const t=new Nn;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(i=(0,we.Z)(function*(r,a,u){try{const f=yield function(_,w){const I=Ze(_);return I.persistence.runTransaction("read document","readonly",A=>I.localDocuments.getDocument(A,w))}(r,a);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new Me(ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=uv(f,`Failed to get document '${a} from cache`);u.reject(_)}}),function(r,a,u){return i.apply(this,arguments)})(yield MD(n),e,t);var i})),t.promise}(t,n._key).then(r=>new _d(e,i,n._key,r,new tg(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function nV(n){n=hn(n,ci);const e=hn(n.firestore,ui);return $O(qi(e),n._key,{source:"server"}).then(t=>Sx(e,n,t))}(this._delegate):function eV(n){n=hn(n,ci);const e=hn(n.firestore,ui);return $O(qi(e),n._key).then(t=>Sx(e,n,t))}(this._delegate),t.then(i=>new H0(this.firestore,new _d(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new ka(this.firestore,this._delegate.withConverter(e?ng.getInstance(this.firestore,e):null))}}function Us(n,e,t){return n.message=n.message.replace(e,t),n}function AP(n){for(const e of n)if("object"==typeof e&&!Mx(e))return e;return{}}function MP(n,e){var t,i;let r;return r=Mx(n[0])?n[0]:Mx(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{r.next&&r.next(e(a))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class H0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ka(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return _P(this._delegate,e._delegate)}}class j0 extends H0{data(e){const t=this._delegate.data(e);return function rA(n,e){n||ot()}(void 0!==t),t}}class Hs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new jD(e)}where(e,t,i){try{return new Hs(this.firestore,bf(this._delegate,function $2(n,e,t){const i=e,r=LD("where",n);return V0._create(r,i,t)}(e,t,i)))}catch(r){throw Us(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Hs(this.firestore,bf(this._delegate,function z2(n,e="asc"){const t=e,i=LD("orderBy",n);return Dx._create(i,t)}(e,t)))}catch(i){throw Us(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Hs(this.firestore,bf(this._delegate,function G2(n){return KO("limit",n),VD._create("limit",n,"F")}(e)))}catch(t){throw Us(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Hs(this.firestore,bf(this._delegate,function q2(n){return KO("limitToLast",n),VD._create("limitToLast",n,"L")}(e)))}catch(t){throw Us(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Hs(this.firestore,bf(this._delegate,function W2(...n){return BD._create("startAt",n,!0)}(...e)))}catch(t){throw Us(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Hs(this.firestore,bf(this._delegate,function Z2(...n){return BD._create("startAfter",n,!1)}(...e)))}catch(t){throw Us(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Hs(this.firestore,bf(this._delegate,function K2(...n){return UD._create("endBefore",n,!1)}(...e)))}catch(t){throw Us(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Hs(this.firestore,bf(this._delegate,function Y2(...n){return UD._create("endAt",n,!0)}(...e)))}catch(t){throw Us(t,"endAt()","Query.endAt()")}}isEqual(e){return yx(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function rV(n){n=hn(n,es);const e=hn(n.firestore,ui),t=qi(e),i=new Ef(e);return function _2(n,e){const t=new Nn;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(i=(0,we.Z)(function*(r,a,u){try{const f=yield vD(r,a,!0),_=new RO(a,f.sr),w=_.nc(f.documents),I=_.applyChanges(w,!1);u.resolve(I.snapshot)}catch(f){const _=uv(f,`Failed to execute query '${a} against cache`);u.reject(_)}}),function(r,a,u){return i.apply(this,arguments)})(yield MD(n),e,t);var i})),t.promise}(t,n._query).then(r=>new wf(e,i,n,r))}(this._delegate):"server"===e?.source?function sV(n){n=hn(n,es);const e=hn(n.firestore,ui),t=qi(e),i=new Ef(e);return zO(t,n._query,{source:"server"}).then(r=>new wf(e,i,n,r))}(this._delegate):function iV(n){n=hn(n,es);const e=hn(n.firestore,ui),t=qi(e),i=new Ef(e);return uP(n._query),zO(t,n._query).then(r=>new wf(e,i,n,r))}(this._delegate),t.then(i=>new xx(this.firestore,new wf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=AP(e),i=MP(e,r=>new xx(this.firestore,new wf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return bP(this._delegate,t,i)}withConverter(e){return new Hs(this.firestore,this._delegate.withConverter(e?ng.getInstance(this.firestore,e):null))}}class xV{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new j0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class xx{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Hs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new j0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new xV(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new j0(this._firestore,i))})}isEqual(e){return _P(this._delegate,e._delegate)}}class yv extends Hs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ka(this.firestore,e):null}doc(e){try{return new ka(this.firestore,void 0===e?RD(this._delegate):RD(this._delegate,e))}catch(t){throw Us(t,"doc()","CollectionReference.doc()")}}add(e){return function aV(n,e){const t=hn(n.firestore,ui),i=RD(n),r=HD(n.converter,e);return _v(t,[PD(Jm(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Jn.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new ka(this.firestore,t))}isEqual(e){return JO(this._delegate,e._delegate)}withConverter(e){return new yv(this.firestore,this._delegate.withConverter(e?ng.getInstance(this.firestore,e):null))}}function ig(n){return hn(n,ci)}class Rx{constructor(...e){this._delegate=new gd(...e)}static documentId(){return new Rx(li.keyField().canonicalString())}isEqual(e){return(e=(0,mn.m9)(e))instanceof gd&&this._delegate._internalPath.isEqual(e._internalPath)}}class rg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function wV(){return new bx("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new rg(e)}static delete(){const e=function bV(){return new P0("deleteField")}();return e._methodName="FieldValue.delete",new rg(e)}static arrayUnion(...e){const t=function EV(...n){return new V2("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new rg(t)}static arrayRemove(...e){const t=function CV(...n){return new B2("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new rg(t)}static increment(e){const t=function IV(n){return new U2("increment",n)}(e);return t._methodName="FieldValue.increment",new rg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const RV={Firestore:DP,GeoPoint:kD,Timestamp:si,Blob:U0,Transaction:TP,WriteBatch:SP,DocumentReference:ka,DocumentSnapshot:H0,Query:Hs,QueryDocumentSnapshot:j0,QuerySnapshot:xx,CollectionReference:yv,FieldPath:Rx,FieldValue:rg,setLogLevel:function MV(n){!function kI(n){Ml.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function OV(n){(function kV(n,e){n.INTERNAL.registerComponent(new Wu.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},RV)))})(n,(e,t)=>new DP(e,t,new AV)),n.registerVersion("@firebase/firestore-compat","0.3.8")}(Nb.Z);var kx=P(6451),$D=P(5363),PV=P(6063);class NV extends Xt.x{constructor(e=1/0,t=1/0,i=PV.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:a,_windowTime:u}=this;t||(i.push(e),!r&&i.push(a.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,a=r.slice();for(let u=0;u<a.length&&!e.closed;u+=i?1:2)e.next(a[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,a=(r?1:2)*e;if(e<1/0&&a<i.length&&i.splice(0,i.length-a),!r){const u=t.now();let f=0;for(let _=1;_<i.length&&i[_]<=u;_+=2)f=_;f&&i.splice(0,f+1)}}}var xP=P(3099);function RP(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,xP.B)({connector:()=>new NV(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function kP(n,e){return(0,pa.m)(e)?Ii(()=>n,e):Ii(()=>n)}var Ox=P(9468);P(259);const Nx=new Map,PP={activated:!1,tokenObservers:[]},UV={initialized:!1,enabled:!1};function Vi(n){return Nx.get(n)||Object.assign({},PP)}function GD(){return UV}class qV{constructor(e,t,i,r,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,we.Z)(function*(){t.stop();try{t.pending=new mn.BH,yield function WV(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new mn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ts=new mn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Lx(n){if(!Vi(n).activated)throw ts.create("use-before-activation",{appName:n.name})}function ZD(n,e){return Bx.apply(this,arguments)}function Bx(){return Bx=(0,we.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const A=yield r.getHeartbeatsHeader();A&&(i["X-Firebase-Client"]=A)}const a={method:"POST",body:JSON.stringify(e),headers:i};let u,f;try{u=yield fetch(n,a)}catch(A){throw ts.create("fetch-network-error",{originalErrorMessage:A?.message})}if(200!==u.status)throw ts.create("fetch-status-error",{httpStatus:u.status});try{f=yield u.json()}catch(A){throw ts.create("fetch-parse-error",{originalErrorMessage:A?.message})}const _=f.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw ts.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const w=1e3*Number(_[1]),I=Date.now();return{token:f.token,expireTimeMillis:I+w,issuedAtTimeMillis:I}}),Bx.apply(this,arguments)}function FP(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const $0="firebase-app-check-store";let KD=null;function VP(){return KD||(KD=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(ts.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore($0,{keyPath:"compositeKey"})}}catch(t){e(ts.create("storage-open",{originalErrorMessage:t?.message}))}}),KD)}function Ux(){return Ux=(0,we.Z)(function*(n,e){const i=(yield VP()).transaction($0,"readwrite"),a=i.objectStore($0).put({compositeKey:n,value:e});return new Promise((u,f)=>{a.onsuccess=_=>{u()},i.onerror=_=>{var w;f(ts.create("storage-set",{originalErrorMessage:null===(w=_.target.error)||void 0===w?void 0:w.message}))}})}),Ux.apply(this,arguments)}const z0=new Dl.Yd("@firebase/app-check");function $x(n,e){return(0,mn.hl)()?function eB(n,e){return function BP(n,e){return Ux.apply(this,arguments)}(function HP(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{z0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Gx(){return GD().enabled}function qx(){return Wx.apply(this,arguments)}function Wx(){return Wx=(0,we.Z)(function*(){const n=GD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),Wx.apply(this,arguments)}const oB={error:"UNKNOWN_ERROR"};function aB(n){return mn.US.encodeString(JSON.stringify(n),!1)}function YD(n){return Zx.apply(this,arguments)}function Zx(){return Zx=(0,we.Z)(function*(n,e=!1){const t=n.app;Lx(t);const i=Vi(t);let a,r=i.token;if(r&&!vv(r)&&(i.token=void 0,r=void 0),!r){const _=yield i.cachedTokenPromise;_&&(vv(_)?r=_:yield $x(t,void 0))}if(!e&&r&&vv(r))return{token:r.token};let f,u=!1;if(Gx()){i.exchangeTokenPromise||(i.exchangeTokenPromise=ZD(FP(t,yield qx()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),u=!0);const _=yield i.exchangeTokenPromise;return yield $x(t,_),i.token=_,{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),u=!0),r=yield Vi(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?z0.warn(_.message):z0.error(_),a=_}return r?a?f=vv(r)?{token:r.token,internalError:a}:zP(a):(f={token:r.token},i.token=r,yield $x(t,r)):f=zP(a),u&&$P(t,f),f}),Zx.apply(this,arguments)}function Qx(n,e){const t=Vi(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function jP(n){const{app:e}=n,t=Vi(e);let i=t.tokenRefresher;i||(i=function cB(n){const{app:e}=n;return new qV((0,we.Z)(function*(){let i;if(i=Vi(e).token?yield YD(n,!0):yield YD(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=Vi(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function $P(n,e){const t=Vi(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}function vv(n){return n.expireTimeMillis-Date.now()>0}function zP(n){return{token:aB(oB),error:n}}class uB{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Vi(this.app);for(const t of e)Qx(this.app,t.next);return Promise.resolve()}}const XP="app-check-internal";!function IB(){(0,ba._registerComponent)(new Wu.wA("app-check",n=>function dB(n,e){return new uB(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(XP).initialize()})),(0,ba._registerComponent)(new Wu.wA(XP,n=>function hB(n){return{getToken:e=>YD(n,e),addTokenListener:e=>function Yx(n,e,t,i){const{app:r}=n,a=Vi(r);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:i,type:e}],a.token&&vv(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),jP(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>jP(n))}(n,"INTERNAL",e),removeTokenListener:e=>Qx(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ba.registerVersion)("@firebase/app-check","0.7.0")}();class tR{constructor(){return(0,tr.vb)("app-check")}}typeof window<"u"&&window,P(9260);const e1=new c.OlP("angularfire2.auth.use-emulator"),t1=new c.OlP("angularfire2.auth.settings"),n1=new c.OlP("angularfire2.auth.tenant-id"),r1=new c.OlP("angularfire2.auth.langugage-code"),s1=new c.OlP("angularfire2.auth.use-device-language"),o1=new c.OlP("angularfire.auth.persistence"),a1=(n,e,t,i,r,a,u,f)=>(0,So.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),i&&(_.tenantId=i),_.languageCode=r,a&&_.useDeviceLanguage(),u)for(const[w,I]of Object.entries(u))_.settings[w]=I;return f&&_.setPersistence(f),_},[t,i,r,a,u,f]);let l1=(()=>{class n{constructor(t,i,r,a,u,f,_,w,I,A,F,B){const W=new Xt.x,ie=ct(void 0).pipe((0,$D.Q)(u.outsideAngular),Ii(()=>a.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,3042)))),(0,ft.U)(()=>(0,So.on)(t,a,i)),(0,ft.U)(_e=>a1(_e,a,f,w,I,A,_,F)),RP({bufferSize:1,refCount:!1}));if(Kl(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ct(null);else{ie.pipe(vl()).subscribe();const $e=ie.pipe(Ii(Ct=>Ct.getRedirectResult().then(jt=>jt,()=>null)),tr.iC,RP({bufferSize:1,refCount:!1})),it=ie.pipe(Ii(Ct=>new ti.y(jt=>({unsubscribe:a.runOutsideAngular(()=>Ct.onAuthStateChanged(Wt=>jt.next(Wt),Wt=>jt.error(Wt),()=>jt.complete()))})))),Je=ie.pipe(Ii(Ct=>new ti.y(jt=>({unsubscribe:a.runOutsideAngular(()=>Ct.onIdTokenChanged(Wt=>jt.next(Wt),Wt=>jt.error(Wt),()=>jt.complete()))}))));this.authState=$e.pipe(kP(it),(0,Ox.R)(u.outsideAngular),(0,$D.Q)(u.insideAngular)),this.user=$e.pipe(kP(Je),(0,Ox.R)(u.outsideAngular),(0,$D.Q)(u.insideAngular)),this.idToken=this.user.pipe(Ii(Ct=>Ct?(0,rn.D)(Ct.getIdToken()):ct(null))),this.idTokenResult=this.user.pipe(Ii(Ct=>Ct?(0,rn.D)(Ct.getIdTokenResult()):ct(null))),this.credential=(0,kx.T)($e,W,this.authState.pipe(ri(Ct=>!Ct))).pipe((0,ft.U)(Ct=>Ct?.user?Ct:null),(0,Ox.R)(u.outsideAngular),(0,$D.Q)(u.insideAngular))}return(0,So.pX)(this,ie,a,{spy:{apply:(_e,$e,it)=>{(_e.startsWith("signIn")||_e.startsWith("createUser"))&&it.then(Je=>W.next(Je))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(So.Dh),c.LFG(So.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(tr.HU),c.LFG(e1,8),c.LFG(t1,8),c.LFG(n1,8),c.LFG(r1,8),c.LFG(s1,8),c.LFG(o1,8),c.LFG(tR,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function c1(n,e){return function xB(n,e=em.z){return new ti.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function iR(n,e){return c1(n,e).pipe((0,ft.U)(t=>({payload:t,type:"query"})))}function XD(n,e){return iR(n,e).pipe(ga(void 0),tm(),(0,ft.U)(([t,i])=>{const r=i.payload.docChanges(),a=r.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,f)=>{const _=r.find(I=>I.doc.ref.isEqual(u.ref)),w=t?.payload.docs.find(I=>I.ref.isEqual(u.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(u.metadata)||!_&&w&&JSON.stringify(w.metadata)===JSON.stringify(u.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:u}})}),a}))}function u1(n,e,t){return XD(n,t).pipe(xp((i,r)=>function kB(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function OB(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return rR(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return rR(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return rR(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(a=>a.payload),e),[]),Ob(),(0,ft.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function rR(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function d1(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class h1{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=XD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ft.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(ga(void 0),tm(),ri(([i,r])=>r.length>0||!i),(0,ft.U)(([i,r])=>r),tr.iC)}auditTrail(e){return this.stateChanges(e).pipe(xp((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=d1(e);return u1(this.query,t,this.afs.schedulers.outsideAngular).pipe(tr.iC)}valueChanges(e={}){return iR(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),tr.iC)}get(e){return(0,rn.D)(this.query.get(e)).pipe(tr.iC)}add(e){return this.ref.add(e)}doc(e){return new f1(this.ref.doc(e),this.afs)}}class f1{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:a}=p1(i,t);return new h1(r,a,this.afs)}snapshotChanges(){return function RB(n,e){return c1(n,e).pipe(ga(void 0),tm(),(0,ft.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(tr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ft.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,rn.D)(this.ref.get(e)).pipe(tr.iC)}}class PB{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?XD(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),ri(t=>t.length>0),tr.iC):XD(this.query,this.afs.schedulers.outsideAngular).pipe(tr.iC)}auditTrail(e){return this.stateChanges(e).pipe(xp((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=d1(e);return u1(this.query,t,this.afs.schedulers.outsideAngular).pipe(tr.iC)}valueChanges(e={}){return iR(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),tr.iC)}get(e){return(0,rn.D)(this.query.get(e)).pipe(tr.iC)}}const NB=new c.OlP("angularfire2.enableFirestorePersistence"),FB=new c.OlP("angularfire2.firestore.persistenceSettings"),LB=new c.OlP("angularfire2.firestore.settings"),VB=new c.OlP("angularfire2.firestore.use-emulator");function p1(n,e=(t=>t)){return{query:e(n),ref:n}}let m1=(()=>{class n{constructor(t,i,r,a,u,f,_,w,I,A,F,B,W,ie,_e,$e,it){this.schedulers=_;const Je=(0,So.on)(t,f,i),Ct=I;A&&a1(Je,f,F,W,ie,_e,B,$e),[this.firestore,this.persistenceEnabled$]=(0,So.cc)(`${Je.name}.firestore`,"AngularFirestore",Je.name,()=>{const jt=f.runOutsideAngular(()=>Je.firestore());if(a&&jt.settings(a),Ct&&jt.useEmulator(...Ct),r&&!Kl(u)){const Wt=()=>{try{return(0,rn.D)(jt.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(An){return typeof console<"u"&&console.warn(An),ct(!1)}};return[jt,f.runOutsideAngular(Wt)]}return[jt,ct(!1)]},[a,Ct,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:u}=p1(r,i),f=this.schedulers.ngZone.run(()=>a);return new h1(f,u,this)}collectionGroup(t,i){const r=i||(u=>u),a=this.firestore.collectionGroup(t);return new PB(r(a),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new f1(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(So.Dh),c.LFG(So.xv,8),c.LFG(NB,8),c.LFG(LB,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(tr.HU),c.LFG(FB,8),c.LFG(VB,8),c.LFG(l1,8),c.LFG(e1,8),c.LFG(t1,8),c.LFG(n1,8),c.LFG(r1,8),c.LFG(s1,8),c.LFG(o1,8),c.LFG(tR,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),sR=(()=>{class n{constructor(t){this.firestore=t}getProducts(){return this.firestore.collection("productos").snapshotChanges()}getProducto(t){return this.firestore.collection("productos").doc(t).snapshotChanges()}agregarproducto(t){return this.firestore.collection("productos").add(t)}deleteProducts(t){return this.firestore.collection("productos").doc(t).delete()}update(t,i){return this.firestore.collection("productos").doc(t).update(i)}updateProducts(t){const i=this.firestore.firestore.batch();return t.forEach(r=>{const a=this.firestore.collection("productos").doc(r.id);i.update(a.ref,r)}),i.commit()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(m1))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),g1=(()=>{class n{constructor(t){this.firestore=t}addReport(t){return this.firestore.collection("reportes").add(t)}obtReports(){return this.firestore.collection("reportes").snapshotChanges()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(m1))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class _1{}const yd="*";function JD(n,e){return{type:7,name:n,definitions:e,options:{}}}function sg(n,e=null){return{type:4,styles:e,timings:n}}function y1(n,e=null){return{type:2,steps:n,options:e}}function Oa(n){return{type:6,styles:n,offset:null}}function og(n,e,t){return{type:0,name:n,styles:e,options:t}}function ag(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function v1(n){Promise.resolve().then(n)}class G0{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){v1(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class b1{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const a=this.players.length;0==a?v1(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==a&&this._onFinish()}),u.onDestroy(()=>{++i==a&&this._onDestroy()}),u.onStart(()=>{++r==a&&this._onStart()})}),this.totalTime=this.players.reduce((u,f)=>Math.max(u,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const w1=["toast-component",""];function UB(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",5),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.remove())}),c.TgZ(1,"span",6),c._uU(2,"\xd7"),c.qZA()()}}function HB(n,e){if(1&n&&(c.ynx(0),c._uU(1),c.BQk()),2&n){const t=c.oxw(2);c.xp6(1),c.hij("[",t.duplicatesCount+1,"]")}}function jB(n,e){if(1&n&&(c.TgZ(0,"div"),c._uU(1),c.YNc(2,HB,2,1,"ng-container",4),c.qZA()),2&n){const t=c.oxw();c.Tol(t.options.titleClass),c.uIk("aria-label",t.title),c.xp6(1),c.hij(" ",t.title," "),c.xp6(1),c.Q6J("ngIf",t.duplicatesCount)}}function $B(n,e){if(1&n&&c._UZ(0,"div",7),2&n){const t=c.oxw();c.Tol(t.options.messageClass),c.Q6J("innerHTML",t.message,c.oJD)}}function zB(n,e){if(1&n&&(c.TgZ(0,"div",8),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.Tol(t.options.messageClass),c.uIk("aria-label",t.message),c.xp6(1),c.hij(" ",t.message," ")}}function GB(n,e){if(1&n&&(c.TgZ(0,"div"),c._UZ(1,"div",9),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Udp("width",t.width+"%")}}class XB{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class eT{constructor(e,t,i,r,a,u){this.toastId=e,this.config=t,this.message=i,this.title=r,this.toastType=a,this.toastRef=u,this._onTap=new Xt.x,this._onAction=new Xt.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const C1=new c.OlP("ToastConfig");class eU{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new Xt.x,this._activate=new Xt.x,this._manualClose=new Xt.x,this._resetTimeout=new Xt.x,this._countDuplicate=new Xt.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class tU{constructor(e,t){this._toastPackage=e,this._parentInjector=t}get(e,t,i){return e===eT?this._toastPackage:this._parentInjector.get(e,t,i)}}class nU extends class JB{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,i){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=i}attachComponentPortal(e,t){const i=this._componentFactoryResolver.resolveComponentFactory(e.component);let r;return r=i.create(e.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class iU{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let rU=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ne))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sU=(()=>{class n{constructor(t,i,r,a){this._overlayContainer=t,this._componentFactoryResolver=i,this._appRef=r,this._document=a,this._paneElements=new Map}create(t,i){return this._createOverlayRef(this.getPaneElement(t,i))}getPaneElement(t="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[t]||(this._paneElements.get(i)[t]=this._createPaneElement(t,i)),this._paneElements.get(i)[t]}_createPaneElement(t,i){const r=this._document.createElement("div");return r.id="toast-container",r.classList.add(t),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(t){return new nU(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new iU(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(rU),c.LFG(c._Vd),c.LFG(c.z2F),c.LFG(ne))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),q0=(()=>{class n{constructor(t,i,r,a,u){this.overlay=i,this._injector=r,this.sanitizer=a,this.ngZone=u,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,i,r={},a=""){return this._preBuildNotification(a,t,i,this.applyConfig(r))}success(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,i,this.applyConfig(r))}error(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,i,this.applyConfig(r))}info(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,i,this.applyConfig(r))}warning(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,i,this.applyConfig(r))}clear(t){for(const i of this.toasts)if(void 0!==t){if(i.toastId===t)return void i.toastRef.manualClose()}else i.toastRef.manualClose()}remove(t){const i=this._findToast(t);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(t="",i="",r,a){const{includeTitleDuplicates:u}=this.toastrConfig;for(const f of this.toasts){const _=u&&f.title===t;if((!u||_)&&f.message===i)return f.toastRef.onDuplicate(r,a),f}return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===t)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(t,i,r,a){return a.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,i,r,a)):this._buildNotification(t,i,r,a)}_buildNotification(t,i,r,a){if(!a.toastComponent)throw new Error("toastComponent required");const u=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&a.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&null!==u)return u;this.previousToastMessage=i;let f=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(f=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const _=this.overlay.create(a.positionClass,this.overlayContainer);this.index=this.index+1;let w=i;i&&a.enableHtml&&(w=this.sanitizer.sanitize(c.q3G.HTML,i));const I=new eU(_),A=new eT(this.index,a,w,r,t,I),F=new tU(A,this._injector),B=new XB(a.toastComponent,F),W=_.attach(B,this.toastrConfig.newestOnTop);I.componentInstance=W.instance;const ie={toastId:this.index,title:r||"",message:i||"",toastRef:I,onShown:I.afterActivate(),onHidden:I.afterClosed(),onTap:A.onTap(),onAction:A.onAction(),portal:W};return f||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{ie.toastRef.activate()})),this.toasts.push(ie),ie}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(C1),c.LFG(sU),c.LFG(c.zs3),c.LFG(sl),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const oU={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class n{constructor(t,i,r){this.toastrService=t,this.toastPackage=i,this.ngZone=r,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(a=>{this.duplicatesCount=a})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),i)):this.timeout=setTimeout(()=>t(),i)}outsideInterval(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),i)):this.intervalId=setInterval(()=>t(),i)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(q0),c.Y36(eT),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,i){1&t&&c.NdJ("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&t&&(c.d8E("@flyInOut",i.state),c.Tol(i.toastClasses),c.Udp("display",i.displayStyle))},attrs:w1,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,i){1&t&&(c.YNc(0,UB,3,0,"button",0),c.YNc(1,jB,3,5,"div",1),c.YNc(2,$B,1,3,"div",2),c.YNc(3,zB,2,4,"div",3),c.YNc(4,GB,2,2,"div",4)),2&t&&(c.Q6J("ngIf",i.options.closeButton),c.xp6(1),c.Q6J("ngIf",i.title),c.xp6(1),c.Q6J("ngIf",i.message&&i.options.enableHtml),c.xp6(1),c.Q6J("ngIf",i.message&&!i.options.enableHtml),c.xp6(1),c.Q6J("ngIf",i.options.progressBar))},dependencies:[xn],encapsulation:2,data:{animation:[JD("flyInOut",[og("inactive",Oa({opacity:0})),og("active",Oa({opacity:1})),og("removed",Oa({opacity:0})),ag("inactive => active",sg("{{ easeTime }}ms {{ easing }}")),ag("active => removed",sg("{{ easeTime }}ms {{ easing }}"))])]}}),n})()};let aU=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:C1,useValue:{default:oU,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[po]]}),n})();function lU(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div")(1,"div",8),c.NdJ("click",function(){const a=c.CHM(t).$implicit,u=c.oxw();return c.KtG(u.abrirModal(a))}),c._UZ(2,"img",9),c.TgZ(3,"h3",10),c._uU(4),c.qZA(),c.TgZ(5,"p"),c._uU(6),c.ALo(7,"currency"),c.qZA(),c.TgZ(8,"p",10),c._uU(9),c.qZA(),c.TgZ(10,"p"),c._uU(11),c.qZA(),c.TgZ(12,"p",11),c._uU(13),c.qZA()()()}if(2&n){const t=e.$implicit,i=c.oxw();c.xp6(2),c.Q6J("src",t.imagenes,c.LSH),c.xp6(2),c.Oqu(t.nombre),c.xp6(2),c.hij("$",c.gM2(7,6,t.precio," ","symbol","1.0"),""),c.xp6(3),c.Oqu(t.descripcion),c.xp6(2),c.hij(" Disponible: ",t.disponible?t.disponible:"No disponible"," "),c.xp6(2),c.Oqu(t.disponible?"":i.message)}}function cU(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",12)(1,"div",13),c._UZ(2,"img",14),c.TgZ(3,"h3"),c._uU(4),c.qZA(),c.TgZ(5,"p"),c._uU(6),c.qZA(),c.TgZ(7,"p"),c._uU(8),c.qZA(),c.TgZ(9,"p"),c._uU(10),c.qZA(),c.TgZ(11,"div",15)(12,"button",16),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.decrementarCantidad())}),c._uU(13," - "),c.qZA(),c.TgZ(14,"input",17),c.NdJ("ngModelChange",function(r){c.CHM(t);const a=c.oxw();return c.KtG(a.productoSeleccionado.cantidad=r)})("input",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.actualizarPrecioTotal())}),c.qZA(),c.TgZ(15,"button",18),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.incrementarCantidad())}),c._uU(16," + "),c.qZA()(),c.TgZ(17,"p"),c._uU(18),c.qZA(),c.TgZ(19,"div",19)(20,"button",20),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.cerrarModal())}),c._uU(21," Cerrar "),c.qZA(),c.TgZ(22,"button",21),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.registrarProducto())}),c._uU(23," Agregar "),c.qZA()()()()}if(2&n){const t=c.oxw();c.xp6(2),c.Q6J("src",t.productoSeleccionado.imagenes,c.LSH),c.xp6(2),c.Oqu(t.productoSeleccionado.nombre),c.xp6(2),c.hij("Descripci\xf3n: ",t.productoSeleccionado.descripcion,""),c.xp6(2),c.hij("Precio: ",t.productoSeleccionado.precio,""),c.xp6(2),c.hij(" Disponible: ",t.productoSeleccionado.disponible?t.productoSeleccionado.disponible:"No disponible"," "),c.xp6(4),c.Q6J("disabled",!0)("ngModel",t.productoSeleccionado.cantidad),c.xp6(1),c.Q6J("disabled",t.enabledButton),c.xp6(3),c.hij("Precio Total: ",t.productoSeleccionado.precioTotal,""),c.xp6(4),c.Q6J("disabled",t.habilitar)}}function uU(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"tr")(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.qZA(),c.TgZ(5,"td"),c._uU(6),c.qZA(),c.TgZ(7,"td")(8,"button",22),c.NdJ("click",function(){const a=c.CHM(t).$implicit,u=c.oxw();return c.KtG(u.eliminarProducto(a))}),c._uU(9," Eliminar "),c.qZA()()()}if(2&n){const t=e.$implicit;c.xp6(2),c.Oqu(t.nombre),c.xp6(2),c.Oqu(t.cantidad),c.xp6(2),c.Oqu(t.precioTotal)}}function dU(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",12)(1,"div",13)(2,"span",25),c._uU(3,"Agregar nuevo reporte"),c.qZA(),c.TgZ(4,"div",26)(5,"span"),c._uU(6,"Total a pagar: "),c.qZA(),c.TgZ(7,"p"),c._uU(8),c.ALo(9,"currency"),c.qZA(),c.TgZ(10,"p"),c._uU(11),c.qZA(),c.TgZ(12,"label")(13,"input",27),c.NdJ("ngModelChange",function(r){c.CHM(t);const a=c.oxw(2);return c.KtG(a.valorRestado=r)})("ngModelChange",function(){c.CHM(t);const r=c.oxw(2);return c.KtG(r.restarValor())}),c.qZA()()(),c.TgZ(14,"div",28)(15,"button",29),c.NdJ("click",function(){c.CHM(t);const r=c.oxw(2);return c.KtG(r.cerrarModal())}),c._uU(16," Cerrar "),c.qZA(),c.TgZ(17,"button",30),c.NdJ("click",function(){c.CHM(t);const r=c.oxw(2);return c.KtG(r.agregarReporte())}),c._uU(18," Crear "),c.qZA()()()()}if(2&n){const t=c.oxw(2);c.xp6(8),c.hij(" $",c.gM2(9,3,t.calcularTotal()," ","symbol","1.0")," "),c.xp6(3),c.hij("Devuelta: $",t.resultado,""),c.xp6(2),c.Q6J("ngModel",t.valorRestado)}}function hU(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"tfoot")(1,"tr",23)(2,"th"),c._uU(3,"Total:"),c.qZA(),c.TgZ(4,"th"),c._uU(5),c.qZA(),c.TgZ(6,"th")(7,"button",24),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.modalRegistrar())}),c._uU(8," Agregar Reporte "),c.qZA(),c.YNc(9,dU,19,8,"div",3),c.qZA(),c.TgZ(10,"th")(11,"button",22),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.borrarTabla())}),c._uU(12," Borrar todo "),c.qZA()()()()}if(2&n){const t=c.oxw();c.xp6(5),c.hij("$ ",t.calcularTotal(),""),c.xp6(4),c.Q6J("ngIf",t.registrarActivo)}}function fU(n,e){1&n&&(c.TgZ(0,"p",31),c._uU(1," No hay productos seleccionados "),c.qZA())}let pU=(()=>{class n{constructor(t,i,r){this._productService=t,this._reportes=i,this.toastr=r,this.productoSeleccionado=null,this.modalActivo=!1,this.productosRegistrados=[],this.message="",this.enabledButton=!1,this.habilitar=!0,this.products=[],this.registrarActivo=!1,this.resultado=0}ngOnInit(){this.getProducts()}getProducts(){this._productService.getProducts().subscribe(t=>{this.products=[],t.forEach(i=>{this.products.push({id:i.payload.doc.id,...i.payload.doc.data()})}),console.log(this.products)})}actualizarPrecioTotal(){this.productoSeleccionado.precioTotal=this.productoSeleccionado.precio*this.productoSeleccionado.cantidad,this.productoSeleccionado.disponible=this.productoSeleccionado.disponible+this.productoSeleccionado.cantidadAnterior-this.productoSeleccionado.cantidad}calcularPrecioTotal(t){return this.productoSeleccionado.precio*t}abrirModal(t){this.habilitar=!0,this.productoSeleccionado=t,this.productoSeleccionado.cantidad=0;const i=this.products.find(r=>r.nombre==this.productoSeleccionado.nombre);Number.isNaN(i?.disponible)||0==i?.disponible?(this.modalActivo=!1,this.message="* Producto agotado!!",setTimeout(()=>{this.message=""},2e3)):this.modalActivo=!0}cerrarModal(){this.registrarActivo=!1,this.enabledButton=!1,this.modalActivo=!1,this.productoSeleccionado.cantidad=0,this.valorRestado=null,this.resultado=0}incrementarCantidad(){this.habilitar=!1,this.maxCantidad=this.productoSeleccionado.cantidad,this.enabledButton=this.maxCantidad+1==this.productoSeleccionado.disponible,this.productoSeleccionado.cantidad++,this.productoSeleccionado.precioTotal=this.productoSeleccionado.cantidad*this.productoSeleccionado.precio}decrementarCantidad(){this.enabledButton=!1,this.productoSeleccionado.cantidad>0&&(this.productoSeleccionado.cantidad--,this.productoSeleccionado.precioTotal=this.productoSeleccionado.cantidad*this.productoSeleccionado.precio),0==this.productoSeleccionado.cantidad&&(this.habilitar=!0)}registrarProducto(){let{id:t,nombre:i,cantidad:r,descripcion:a,disponible:u,imagenes:f,precio:_,precioCompra:w,precioTotal:I}=this.productoSeleccionado;const A=this.products.find(F=>F.nombre===i);A&&(A.disponible-=r,u=A.disponible),this.productosRegistrados.push({id:t,nombre:i,cantidad:r,descripcion:a,disponible:u,imagenes:f,precio:_,precioCompra:w,precioTotal:I}),this.modalActivo=!1,this.enabledButton=!1,this.productoSeleccionado.cantidad=0}eliminarProducto(t){const i=this.productosRegistrados.indexOf(t);i>-1&&(this.productosRegistrados.splice(i,1),this.toastr.error("El producto fue eliminado con exito","Producto eliminado"));const r=this.products.find(a=>a.nombre===this.productoSeleccionado.nombre);r&&(r.disponible+=t.cantidad)}borrarTabla(){this.getProducts(),this.productosRegistrados=[],this.toastr.error("Todos los productos fueron eliminados","Eliminados"),this.valorRestado=null,this.resultado=0}calcularTotal(){let t=0;return this.productosRegistrados.forEach(i=>{t+=i.precioTotal}),t}modalRegistrar(){this.registrarActivo=!0}restarValor(){this.resultado=this.valorRestado>=this.calcularTotal()?Math.abs(this.calcularTotal()-this.valorRestado):0}agregarReporte(){this._productService.updateProducts(this.productosRegistrados).then(()=>{console.log("productos actualizados")}),console.log(this.productosRegistrados),this.productosRegistrados.map(A=>A.id);const i=this.productosRegistrados.map(A=>A.nombre),r=this.productosRegistrados.map(A=>A.cantidad),a=this.productosRegistrados.map(A=>A.disponible),I={nombre:i,cantidad:r,descripcion:this.productosRegistrados.map(A=>A.descripcion),disponible:a,precio:this.productosRegistrados.map(A=>A.precio),precioCompra:this.productosRegistrados.map(A=>A.precioCompra),precioTotal:this.productosRegistrados.map(A=>A.precioTotal),total:this.calcularTotal(),fechaCreacion:new Date};this._reportes.addReport(I).then(()=>{this.toastr.success("Registrado con exito","Reporte Registrado!!"),this.productosRegistrados=[],this.registrarActivo=!1}),this.getProducts(),this.productoSeleccionado=null}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(sR),c.Y36(g1),c.Y36(q0))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-list-products"]],decls:19,vars:5,consts:[[1,"table-responsive"],[2,"display","flex","flex-wrap","wrap","justify-content","space-evenly"],[4,"ngFor","ngForOf"],["class","modal",4,"ngIf"],[1,"table","table-striped"],["scope","col"],[4,"ngIf"],["style","margin: 6px",4,"ngIf"],[1,"producto",2,"border","1px solid #8080802e","border-radius","6px","margin","2px",3,"click"],["alt","Imagen no disponible","width","100","height","100",3,"src"],[2,"text-align","center"],[2,"color","red"],[1,"modal"],[1,"contenido-modal"],["alt","Imagen no disponible","width","200","height","200",3,"src"],[1,"input-group"],[1,"btn-cantidad","btn-decrementar",3,"click"],["id","cantidad","type","text","min","0",3,"disabled","ngModel","ngModelChange","input"],[1,"btn-cantidad","btn-incrementar",3,"disabled","click"],[1,"botones"],[2,"background-color","red",3,"click"],["type","button",1,"btn","btn-success",2,"background-color","green",3,"disabled","click"],[1,"btn","btn-danger",3,"click"],[2,"background-color","#0014ff2b"],[1,"btn","btn-success",3,"click"],[2,"margin-bottom","14px"],[2,"display","contents"],["type","number",3,"ngModel","ngModelChange"],[2,"gap","7px","display","flex"],[1,"btn","btn-danger",2,"background-color","blue",3,"click"],["type","button",1,"btn","btn-success",2,"background-color","green",3,"click"],[2,"margin","6px"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"div",1),c.YNc(2,lU,14,11,"div",2),c.YNc(3,cU,24,10,"div",3),c.qZA(),c.TgZ(4,"table",4)(5,"thead")(6,"tr")(7,"th",5),c._uU(8,"Nombre"),c.qZA(),c.TgZ(9,"th",5),c._uU(10,"Cantidad"),c.qZA(),c.TgZ(11,"th",5),c._uU(12,"SubTotal"),c.qZA(),c.TgZ(13,"th",5),c._uU(14,"Acciones"),c.qZA()()(),c.TgZ(15,"tbody"),c.YNc(16,uU,10,3,"tr",2),c.qZA(),c.YNc(17,hU,13,2,"tfoot",6),c.YNc(18,fU,2,0,"p",7),c.qZA()()),2&t&&(c.xp6(2),c.Q6J("ngForOf",i.products),c.xp6(1),c.Q6J("ngIf",i.modalActivo),c.xp6(13),c.Q6J("ngForOf",i.productosRegistrados),c.xp6(1),c.Q6J("ngIf",0!==i.productosRegistrados.length),c.xp6(1),c.Q6J("ngIf",0==i.productosRegistrados.length))},dependencies:[yn,xn,Qs,Cc,rp,ku,ql],styles:[".producto[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;cursor:pointer;margin:10px}.producto[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:10px}.producto[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:5px}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:100}.contenido-modal[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #00000080;display:flex;flex-direction:column;align-items:center}.contenido-modal[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:10px}.contenido-modal[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:10px}.contenido-modal[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.contenido-modal[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:10px;padding:5px;width:100%;box-sizing:border-box;border:1px solid #ccc;border-radius:5px}.contenido-modal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px 10px;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer}.btn-cantidad[_ngcontent-%COMP%]{padding:5px;border:none;background-color:#eee;cursor:pointer}.btn-decrementar[_ngcontent-%COMP%]{border-radius:5px 0 0 5px}.btn-incrementar[_ngcontent-%COMP%]{border-radius:0 5px 5px 0}.input-group[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}#cantidad[_ngcontent-%COMP%]{width:40px;text-align:center}.btn-decrementar[_ngcontent-%COMP%]{height:32px;order:1}#cantidad[_ngcontent-%COMP%]{order:2}.btn-incrementar[_ngcontent-%COMP%]{height:32px;order:3}.input-group[_ngcontent-%COMP%]{display:flex;align-items:flex-start;margin-bottom:10px;justify-content:space-between;width:100px}.botones[_ngcontent-%COMP%]{display:flex;gap:12px}"]}),n})();function mU(n,e){1&n&&(c.TgZ(0,"div",14),c._uU(1," Los campos con * son obligatorios "),c.qZA())}let I1=(()=>{class n{constructor(t,i,r,a,u){this._productService=t,this.toastr=i,this.fb=r,this.router=a,this.aRouter=u,this.subbmited=!1,this.titleChange="Agregar Producto",this.urlImagen="https://media.istockphoto.com/id/1162198273/es/vector/dise%C3%B1o-de-ilustraci%C3%B3n-vectorial-plana-icono-de-signo-de-interrogaci%C3%B3n.jpg?s=1024x1024&w=is&k=20&c=pZBCbPrSZDpGfF0OzRN78BeLUIJbiWaRxeKVO2TG7sA=",this.createProduct=this.fb.group({nombre:["",Zr.required],descripcion:[""],precioCompra:["",Zr.required],precio:["",Zr.required],imagenes:[""],disponible:["",Zr.required]}),this.id=this.aRouter.snapshot.paramMap.get("id")}ngOnInit(){this.EXeditProducto()}verificar(){return this.createProduct.valid?(console.log("El formulario es v\xe1lido"),!0):(console.log("El formulario no es v\xe1lido"),this.subbmited=!0,setTimeout(()=>{this.subbmited=!1},4e3),!1)}agregarEditarProducto(){this.subbmited=!0,!this.createProduct.invalid&&(null===this.id?this.agregarProducto():this.editarProducto(this.id))}agregarProducto(){this._productService.agregarproducto({nombre:this.createProduct.value.nombre,descripcion:this.createProduct.value.descripcion,precioCompra:this.createProduct.value.precioCompra,precio:this.createProduct.value.precio,cantidad:0,precioTotal:0,imagenes:this.createProduct.value.imagenes,disponible:this.createProduct.value.disponible}).then(()=>{this.toastr.success("Agregado con exito!!","Producto Agregado"),this.router.navigate(["/info-product"])})}editarProducto(t){this._productService.update(t,{nombre:this.createProduct.value.nombre,descripcion:this.createProduct.value.descripcion,precioCompra:this.createProduct.value.precioCompra,precio:this.createProduct.value.precio,imagenes:this.createProduct.value.imagenes,disponible:this.createProduct.value.disponible}).then(()=>{this.toastr.info("Producto modificado con exito","Actualizacion Exitosa"),this.router.navigate(["/info-product"])})}EXeditProducto(){null!==this.id&&(this.titleChange="Editar Producto",this._productService.getProducto(this.id).subscribe(t=>{console.log(t),this.createProduct.setValue({nombre:t.payload.data().nombre,descripcion:t.payload.data().descripcion,precioCompra:t.payload.data().precioCompra,precio:t.payload.data().precio,imagenes:t.payload.data().imagenes,disponible:t.payload.data().disponible})}))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(sR),c.Y36(q0),c.Y36(hE),c.Y36(er),c.Y36(Cl))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-create-product"]],decls:39,vars:4,consts:[[2,"display","flex","flex-direction","column","align-items","center"],[3,"formGroup","ngSubmit"],[1,"container-form"],[1,"container-element"],["type","text","placeholder","Nombre del producto","formControlName","nombre",1,"form-control","mt-2","text-center"],["type","text","placeholder","Descripci\xf3n","formControlName","descripcion",1,"form-control","mt-2","text-center"],["type","number","placeholder","precio de compra","formControlName","precioCompra",1,"form-control","mt-2","text-center"],["type","number","placeholder","precio de venta","formControlName","precio",1,"form-control","mt-2","text-center"],["type","text","placeholder","url de imagen","formControlName","imagenes",1,"form-control","mt-2","text-center",3,"ngModel","ngModelChange"],["type","number","placeholder","Disponible","formControlName","disponible",1,"form-control","mt-2","text-center"],[2,"display","flex","gap","11px","margin","14px 0 0 0","justify-content","center"],["routerLink","/info-product",1,"btn","btn-danger"],["type","submit",1,"btn","btn-success",3,"click"],["style","color: red",4,"ngIf"],[2,"color","red"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"div")(2,"h2"),c._uU(3),c.qZA()(),c.TgZ(4,"div")(5,"form",1),c.NdJ("ngSubmit",function(){return i.agregarEditarProducto()}),c.TgZ(6,"div",2)(7,"div",3)(8,"label"),c._uU(9,"* Nombre "),c._UZ(10,"input",4),c.qZA()(),c.TgZ(11,"div",3)(12,"label"),c._uU(13,"Descripci\xf3n "),c._UZ(14,"input",5),c.qZA()(),c.TgZ(15,"div",3)(16,"label"),c._uU(17,"* Precio de compra "),c._UZ(18,"input",6),c.qZA()(),c.TgZ(19,"div",3)(20,"label"),c._uU(21,"* Precio de venta "),c._UZ(22,"input",7),c.qZA()(),c.TgZ(23,"div",3)(24,"label"),c._uU(25,"Imagen "),c.TgZ(26,"input",8),c.NdJ("ngModelChange",function(a){return i.urlImagen=a}),c.qZA()()(),c.TgZ(27,"div",3)(28,"label"),c._uU(29,"* Disponible "),c._UZ(30,"input",9),c.qZA()(),c.TgZ(31,"div",10)(32,"div",3)(33,"button",11),c._uU(34," Volver "),c.qZA()(),c.TgZ(35,"div",3)(36,"button",12),c.NdJ("click",function(){return i.verificar()}),c._uU(37," Aceptar "),c.qZA()()(),c.YNc(38,mU,2,0,"div",13),c.qZA()()()()),2&t&&(c.xp6(3),c.Oqu(i.titleChange),c.xp6(2),c.Q6J("formGroup",i.createProduct),c.xp6(21),c.Q6J("ngModel",i.urlImagen),c.xp6(12),c.Q6J("ngIf",i.subbmited&&i.createProduct.invalid))},dependencies:[xn,Rh,gh,Qs,Cc,rp,sh,gl,Ji]}),n})();function gU(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",15)(1,"div",16)(2,"p"),c._uU(3,"\xbfestas seguro que deseas eliminar este producto?"),c.qZA(),c.TgZ(4,"div",17)(5,"button",18),c.NdJ("click",function(){c.CHM(t);const r=c.oxw(2);return c.KtG(r.cerrarModalEliminar())}),c._uU(6," Cerrar "),c.qZA(),c.TgZ(7,"button",19),c.NdJ("click",function(){c.CHM(t);const r=c.oxw(2);return c.KtG(r.eliminarProducto2())}),c._uU(8," Eliminar "),c.qZA()()()()}}const _U=function(n){return["/edit-product/",n]};function yU(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"tr")(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.qZA(),c.TgZ(5,"td"),c._uU(6),c.qZA(),c.TgZ(7,"td"),c._UZ(8,"img",9),c.qZA(),c.TgZ(9,"td"),c._uU(10),c.qZA(),c.TgZ(11,"td"),c._uU(12),c.qZA(),c.TgZ(13,"td",10)(14,"div",11)(15,"div"),c._UZ(16,"i",12),c.qZA(),c.TgZ(17,"div")(18,"i",13),c.NdJ("click",function(){const a=c.CHM(t).$implicit,u=c.oxw();return c.KtG(u.abrirModalEliminar(a.id))}),c.qZA(),c.YNc(19,gU,9,0,"div",14),c.qZA()()()()}if(2&n){const t=e.$implicit,i=c.oxw();c.xp6(2),c.Oqu(t.nombre),c.xp6(2),c.Oqu(t.descripcion),c.xp6(2),c.Oqu(t.disponible),c.xp6(2),c.Q6J("src",t.imagenes,c.LSH),c.xp6(2),c.Oqu(t.precioCompra),c.xp6(2),c.Oqu(t.precio),c.xp6(4),c.Q6J("routerLink",c.VKq(8,_U,t.id)),c.xp6(3),c.Q6J("ngIf",i.modalActivoEliminar)}}function vU(n,e){1&n&&(c.TgZ(0,"p"),c._uU(1,"No hay productos seleccionados"),c.qZA())}let bU=(()=>{class n{constructor(t,i){this._productService=t,this.toastr=i,this.products=[],this.modalActivoEliminar=!1}ngOnInit(){this.getProducts()}getProducts(){this._productService.getProducts().subscribe(t=>{this.products=[],t.forEach(i=>{this.products.push({id:i.payload.doc.id,...i.payload.doc.data()})})})}abrirModalEliminar(t){this.idObtenido=t,this.modalActivoEliminar=!0}cerrarModalEliminar(){this.modalActivoEliminar=!1}eliminarProducto2(){console.log(this.idObtenido),this._productService.deleteProducts(this.idObtenido).then(()=>{this.modalActivoEliminar=!1,this.toastr.error("El producto fue eliminado con exito","Producto eliminado"),console.log("deleted...")})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(sR),c.Y36(q0))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-info-product"]],decls:31,vars:2,consts:[[2,"margin","6px 6px 12px 6px"],[2,"display","flex","justify-content","space-between"],[1,"float"],["routerLink","/create-product",1,"btn","btn-dark","btn-lg"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[4,"ngIf"],["routerLink","/",1,"btn","btn-danger"],["width","50","height","50","alt","url no valida",3,"src"],[2,"width","85px"],[2,"display","flex","justify-content","space-evenly"],[1,"fas","fa-edit","fa-lg","text-info",2,"cursor","pointer",3,"routerLink"],[1,"fas","fa-trash-alt","fa-lg","text-danger",2,"cursor","pointer",3,"click"],["class","modal",4,"ngIf"],[1,"modal"],[1,"contenido-modal"],[1,"botones",2,"display","flex","gap","8px","justify-content","center"],[1,"btn","btn-danger",2,"background-color","blue",3,"click"],["type","button",1,"btn","btn-success",2,"background-color","red",3,"click"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"H3"),c._uU(4,"LISTA DE PRODUCTOS"),c.qZA()(),c.TgZ(5,"div",2)(6,"button",3),c._uU(7," Agregar nuevo producto "),c.qZA()()()(),c.TgZ(8,"table",4)(9,"thead")(10,"tr")(11,"th",5),c._uU(12,"Nombre"),c.qZA(),c.TgZ(13,"th",5),c._uU(14,"Descripcion"),c.qZA(),c.TgZ(15,"th",5),c._uU(16,"Disponible"),c.qZA(),c.TgZ(17,"th",5),c._uU(18,"URL imagen"),c.qZA(),c.TgZ(19,"th",5),c._uU(20,"Precio compra"),c.qZA(),c.TgZ(21,"th",5),c._uU(22,"Precio venta"),c.qZA(),c.TgZ(23,"th",5),c._uU(24,"Acciones"),c.qZA()()(),c.TgZ(25,"tbody"),c.YNc(26,yU,20,10,"tr",6),c.qZA(),c.YNc(27,vU,2,0,"p",7),c.qZA(),c.TgZ(28,"div",0)(29,"button",8),c._uU(30,"Volver"),c.qZA()()),2&t&&(c.xp6(26),c.Q6J("ngForOf",i.products),c.xp6(1),c.Q6J("ngIf",0==i.products.length))},dependencies:[yn,xn,Rh],styles:[".modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0000001a;display:flex;justify-content:center;align-items:center;z-index:100}.contenido-modal[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a;display:flex;flex-direction:column;align-items:center}"]}),n})();function wU(n,e){if(1&n&&(c.TgZ(0,"tr")(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.qZA(),c.TgZ(5,"td"),c._uU(6),c.ALo(7,"currency"),c.qZA()()),2&n){const t=e.$implicit,i=c.oxw();c.xp6(2),c.hij(" ",t.fechaCreacion," "),c.xp6(2),c.hij(" ",i.countOccurrences(t.nombre).join(", ")," "),c.xp6(2),c.hij(" $",c.gM2(7,3,t.total," ","symbol","1.0")," ")}}const EU=[{path:"",redirectTo:"list-products",pathMatch:"full"},{path:"list-products",component:pU},{path:"create-product",component:I1},{path:"edit-product/:id",component:I1},{path:"info-product",component:bU},{path:"reportes",component:(()=>{class n{constructor(t){this._reportes=t,this.reportes=[],this.reports=[],this.totalVentas=0,this.gananciaObtenida=0}ngOnInit(){this.obtReportes()}obtReportes(){this._reportes.obtReports().subscribe(t=>{t.forEach(u=>{this.reportes.push({id:u.payload.doc.id,...u.payload.doc.data()})});let i=this.reportes.reduce((u,f)=>u+f.total,0);this.totalVentas=i;const a=this.reportes.map(u=>u.precioCompra).reduce((u,f)=>u.concat(f),[]).reduce((u,f)=>u+f,0);this.gananciaObtenida=i-a,console.log(this.gananciaObtenida);for(const u of this.reportes){const f=u.fechaCreacion,I=new Date(1e3*f.seconds+f.nanoseconds/1e6).toLocaleString();u.fechaCreacion=I}})}joinArray(t,i){return t.join(i)}countOccurrences(t){const i=[],r={};for(const a of t)a in r?r[a]+=1:r[a]=1;for(const[a,u]of Object.entries(r))i.push(`${a}${u>1?" x"+u:""}`);return i}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(g1))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-reportes"]],decls:28,vars:13,consts:[[2,"margin","6px"],[1,"table","table-striped"],[1,"col"],[4,"ngFor","ngForOf"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"div")(2,"h3"),c._uU(3,"REPORTES"),c.qZA()(),c.TgZ(4,"table",1)(5,"thead")(6,"th",2),c._uU(7,"Fecha"),c.qZA(),c.TgZ(8,"th",2),c._uU(9,"Nombre"),c.qZA(),c.TgZ(10,"th",2),c._uU(11,"Total"),c.qZA()(),c.TgZ(12,"tbody"),c.YNc(13,wU,8,8,"tr",3),c.qZA()(),c.TgZ(14,"table",1)(15,"thead")(16,"th",2),c._uU(17,"Ganacia Obtenida"),c.qZA(),c.TgZ(18,"th",2),c._uU(19,"Total ventas"),c.qZA()(),c.TgZ(20,"tbody")(21,"tr")(22,"td"),c._uU(23),c.ALo(24,"currency"),c.qZA(),c.TgZ(25,"td"),c._uU(26),c.ALo(27,"currency"),c.qZA()()()()()),2&t&&(c.xp6(13),c.Q6J("ngForOf",i.reportes),c.xp6(10),c.hij("$",c.gM2(24,3,i.gananciaObtenida," ","symbol","1.0"),""),c.xp6(3),c.hij("$",c.gM2(27,8,i.totalVentas," ","symbol","1.0"),""))},dependencies:[yn,ql]}),n})()}];let aR,CU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[kb.forRoot(EU),kb]}),n})();try{aR=typeof Intl<"u"&&Intl.v8BreakIterator}catch{aR=!1}let W0,nT,lg,lR,Pa=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Ff(n){return n===Zl}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!aR)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tT(n){return function IU(){if(null==W0&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>W0=!0}))}finally{W0=W0||!1}return W0}()?n:!!n.capture}function T1(){if(null==lg){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return lg=!1,lg;if("scrollBehavior"in document.documentElement.style)lg=!0;else{const n=Element.prototype.scrollTo;lg=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return lg}function Z0(){if("object"!=typeof document||!document)return 0;if(null==nT){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),nT=0,0===n.scrollLeft&&(n.scrollLeft=1,nT=0===n.scrollLeft?1:2),n.remove()}return nT}function cg(n){return n.composedPath?n.composedPath()[0]:n.target}function cR(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var zU=P(5032);function ns(n){return(0,ii.e)((e,t)=>{(0,Ar.Xf)(n).subscribe((0,$t.x)(t,()=>t.complete(),zU.Z)),!t.closed&&e.subscribe(t)})}function ho(n){return null!=n&&"false"!=`${n}`}function R1(n,e=0){return function GU(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function k1(n){return Array.isArray(n)?n:[n]}function or(n){return null==n?"":"string"==typeof n?n:`${n}px`}function wv(n){return n instanceof c.SBq?n.nativeElement:n}let N1=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function QU(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function YU(n){try{return n.frameElement}catch{return null}}(function sH(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===L1(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),a=L1(t);return t.hasAttribute("contenteditable")?-1!==a:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function iH(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==a:"video"===r?-1!==a&&(null!==a||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function rH(n){return!function JU(n){return function tH(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function XU(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function eH(n){return function nH(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||F1(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Pa))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function F1(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function L1(n){if(!F1(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class oH{constructor(e,t,i,r,a=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(ma(1)).subscribe(e)}}let aH=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new oH(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(N1),c.LFG(c.R0b),c.LFG(ne))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function V1(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function B1(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const lH=new c.OlP("cdk-input-modality-detector-options"),cH={ignoreKeys:[18,17,224,91,16]},Ev=tT({passive:!0,capture:!0});let uH=(()=>{class n{constructor(t,i,r,a){this._platform=t,this._mostRecentTarget=null,this._modality=new io(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(f=>f===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=cg(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(V1(u)?"keyboard":"mouse"),this._mostRecentTarget=cg(u))},this._onTouchstart=u=>{B1(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=cg(u))},this._options={...cH,...a},this.modalityDetected=this._modality.pipe(function $U(n){return ri((e,t)=>n<=t)}(1)),this.modalityChanged=this.modalityDetected.pipe(Ob()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Ev),r.addEventListener("mousedown",this._onMousedown,Ev),r.addEventListener("touchstart",this._onTouchstart,Ev)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ev),document.removeEventListener("mousedown",this._onMousedown,Ev),document.removeEventListener("touchstart",this._onTouchstart,Ev))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Pa),c.LFG(c.R0b),c.LFG(ne),c.LFG(lH,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hH=new c.OlP("cdk-focus-monitor-default-options"),rT=tT({passive:!0,capture:!0});let H1=(()=>{class n{constructor(t,i,r,a,u){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Xt.x,this._rootNodeFocusAndBlurListener=f=>{const _=cg(f),w="focus"===f.type?this._onFocus:this._onBlur;for(let I=_;I;I=I.parentElement)w.call(this,f,I)},this._document=a,this._detectionMode=u?.detectionMode||0}monitor(t,i=!1){const r=wv(t);if(!this._platform.isBrowser||1!==r.nodeType)return ct(null);const a=function TU(n){if(function DU(){if(null==lR){const n=typeof document<"u"?document.head:null;lR=!(!n||!n.createShadowRoot&&!n.attachShadow)}return lR}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const f={checkChildren:i,subject:new Xt.x,rootNode:a};return this._elementInfo.set(r,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const i=wv(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const a=wv(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([f,_])=>this._originChanged(f,i,_)):(this._setOrigin(i),"function"==typeof a.focus&&a.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),a=cg(t);!r||!r.checkChildren&&i!==a||this._originChanged(i,this._getFocusOrigin(a),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(t,i){this._ngZone.run(()=>t.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,rT),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,rT)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ns(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,rT),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,rT),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,a)=>{(a===t||r.checkChildren&&a.contains(t))&&i.push([a,r])}),i}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(Pa),c.LFG(uH),c.LFG(ne,8),c.LFG(hH,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const j1="cdk-high-contrast-black-on-white",$1="cdk-high-contrast-white-on-black",uR="cdk-high-contrast-active";let fH=(()=>{class n{constructor(t,i){this._platform=t,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,a=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(uR),t.remove(j1),t.remove($1),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(t.add(uR),t.add(j1)):2===i&&(t.add(uR),t.add($1))}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Pa),c.LFG(ne))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const pH=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function mH(){return(0,c.f3M)(ne)}}),gH=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let dR=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new c.vpe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function _H(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?gH.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(pH,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),K0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const vH=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function yH(){return!0}});let is=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!cR()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fH),c.LFG(vH,8),c.LFG(ne))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[K0],K0]}),n})();function bH(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=ho(e)}}}function q1(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function sT(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=ho(e)}}}let W1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function Y0(n,e,t){n.nativeElement.classList.toggle(e,t)}let K1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[is],is]}),n})();class EH{constructor(e,t,i){this._renderer=e,this.element=t,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Y1={enterDuration:225,exitDuration:150},hR=tT({passive:!0}),Q1=["mousedown","touchstart"],X1=["mouseup","mouseleave","touchend","touchcancel"];class IH{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=wv(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...Y1,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const u=i.radius||function TH(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),f=e-r.left,_=t-r.top,w=a.enterDuration,I=document.createElement("div");I.classList.add("mat-ripple-element"),I.style.left=f-u+"px",I.style.top=_-u+"px",I.style.height=2*u+"px",I.style.width=2*u+"px",null!=i.color&&(I.style.backgroundColor=i.color),I.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(I),function DH(n){window.getComputedStyle(n).getPropertyValue("opacity")}(I),I.style.transform="scale(1)";const A=new EH(this,I,i);return A.state=0,this._activeRipples.add(A),i.persistent||(this._mostRecentTransientRipple=A),this._runTimeoutOutsideZone(()=>{const F=A===this._mostRecentTransientRipple;A.state=1,!i.persistent&&(!F||!this._isPointerDown)&&A.fadeOut()},w),A}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const i=e.element,r={...Y1,...e.config.animation};i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=wv(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(Q1))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(X1),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=V1(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!B1(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,hR)})})}_removeTriggerEvents(){this._triggerElement&&(Q1.forEach(e=>{this._triggerElement.removeEventListener(e,this,hR)}),this._pointerUpEventsRegistered&&X1.forEach(e=>{this._triggerElement.removeEventListener(e,this,hR)}))}}const SH=new c.OlP("mat-ripple-global-options");let J1=(()=>{class n{constructor(t,i,r,a,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new IH(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(Pa),c.Y36(SH,8),c.Y36(c.QbO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),eN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[is],is]}),n})(),tN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[is]]}),n})();const MH=["*",[["mat-toolbar-row"]]],xH=["*","mat-toolbar-row"],RH=q1(class{constructor(n){this._elementRef=n}});let kH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),OH=(()=>{class n extends RH{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Pa),c.Y36(ne))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(1&t&&c.Suo(r,kH,5),2&t){let a;c.iGM(a=c.CRH())&&(i._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&c.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[c.qOj],ngContentSelectors:xH,decls:2,vars:0,template:function(t,i){1&t&&(c.F$t(MH),c.Hsn(0),c.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),nN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[is],is]}),n})();class PH{}class If{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),a=r.toLowerCase(),u=t.slice(i+1).trim();this.maybeSetNormalizedName(r,a),this.headers.has(a)?this.headers.get(a).push(u):this.headers.set(a,[u])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof If?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new If;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof If?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const a=e.value;if(a){let u=this.headers.get(t);if(!u)return;u=u.filter(f=>-1===a.indexOf(f)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class NH{encodeKey(e){return iN(e)}encodeValue(e){return iN(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const LH=/%(\d[a-f0-9])/gi,VH={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function iN(n){return encodeURIComponent(n).replace(LH,(e,t)=>VH[t]??e)}function oT(n){return`${n}`}class Df{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new NH,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function FH(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const a=r.indexOf("="),[u,f]=-1==a?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,a)),e.decodeValue(r.slice(a+1))],_=t.get(u)||[];_.push(f),t.set(u,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(oT):[oT(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(a=>{t.push({param:i,value:a,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Df({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(oT(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(oT(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class BH{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function rN(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function sN(n){return typeof Blob<"u"&&n instanceof Blob}function oN(n){return typeof FormData<"u"&&n instanceof FormData}class Q0{constructor(e,t,i,r){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function UH(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,a=r):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new If),this.context||(this.context=new BH),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+u}}else this.params=new Df,this.urlWithParams=t}serializeBody(){return null===this.body?null:rN(this.body)||sN(this.body)||oN(this.body)||function HH(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Df?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||oN(this.body)?null:sN(this.body)?this.body.type||null:rN(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Df?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let _=e.headers||this.headers,w=e.params||this.params;const I=e.context??this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((A,F)=>A.set(F,e.setHeaders[F]),_)),e.setParams&&(w=Object.keys(e.setParams).reduce((A,F)=>A.set(F,e.setParams[F]),w)),new Q0(t,i,a,{params:w,headers:_,context:I,reportProgress:f,responseType:r,withCredentials:u})}}var rs=(()=>((rs=rs||{})[rs.Sent=0]="Sent",rs[rs.UploadProgress=1]="UploadProgress",rs[rs.ResponseHeader=2]="ResponseHeader",rs[rs.DownloadProgress=3]="DownloadProgress",rs[rs.Response=4]="Response",rs[rs.User=5]="User",rs))();class fR extends class jH{constructor(e,t=200,i="OK"){this.headers=e.headers||new If,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=rs.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new fR({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function pR(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let lN=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let a;if(t instanceof Q0)a=t;else{let _,w;_=r.headers instanceof If?r.headers:new If(r.headers),r.params&&(w=r.params instanceof Df?r.params:new Df({fromObject:r.params})),a=new Q0(t,i,void 0!==r.body?r.body:null,{headers:_,context:r.context,params:w,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=ct(a).pipe(bl(_=>this.handler.handle(_)));if(t instanceof Q0||"events"===r.observe)return u;const f=u.pipe(ri(_=>_ instanceof fR));switch(r.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,ft.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return f.pipe((0,ft.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return f.pipe((0,ft.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return f.pipe((0,ft.U)(_=>_.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Df).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,pR(r,i))}post(t,i,r={}){return this.request("POST",t,pR(r,i))}put(t,i,r={}){return this.request("PUT",t,pR(r,i))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(PH))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const zH=["*"];let aT;function X0(n){return function GH(){if(void 0===aT&&(aT=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(aT=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return aT}()?.createHTML(n)||n}function cN(n){return Error(`Unable to find icon with the name "${n}"`)}function uN(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function dN(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class ug{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let lT=(()=>{class n{constructor(t,i,r,a){this._httpClient=t,this._sanitizer=i,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,a){return this._addSvgIconConfig(t,i,new ug(r,null,a))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,a){const u=this._sanitizer.sanitize(c.q3G.HTML,r);if(!u)throw dN(r);const f=X0(u);return this._addSvgIconConfig(t,i,new ug("",f,a))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new ug(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const a=this._sanitizer.sanitize(c.q3G.HTML,i);if(!a)throw dN(i);const u=X0(a);return this._addSvgIconSetConfig(t,new ug("",u,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,t);if(!i)throw uN(t);const r=this._cachedIconsByUrl.get(i);return r?ct(cT(r)):this._loadSvgIconFromConfig(new ug(t,null)).pipe((0,Zn.b)(a=>this._cachedIconsByUrl.set(i,a)),(0,ft.U)(a=>cT(a)))}getNamedSvgIcon(t,i=""){const r=hN(i,t);let a=this._svgIconConfigs.get(r);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(i,t),a)return this._svgIconConfigs.set(r,a),this._getSvgFromConfig(a);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(t,u):Dc(cN(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?ct(cT(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,ft.U)(i=>cT(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?ct(r):yc(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(wl(f=>{const w=`Loading icon set URL: ${this._sanitizer.sanitize(c.q3G.RESOURCE_URL,u.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(w)),ct(null)})))).pipe((0,ft.U)(()=>{const u=this._extractIconWithNameFromAnySet(t,i);if(!u)throw cN(t);return u}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const a=i[r];if(a.svgText&&a.svgText.toString().indexOf(t)>-1){const u=this._svgElementFromConfig(a),f=this._extractSvgIconFromSet(u,t,a.options);if(f)return f}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,Zn.b)(i=>t.svgText=i),(0,ft.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?ct(null):this._fetchIcon(t).pipe((0,Zn.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const a=t.querySelector(`[id="${i}"]`);if(!a)return null;const u=a.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const f=this._svgElementFromString(X0("<svg></svg>"));return f.appendChild(u),this._setSvgAttributes(f,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(X0("<svg></svg>")),r=t.attributes;for(let a=0;a<r.length;a++){const{name:u,value:f}=r[a];"id"!==u&&i.setAttribute(u,f)}for(let a=0;a<t.childNodes.length;a++)t.childNodes[a].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[a].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,a=r?.withCredentials??!1;if(!this._httpClient)throw function qH(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const u=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,i);if(!u)throw uN(i);const f=this._inProgressUrlFetches.get(u);if(f)return f;const _=this._httpClient.get(u,{responseType:"text",withCredentials:a}).pipe((0,ft.U)(w=>X0(w)),e_(()=>this._inProgressUrlFetches.delete(u)),(0,xP.B)());return this._inProgressUrlFetches.set(u,_),_}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(hN(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const a=this._resolvers[r](i,t);if(a)return ZH(a)?new ug(a.url,null,a.options):new ug(a,null)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(lN,8),c.LFG(sl),c.LFG(ne,8),c.LFG(c.qLn))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function cT(n){return n.cloneNode(!0)}function hN(n,e){return n+":"+e}function ZH(n){return!(!n.url||!n.options)}const KH=q1(class{constructor(n){this._elementRef=n}}),YH=new c.OlP("mat-icon-location",{providedIn:"root",factory:function QH(){const n=(0,c.f3M)(ne),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),fN=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],XH=fN.map(n=>`[${n}]`).join(", "),JH=/^url\(['"]?#(.*?)['"]?\)$/;let ej=(()=>{class n extends KH{constructor(t,i,r,a,u){super(t),this._iconRegistry=i,this._location=a,this._errorHandler=u,this._inline=!1,this._currentIconFetch=Sc.w0.EMPTY,r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=ho(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),i&&t.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,a)=>{r.forEach(u=>{a.setAttribute(u.name,`url('${t}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(XH),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<i.length;a++)fN.forEach(u=>{const f=i[a],_=f.getAttribute(u),w=_?_.match(JH):null;if(w){let I=r.get(f);I||(I=[],r.set(f,I)),I.push({name:u,value:w[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(ma(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${a.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(lT),c.$8M("aria-hidden"),c.Y36(YH),c.Y36(c.qLn))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,i){2&t&&(c.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),c.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[c.qOj],ngContentSelectors:zH,decls:1,vars:0,template:function(t,i){1&t&&(c.F$t(),c.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),tj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[is],is]}),n})();var nj=P(1144);const ij=["addListener","removeListener"],rj=["addEventListener","removeEventListener"],sj=["on","off"];function J0(n,e,t,i){if((0,pa.m)(t)&&(i=t,t=void 0),i)return J0(n,e,t).pipe(Ps(i));const[r,a]=function lj(n){return(0,pa.m)(n.addEventListener)&&(0,pa.m)(n.removeEventListener)}(n)?rj.map(u=>f=>n[u](e,f,t)):function oj(n){return(0,pa.m)(n.addListener)&&(0,pa.m)(n.removeListener)}(n)?ij.map(pN(n,e)):function aj(n){return(0,pa.m)(n.on)&&(0,pa.m)(n.off)}(n)?sj.map(pN(n,e)):[];if(!r&&(0,nj.z)(n))return(0,mi.z)(u=>J0(u,e,t))((0,Ar.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new ti.y(u=>{const f=(..._)=>u.next(1<_.length?_:_[0]);return r(f),()=>a(f)})}function pN(n,e){return t=>i=>n[t](e,i)}var mN=P(4408);const eE={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=eE;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(a=>{t=void 0,n(a)});return new Sc.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=eE;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=eE;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var gN=P(7565);new class uj extends gN.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class cj extends mN.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=eE.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:a}=e;null!=t&&(null===(r=a[a.length-1])||void 0===r?void 0:r.id)!==t&&(eE.cancelAnimationFrame(t),e._scheduled=void 0)}});let mR,hj=1;const uT={};function _N(n){return n in uT&&(delete uT[n],!0)}const fj={setImmediate(n){const e=hj++;return uT[e]=!0,mR||(mR=Promise.resolve()),mR.then(()=>_N(e)&&n()),e},clearImmediate(n){_N(n)}},{setImmediate:pj,clearImmediate:mj}=fj,dT={setImmediate(...n){const{delegate:e}=dT;return(e?.setImmediate||pj)(...n)},clearImmediate(n){const{delegate:e}=dT;return(e?.clearImmediate||mj)(n)},delegate:void 0};new class _j extends gN.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class gj extends mN.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=dT.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:a}=e;null!=t&&(null===(r=a[a.length-1])||void 0===r?void 0:r.id)!==t&&(dT.clearImmediate(t),e._scheduled=void 0)}});var bj=P(3532);function yN(n,e=em.z){return function vj(n){return(0,ii.e)((e,t)=>{let i=!1,r=null,a=null,u=!1;const f=()=>{if(a?.unsubscribe(),a=null,i){i=!1;const w=r;r=null,t.next(w)}u&&t.complete()},_=()=>{a=null,u&&t.complete()};e.subscribe((0,$t.x)(t,w=>{i=!0,r=w,a||(0,Ar.Xf)(n(w)).subscribe(a=(0,$t.x)(t,f,_))},()=>{u=!0,(!i||!a||a.closed)&&t.complete()}))})}(()=>function Ej(n=0,e,t=em.P){let i=-1;return null!=e&&((0,bj.K)(e)?t=e:i=e),new ti.y(r=>{let a=function wj(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let u=0;return t.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},a)})}(n,e))}let hT=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Xt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new ti.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(yN(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ct()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(ri(a=>!a||r.indexOf(a)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,a)=>{this._scrollableContainsElement(a,t)&&i.push(a)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=wv(i),a=t.getElementRef().nativeElement;do{if(r==a)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>J0(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(Pa),c.LFG(ne,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tE=(()=>{class n{constructor(t,i,r,a){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=a,this._destroyed=new Xt.x,this._elementScrolled=new ti.y(u=>this.ngZone.runOutsideAngular(()=>J0(this.elementRef.nativeElement,"scroll").pipe(ns(this._destroyed)).subscribe(u)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=Z0()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==Z0()?t.left=t.right:1==Z0()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;T1()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",r="right",a=this.elementRef.nativeElement;if("top"==t)return a.scrollTop;if("bottom"==t)return a.scrollHeight-a.clientHeight-a.scrollTop;const u=this.dir&&"rtl"==this.dir.value;return"start"==t?t=u?r:i:"end"==t&&(t=u?i:r),u&&2==Z0()?t==i?a.scrollWidth-a.clientWidth-a.scrollLeft:a.scrollLeft:u&&1==Z0()?t==i?a.scrollLeft+a.scrollWidth-a.clientWidth:-a.scrollLeft:t==i?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(hT),c.Y36(c.R0b),c.Y36(dR,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),gR=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Xt.x,this._changeListener=a=>{this._change.next(a)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,a=r.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-a.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(yN(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Pa),c.LFG(c.R0b),c.LFG(ne,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),vN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[K0,nE],K0,nE]}),n})();const fT=["*"],Dj=["content"];function Tj(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",2),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r._onBackdropClicked())}),c.qZA()}if(2&n){const t=c.oxw();c.ekj("mat-drawer-shown",t._isShowingBackdrop())}}function Sj(n,e){1&n&&(c.TgZ(0,"mat-drawer-content"),c.Hsn(1,2),c.qZA())}const Aj=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Mj=["mat-drawer","mat-drawer-content","*"];function xj(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",2),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r._onBackdropClicked())}),c.qZA()}if(2&n){const t=c.oxw();c.ekj("mat-drawer-shown",t._isShowingBackdrop())}}function Rj(n,e){1&n&&(c.TgZ(0,"mat-sidenav-content"),c.Hsn(1,2),c.qZA())}const kj=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],Oj=["mat-sidenav","mat-sidenav-content","*"],bN={transformDrawer:JD("transform",[og("open, open-instant",Oa({transform:"none",visibility:"visible"})),og("void",Oa({"box-shadow":"none",visibility:"hidden"})),ag("void => open-instant",sg("0ms")),ag("void <=> open, open-instant => void",sg("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Nj=new c.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function Fj(){return!1}}),_R=new c.OlP("MAT_DRAWER_CONTAINER");let pT=(()=>{class n extends tE{constructor(t,i,r,a,u){super(r,a,u),this._changeDetectorRef=t,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO),c.Y36((0,c.Gpc)(()=>EN)),c.Y36(c.SBq),c.Y36(hT),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,i){2&t&&c.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[c._Bn([{provide:tE,useExisting:n}]),c.qOj],ngContentSelectors:fT,decls:1,vars:0,template:function(t,i){1&t&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),wN=(()=>{class n{constructor(t,i,r,a,u,f,_,w){this._elementRef=t,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=a,this._ngZone=u,this._interactivityChecker=f,this._doc=_,this._container=w,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Xt.x,this._animationEnd=new Xt.x,this._animationState="void",this.openedChange=new c.vpe(!0),this._openedStream=this.openedChange.pipe(ri(I=>I),(0,ft.U)(()=>{})),this.openedStart=this._animationStarted.pipe(ri(I=>I.fromState!==I.toState&&0===I.toState.indexOf("open")),Jg(void 0)),this._closedStream=this.openedChange.pipe(ri(I=>!I),(0,ft.U)(()=>{})),this.closedStart=this._animationStarted.pipe(ri(I=>I.fromState!==I.toState&&"void"===I.toState),Jg(void 0)),this._destroyed=new Xt.x,this.onPositionChanged=new c.vpe,this._modeChanged=new Xt.x,this.openedChange.subscribe(I=>{I?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{J0(this._elementRef.nativeElement,"keydown").pipe(ri(I=>27===I.keyCode&&!this.disableClose&&!function iT(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(I)),ns(this._destroyed)).subscribe(I=>this._ngZone.run(()=>{this.close(),I.stopPropagation(),I.preventDefault()}))}),this._animationEnd.pipe(Ob((I,A)=>I.fromState===A.fromState&&I.toState===A.toState)).subscribe(I=>{const{fromState:A,toState:F}=I;(0===F.indexOf("open")&&"void"===A||"void"===F&&0===A.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=ho(t)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=ho(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(ho(t))}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,i){t&&i&&(this._openedVia=i);const r=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),r}_setOpen(t,i,r){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(a=>{this.openedChange.pipe(ma(1)).subscribe(u=>a(u?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(t){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(aH),c.Y36(H1),c.Y36(Pa),c.Y36(c.R0b),c.Y36(N1),c.Y36(ne,8),c.Y36(_R,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(t,i){if(1&t&&c.Gf(Dj,5),2&t){let r;c.iGM(r=c.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,i){1&t&&c.WFA("@transform.start",function(a){return i._animationStarted.next(a)})("@transform.done",function(a){return i._animationEnd.next(a)}),2&t&&(c.uIk("align",null),c.d8E("@transform",i._animationState),c.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:fT,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"div",0,1),c.Hsn(2),c.qZA())},dependencies:[tE],encapsulation:2,data:{animation:[bN.transformDrawer]},changeDetection:0}),n})(),EN=(()=>{class n{constructor(t,i,r,a,u,f=!1,_){this._dir=t,this._element=i,this._ngZone=r,this._changeDetectorRef=a,this._animationMode=_,this._drawers=new c.n_E,this.backdropClick=new c.vpe,this._destroyed=new Xt.x,this._doCheckSubject=new Xt.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Xt.x,t&&t.change.pipe(ns(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),u.change().pipe(ns(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=f}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=ho(t)}get hasBackdrop(){return this._backdropOverride??(!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode)}set hasBackdrop(t){this._backdropOverride=null==t?null:ho(t)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(ga(this._allDrawers),ns(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(ga(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(function x1(n,e=em.z){return(0,ii.e)((t,i)=>{let r=null,a=null,u=null;const f=()=>{if(r){r.unsubscribe(),r=null;const w=a;a=null,i.next(w)}};function _(){const w=u+n,I=e.now();if(I<w)return r=this.schedule(void 0,w-I),void i.add(r);f()}t.subscribe((0,$t.x)(i,w=>{a=w,u=e.now(),r||(r=e.schedule(_,n),i.add(r))},()=>{f(),i.complete()},void 0,()=>{a=r=null}))})}(10),ns(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();t+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,t-=r}t=t||null,i=i||null,(t!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:t,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(ri(i=>i.fromState!==i.toState),ns(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(ns(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){!t||t.onPositionChanged.pipe(ns(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(ma(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(ns((0,kx.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";t?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(dR,8),c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(c.sBO),c.Y36(gR),c.Y36(Nj),c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,pT,5),c.Suo(r,wN,5)),2&t){let a;c.iGM(a=c.CRH())&&(i._content=a.first),c.iGM(a=c.CRH())&&(i._allDrawers=a)}},viewQuery:function(t,i){if(1&t&&c.Gf(pT,5),2&t){let r;c.iGM(r=c.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[c._Bn([{provide:_R,useExisting:n}])],ngContentSelectors:Mj,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){1&t&&(c.F$t(Aj),c.YNc(0,Tj,1,2,"div",0),c.Hsn(1),c.Hsn(2,1),c.YNc(3,Sj,2,0,"mat-drawer-content",1)),2&t&&(c.Q6J("ngIf",i.hasBackdrop),c.xp6(3),c.Q6J("ngIf",!i._content))},dependencies:[pT,xn],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),n})(),CN=(()=>{class n extends pT{constructor(t,i,r,a,u){super(t,i,r,a,u)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO),c.Y36((0,c.Gpc)(()=>DN)),c.Y36(c.SBq),c.Y36(hT),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(t,i){2&t&&c.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[c._Bn([{provide:tE,useExisting:n}]),c.qOj],ngContentSelectors:fT,decls:1,vars:0,template:function(t,i){1&t&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),IN=(()=>{class n extends wN{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=ho(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=R1(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=R1(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(t,i){2&t&&(c.uIk("align",null),c.Udp("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),c.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[c.qOj],ngContentSelectors:fT,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"div",0,1),c.Hsn(2),c.qZA())},dependencies:[tE],encapsulation:2,data:{animation:[bN.transformDrawer]},changeDetection:0}),n})(),DN=(()=>{class n extends EN{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,CN,5),c.Suo(r,IN,5)),2&t){let a;c.iGM(a=c.CRH())&&(i._content=a.first),c.iGM(a=c.CRH())&&(i._allDrawers=a)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[c._Bn([{provide:_R,useExisting:n}]),c.qOj],ngContentSelectors:Oj,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){1&t&&(c.F$t(kj),c.YNc(0,xj,1,2,"div",0),c.Hsn(1),c.Hsn(2,1),c.YNc(3,Rj,2,0,"mat-sidenav-content",1)),2&t&&(c.Q6J("ngIf",i.hasBackdrop),c.xp6(3),c.Q6J("ngIf",!i._content))},dependencies:[CN,xn],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),n})(),Lj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[po,is,nE],nE,is]}),n})(),Vj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[is],is]}),n})();const SN=["*"],Uj=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],Hj=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],qj=bH(sT(class{})),Wj=sT(class{}),Zj=new c.OlP("MatList"),AN=new c.OlP("MatNavList");let Kj=(()=>{class n extends qj{constructor(){super(...arguments),this._stateChanges=new Xt.x}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[c._Bn([{provide:AN,useExisting:n}]),c.qOj,c.TTD],ngContentSelectors:SN,decls:1,vars:0,template:function(t,i){1&t&&(c.F$t(),c.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),n})(),MN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),xN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})(),Yj=(()=>{class n extends Wj{constructor(t,i,r,a){super(),this._element=t,this._isInteractiveList=!1,this._destroyed=new Xt.x,this._disabled=!1,this._isInteractiveList=!!(r||a&&"action-list"===a._getListType()),this._list=r||a;const u=this._getHostElement();"button"===u.nodeName.toLowerCase()&&!u.hasAttribute("type")&&u.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(ns(this._destroyed)).subscribe(()=>{i.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(t){this._disabled=ho(t)}ngAfterContentInit(){!function Z1(n,e,t="mat"){n.changes.pipe(ga(n)).subscribe(({length:i})=>{Y0(e,`${t}-2-line`,!1),Y0(e,`${t}-3-line`,!1),Y0(e,`${t}-multi-line`,!1),2===i||3===i?Y0(e,`${t}-${i}-line`,!0):i>3&&Y0(e,`${t}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(AN,8),c.Y36(Zj,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,MN,5),c.Suo(r,xN,5),c.Suo(r,W1,5)),2&t){let a;c.iGM(a=c.CRH())&&(i._avatar=a.first),c.iGM(a=c.CRH())&&(i._icon=a.first),c.iGM(a=c.CRH())&&(i._lines=a)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(t,i){2&t&&c.ekj("mat-list-item-disabled",i.disabled)("mat-list-item-avatar",i._avatar||i._icon)("mat-list-item-with-avatar",i._avatar||i._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[c.qOj],ngContentSelectors:Hj,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(t,i){1&t&&(c.F$t(Uj),c.TgZ(0,"span",0),c._UZ(1,"span",1),c.Hsn(2),c.TgZ(3,"span",2),c.Hsn(4,1),c.qZA(),c.Hsn(5,2),c.qZA()),2&t&&(c.xp6(1),c.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i._isRippleDisabled()))},dependencies:[J1],encapsulation:2,changeDetection:0}),n})(),n$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[K1,eN,is,tN,po],K1,is,tN,Vj]}),n})();const i$=["drawer"];function r$(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",13)(1,"div",14)(2,"p"),c._uU(3,"App created by Edwin"),c.qZA(),c.TgZ(4,"p"),c._uU(5,"Todos los derechos reservados | \xa9 2023 "),c.qZA(),c.TgZ(6,"button",15),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.cerrar())}),c._uU(7,"cerrar"),c.qZA()()()}}let s$=(()=>{class n{constructor(){this.modal=!1,this.today=new Date}ngOnInit(){setInterval(()=>{this.today=new Date},1e3)}abrir(){this.modal=!0}cerrar(){this.modal=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-navbar"]],viewQuery:function(t,i){if(1&t&&c.Gf(i$,5),2&t){let r;c.iGM(r=c.CRH())&&(i.drawer=r.first)}},decls:23,vars:5,consts:[["color","warn"],["mat-icon-button","",2,"width","40px","height","38px",3,"click"],[2,"display","grid","font-size","26px","justify-content","center"],["routerLink","/",2,"padding-left","8px","cursor","pointer"],[2,"margin-left","10%"],[2,"height","91%"],["mode","over"],["drawer",""],["mat-list-item","","routerLink","/"],["mat-list-item","","routerLink","/info-product"],["mat-list-item","","routerLink","/reportes"],["mat-list-item","",3,"click"],["class","modal",4,"ngIf"],[1,"modal"],[1,"contenido-modal"],[3,"click"]],template:function(t,i){if(1&t){const r=c.EpF();c.TgZ(0,"mat-toolbar",0)(1,"button",1),c.NdJ("click",function(){c.CHM(r);const u=c.MAs(11);return c.KtG(u.toggle())}),c.TgZ(2,"mat-icon",2),c._uU(3,"menu"),c.qZA()(),c.TgZ(4,"span",3),c._uU(5,"LicorMania"),c.qZA(),c.TgZ(6,"span",4),c._uU(7),c.ALo(8,"date"),c.qZA()(),c.TgZ(9,"mat-sidenav-container",5)(10,"mat-sidenav",6,7)(12,"mat-nav-list")(13,"a",8),c._uU(14,"Pagina principal"),c.qZA(),c.TgZ(15,"a",9),c._uU(16,"Productos Info"),c.qZA(),c.TgZ(17,"a",10),c._uU(18,"Reportes"),c.qZA(),c.TgZ(19,"a",11),c.NdJ("click",function(){return i.abrir()}),c._uU(20,"Acerca de"),c.qZA()()(),c.YNc(21,r$,8,0,"div",12),c._UZ(22,"router-outlet"),c.qZA()}2&t&&(c.xp6(7),c.Oqu(c.xi3(8,2,i.today,"d MMM y, EEEE h:mm:ss a")),c.xp6(14),c.Q6J("ngIf",i.modal))},dependencies:[xn,db,Rh,x_,OH,ej,IN,DN,Kj,Yj,Xc],styles:['.navbar[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 2px 4px #0000001a;padding:1rem}.navbar-brand[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.navbar-toggler[_ngcontent-%COMP%]{border:none;padding:.25rem .5rem}.navbar-toggler-icon[_ngcontent-%COMP%]{display:inline-block;width:1.5rem;height:1.5rem;background-repeat:no-repeat;background-position:center;background-size:cover;background-image:url(\'data:image/svg+xml;charset=UTF-8,%3Csvg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"%3E%3Cpath stroke="%23333" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M1 1h14M1 8h14M1 15h14"/%3E%3C/svg%3E\')}.navbar-nav[_ngcontent-%COMP%]{flex-direction:column;padding-top:1rem}.nav-item[_ngcontent-%COMP%]{margin-bottom:.5rem}@media (min-width: 768px){.navbar-nav[_ngcontent-%COMP%]{flex-direction:row}.nav-item[_ngcontent-%COMP%]{margin:0 .5rem}}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0003;display:flex;justify-content:center;align-items:center;z-index:100}.contenido-modal[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0003;display:flex;flex-direction:column;align-items:center}']}),n})(),o$=(()=>{class n{constructor(){this.title="licorApp"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,i){1&t&&c._UZ(0,"app-navbar")(1,"router-outlet")},dependencies:[db,s$]}),n})();function kN(n){return new c.vHH(3e3,!1)}function H$(){return typeof window<"u"&&typeof window.document<"u"}function yR(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Tf(n){switch(n.length){case 0:return new G0;case 1:return n[0];default:return new b1(n)}}function ON(n,e,t,i,r=new Map,a=new Map){const u=[],f=[];let _=-1,w=null;if(i.forEach(I=>{const A=I.get("offset"),F=A==_,B=F&&w||new Map;I.forEach((W,ie)=>{let _e=ie,$e=W;if("offset"!==ie)switch(_e=e.normalizePropertyName(_e,u),$e){case"!":$e=r.get(ie);break;case yd:$e=a.get(ie);break;default:$e=e.normalizeStyleValue(ie,_e,$e,u)}B.set(_e,$e)}),F||f.push(B),w=B,_=A}),u.length)throw function M$(n){return new c.vHH(3502,!1)}();return f}function vR(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&bR(t,"start",n)));break;case"done":n.onDone(()=>i(t&&bR(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&bR(t,"destroy",n)))}}function bR(n,e,t){const a=wR(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),u=n._data;return null!=u&&(a._data=u),a}function wR(n,e,t,i,r="",a=0,u){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:a,disabled:!!u}}function Bo(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function PN(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let ER=(n,e)=>!1,NN=(n,e,t)=>[],FN=null;function CR(n){const e=n.parentNode||n.host;return e===FN?null:e}(yR()||typeof Element<"u")&&(H$()?(FN=(()=>document.documentElement)(),ER=(n,e)=>{for(;e;){if(e===n)return!0;e=CR(e)}return!1}):ER=(n,e)=>n.contains(e),NN=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let dg=null,LN=!1;const VN=ER,BN=NN;let UN=(()=>{class n{validateStyleProperty(t){return function $$(n){dg||(dg=function z$(){return typeof document<"u"?document.body:null}()||{},LN=!!dg.style&&"WebkitAppearance"in dg.style);let e=!0;return dg.style&&!function j$(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in dg.style,!e&&LN&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in dg.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return VN(t,i)}getParentElement(t){return CR(t)}query(t,i,r){return BN(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,a,u,f=[],_){return new G0(r,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),IR=(()=>{class n{}return n.NOOP=new UN,n})();const DR="ng-enter",mT="ng-leave",gT="ng-trigger",_T=".ng-trigger",jN="ng-animating",TR=".ng-animating";function vd(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:SR(parseFloat(e[1]),e[2])}function SR(n,e){return"s"===e?1e3*n:n}function yT(n,e,t){return n.hasOwnProperty("duration")?n:function W$(n,e,t){let r,a=0,u="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(kN()),{duration:0,delay:0,easing:""};r=SR(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(a=SR(parseFloat(_),f[4]));const w=f[5];w&&(u=w)}else r=n;if(!t){let f=!1,_=e.length;r<0&&(e.push(function a$(){return new c.vHH(3100,!1)}()),f=!0),a<0&&(e.push(function l$(){return new c.vHH(3101,!1)}()),f=!0),f&&e.splice(_,0,kN())}return{duration:r,delay:a,easing:u}}(n,e,t)}function iE(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function $N(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Sf(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function GN(n,e,t){return t?e+":"+t+";":""}function qN(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=GN(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=GN(0,Q$(t),n.style[t]));n.setAttribute("style",e)}function Wc(n,e,t){n.style&&(e.forEach((i,r)=>{const a=MR(r);t&&!t.has(r)&&t.set(r,n.style[a]),n.style[a]=i}),yR()&&qN(n))}function hg(n,e){n.style&&(e.forEach((t,i)=>{const r=MR(i);n.style[r]=""}),yR()&&qN(n))}function rE(n){return Array.isArray(n)?1==n.length?n[0]:y1(n):n}const AR=new RegExp("{{\\s*(.+?)\\s*}}","g");function WN(n){let e=[];if("string"==typeof n){let t;for(;t=AR.exec(n);)e.push(t[1]);AR.lastIndex=0}return e}function sE(n,e,t){const i=n.toString(),r=i.replace(AR,(a,u)=>{let f=e[u];return null==f&&(t.push(function u$(n){return new c.vHH(3003,!1)}()),f=""),f.toString()});return r==i?n:r}function vT(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Y$=/-+([a-z0-9])/g;function MR(n){return n.replace(Y$,(...e)=>e[1].toUpperCase())}function Q$(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Uo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function d$(n){return new c.vHH(3004,!1)}()}}function ZN(n,e){return window.getComputedStyle(n)[e]}function r3(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function s3(n,e,t){if(":"==n[0]){const _=function o3(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function D$(n){return new c.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function I$(n){return new c.vHH(3015,!1)}()),e;const r=i[1],a=i[2],u=i[3];e.push(KN(r,u));"<"==a[0]&&!("*"==r&&"*"==u)&&e.push(KN(u,r))}(i,t,e)):t.push(n),t}const CT=new Set(["true","1"]),IT=new Set(["false","0"]);function KN(n,e){const t=CT.has(n)||IT.has(n),i=CT.has(e)||IT.has(e);return(r,a)=>{let u="*"==n||n==r,f="*"==e||e==a;return!u&&t&&"boolean"==typeof r&&(u=r?CT.has(n):IT.has(n)),!f&&i&&"boolean"==typeof a&&(f=a?CT.has(e):IT.has(e)),u&&f}}const a3=new RegExp("s*:selfs*,?","g");function xR(n,e,t,i){return new l3(n).build(e,t,i)}class l3{constructor(e){this._driver=e}build(e,t,i){const r=new d3(t);return this._resetContextStyleTimingState(r),Uo(this,rE(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const a=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function f$(){return new c.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,w=_.name;w.toString().split(/\s*,\s*/).forEach(I=>{_.name=I,a.push(this.visitState(_,t))}),_.name=w}else if(1==f.type){const _=this.visitTransition(f,t);i+=_.queryCount,r+=_.depCount,u.push(_)}else t.errors.push(function p$(){return new c.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:u,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const a=new Set,u=r||{};i.styles.forEach(f=>{f instanceof Map&&f.forEach(_=>{WN(_).forEach(w=>{u.hasOwnProperty(w)||a.add(w)})})}),a.size&&(vT(a.values()),t.errors.push(function m$(n,e){return new c.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Uo(this,rE(e.animation),t);return{type:1,matchers:r3(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:fg(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Uo(this,i,t)),options:fg(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const a=e.steps.map(u=>{t.currentTime=i;const f=Uo(this,u,t);return r=Math.max(r,t.currentTime),f});return t.currentTime=r,{type:3,steps:a,options:fg(e.options)}}visitAnimate(e,t){const i=function f3(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return RR(yT(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=RR(0,0,"");return a.dynamic=!0,a.strValue=t,a}const r=yT(t,e);return RR(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,a=e.styles?e.styles:Oa({});if(5==a.type)r=this.visitKeyframes(a,t);else{let u=e.styles,f=!1;if(!u){f=!0;const w={};i.easing&&(w.easing=i.easing),u=Oa(w)}t.currentTime+=i.duration+i.delay;const _=this.visitStyle(u,t);_.isEmptyStep=f,r=_}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of r)"string"==typeof f?f===yd?i.push(f):t.errors.push(new c.vHH(3002,!1)):i.push($N(f));let a=!1,u=null;return i.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(u=f.get("easing"),f.delete("easing")),!a))for(let _ of f.values())if(_.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:i,easing:u,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,a=t.currentTime;i&&a>0&&(a-=i.duration+i.delay),e.styles.forEach(u=>{"string"!=typeof u&&u.forEach((f,_)=>{const w=t.collectedStyles.get(t.currentQuerySelector),I=w.get(_);let A=!0;I&&(a!=r&&a>=I.startTime&&r<=I.endTime&&(t.errors.push(function _$(n,e,t,i,r){return new c.vHH(3010,!1)}()),A=!1),a=I.startTime),A&&w.set(_,{startTime:a,endTime:r}),t.options&&function K$(n,e,t){const i=e.params||{},r=WN(n);r.length&&r.forEach(a=>{i.hasOwnProperty(a)||t.push(function c$(n){return new c.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function y$(){return new c.vHH(3011,!1)}()),i;let a=0;const u=[];let f=!1,_=!1,w=0;const I=e.steps.map($e=>{const it=this._makeStyleAst($e,t);let Je=null!=it.offset?it.offset:function h3(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(it.styles),Ct=0;return null!=Je&&(a++,Ct=it.offset=Je),_=_||Ct<0||Ct>1,f=f||Ct<w,w=Ct,u.push(Ct),it});_&&t.errors.push(function v$(){return new c.vHH(3012,!1)}()),f&&t.errors.push(function b$(){return new c.vHH(3200,!1)}());const A=e.steps.length;let F=0;a>0&&a<A?t.errors.push(function w$(){return new c.vHH(3202,!1)}()):0==a&&(F=1/(A-1));const B=A-1,W=t.currentTime,ie=t.currentAnimateTimings,_e=ie.duration;return I.forEach(($e,it)=>{const Je=F>0?it==B?1:F*it:u[it],Ct=Je*_e;t.currentTime=W+ie.delay+Ct,ie.duration=Ct,this._validateStyleAst($e,t),$e.offset=Je,i.styles.push($e)}),i}visitReference(e,t){return{type:8,animation:Uo(this,rE(e.animation),t),options:fg(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:fg(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:fg(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[a,u]=function c3(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(a3,"")),n=n.replace(/@\*/g,_T).replace(/@\w+/g,t=>_T+"-"+t.slice(1)).replace(/:animating/g,TR),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+a:a,Bo(t.collectedStyles,t.currentQuerySelector,new Map);const f=Uo(this,rE(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:f,originalSelector:e.selector,options:fg(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function E$(){return new c.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:yT(e.timings,t.errors,!0);return{type:12,animation:Uo(this,rE(e.animation),t),timings:i,options:null}}}class d3{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function fg(n){return n?(n=iE(n)).params&&(n.params=function u3(n){return n?iE(n):null}(n.params)):n={},n}function RR(n,e,t){return{duration:n,delay:e,easing:t}}function kR(n,e,t,i,r,a,u=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:u,subTimeline:f}}class DT{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const g3=new RegExp(":enter","g"),y3=new RegExp(":leave","g");function OR(n,e,t,i,r,a=new Map,u=new Map,f,_,w=[]){return(new v3).buildKeyframes(n,e,t,i,r,a,u,f,_,w)}class v3{buildKeyframes(e,t,i,r,a,u,f,_,w,I=[]){w=w||new DT;const A=new PR(e,t,w,r,a,I,[]);A.options=_;const F=_.delay?vd(_.delay):0;A.currentTimeline.delayNextStep(F),A.currentTimeline.setStyles([u],null,A.errors,_),Uo(this,i,A);const B=A.timelines.filter(W=>W.containsAnimation());if(B.length&&f.size){let W;for(let ie=B.length-1;ie>=0;ie--){const _e=B[ie];if(_e.element===t){W=_e;break}}W&&!W.allowOnlyTimelineStyles()&&W.setStyles([f],null,A.errors,_)}return B.length?B.map(W=>W.buildKeyframes()):[kR(t,[],[],[],0,F,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),a=t.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);a!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const a=r?.delay;if(a){const u="number"==typeof a?a:vd(sE(a,r?.params??{},t.errors));i.delayNextStep(u)}}}_visitSubInstructions(e,t,i){let a=t.currentTimeline.currentTime;const u=null!=i.duration?vd(i.duration):null,f=null!=i.delay?vd(i.delay):null;return 0!==u&&e.forEach(_=>{const w=t.appendInstructionToTimeline(_,u,f);a=Math.max(a,w.duration+w.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),Uo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const a=e.options;if(a&&(a.params||a.delay)&&(r=t.createSubContext(a),r.transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=TT);const u=vd(a.delay);r.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>Uo(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?vd(e.options.delay):0;e.steps.forEach(u=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),Uo(this,u,f),r=Math.max(r,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return yT(t.params?sE(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(i.duration),this.visitStyle(a,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const a=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(a):i.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,a=i.duration,f=t.createSubContext().currentTimeline;f.easing=i.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*a),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(r+a),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},a=r.delay?vd(r.delay):0;a&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=TT);let u=i;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((w,I)=>{t.currentQueryIndex=I;const A=t.createSubContext(e.options,w);a&&A.delayNextStep(a),w===t.element&&(_=A.currentTimeline),Uo(this,e.animation,A),A.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,A.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,a=e.timings,u=Math.abs(a.duration),f=u*(t.currentQueryTotal-1);let _=u*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=f-_;break;case"full":_=i.currentStaggerTime}const I=t.currentTimeline;_&&I.delayNextStep(_);const A=I.currentTime;Uo(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-A+(r.startTime-i.currentTimeline.startTime)}}const TT={};class PR{constructor(e,t,i,r,a,u,f,_){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=a,this.errors=u,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=TT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new ST(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=vd(i.duration)),null!=i.delay&&(r.delay=vd(i.delay));const a=i.params;if(a){let u=r.params;u||(u=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!u.hasOwnProperty(f))&&(u[f]=sE(a[f],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,a=new PR(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=TT,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},a=new b3(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(a),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,a,u){let f=[];if(r&&f.push(this.element),e.length>0){e=(e=e.replace(g3,"."+this._enterClassName)).replace(y3,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=i);0!==i&&(w=i<0?w.slice(w.length+i,w.length):w.slice(0,i)),f.push(...w)}return!a&&0==f.length&&u.push(function C$(n){return new c.vHH(3014,!1)}()),f}}class ST{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new ST(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||yd),this._currentKeyframe.set(t,yd);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const a=r&&r.params||{},u=function w3(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let a of i)t.set(a,yd)}else Sf(r,t)}),t}(e,this._globalTimelineStyles);for(let[f,_]of u){const w=sE(_,a,i);this._pendingStyles.set(f,w),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??yd),this._updateStyle(f,w)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((f,_)=>{const w=Sf(f,new Map,this._backFill);w.forEach((I,A)=>{"!"===I?e.add(A):I===yd&&t.add(A)}),i||w.set("offset",_/this.duration),r.push(w)});const a=e.size?vT(e.values()):[],u=t.size?vT(t.values()):[];if(i){const f=r[0],_=new Map(f);f.set("offset",0),_.set("offset",1),r=[f,_]}return kR(this.element,r,a,u,this.duration,this.startTime,this.easing,!1)}}class b3 extends ST{constructor(e,t,i,r,a,u,f=!1){super(e,t,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],u=i+t,f=t/u,_=Sf(e[0]);_.set("offset",0),a.push(_);const w=Sf(e[0]);w.set("offset",XN(f)),a.push(w);const I=e.length-1;for(let A=1;A<=I;A++){let F=Sf(e[A]);const B=F.get("offset");F.set("offset",XN((t+B*i)/u)),a.push(F)}i=u,t=0,r="",e=a}return kR(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function XN(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class NR{}const E3=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class C3 extends NR{normalizePropertyName(e,t){return MR(e)}normalizeStyleValue(e,t,i,r){let a="";const u=i.toString().trim();if(E3.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&r.push(function h$(n,e){return new c.vHH(3005,!1)}())}return u+a}}function JN(n,e,t,i,r,a,u,f,_,w,I,A,F){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:a,toState:i,toStyles:u,timelines:f,queriedElements:_,preStyleProps:w,postStyleProps:I,totalTime:A,errors:F}}const FR={};class eF{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function I3(n,e,t,i,r){return n.some(a=>a(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,a,u,f,_,w,I){const A=[],F=this.ast.options&&this.ast.options.params||FR,W=this.buildStyles(i,f&&f.params||FR,A),ie=_&&_.params||FR,_e=this.buildStyles(r,ie,A),$e=new Set,it=new Map,Je=new Map,Ct="void"===r,jt={params:D3(ie,F),delay:this.ast.options?.delay},Wt=I?[]:OR(e,t,this.ast.animation,a,u,W,_e,jt,w,A);let An=0;if(Wt.forEach(bd=>{An=Math.max(bd.duration+bd.delay,An)}),A.length)return JN(t,this._triggerName,i,r,Ct,W,_e,[],[],it,Je,An,A);Wt.forEach(bd=>{const wd=bd.element,DF=Bo(it,wd,new Set);bd.preStyleProps.forEach(mg=>DF.add(mg));const aE=Bo(Je,wd,new Set);bd.postStyleProps.forEach(mg=>aE.add(mg)),wd!==t&&$e.add(wd)});const Nr=vT($e.values());return JN(t,this._triggerName,i,r,Ct,W,_e,Wt,Nr,it,Je,An)}}function D3(n,e){const t=iE(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class T3{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=iE(this.defaultParams);return Object.keys(e).forEach(a=>{const u=e[a];null!==u&&(r[a]=u)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((u,f)=>{u&&(u=sE(u,r,t));const _=this.normalizer.normalizePropertyName(f,t);u=this.normalizer.normalizeStyleValue(f,_,u,t),i.set(_,u)})}),i}}class A3{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new T3(r.style,r.options&&r.options.params||{},i))}),tF(this.states,"true","1"),tF(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new eF(e,r,this.states))}),this.fallbackTransition=function M3(n,e,t){return new eF(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(u=>u.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function tF(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const x3=new DT;class R3{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],a=xR(this._driver,t,i,[]);if(i.length)throw function x$(n){return new c.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,i){const r=e.element,a=ON(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],a=this._animations.get(e);let u;const f=new Map;if(a?(u=OR(this._driver,t,a,DR,mT,new Map,new Map,i,x3,r),u.forEach(I=>{const A=Bo(f,I.element,new Map);I.postStyleProps.forEach(F=>A.set(F,null))})):(r.push(function R$(){return new c.vHH(3300,!1)}()),u=[]),r.length)throw function k$(n){return new c.vHH(3504,!1)}();f.forEach((I,A)=>{I.forEach((F,B)=>{I.set(B,this._driver.computeStyle(A,B,yd))})});const w=Tf(u.map(I=>{const A=f.get(I.element);return this._buildPlayer(I,new Map,A)}));return this._playersById.set(e,w),w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function O$(n){return new c.vHH(3301,!1)}();return t}listen(e,t,i,r){const a=wR(t,"","","");return vR(this._getPlayer(e),i,a,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const a=this._getPlayer(e);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const nF="ng-animate-queued",LR="ng-animate-disabled",F3=[],iF={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},L3={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Na="__ng_removed";class VR{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function H3(n){return n??null}(i?e.value:e),i){const a=iE(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const oE="void",BR=new VR(oE);class V3{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Fa(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function P$(n,e){return new c.vHH(3302,!1)}();if(null==i||0==i.length)throw function N$(n){return new c.vHH(3303,!1)}();if(!function j3(n){return"start"==n||"done"==n}(i))throw function F$(n,e){return new c.vHH(3400,!1)}();const a=Bo(this._elementListeners,e,[]),u={name:t,phase:i,callback:r};a.push(u);const f=Bo(this._engine.statesByElement,e,new Map);return f.has(t)||(Fa(e,gT),Fa(e,gT+"-"+t),f.set(t,BR)),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(u);_>=0&&a.splice(_,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function L$(n){return new c.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const a=this._getTrigger(t),u=new UR(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Fa(e,gT),Fa(e,gT+"-"+t),this._engine.statesByElement.set(e,f=new Map));let _=f.get(t);const w=new VR(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&w.absorbOptions(_.options),f.set(t,w),_||(_=BR),w.value!==oE&&_.value===w.value){if(!function G3(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const a=t[r];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,w.params)){const ie=[],_e=a.matchStyles(_.value,_.params,ie),$e=a.matchStyles(w.value,w.params,ie);ie.length?this._engine.reportError(ie):this._engine.afterFlush(()=>{hg(e,_e),Wc(e,$e)})}return}const F=Bo(this._engine.playersByElement,e,[]);F.forEach(ie=>{ie.namespaceId==this.id&&ie.triggerName==t&&ie.queued&&ie.destroy()});let B=a.matchTransition(_.value,w.value,e,w.params),W=!1;if(!B){if(!r)return;B=a.fallbackTransition,W=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:B,fromState:_,toState:w,player:u,isFallbackTransition:W}),W||(Fa(e,nF),u.onStart(()=>{Cv(e,nF)})),u.onDone(()=>{let ie=this.players.indexOf(u);ie>=0&&this.players.splice(ie,1);const _e=this._engine.playersByElement.get(e);if(_e){let $e=_e.indexOf(u);$e>=0&&_e.splice($e,1)}}),this.players.push(u),F.push(u),u}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,_T,!0);i.forEach(r=>{if(r[Na])return;const a=this._engine.fetchNamespacesByElement(r);a.size?a.forEach(u=>u.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const a=this._engine.statesByElement.get(e),u=new Map;if(a){const f=[];if(a.forEach((_,w)=>{if(u.set(w,_.value),this._triggers.has(w)){const I=this.trigger(e,w,oE,r);I&&f.push(I)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),i&&Tf(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(a=>{const u=a.name;if(r.has(u))return;r.add(u);const _=this._triggers.get(u).fallbackTransition,w=i.get(u)||BR,I=new VR(oE),A=new UR(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:_,fromState:w,toState:I,player:A,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(e):[];if(a&&a.length)r=!0;else{let u=e;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Na];(!a||a===iF)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Fa(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const a=i.element,u=this._elementListeners.get(a);u&&u.forEach(f=>{if(f.name==i.triggerName){const _=wR(a,i.triggerName,i.fromState.value,i.toState.value);_._data=e,vR(i.player,f.phase,_,f.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const a=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==a||0==u?a-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class B3{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new V3(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,f=this.driver.getParentElement(t);for(;f;){const _=r.get(f);if(_){const w=i.indexOf(_);i.splice(w+1,0,e),u=!0;break}f=this.driver.getParentElement(f)}u||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const a=this._fetchNamespace(r.namespaceId);a&&t.add(a)}return t}trigger(e,t,i,r){if(AT(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!AT(t))return;const a=t[Na];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Fa(e,LR)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Cv(e,LR))}removeNode(e,t,i,r){if(AT(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,a){this.collectedLeaveElements.push(t),t[Na]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,i,r,a){return AT(t)?this._fetchNamespace(e).listen(t,i,r,a):()=>{}}_buildInstruction(e,t,i,r,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,_T,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,TR,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Tf(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Na];if(t&&t.setForRemoval){if(e[Na]=iF,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(LR)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Fa(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Tf(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function V$(n){return new c.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new DT,r=[],a=new Map,u=[],f=new Map,_=new Map,w=new Map,I=new Set;this.disabledNodes.forEach(vt=>{I.add(vt);const Pt=this.driver.query(vt,".ng-animate-queued",!0);for(let Ht=0;Ht<Pt.length;Ht++)I.add(Pt[Ht])});const A=this.bodyNode,F=Array.from(this.statesByElement.keys()),B=oF(F,this.collectedEnterElements),W=new Map;let ie=0;B.forEach((vt,Pt)=>{const Ht=DR+ie++;W.set(Pt,Ht),vt.forEach(Tn=>Fa(Tn,Ht))});const _e=[],$e=new Set,it=new Set;for(let vt=0;vt<this.collectedLeaveElements.length;vt++){const Pt=this.collectedLeaveElements[vt],Ht=Pt[Na];Ht&&Ht.setForRemoval&&(_e.push(Pt),$e.add(Pt),Ht.hasAnimation?this.driver.query(Pt,".ng-star-inserted",!0).forEach(Tn=>$e.add(Tn)):it.add(Pt))}const Je=new Map,Ct=oF(F,Array.from($e));Ct.forEach((vt,Pt)=>{const Ht=mT+ie++;Je.set(Pt,Ht),vt.forEach(Tn=>Fa(Tn,Ht))}),e.push(()=>{B.forEach((vt,Pt)=>{const Ht=W.get(Pt);vt.forEach(Tn=>Cv(Tn,Ht))}),Ct.forEach((vt,Pt)=>{const Ht=Je.get(Pt);vt.forEach(Tn=>Cv(Tn,Ht))}),_e.forEach(vt=>{this.processLeaveNode(vt)})});const jt=[],Wt=[];for(let vt=this._namespaceList.length-1;vt>=0;vt--)this._namespaceList[vt].drainQueuedTransitions(t).forEach(Ht=>{const Tn=Ht.player,Fr=Ht.element;if(jt.push(Tn),this.collectedEnterElements.length){const Is=Fr[Na];if(Is&&Is.setForMove){if(Is.previousTriggersValues&&Is.previousTriggersValues.has(Ht.triggerName)){const gg=Is.previousTriggersValues.get(Ht.triggerName),La=this.statesByElement.get(Ht.element);if(La&&La.has(Ht.triggerName)){const RT=La.get(Ht.triggerName);RT.value=gg,La.set(Ht.triggerName,RT)}}return void Tn.destroy()}}const Zc=!A||!this.driver.containsElement(A,Fr),Ho=Je.get(Fr),Af=W.get(Fr),Si=this._buildInstruction(Ht,i,Af,Ho,Zc);if(Si.errors&&Si.errors.length)return void Wt.push(Si);if(Zc)return Tn.onStart(()=>hg(Fr,Si.fromStyles)),Tn.onDestroy(()=>Wc(Fr,Si.toStyles)),void r.push(Tn);if(Ht.isFallbackTransition)return Tn.onStart(()=>hg(Fr,Si.fromStyles)),Tn.onDestroy(()=>Wc(Fr,Si.toStyles)),void r.push(Tn);const AF=[];Si.timelines.forEach(Is=>{Is.stretchStartingKeyframe=!0,this.disabledNodes.has(Is.element)||AF.push(Is)}),Si.timelines=AF,i.append(Fr,Si.timelines),u.push({instruction:Si,player:Tn,element:Fr}),Si.queriedElements.forEach(Is=>Bo(f,Is,[]).push(Tn)),Si.preStyleProps.forEach((Is,gg)=>{if(Is.size){let La=_.get(gg);La||_.set(gg,La=new Set),Is.forEach((RT,qR)=>La.add(qR))}}),Si.postStyleProps.forEach((Is,gg)=>{let La=w.get(gg);La||w.set(gg,La=new Set),Is.forEach((RT,qR)=>La.add(qR))})});if(Wt.length){const vt=[];Wt.forEach(Pt=>{vt.push(function B$(n,e){return new c.vHH(3505,!1)}())}),jt.forEach(Pt=>Pt.destroy()),this.reportError(vt)}const An=new Map,Nr=new Map;u.forEach(vt=>{const Pt=vt.element;i.has(Pt)&&(Nr.set(Pt,Pt),this._beforeAnimationBuild(vt.player.namespaceId,vt.instruction,An))}),r.forEach(vt=>{const Pt=vt.element;this._getPreviousPlayers(Pt,!1,vt.namespaceId,vt.triggerName,null).forEach(Tn=>{Bo(An,Pt,[]).push(Tn),Tn.destroy()})});const bd=_e.filter(vt=>lF(vt,_,w)),wd=new Map;sF(wd,this.driver,it,w,yd).forEach(vt=>{lF(vt,_,w)&&bd.push(vt)});const aE=new Map;B.forEach((vt,Pt)=>{sF(aE,this.driver,new Set(vt),_,"!")}),bd.forEach(vt=>{const Pt=wd.get(vt),Ht=aE.get(vt);wd.set(vt,new Map([...Array.from(Pt?.entries()??[]),...Array.from(Ht?.entries()??[])]))});const mg=[],TF=[],SF={};u.forEach(vt=>{const{element:Pt,player:Ht,instruction:Tn}=vt;if(i.has(Pt)){if(I.has(Pt))return Ht.onDestroy(()=>Wc(Pt,Tn.toStyles)),Ht.disabled=!0,Ht.overrideTotalTime(Tn.totalTime),void r.push(Ht);let Fr=SF;if(Nr.size>1){let Ho=Pt;const Af=[];for(;Ho=Ho.parentNode;){const Si=Nr.get(Ho);if(Si){Fr=Si;break}Af.push(Ho)}Af.forEach(Si=>Nr.set(Si,Fr))}const Zc=this._buildAnimation(Ht.namespaceId,Tn,An,a,aE,wd);if(Ht.setRealPlayer(Zc),Fr===SF)mg.push(Ht);else{const Ho=this.playersByElement.get(Fr);Ho&&Ho.length&&(Ht.parentPlayer=Tf(Ho)),r.push(Ht)}}else hg(Pt,Tn.fromStyles),Ht.onDestroy(()=>Wc(Pt,Tn.toStyles)),TF.push(Ht),I.has(Pt)&&r.push(Ht)}),TF.forEach(vt=>{const Pt=a.get(vt.element);if(Pt&&Pt.length){const Ht=Tf(Pt);vt.setRealPlayer(Ht)}}),r.forEach(vt=>{vt.parentPlayer?vt.syncPlayerEvents(vt.parentPlayer):vt.destroy()});for(let vt=0;vt<_e.length;vt++){const Pt=_e[vt],Ht=Pt[Na];if(Cv(Pt,mT),Ht&&Ht.hasAnimation)continue;let Tn=[];if(f.size){let Zc=f.get(Pt);Zc&&Zc.length&&Tn.push(...Zc);let Ho=this.driver.query(Pt,TR,!0);for(let Af=0;Af<Ho.length;Af++){let Si=f.get(Ho[Af]);Si&&Si.length&&Tn.push(...Si)}}const Fr=Tn.filter(Zc=>!Zc.destroyed);Fr.length?$3(this,Pt,Fr):this.processLeaveNode(Pt)}return _e.length=0,mg.forEach(vt=>{this.players.push(vt),vt.onDone(()=>{vt.destroy();const Pt=this.players.indexOf(vt);this.players.splice(Pt,1)}),vt.play()}),mg}elementContainsData(e,t){let i=!1;const r=t[Na];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,a){let u=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(u=f)}else{const f=this.playersByElement.get(e);if(f){const _=!a||a==oE;f.forEach(w=>{w.queued||!_&&w.triggerName!=r||u.push(w)})}}return(i||r)&&(u=u.filter(f=>!(i&&i!=f.namespaceId||r&&r!=f.triggerName))),u}_beforeAnimationBuild(e,t,i){const a=t.element,u=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const w=_.element,I=w!==a,A=Bo(i,w,[]);this._getPreviousPlayers(w,I,u,f,t.toState).forEach(B=>{const W=B.getRealPlayer();W.beforeDestroy&&W.beforeDestroy(),B.destroy(),A.push(B)})}hg(a,t.fromStyles)}_buildAnimation(e,t,i,r,a,u){const f=t.triggerName,_=t.element,w=[],I=new Set,A=new Set,F=t.timelines.map(W=>{const ie=W.element;I.add(ie);const _e=ie[Na];if(_e&&_e.removedBeforeQueried)return new G0(W.duration,W.delay);const $e=ie!==_,it=function z3(n){const e=[];return aF(n,e),e}((i.get(ie)||F3).map(An=>An.getRealPlayer())).filter(An=>!!An.element&&An.element===ie),Je=a.get(ie),Ct=u.get(ie),jt=ON(0,this._normalizer,0,W.keyframes,Je,Ct),Wt=this._buildPlayer(W,jt,it);if(W.subTimeline&&r&&A.add(ie),$e){const An=new UR(e,f,ie);An.setRealPlayer(Wt),w.push(An)}return Wt});w.forEach(W=>{Bo(this.playersByQueriedElement,W.element,[]).push(W),W.onDone(()=>function U3(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,W.element,W))}),I.forEach(W=>Fa(W,jN));const B=Tf(F);return B.onDestroy(()=>{I.forEach(W=>Cv(W,jN)),Wc(_,t.toStyles)}),A.forEach(W=>{Bo(r,W,[]).push(B)}),B}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new G0(e.duration,e.delay)}}class UR{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new G0,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>vR(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Bo(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function AT(n){return n&&1===n.nodeType}function rF(n,e){const t=n.style.display;return n.style.display=e??"none",t}function sF(n,e,t,i,r){const a=[];t.forEach(_=>a.push(rF(_)));const u=[];i.forEach((_,w)=>{const I=new Map;_.forEach(A=>{const F=e.computeStyle(w,A,r);I.set(A,F),(!F||0==F.length)&&(w[Na]=L3,u.push(w))}),n.set(w,I)});let f=0;return t.forEach(_=>rF(_,a[f++])),u}function oF(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const r=new Set(e),a=new Map;function u(f){if(!f)return 1;let _=a.get(f);if(_)return _;const w=f.parentNode;return _=t.has(w)?w:r.has(w)?1:u(w),a.set(f,_),_}return e.forEach(f=>{const _=u(f);1!==_&&t.get(_).push(f)}),t}function Fa(n,e){n.classList?.add(e)}function Cv(n,e){n.classList?.remove(e)}function $3(n,e,t){Tf(t).onDone(()=>n.processLeaveNode(e))}function aF(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof b1?aF(i.players,e):e.push(i)}}function lF(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(a=>r.add(a)):e.set(n,i),t.delete(n),!0}class MT{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,a)=>{},this._transitionEngine=new B3(e,t,i),this._timelineEngine=new R3(e,t,i),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(e,t,i,r,a){const u=e+"-"+r;let f=this._triggerCache[u];if(!f){const _=[],I=xR(this._driver,a,_,[]);if(_.length)throw function A$(n,e){return new c.vHH(3404,!1)}();f=function S3(n,e,t){return new A3(n,e,t)}(r,I,this._normalizer),this._triggerCache[u]=f}this._transitionEngine.registerTrigger(t,r,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[a,u]=PN(i);this._timelineEngine.command(a,t,u,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,a){if("@"==i.charAt(0)){const[u,f]=PN(i);return this._timelineEngine.listen(u,t,f,a)}return this._transitionEngine.listen(e,t,i,r,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let W3=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Wc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Wc(this._element,this._initialStyles),this._endStyles&&(Wc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(hg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(hg(this._element,this._endStyles),this._endStyles=null),Wc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function HR(n){let e=null;return n.forEach((t,i)=>{(function Z3(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class cF{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:ZN(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class K3{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return VN(e,t)}getParentElement(e){return CR(e)}query(e,t,i){return BN(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,a,u=[]){const _={duration:i,delay:r,fill:0==r?"both":"forwards"};a&&(_.easing=a);const w=new Map,I=u.filter(B=>B instanceof cF);(function X$(n,e){return 0===n||0===e})(i,r)&&I.forEach(B=>{B.currentSnapshot.forEach((W,ie)=>w.set(ie,W))});let A=function Z$(n){return n.length?n[0]instanceof Map?n:n.map(e=>$N(e)):[]}(t).map(B=>Sf(B));A=function J$(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((a,u)=>{i.has(u)||r.push(u),i.set(u,a)}),r.length)for(let a=1;a<e.length;a++){let u=e[a];r.forEach(f=>u.set(f,ZN(n,f)))}}return e}(e,A,w);const F=function q3(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=HR(e[0]),e.length>1&&(i=HR(e[e.length-1]))):e instanceof Map&&(t=HR(e)),t||i?new W3(n,t,i):null}(e,A);return new cF(e,A,_,F)}}let Y3=(()=>{class n extends _1{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?y1(t):t;return uF(this._renderer,null,i,"register",[r]),new Q3(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(ne))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Q3 extends class BB{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new X3(this._id,e,t||{},this._renderer)}}class X3{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return uF(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function uF(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const dF="@.disabled";let J3=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(a,u)=>{const f=u?.parentNode(a);f&&u.removeChild(f,a)}}createRenderer(t,i){const a=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let I=this._rendererCache.get(a);return I||(I=new hF("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,I)),I}const u=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=I=>{Array.isArray(I)?I.forEach(_):this.engine.registerTrigger(u,f,t,I.name,I)};return i.data.animation.forEach(_),new ez(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[u,f]=a;u(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(MT),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class hF{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==dF?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class ez extends hF{constructor(e,t,i,r,a){super(t,i,r,a),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==dF?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function tz(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),u="";return"@"!=a.charAt(0)&&([a,u]=function nz(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,r,a,u,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(e,t,i)}}let iz=(()=>{class n extends MT{constructor(t,i,r,a){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ne),c.LFG(IR),c.LFG(NR),c.LFG(c.z2F))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const fF=[{provide:_1,useClass:Y3},{provide:NR,useFactory:function rz(){return new C3}},{provide:MT,useClass:iz},{provide:c.FYo,useFactory:function sz(n,e,t){return new J3(n,e,t)},deps:[Ja,MT,c.R0b]}],jR=[{provide:IR,useFactory:()=>new K3},{provide:c.QbO,useValue:"BrowserAnimations"},...fF],pF=[{provide:IR,useClass:UN},{provide:c.QbO,useValue:"NoopAnimations"},...fF];let oz=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?pF:jR}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:jR,imports:[pc]}),n})();class $R{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class az extends $R{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class lz extends $R{constructor(e,t,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class cz extends $R{constructor(e){super(),this.element=e instanceof c.SBq?e.nativeElement:e}}class dz extends class uz{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof az?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof lz?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof cz?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(e,t,i,r,a){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const f=u.element,_=this._document.createComment("dom-portal");f.parentNode.insertBefore(_,f),this.outletElement.appendChild(f),this._attachedPortal=u,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(f,_)})},this._document=a}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||c.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let hz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const mF=T1();class fz{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=or(-this._previousScrollPosition.left),e.style.top=or(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,a=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),mF&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),mF&&(i.scrollBehavior=a,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class pz{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class gF{enable(){}disable(){}attach(){}}function zR(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function _F(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class mz{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();zR(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let gz=(()=>{class n{constructor(t,i,r,a){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new gF,this.close=u=>new pz(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new fz(this._viewportRuler,this._document),this.reposition=u=>new mz(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=a}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(hT),c.LFG(gR),c.LFG(c.R0b),c.LFG(ne))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class _z{constructor(e){if(this.scrollStrategy=new gF,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class yz{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let yF=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ne))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vz=(()=>{class n extends yF{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const a=this._attachedOverlays;for(let u=a.length-1;u>-1;u--)if(a[u]._keydownEvents.observers.length>0){const f=a[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(r)):f.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ne),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bz=(()=>{class n extends yF{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=cg(a)},this._clickListener=a=>{const u=cg(a),f="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let w=_.length-1;w>-1;w--){const I=_[w];if(I._outsidePointerEvents.observers.length<1||!I.hasAttached())continue;if(I.overlayElement.contains(u)||I.overlayElement.contains(f))break;const A=I._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>A.next(a)):A.next(a)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ne),c.LFG(Pa),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vF=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||cR()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<r.length;a++)r[a].remove()}const i=this._document.createElement("div");i.classList.add(t),cR()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ne),c.LFG(Pa))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class wz{constructor(e,t,i,r,a,u,f,_,w){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=a,this._keyboardDispatcher=u,this._document=f,this._location=_,this._outsideClickDispatcher=w,this._backdropElement=null,this._backdropClick=new Xt.x,this._attachments=new Xt.x,this._detachments=new Xt.x,this._locationChanges=Sc.w0.EMPTY,this._backdropClickHandler=I=>this._backdropClick.next(I),this._backdropTransitionendHandler=I=>{this._disposeBackdrop(I.target)},this._keydownEvents=new Xt.x,this._outsidePointerEvents=new Xt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ma(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=or(this._config.width),e.height=or(this._config.height),e.minWidth=or(this._config.minWidth),e.minHeight=or(this._config.minHeight),e.maxWidth=or(this._config.maxWidth),e.maxHeight=or(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;!e||(e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500)))}_toggleClasses(e,t,i){const r=k1(t||[]).filter(a=>!!a);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(ns((0,kx.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const bF="cdk-overlay-connected-position-bounding-box",Ez=/([A-Za-z%]+)$/;class Cz{constructor(e,t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Xt.x,this._resizeSubscription=Sc.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(bF),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,a=[];let u;for(let f of this._preferredPositions){let _=this._getOriginPoint(e,r,f),w=this._getOverlayPoint(_,t,f),I=this._getOverlayFit(w,t,i,f);if(I.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,_);this._canFitWithFlexibleDimensions(I,w,i)?a.push({position:f,origin:_,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(_,f)}):(!u||u.overlayFit.visibleArea<I.visibleArea)&&(u={overlayFit:I,overlayPoint:w,originPoint:_,position:f,overlayRect:t})}if(a.length){let f=null,_=-1;for(const w of a){const I=w.boundingBoxRect.width*w.boundingBoxRect.height*(w.position.weight||1);I>_&&(_=I,f=w)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&pg(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(bF),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,a;if("center"==i.originX)r=e.left+e.width/2;else{const u=this._isRtl()?e.right:e.left,f=this._isRtl()?e.left:e.right;r="start"==i.originX?u:f}return t.left<0&&(r-=t.left),a="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(a-=t.top),{x:r,y:a}}_getOverlayPoint(e,t,i){let r,a;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+a}}_getOverlayFit(e,t,i,r){const a=EF(t);let{x:u,y:f}=e,_=this._getOffset(r,"x"),w=this._getOffset(r,"y");_&&(u+=_),w&&(f+=w);let F=0-f,B=f+a.height-i.height,W=this._subtractOverflows(a.width,0-u,u+a.width-i.width),ie=this._subtractOverflows(a.height,F,B),_e=W*ie;return{visibleArea:_e,isCompletelyWithinViewport:a.width*a.height===_e,fitsInViewportVertically:ie===a.height,fitsInViewportHorizontally:W==a.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,a=i.right-t.x,u=wF(this._overlayRef.getConfig().minHeight),f=wF(this._overlayRef.getConfig().minWidth),w=e.fitsInViewportHorizontally||null!=f&&f<=a;return(e.fitsInViewportVertically||null!=u&&u<=r)&&w}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=EF(t),a=this._viewportRect,u=Math.max(e.x+r.width-a.width,0),f=Math.max(e.y+r.height-a.height,0),_=Math.max(a.top-i.top-e.y,0),w=Math.max(a.left-i.left-e.x,0);let I=0,A=0;return I=r.width<=a.width?w||-u:e.x<this._viewportMargin?a.left-i.left-e.x:0,A=r.height<=a.height?_||-f:e.y<this._viewportMargin?a.top-i.top-e.y:0,this._previousPushAmount={x:I,y:A},{x:e.x+I,y:e.y+A}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new yz(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let a,u,f,I,A,F;if("top"===t.overlayY)u=e.y,a=i.height-u+this._viewportMargin;else if("bottom"===t.overlayY)f=i.height-e.y+2*this._viewportMargin,a=i.height-f+this._viewportMargin;else{const B=Math.min(i.bottom-e.y+i.top,e.y),W=this._lastBoundingBoxSize.height;a=2*B,u=e.y-B,a>W&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-W/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)F=i.width-e.x+this._viewportMargin,I=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)A=e.x,I=i.right-e.x;else{const B=Math.min(i.right-e.x+i.left,e.x),W=this._lastBoundingBoxSize.width;I=2*B,A=e.x-B,I>W&&!this._isInitialRender&&!this._growAfterOpen&&(A=e.x-W/2)}return{top:u,left:A,bottom:f,right:F,width:I,height:a}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=or(i.height),r.top=or(i.top),r.bottom=or(i.bottom),r.width=or(i.width),r.left=or(i.left),r.right=or(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(r.maxHeight=or(a)),u&&(r.maxWidth=or(u))}this._lastBoundingBoxSize=i,pg(this._boundingBox.style,r)}_resetBoundingBoxStyles(){pg(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){pg(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),a=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const I=this._viewportRuler.getViewportScrollPosition();pg(i,this._getExactOverlayY(t,e,I)),pg(i,this._getExactOverlayX(t,e,I))}else i.position="static";let f="",_=this._getOffset(t,"x"),w=this._getOffset(t,"y");_&&(f+=`translateX(${_}px) `),w&&(f+=`translateY(${w}px)`),i.transform=f.trim(),u.maxHeight&&(r?i.maxHeight=or(u.maxHeight):a&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=or(u.maxWidth):a&&(i.maxWidth="")),pg(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":r.top=or(a.y),r}_getExactOverlayX(e,t,i){let u,r={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),u=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":r.left=or(a.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:_F(e,i),isOriginOutsideView:zR(e,i),isOverlayClipped:_F(t,i),isOverlayOutsideView:zR(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?e.offsetX??this._offsetX:e.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&k1(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof c.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function pg(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function wF(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Ez);return t&&"px"!==t?null:parseFloat(e)}return n||null}function EF(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const CF="cdk-global-overlay-wrapper";class Iz{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(CF),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:a,maxWidth:u,maxHeight:f}=i,_=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),w=!("100%"!==a&&"100vh"!==a||f&&"100%"!==f&&"100vh"!==f);e.position=this._cssPosition,e.marginLeft=_?"0":this._leftOffset,e.marginTop=w?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,_?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=w?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(CF),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Dz=(()=>{class n{constructor(t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a}global(){return new Iz}flexibleConnectedTo(t){return new Cz(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(gR),c.LFG(ne),c.LFG(Pa),c.LFG(vF))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Tz=0,GR=(()=>{class n{constructor(t,i,r,a,u,f,_,w,I,A,F){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=a,this._keyboardDispatcher=u,this._injector=f,this._ngZone=_,this._document=w,this._directionality=I,this._location=A,this._outsideClickDispatcher=F}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),a=this._createPortalOutlet(r),u=new _z(t);return u.direction=u.direction||this._directionality.value,new wz(a,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Tz++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(c.z2F)),new dz(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(gz),c.LFG(vF),c.LFG(c._Vd),c.LFG(Dz),c.LFG(vz),c.LFG(c.zs3),c.LFG(c.R0b),c.LFG(ne),c.LFG(dR),c.LFG(Pe),c.LFG(bz))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Mz={provide:new c.OlP("cdk-connected-overlay-scroll-strategy"),deps:[GR],useFactory:function Az(n){return()=>n.scrollStrategies.reposition()}};let xz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[GR,Mz],imports:[[K0,hz,vN],vN]}),n})();const Pz={provide:new c.OlP("mat-menu-scroll-strategy"),deps:[GR],useFactory:function Oz(n){return()=>n.scrollStrategies.reposition()}};let Nz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Pz],imports:[[po,is,eN,xz],nE,is]}),n})();!function Go(n,e,t){(0,c.dwT)(n,e,t)}(Qf);let Fz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[o$]}),n.\u0275inj=c.cJS({providers:[{provide:c.soG,useValue:"es"}],imports:[pc,CU,oz,Sp,nN,tj,Nz,Lj,n$,_l,So.hO.initializeApp(pE_firebase),aU.forRoot({timeOut:4e3,positionClass:"toast-bottom-right",preventDuplicates:!0}),nN]}),n})();(0,c.G48)(),na().bootstrapModule(Fz).catch(n=>console.error(n))},9751:(mt,Te,P)=>{P.d(Te,{y:()=>ve});var c=P(930),X=P(727),O=P(8822),ae=P(9635),oe=P(2416),ue=P(576),ne=P(2806);let ve=(()=>{class Z{constructor(xe){xe&&(this._subscribe=xe)}lift(xe){const Ce=new Z;return Ce.source=this,Ce.operator=xe,Ce}subscribe(xe,Ce,rt){const ge=function j(Z){return Z&&Z instanceof c.Lv||function $(Z){return Z&&(0,ue.m)(Z.next)&&(0,ue.m)(Z.error)&&(0,ue.m)(Z.complete)}(Z)&&(0,X.Nn)(Z)}(xe)?xe:new c.Hp(xe,Ce,rt);return(0,ne.x)(()=>{const{operator:me,source:_t}=this;ge.add(me?me.call(ge,_t):_t?this._subscribe(ge):this._trySubscribe(ge))}),ge}_trySubscribe(xe){try{return this._subscribe(xe)}catch(Ce){xe.error(Ce)}}forEach(xe,Ce){return new(Ce=he(Ce))((rt,ge)=>{const me=new c.Hp({next:_t=>{try{xe(_t)}catch(It){ge(It),me.unsubscribe()}},error:ge,complete:rt});this.subscribe(me)})}_subscribe(xe){var Ce;return null===(Ce=this.source)||void 0===Ce?void 0:Ce.subscribe(xe)}[O.L](){return this}pipe(...xe){return(0,ae.U)(xe)(this)}toPromise(xe){return new(xe=he(xe))((Ce,rt)=>{let ge;this.subscribe(me=>ge=me,me=>rt(me),()=>Ce(ge))})}}return Z.create=ze=>new Z(ze),Z})();function he(Z){var ze;return null!==(ze=Z??oe.v.Promise)&&void 0!==ze?ze:Promise}},7579:(mt,Te,P)=>{P.d(Te,{x:()=>ne});var c=P(9751),X=P(727);const ae=(0,P(3888).d)(he=>function(){he(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=P(8737),ue=P(2806);let ne=(()=>{class he extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const Z=new ve(this,this);return Z.operator=j,Z}_throwIfClosed(){if(this.closed)throw new ae}next(j){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Z of this.currentObservers)Z.next(j)}})}error(j){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:Z}=this;for(;Z.length;)Z.shift().error(j)}})}complete(){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:Z,isStopped:ze,observers:xe}=this;return Z||ze?X.Lc:(this.currentObservers=null,xe.push(j),new X.w0(()=>{this.currentObservers=null,(0,oe.P)(xe,j)}))}_checkFinalizedStatuses(j){const{hasError:Z,thrownError:ze,isStopped:xe}=this;Z?j.error(ze):xe&&j.complete()}asObservable(){const j=new c.y;return j.source=this,j}}return he.create=($,j)=>new ve($,j),he})();class ve extends ne{constructor($,j){super(),this.destination=$,this.source=j}next($){var j,Z;null===(Z=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===Z||Z.call(j,$)}error($){var j,Z;null===(Z=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===Z||Z.call(j,$)}complete(){var $,j;null===(j=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===j||j.call($)}_subscribe($){var j,Z;return null!==(Z=null===(j=this.source)||void 0===j?void 0:j.subscribe($))&&void 0!==Z?Z:X.Lc}}},930:(mt,Te,P)=>{P.d(Te,{Hp:()=>rt,Lv:()=>Z});var c=P(576),X=P(727),O=P(2416),ae=P(7849),oe=P(5032);const ue=he("C",void 0,void 0);function he(Pe,be,fe){return{kind:Pe,value:be,error:fe}}var $=P(3410),j=P(2806);class Z extends X.w0{constructor(be){super(),this.isStopped=!1,be?(this.destination=be,(0,X.Nn)(be)&&be.add(this)):this.destination=It}static create(be,fe,Ge){return new rt(be,fe,Ge)}next(be){this.isStopped?_t(function ve(Pe){return he("N",Pe,void 0)}(be),this):this._next(be)}error(be){this.isStopped?_t(function ne(Pe){return he("E",void 0,Pe)}(be),this):(this.isStopped=!0,this._error(be))}complete(){this.isStopped?_t(ue,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(be){this.destination.next(be)}_error(be){try{this.destination.error(be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function xe(Pe,be){return ze.call(Pe,be)}class Ce{constructor(be){this.partialObserver=be}next(be){const{partialObserver:fe}=this;if(fe.next)try{fe.next(be)}catch(Ge){ge(Ge)}}error(be){const{partialObserver:fe}=this;if(fe.error)try{fe.error(be)}catch(Ge){ge(Ge)}else ge(be)}complete(){const{partialObserver:be}=this;if(be.complete)try{be.complete()}catch(fe){ge(fe)}}}class rt extends Z{constructor(be,fe,Ge){let He;if(super(),(0,c.m)(be)||!be)He={next:be??void 0,error:fe??void 0,complete:Ge??void 0};else{let et;this&&O.v.useDeprecatedNextContext?(et=Object.create(be),et.unsubscribe=()=>this.unsubscribe(),He={next:be.next&&xe(be.next,et),error:be.error&&xe(be.error,et),complete:be.complete&&xe(be.complete,et)}):He=be}this.destination=new Ce(He)}}function ge(Pe){O.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(Pe):(0,ae.h)(Pe)}function _t(Pe,be){const{onStoppedNotification:fe}=O.v;fe&&$.z.setTimeout(()=>fe(Pe,be))}const It={closed:!0,next:oe.Z,error:function me(Pe){throw Pe},complete:oe.Z}},727:(mt,Te,P)=>{P.d(Te,{Lc:()=>ue,w0:()=>oe,Nn:()=>ne});var c=P(576);const O=(0,P(3888).d)(he=>function(j){he(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((Z,ze)=>`${ze+1}) ${Z.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var ae=P(8737);class oe{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const xe of j)xe.remove(this);else j.remove(this);const{initialTeardown:Z}=this;if((0,c.m)(Z))try{Z()}catch(xe){$=xe instanceof O?xe.errors:[xe]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const xe of ze)try{ve(xe)}catch(Ce){$=$??[],Ce instanceof O?$=[...$,...Ce.errors]:$.push(Ce)}}if($)throw new O($)}}add($){var j;if($&&$!==this)if(this.closed)ve($);else{if($ instanceof oe){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push($)}}_hasParent($){const{_parentage:j}=this;return j===$||Array.isArray(j)&&j.includes($)}_addParent($){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push($),j):j?[j,$]:$}_removeParent($){const{_parentage:j}=this;j===$?this._parentage=null:Array.isArray(j)&&(0,ae.P)(j,$)}remove($){const{_finalizers:j}=this;j&&(0,ae.P)(j,$),$ instanceof oe&&$._removeParent(this)}}oe.EMPTY=(()=>{const he=new oe;return he.closed=!0,he})();const ue=oe.EMPTY;function ne(he){return he instanceof oe||he&&"closed"in he&&(0,c.m)(he.remove)&&(0,c.m)(he.add)&&(0,c.m)(he.unsubscribe)}function ve(he){(0,c.m)(he)?he():he.unsubscribe()}},2416:(mt,Te,P)=>{P.d(Te,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(mt,Te,P)=>{P.d(Te,{E:()=>X});const X=new(P(9751).y)(oe=>oe.complete())},8996:(mt,Te,P)=>{P.d(Te,{D:()=>be});var c=P(8421),X=P(5363),O=P(9468),ue=P(9751),ve=P(2202),he=P(576),$=P(9672);function Z(fe,Ge){if(!fe)throw new Error("Iterable cannot be null");return new ue.y(He=>{(0,$.f)(He,Ge,()=>{const et=fe[Symbol.asyncIterator]();(0,$.f)(He,Ge,()=>{et.next().then(ee=>{ee.done?He.complete():He.next(ee.value)})},0,!0)})})}var ze=P(3670),xe=P(8239),Ce=P(1144),rt=P(6495),ge=P(2206),me=P(4532),_t=P(3260);function be(fe,Ge){return Ge?function Pe(fe,Ge){if(null!=fe){if((0,ze.c)(fe))return function ae(fe,Ge){return(0,c.Xf)(fe).pipe((0,O.R)(Ge),(0,X.Q)(Ge))}(fe,Ge);if((0,Ce.z)(fe))return function ne(fe,Ge){return new ue.y(He=>{let et=0;return Ge.schedule(function(){et===fe.length?He.complete():(He.next(fe[et++]),He.closed||this.schedule())})})}(fe,Ge);if((0,xe.t)(fe))return function oe(fe,Ge){return(0,c.Xf)(fe).pipe((0,O.R)(Ge),(0,X.Q)(Ge))}(fe,Ge);if((0,ge.D)(fe))return Z(fe,Ge);if((0,rt.T)(fe))return function j(fe,Ge){return new ue.y(He=>{let et;return(0,$.f)(He,Ge,()=>{et=fe[ve.h](),(0,$.f)(He,Ge,()=>{let ee,xt;try{({value:ee,done:xt}=et.next())}catch(ut){return void He.error(ut)}xt?He.complete():He.next(ee)},0,!0)}),()=>(0,he.m)(et?.return)&&et.return()})}(fe,Ge);if((0,_t.L)(fe))return function It(fe,Ge){return Z((0,_t.Q)(fe),Ge)}(fe,Ge)}throw(0,me.z)(fe)}(fe,Ge):(0,c.Xf)(fe)}},8421:(mt,Te,P)=>{P.d(Te,{Xf:()=>ze});var c=P(655),X=P(1144),O=P(8239),ae=P(9751),oe=P(3670),ue=P(2206),ne=P(4532),ve=P(6495),he=P(3260),$=P(576),j=P(7849),Z=P(8822);function ze(Pe){if(Pe instanceof ae.y)return Pe;if(null!=Pe){if((0,oe.c)(Pe))return function xe(Pe){return new ae.y(be=>{const fe=Pe[Z.L]();if((0,$.m)(fe.subscribe))return fe.subscribe(be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Pe);if((0,X.z)(Pe))return function Ce(Pe){return new ae.y(be=>{for(let fe=0;fe<Pe.length&&!be.closed;fe++)be.next(Pe[fe]);be.complete()})}(Pe);if((0,O.t)(Pe))return function rt(Pe){return new ae.y(be=>{Pe.then(fe=>{be.closed||(be.next(fe),be.complete())},fe=>be.error(fe)).then(null,j.h)})}(Pe);if((0,ue.D)(Pe))return me(Pe);if((0,ve.T)(Pe))return function ge(Pe){return new ae.y(be=>{for(const fe of Pe)if(be.next(fe),be.closed)return;be.complete()})}(Pe);if((0,he.L)(Pe))return function _t(Pe){return me((0,he.Q)(Pe))}(Pe)}throw(0,ne.z)(Pe)}function me(Pe){return new ae.y(be=>{(function It(Pe,be){var fe,Ge,He,et;return(0,c.mG)(this,void 0,void 0,function*(){try{for(fe=(0,c.KL)(Pe);!(Ge=yield fe.next()).done;)if(be.next(Ge.value),be.closed)return}catch(ee){He={error:ee}}finally{try{Ge&&!Ge.done&&(et=fe.return)&&(yield et.call(fe))}finally{if(He)throw He.error}}be.complete()})})(Pe,be).catch(fe=>be.error(fe))})}},6451:(mt,Te,P)=>{P.d(Te,{T:()=>ue});var c=P(8189),X=P(8421),O=P(515),ae=P(3269),oe=P(8996);function ue(...ne){const ve=(0,ae.yG)(ne),he=(0,ae._6)(ne,1/0),$=ne;return $.length?1===$.length?(0,X.Xf)($[0]):(0,c.J)(he)((0,oe.D)($,ve)):O.E}},5403:(mt,Te,P)=>{P.d(Te,{x:()=>X});var c=P(930);function X(ae,oe,ue,ne,ve){return new O(ae,oe,ue,ne,ve)}class O extends c.Lv{constructor(oe,ue,ne,ve,he,$){super(oe),this.onFinalize=he,this.shouldUnsubscribe=$,this._next=ue?function(j){try{ue(j)}catch(Z){oe.error(Z)}}:super._next,this._error=ve?function(j){try{ve(j)}catch(Z){oe.error(Z)}finally{this.unsubscribe()}}:super._error,this._complete=ne?function(){try{ne()}catch(j){oe.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ue}=this;super.unsubscribe(),!ue&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}}},4004:(mt,Te,P)=>{P.d(Te,{U:()=>O});var c=P(4482),X=P(5403);function O(ae,oe){return(0,c.e)((ue,ne)=>{let ve=0;ue.subscribe((0,X.x)(ne,he=>{ne.next(ae.call(oe,he,ve++))}))})}},8189:(mt,Te,P)=>{P.d(Te,{J:()=>O});var c=P(5577),X=P(4671);function O(ae=1/0){return(0,c.z)(X.y,ae)}},5577:(mt,Te,P)=>{P.d(Te,{z:()=>ve});var c=P(4004),X=P(8421),O=P(4482),ae=P(9672),oe=P(5403),ne=P(576);function ve(he,$,j=1/0){return(0,ne.m)($)?ve((Z,ze)=>(0,c.U)((xe,Ce)=>$(Z,xe,ze,Ce))((0,X.Xf)(he(Z,ze))),j):("number"==typeof $&&(j=$),(0,O.e)((Z,ze)=>function ue(he,$,j,Z,ze,xe,Ce,rt){const ge=[];let me=0,_t=0,It=!1;const Pe=()=>{It&&!ge.length&&!me&&$.complete()},be=Ge=>me<Z?fe(Ge):ge.push(Ge),fe=Ge=>{xe&&$.next(Ge),me++;let He=!1;(0,X.Xf)(j(Ge,_t++)).subscribe((0,oe.x)($,et=>{ze?.(et),xe?be(et):$.next(et)},()=>{He=!0},void 0,()=>{if(He)try{for(me--;ge.length&&me<Z;){const et=ge.shift();Ce?(0,ae.f)($,Ce,()=>fe(et)):fe(et)}Pe()}catch(et){$.error(et)}}))};return he.subscribe((0,oe.x)($,be,()=>{It=!0,Pe()})),()=>{rt?.()}}(Z,ze,he,j)))}},5363:(mt,Te,P)=>{P.d(Te,{Q:()=>ae});var c=P(9672),X=P(4482),O=P(5403);function ae(oe,ue=0){return(0,X.e)((ne,ve)=>{ne.subscribe((0,O.x)(ve,he=>(0,c.f)(ve,oe,()=>ve.next(he),ue),()=>(0,c.f)(ve,oe,()=>ve.complete(),ue),he=>(0,c.f)(ve,oe,()=>ve.error(he),ue)))})}},3099:(mt,Te,P)=>{P.d(Te,{B:()=>oe});var c=P(8421),X=P(7579),O=P(930),ae=P(4482);function oe(ne={}){const{connector:ve=(()=>new X.x),resetOnError:he=!0,resetOnComplete:$=!0,resetOnRefCountZero:j=!0}=ne;return Z=>{let ze,xe,Ce,rt=0,ge=!1,me=!1;const _t=()=>{xe?.unsubscribe(),xe=void 0},It=()=>{_t(),ze=Ce=void 0,ge=me=!1},Pe=()=>{const be=ze;It(),be?.unsubscribe()};return(0,ae.e)((be,fe)=>{rt++,!me&&!ge&&_t();const Ge=Ce=Ce??ve();fe.add(()=>{rt--,0===rt&&!me&&!ge&&(xe=ue(Pe,j))}),Ge.subscribe(fe),!ze&&rt>0&&(ze=new O.Hp({next:He=>Ge.next(He),error:He=>{me=!0,_t(),xe=ue(It,he,He),Ge.error(He)},complete:()=>{ge=!0,_t(),xe=ue(It,$),Ge.complete()}}),(0,c.Xf)(be).subscribe(ze))})(Z)}}function ue(ne,ve,...he){if(!0===ve)return void ne();if(!1===ve)return;const $=new O.Hp({next:()=>{$.unsubscribe(),ne()}});return ve(...he).subscribe($)}},9468:(mt,Te,P)=>{P.d(Te,{R:()=>X});var c=P(4482);function X(O,ae=0){return(0,c.e)((oe,ue)=>{ue.add(O.schedule(()=>oe.subscribe(ue),ae))})}},8505:(mt,Te,P)=>{P.d(Te,{b:()=>oe});var c=P(576),X=P(4482),O=P(5403),ae=P(4671);function oe(ue,ne,ve){const he=(0,c.m)(ue)||ne||ve?{next:ue,error:ne,complete:ve}:ue;return he?(0,X.e)(($,j)=>{var Z;null===(Z=he.subscribe)||void 0===Z||Z.call(he);let ze=!0;$.subscribe((0,O.x)(j,xe=>{var Ce;null===(Ce=he.next)||void 0===Ce||Ce.call(he,xe),j.next(xe)},()=>{var xe;ze=!1,null===(xe=he.complete)||void 0===xe||xe.call(he),j.complete()},xe=>{var Ce;ze=!1,null===(Ce=he.error)||void 0===Ce||Ce.call(he,xe),j.error(xe)},()=>{var xe,Ce;ze&&(null===(xe=he.unsubscribe)||void 0===xe||xe.call(he)),null===(Ce=he.finalize)||void 0===Ce||Ce.call(he)}))}):ae.y}},4408:(mt,Te,P)=>{P.d(Te,{o:()=>oe});var c=P(727);class X extends c.w0{constructor(ne,ve){super()}schedule(ne,ve=0){return this}}const O={setInterval(ue,ne,...ve){const{delegate:he}=O;return he?.setInterval?he.setInterval(ue,ne,...ve):setInterval(ue,ne,...ve)},clearInterval(ue){const{delegate:ne}=O;return(ne?.clearInterval||clearInterval)(ue)},delegate:void 0};var ae=P(8737);class oe extends X{constructor(ne,ve){super(ne,ve),this.scheduler=ne,this.work=ve,this.pending=!1}schedule(ne,ve=0){var he;if(this.closed)return this;this.state=ne;const $=this.id,j=this.scheduler;return null!=$&&(this.id=this.recycleAsyncId(j,$,ve)),this.pending=!0,this.delay=ve,this.id=null!==(he=this.id)&&void 0!==he?he:this.requestAsyncId(j,this.id,ve),this}requestAsyncId(ne,ve,he=0){return O.setInterval(ne.flush.bind(ne,this),he)}recycleAsyncId(ne,ve,he=0){if(null!=he&&this.delay===he&&!1===this.pending)return ve;null!=ve&&O.clearInterval(ve)}execute(ne,ve){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const he=this._execute(ne,ve);if(he)return he;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ne,ve){let $,he=!1;try{this.work(ne)}catch(j){he=!0,$=j||new Error("Scheduled action threw falsy error")}if(he)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:ne,scheduler:ve}=this,{actions:he}=ve;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(he,this),null!=ne&&(this.id=this.recycleAsyncId(ve,ne,null)),this.delay=null,super.unsubscribe()}}}},7565:(mt,Te,P)=>{P.d(Te,{v:()=>O});var c=P(6063);class X{constructor(oe,ue=X.now){this.schedulerActionCtor=oe,this.now=ue}schedule(oe,ue=0,ne){return new this.schedulerActionCtor(this,oe).schedule(ne,ue)}}X.now=c.l.now;class O extends X{constructor(oe,ue=X.now){super(oe,ue),this.actions=[],this._active=!1}flush(oe){const{actions:ue}=this;if(this._active)return void ue.push(oe);let ne;this._active=!0;do{if(ne=oe.execute(oe.state,oe.delay))break}while(oe=ue.shift());if(this._active=!1,ne){for(;oe=ue.shift();)oe.unsubscribe();throw ne}}}},4986:(mt,Te,P)=>{P.d(Te,{P:()=>ae,z:()=>O});var c=P(4408);const O=new(P(7565).v)(c.o),ae=O},6063:(mt,Te,P)=>{P.d(Te,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(mt,Te,P)=>{P.d(Te,{z:()=>c});const c={setTimeout(X,O,...ae){const{delegate:oe}=c;return oe?.setTimeout?oe.setTimeout(X,O,...ae):setTimeout(X,O,...ae)},clearTimeout(X){const{delegate:O}=c;return(O?.clearTimeout||clearTimeout)(X)},delegate:void 0}},2202:(mt,Te,P)=>{P.d(Te,{h:()=>X});const X=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(mt,Te,P)=>{P.d(Te,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(mt,Te,P)=>{P.d(Te,{_6:()=>ue,jO:()=>ae,yG:()=>oe});var c=P(576),X=P(3532);function O(ne){return ne[ne.length-1]}function ae(ne){return(0,c.m)(O(ne))?ne.pop():void 0}function oe(ne){return(0,X.K)(O(ne))?ne.pop():void 0}function ue(ne,ve){return"number"==typeof O(ne)?ne.pop():ve}},8737:(mt,Te,P)=>{function c(X,O){if(X){const ae=X.indexOf(O);0<=ae&&X.splice(ae,1)}}P.d(Te,{P:()=>c})},3888:(mt,Te,P)=>{function c(X){const ae=X(oe=>{Error.call(oe),oe.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}P.d(Te,{d:()=>c})},2806:(mt,Te,P)=>{P.d(Te,{O:()=>ae,x:()=>O});var c=P(2416);let X=null;function O(oe){if(c.v.useDeprecatedSynchronousErrorHandling){const ue=!X;if(ue&&(X={errorThrown:!1,error:null}),oe(),ue){const{errorThrown:ne,error:ve}=X;if(X=null,ne)throw ve}}else oe()}function ae(oe){c.v.useDeprecatedSynchronousErrorHandling&&X&&(X.errorThrown=!0,X.error=oe)}},9672:(mt,Te,P)=>{function c(X,O,ae,oe=0,ue=!1){const ne=O.schedule(function(){ae(),ue?X.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(X.add(ne),!ue)return ne}P.d(Te,{f:()=>c})},4671:(mt,Te,P)=>{function c(X){return X}P.d(Te,{y:()=>c})},1144:(mt,Te,P)=>{P.d(Te,{z:()=>c});const c=X=>X&&"number"==typeof X.length&&"function"!=typeof X},2206:(mt,Te,P)=>{P.d(Te,{D:()=>X});var c=P(576);function X(O){return Symbol.asyncIterator&&(0,c.m)(O?.[Symbol.asyncIterator])}},576:(mt,Te,P)=>{function c(X){return"function"==typeof X}P.d(Te,{m:()=>c})},3670:(mt,Te,P)=>{P.d(Te,{c:()=>O});var c=P(8822),X=P(576);function O(ae){return(0,X.m)(ae[c.L])}},6495:(mt,Te,P)=>{P.d(Te,{T:()=>O});var c=P(2202),X=P(576);function O(ae){return(0,X.m)(ae?.[c.h])}},8239:(mt,Te,P)=>{P.d(Te,{t:()=>X});var c=P(576);function X(O){return(0,c.m)(O?.then)}},3260:(mt,Te,P)=>{P.d(Te,{L:()=>ae,Q:()=>O});var c=P(655),X=P(576);function O(oe){return(0,c.FC)(this,arguments,function*(){const ne=oe.getReader();try{for(;;){const{value:ve,done:he}=yield(0,c.qq)(ne.read());if(he)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(ve)}}finally{ne.releaseLock()}})}function ae(oe){return(0,X.m)(oe?.getReader)}},3532:(mt,Te,P)=>{P.d(Te,{K:()=>X});var c=P(576);function X(O){return O&&(0,c.m)(O.schedule)}},4482:(mt,Te,P)=>{P.d(Te,{A:()=>X,e:()=>O});var c=P(576);function X(ae){return(0,c.m)(ae?.lift)}function O(ae){return oe=>{if(X(oe))return oe.lift(function(ue){try{return ae(ue,this)}catch(ne){this.error(ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(mt,Te,P)=>{function c(){}P.d(Te,{Z:()=>c})},9635:(mt,Te,P)=>{P.d(Te,{U:()=>O,z:()=>X});var c=P(4671);function X(...ae){return O(ae)}function O(ae){return 0===ae.length?c.y:1===ae.length?ae[0]:function(ue){return ae.reduce((ne,ve)=>ve(ne),ue)}}},7849:(mt,Te,P)=>{P.d(Te,{h:()=>O});var c=P(2416),X=P(3410);function O(ae){X.z.setTimeout(()=>{const{onUnhandledError:oe}=c.v;if(!oe)throw ae;oe(ae)})}},4532:(mt,Te,P)=>{function c(X){return new TypeError(`You provided ${null!==X&&"object"==typeof X?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Te,{z:()=>c})},655:(mt,Te,P)=>{function ae(de,pe){var Se={};for(var ke in de)Object.prototype.hasOwnProperty.call(de,ke)&&pe.indexOf(ke)<0&&(Se[ke]=de[ke]);if(null!=de&&"function"==typeof Object.getOwnPropertySymbols){var Le=0;for(ke=Object.getOwnPropertySymbols(de);Le<ke.length;Le++)pe.indexOf(ke[Le])<0&&Object.prototype.propertyIsEnumerable.call(de,ke[Le])&&(Se[ke[Le]]=de[ke[Le]])}return Se}function Z(de,pe,Se,ke){return new(Se||(Se=Promise))(function(Ie,Rt){function sn(qt){try{Ue(ke.next(qt))}catch(Kt){Rt(Kt)}}function Ft(qt){try{Ue(ke.throw(qt))}catch(Kt){Rt(Kt)}}function Ue(qt){qt.done?Ie(qt.value):function Le(Ie){return Ie instanceof Se?Ie:new Se(function(Rt){Rt(Ie)})}(qt.value).then(sn,Ft)}Ue((ke=ke.apply(de,pe||[])).next())})}function Pe(de){return this instanceof Pe?(this.v=de,this):new Pe(de)}function be(de,pe,Se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,ke=Se.apply(de,pe||[]),Ie=[];return Le={},Rt("next"),Rt("throw"),Rt("return"),Le[Symbol.asyncIterator]=function(){return this},Le;function Rt(tn){ke[tn]&&(Le[tn]=function(Fn){return new Promise(function(zn,Bi){Ie.push([tn,Fn,zn,Bi])>1||sn(tn,Fn)})})}function sn(tn,Fn){try{!function Ft(tn){tn.value instanceof Pe?Promise.resolve(tn.value.v).then(Ue,qt):Kt(Ie[0][2],tn)}(ke[tn](Fn))}catch(zn){Kt(Ie[0][3],zn)}}function Ue(tn){sn("next",tn)}function qt(tn){sn("throw",tn)}function Kt(tn,Fn){tn(Fn),Ie.shift(),Ie.length&&sn(Ie[0][0],Ie[0][1])}}function Ge(de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Se,pe=de[Symbol.asyncIterator];return pe?pe.call(de):(de=function rt(de){var pe="function"==typeof Symbol&&Symbol.iterator,Se=pe&&de[pe],ke=0;if(Se)return Se.call(de);if(de&&"number"==typeof de.length)return{next:function(){return de&&ke>=de.length&&(de=void 0),{value:de&&de[ke++],done:!de}}};throw new TypeError(pe?"Object is not iterable.":"Symbol.iterator is not defined.")}(de),Se={},ke("next"),ke("throw"),ke("return"),Se[Symbol.asyncIterator]=function(){return this},Se);function ke(Ie){Se[Ie]=de[Ie]&&function(Rt){return new Promise(function(sn,Ft){!function Le(Ie,Rt,sn,Ft){Promise.resolve(Ft).then(function(Ue){Ie({value:Ue,done:sn})},Rt)}(sn,Ft,(Rt=de[Ie](Rt)).done,Rt.value)})}}}P.d(Te,{FC:()=>be,KL:()=>Ge,_T:()=>ae,mG:()=>Z,qq:()=>Pe})},4650:(mt,Te,P)=>{P.d(Te,{$8M:()=>fc,$Z:()=>ju,AFp:()=>kl,ALo:()=>kI,AaK:()=>ve,BQk:()=>Wu,CHM:()=>us,CRH:()=>Dy,CZH:()=>xy,CqO:()=>Xe,D6c:()=>_0,EJc:()=>Yw,EiD:()=>wh,EpF:()=>mn,F$t:()=>DC,F4k:()=>oo,FYo:()=>Yv,FiY:()=>vi,G48:()=>Bm,Gf:()=>Fw,GfV:()=>n_,Gpc:()=>j,Hsn:()=>TC,JOm:()=>To,JVY:()=>Cp,KtG:()=>$a,L6k:()=>Bv,LAX:()=>Ip,LFG:()=>$t,LSH:()=>fE,Lbi:()=>Nm,Lck:()=>dy,MAs:()=>em,MMx:()=>Iw,NdJ:()=>nm,OlP:()=>dn,Oqu:()=>Yb,PXZ:()=>SA,Q6J:()=>tr,QGY:()=>Fb,QP$:()=>At,QbO:()=>rf,Qsj:()=>YR,R0b:()=>Bs,RDi:()=>Bg,Rgc:()=>Mm,SBq:()=>gs,Sil:()=>Fm,Suo:()=>bs,TTD:()=>wr,TgZ:()=>N_,Tol:()=>kC,Udp:()=>sm,VKq:()=>xI,WFA:()=>Bt,X6Q:()=>u0,XFs:()=>dt,Xpm:()=>Un,Xts:()=>Gv,Y36:()=>_s,YKP:()=>Ew,YNc:()=>CC,Yjl:()=>q,Yz7:()=>Ue,Z0I:()=>Fn,ZZ4:()=>g0,_Bn:()=>ww,_UZ:()=>Nb,_Vd:()=>_a,_c5:()=>iD,_uU:()=>Kb,aQg:()=>Yy,c2e:()=>Kw,cJS:()=>Kt,cg1:()=>Q_,d8E:()=>Qu,dDg:()=>GI,dqk:()=>vn,dwT:()=>Y_,eBb:()=>$g,eFA:()=>Lm,ekj:()=>H_,eoX:()=>n0,f3M:()=>gc,g9A:()=>Vo,gM2:()=>gt,h0i:()=>td,hGG:()=>ff,hij:()=>Uh,iGM:()=>Nw,ifc:()=>bt,ip1:()=>nf,jDz:()=>fy,kL8:()=>iw,lG2:()=>V,lqb:()=>mi,lri:()=>t0,mCW:()=>b,n5z:()=>$n,n_E:()=>wy,oAB:()=>cr,oJD:()=>hE,oxw:()=>L_,pB0:()=>Uv,q3G:()=>ni,q4F:()=>yE,qLn:()=>Ch,qOj:()=>Mb,qZA:()=>Pb,qzn:()=>no,rWj:()=>Ny,sBO:()=>Fl,sIi:()=>k_,s_b:()=>Ey,soG:()=>Ma,tb:()=>Pl,tp0:()=>ms,uIk:()=>P_,vHH:()=>Ce,vpe:()=>Nn,wAp:()=>Mt,xi3:()=>by,xp6:()=>Mc,ynx:()=>ba,z2F:()=>Ra,z3N:()=>Ci,zSh:()=>Yg,zs3:()=>Uu});var c=P(7579),X=P(727),O=P(9751),ae=P(6451),oe=P(3099);function ue(s){for(let o in s)if(s[o]===ue)return o;throw Error("Could not find renamed property on target object.")}function ne(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function ve(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ve).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function he(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const $=ue({__forward_ref__:ue});function j(s){return s.__forward_ref__=j,s.toString=function(){return ve(this())},s}function Z(s){return ze(s)?s():s}function ze(s){return"function"==typeof s&&s.hasOwnProperty($)&&s.__forward_ref__===j}class Ce extends Error{constructor(o,l){super(function rt(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,l)),this.code=o}}function ge(s){return"string"==typeof s?s:null==s?"":String(s)}function be(s,o){throw new Ce(-201,!1)}function Le(s,o){null==s&&function Ie(s,o,l,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${l} ${d} ${o} <=Actual]`))}(o,s,null,"!=")}function Ue(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Kt(s){return{providers:s.providers||[],imports:s.imports||[]}}function tn(s){return zn(s,ss)||zn(s,Va)}function Fn(s){return null!==tn(s)}function zn(s,o){return s.hasOwnProperty(o)?s[o]:null}function Ai(s){return s&&(s.hasOwnProperty(Lr)||s.hasOwnProperty(jo))?s[Lr]:null}const ss=ue({\u0275prov:ue}),Lr=ue({\u0275inj:ue}),Va=ue({ngInjectableDef:ue}),jo=ue({ngInjectorDef:ue});var dt=(()=>((dt=dt||{})[dt.Default=0]="Default",dt[dt.Host=1]="Host",dt[dt.Self=2]="Self",dt[dt.SkipSelf=4]="SkipSelf",dt[dt.Optional=8]="Optional",dt))();let Wi;function Zi(s){const o=Wi;return Wi=s,o}function $o(s,o,l){const d=tn(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&dt.Optional?null:void 0!==o?o:void be(ve(s))}function di(s){return{toString:s}.toString()}var Mn=(()=>((Mn=Mn||{})[Mn.OnPush=0]="OnPush",Mn[Mn.Default=1]="Default",Mn))(),bt=(()=>{return(s=bt||(bt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",bt;var s})();const vn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),oi={},Tt=[],Mi=ue({\u0275cmp:ue}),_n=ue({\u0275dir:ue}),zo=ue({\u0275pipe:ue}),cn=ue({\u0275mod:ue}),hi=ue({\u0275fac:ue}),xi=ue({__NG_ELEMENT_ID__:ue});let Br=0;function Un(s){return di(()=>{const l=!0===s.standalone,d={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Mn.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||Tt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||bt.Emulated,id:"c"+Br++,styles:s.styles||Tt,_:null,setInput:null,schemas:s.schemas||null,tView:null},g=s.dependencies,v=s.features;return h.inputs=U(s.inputs,d),h.outputs=U(s.outputs),v&&v.forEach(E=>E(h)),h.directiveDefs=g?()=>("function"==typeof g?g():g).map(as).filter(Gn):null,h.pipeDefs=g?()=>("function"==typeof g?g():g).map(qe).filter(Gn):null,h})}function as(s){return le(s)||Y(s)}function Gn(s){return null!==s}function cr(s){return di(()=>({type:s.type,bootstrap:s.bootstrap||Tt,declarations:s.declarations||Tt,imports:s.imports||Tt,exports:s.exports||Tt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function U(s,o){if(null==s)return oi;const l={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),l[h]=d,o&&(o[h]=g)}return l}const V=Un;function q(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function le(s){return s[Mi]||null}function Y(s){return s[_n]||null}function qe(s){return s[zo]||null}function At(s){const o=le(s)||Y(s)||qe(s);return null!==o&&o.standalone}function Lt(s,o){const l=s[cn]||null;if(!l&&!0===o)throw new Error(`Type ${ve(s)} does not have '\u0275mod' property.`);return l}function fi(s){return Array.isArray(s)&&"object"==typeof s[1]}function Yi(s){return Array.isArray(s)&&!0===s[1]}function Wo(s){return 0!=(8&s.flags)}function $l(s){return 2==(2&s.flags)}function Ds(s){return 1==(1&s.flags)}function Hr(s){return null!==s.template}function Zo(s){return 0!=(256&s[2])}function Ts(s,o){return s.hasOwnProperty(hi)?s[hi]:null}class Of{constructor(o,l,d){this.previousValue=o,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function wr(){return ql}function ql(s){return s.type.prototype.ngOnChanges&&(s.setInput=tu),Ba}function Ba(){const s=Pf(this),o=s?.current;if(o){const l=s.previous;if(l===oi)s.previous=o;else for(let d in o)l[d]=o[d];s.current=null,this.ngOnChanges(o)}}function tu(s,o,l,d){const h=Pf(s)||function po(s,o){return s[Wl]=o}(s,{previous:oi,current:null}),g=h.current||(h.current={}),v=h.previous,E=this.declaredInputs[l],D=v[E];g[E]=new Of(D&&D.currentValue,o,v===oi),s[d]=o}wr.ngInherit=!0;const Wl="__ngSimpleChanges__";function Pf(s){return s[Wl]||null}function qn(s){for(;Array.isArray(s);)s=s[0];return s}function Er(s,o){return qn(o[s])}function Qi(s,o){return qn(o[s.index])}function Xl(s,o){return s.data[o]}function Ua(s,o){return s[o]}function Wn(s,o){const l=o[s];return fi(l)?l:l[0]}function $s(s){return 64==(64&s[2])}function $r(s,o){return null==o?null:s[o]}function mo(s){s[18]=0}function dr(s,o){s[5]+=o;let l=s,d=s[3];for(;null!==d&&(1===o&&1===l[5]||-1===o&&0===l[5]);)d[5]+=o,l=d,d=d[3]}const Et={lFrame:Vd(null),bindingsEnabled:!0};function Pd(){return Et.bindingsEnabled}function Ae(){return Et.lFrame.lView}function Qt(){return Et.lFrame.tView}function us(s){return Et.lFrame.contextLView=s,s[8]}function $a(s){return Et.lFrame.contextLView=null,s}function Hn(){let s=Jl();for(;null!==s&&64===s.type;)s=s.parent;return s}function Jl(){return Et.lFrame.currentTNode}function Hi(s,o){const l=Et.lFrame;l.currentTNode=s,l.isParent=o}function go(){return Et.lFrame.isParent}function ru(){Et.lFrame.isParent=!1}function Pi(){const s=Et.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function zr(){return Et.lFrame.bindingIndex++}function Cr(s){const o=Et.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}function Fd(s,o){const l=Et.lFrame;l.bindingIndex=l.bindingRootIndex=s,nc(o)}function nc(s){Et.lFrame.currentDirectiveIndex=s}function za(s){const o=Et.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function ic(){return Et.lFrame.currentQueryIndex}function Gr(s){Et.lFrame.currentQueryIndex=s}function Ld(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Ga(s,o,l){if(l&dt.SkipSelf){let h=o,g=s;for(;!(h=h.parent,null!==h||l&dt.Host||(h=Ld(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;o=h,s=g}const d=Et.lFrame=_o();return d.currentTNode=o,d.lView=s,!0}function rc(s){const o=_o(),l=s[1];Et.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function _o(){const s=Et.lFrame,o=null===s?null:s.child;return null===o?Vd(s):o}function Vd(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function qa(){const s=Et.lFrame;return Et.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Bd=qa;function Yo(){const s=qa();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Xi(){return Et.lFrame.selectedIndex}function Ms(s){Et.lFrame.selectedIndex=s}function jn(){const s=Et.lFrame;return Xl(s.tView,s.selectedIndex)}function yo(s,o){for(let l=o.directiveStart,d=o.directiveEnd;l<d;l++){const g=s.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:D,ngAfterViewChecked:M,ngOnDestroy:k}=g;v&&(s.contentHooks||(s.contentHooks=[])).push(-l,v),E&&((s.contentHooks||(s.contentHooks=[])).push(l,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,E)),D&&(s.viewHooks||(s.viewHooks=[])).push(-l,D),M&&((s.viewHooks||(s.viewHooks=[])).push(l,M),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,M)),null!=k&&(s.destroyHooks||(s.destroyHooks=[])).push(l,k)}}function sc(s,o,l){Wa(s,o,3,l)}function Gs(s,o,l,d){(3&s[2])===l&&Wa(s,o,l,d)}function qd(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function Wa(s,o,l,d){const g=d??-1,v=o.length-1;let E=0;for(let D=void 0!==d?65535&s[18]:0;D<v;D++)if("number"==typeof o[D+1]){if(E=o[D],null!=d&&E>=d)break}else o[D]<0&&(s[18]+=65536),(E<g||-1==g)&&(Uf(s,l,o,D),s[18]=(4294901760&s[18])+D+2),D++}function Uf(s,o,l,d){const h=l[d]<0,g=l[d+1],E=s[h?-l[d]:l[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(E)}finally{}}}else try{g.call(E)}finally{}}class Za{constructor(o,l,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function lc(s,o,l){let d=0;for(;d<l.length;){const h=l[d];if("number"==typeof h){if(0!==h)break;d++;const g=l[d++],v=l[d++],E=l[d++];s.setAttribute(o,v,E,g)}else{const g=h,v=l[++d];ou(g)?s.setProperty(o,g,v):s.setAttribute(o,g,v),d++}}return d}function Ya(s){return 3===s||4===s||6===s}function ou(s){return 64===s.charCodeAt(0)}function Qa(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?l=h:0===l||cc(s,l,h,null,-1===l||2===l?o[++d]:null)}}return s}function cc(s,o,l,d,h){let g=0,v=s.length;if(-1===o)v=-1;else for(;g<s.length;){const E=s[g++];if("number"==typeof E){if(E===o){v=-1;break}if(E>o){v=g-1;break}}}for(;g<s.length;){const E=s[g];if("number"==typeof E)break;if(E===l){if(null===d)return void(null!==h&&(s[g+1]=h));if(d===s[g+1])return void(s[g+2]=h)}g++,null!==d&&g++,null!==h&&g++}-1!==v&&(s.splice(v,0,o),g=v+1),s.splice(g++,0,l),null!==d&&s.splice(g++,0,d),null!==h&&s.splice(g++,0,h)}function jf(s){return-1!==s}function uc(s){return 32767&s}function hs(s,o){let l=function Iv(s){return s>>16}(s),d=o;for(;l>0;)d=d[15],l--;return d}let dc=!0;function Qo(s){const o=dc;return dc=s,o}let lu=0;const Ir={};function Vn(s,o){const l=ai(s,o);if(-1!==l)return l;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,uu(d.data,s),uu(o,null),uu(d.blueprint,null));const h=Xo(s,o),g=s.injectorIndex;if(jf(h)){const v=uc(h),E=hs(h,o),D=E[1].data;for(let M=0;M<8;M++)o[g+M]=E[v+M]|D[v+M]}return o[g+8]=h,g}function uu(s,o){s.push(0,0,0,0,0,0,0,0,o)}function ai(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Xo(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,d=null,h=o;for(;null!==h;){if(d=hu(h),null===d)return-1;if(l++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function Xa(s,o,l){!function cu(s,o,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(xi)&&(d=l[xi]),null==d&&(d=l[xi]=lu++);const h=255&d;o.data[s+(h>>5)]|=1<<h}(s,o,l)}function hc(s,o,l){if(l&dt.Optional||void 0!==s)return s;be()}function $f(s,o,l,d){if(l&dt.Optional&&void 0===d&&(d=null),0==(l&(dt.Self|dt.Host))){const h=s[9],g=Zi(void 0);try{return h?h.get(o,d,l&dt.Optional):$o(o,d,l&dt.Optional)}finally{Zi(g)}}return hc(d,0,l)}function Ja(s,o,l,d=dt.Default,h){if(null!==s){if(1024&o[2]){const v=function tl(s,o,l,d,h){let g=s,v=o;for(;null!==g&&null!==v&&1024&v[2]&&!(256&v[2]);){const E=Jo(g,v,l,d|dt.Self,Ir);if(E!==Ir)return E;let D=g.parent;if(!D){const M=v[21];if(M){const k=M.get(l,Ir,d);if(k!==Ir)return k}D=hu(v),v=v[15]}g=D}return h}(s,o,l,d,Ir);if(v!==Ir)return v}const g=Jo(s,o,l,d,Ir);if(g!==Ir)return g}return $f(o,l,d,h)}function Jo(s,o,l,d,h){const g=function Ws(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(xi)?s[xi]:void 0;return"number"==typeof o?o>=0?255&o:zf:o}(l);if("function"==typeof g){if(!Ga(o,s,d))return d&dt.Host?hc(h,0,d):$f(o,l,d,h);try{const v=g(d);if(null!=v||d&dt.Optional)return v;be()}finally{Bd()}}else if("number"==typeof g){let v=null,E=ai(s,o),D=-1,M=d&dt.Host?o[16][6]:null;for((-1===E||d&dt.SkipSelf)&&(D=-1===E?Xo(s,o):o[E+8],-1!==D&&Yd(d,!1)?(v=o[1],E=uc(D),o=hs(D,o)):E=-1);-1!==E;){const k=o[1];if(Kd(g,E,k.data)){const N=bg(E,o,l,v,d,M);if(N!==Ir)return N}D=o[E+8],-1!==D&&Yd(d,o[1].data[E+8]===M)&&Kd(g,E,o)?(v=k,E=uc(D),o=hs(D,o)):E=-1}}return h}function bg(s,o,l,d,h,g){const v=o[1],E=v.data[s+8],k=ps(E,v,l,null==d?$l(E)&&dc:d!=v&&0!=(3&E.type),h&dt.Host&&g===E);return null!==k?el(o,v,k,E):Ir}function ps(s,o,l,d,h){const g=s.providerIndexes,v=o.data,E=1048575&g,D=s.directiveStart,k=g>>20,z=h?E+k:s.directiveEnd;for(let J=d?E:E+k;J<z;J++){const Ee=v[J];if(J<D&&l===Ee||J>=D&&Ee.type===l)return J}if(h){const J=v[D];if(J&&Hr(J)&&J.type===l)return D}return null}function el(s,o,l,d){let h=s[l];const g=o.data;if(function oc(s){return s instanceof Za}(h)){const v=h;v.resolving&&function _t(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Ce(-200,`Circular dependency in DI detected for ${s}${l}`)}(function me(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ge(s)}(g[l]));const E=Qo(v.canSeeViewProviders);v.resolving=!0;const D=v.injectImpl?Zi(v.injectImpl):null;Ga(s,d,dt.Default);try{h=s[l]=v.factory(void 0,g,s,d),o.firstCreatePass&&l>=d.directiveStart&&function Gd(s,o,l){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(d){const v=ql(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,v),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,v)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),g&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,g),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,g))}(l,g[l],o)}finally{null!==D&&Zi(D),Qo(E),v.resolving=!1,Bd()}}return h}function Kd(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function Yd(s,o){return!(s&dt.Self||s&dt.Host&&o)}class qr{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,d){return Ja(this._tNode,this._lView,o,d,l)}}function zf(){return new qr(Hn(),Ae())}function $n(s){return di(()=>{const o=s.prototype.constructor,l=o[hi]||du(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const g=h[hi]||du(h);if(g&&g!==l)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function du(s){return ze(s)?()=>{const o=du(Z(s));return o&&o()}:Ts(s)}function hu(s){const o=s[1],l=o.type;return 2===l?o.declTNode:1===l?s[6]:null}function fc(s){return function vo(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const d=l.length;let h=0;for(;h<d;){const g=l[h];if(Ya(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<d&&"string"==typeof l[h];)h++;else{if(g===o)return l[h+1];h+=2}}}return null}(Hn(),s)}const ea="__parameters__";function Zs(s,o,l){return di(()=>{const d=function ta(s){return function(...l){if(s){const d=s(...l);for(const h in d)this[h]=d[h]}}}(o);function h(...g){if(this instanceof h)return d.apply(this,g),this;const v=new h(...g);return E.annotation=v,E;function E(D,M,k){const N=D.hasOwnProperty(ea)?D[ea]:Object.defineProperty(D,ea,{value:[]})[ea];for(;N.length<=k;)N.push(null);return(N[k]=N[k]||[]).push(v),D}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class dn{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Ue({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function pi(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let d=s[l];Array.isArray(d)?(o===s&&(o=s.slice(0,l)),pi(d,o)):o!==s&&o.push(d)}return o}function Dr(s,o){s.forEach(l=>Array.isArray(l)?Dr(l,o):o(l))}function Zf(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function Tr(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function wo(s,o){const l=[];for(let d=0;d<s;d++)l.push(o);return l}function Sr(s,o,l){let d=rl(s,o);return d>=0?s[1|d]=l:(d=~d,function Kf(s,o,l,d){let h=s.length;if(h==o)s.push(l,d);else if(1===h)s.push(d,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=l,s[o+1]=d}}(s,d,o,l)),d}function Jd(s,o){const l=rl(s,o);if(l>=0)return s[1|l]}function rl(s,o){return function Yf(s,o,l){let d=0,h=s.length>>l;for(;h!==d;){const g=d+(h-d>>1),v=s[g<<l];if(o===v)return g<<l;v>o?h=g:d=g+1}return~(h<<l)}(s,o,1)}const rn={},ti="__NG_DI_FLAG__",Eo="ngTempTokenPath",Xf=/\n/gm,ol="__source";let sa;function Ar(s){const o=sa;return sa=s,o}function oa(s,o=dt.Default){if(void 0===sa)throw new Ce(-203,!1);return null===sa?$o(s,void 0,o):sa.get(s,o&dt.Optional?null:void 0,o)}function $t(s,o=dt.Default){return(function Vr(){return Wi}()||oa)(Z(s),o)}function gc(s,o=dt.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),$t(s,o)}function vu(s){const o=[];for(let l=0;l<s.length;l++){const d=Z(s[l]);if(Array.isArray(d)){if(0===d.length)throw new Ce(900,!1);let h,g=dt.Default;for(let v=0;v<d.length;v++){const E=d[v],D=_c(E);"number"==typeof D?-1===D?h=E.token:g|=D:h=E}o.push($t(h,g))}else o.push($t(d))}return o}function Ps(s,o){return s[ti]=o,s.prototype[ti]=o,s}function _c(s){return s[ti]}const vi=Ps(Zs("Optional"),8),ms=Ps(Zs("SkipSelf"),4);var To=(()=>((To=To||{})[To.Important=1]="Important",To[To.DashCase=2]="DashCase",To))();const vc=new Map;let Tv=0;const ah="__ngContext__";function Ni(s,o){fi(o)?(s[ah]=o[20],function Sv(s){vc.set(s[20],s)}(o)):s[ah]=o}function Tu(s,o){return undefined(s,o)}function da(s){const o=s[3];return Yi(o)?o[3]:o}function Mg(s){return hl(s[13])}function ap(s){return hl(s[4])}function hl(s){for(;null!==s&&!Yi(s);)s=s[4];return s}function eo(s,o,l,d,h){if(null!=d){let g,v=!1;Yi(d)?g=d:fi(d)&&(v=!0,d=d[0]);const E=qn(d);0===s&&null!==l?null==h?ph(o,l,E):Fs(o,l,E,h||null,!0):1===s&&null!==l?Fs(o,l,E,h||null,!0):2===s?function yp(s,o,l){const d=Ec(s,o);d&&function Pv(s,o,l,d){s.removeChild(o,l,d)}(s,d,o,l)}(o,E,v):3===s&&o.destroyNode(E),null!=g&&function gh(s,o,l,d,h){const g=l[7];g!==qn(l)&&eo(o,s,d,g,h);for(let E=10;E<l.length;E++){const D=l[E];Ru(D[1],D,s,o,d,g)}}(o,s,g,l,h)}}function Mu(s,o,l){return s.createElement(o,l)}function kg(s,o){const l=s[9],d=l.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,dr(h,-1)),l.splice(d,1)}function Og(s,o){if(s.length<=10)return;const l=10+o,d=s[l];if(d){const h=d[17];null!==h&&h!==s&&kg(h,d),o>0&&(s[l-1][4]=d[4]);const g=Tr(s,10+o);!function hh(s,o){Ru(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const v=g[19];null!==v&&v.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function Pg(s,o){if(!(128&o[2])){const l=o[11];l.destroyNode&&Ru(s,o,l,3,null,null),function xg(s){let o=s[13];if(!o)return fh(s[1],s);for(;o;){let l=null;if(fi(o))l=o[13];else{const d=o[10];d&&(l=d)}if(!l){for(;o&&!o[4]&&o!==s;)fi(o)&&fh(o[1],o),o=o[3];null===o&&(o=s),fi(o)&&fh(o[1],o),l=o&&o[4]}o=l}}(o)}}function fh(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function xu(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let d=0;d<l.length;d+=2){const h=o[l[d]];if(!(h instanceof Za)){const g=l[d+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const E=h[g[v]],D=g[v+1];try{D.call(E)}finally{}}else try{g.call(h)}finally{}}}}(s,o),function kv(s,o){const l=s.cleanup,d=o[7];let h=-1;if(null!==l)for(let g=0;g<l.length-1;g+=2)if("string"==typeof l[g]){const v=l[g+1],E="function"==typeof v?v(o):qn(o[v]),D=d[h=l[g+2]],M=l[g+3];"boolean"==typeof M?E.removeEventListener(l[g],D,M):M>=0?d[h=M]():d[h=-M].unsubscribe(),g+=2}else{const v=d[h=l[g+1]];l[g].call(v)}if(null!==d){for(let g=h+1;g<d.length;g++)(0,d[g])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const l=o[17];if(null!==l&&Yi(o[3])){l!==o[3]&&kg(l,o);const d=o[19];null!==d&&d.detachView(s)}!function uE(s){vc.delete(s[20])}(o)}}function Ng(s,o,l){return function hp(s,o,l){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return l[0];if(2&d.flags){const h=s.data[d.directiveStart].encapsulation;if(h===bt.None||h===bt.Emulated)return null}return Qi(d,l)}(s,o.parent,l)}function Fs(s,o,l,d,h){s.insertBefore(o,l,d,h)}function ph(s,o,l){s.appendChild(o,l)}function Ov(s,o,l,d,h){null!==d?Fs(s,o,l,d,h):ph(s,o,l)}function Ec(s,o){return s.parentNode(o)}function fp(s,o,l){return Nv(s,o,l)}let Ou,Nu,gl,Nv=function pl(s,o,l){return 40&s.type?Qi(s,l):null};function gp(s,o,l,d){const h=Ng(s,d,o),g=o[11],E=fp(d.parent||o[6],d,o);if(null!=h)if(Array.isArray(l))for(let D=0;D<l.length;D++)Ov(g,h,l[D],E,!1);else Ov(g,h,l,E,!1)}function ml(s,o){if(null!==o){const l=o.type;if(3&l)return Qi(o,s);if(4&l)return _p(-1,s[o.index]);if(8&l){const d=o.child;if(null!==d)return ml(s,d);{const h=s[o.index];return Yi(h)?_p(-1,h):qn(h)}}if(32&l)return Tu(o,s)()||qn(s[o.index]);{const d=Fv(s,o);return null!==d?Array.isArray(d)?d[0]:ml(da(s[16]),d):ml(s,o.next)}}return null}function Fv(s,o){return null!==o?s[16][6].projection[o.projection]:null}function _p(s,o){const l=10+s+1;if(l<o.length){const d=o[l],h=d[1].firstChild;if(null!==h)return ml(d,h)}return o[7]}function mh(s,o,l,d,h,g,v){for(;null!=l;){const E=d[l.index],D=l.type;if(v&&0===o&&(E&&Ni(qn(E),d),l.flags|=4),64!=(64&l.flags))if(8&D)mh(s,o,l.child,d,h,g,!1),eo(o,s,h,E,g);else if(32&D){const M=Tu(l,d);let k;for(;k=M();)eo(o,s,h,k,g);eo(o,s,h,E,g)}else 16&D?ku(s,o,d,l,h,g):eo(o,s,h,E,g);l=v?l.projectionNext:l.next}}function Ru(s,o,l,d,h,g){mh(l,d,s.firstChild,o,h,g,!1)}function ku(s,o,l,d,h,g){const v=l[16],D=v[6].projection[d.projection];if(Array.isArray(D))for(let M=0;M<D.length;M++)eo(o,s,h,D[M],g);else mh(s,o,D,v[3],h,g,!0)}function Cc(s,o,l){s.setAttribute(o,"style",l)}function bp(s,o,l){""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l)}function Ei(s){return function _h(){if(void 0===Ou&&(Ou=null,vn.trustedTypes))try{Ou=vn.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Ou}()?.createHTML(s)||s}function Bg(s){Nu=s}function Fu(s){return function to(){if(void 0===gl&&(gl=null,vn.trustedTypes))try{gl=vn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return gl}()?.createHTML(s)||s}class fa{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Hg extends fa{getTypeName(){return"HTML"}}class Ji extends fa{getTypeName(){return"Style"}}class Ep extends fa{getTypeName(){return"Script"}}class vh extends fa{getTypeName(){return"URL"}}class Vv extends fa{getTypeName(){return"ResourceURL"}}function Ci(s){return s instanceof fa?s.changingThisBreaksApplicationSecurity:s}function no(s,o){const l=function jg(s){return s instanceof fa&&s.getTypeName()||null}(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}function Cp(s){return new Hg(s)}function Bv(s){return new Ji(s)}function $g(s){return new Ep(s)}function Ip(s){return new vh(s)}function Uv(s){return new Vv(s)}class zg{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(Ei(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch{return null}}}class y{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const d=this.inertDocument.createElement("body");l.appendChild(d)}}getInertBodyElement(o){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=Ei(o),l;const d=this.inertDocument.createElement("body");return d.innerHTML=Ei(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(o){const l=o.attributes;for(let h=l.length-1;0<h;h--){const v=l.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let d=o.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const m=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function b(s){return(s=String(s)).match(m)?s:"unsafe:"+s}function S(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function R(...s){const o={};for(const l of s)for(const d in l)l.hasOwnProperty(d)&&(o[d]=!0);return o}const H=S("area,br,col,hr,img,wbr"),K=S("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Re=S("rp,rt"),On=R(H,R(K,S("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),R(Re,S("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),R(Re,K)),Yr=S("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Lu=R(Yr,S("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),S("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),jv=S("script,style,template");class $v{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,d=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?d=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,d&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let h=this.checkClobberedElement(l,l.nextSibling);if(h){l=h;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!On.hasOwnProperty(l))return this.sanitizedSomething=!0,!jv.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const d=o.attributes;for(let h=0;h<d.length;h++){const g=d.item(h),v=g.name,E=v.toLowerCase();if(!Lu.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let D=g.value;Yr[E]&&(D=b(D)),this.buf.push(" ",v,'="',Sp(D),'"')}return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();On.hasOwnProperty(l)&&!H.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(Sp(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const Gg=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Tp=/([^\#-~ |!])/g;function Sp(s){return s.replace(/&/g,"&amp;").replace(Gg,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Tp,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let _l;function wh(s,o){let l=null;try{_l=_l||function Dp(s){const o=new y(s);return function p(){try{return!!(new window.DOMParser).parseFromString(Ei(""),"text/html")}catch{return!1}}()?new zg(o):o}(s);let d=o?String(o):"";l=_l.getInertBodyElement(d);let h=5,g=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=g,g=l.innerHTML,l=_l.getInertBodyElement(d)}while(d!==g);return Ei((new $v).sanitizeChildren(qg(l)||l))}finally{if(l){const d=qg(l)||l;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function qg(s){return"content"in s&&function Wg(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var ni=(()=>((ni=ni||{})[ni.NONE=0]="NONE",ni[ni.HTML=1]="HTML",ni[ni.STYLE=2]="STYLE",ni[ni.SCRIPT=3]="SCRIPT",ni[ni.URL=4]="URL",ni[ni.RESOURCE_URL=5]="RESOURCE_URL",ni))();function hE(s){const o=yl();return o?Fu(o.sanitize(ni.HTML,s)||""):no(s,"HTML")?Fu(Ci(s)):wh(function wp(){return void 0!==Nu?Nu:typeof document<"u"?document:void 0}(),ge(s))}function fE(s){const o=yl();return o?o.sanitize(ni.URL,s)||"":no(s,"URL")?Ci(s):b(ge(s))}function yl(){const s=Ae();return s&&s[12]}const Gv=new dn("ENVIRONMENT_INITIALIZER"),qv=new dn("INJECTOR",-1),mE=new dn("INJECTOR_DEF_TYPES");class Wv{get(o,l=rn){if(l===rn){const d=new Error(`NullInjectorError: No provider for ${ve(o)}!`);throw d.name="NullInjectorError",d}return l}}function Ap(...s){return{\u0275providers:gE(0,s)}}function gE(s,...o){const l=[],d=new Set;let h;return Dr(o,g=>{const v=g;Kg(v,l,[],d)&&(h||(h=[]),h.push(v))}),void 0!==h&&Zg(h,l),l}function Zg(s,o){for(let l=0;l<s.length;l++){const{providers:h}=s[l];Dr(h,g=>{o.push(g)})}}function Kg(s,o,l,d){if(!(s=Z(s)))return!1;let h=null,g=Ai(s);const v=!g&&le(s);if(g||v){if(v&&!v.standalone)return!1;h=s}else{const D=s.ngModule;if(g=Ai(D),!g)return!1;h=D}const E=d.has(h);if(v){if(E)return!1;if(d.add(h),v.dependencies){const D="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const M of D)Kg(M,o,l,d)}}else{if(!g)return!1;{if(null!=g.imports&&!E){let M;d.add(h);try{Dr(g.imports,k=>{Kg(k,o,l,d)&&(M||(M=[]),M.push(k))})}finally{}void 0!==M&&Zg(M,o)}if(!E){const M=Ts(h)||(()=>new h);o.push({provide:h,useFactory:M,deps:Tt},{provide:mE,useValue:h,multi:!0},{provide:Gv,useValue:()=>$t(h),multi:!0})}const D=g.providers;null==D||E||Dr(D,k=>{o.push(k)})}}return h!==s&&void 0!==s.providers}const pa=ue({provide:String,useValue:ue});function Dc(s){return null!==s&&"object"==typeof s&&pa in s}function ii(s){return"function"==typeof s}const Yg=new dn("Set Injector scope."),Ii={},ma={};let ga;function ri(){return void 0===ga&&(ga=new Wv),ga}class mi{}class Mp extends mi{constructor(o,l,d,h){super(),this.parent=l,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Xg(o,v=>this.processProvider(v)),this.records.set(qv,Zn(void 0,this)),h.has("environment")&&this.records.set(mi,Zn(void 0,this));const g=this.records.get(Yg);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(mE.multi,Tt,dt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const l=Ar(this),d=Zi(void 0);try{return o()}finally{Ar(l),Zi(d)}}get(o,l=rn,d=dt.Default){this.assertNotDestroyed();const h=Ar(this),g=Zi(void 0);try{if(!(d&dt.SkipSelf)){let E=this.records.get(o);if(void 0===E){const D=function xp(s){return"function"==typeof s||"object"==typeof s&&s instanceof dn}(o)&&tn(o);E=D&&this.injectableDefInScope(D)?Zn(Qg(o),Ii):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(d&dt.Self?ri():this.parent).get(o,l=d&dt.Optional&&l===rn?null:l)}catch(v){if("NullInjectorError"===v.name){if((v[Eo]=v[Eo]||[]).unshift(ve(o)),h)throw v;return function yc(s,o,l,d){const h=s[Eo];throw o[ol]&&h.unshift(o[ol]),s.message=function Ys(s,o,l,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=ve(o);if(Array.isArray(o))h=o.map(ve).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let E=o[v];g.push(v+":"+("string"==typeof E?JSON.stringify(E):ve(E)))}h=`{${g.join(", ")}}`}return`${l}${d?"("+d+")":""}[${h}]: ${s.replace(Xf,"\n  ")}`}("\n"+s.message,h,l,d),s.ngTokenPath=h,s[Eo]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{Zi(g),Ar(h)}}resolveInjectorInitializers(){const o=Ar(this),l=Zi(void 0);try{const d=this.get(Gv.multi,Tt,dt.Self);for(const h of d)h()}finally{Ar(o),Zi(l)}}toString(){const o=[],l=this.records;for(const d of l.keys())o.push(ve(d));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ce(205,!1)}processProvider(o){let l=ii(o=Z(o))?o:Z(o&&o.provide);const d=function vl(s){return Dc(s)?Zn(void 0,s.useValue):Zn(bl(s),Ii)}(o);if(ii(o)||!0!==o.multi)this.records.get(l);else{let h=this.records.get(l);h||(h=Zn(void 0,Ii,!0),h.factory=()=>vu(h.multi),this.records.set(l,h)),l=o,h.multi.push(o)}this.records.set(l,d)}hydrate(o,l){return l.value===Ii&&(l.value=ma,l.value=l.factory()),"object"==typeof l.value&&l.value&&function PT(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=Z(o.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function Qg(s){const o=tn(s),l=null!==o?o.factory:Ts(s);if(null!==l)return l;if(s instanceof dn)throw new Ce(204,!1);if(s instanceof Function)return function OT(s){const o=s.length;if(o>0)throw wo(o,"?"),new Ce(204,!1);const l=function Bi(s){const o=s&&(s[ss]||s[Va]);if(o){const l=function ar(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Ce(204,!1)}function bl(s,o,l){let d;if(ii(s)){const h=Z(s);return Ts(h)||Qg(h)}if(Dc(s))d=()=>Z(s.useValue);else if(function Sc(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...vu(s.deps||[]));else if(function Tc(s){return!(!s||!s.useExisting)}(s))d=()=>$t(Z(s.useExisting));else{const h=Z(s&&(s.useClass||s.provide));if(!function wl(s){return!!s.deps}(s))return Ts(h)||Qg(h);d=()=>new h(...vu(s.deps))}return d}function Zn(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function Kv(s){return!!s.\u0275providers}function Xg(s,o){for(const l of s)Array.isArray(l)?Xg(l,o):Kv(l)?Xg(l.\u0275providers,o):o(l)}class Jg{}class FT{resolveComponentFactory(o){throw function e_(s){const o=Error(`No component factory found for ${ve(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let _a=(()=>{class s{}return s.NULL=new FT,s})();function LT(){return Eh(Hn(),Ae())}function Eh(s,o){return new gs(Qi(s,o))}let gs=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=LT,s})();function _E(s){return s instanceof gs?s.nativeElement:s}class Yv{}let YR=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function pr(){const s=Ae(),l=Wn(Hn().index,s);return(fi(l)?l:s)[11]}(),s})(),Ac=(()=>{class s{}return s.\u0275prov=Ue({token:s,providedIn:"root",factory:()=>null}),s})();class n_{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const yE=new n_("14.3.0"),Qv={};function Xv(s){return s.ngOriginalError}class Ch{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o);this._console.error("ERROR",o),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&Xv(o);for(;l&&Xv(l);)l=Xv(l);return l||null}}function Qr(s){return s instanceof Function?s():s}function Jv(s,o,l){let d=s.length;for(;;){const h=s.indexOf(o,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=o.length;if(h+g===d||s.charCodeAt(h+g)<=32)return h}l=h+1}}const IE="ng-template";function tb(s,o,l){let d=0;for(;d<s.length;){let h=s[d++];if(l&&"class"===h){if(h=s[d],-1!==Jv(h.toLowerCase(),o,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function Op(s){return 4===s.type&&s.value!==IE}function DE(s,o,l){return o===(4!==s.type||l?s.value:IE)}function TE(s,o,l){let d=4;const h=s.attrs||[],g=function jT(s){for(let o=0;o<s.length;o++)if(Ya(s[o]))return o;return s.length}(h);let v=!1;for(let E=0;E<o.length;E++){const D=o[E];if("number"!=typeof D){if(!v)if(4&d){if(d=2|1&d,""!==D&&!DE(s,D,l)||""===D&&1===o.length){if(Ao(d))return!1;v=!0}}else{const M=8&d?D:o[++E];if(8&d&&null!==s.attrs){if(!tb(s.attrs,M,l)){if(Ao(d))return!1;v=!0}continue}const N=HT(8&d?"class":D,h,Op(s),l);if(-1===N){if(Ao(d))return!1;v=!0;continue}if(""!==M){let z;z=N>g?"":h[N+1].toLowerCase();const J=8&d?z:null;if(J&&-1!==Jv(J,M,0)||2&d&&M!==z){if(Ao(d))return!1;v=!0}}}}else{if(!v&&!Ao(d)&&!Ao(D))return!1;if(v&&Ao(D))continue;v=!1,d=D|1&d}}return Ao(d)||v}function Ao(s){return 0==(1&s)}function HT(s,o,l,d){if(null===o)return-1;let h=0;if(d||!l){let g=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)g=!0;else{if(1===v||2===v){let E=o[++h];for(;"string"==typeof E;)E=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=g?1:2}return-1}return function $T(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const d=s[l];if("number"==typeof d)return-1;if(d===o)return l;l++}return-1}(o,s)}function SE(s,o,l=!1){for(let d=0;d<o.length;d++)if(TE(s,o[d],l))return!0;return!1}function zT(s,o){e:for(let l=0;l<o.length;l++){const d=o[l];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function AE(s,o){return s?":not("+o.trim()+")":o}function GT(s){let o=s[0],l=1,d=2,h="",g=!1;for(;l<s.length;){let v=s[l];if("string"==typeof v)if(2&d){const E=s[++l];h+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&d?h+="."+v:4&d&&(h+=" "+v);else""!==h&&!Ao(v)&&(o+=AE(g,h),h=""),d=v,g=g||!Ao(d);l++}return""!==h&&(o+=AE(g,h)),o}const zt={};function Mc(s){l_(Qt(),Ae(),Xi()+s,!1)}function l_(s,o,l,d){if(!d)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&sc(o,g,l)}else{const g=s.preOrderHooks;null!==g&&Gs(o,g,0,l)}Ms(l)}function ib(s,o=null,l=null,d){const h=Bu(s,o,l,d);return h.resolveInjectorInitializers(),h}function Bu(s,o=null,l=null,d,h=new Set){const g=[l||Tt,Ap(s)];return d=d||("object"==typeof s?void 0:ve(s)),new Mp(g,o||ri(),d||null,h)}let Uu=(()=>{class s{static create(l,d){if(Array.isArray(l))return ib({name:""},d,l,"");{const h=l.name??"";return ib({name:h},l.parent,l.providers,h)}}}return s.THROW_IF_NOT_FOUND=rn,s.NULL=new Wv,s.\u0275prov=Ue({token:s,providedIn:"any",factory:()=>$t(qv)}),s.__NG_ELEMENT_ID__=-1,s})();function _s(s,o=dt.Default){const l=Ae();return null===l?$t(s,o):Ja(Hn(),l,Z(s),o)}function ju(){throw new Error("invalid")}function Lp(s,o){return s<<17|o<<2}function Mo(s){return s>>17&32767}function cb(s){return 2|s}function ro(s){return(131068&s)>>2}function f_(s,o){return-131069&s|o<<2}function m_(s){return 1|s}function WE(s,o){const l=s.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const h=l[d],g=l[d+1];if(-1!==g){const v=s.data[g];Gr(h),v.contentQueries(2,o[g],g)}}}function w_(s,o,l,d,h,g,v,E,D,M,k){const N=o.blueprint.slice();return N[0]=h,N[2]=76|d,(null!==k||s&&1024&s[2])&&(N[2]|=1024),mo(N),N[3]=N[15]=s,N[8]=l,N[10]=v||s&&s[10],N[11]=E||s&&s[11],N[12]=D||s&&s[12]||null,N[9]=M||s&&s[9]||null,N[6]=g,N[20]=function sp(){return Tv++}(),N[21]=k,N[16]=2==o.type?s[16]:N,N}function Sh(s,o,l,d,h){let g=s.data[o];if(null===g)g=function mb(s,o,l,d,h){const g=Jl(),v=go(),D=s.data[o]=function pS(s,o,l,d,h,g){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,l,o,d,h);return null===s.firstChild&&(s.firstChild=D),null!==g&&(v?null==g.child&&null!==D.parent&&(g.child=D):null===g.next&&(g.next=D)),D}(s,o,l,d,h),function tc(){return Et.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=l,g.value=d,g.attrs=h;const v=function As(){const s=Et.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return Hi(g,!0),g}function Gp(s,o,l,d){if(0===l)return-1;const h=o.length;for(let g=0;g<l;g++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function gb(s,o,l){rc(o);try{const d=s.viewQuery;null!==d&&A_(1,d,l);const h=s.template;null!==h&&qp(s,o,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&WE(s,o),s.staticViewQueries&&A_(2,s.viewQuery,l);const g=s.components;null!==g&&function dS(s,o){for(let l=0;l<o.length;l++)rC(s,o[l])}(o,g)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,Yo()}}function Ah(s,o,l,d){const h=o[2];if(128!=(128&h)){rc(o);try{mo(o),function su(s){return Et.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&qp(s,o,l,2,d);const v=3==(3&h);if(v){const M=s.preOrderCheckHooks;null!==M&&sc(o,M,null)}else{const M=s.preOrderHooks;null!==M&&Gs(o,M,0,null),qd(o,0)}if(function vS(s){for(let o=Mg(s);null!==o;o=ap(o)){if(!o[2])continue;const l=o[9];for(let d=0;d<l.length;d++){const h=l[d],g=h[3];0==(512&h[2])&&dr(g,1),h[2]|=512}}}(o),function yS(s){for(let o=Mg(s);null!==o;o=ap(o))for(let l=10;l<o.length;l++){const d=o[l],h=d[1];$s(d)&&Ah(h,d,h.template,d[8])}}(o),null!==s.contentQueries&&WE(s,o),v){const M=s.contentCheckHooks;null!==M&&sc(o,M)}else{const M=s.contentHooks;null!==M&&Gs(o,M,1),qd(o,1)}!function zp(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const h=l[d];if(h<0)Ms(~h);else{const g=h,v=l[++d],E=l[++d];Fd(v,g),E(2,o[g])}}}finally{Ms(-1)}}(s,o);const E=s.components;null!==E&&function uS(s,o){for(let l=0;l<o.length;l++)bS(s,o[l])}(o,E);const D=s.viewQuery;if(null!==D&&A_(2,D,d),v){const M=s.viewCheckHooks;null!==M&&sc(o,M)}else{const M=s.viewHooks;null!==M&&Gs(o,M,2),qd(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,dr(o[3],-1))}finally{Yo()}}}function qp(s,o,l,d,h){const g=Xi(),v=2&d;try{Ms(-1),v&&o.length>22&&l_(s,o,22,!1),l(d,h)}finally{Ms(g)}}function $u(s,o,l){if(Wo(o)){const h=o.directiveEnd;for(let g=o.directiveStart;g<h;g++){const v=s.data[g];v.contentQueries&&v.contentQueries(1,l[g],g)}}}function _b(s,o,l){!Pd()||(function XE(s,o,l,d){const h=l.directiveStart,g=l.directiveEnd;s.firstCreatePass||Vn(l,o),Ni(d,o);const v=l.initialInputs;for(let E=h;E<g;E++){const D=s.data[E],M=Hr(D);M&&gS(o,l,D);const k=el(o,s,E,l);Ni(k,o),null!==v&&T_(0,E-h,k,D,0,v),M&&(Wn(l.index,o)[8]=k)}}(s,o,l,Qi(l,o)),128==(128&l.flags)&&function JE(s,o,l){const d=l.directiveStart,h=l.directiveEnd,g=l.index,v=function Ko(){return Et.lFrame.currentDirectiveIndex}();try{Ms(g);for(let E=d;E<h;E++){const D=s.data[E],M=o[E];nc(E),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&Wp(D,M)}}finally{Ms(-1),nc(v)}}(s,o,l))}function yb(s,o,l=Qi){const d=o.localNames;if(null!==d){let h=o.index+1;for(let g=0;g<d.length;g+=2){const v=d[g+1],E=-1===v?l(o,s):s[v];s[h++]=E}}}function ZE(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=vb(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function vb(s,o,l,d,h,g,v,E,D,M){const k=22+d,N=k+h,z=function hS(s,o){const l=[];for(let d=0;d<o;d++)l.push(d<s?null:zt);return l}(k,N),J="function"==typeof M?M():M;return z[1]={type:s,blueprint:z,template:l,queries:null,viewQuery:E,declTNode:o,data:z.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:D,consts:J,incompleteFirstPass:!1}}function KE(s,o,l,d){const h=sC(o);null===l?h.push(d):(h.push(l),s.firstCreatePass&&oC(s).push(d,h.length-1))}function bb(s,o,l){for(let d in s)if(s.hasOwnProperty(d)){const h=s[d];(l=null===l?{}:l).hasOwnProperty(d)?l[d].push(o,h):l[d]=[o,h]}return l}function YE(s,o){const d=o.directiveEnd,h=s.data,g=o.attrs,v=[];let E=null,D=null;for(let M=o.directiveStart;M<d;M++){const k=h[M],N=k.inputs,z=null===g||Op(o)?null:_S(N,g);v.push(z),E=bb(N,M,E),D=bb(k.outputs,M,D)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=16),E.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=E,o.outputs=D}function ys(s,o,l,d,h,g,v,E){const D=Qi(o,l);let k,M=o.inputs;!E&&null!=M&&(k=M[d])?(Tb(s,l,k,d,h),$l(o)&&E_(l,o.index)):3&o.type&&(d=function wb(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=v?v(h,o.value||"",d):h,g.setProperty(D,d,h))}function E_(s,o){const l=Wn(o,s);16&l[2]||(l[2]|=32)}function Eb(s,o,l,d){let h=!1;if(Pd()){const g=function D_(s,o,l){const d=s.directiveRegistry;let h=null;if(d)for(let g=0;g<d.length;g++){const v=d[g];SE(l,v.selectors,!1)&&(h||(h=[]),Xa(Vn(l,o),s,v.type),Hr(v)?(Cb(s,l),h.unshift(v)):h.push(v))}return h}(s,o,l),v=null===d?null:{"":-1};if(null!==g){h=!0,tC(l,s.data.length,g.length);for(let k=0;k<g.length;k++){const N=g[k];N.providersResolver&&N.providersResolver(N)}let E=!1,D=!1,M=Gp(s,o,g.length,null);for(let k=0;k<g.length;k++){const N=g[k];l.mergedAttrs=Qa(l.mergedAttrs,N.hostAttrs),nC(s,l,o,M,N),eC(M,N,v),null!==N.contentQueries&&(l.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(l.flags|=128);const z=N.type.prototype;!E&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),E=!0),!D&&(z.ngOnChanges||z.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),D=!0),M++}YE(s,l)}v&&function Zp(s,o,l){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const g=l[o[h+1]];if(null==g)throw new Ce(-301,!1);d.push(o[h],g)}}}(l,d,v)}return l.mergedAttrs=Qa(l.mergedAttrs,l.attrs),h}function QE(s,o,l,d,h,g){const v=g.hostBindings;if(v){let E=s.hostBindingOpCodes;null===E&&(E=s.hostBindingOpCodes=[]);const D=~o.index;(function I_(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(E)!=D&&E.push(D),E.push(d,h,v)}}function Wp(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Cb(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function eC(s,o,l){if(l){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)l[o.exportAs[d]]=s;Hr(o)&&(l[""]=s)}}function tC(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function nC(s,o,l,d,h){s.data[d]=h;const g=h.factory||(h.factory=Ts(h.type)),v=new Za(g,Hr(h),_s);s.blueprint[d]=v,l[d]=v,QE(s,o,0,d,Gp(s,l,h.hostVars,zt),h)}function gS(s,o,l){const d=Qi(o,s),h=ZE(l),g=s[10],v=Kp(s,w_(s,h,null,l.onPush?32:16,d,o,g,g.createRenderer(d,l),null,null,null));s[o.index]=v}function ya(s,o,l,d,h,g){const v=Qi(s,o);!function Ib(s,o,l,d,h,g,v){if(null==g)s.removeAttribute(o,h,l);else{const E=null==v?ge(g):v(g,d||"",h);s.setAttribute(o,h,E,l)}}(o[11],v,g,s.value,l,d,h)}function T_(s,o,l,d,h,g){const v=g[o];if(null!==v){const E=d.setInput;for(let D=0;D<v.length;){const M=v[D++],k=v[D++],N=v[D++];null!==E?d.setInput(l,N,M,k):l[k]=N}}}function _S(s,o){let l=null,d=0;for(;d<o.length;){const h=o[d];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,s[h],o[d+1])),d+=2}else d+=2;else d+=4}return l}function iC(s,o,l,d){return new Array(s,!0,!1,o,null,0,d,l,null,null)}function bS(s,o){const l=Wn(o,s);if($s(l)){const d=l[1];48&l[2]?Ah(d,l,d.template,l[8]):l[5]>0&&Db(l)}}function Db(s){for(let d=Mg(s);null!==d;d=ap(d))for(let h=10;h<d.length;h++){const g=d[h];if($s(g))if(512&g[2]){const v=g[1];Ah(v,g,v.template,g[8])}else g[5]>0&&Db(g)}const l=s[1].components;if(null!==l)for(let d=0;d<l.length;d++){const h=Wn(l[d],s);$s(h)&&h[5]>0&&Db(h)}}function rC(s,o){const l=Wn(o,s),d=l[1];(function wS(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(d,l),gb(d,l,l[8])}function Kp(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function S_(s){for(;s;){s[2]|=32;const o=da(s);if(Zo(s)&&!o)return s;s=o}return null}function Yp(s,o,l,d=!0){const h=o[10];h.begin&&h.begin();try{Ah(s,o,s.template,l)}catch(v){throw d&&lC(o,v),v}finally{h.end&&h.end()}}function A_(s,o,l){Gr(0),o(s,l)}function sC(s){return s[7]||(s[7]=[])}function oC(s){return s.cleanup||(s.cleanup=[])}function aC(s,o,l){return(null===s||Hr(s))&&(l=function Ss(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(l[o.index])),l[11]}function lC(s,o){const l=s[9],d=l?l.get(Ch,null):null;d&&d.handleError(o)}function Tb(s,o,l,d,h){for(let g=0;g<l.length;){const v=l[g++],E=l[g++],D=o[v],M=s.data[v];null!==M.setInput?M.setInput(D,h,d,E):D[E]=h}}function Mh(s,o,l){let d=l?s.styles:null,h=l?s.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const E=o[v];"number"==typeof E?g=E:1==g?h=he(h,E):2==g&&(d=he(d,E+": "+o[++v]+";"))}l?s.styles=d:s.stylesWithoutHost=d,l?s.classes=h:s.classesWithoutHost=h}function Qp(s,o,l,d,h=!1){for(;null!==l;){const g=o[l.index];if(null!==g&&d.push(qn(g)),Yi(g))for(let E=10;E<g.length;E++){const D=g[E],M=D[1].firstChild;null!==M&&Qp(D[1],D,M,d)}const v=l.type;if(8&v)Qp(s,o,l.child,d);else if(32&v){const E=Tu(l,o);let D;for(;D=E();)d.push(D)}else if(16&v){const E=Fv(o,l);if(Array.isArray(E))d.push(...E);else{const D=da(o[16]);Qp(D[1],D,E,d,!0)}}l=h?l.projectionNext:l.next}return d}class xh{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return Qp(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Yi(o)){const l=o[8],d=l?l.indexOf(this):-1;d>-1&&(Og(o,d),Tr(l,d))}this._attachedToViewContainer=!1}Pg(this._lView[1],this._lView)}onDestroy(o){KE(this._lView[1],this._lView,null,o)}markForCheck(){S_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Yp(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Rv(s,o){Ru(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Ce(902,!1);this._appRef=o}}class uk extends xh{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Yp(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class Sb extends _a{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=le(o);return new Nc(l,this.ngModule)}}function cC(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class IS{constructor(o,l){this.injector=o,this.parentInjector=l}get(o,l,d){const h=this.injector.get(o,Qv,d);return h!==Qv||l===Qv?h:this.parentInjector.get(o,l,d)}}class Nc extends Jg{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function nb(s){return s.map(GT).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return cC(this.componentDef.inputs)}get outputs(){return cC(this.componentDef.outputs)}create(o,l,d,h){let g=(h=h||this.ngModule)instanceof mi?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new IS(o,g):o,E=v.get(Yv,null);if(null===E)throw new Ce(407,!1);const D=v.get(Ac,null),M=E.createRenderer(null,this.componentDef),k=this.componentDef.selectors[0][0]||"div",N=d?function fS(s,o,l){return s.selectRootElement(o,l===bt.ShadowDom)}(M,d,this.componentDef.encapsulation):Mu(M,k,function CS(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(k)),z=this.componentDef.onPush?288:272,J=vb(0,null,null,1,0,null,null,null,null,null),Ee=w_(null,J,null,z,null,null,E,M,D,v,null);let Be,Ye;rc(Ee);try{const ht=function DS(s,o,l,d,h,g){const v=l[1];l[22]=s;const D=Sh(v,22,2,"#host",null),M=D.mergedAttrs=o.hostAttrs;null!==M&&(Mh(D,M,!0),null!==s&&(lc(h,s,M),null!==D.classes&&bp(h,s,D.classes),null!==D.styles&&Cc(h,s,D.styles)));const k=d.createRenderer(s,o),N=w_(l,ZE(o),null,o.onPush?32:16,l[22],D,d,k,g||null,null,null);return v.firstCreatePass&&(Xa(Vn(D,l),v,o.type),Cb(v,D),tC(D,l.length,1)),Kp(l,N),l[22]=N}(N,this.componentDef,Ee,E,M);if(N)if(d)lc(M,N,["ng-version",yE.full]);else{const{attrs:St,classes:De}=function a_(s){const o=[],l=[];let d=1,h=2;for(;d<s.length;){let g=s[d];if("string"==typeof g)2===h?""!==g&&o.push(g,s[++d]):8===h&&l.push(g);else{if(!Ao(h))break;h=g}d++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);St&&lc(M,N,St),De&&De.length>0&&bp(M,N,De.join(" "))}if(Ye=Xl(J,22),void 0!==l){const St=Ye.projection=[];for(let De=0;De<this.ngContentSelectors.length;De++){const Ot=l[De];St.push(null!=Ot?Array.from(Ot):null)}}Be=function M_(s,o,l,d){const h=l[1],g=function mS(s,o,l){const d=Hn();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),nC(s,d,o,Gp(s,o,1,null),l),YE(s,d));const h=el(o,s,d.directiveStart,d);Ni(h,o);const g=Qi(d,o);return g&&Ni(g,o),h}(h,l,o);if(s[8]=l[8]=g,null!==d)for(const E of d)E(g,o);if(o.contentQueries){const E=Hn();o.contentQueries(1,g,E.directiveStart)}const v=Hn();return!h.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Ms(v.index),QE(l[1],v,0,v.directiveStart,v.directiveEnd,o),Wp(o,g)),g}(ht,this.componentDef,Ee,[TS]),gb(J,Ee,null)}finally{Yo()}return new Ab(this.componentType,Be,Eh(Ye,Ee),Ee,Ye)}}class Ab extends class NT{}{constructor(o,l,d,h,g){super(),this.location=d,this._rootLView=h,this._tNode=g,this.instance=l,this.hostView=this.changeDetectorRef=new uk(h),this.componentType=o}setInput(o,l){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[o])){const g=this._rootLView;Tb(g[1],g,h,o,l),E_(g,this._tNode.index)}}get injector(){return new qr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function TS(){const s=Hn();yo(Ae()[1],s)}function Mb(s){let o=function hC(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const d=[s];for(;o;){let h;if(Hr(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Ce(903,!1);h=o.\u0275dir}if(h){if(l){d.push(h);const v=s;v.inputs=xb(s.inputs),v.declaredInputs=xb(s.declaredInputs),v.outputs=xb(s.outputs);const E=h.hostBindings;E&&AS(s,E);const D=h.viewQuery,M=h.contentQueries;if(D&&fC(s,D),M&&er(s,M),ne(s.inputs,h.inputs),ne(s.declaredInputs,h.declaredInputs),ne(s.outputs,h.outputs),Hr(h)&&h.data.animation){const k=s.data;k.animation=(k.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let v=0;v<g.length;v++){const E=g[v];E&&E.ngInherit&&E(s),E===Mb&&(l=!1)}}o=Object.getPrototypeOf(o)}!function SS(s){let o=0,l=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=Qa(h.hostAttrs,l=Qa(l,h.hostAttrs))}}(d)}function xb(s){return s===oi?{}:s===Tt?[]:s}function fC(s,o){const l=s.viewQuery;s.viewQuery=l?(d,h)=>{o(d,h),l(d,h)}:o}function er(s,o){const l=s.contentQueries;s.contentQueries=l?(d,h,g)=>{o(d,h,g),l(d,h,g)}:o}function AS(s,o){const l=s.hostBindings;s.hostBindings=l?(d,h)=>{o(d,h),l(d,h)}:o}let R_=null;function zu(){if(!R_){const s=vn.Symbol;if(s&&s.iterator)R_=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const d=o[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(R_=d)}}}return R_}function k_(s){return!!Xp(s)&&(Array.isArray(s)||!(s instanceof Map)&&zu()in s)}function Xp(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ls(s,o,l){return s[o]=l}function mr(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function so(s,o,l,d){const h=mr(s,o,l);return mr(s,o+1,d)||h}function P_(s,o,l,d){const h=Ae();return mr(h,zr(),o)&&(Qt(),ya(jn(),h,s,o,l,d)),P_}function CC(s,o,l,d,h,g,v,E){const D=Ae(),M=Qt(),k=s+22,N=M.firstCreatePass?function EC(s,o,l,d,h,g,v,E,D){const M=o.consts,k=Sh(o,s,4,v||null,$r(M,E));Eb(o,l,k,$r(M,D)),yo(o,k);const N=k.tViews=vb(2,k,d,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,M);return null!==o.queries&&(o.queries.template(o,k),N.queries=o.queries.embeddedTView(k)),k}(k,M,D,o,l,d,h,g,v):M.data[k];Hi(N,!1);const z=D[11].createComment("");gp(M,D,z,N),Ni(z,D),Kp(D,D[k]=iC(z,D,z,N)),Ds(N)&&_b(M,D,N),null!=v&&yb(D,N,E)}function em(s){return Ua(function Rn(){return Et.lFrame.contextLView}(),22+s)}function tr(s,o,l){const d=Ae();return mr(d,zr(),o)&&ys(Qt(),jn(),d,s,o,d[11],l,!1),tr}function tm(s,o,l,d,h){const v=h?"class":"style";Tb(s,l,o.inputs[v],v,d)}function N_(s,o,l,d){const h=Ae(),g=Qt(),v=22+s,E=h[11],D=h[v]=Mu(E,o,function zd(){return Et.lFrame.currentNamespace}()),M=g.firstCreatePass?function Ob(s,o,l,d,h,g,v){const E=o.consts,M=Sh(o,s,2,h,$r(E,g));return Eb(o,l,M,$r(E,v)),null!==M.attrs&&Mh(M,M.attrs,!1),null!==M.mergedAttrs&&Mh(M,M.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,M),M}(v,g,h,0,o,l,d):g.data[v];Hi(M,!0);const k=M.mergedAttrs;null!==k&&lc(E,D,k);const N=M.classes;null!==N&&bp(E,D,N);const z=M.styles;return null!==z&&Cc(E,D,z),64!=(64&M.flags)&&gp(g,h,D,M),0===function Ha(){return Et.lFrame.elementDepthCount}()&&Ni(D,h),function Od(){Et.lFrame.elementDepthCount++}(),Ds(M)&&(_b(g,h,M),$u(g,M,h)),null!==d&&yb(h,M),N_}function Pb(){let s=Hn();go()?ru():(s=s.parent,Hi(s,!1));const o=s;!function iu(){Et.lFrame.elementDepthCount--}();const l=Qt();return l.firstCreatePass&&(yo(l,s),Wo(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Hf(s){return 0!=(16&s.flags)}(o)&&tm(l,o,Ae(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Wd(s){return 0!=(32&s.flags)}(o)&&tm(l,o,Ae(),o.stylesWithoutHost,!1),Pb}function Nb(s,o,l,d){return N_(s,o,l,d),Pb(),Nb}function ba(s,o,l){const d=Ae(),h=Qt(),g=s+22,v=h.firstCreatePass?function we(s,o,l,d,h){const g=o.consts,v=$r(g,d),E=Sh(o,s,8,"ng-container",v);return null!==v&&Mh(E,v,!0),Eb(o,l,E,$r(g,h)),null!==o.queries&&o.queries.elementStart(o,E),E}(g,h,d,o,l):h.data[g];Hi(v,!0);const E=d[g]=d[11].createComment("");return gp(h,d,E,v),Ni(E,d),Ds(v)&&(_b(h,d,v),$u(h,v,d)),null!=l&&yb(d,v),ba}function Wu(){let s=Hn();const o=Qt();return go()?ru():(s=s.parent,Hi(s,!1)),o.firstCreatePass&&(yo(o,s),Wo(s)&&o.queries.elementEnd(s)),Wu}function mn(){return Ae()}function Fb(s){return!!s&&"function"==typeof s.then}function oo(s){return!!s&&"function"==typeof s.subscribe}const Xe=oo;function nm(s,o,l,d){const h=Ae(),g=Qt(),v=Hn();return im(g,h,h[11],v,s,o,0,d),nm}function Bt(s,o){const l=Hn(),d=Ae(),h=Qt();return im(h,d,aC(za(h.data),l,d),l,s,o),Bt}function im(s,o,l,d,h,g,v,E){const D=Ds(d),k=s.firstCreatePass&&oC(s),N=o[8],z=sC(o);let J=!0;if(3&d.type||E){const Ye=Qi(d,o),ht=E?E(Ye):Ye,St=z.length,De=E?Dn=>E(qn(Dn[d.index])):d.index;let Ot=null;if(!E&&D&&(Ot=function F_(s,o,l,d){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const v=h[g];if(v===l&&h[g+1]===d){const E=o[7],D=h[g+2];return E.length>D?E[D]:null}"string"==typeof v&&(g+=2)}return null}(s,o,h,d.index)),null!==Ot)(Ot.__ngLastListenerFn__||Ot).__ngNextListenerFn__=g,Ot.__ngLastListenerFn__=g,J=!1;else{g=IC(d,o,N,g,!1);const Dn=l.listen(ht,h,g);z.push(g,Dn),k&&k.push(h,De,St,St+1)}}else g=IC(d,o,N,g,!1);const Ee=d.outputs;let Be;if(J&&null!==Ee&&(Be=Ee[h])){const Ye=Be.length;if(Ye)for(let ht=0;ht<Ye;ht+=2){const Gt=o[Be[ht]][Be[ht+1]].subscribe(g),Ul=z.length;z.push(g,Gt),k&&k.push(h,d.index,Ul,-(Ul+1))}}}function Lh(s,o,l,d){try{return!1!==l(d)}catch(h){return lC(s,h),!1}}function IC(s,o,l,d,h){return function g(v){if(v===Function)return d;S_(2&s.flags?Wn(s.index,o):o);let D=Lh(o,0,d,v),M=g.__ngNextListenerFn__;for(;M;)D=Lh(o,0,M,v)&&D,M=M.__ngNextListenerFn__;return h&&!1===D&&(v.preventDefault(),v.returnValue=!1),D}}function L_(s=1){return function Ud(s){return(Et.lFrame.contextLView=function Vf(s,o){for(;s>0;)o=o[15],s--;return o}(s,Et.lFrame.contextLView))[8]}(s)}function OS(s,o){let l=null;const d=function o_(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let h=0;h<o.length;h++){const g=o[h];if("*"!==g){if(null===d?SE(s,g,!0):zT(d,g))return h}else l=h}return l}function DC(s){const o=Ae()[16][6];if(!o.projection){const d=o.projection=wo(s?s.length:1,null),h=d.slice();let g=o.child;for(;null!==g;){const v=s?OS(g,s):0;null!==v&&(h[v]?h[v].projectionNext=g:d[v]=g,h[v]=g),g=g.next}}}function TC(s,o=0,l){const d=Ae(),h=Qt(),g=Sh(h,22+s,16,null,l||null);null===g.projection&&(g.projection=o),ru(),64!=(64&g.flags)&&function Lg(s,o,l){ku(o[11],0,o,l,Ng(s,l,o),fp(l.parent||o[6],l,o))}(h,d,g)}function rm(s,o,l,d,h){const g=s[l+1],v=null===o;let E=d?Mo(g):ro(g),D=!1;for(;0!==E&&(!1===D||v);){const k=s[E+1];wa(s[E],o)&&(D=!0,s[E+1]=d?m_(k):cb(k)),E=d?Mo(k):ro(k)}D&&(s[l+1]=d?cb(g):m_(g))}function wa(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&rl(s,o)>=0}const Di={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Hb(s){return s.substring(Di.key,Di.keyEnd)}function jb(s,o){const l=Di.textEnd;return l===o?-1:(o=Di.keyEnd=function B_(s,o,l){for(;o<l&&s.charCodeAt(o)>32;)o++;return o}(s,Di.key=o,l),Zu(s,o,l))}function Zu(s,o,l){for(;o<l&&s.charCodeAt(o)<=32;)o++;return o}function sm(s,o,l){return ko(s,o,l,!1),sm}function H_(s,o){return ko(s,o,null,!0),H_}function kC(s){!function Oo(s,o,l,d){const h=Qt(),g=Cr(2);h.firstUpdatePass&&j_(h,null,g,d);const v=Ae();if(l!==zt&&mr(v,g,l)){const E=h.data[Xi()];if(G_(E,d)&&!am(h,g)){let D=d?E.classesWithoutHost:E.stylesWithoutHost;null!==D&&(l=he(D,l||"")),tm(h,E,v,l,d)}else!function FC(s,o,l,d,h,g,v,E){h===zt&&(h=Tt);let D=0,M=0,k=0<h.length?h[0]:null,N=0<g.length?g[0]:null;for(;null!==k||null!==N;){const z=D<h.length?h[D+1]:void 0,J=M<g.length?g[M+1]:void 0;let Be,Ee=null;k===N?(D+=2,M+=2,z!==J&&(Ee=N,Be=J)):null===N||null!==k&&k<N?(D+=2,Ee=k):(M+=2,Ee=N,Be=J),null!==Ee&&Zb(s,o,l,d,Ee,Be,v,E),k=D<h.length?h[D]:null,N=M<g.length?g[M]:null}}(h,E,v,v[11],v[g+1],v[g+1]=function Wb(s,o,l){if(null==l||""===l)return Tt;const d=[],h=Ci(l);if(Array.isArray(h))for(let g=0;g<h.length;g++)s(d,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&s(d,g,h[g]);else"string"==typeof h&&o(d,h);return d}(s,o,l),d,g)}}(Sr,vs,s,!0)}function vs(s,o){for(let l=function Bh(s){return function xC(s){Di.key=0,Di.keyEnd=0,Di.value=0,Di.valueEnd=0,Di.textEnd=s.length}(s),jb(s,Zu(s,0,Di.textEnd))}(o);l>=0;l=jb(o,l))Sr(s,Hb(o),!0)}function ko(s,o,l,d){const h=Ae(),g=Qt(),v=Cr(2);g.firstUpdatePass&&j_(g,s,v,d),o!==zt&&mr(h,v,o)&&Zb(g,g.data[Xi()],h,h[11],s,h[v+1]=function VC(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ve(Ci(s)))),s}(o,l),d,v)}function am(s,o){return o>=s.expandoStartIndex}function j_(s,o,l,d){const h=s.data;if(null===h[l+1]){const g=h[Xi()],v=am(s,l);G_(g,d)&&null===o&&!v&&(o=!1),o=function OC(s,o,l,d){const h=za(s);let g=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(l=Ku(l=lm(null,s,o,l,d),o.attrs,d),g=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(l=lm(h,s,o,l,d),null===g){let D=function PC(s,o,l){const d=l?o.classBindings:o.styleBindings;if(0!==ro(d))return s[Mo(d)]}(s,o,d);void 0!==D&&Array.isArray(D)&&(D=lm(null,s,o,D[1],d),D=Ku(D,o.attrs,d),function NC(s,o,l,d){s[Mo(l?o.classBindings:o.styleBindings)]=d}(s,o,d,D))}else g=function $_(s,o,l){let d;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)d=Ku(d,s[g].hostAttrs,l);return Ku(d,o.attrs,l)}(s,o,d)}return void 0!==g&&(d?o.residualClasses=g:o.residualStyles=g),l}(h,g,o,d),function MC(s,o,l,d,h,g){let v=g?o.classBindings:o.styleBindings,E=Mo(v),D=ro(v);s[d]=l;let k,M=!1;if(Array.isArray(l)){const N=l;k=N[1],(null===k||rl(N,k)>0)&&(M=!0)}else k=l;if(h)if(0!==D){const z=Mo(s[E+1]);s[d+1]=Lp(z,E),0!==z&&(s[z+1]=f_(s[z+1],d)),s[E+1]=function LE(s,o){return 131071&s|o<<17}(s[E+1],d)}else s[d+1]=Lp(E,0),0!==E&&(s[E+1]=f_(s[E+1],d)),E=d;else s[d+1]=Lp(D,0),0===E?E=d:s[D+1]=f_(s[D+1],d),D=d;M&&(s[d+1]=cb(s[d+1])),rm(s,k,d,!0),rm(s,k,d,!1),function Ub(s,o,l,d,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&rl(g,o)>=0&&(l[d+1]=m_(l[d+1]))}(o,k,s,d,g),v=Lp(E,D),g?o.classBindings=v:o.styleBindings=v}(h,g,o,l,v,d)}}function lm(s,o,l,d,h){let g=null;const v=l.directiveEnd;let E=l.directiveStylingLast;for(-1===E?E=l.directiveStart:E++;E<v&&(g=o[E],d=Ku(d,g.hostAttrs,h),g!==s);)E++;return null!==s&&(l.directiveStylingLast=E),d}function Ku(s,o,l){const d=l?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?h=v:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Sr(s,v,!!l||o[++g]))}return void 0===s?null:s}function Zb(s,o,l,d,h,g,v,E){if(!(3&o.type))return;const D=s.data,M=D[E+1];cm(function p_(s){return 1==(1&s)}(M)?LC(D,o,l,h,ro(M),v):void 0)||(cm(g)||function Cl(s){return 2==(2&s)}(M)&&(g=LC(D,null,l,h,E,v)),function vp(s,o,l,d,h){if(o)h?s.addClass(l,d):s.removeClass(l,d);else{let g=-1===d.indexOf("-")?void 0:To.DashCase;null==h?s.removeStyle(l,d,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=To.Important),s.setStyle(l,d,h,g))}}(d,v,Er(Xi(),l),h,g))}function LC(s,o,l,d,h,g){const v=null===o;let E;for(;h>0;){const D=s[h],M=Array.isArray(D),k=M?D[1]:D,N=null===k;let z=l[h+1];z===zt&&(z=N?Tt:void 0);let J=N?Jd(z,d):k===d?z:void 0;if(M&&!cm(J)&&(J=Jd(D,d)),cm(J)&&(E=J,v))return E;const Ee=s[h+1];h=v?Mo(Ee):ro(Ee)}if(null!==o){let D=g?o.residualClasses:o.residualStyles;null!=D&&(E=Jd(D,d))}return E}function cm(s){return void 0!==s}function G_(s,o){return 0!=(s.flags&(o?16:32))}function Kb(s,o=""){const l=Ae(),d=Qt(),h=s+22,g=d.firstCreatePass?Sh(d,h,1,o,null):d.data[h],v=l[h]=function ha(s,o){return s.createText(o)}(l[11],o);gp(d,l,v,g),Hi(g,!1)}function Yb(s){return Uh("",s,""),Yb}function Uh(s,o,l){const d=Ae(),h=function Fc(s,o,l,d){return mr(s,zr(),l)?o+ge(l)+d:zt}(d,s,o,l);return h!==zt&&function va(s,o,l){const d=Er(o,s);!function Au(s,o,l){s.setValue(o,l)}(s[11],d,l)}(d,Xi(),h),Uh}function Qu(s,o,l){const d=Ae();if(mr(d,zr(),o)){const g=Qt(),v=jn();ys(g,v,d,s,o,aC(za(g.data),v,d),l,!0)}return Qu}const Vc=void 0;var XC=["en",[["a","p"],["AM","PM"],Vc],[["AM","PM"],Vc,Vc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Vc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Vc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Vc,"{1} 'at' {0}",Vc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Xr(s){const l=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let Ca={};function Y_(s,o,l){"string"!=typeof o&&(l=o,o=s[Mt.LocaleId]),o=o.toLowerCase().replace(/_/g,"-"),Ca[o]=s,l&&(Ca[o][Mt.ExtraData]=l)}function Q_(s){const o=function sw(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=rw(o);if(l)return l;const d=o.split("-")[0];if(l=rw(d),l)return l;if("en"===d)return XC;throw new Ce(701,!1)}function iw(s){return Q_(s)[Mt.PluralCase]}function rw(s){return s in Ca||(Ca[s]=vn.ng&&vn.ng.common&&vn.ng.common.locales&&vn.ng.common.locales[s]),Ca[s]}var Mt=(()=>((Mt=Mt||{})[Mt.LocaleId=0]="LocaleId",Mt[Mt.DayPeriodsFormat=1]="DayPeriodsFormat",Mt[Mt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Mt[Mt.DaysFormat=3]="DaysFormat",Mt[Mt.DaysStandalone=4]="DaysStandalone",Mt[Mt.MonthsFormat=5]="MonthsFormat",Mt[Mt.MonthsStandalone=6]="MonthsStandalone",Mt[Mt.Eras=7]="Eras",Mt[Mt.FirstDayOfWeek=8]="FirstDayOfWeek",Mt[Mt.WeekendRange=9]="WeekendRange",Mt[Mt.DateFormat=10]="DateFormat",Mt[Mt.TimeFormat=11]="TimeFormat",Mt[Mt.DateTimeFormat=12]="DateTimeFormat",Mt[Mt.NumberSymbols=13]="NumberSymbols",Mt[Mt.NumberFormats=14]="NumberFormats",Mt[Mt.CurrencyCode=15]="CurrencyCode",Mt[Mt.CurrencySymbol=16]="CurrencySymbol",Mt[Mt.CurrencyName=17]="CurrencyName",Mt[Mt.Currencies=18]="Currencies",Mt[Mt.Directionality=19]="Directionality",Mt[Mt.PluralCase=20]="PluralCase",Mt[Mt.ExtraData=21]="ExtraData",Mt))();const Ia="en-US";let aw=Ia;function Sm(s,o,l,d,h){if(s=Z(s),Array.isArray(s))for(let g=0;g<s.length;g++)Sm(s[g],o,l,d,h);else{const g=Qt(),v=Ae();let E=ii(s)?s:Z(s.provide),D=bl(s);const M=Hn(),k=1048575&M.providerIndexes,N=M.directiveStart,z=M.providerIndexes>>20;if(ii(s)||!s.multi){const J=new Za(D,h,_s),Ee=Wh(E,o,h?k:k+z,N);-1===Ee?(Xa(Vn(M,v),g,E),Am(g,s,o.length),o.push(E),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),l.push(J),v.push(J)):(l[Ee]=J,v[Ee]=J)}else{const J=Wh(E,o,k+z,N),Ee=Wh(E,o,k,k+z),Be=J>=0&&l[J],Ye=Ee>=0&&l[Ee];if(h&&!Ye||!h&&!Be){Xa(Vn(M,v),g,E);const ht=function TI(s,o,l,d,h){const g=new Za(s,l,_s);return g.multi=[],g.index=o,g.componentProviders=0,bw(g,h,d&&!l),g}(h?DI:II,l.length,h,d,D);!h&&Ye&&(l[Ee].providerFactory=ht),Am(g,s,o.length,0),o.push(E),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),l.push(ht),v.push(ht)}else Am(g,s,J>-1?J:Ee,bw(l[h?Ee:J],D,!h&&d));!h&&d&&Ye&&l[Ee].componentProviders++}}}function Am(s,o,l,d){const h=ii(o),g=function Zv(s){return!!s.useClass}(o);if(h||g){const D=(g?Z(o.useClass):o).prototype.ngOnDestroy;if(D){const M=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const k=M.indexOf(l);-1===k?M.push(l,[d,D]):M[k+1].push(d,D)}else M.push(l,D)}}}function bw(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function Wh(s,o,l,d){for(let h=l;h<d;h++)if(o[h]===s)return h;return-1}function II(s,o,l,d){return Al(this.multi,[])}function DI(s,o,l,d){const h=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=el(l,l[1],this.providerFactory.index,d);g=E.slice(0,v),Al(h,g);for(let D=v;D<E.length;D++)g.push(E[D])}else g=[],Al(h,g);return g}function Al(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function ww(s,o=[]){return l=>{l.providersResolver=(d,h)=>function CI(s,o,l){const d=Qt();if(d.firstCreatePass){const h=Hr(s);Sm(l,d.data,d.blueprint,h,!0),Sm(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class td{}class Ew{}function dy(s,o){return new Cw(s,o??null)}class Cw extends td{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Sb(this);const d=Lt(o);this._bootstrapComponents=Qr(d.bootstrap),this._r3Injector=Bu(o,l,[{provide:td,useValue:this},{provide:_a,useValue:this.componentFactoryResolver}],ve(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class hy extends Ew{constructor(o){super(),this.moduleType=o}create(o){return new Cw(this.moduleType,o)}}class Zh extends td{constructor(o,l,d){super(),this.componentFactoryResolver=new Sb(this),this.instance=null;const h=new Mp([...o,{provide:td,useValue:this},{provide:_a,useValue:this.componentFactoryResolver}],l||ri(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Iw(s,o,l=null){return new Zh(s,o,l).injector}let Po=(()=>{class s{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const d=gE(0,l.type),h=d.length>0?Iw([d],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,h)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=Ue({token:s,providedIn:"environment",factory:()=>new s($t(mi))}),s})();function fy(s){s.getStandaloneInjector=o=>o.get(Po).getOrCreateStandaloneInjector(s)}function xI(s,o,l,d){return function xw(s,o,l,d,h,g){const v=o+l;return mr(s,v,h)?Ls(s,v+1,g?d.call(g,h):d(h)):Sa(s,v+1)}(Ae(),Pi(),s,o,l,d)}function Sa(s,o){const l=s[o];return l===zt?void 0:l}function Ml(s,o,l,d,h,g,v,E,D){const M=o+l;return function Ro(s,o,l,d,h,g){const v=so(s,o,l,d);return so(s,o+2,h,g)||v}(s,M,h,g,v,E)?Ls(s,M+4,D?d.call(D,h,g,v,E):d(h,g,v,E)):Sa(s,M+4)}function kI(s,o){const l=Qt();let d;const h=s+22;l.firstCreatePass?(d=function Fe(s,o){if(o)for(let l=o.length-1;l>=0;l--){const d=o[l];if(s===d.name)return d}}(o,l.pipeRegistry),l.data[h]=d,d.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(h,d.onDestroy)):d=l.data[h];const g=d.factory||(d.factory=Ts(d.type)),v=Zi(_s);try{const E=Qo(!1),D=g();return Qo(E),function fk(s,o,l,d){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),o[l]=d}(l,Ae(),h,D),D}finally{Zi(v)}}function by(s,o,l,d){const h=s+22,g=Ae(),v=Ua(g,h);return Ze(g,h)?function zi(s,o,l,d,h,g,v){const E=o+l;return so(s,E,h,g)?Ls(s,E+2,v?d.call(v,h,g):d(h,g)):Sa(s,E+2)}(g,Pi(),o,v.transform,l,d,v):v.transform(l,d)}function gt(s,o,l,d,h,g){const v=s+22,E=Ae(),D=Ua(E,v);return Ze(E,v)?Ml(E,Pi(),o,D.transform,l,d,h,g,D):D.transform(l,d,h,g)}function Ze(s,o){return s[1].data[o].pure}function Me(s){return o=>{setTimeout(s,void 0,o)}}const Nn=class ce extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,d){let h=o,g=l||(()=>null),v=d;if(o&&"object"==typeof o){const D=o;h=D.next?.bind(D),g=D.error?.bind(D),v=D.complete?.bind(D)}this.__isAsync&&(g=Me(g),h&&(h=Me(h)),v&&(v=Me(v)));const E=super.subscribe({next:h,error:g,complete:v});return o instanceof X.w0&&o.add(E),E}};function OI(){return this._results[zu()]()}class wy{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=zu(),d=wy.prototype;d[l]||(d[l]=OI)}get changes(){return this._changes||(this._changes=new Nn)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const d=this;d.dirty=!1;const h=pi(o);(this._changesDetected=!function mu(s,o,l){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],g=o[d];if(l&&(h=l(h),g=l(g)),g!==h)return!1}return!0}(d._results,h,l))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Mm=(()=>{class s{}return s.__NG_ELEMENT_ID__=aA,s})();const sA=Mm,oA=class extends sA{constructor(o,l,d){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(o,l){const d=this._declarationTContainer.tViews,h=w_(this._declarationLView,d,o,16,null,d.declTNode,null,null,null,null,l||null);h[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(h[19]=v.createEmbeddedView(d)),gb(d,h,o),new xh(h)}};function aA(){return xm(Hn(),Ae())}function xm(s,o){return 4&s.type?new oA(o,s,Eh(s,o)):null}let Ey=(()=>{class s{}return s.__NG_ELEMENT_ID__=mk,s})();function mk(){return kw(Hn(),Ae())}const lA=Ey,Rw=class extends lA{constructor(o,l,d){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=d}get element(){return Eh(this._hostTNode,this._hostLView)}get injector(){return new qr(this._hostTNode,this._hostLView)}get parentInjector(){const o=Xo(this._hostTNode,this._hostLView);if(jf(o)){const l=hs(o,this._hostLView),d=uc(o);return new qr(l[1].data[d+8],l)}return new qr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=Ut(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,d){let h,g;"number"==typeof d?h=d:null!=d&&(h=d.index,g=d.injector);const v=o.createEmbeddedView(l||{},g);return this.insert(v,h),v}createComponent(o,l,d,h,g){const v=o&&!function hr(s){return"function"==typeof s}(o);let E;if(v)E=l;else{const N=l||{};E=N.index,d=N.injector,h=N.projectableNodes,g=N.environmentInjector||N.ngModuleRef}const D=v?o:new Nc(le(o)),M=d||this.parentInjector;if(!g&&null==D.ngModule){const z=(v?M:this.parentInjector).get(mi,null);z&&(g=z)}const k=D.create(M,h,void 0,g);return this.insert(k.hostView,E),k}insert(o,l){const d=o._lView,h=d[1];if(function Rd(s){return Yi(s[3])}(d)){const k=this.indexOf(o);if(-1!==k)this.detach(k);else{const N=d[3],z=new Rw(N,N[6],N[3]);z.detach(z.indexOf(o))}}const g=this._adjustIndex(l),v=this._lContainer;!function dp(s,o,l,d){const h=10+d,g=l.length;d>0&&(l[h-1][4]=o),d<g-10?(o[4]=l[h],Zf(l,10+d,o)):(l.push(o),o[4]=null),o[3]=l;const v=o[17];null!==v&&l!==v&&function Rg(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(v,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=64}(h,d,v,g);const E=_p(g,v),D=d[11],M=Ec(D,v[7]);return null!==M&&function up(s,o,l,d,h,g){d[0]=h,d[6]=o,Ru(s,d,l,1,h,g)}(h,v[6],D,d,M,E),o.attachToViewContainerRef(),Zf(Uc(v),g,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=Ut(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),d=Og(this._lContainer,l);d&&(Tr(Uc(this._lContainer),l),Pg(d[1],d))}detach(o){const l=this._adjustIndex(o,-1),d=Og(this._lContainer,l);return d&&null!=Tr(Uc(this._lContainer),l)?new xh(d):null}_adjustIndex(o,l=0){return o??this.length+l}};function Ut(s){return s[8]}function Uc(s){return s[8]||(s[8]=[])}function kw(s,o){let l;const d=o[s.index];if(Yi(d))l=d;else{let h;if(8&s.type)h=qn(d);else{const g=o[11];h=g.createComment("");const v=Qi(s,o);Fs(g,Ec(g,v),h,function Fg(s,o){return s.nextSibling(o)}(g,v),!1)}o[s.index]=l=iC(d,o,h,s),Kp(o,l)}return new Rw(l,s,o)}class on{constructor(o){this.queryList=o,this.matches=null}clone(){return new on(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ow{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const d=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let g=0;g<d;g++){const v=l.getByIndex(g);h.push(this.queries[v.indexInDeclarationView].clone())}return new Ow(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==se(o,l).matches&&this.queries[l].setDirty()}}class li{constructor(o,l,d=null){this.predicate=o,this.flags=l,this.read=d}}class Ke{constructor(o=[]){this.queries=o}elementStart(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let d=0;d<this.length;d++){const h=null!==l?l.length:0,g=this.getByIndex(d).embeddedTView(o,h);g&&(g.indexInDeclarationView=d,null!==l?l.push(g):l=[g])}return null!==l?new Ke(l):null}template(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Qh{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new Qh(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const g=d[h];this.matchTNodeWithReadOption(o,l,Pw(l,g)),this.matchTNodeWithReadOption(o,l,ps(l,o,g,!1,!1))}else d===Mm?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,ps(l,o,d,!1,!1))}matchTNodeWithReadOption(o,l,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===gs||h===Ey||h===Mm&&4&l.type)this.addMatch(l.index,-2);else{const g=ps(l,o,h,!1,!1);null!==g&&this.addMatch(l.index,g)}else this.addMatch(l.index,d)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function Pw(s,o){const l=s.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===o)return l[d+1];return null}function cA(s,o,l,d){return-1===l?function id(s,o){return 11&s.type?Eh(s,o):4&s.type?xm(s,o):null}(o,s):-2===l?function Iy(s,o,l){return l===gs?Eh(o,s):l===Mm?xm(o,s):l===Ey?kw(o,s):void 0}(s,o,d):el(s,s[1],l,o)}function PI(s,o,l,d){const h=o[19].queries[d];if(null===h.matches){const g=s.data,v=l.matches,E=[];for(let D=0;D<v.length;D+=2){const M=v[D];E.push(M<0?null:cA(o,g[M],v[D+1],l.metadata.read))}h.matches=E}return h.matches}function rd(s,o,l,d){const h=s.queries.getByIndex(l),g=h.matches;if(null!==g){const v=PI(s,o,h,l);for(let E=0;E<g.length;E+=2){const D=g[E];if(D>0)d.push(v[E/2]);else{const M=g[E+1],k=o[-D];for(let N=10;N<k.length;N++){const z=k[N];z[17]===z[3]&&rd(z[1],z,M,d)}if(null!==k[9]){const N=k[9];for(let z=0;z<N.length;z++){const J=N[z];rd(J[1],J,M,d)}}}}}return d}function Nw(s){const o=Ae(),l=Qt(),d=ic();Gr(d+1);const h=se(l,d);if(s.dirty&&function yg(s){return 4==(4&s[2])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?rd(l,o,d,[]):PI(l,o,h,d);s.reset(g,_E),s.notifyOnChanges()}return!0}return!1}function Fw(s,o,l){const d=Qt();d.firstCreatePass&&(xl(d,new li(s,o,l),-1),2==(2&o)&&(d.staticViewQueries=!0)),Lw(d,Ae(),o)}function bs(s,o,l,d){const h=Qt();if(h.firstCreatePass){const g=Hn();xl(h,new li(o,l,d),g.index),function Vw(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}Lw(h,Ae(),l)}function Dy(){return function NI(s,o){return s[19].queries[o].queryList}(Ae(),ic())}function Lw(s,o,l){const d=new wy(4==(4&l));KE(s,o,d,d.destroy),null===o[19]&&(o[19]=new Ow),o[19].queries.push(new on(d))}function xl(s,o,l){null===s.queries&&(s.queries=new Ke),s.queries.track(new Qh(o,l))}function se(s,o){return s.queries.getByIndex(o)}function ld(...s){}const nf=new dn("Application Initializer");let xy=(()=>{class s{constructor(l){this.appInits=l,this.resolve=ld,this.reject=ld,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(Fb(g))l.push(g);else if(Xe(g)){const v=new Promise((E,D)=>{g.subscribe({complete:E,error:D})});l.push(v)}}Promise.all(l).then(()=>{d()}).catch(h=>{this.reject(h)}),0===l.length&&d(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)($t(nf,8))},s.\u0275prov=Ue({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const kl=new dn("AppId",{providedIn:"root",factory:function Ol(){return`${Aa()}${Aa()}${Aa()}`}});function Aa(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Vo=new dn("Platform Initializer"),Nm=new dn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Pl=new dn("appBootstrapListener"),rf=new dn("AnimationModuleType");let Kw=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Ue({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Ma=new dn("LocaleId",{providedIn:"root",factory:()=>gc(Ma,dt.Optional|dt.SkipSelf)||function Ry(){return typeof $localize<"u"&&$localize.locale||Ia}()}),Yw=new dn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Oy{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let Fm=(()=>{class s{compileModuleSync(l){return new hy(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),g=Qr(Lt(l).declarations).reduce((v,E)=>{const D=le(E);return D&&v.push(new Nc(D)),v},[]);return new Oy(d,g)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Ue({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Xn=(()=>Promise.resolve(0))();function xa(s){typeof Zone>"u"?Xn.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Bs{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Nn(!1),this.onMicrotaskEmpty=new Nn(!1),this.onStable=new Nn(!1),this.onError=new Nn(!1),typeof Zone>"u")throw new Ce(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&l,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function $I(){let s=vn.requestAnimationFrame,o=vn.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function an(s){const o=()=>{!function zI(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(vn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,In(s),s.isCheckStableRunning=!0,Jw(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),In(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,h,g,v,E)=>{try{return cd(s),l.invokeTask(h,g,v,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),Py(s)}},onInvoke:(l,d,h,g,v,E,D)=>{try{return cd(s),l.invoke(h,g,v,E,D)}finally{s.shouldCoalesceRunChangeDetection&&o(),Py(s)}},onHasTask:(l,d,h,g)=>{l.hasTask(h,g),d===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,In(s),Jw(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(l,d,h,g)=>(l.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Bs.isInAngularZone())throw new Ce(909,!1)}static assertNotInAngularZone(){if(Bs.isInAngularZone())throw new Ce(909,!1)}run(o,l,d){return this._inner.run(o,l,d)}runTask(o,l,d,h){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+h,o,sf,ld,ld);try{return g.runTask(v,l,d)}finally{g.cancelTask(v)}}runGuarded(o,l,d){return this._inner.runGuarded(o,l,d)}runOutsideAngular(o){return this._outer.run(o)}}const sf={};function Jw(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function In(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function cd(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Py(s){s._nesting--,Jw(s)}class e0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Nn,this.onMicrotaskEmpty=new Nn,this.onStable=new Nn,this.onError=new Nn}run(o,l,d){return o.apply(l,d)}runGuarded(o,l,d){return o.apply(l,d)}runOutsideAngular(o){return o()}runTask(o,l,d,h){return o.apply(l,d)}}const t0=new dn(""),Ny=new dn("");let r0,GI=(()=>{class s{constructor(l,d,h){this._ngZone=l,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,r0||(function qI(s){r0=s}(h),h.addToWindow(d)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Bs.assertNotInAngularZone(),xa(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())xa(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,h){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:g,updateCb:h})}whenStable(l,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,d,h){return[]}}return s.\u0275fac=function(l){return new(l||s)($t(Bs),$t(n0),$t(Ny))},s.\u0275prov=Ue({token:s,factory:s.\u0275fac}),s})(),n0=(()=>{class s{constructor(){this._applications=new Map}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return r0?.findTestabilityInTree(this,l,d)??null}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Ue({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),$c=null;const WI=new dn("AllowMultipleToken"),Fy=new dn("PlatformDestroyListeners");class SA{constructor(o,l){this.name=o,this.token=l}}function Lm(s,o,l=[]){const d=`Platform: ${o}`,h=new dn(d);return(g=[])=>{let v=Ly();if(!v||v.injector.get(WI,!1)){const E=[...l,...g,{provide:h,useValue:!0}];s?s(E):function s0(s){if($c&&!$c.get(WI,!1))throw new Ce(400,!1);$c=s;const o=s.get(dd);(function af(s){const o=s.get(Vo,null);o&&o.forEach(l=>l())})(s)}(function a0(s=[],o){return Uu.create({name:o,providers:[{provide:Yg,useValue:"platform"},{provide:Fy,useValue:new Set([()=>$c=null])},...s]})}(E,d))}return function KI(s){const o=Ly();if(!o)throw new Ce(401,!1);return o}()}}function Ly(){return $c?.get(dd)??null}let dd=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const h=function Vy(s,o){let l;return l="noop"===s?new e0:("zone.js"===s?void 0:s)||new Bs(o),l}(d?.ngZone,function l0(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),g=[{provide:Bs,useValue:h}];return h.run(()=>{const v=Uu.create({providers:g,parent:this.injector,name:l.moduleType.name}),E=l.create(v),D=E.injector.get(Ch,null);if(!D)throw new Ce(402,!1);return h.runOutsideAngular(()=>{const M=h.onError.subscribe({next:k=>{D.handleError(k)}});E.onDestroy(()=>{sr(this._modules,E),M.unsubscribe()})}),function Vm(s,o,l){try{const d=l();return Fb(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(D,h,()=>{const M=E.injector.get(xy);return M.runInitializers(),M.donePromise.then(()=>(function lw(s){Le(s,"Expected localeId to be defined"),"string"==typeof s&&(aw=s.toLowerCase().replace(/_/g,"-"))}(E.injector.get(Ma,Ia)||Ia),this._moduleDoBootstrap(E),E))})})}bootstrapModule(l,d=[]){const h=By({},d);return function ZI(s,o,l){const d=new hy(l);return Promise.resolve(d)}(0,0,l).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(l){const d=l.injector.get(Ra);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new Ce(403,!1);l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ce(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const l=this._injector.get(Fy,null);l&&(l.forEach(d=>d()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)($t(Uu))},s.\u0275prov=Ue({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function By(s,o){return Array.isArray(o)?o.reduce(By,s):{...s,...o}}let Ra=(()=>{class s{constructor(l,d,h){this._zone=l,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new O.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),v=new O.y(E=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{Bs.assertNotInAngularZone(),xa(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{Bs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{D.unsubscribe(),M.unsubscribe()}});this.isStable=(0,ae.T)(g,v.pipe((0,oe.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,d){const h=l instanceof Jg;if(!this._injector.get(xy).done)throw!h&&At(l),new Ce(405,false);let v;v=h?l:this._injector.get(_a).resolveComponentFactory(l),this.componentTypes.push(v.componentType);const E=function TA(s){return s.isBoundToModule}(v)?void 0:this._injector.get(td),M=v.create(Uu.NULL,[],d||v.selector,E),k=M.location.nativeElement,N=M.injector.get(t0,null);return N?.registerApplication(k),M.onDestroy(()=>{this.detachView(M.hostView),sr(this.components,M),N?.unregisterApplication(k)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new Ce(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;sr(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(Pl,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>sr(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new Ce(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(l){return new(l||s)($t(Bs),$t(mi),$t(Ch))},s.\u0275prov=Ue({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function sr(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}let lf=!0,c0=!1;function u0(){return c0=!0,lf}function Bm(){if(c0)throw new Error("Cannot enable prod mode after platform setup.");lf=!1}let Fl=(()=>{class s{}return s.__NG_ELEMENT_ID__=xA,s})();function xA(s){return function ws(s,o,l){if($l(s)&&!l){const d=Wn(s.index,o);return new xh(d,d)}return 47&s.type?new xh(o[16],o):null}(Hn(),Ae(),16==(16&s))}class p0{constructor(){}supports(o){return k_(o)}create(o){return new XI(o)}}const df=(s,o)=>o;class XI{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||df}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,d=this._removalsHead,h=0,g=null;for(;l||d;){const v=!d||l&&l.currentIndex<tD(d,h,g)?l:d,E=tD(v,h,g),D=v.currentIndex;if(v===d)h--,d=d._nextRemoved;else if(l=l._next,null==v.previousIndex)h++;else{g||(g=[]);const M=E-h,k=D-h;if(M!=k){for(let z=0;z<M;z++){const J=z<g.length?g[z]:g[z]=0,Ee=J+z;k<=Ee&&Ee<M&&(g[z]=J+1)}g[v.previousIndex]=k-M}}E!==D&&o(v,E,D)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!k_(o))throw new Ce(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,v,l=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)g=o[E],v=this._trackByFn(E,g),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,g,v,E)),Object.is(l.item,g)||this._addIdentityChange(l,g)):(l=this._mismatch(l,g,v,E),d=!0),l=l._next}else h=0,function xS(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[zu()]();let d;for(;!(d=l.next()).done;)o(d.value)}}(o,E=>{v=this._trackByFn(h,E),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,E,v,h)),Object.is(l.item,E)||this._addIdentityChange(l,E)):(l=this._mismatch(l,E,v,h),d=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,d,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,g,h)):o=this._addAfter(new JI(l,d),g,h),o}_verifyReinsertion(o,l,d,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,l,d),this._addToMoves(o,d),o}_moveAfter(o,l,d){return this._unlink(o),this._insertAfter(o,l,d),this._addToMoves(o,d),o}_addAfter(o,l,d){return this._insertAfter(o,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,d){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new eD),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,d=o._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new eD),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class JI{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class $m{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const l=o._prevDup,d=o._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class eD{constructor(){this.map=new Map}put(o){const l=o.trackById;let d=this.map.get(l);d||(d=new $m,this.map.set(l,d)),d.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tD(s,o,l){const d=s.previousIndex;if(null===d)return d;let h=0;return l&&d<l.length&&(h=l[d]),d+o+h}class Jn{constructor(){}supports(o){return o instanceof Map||Xp(o)}create(){return new Wy}}class Wy{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||Xp(o)))throw new Ce(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const g=this._getOrCreateRecordForKey(h,d);l=this._insertBeforeOrAppend(l,g)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const d=o._prev;return l._next=o,l._prev=d,o._prev=l,d&&(d._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const g=h._prev,v=h._next;return g&&(g._next=v),v&&(v._prev=g),h._next=null,h._prev=null,h}const d=new Zy(o);return this._records.set(o,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(d=>l(o[d],d))}}class Zy{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function m0(){return new g0([new p0])}let g0=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(null!=d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||m0()),deps:[[s,new ms,new vi]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(null!=d)return d;throw new Ce(901,!1)}}return s.\u0275prov=Ue({token:s,providedIn:"root",factory:m0}),s})();function nD(){return new Yy([new Jn])}let Yy=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||nD()),deps:[[s,new ms,new vi]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(d)return d;throw new Ce(901,!1)}}return s.\u0275prov=Ue({token:s,providedIn:"root",factory:nD}),s})();const iD=Lm(null,"core",[]);let ff=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)($t(Ra))},s.\u0275mod=cr({type:s}),s.\u0275inj=Kt({}),s})();function _0(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(mt,Te,P)=>{P.d(Te,{Z:()=>Ce});var c=P(2090),X=P(4859),O=P(2951),ae=P(1877);class oe{constructor(ge,me){this._delegate=ge,this.firebase=me,(0,O._addComponent)(ge,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this._delegate.automaticDataCollectionEnabled=ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ge=>{this._delegate.checkDestroyed(),ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(ge,me=O._DEFAULT_ENTRY_NAME){var _t;this._delegate.checkDestroyed();const It=this._delegate.container.getProvider(ge);return!It.isInitialized()&&"EXPLICIT"===(null===(_t=It.getComponent())||void 0===_t?void 0:_t.instantiationMode)&&It.initialize(),It.getImmediate({identifier:me})}_removeServiceInstance(ge,me=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ge).clearInstance(me)}_addComponent(ge){(0,O._addComponent)(this._delegate,ge)}_addOrOverwriteComponent(ge){(0,O._addOrOverwriteComponent)(this._delegate,ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ne=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function he(){const rt=function ve(rt){const ge={},me={__esModule:!0,initializeApp:function Pe(He,et={}){const ee=O.initializeApp(He,et);if((0,c.r3)(ge,ee.name))return ge[ee.name];const xt=new rt(ee,me);return ge[ee.name]=xt,xt},app:It,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function fe(He){const et=He.name,ee=et.replace("-compat","");if(O._registerComponent(He)&&"PUBLIC"===He.type){const xt=(ut=It())=>{if("function"!=typeof ut[ee])throw ne.create("invalid-app-argument",{appName:et});return ut[ee]()};void 0!==He.serviceProps&&(0,c.ZB)(xt,He.serviceProps),me[ee]=xt,rt.prototype[ee]=function(...ut){return this._getService.bind(this,et).apply(this,He.multipleInstances?ut:[])}}return"PUBLIC"===He.type?me[ee]:null},removeApp:function _t(He){delete ge[He]},useAsService:function Ge(He,et){return"serverAuth"===et?null:et},modularAPIs:O}};function It(He){if(!(0,c.r3)(ge,He=He||O._DEFAULT_ENTRY_NAME))throw ne.create("no-app",{appName:He});return ge[He]}return me.default=me,Object.defineProperty(me,"apps",{get:function be(){return Object.keys(ge).map(He=>ge[He])}}),It.App=rt,me}(oe);return rt.INTERNAL=Object.assign(Object.assign({},rt.INTERNAL),{createFirebaseNamespace:he,extendNamespace:function ge(me){(0,c.ZB)(rt,me)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),rt}(),j=new ae.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const rt=self.firebase.SDK_VERSION;rt&&rt.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ce=$;!function xe(rt){(0,O.registerVersion)("@firebase/app-compat","0.2.9",rt)}()},2951:(mt,Te,P)=>{P.r(Te),P.d(Te,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>zo,_DEFAULT_ENTRY_NAME:()=>vr,_addComponent:()=>nt,_addOrOverwriteComponent:()=>bt,_apps:()=>Mn,_clearComponents:()=>oi,_components:()=>ln,_getProvider:()=>os,_registerComponent:()=>vn,_removeServiceInstance:()=>lr,deleteApp:()=>Br,getApp:()=>hi,getApps:()=>xi,initializeApp:()=>cn,onLog:()=>as,registerVersion:()=>Ri,setLogLevel:()=>Gn});var c=P(5861),X=P(4859),O=P(1877),ae=P(2090);let ue,ne;const $=new WeakMap,j=new WeakMap,Z=new WeakMap,ze=new WeakMap,xe=new WeakMap;let ge={get(re,te,Oe){if(re instanceof IDBTransaction){if("done"===te)return j.get(re);if("objectStoreNames"===te)return re.objectStoreNames||Z.get(re);if("store"===te)return Oe.objectStoreNames[1]?void 0:Oe.objectStore(Oe.objectStoreNames[0])}return Pe(re[te])},set:(re,te,Oe)=>(re[te]=Oe,!0),has:(re,te)=>re instanceof IDBTransaction&&("done"===te||"store"===te)||te in re};function It(re){return"function"==typeof re?function _t(re){return re!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function he(){return ne||(ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(re)?function(...te){return re.apply(be(this),te),Pe($.get(this))}:function(...te){return Pe(re.apply(be(this),te))}:function(te,...Oe){const Ne=re.call(be(this),te,...Oe);return Z.set(Ne,te.sort?te.sort():[te]),Pe(Ne)}}(re):(re instanceof IDBTransaction&&function rt(re){if(j.has(re))return;const te=new Promise((Oe,Ne)=>{const Dt=()=>{re.removeEventListener("complete",Vt),re.removeEventListener("error",un),re.removeEventListener("abort",un)},Vt=()=>{Oe(),Dt()},un=()=>{Ne(re.error||new DOMException("AbortError","AbortError")),Dt()};re.addEventListener("complete",Vt),re.addEventListener("error",un),re.addEventListener("abort",un)});j.set(re,te)}(re),((re,te)=>te.some(Oe=>re instanceof Oe))(re,function ve(){return ue||(ue=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(re,ge):re)}function Pe(re){if(re instanceof IDBRequest)return function Ce(re){const te=new Promise((Oe,Ne)=>{const Dt=()=>{re.removeEventListener("success",Vt),re.removeEventListener("error",un)},Vt=()=>{Oe(Pe(re.result)),Dt()},un=()=>{Ne(re.error),Dt()};re.addEventListener("success",Vt),re.addEventListener("error",un)});return te.then(Oe=>{Oe instanceof IDBCursor&&$.set(Oe,re)}).catch(()=>{}),xe.set(te,re),te}(re);if(ze.has(re))return ze.get(re);const te=It(re);return te!==re&&(ze.set(re,te),xe.set(te,re)),te}const be=re=>xe.get(re),He=["get","getKey","getAll","getAllKeys","count"],et=["put","add","delete","clear"],ee=new Map;function xt(re,te){if(!(re instanceof IDBDatabase)||te in re||"string"!=typeof te)return;if(ee.get(te))return ee.get(te);const Oe=te.replace(/FromIndex$/,""),Ne=te!==Oe,Dt=et.includes(Oe);if(!(Oe in(Ne?IDBIndex:IDBObjectStore).prototype)||!Dt&&!He.includes(Oe))return;const Vt=function(){var un=(0,c.Z)(function*(Ln,...Jt){const Oi=this.transaction(Ln,Dt?"readwrite":"readonly");let br=Oi.store;return Ne&&(br=br.index(Jt.shift())),(yield Promise.all([br[Oe](...Jt),Dt&&Oi.done]))[0]});return function(Jt){return un.apply(this,arguments)}}();return ee.set(te,Vt),Vt}!function me(re){ge=re(ge)}(re=>({...re,get:(te,Oe,Ne)=>xt(te,Oe)||re.get(te,Oe,Ne),has:(te,Oe)=>!!xt(te,Oe)||re.has(te,Oe)}));class ut{constructor(te){this.container=te}getPlatformInfoString(){return this.container.getProviders().map(Oe=>{if(function Zt(re){return"VERSION"===re.getComponent()?.type}(Oe)){const Ne=Oe.getImmediate();return`${Ne.library}/${Ne.version}`}return null}).filter(Oe=>Oe).join(" ")}}const at="@firebase/app",pe=new O.Yd("@firebase/app"),vr="[DEFAULT]",di={[at]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Mn=new Map,ln=new Map;function nt(re,te){try{re.container.addComponent(te)}catch(Oe){pe.debug(`Component ${te.name} failed to register with FirebaseApp ${re.name}`,Oe)}}function bt(re,te){re.container.addOrOverwriteComponent(te)}function vn(re){const te=re.name;if(ln.has(te))return pe.debug(`There were multiple attempts to register component ${te}.`),!1;ln.set(te,re);for(const Oe of Mn.values())nt(Oe,re);return!0}function os(re,te){const Oe=re.container.getProvider("heartbeat").getImmediate({optional:!0});return Oe&&Oe.triggerHeartbeat(),re.container.getProvider(te)}function lr(re,te,Oe=vr){os(re,te).clearInstance(Oe)}function oi(){ln.clear()}const Mi=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class _n{constructor(te,Oe,Ne){this._isDeleted=!1,this._options=Object.assign({},te),this._config=Object.assign({},Oe),this._name=Oe.name,this._automaticDataCollectionEnabled=Oe.automaticDataCollectionEnabled,this._container=Ne,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(te){this.checkDestroyed(),this._automaticDataCollectionEnabled=te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(te){this._isDeleted=te}checkDestroyed(){if(this.isDeleted)throw Mi.create("app-deleted",{appName:this._name})}}const zo="9.21.0";function cn(re,te={}){let Oe=re;"object"!=typeof te&&(te={name:te});const Ne=Object.assign({name:vr,automaticDataCollectionEnabled:!1},te),Dt=Ne.name;if("string"!=typeof Dt||!Dt)throw Mi.create("bad-app-name",{appName:String(Dt)});if(Oe||(Oe=(0,ae.aH)()),!Oe)throw Mi.create("no-options");const Vt=Mn.get(Dt);if(Vt){if((0,ae.vZ)(Oe,Vt.options)&&(0,ae.vZ)(Ne,Vt.config))return Vt;throw Mi.create("duplicate-app",{appName:Dt})}const un=new X.H0(Dt);for(const Jt of ln.values())un.addComponent(Jt);const Ln=new _n(Oe,Ne,un);return Mn.set(Dt,Ln),Ln}function hi(re=vr){const te=Mn.get(re);if(!te&&re===vr)return cn();if(!te)throw Mi.create("no-app",{appName:re});return te}function xi(){return Array.from(Mn.values())}function Br(re){return Un.apply(this,arguments)}function Un(){return(Un=(0,c.Z)(function*(re){const te=re.name;Mn.has(te)&&(Mn.delete(te),yield Promise.all(re.container.getProviders().map(Oe=>Oe.delete())),re.isDeleted=!0)})).apply(this,arguments)}function Ri(re,te,Oe){var Ne;let Dt=null!==(Ne=di[re])&&void 0!==Ne?Ne:re;Oe&&(Dt+=`-${Oe}`);const Vt=Dt.match(/\s|\//),un=te.match(/\s|\//);if(Vt||un){const Ln=[`Unable to register library "${Dt}" with version "${te}":`];return Vt&&Ln.push(`library name "${Dt}" contains illegal characters (whitespace or "/")`),Vt&&un&&Ln.push("and"),un&&Ln.push(`version name "${te}" contains illegal characters (whitespace or "/")`),void pe.warn(Ln.join(" "))}vn(new X.wA(`${Dt}-version`,()=>({library:Dt,version:te}),"VERSION"))}function as(re,te){if(null!==re&&"function"!=typeof re)throw Mi.create("invalid-log-argument");(0,O.Am)(re,te)}function Gn(re){(0,O.Ub)(re)}const U="firebase-heartbeat-store";let V=null;function q(){return V||(V=function fe(re,te,{blocked:Oe,upgrade:Ne,blocking:Dt,terminated:Vt}={}){const un=indexedDB.open(re,te),Ln=Pe(un);return Ne&&un.addEventListener("upgradeneeded",Jt=>{Ne(Pe(un.result),Jt.oldVersion,Jt.newVersion,Pe(un.transaction),Jt)}),Oe&&un.addEventListener("blocked",Jt=>Oe(Jt.oldVersion,Jt.newVersion,Jt)),Ln.then(Jt=>{Vt&&Jt.addEventListener("close",()=>Vt()),Dt&&Jt.addEventListener("versionchange",Oi=>Dt(Oi.oldVersion,Oi.newVersion,Oi))}).catch(()=>{}),Ln}("firebase-heartbeat-database",1,{upgrade:(re,te)=>{0===te&&re.createObjectStore(U)}}).catch(re=>{throw Mi.create("idb-open",{originalErrorMessage:re.message})})),V}function Y(){return(Y=(0,c.Z)(function*(re){try{return(yield q()).transaction(U).objectStore(U).get(Lt(re))}catch(te){if(te instanceof ae.ZR)pe.warn(te.message);else{const Oe=Mi.create("idb-get",{originalErrorMessage:te?.message});pe.warn(Oe.message)}}})).apply(this,arguments)}function qe(re,te){return At.apply(this,arguments)}function At(){return(At=(0,c.Z)(function*(re,te){try{const Ne=(yield q()).transaction(U,"readwrite");return yield Ne.objectStore(U).put(te,Lt(re)),Ne.done}catch(Oe){if(Oe instanceof ae.ZR)pe.warn(Oe.message);else{const Ne=Mi.create("idb-set",{originalErrorMessage:Oe?.message});pe.warn(Ne.message)}}})).apply(this,arguments)}function Lt(re){return`${re.name}!${re.options.appId}`}class lt{constructor(te){this.container=te,this._heartbeatsCache=null;const Oe=this.container.getProvider("app").getImmediate();this._storage=new ki(Oe),this._heartbeatsCachePromise=this._storage.read().then(Ne=>(this._heartbeatsCache=Ne,Ne))}triggerHeartbeat(){var te=this;return(0,c.Z)(function*(){const Ne=te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Dt=yt();if(null===te._heartbeatsCache&&(te._heartbeatsCache=yield te._heartbeatsCachePromise),te._heartbeatsCache.lastSentHeartbeatDate!==Dt&&!te._heartbeatsCache.heartbeats.some(Vt=>Vt.date===Dt))return te._heartbeatsCache.heartbeats.push({date:Dt,agent:Ne}),te._heartbeatsCache.heartbeats=te._heartbeatsCache.heartbeats.filter(Vt=>{const un=new Date(Vt.date).valueOf();return Date.now()-un<=2592e6}),te._storage.overwrite(te._heartbeatsCache)})()}getHeartbeatsHeader(){var te=this;return(0,c.Z)(function*(){if(null===te._heartbeatsCache&&(yield te._heartbeatsCachePromise),null===te._heartbeatsCache||0===te._heartbeatsCache.heartbeats.length)return"";const Oe=yt(),{heartbeatsToSend:Ne,unsentEntries:Dt}=function bn(re,te=1024){const Oe=[];let Ne=re.slice();for(const Dt of re){const Vt=Oe.find(un=>un.agent===Dt.agent);if(Vt){if(Vt.dates.push(Dt.date),wn(Oe)>te){Vt.dates.pop();break}}else if(Oe.push({agent:Dt.agent,dates:[Dt.date]}),wn(Oe)>te){Oe.pop();break}Ne=Ne.slice(1)}return{heartbeatsToSend:Oe,unsentEntries:Ne}}(te._heartbeatsCache.heartbeats),Vt=(0,ae.L)(JSON.stringify({version:2,heartbeats:Ne}));return te._heartbeatsCache.lastSentHeartbeatDate=Oe,Dt.length>0?(te._heartbeatsCache.heartbeats=Dt,yield te._storage.overwrite(te._heartbeatsCache)):(te._heartbeatsCache.heartbeats=[],te._storage.overwrite(te._heartbeatsCache)),Vt})()}}function yt(){return(new Date).toISOString().substring(0,10)}class ki{constructor(te){this.app=te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var te=this;return(0,c.Z)(function*(){return(yield te._canUseIndexedDBPromise)&&(yield function le(re){return Y.apply(this,arguments)}(te.app))||{heartbeats:[]}})()}overwrite(te){var Oe=this;return(0,c.Z)(function*(){var Ne;if(yield Oe._canUseIndexedDBPromise){const Vt=yield Oe.read();return qe(Oe.app,{lastSentHeartbeatDate:null!==(Ne=te.lastSentHeartbeatDate)&&void 0!==Ne?Ne:Vt.lastSentHeartbeatDate,heartbeats:te.heartbeats})}})()}add(te){var Oe=this;return(0,c.Z)(function*(){var Ne;if(yield Oe._canUseIndexedDBPromise){const Vt=yield Oe.read();return qe(Oe.app,{lastSentHeartbeatDate:null!==(Ne=te.lastSentHeartbeatDate)&&void 0!==Ne?Ne:Vt.lastSentHeartbeatDate,heartbeats:[...Vt.heartbeats,...te.heartbeats]})}})()}}function wn(re){return(0,ae.L)(JSON.stringify({version:2,heartbeats:re})).length}!function Ur(re){vn(new X.wA("platform-logger",te=>new ut(te),"PRIVATE")),vn(new X.wA("heartbeat",te=>new lt(te),"PRIVATE")),Ri(at,"0.9.9",re),Ri(at,"0.9.9","esm2017"),Ri("fire-js","")}("")},4859:(mt,Te,P)=>{P.d(Te,{H0:()=>ve,wA:()=>O});var c=P(5861),X=P(2090);class O{constructor($,j,Z){this.name=$,this.instanceFactory=j,this.type=Z,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const ae="[DEFAULT]";class oe{constructor($,j){this.name=$,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const j=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(j)){const Z=new X.BH;if(this.instancesDeferred.set(j,Z),this.isInitialized(j)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:j});ze&&Z.resolve(ze)}catch{}}return this.instancesDeferred.get(j).promise}getImmediate($){var j;const Z=this.normalizeInstanceIdentifier($?.identifier),ze=null!==(j=$?.optional)&&void 0!==j&&j;if(!this.isInitialized(Z)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Z})}catch(xe){if(ze)return null;throw xe}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function ne(he){return"EAGER"===he.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:ae})}catch{}for(const[j,Z]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier(j);try{const xe=this.getOrInitializeService({instanceIdentifier:ze});Z.resolve(xe)}catch{}}}}clearInstance($=ae){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,c.Z)(function*(){const j=Array.from($.instances.values());yield Promise.all([...j.filter(Z=>"INTERNAL"in Z).map(Z=>Z.INTERNAL.delete()),...j.filter(Z=>"_delete"in Z).map(Z=>Z._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=ae){return this.instances.has($)}getOptions($=ae){return this.instancesOptions.get($)||{}}initialize($={}){const{options:j={}}=$,Z=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(Z))throw Error(`${this.name}(${Z}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:Z,options:j});for(const[xe,Ce]of this.instancesDeferred.entries())Z===this.normalizeInstanceIdentifier(xe)&&Ce.resolve(ze);return ze}onInit($,j){var Z;const ze=this.normalizeInstanceIdentifier(j),xe=null!==(Z=this.onInitCallbacks.get(ze))&&void 0!==Z?Z:new Set;xe.add($),this.onInitCallbacks.set(ze,xe);const Ce=this.instances.get(ze);return Ce&&$(Ce,ze),()=>{xe.delete($)}}invokeOnInitCallbacks($,j){const Z=this.onInitCallbacks.get(j);if(Z)for(const ze of Z)try{ze($,j)}catch{}}getOrInitializeService({instanceIdentifier:$,options:j={}}){let Z=this.instances.get($);if(!Z&&this.component&&(Z=this.component.instanceFactory(this.container,{instanceIdentifier:(he=$,he===ae?void 0:he),options:j}),this.instances.set($,Z),this.instancesOptions.set($,j),this.invokeOnInitCallbacks(Z,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,Z)}catch{}var he;return Z||null}normalizeInstanceIdentifier($=ae){return this.component?this.component.multipleInstances?$:ae:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ve{constructor($){this.name=$,this.providers=new Map}addComponent($){const j=this.getProvider($.name);if(j.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);j.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const j=new oe($,this);return this.providers.set($,j),j}getProviders(){return Array.from(this.providers.values())}}},1877:(mt,Te,P)=>{P.d(Te,{Am:()=>he,Ub:()=>ve,Yd:()=>ne,in:()=>X});const c=[];var X=(()=>{return($=X||(X={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",X;var $})();const O={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},ae=X.INFO,oe={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},ue=($,j,...Z)=>{if(j<$.logLevel)return;const ze=(new Date).toISOString(),xe=oe[j];if(!xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[xe](`[${ze}]  ${$.name}:`,...Z)};class ne{constructor(j){this.name=j,this._logLevel=ae,this._logHandler=ue,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in X))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?O[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...j),this._logHandler(this,X.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...j),this._logHandler(this,X.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,X.INFO,...j),this._logHandler(this,X.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,X.WARN,...j),this._logHandler(this,X.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...j),this._logHandler(this,X.ERROR,...j)}}function ve($){c.forEach(j=>{j.setLogLevel($)})}function he($,j){for(const Z of c){let ze=null;j&&j.level&&(ze=O[j.level]),Z.userLogHandler=null===$?null:(xe,Ce,...rt)=>{const ge=rt.map(me=>{if(null==me)return null;if("string"==typeof me)return me;if("number"==typeof me||"boolean"==typeof me)return me.toString();if(me instanceof Error)return me.message;try{return JSON.stringify(me)}catch{return null}}).filter(me=>me).join(" ");Ce>=(ze??xe.logLevel)&&$({level:X[Ce].toLowerCase(),message:ge,args:rt,type:xe.name})}}}},259:(mt,Te,P)=>{P.d(Te,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=P(2951);(0,c.registerVersion)("firebase","9.21.0","app")},9260:(mt,Te,P)=>{P.d(Te,{Z:()=>c.Z});var c=P(3942);c.Z.registerVersion("firebase","9.21.0","app-compat")},3042:(mt,Te,P)=>{P.r(Te);var c=P(5861),X=P(3942),O=P(2090),ae=P(2951),oe=P(655),ue=P(1877),ne=P(4859);const Ce=function ze(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},rt=function xe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ge=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),_t=new ue.Yd("@firebase/auth");function Pe(y,...p){_t.logLevel<=ue.in.ERROR&&_t.error(`Auth (${ae.SDK_VERSION}): ${y}`,...p)}function be(y,...p){throw et(y,...p)}function fe(y,...p){return et(y,...p)}function Ge(y,p,m){const b=Object.assign(Object.assign({},rt()),{[p]:m});return new O.LL("auth","Firebase",b).create(p,{appName:y.name})}function He(y,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&be(y,"argument-error"),Ge(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function et(y,...p){if("string"!=typeof y){const m=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(m,...b)}return ge.create(y,...p)}function ee(y,p,...m){if(!y)throw et(p,...m)}function xt(y){const p="INTERNAL ASSERTION FAILED: "+y;throw Pe(p),new Error(p)}function ut(y,p){y||xt(p)}function Zt(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function at(){return"http:"===de()||"https:"===de()}function de(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class ke{constructor(p,m){this.shortDelay=p,this.longDelay=m,ut(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function pe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(at()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Le(y,p){ut(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class Ie{static initialize(p,m,b){this.fetchImpl=p,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void xt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void xt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void xt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Rt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},sn=new ke(3e4,6e4);function Ft(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function Ue(y,p,m,b){return qt.apply(this,arguments)}function qt(){return(qt=(0,c.Z)(function*(y,p,m,b,S={}){return Kt(y,S,(0,c.Z)(function*(){let R={},H={};b&&("GET"===p?H=b:R={body:JSON.stringify(b)});const K=(0,O.xO)(Object.assign({key:y.config.apiKey},H)).slice(1),Re=yield y._getAdditionalHeaders();return Re["Content-Type"]="application/json",y.languageCode&&(Re["X-Firebase-Locale"]=y.languageCode),Ie.fetch()(Bi(y,y.config.apiHost,m,K),Object.assign({method:p,headers:Re,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function Kt(y,p,m){return tn.apply(this,arguments)}function tn(){return(tn=(0,c.Z)(function*(y,p,m){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},Rt),p);try{const S=new ar(y),R=yield Promise.race([m(),S.promise]);S.clearNetworkTimeout();const H=yield R.json();if("needConfirmation"in H)throw Ai(y,"account-exists-with-different-credential",H);if(R.ok&&!("errorMessage"in H))return H;{const K=R.ok?H.errorMessage:H.error.message,[Re,je]=K.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Re)throw Ai(y,"credential-already-in-use",H);if("EMAIL_EXISTS"===Re)throw Ai(y,"email-already-in-use",H);if("USER_DISABLED"===Re)throw Ai(y,"user-disabled",H);const tt=b[Re]||Re.toLowerCase().replace(/[_\s]+/g,"-");if(je)throw Ge(y,tt,je);be(y,tt)}}catch(S){if(S instanceof O.ZR)throw S;be(y,"network-request-failed",{message:String(S)})}})).apply(this,arguments)}function Fn(y,p,m,b){return zn.apply(this,arguments)}function zn(){return(zn=(0,c.Z)(function*(y,p,m,b,S={}){const R=yield Ue(y,p,m,b,S);return"mfaPendingCredential"in R&&be(y,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function Bi(y,p,m,b){const S=`${p}${m}?${b}`;return y.config.emulator?Le(y.config,S):`${y.config.apiScheme}://${S}`}class ar{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(fe(this.auth,"network-request-failed")),sn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ai(y,p,m){const b={appName:y.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const S=fe(y,p,b);return S.customData._tokenResponse=m,S}function Lr(){return(Lr=(0,c.Z)(function*(y,p){return Ue(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Va(y,p){return jo.apply(this,arguments)}function jo(){return(jo=(0,c.Z)(function*(y,p){return Ue(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function dt(y,p){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,c.Z)(function*(y,p){return Ue(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Vr(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function vr(){return(vr=(0,c.Z)(function*(y,p=!1){const m=(0,O.m9)(y),b=yield m.getIdToken(p),S=Mn(b);ee(S&&S.exp&&S.auth_time&&S.iat,m.auth,"internal-error");const R="object"==typeof S.firebase?S.firebase:void 0,H=R?.sign_in_provider;return{claims:S,token:b,authTime:Vr(di(S.auth_time)),issuedAtTime:Vr(di(S.iat)),expirationTime:Vr(di(S.exp)),signInProvider:H||null,signInSecondFactor:R?.sign_in_second_factor||null}})).apply(this,arguments)}function di(y){return 1e3*Number(y)}function Mn(y){const[p,m,b]=y.split(".");if(void 0===p||void 0===m||void 0===b)return Pe("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,O.tV)(m);return S?JSON.parse(S):(Pe("Failed to decode base64 JWT payload"),null)}catch(S){return Pe("Caught error parsing JWT payload as JSON",S?.toString()),null}}function nt(y,p){return bt.apply(this,arguments)}function bt(){return(bt=(0,c.Z)(function*(y,p,m=!1){if(m)return p;try{return yield p}catch(b){throw b instanceof O.ZR&&vn(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}function vn({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class os{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const S=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,c.Z)(function*(){yield m.iteration()}),b)}iteration(){var p=this;return(0,c.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&p.schedule(!0))}p.schedule()})()}}class lr{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vr(this.lastLoginAt),this.creationTime=Vr(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function oi(y){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,c.Z)(function*(y){var p;const m=y.auth,b=yield y.getIdToken(),S=yield nt(y,dt(m,{idToken:b}));ee(S?.users.length,m,"internal-error");const R=S.users[0];y._notifyReloadListener(R);const H=null!==(p=R.providerUserInfo)&&void 0!==p&&p.length?cn(R.providerUserInfo):[],K=zo(y.providerData,H),tt=!!y.isAnonymous&&!(y.email&&R.passwordHash||K?.length),st={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:K,metadata:new lr(R.createdAt,R.lastLoginAt),isAnonymous:tt};Object.assign(y,st)})).apply(this,arguments)}function _n(){return(_n=(0,c.Z)(function*(y){const p=(0,O.m9)(y);yield oi(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function zo(y,p){return[...y.filter(b=>!p.some(S=>S.providerId===b.providerId)),...p]}function cn(y){return y.map(p=>{var{providerId:m}=p,b=(0,oe._T)(p,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function xi(){return(xi=(0,c.Z)(function*(y,p){const m=yield Kt(y,{},(0,c.Z)(function*(){const b=(0,O.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:S,apiKey:R}=y.config,H=Bi(y,S,"/v1/token",`key=${R}`),K=yield y._getAdditionalHeaders();return K["Content-Type"]="application/x-www-form-urlencoded",Ie.fetch()(H,{method:"POST",headers:K,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Br{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){ee(p.idToken,"internal-error"),ee(typeof p.idToken<"u","internal-error"),ee(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function ln(y){const p=Mn(y);return ee(p,"internal-error"),ee(typeof p.exp<"u","internal-error"),ee(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var b=this;return(0,c.Z)(function*(){return ee(!b.accessToken||b.refreshToken,p,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var b=this;return(0,c.Z)(function*(){const{accessToken:S,refreshToken:R,expiresIn:H}=yield function hi(y,p){return xi.apply(this,arguments)}(p,m);b.updateTokensAndExpiration(S,R,Number(H))})()}updateTokensAndExpiration(p,m,b){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,m){const{refreshToken:b,accessToken:S,expirationTime:R}=m,H=new Br;return b&&(ee("string"==typeof b,"internal-error",{appName:p}),H.refreshToken=b),S&&(ee("string"==typeof S,"internal-error",{appName:p}),H.accessToken=S),R&&(ee("number"==typeof R,"internal-error",{appName:p}),H.expirationTime=R),H}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Br,this.toJSON())}_performRefresh(){return xt("not implemented")}}function Un(y,p){ee("string"==typeof y||typeof y>"u","internal-error",{appName:p})}class Ri{constructor(p){var{uid:m,auth:b,stsTokenManager:S}=p,R=(0,oe._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new os(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new lr(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,c.Z)(function*(){const b=yield nt(m,m.stsTokenManager.getToken(m.auth,p));return ee(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(p){return function $o(y){return vr.apply(this,arguments)}(this,p)}reload(){return function Mi(y){return _n.apply(this,arguments)}(this)}_assign(p){this!==p&&(ee(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const m=new Ri(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(p){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var b=this;return(0,c.Z)(function*(){let S=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),S=!0),m&&(yield oi(b)),yield b.auth._persistUserIfCurrent(b),S&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,c.Z)(function*(){const m=yield p.getIdToken();return yield nt(p,function ss(y,p){return Lr.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var b,S,R,H,K,Re,je,tt;const st=null!==(b=m.displayName)&&void 0!==b?b:void 0,On=null!==(S=m.email)&&void 0!==S?S:void 0,Yr=null!==(R=m.phoneNumber)&&void 0!==R?R:void 0,bh=null!==(H=m.photoURL)&&void 0!==H?H:void 0,Hv=null!==(K=m.tenantId)&&void 0!==K?K:void 0,Lu=null!==(Re=m._redirectEventId)&&void 0!==Re?Re:void 0,jv=null!==(je=m.createdAt)&&void 0!==je?je:void 0,$v=null!==(tt=m.lastLoginAt)&&void 0!==tt?tt:void 0,{uid:Gg,emailVerified:Tp,isAnonymous:Sp,providerData:_l,stsTokenManager:wh}=m;ee(Gg&&wh,p,"internal-error");const qg=Br.fromJSON(this.name,wh);ee("string"==typeof Gg,p,"internal-error"),Un(st,p.name),Un(On,p.name),ee("boolean"==typeof Tp,p,"internal-error"),ee("boolean"==typeof Sp,p,"internal-error"),Un(Yr,p.name),Un(bh,p.name),Un(Hv,p.name),Un(Lu,p.name),Un(jv,p.name),Un($v,p.name);const Wg=new Ri({uid:Gg,auth:p,email:On,emailVerified:Tp,displayName:st,isAnonymous:Sp,photoURL:bh,phoneNumber:Yr,tenantId:Hv,stsTokenManager:qg,createdAt:jv,lastLoginAt:$v});return _l&&Array.isArray(_l)&&(Wg.providerData=_l.map(ni=>Object.assign({},ni))),Lu&&(Wg._redirectEventId=Lu),Wg}static _fromIdTokenResponse(p,m,b=!1){return(0,c.Z)(function*(){const S=new Br;S.updateFromServerResponse(m);const R=new Ri({uid:m.localId,auth:p,stsTokenManager:S,isAnonymous:b});return yield oi(R),R})()}}const as=new Map;function Gn(y){ut(y instanceof Function,"Expected a class definition");let p=as.get(y);return p?(ut(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,as.set(y,p),p)}const Ki=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(m,b){var S=this;return(0,c.Z)(function*(){S.storage[m]=b})()}_get(m){var b=this;return(0,c.Z)(function*(){const S=b.storage[m];return void 0===S?null:S})()}_remove(m){var b=this;return(0,c.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return y.type="NONE",y})();function U(y,p,m){return`firebase:${y}:${p}:${m}`}class V{constructor(p,m,b){this.persistence=p,this.auth=m,this.userKey=b;const{config:S,name:R}=this.auth;this.fullUserKey=U(this.userKey,S.apiKey,R),this.fullPersistenceKey=U("persistence",S.apiKey,R),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,c.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?Ri._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,c.Z)(function*(){if(m.persistence===p)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,b="authUser"){return(0,c.Z)(function*(){if(!m.length)return new V(Gn(Ki),p,b);const S=(yield Promise.all(m.map(function(){var je=(0,c.Z)(function*(tt){if(yield tt._isAvailable())return tt});return function(tt){return je.apply(this,arguments)}}()))).filter(je=>je);let R=S[0]||Gn(Ki);const H=U(b,p.config.apiKey,p.name);let K=null;for(const je of m)try{const tt=yield je._get(H);if(tt){const st=Ri._fromJSON(p,tt);je!==R&&(K=st),R=je;break}}catch{}const Re=S.filter(je=>je._shouldAllowMigration);return R._shouldAllowMigration&&Re.length?(R=Re[0],K&&(yield R._set(H,K.toJSON())),yield Promise.all(m.map(function(){var je=(0,c.Z)(function*(tt){if(tt!==R)try{yield tt._remove(H)}catch{}});return function(tt){return je.apply(this,arguments)}}())),new V(R,p,b)):new V(R,p,b)})()}}function q(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(At(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(le(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(fn(p))return"Blackberry";if(Ve(p))return"Webos";if(Y(p))return"Safari";if((p.includes("chrome/")||qe(p))&&!p.includes("edge/"))return"Chrome";if(Lt(p))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function le(y=(0,O.z$)()){return/firefox\//i.test(y)}function Y(y=(0,O.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function qe(y=(0,O.z$)()){return/crios\//i.test(y)}function At(y=(0,O.z$)()){return/iemobile/i.test(y)}function Lt(y=(0,O.z$)()){return/android/i.test(y)}function fn(y=(0,O.z$)()){return/blackberry/i.test(y)}function Ve(y=(0,O.z$)()){return/webos/i.test(y)}function lt(y=(0,O.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function wn(y=(0,O.z$)()){return lt(y)||Lt(y)||Ve(y)||fn(y)||/windows phone/i.test(y)||At(y)}function re(y,p=[]){let m;switch(y){case"Browser":m=q((0,O.z$)());break;case"Worker":m=`${q((0,O.z$)())}-${y}`;break;default:m=y}const b=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${ae.SDK_VERSION}/${b}`}function Oe(){return(Oe=(0,c.Z)(function*(y){return(yield Ue(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ne(y,p){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,c.Z)(function*(y,p){return Ue(y,"GET","/v2/recaptchaConfig",Ft(y,p))})).apply(this,arguments)}function Vt(y){return void 0!==y&&void 0!==y.getResponse}function un(y){return void 0!==y&&void 0!==y.enterprise}class Ln{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(m=>"EMAIL_PASSWORD_PROVIDER"===m.provider&&"OFF"!==m.enforcementState)}}function Oi(y){return new Promise((p,m)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=p,b.onerror=S=>{const R=fe("internal-error");R.customData=S,m(R)},b.type="text/javascript",b.charset="UTF-8",function Jt(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(b)})}function br(y){return`__${y}${Math.floor(1e6*Math.random())}`}class En{constructor(p){this.type="recaptcha-enterprise",this.auth=yn(p)}verify(p="verify",m=!1){var b=this;return(0,c.Z)(function*(){function R(){return R=(0,c.Z)(function*(K){if(!m){if(null==K.tenantId&&null!=K._agentRecaptchaConfig)return K._agentRecaptchaConfig.siteKey;if(null!=K.tenantId&&void 0!==K._tenantRecaptchaConfigs[K.tenantId])return K._tenantRecaptchaConfigs[K.tenantId].siteKey}return new Promise(function(){var Re=(0,c.Z)(function*(je,tt){Ne(K,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(st=>{if(void 0!==st.recaptchaKey){const On=new Ln(st);return null==K.tenantId?K._agentRecaptchaConfig=On:K._tenantRecaptchaConfigs[K.tenantId]=On,je(On.siteKey)}tt(new Error("recaptcha Enterprise site key undefined"))}).catch(st=>{tt(st)})});return function(je,tt){return Re.apply(this,arguments)}}())}),R.apply(this,arguments)}function H(K,Re,je){const tt=window.grecaptcha;un(tt)?tt.enterprise.ready(()=>{tt.enterprise.execute(K,{action:p}).then(st=>{Re(st)}).catch(()=>{Re("NO_RECAPTCHA")})}):je(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((K,Re)=>{(function S(K){return R.apply(this,arguments)})(b.auth).then(je=>{if(!m&&un(window.grecaptcha))H(je,K,Re);else{if(typeof window>"u")return void Re(new Error("RecaptchaVerifier is only supported in browser"));Oi("https://www.google.com/recaptcha/enterprise.js?render="+je).then(()=>{H(je,K,Re)}).catch(tt=>{Re(tt)})}}).catch(je=>{Re(je)})})})()}}function ls(y,p,m){return jl.apply(this,arguments)}function jl(){return(jl=(0,c.Z)(function*(y,p,m,b=!1){const S=new En(y);let R;try{R=yield S.verify(m)}catch{R=yield S.verify(m,!0)}const H=Object.assign({},p);return Object.assign(H,b?{captchaResp:R}:{captchaResponse:R}),Object.assign(H,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(H,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),H})).apply(this,arguments)}class fo{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const b=R=>new Promise((H,K)=>{try{H(p(R))}catch(Re){K(Re)}});b.onAbort=m,this.queue.push(b);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,c.Z)(function*(){if(m.auth.currentUser===p)return;const b=[];try{for(const S of m.queue)yield S(p),S.onAbort&&b.push(S.onAbort)}catch(S){b.reverse();for(const R of b)try{R()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:S?.message})}})()}}class Kc{constructor(p,m,b,S){this.app=p,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=b,this.config=S,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new js(this),this.idTokenSubscription=new js(this),this.beforeStateQueue=new fo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ge,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=S.sdkClientVersion}_initializeWithPersistence(p,m){var b=this;return m&&(this._popupRedirectResolver=Gn(m)),this._initializationPromise=this.queue((0,c.Z)(function*(){var S,R;if(!b._deleted&&(b.persistenceManager=yield V.create(b,p),!b._deleted)){if(null!==(S=b._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(R=b.currentUser)||void 0===R?void 0:R.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,c.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,c.Z)(function*(){var b;const S=yield m.assertedPersistence.getCurrentUser();let R=S,H=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const K=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,Re=R?._redirectEventId,je=yield m.tryRedirectSignIn(p);(!K||K===Re)&&je?.user&&(R=je.user,H=!0)}if(!R)return m.directlySetCurrentUser(null);if(!R._redirectEventId){if(H)try{yield m.beforeStateQueue.runMiddleware(R)}catch(K){R=S,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(K))}return R?m.reloadAndSetCurrentUserOrClear(R):m.directlySetCurrentUser(null)}return ee(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===R._redirectEventId?m.directlySetCurrentUser(R):m.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(p){var m=this;return(0,c.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,c.Z)(function*(){try{yield oi(p)}catch(b){if("auth/network-request-failed"!==b?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Se(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,c.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,c.Z)(function*(){const b=p?(0,O.m9)(p):null;return b&&ee(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(p,m=!1){var b=this;return(0,c.Z)(function*(){if(!b._deleted)return p&&ee(b.tenantId===p.tenantId,b,"tenant-id-mismatch"),m||(yield b.beforeStateQueue.runMiddleware(p)),b.queue((0,c.Z)(function*(){yield b.directlySetCurrentUser(p),b.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,c.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,c.Z)(function*(){yield m.assertedPersistence.setPersistence(Gn(p))}))}initializeRecaptchaConfig(){var p=this;return(0,c.Z)(function*(){const m=yield Ne(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),b=new Ln(m);null==p.tenantId?p._agentRecaptchaConfig=b:p._tenantRecaptchaConfigs[p.tenantId]=b,b.emailPasswordEnabled&&new En(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new O.LL("auth","Firebase",p())}onAuthStateChanged(p,m,b){return this.registerStateListener(this.authStateSubscription,p,m,b)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,b){return this.registerStateListener(this.idTokenSubscription,p,m,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var b=this;return(0,c.Z)(function*(){const S=yield b.getOrInitRedirectPersistenceManager(m);return null===p?S.removeCurrentUser():S.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,c.Z)(function*(){if(!m.redirectPersistenceManager){const b=p&&Gn(p)||m._popupRedirectResolver;ee(b,m,"argument-error"),m.redirectPersistenceManager=yield V.create(m,[Gn(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,c.Z)(function*(){var b,S;return m._isInitialized&&(yield m.queue((0,c.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===p?m._currentUser:(null===(S=m.redirectUser)||void 0===S?void 0:S._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,c.Z)(function*(){if(p===m.currentUser)return m.queue((0,c.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,b,S){if(this._deleted)return()=>{};const R="function"==typeof m?m:m.next.bind(m),H=this._isInitialized?Promise.resolve():this._initializationPromise;return ee(H,this,"internal-error"),H.then(()=>R(this.currentUser)),"function"==typeof m?p.addObserver(m,b,S):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,c.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=re(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,c.Z)(function*(){var m;const b={"X-Client-Version":p.clientVersion};p.app.options.appId&&(b["X-Firebase-gmpid"]=p.app.options.appId);const S=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();S&&(b["X-Firebase-Client"]=S);const R=yield p._getAppCheckToken();return R&&(b["X-Firebase-AppCheck"]=R),b})()}_getAppCheckToken(){var p=this;return(0,c.Z)(function*(){var m;const b=yield null===(m=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return b?.error&&function It(y,...p){_t.logLevel<=ue.in.WARN&&_t.warn(`Auth (${ae.SDK_VERSION}): ${y}`,...p)}(`Error while retrieving App Check token: ${b.error}`),b?.token})()}}function yn(y){return(0,O.m9)(y)}class js{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,O.ne)(m=>this.observer=m)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function fi(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function Wo(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class Ds{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return xt("not implemented")}_getIdTokenResponse(p){return xt("not implemented")}_linkToIdToken(p,m){return xt("not implemented")}_getReauthenticationResolver(p){return xt("not implemented")}}function Hr(y,p){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,c.Z)(function*(y,p){return Ue(y,"POST","/v1/accounts:resetPassword",Ft(y,p))})).apply(this,arguments)}function Cd(y,p){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,c.Z)(function*(y,p){return Ue(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Id(y,p){return Mf.apply(this,arguments)}function Mf(){return(Mf=(0,c.Z)(function*(y,p){return Ue(y,"POST","/v1/accounts:update",Ft(y,p))})).apply(this,arguments)}function Sn(y,p){return Dd.apply(this,arguments)}function Dd(){return(Dd=(0,c.Z)(function*(y,p){return Fn(y,"POST","/v1/accounts:signInWithPassword",Ft(y,p))})).apply(this,arguments)}function Qc(y,p){return Td.apply(this,arguments)}function Td(){return(Td=(0,c.Z)(function*(y,p){return Ue(y,"POST","/v1/accounts:sendOobCode",Ft(y,p))})).apply(this,arguments)}function xf(y,p){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,c.Z)(function*(y,p){return Qc(y,p)})).apply(this,arguments)}function zl(y,p){return Rf.apply(this,arguments)}function Rf(){return(Rf=(0,c.Z)(function*(y,p){return Qc(y,p)})).apply(this,arguments)}function Ad(y,p){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,c.Z)(function*(y,p){return Qc(y,p)})).apply(this,arguments)}function _g(y,p){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,c.Z)(function*(y,p){return Qc(y,p)})).apply(this,arguments)}function Jc(){return(Jc=(0,c.Z)(function*(y,p){return Fn(y,"POST","/v1/accounts:signInWithEmailLink",Ft(y,p))})).apply(this,arguments)}function kf(){return(kf=(0,c.Z)(function*(y,p){return Fn(y,"POST","/v1/accounts:signInWithEmailLink",Ft(y,p))})).apply(this,arguments)}class eu extends Ds{constructor(p,m,b,S=null){super("password",b),this._email=p,this._password=m,this._tenantId=S}static _fromEmailAndPassword(p,m){return new eu(p,m,"password")}static _fromEmailAndCode(p,m,b=null){return new eu(p,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,c.Z)(function*(){var b;switch(m.signInMethod){case"password":const S={returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(b=p._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const R=yield ls(p,S,"signInWithPassword");return Sn(p,R)}return Sn(p,S).catch(function(){var R=(0,c.Z)(function*(H){if("auth/missing-recaptcha-token"===H.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const K=yield ls(p,S,"signInWithPassword");return Sn(p,K)}return Promise.reject(H)});return function(H){return R.apply(this,arguments)}}());case"emailLink":return function Md(y,p){return Jc.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:be(p,"internal-error")}})()}_linkToIdToken(p,m){var b=this;return(0,c.Z)(function*(){switch(b.signInMethod){case"password":return Cd(p,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function xd(y,p){return kf.apply(this,arguments)}(p,{idToken:m,email:b._email,oobCode:b._password});default:be(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function jr(y,p){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,c.Z)(function*(y,p){return Fn(y,"POST","/v1/accounts:signInWithIdp",Ft(y,p))})).apply(this,arguments)}class wr extends Ds{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new wr(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):be("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:S}=m,R=(0,oe._T)(m,["providerId","signInMethod"]);if(!b||!S)return null;const H=new wr(b,S);return H.idToken=R.idToken||void 0,H.accessToken=R.accessToken||void 0,H.secret=R.secret,H.nonce=R.nonce,H.pendingToken=R.pendingToken||null,H}_getIdTokenResponse(p){return jr(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,jr(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,jr(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,O.xO)(m)}return p}}function ql(y,p){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,c.Z)(function*(y,p){return Ue(y,"POST","/v1/accounts:sendVerificationCode",Ft(y,p))})).apply(this,arguments)}function Wl(){return(Wl=(0,c.Z)(function*(y,p){return Fn(y,"POST","/v1/accounts:signInWithPhoneNumber",Ft(y,p))})).apply(this,arguments)}function po(){return(po=(0,c.Z)(function*(y,p){const m=yield Fn(y,"POST","/v1/accounts:signInWithPhoneNumber",Ft(y,p));if(m.temporaryProof)throw Ai(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Zl={USER_NOT_FOUND:"user-not-found"};function _i(){return(_i=(0,c.Z)(function*(y,p){return Fn(y,"POST","/v1/accounts:signInWithPhoneNumber",Ft(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Zl)})).apply(this,arguments)}class Ui extends Ds{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new Ui({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new Ui({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function tu(y,p){return Wl.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function Pf(y,p){return po.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Nf(y,p){return _i.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:b,verificationCode:S}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:b,code:S}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:b,phoneNumber:S,temporaryProof:R}=p;return b||m||S||R?new Ui({verificationId:m,verificationCode:b,phoneNumber:S,temporaryProof:R}):null}}class Yl{constructor(p){var m,b,S,R,H,K;const Re=(0,O.zd)((0,O.pd)(p)),je=null!==(m=Re.apiKey)&&void 0!==m?m:null,tt=null!==(b=Re.oobCode)&&void 0!==b?b:null,st=function Ff(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Re.mode)&&void 0!==S?S:null);ee(je&&tt&&st,"argument-error"),this.apiKey=je,this.operation=st,this.code=tt,this.continueUrl=null!==(R=Re.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(H=Re.languageCode)&&void 0!==H?H:null,this.tenantId=null!==(K=Re.tenantId)&&void 0!==K?K:null}static parseLink(p){const m=function Kl(y){const p=(0,O.zd)((0,O.pd)(y)).link,m=p?(0,O.zd)((0,O.pd)(p)).deep_link_id:null,b=(0,O.zd)((0,O.pd)(y)).deep_link_id;return(b?(0,O.zd)((0,O.pd)(b)).link:null)||b||m||p||y}(p);try{return new Yl(m)}catch{return null}}}let qn=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,b){return eu._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const S=Yl.parseLink(b);return ee(S,"argument-error"),eu._fromEmailAndCode(m,S.code,S.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Ss{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Ql extends Ss{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Er extends Ql{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return ee("providerId"in m&&"signInMethod"in m,"argument-error"),wr._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return ee(p.idToken||p.accessToken,"argument-error"),wr._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Er.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Er.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:S,pendingToken:R,nonce:H,providerId:K}=p;if(!b&&!S&&!m&&!R||!K)return null;try{return new Er(K)._credential({idToken:m,accessToken:b,nonce:H,pendingToken:R})}catch{return null}}}let Qi=(()=>{class y extends Ql{constructor(){super("facebook.com")}static credential(m){return wr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),nu=(()=>{class y extends Ql{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return wr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:S}=m;if(!b&&!S)return null;try{return y.credential(b,S)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Xl=(()=>{class y extends Ql{constructor(){super("github.com")}static credential(m){return wr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Wn extends Ds{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return jr(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,jr(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,jr(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:S,pendingToken:R}=m;return b&&S&&R&&b===S?new Wn(b,R):null}static _create(p,m){return new Wn(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class $s extends Ss{constructor(p){ee(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return $s.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return $s.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=Wn.fromJSON(p);return ee(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:b}=p;if(!m||!b)return null;try{return Wn._create(b,m)}catch{return null}}}let Rd=(()=>{class y extends Ql{constructor(){super("twitter.com")}static credential(m,b){return wr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:S}=m;if(!b||!S)return null;try{return y.credential(b,S)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function $r(y,p){return mo.apply(this,arguments)}function mo(){return(mo=(0,c.Z)(function*(y,p){return Fn(y,"POST","/v1/accounts:signUp",Ft(y,p))})).apply(this,arguments)}class dr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,b,S=!1){return(0,c.Z)(function*(){const R=yield Ri._fromIdTokenResponse(p,b,S),H=Et(b);return new dr({user:R,providerId:H,_tokenResponse:b,operationType:m})})()}static _forOperation(p,m,b){return(0,c.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const S=Et(b);return new dr({user:p,providerId:S,_tokenResponse:b,operationType:m})})()}}function Et(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function kd(){return(kd=(0,c.Z)(function*(y){var p;const m=yn(y);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new dr({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield $r(m,{returnSecureToken:!0}),S=yield dr._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class Ha extends O.ZR{constructor(p,m,b,S){var R;super(m.code,m.message),this.operationType=b,this.user=S,Object.setPrototypeOf(this,Ha.prototype),this.customData={appName:p.name,tenantId:null!==(R=p.tenantId)&&void 0!==R?R:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,m,b,S){return new Ha(p,m,b,S)}}function Od(y,p,m,b){return("reauthenticate"===p?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?Ha._fromErrorAndOperation(y,R,p,b):R})}function iu(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function ja(){return(ja=(0,c.Z)(function*(y,p){const m=(0,O.m9)(y);yield Qt(!0,m,p);const{providerUserInfo:b}=yield Va(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),S=iu(b||[]);return m.providerData=m.providerData.filter(R=>S.has(R.providerId)),S.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Nd(y,p){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,c.Z)(function*(y,p,m=!1){const b=yield nt(y,p._linkToIdToken(y.auth,yield y.getIdToken()),m);return dr._forOperation(y,"link",b)})).apply(this,arguments)}function Qt(y,p,m){return us.apply(this,arguments)}function us(){return(us=(0,c.Z)(function*(y,p,m){yield oi(p);const S=!1===y?"provider-already-linked":"no-such-provider";ee(iu(p.providerData).has(m)===y,p.auth,S)})).apply(this,arguments)}function $a(y,p){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,c.Z)(function*(y,p,m=!1){const{auth:b}=y,S="reauthenticate";try{const R=yield nt(y,Od(b,S,p,y),m);ee(R.idToken,b,"internal-error");const H=Mn(R.idToken);ee(H,b,"internal-error");const{sub:K}=H;return ee(y.uid===K,b,"user-mismatch"),dr._forOperation(y,S,R)}catch(R){throw"auth/user-not-found"===R?.code&&be(b,"user-mismatch"),R}})).apply(this,arguments)}function Jl(y,p){return As.apply(this,arguments)}function As(){return(As=(0,c.Z)(function*(y,p,m=!1){const b="signIn",S=yield Od(y,b,p),R=yield dr._fromIdTokenResponse(y,b,S);return m||(yield y._updateCurrentUser(R.user)),R})).apply(this,arguments)}function Hi(y,p){return go.apply(this,arguments)}function go(){return(go=(0,c.Z)(function*(y,p){return Jl(yn(y),p)})).apply(this,arguments)}function ru(y,p){return ec.apply(this,arguments)}function ec(){return(ec=(0,c.Z)(function*(y,p){const m=(0,O.m9)(y);return yield Qt(!1,m,p.providerId),Nd(m,p)})).apply(this,arguments)}function Rn(y,p){return Lf.apply(this,arguments)}function Lf(){return(Lf=(0,c.Z)(function*(y,p){return $a((0,O.m9)(y),p)})).apply(this,arguments)}function yi(y,p){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,c.Z)(function*(y,p){return Fn(y,"POST","/v1/accounts:signInWithCustomToken",Ft(y,p))})).apply(this,arguments)}function su(){return(su=(0,c.Z)(function*(y,p){const m=yn(y),b=yield yi(m,{token:p,returnSecureToken:!0}),S=yield dr._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class zr{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?Cr._fromServerResponse(p,m):"totpInfo"in m?tc._fromServerResponse(p,m):be(p,"internal-error")}}class Cr extends zr{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new Cr(m)}}class tc extends zr{constructor(p){super("totp",p)}static _fromServerResponse(p,m){return new tc(m)}}function zs(y,p,m){var b;ee((null===(b=m.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),ee(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(ee(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(ee(m.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function Ko(){return Ko=(0,c.Z)(function*(y,p,m){var b;const S=yn(y),R={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(b=S._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const H=yield ls(S,R,"getOobCode",!0);m&&zs(S,H,m),yield zl(S,H)}else m&&zs(S,R,m),yield zl(S,R).catch(function(){var H=(0,c.Z)(function*(K){if("auth/missing-recaptcha-token"!==K.code)return Promise.reject(K);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Re=yield ls(S,R,"getOobCode",!0);m&&zs(S,Re,m),yield zl(S,Re)}});return function(K){return H.apply(this,arguments)}}())}),Ko.apply(this,arguments)}function za(){return(za=(0,c.Z)(function*(y,p,m){yield Hr((0,O.m9)(y),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Gr(){return(Gr=(0,c.Z)(function*(y,p){yield Id((0,O.m9)(y),{oobCode:p})})).apply(this,arguments)}function Ld(y,p){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,c.Z)(function*(y,p){const m=(0,O.m9)(y),b=yield Hr(m,{oobCode:p}),S=b.requestType;switch(ee(S,m,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ee(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ee(b.mfaInfo,m,"internal-error");default:ee(b.email,m,"internal-error")}let R=null;return b.mfaInfo&&(R=zr._fromServerResponse(yn(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:R},operation:S}})).apply(this,arguments)}function _o(){return(_o=(0,c.Z)(function*(y,p){const{data:m}=yield Ld((0,O.m9)(y),p);return m.email})).apply(this,arguments)}function qa(){return qa=(0,c.Z)(function*(y,p,m){var b;const S=yn(y),R={returnSecureToken:!0,email:p,password:m,clientType:"CLIENT_TYPE_WEB"};let H;if(null!==(b=S._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const je=yield ls(S,R,"signUpPassword");H=$r(S,je)}else H=$r(S,R).catch(function(){var je=(0,c.Z)(function*(tt){if("auth/missing-recaptcha-token"===tt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const st=yield ls(S,R,"signUpPassword");return $r(S,st)}return Promise.reject(tt)});return function(tt){return je.apply(this,arguments)}}());const K=yield H.catch(je=>Promise.reject(je)),Re=yield dr._fromIdTokenResponse(S,"signIn",K);return yield S._updateCurrentUser(Re.user),Re}),qa.apply(this,arguments)}function Ud(){return Ud=(0,c.Z)(function*(y,p,m){var b;const S=yn(y),R={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function H(K,Re){ee(Re.handleCodeInApp,S,"argument-error"),Re&&zs(S,K,Re)}if(null!==(b=S._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const K=yield ls(S,R,"getOobCode",!0);H(K,m),yield Ad(S,K)}else H(R,m),yield Ad(S,R).catch(function(){var K=(0,c.Z)(function*(Re){if("auth/missing-recaptcha-token"!==Re.code)return Promise.reject(Re);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const je=yield ls(S,R,"getOobCode",!0);H(je,m),yield Ad(S,je)}});return function(Re){return K.apply(this,arguments)}}())}),Ud.apply(this,arguments)}function Ms(){return(Ms=(0,c.Z)(function*(y,p,m){const b=(0,O.m9)(y),S=qn.credentialWithLink(p,m||Zt());return ee(S._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Hi(b,S)})).apply(this,arguments)}function jn(y,p){return Hd.apply(this,arguments)}function Hd(){return(Hd=(0,c.Z)(function*(y,p){return Ue(y,"POST","/v1/accounts:createAuthUri",Ft(y,p))})).apply(this,arguments)}function jd(){return(jd=(0,c.Z)(function*(y,p){const b={identifier:p,continueUri:at()?Zt():"http://localhost"},{signinMethods:S}=yield jn((0,O.m9)(y),b);return S||[]})).apply(this,arguments)}function zd(){return(zd=(0,c.Z)(function*(y,p){const m=(0,O.m9)(y),S={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&zs(m.auth,S,p);const{email:R}=yield xf(m.auth,S);R!==y.email&&(yield y.reload())})).apply(this,arguments)}function yo(){return(yo=(0,c.Z)(function*(y,p,m){const b=(0,O.m9)(y),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};m&&zs(b.auth,R,m);const{email:H}=yield _g(b.auth,R);H!==y.email&&(yield y.reload())})).apply(this,arguments)}function sc(y,p){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,c.Z)(function*(y,p){return Ue(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Wa(){return(Wa=(0,c.Z)(function*(y,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const b=(0,O.m9)(y),R={idToken:yield b.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},H=yield nt(b,sc(b.auth,R));b.displayName=H.displayName||null,b.photoURL=H.photoUrl||null;const K=b.providerData.find(({providerId:Re})=>"password"===Re);K&&(K.displayName=b.displayName,K.photoURL=b.photoURL),yield b._updateTokensIfNecessary(H)})).apply(this,arguments)}function Za(y,p,m){return oc.apply(this,arguments)}function oc(){return(oc=(0,c.Z)(function*(y,p,m){const{auth:b}=y,R={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(R.email=p),m&&(R.password=m);const H=yield nt(y,Cd(b,R));yield y._updateTokensIfNecessary(H,!0)})).apply(this,arguments)}class Rs{constructor(p,m,b={}){this.isNewUser=p,this.providerId=m,this.profile=b}}class Ka extends Rs{constructor(p,m,b,S){super(p,m,b),this.username=S}}class Hf extends Rs{constructor(p,m){super(p,"facebook.com",m)}}class Wd extends Ka{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Zd extends Rs{constructor(p,m){super(p,"google.com",m)}}class ac extends Ka{constructor(p,m,b){super(p,"twitter.com",m,b)}}function lc(y){const{user:p,_tokenResponse:m}=y;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function vg(y){var p,m;if(!y)return null;const{providerId:b}=y,S=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},R=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&y?.idToken){const H=null===(m=null===(p=Mn(y.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(H)return new Rs(R,"anonymous"!==H&&"custom"!==H?H:null)}if(!b)return null;switch(b){case"facebook.com":return new Hf(R,S);case"github.com":return new Wd(R,S);case"google.com":return new Zd(R,S);case"twitter.com":return new ac(R,S,y.screenName||null);case"custom":case"anonymous":return new Rs(R,null);default:return new Rs(R,b,S)}}(m)}class fs{constructor(p,m,b){this.type=p,this.credential=m,this.auth=b}static _fromIdtoken(p,m){return new fs("enroll",p,m)}static _fromMfaPendingCredential(p){return new fs("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,b;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return fs._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(b=p.multiFactorSession)&&void 0!==b&&b.idToken)return fs._fromIdtoken(p.multiFactorSession.idToken)}return null}}class qs{constructor(p,m,b){this.session=p,this.hints=m,this.signInResolver=b}static _fromError(p,m){const b=yn(p),S=m.customData._serverResponse,R=(S.mfaInfo||[]).map(K=>zr._fromServerResponse(b,K));ee(S.mfaPendingCredential,b,"internal-error");const H=fs._fromMfaPendingCredential(S.mfaPendingCredential);return new qs(H,R,function(){var K=(0,c.Z)(function*(Re){const je=yield Re._process(b,H);delete S.mfaInfo,delete S.mfaPendingCredential;const tt=Object.assign(Object.assign({},S),{idToken:je.idToken,refreshToken:je.refreshToken});switch(m.operationType){case"signIn":const st=yield dr._fromIdTokenResponse(b,m.operationType,tt);return yield b._updateCurrentUser(st.user),st;case"reauthenticate":return ee(m.user,b,"internal-error"),dr._forOperation(m.user,m.operationType,tt);default:be(b,"internal-error")}});return function(Re){return K.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,c.Z)(function*(){return m.signInResolver(p)})()}}function lu(y,p){return Ue(y,"POST","/v2/accounts/mfaEnrollment:start",Ft(y,p))}class ai{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>zr._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new ai(p)}getSession(){var p=this;return(0,c.Z)(function*(){return fs._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var b=this;return(0,c.Z)(function*(){const S=p,R=yield b.getSession(),H=yield nt(b.user,S._process(b.user.auth,R,m));return yield b.user._updateTokensIfNecessary(H),b.user.reload()})()}unenroll(p){var m=this;return(0,c.Z)(function*(){const b="string"==typeof p?p:p.uid,S=yield m.user.getIdToken();try{const R=yield nt(m.user,function uu(y,p){return Ue(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Ft(y,p))}(m.user.auth,{idToken:S,mfaEnrollmentId:b}));m.enrolledFactors=m.enrolledFactors.filter(({uid:H})=>H!==b),yield m.user._updateTokensIfNecessary(R),yield m.user.reload()}catch(R){throw R}})()}}const Xo=new WeakMap,vo="__sak";class hc{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(vo,"1"),this.storage.removeItem(vo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const ps=(()=>{class y extends hc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function $f(){const y=(0,O.z$)();return Y(y)||lt(y)}()&&function Ur(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=wn(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const S=this.storage.getItem(b),R=this.localCache[b];S!==R&&m(b,R,S)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((K,Re,je)=>{this.notifyListeners(K,je)});const S=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const K=this.storage.getItem(S);if(m.newValue!==K)null!==m.newValue?this.storage.setItem(S,m.newValue):this.storage.removeItem(S);else if(this.localCache[S]===m.newValue&&!b)return}const R=()=>{const K=this.storage.getItem(S);!b&&this.localCache[S]===K||this.notifyListeners(S,K)},H=this.storage.getItem(S);!function ki(){return(0,O.w1)()&&10===document.documentMode}()||H===m.newValue||m.newValue===m.oldValue?R():setTimeout(R,10)}notifyListeners(m,b){this.localCache[m]=b;const S=this.listeners[m];if(S)for(const R of Array.from(S))R(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var S=()=>super._set,R=this;return(0,c.Z)(function*(){yield S().call(R,m,b),R.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,S=this;return(0,c.Z)(function*(){const R=yield b().call(S,m);return S.localCache[m]=JSON.stringify(R),R})()}_remove(m){var b=()=>super._remove,S=this;return(0,c.Z)(function*(){yield b().call(S,m),delete S.localCache[m]})()}}return y.type="LOCAL",y})(),Ws=(()=>{class y extends hc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return y.type="SESSION",y})();let Yd=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(R=>R.isListeningto(m));if(b)return b;const S=new y(m);return this.receivers.push(S),S}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,c.Z)(function*(){const S=m,{eventId:R,eventType:H,data:K}=S.data,Re=b.handlersMap[H];if(!Re?.size)return;S.ports[0].postMessage({status:"ack",eventId:R,eventType:H});const je=Array.from(Re).map(function(){var st=(0,c.Z)(function*(On){return On(S.origin,K)});return function(On){return st.apply(this,arguments)}}()),tt=yield function Kd(y){return Promise.all(y.map(function(){var p=(0,c.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return p.apply(this,arguments)}}()))}(je);S.ports[0].postMessage({status:"done",eventId:R,eventType:H,response:tt})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function qr(y="",p=10){let m="";for(let b=0;b<p;b++)m+=Math.floor(10*Math.random());return y+m}class zf{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,b=50){var S=this;return(0,c.Z)(function*(){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let H,K;return new Promise((Re,je)=>{const tt=qr("",20);R.port1.start();const st=setTimeout(()=>{je(new Error("unsupported_event"))},b);K={messageChannel:R,onMessage(On){const Yr=On;if(Yr.data.eventId===tt)switch(Yr.data.status){case"ack":clearTimeout(st),H=setTimeout(()=>{je(new Error("timeout"))},3e3);break;case"done":clearTimeout(H),Re(Yr.data.response);break;default:clearTimeout(st),clearTimeout(H),je(new Error("invalid_response"))}}},S.handlers.add(K),R.port1.addEventListener("message",K.onMessage),S.target.postMessage({eventType:p,eventId:tt,data:m},[R.port2])}).finally(()=>{K&&S.removeMessageHandler(K)})})()}}function $n(){return window}function tl(){return typeof $n().WorkerGlobalScope<"u"&&"function"==typeof $n().importScripts}function fc(){return(fc=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Os="firebaseLocalStorageDb",ta="firebaseLocalStorage",Zs="fbase_key";class na{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function nl(y,p){return y.transaction([ta],p?"readwrite":"readonly").objectStore(ta)}function fu(){const y=indexedDB.open(Os,1);return new Promise((p,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore(ta,{keyPath:Zs})}catch(S){m(S)}}),y.addEventListener("success",(0,c.Z)(function*(){const b=y.result;b.objectStoreNames.contains(ta)?p(b):(b.close(),yield function dn(){const y=indexedDB.deleteDatabase(Os);return new na(y).toPromise()}(),p(yield fu()))}))})}function pc(y,p,m){return Gf.apply(this,arguments)}function Gf(){return(Gf=(0,c.Z)(function*(y,p,m){const b=nl(y,!0).put({[Zs]:p,value:m});return new na(b).toPromise()})).apply(this,arguments)}function qf(){return(qf=(0,c.Z)(function*(y,p){const m=nl(y,!1).get(p),b=yield new na(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function pu(y,p){const m=nl(y,!0).delete(p);return new na(m).toPromise()}const ia=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,c.Z)(function*(){return m.db||(m.db=yield fu()),m.db})()}_withRetries(m){var b=this;return(0,c.Z)(function*(){let S=0;for(;;)try{const R=yield b._openDb();return yield m(R)}catch(R){if(S++>3)throw R;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,c.Z)(function*(){return tl()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,c.Z)(function*(){m.receiver=Yd._getInstance(function ea(){return tl()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,c.Z)(function*(S,R){return{keyProcessed:(yield m._poll()).includes(R.key)}});return function(S,R){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,c.Z)(function*(S,R){return["keyChanged"]});return function(S,R){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,c.Z)(function*(){var b,S;if(m.activeServiceWorker=yield function hu(){return fc.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new zf(m.activeServiceWorker);const R=yield m.sender._send("ping",{},800);!R||(null===(b=R[0])||void 0===b?void 0:b.fulfilled)&&(null===(S=R[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,c.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function ks(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const m=yield fu();return yield pc(m,vo,"1"),yield pu(m,vo),!0}catch{}return!1})()}_withPendingWrite(m){var b=this;return(0,c.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var S=this;return(0,c.Z)(function*(){return S._withPendingWrite((0,c.Z)(function*(){return yield S._withRetries(R=>pc(R,m,b)),S.localCache[m]=b,S.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,c.Z)(function*(){const S=yield b._withRetries(R=>function Xd(y,p){return qf.apply(this,arguments)}(R,m));return b.localCache[m]=S,S})()}_remove(m){var b=this;return(0,c.Z)(function*(){return b._withPendingWrite((0,c.Z)(function*(){return yield b._withRetries(S=>pu(S,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,c.Z)(function*(){const b=yield m._withRetries(H=>{const K=nl(H,!1).getAll();return new na(K).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const S=[],R=new Set;for(const{fbase_key:H,value:K}of b)R.add(H),JSON.stringify(m.localCache[H])!==JSON.stringify(K)&&(m.notifyListeners(H,K),S.push(H));for(const H of Object.keys(m.localCache))m.localCache[H]&&!R.has(H)&&(m.notifyListeners(H,null),S.push(H));return S})()}notifyListeners(m,b){this.localCache[m]=b;const S=this.listeners[m];if(S)for(const R of Array.from(S))R(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function ei(y,p){return Ue(y,"POST","/v2/accounts/mfaSignIn:start",Ft(y,p))}const pi=1e12;class Dr{constructor(p){this.auth=p,this.counter=pi,this._widgets=new Map}render(p,m){const b=this.counter;return this._widgets.set(b,new Zf(p,this.auth.name,m||{})),this.counter++,b}reset(p){var m;const b=p||pi;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(p){var m;return(null===(m=this._widgets.get(p||pi))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,c.Z)(function*(){var b;return null===(b=m._widgets.get(p||pi))||void 0===b||b.execute(),""})()}}class Zf{constructor(p,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof p?document.getElementById(p):p;ee(S,"argument-error",{appName:m}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Tr(y){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<y;b++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const wo=br("rcb"),gu=new ke(3e4,6e4);class Kf{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=$n().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return ee(function Eg(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),p,"argument-error"),this.shouldResolveImmediately(m)&&Vt($n().grecaptcha)?Promise.resolve($n().grecaptcha):new Promise((b,S)=>{const R=$n().setTimeout(()=>{S(fe(p,"network-request-failed"))},gu.get());$n()[wo]=()=>{$n().clearTimeout(R),delete $n()[wo];const K=$n().grecaptcha;if(!K||!Vt(K))return void S(fe(p,"internal-error"));const Re=K.render;K.render=(je,tt)=>{const st=Re(je,tt);return this.counter++,st},this.hostLanguage=m,b(K)},Oi(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:wo,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(R),S(fe(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=$n().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ks{load(p){return(0,c.Z)(function*(){return new Dr(p)})()}clearedOneInstance(){}}const mc="recaptcha",Sr={theme:"light",type:"image"};class Jd{constructor(p,m=Object.assign({},Sr),b){this.parameters=m,this.type=mc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=yn(b),this.isInvisible="invisible"===this.parameters.size,ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof p?document.getElementById(p):p;ee(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ks:new Kf,this.validateStartingState()}verify(){var p=this;return(0,c.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(m)||new Promise(R=>{const H=K=>{!K||(p.tokenChangeListeners.delete(H),R(K))};p.tokenChangeListeners.add(H),p.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){ee(!this.parameters.sitekey,this.auth,"argument-error"),ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof p)p(m);else if("string"==typeof p){const b=$n()[p];"function"==typeof b&&b(m)}}}assertNotDestroyed(){ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,c.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,c.Z)(function*(){ee(at()&&!tl(),p.auth,"internal-error"),yield function rl(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function te(y){return Oe.apply(this,arguments)}(p.auth);ee(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Cg{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=Ui._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function eh(){return(eh=(0,c.Z)(function*(y,p,m){const b=yn(y),S=yield nh(b,p,(0,O.m9)(m));return new Cg(S,R=>Hi(b,R))})).apply(this,arguments)}function sl(){return(sl=(0,c.Z)(function*(y,p,m){const b=(0,O.m9)(y);yield Qt(!1,b,"phone");const S=yield nh(b.auth,p,(0,O.m9)(m));return new Cg(S,R=>ru(b,R))})).apply(this,arguments)}function ra(){return(ra=(0,c.Z)(function*(y,p,m){const b=(0,O.m9)(y),S=yield nh(b.auth,p,(0,O.m9)(m));return new Cg(S,R=>Rn(b,R))})).apply(this,arguments)}function nh(y,p,m){return pn.apply(this,arguments)}function pn(){return(pn=(0,c.Z)(function*(y,p,m){var b;const S=yield m.verify();try{let R;if(ee("string"==typeof S,y,"argument-error"),ee(m.type===mc,y,"argument-error"),R="string"==typeof p?{phoneNumber:p}:p,"session"in R){const H=R.session;if("phoneNumber"in R)return ee("enroll"===H.type,y,"internal-error"),(yield lu(y,{idToken:H.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{ee("signin"===H.type,y,"internal-error");const K=(null===(b=R.multiFactorHint)||void 0===b?void 0:b.uid)||R.multiFactorUid;return ee(K,y,"missing-multi-factor-info"),(yield ei(y,{mfaPendingCredential:H.credential,mfaEnrollmentId:K,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:H}=yield ql(y,{phoneNumber:R.phoneNumber,recaptchaToken:S});return H}}finally{m._reset()}})).apply(this,arguments)}function Qf(){return(Qf=(0,c.Z)(function*(y,p){yield Nd((0,O.m9)(y),p)})).apply(this,arguments)}let rn=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=yn(m)}verifyPhoneNumber(m,b){return nh(this.auth,m,(0,O.m9)(b))}static credential(m,b){return Ui._fromVerification(m,b)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:S}=m;return b&&S?Ui._fromTokenResponse(b,S):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function ti(y,p){return p?Gn(p):(ee(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Eo extends Ds{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return jr(p,this._buildIdpRequest())}_linkToIdToken(p,m){return jr(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return jr(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function ih(y){return Jl(y.auth,new Eo(y),y.bypassAuthState)}function Xf(y){const{auth:p,user:m}=y;return ee(m,p,"internal-error"),$a(m,new Eo(y),y.bypassAuthState)}function Jf(y){return ol.apply(this,arguments)}function ol(){return(ol=(0,c.Z)(function*(y){const{auth:p,user:m}=y;return ee(m,p,"internal-error"),Nd(m,new Eo(y),y.bypassAuthState)})).apply(this,arguments)}class sa{constructor(p,m,b,S,R=!1){this.auth=p,this.resolver=b,this.user=S,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,c.Z)(function*(b,S){p.pendingPromise={resolve:b,reject:S};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(R){p.reject(R)}});return function(b,S){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,c.Z)(function*(){const{urlResponse:b,sessionId:S,postBody:R,tenantId:H,error:K,type:Re}=p;if(K)return void m.reject(K);const je={auth:m.auth,requestUri:b,sessionId:S,tenantId:H||void 0,postBody:R||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Re)(je))}catch(tt){m.reject(tt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return ih;case"linkViaPopup":case"linkViaRedirect":return Jf;case"reauthViaPopup":case"reauthViaRedirect":return Xf;default:be(this.auth,"internal-error")}}resolve(p){ut(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){ut(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ar=new ke(2e3,1e4);function $t(){return($t=(0,c.Z)(function*(y,p,m){const b=yn(y);He(y,p,Ss);const S=ti(b,m);return new _c(b,"signInViaPopup",p,S).executeNotNull()})).apply(this,arguments)}function gc(){return(gc=(0,c.Z)(function*(y,p,m){const b=(0,O.m9)(y);He(b.auth,p,Ss);const S=ti(b.auth,m);return new _c(b.auth,"reauthViaPopup",p,S,b).executeNotNull()})).apply(this,arguments)}function Ps(){return(Ps=(0,c.Z)(function*(y,p,m){const b=(0,O.m9)(y);He(b.auth,p,Ss);const S=ti(b.auth,m);return new _c(b.auth,"linkViaPopup",p,S,b).executeNotNull()})).apply(this,arguments)}let _c=(()=>{class y extends sa{constructor(m,b,S,R,H){super(m,b,R,H),this.provider=S,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,c.Z)(function*(){const b=yield m.execute();return ee(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,c.Z)(function*(){ut(1===m.filter.length,"Popup operations only handle one event");const b=qr();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(S=>{m.reject(S)}),m.resolver._isIframeWebStorageSupported(m.auth,S=>{S||m.reject(fe(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(fe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,S;this.pollId=null!==(S=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(fe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,Ar.get())};m()}}return y.currentPopupAction=null,y})();const Ys=new Map;class Wr extends sa{constructor(p,m,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,c.Z)(function*(){let b=Ys.get(m.auth._key());if(!b){try{const R=(yield function vi(y,p){return aa.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;b=()=>Promise.resolve(R)}catch(S){b=()=>Promise.reject(S)}Ys.set(m.auth._key(),b)}return m.bypassAuthState||Ys.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,b=this;return(0,c.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(b,p);if("unknown"!==p.type){if(p.eventId){const S=yield b.auth._redirectUserForId(p.eventId);if(S)return b.user=S,m().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function aa(){return(aa=(0,c.Z)(function*(y,p){const m=bu(p),b=Qs(y);if(!(yield b._isAvailable()))return!1;const S="true"===(yield b._get(m));return yield b._remove(m),S})).apply(this,arguments)}function ms(y,p){return al.apply(this,arguments)}function al(){return(al=(0,c.Z)(function*(y,p){return Qs(y)._set(bu(p),"true")})).apply(this,arguments)}function la(y,p){Ys.set(y._key(),p)}function Qs(y){return Gn(y._redirectPersistence)}function bu(y){return U("pendingRedirect",y.config.apiKey,y.name)}function kn(){return(kn=(0,c.Z)(function*(y,p,m){const b=yn(y);He(y,p,Ss),yield b._initializationPromise;const S=ti(b,m);return yield ms(S,b),S._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function Zr(){return(Zr=(0,c.Z)(function*(y,p,m){const b=(0,O.m9)(y);He(b.auth,p,Ss),yield b.auth._initializationPromise;const S=ti(b.auth,m);yield ms(S,b.auth);const R=yield Eu(b);return S._openRedirect(b.auth,p,"reauthViaRedirect",R)})).apply(this,arguments)}function rh(){return(rh=(0,c.Z)(function*(y,p,m){const b=(0,O.m9)(y);He(b.auth,p,Ss),yield b.auth._initializationPromise;const S=ti(b.auth,m);yield Qt(!1,b,p.providerId),yield ms(S,b.auth);const R=yield Eu(b);return S._openRedirect(b.auth,p,"linkViaRedirect",R)})).apply(this,arguments)}function ll(){return(ll=(0,c.Z)(function*(y,p){return yield yn(y)._initializationPromise,cl(y,p,!1)})).apply(this,arguments)}function cl(y,p){return Io.apply(this,arguments)}function Io(){return(Io=(0,c.Z)(function*(y,p,m=!1){const b=yn(y),S=ti(b,p),H=yield new Wr(b,S,m).execute();return H&&!m&&(delete H.user._redirectEventId,yield b._persistUserIfCurrent(H.user),yield b._setRedirectUser(null,p)),H})).apply(this,arguments)}function Eu(y){return C.apply(this,arguments)}function C(){return(C=(0,c.Z)(function*(y){const p=qr(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class x{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(m=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Q(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return G(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var b;if(p.error&&!G(p)){const S=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(fe(this.auth,S))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const b=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(L(p))}saveEventToCache(p){this.cachedEventUids.add(L(p)),this.lastProcessedEventTime=Date.now()}}function L(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function G({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===p?.code}function ye(y){return We.apply(this,arguments)}function We(){return(We=(0,c.Z)(function*(y,p={}){return Ue(y,"GET","/v1/projects",p)})).apply(this,arguments)}const Qe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pt=/^https?/;function kt(){return(kt=(0,c.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield ye(y);for(const m of p)try{if(xr(m))return}catch{}be(y,"unauthorized-domain")})).apply(this,arguments)}function xr(y){const p=Zt(),{protocol:m,hostname:b}=new URL(p);if(y.startsWith("chrome-extension://")){const H=new URL(y);return""===H.hostname&&""===b?"chrome-extension:"===m&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&H.hostname===b}if(!pt.test(m))return!1;if(Qe.test(y))return b===y;const S=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(b)}const bi=new ke(3e4,6e4);function ca(){const y=$n().___jsl;if(y?.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let Ns=null;function fr(y){return Ns=Ns||function ul(y){return new Promise((p,m)=>{var b,S,R;function H(){ca(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{ca(),m(fe(y,"network-request-failed"))},timeout:bi.get()})}if(null!==(S=null===(b=$n().gapi)||void 0===b?void 0:b.iframes)&&void 0!==S&&S.Iframe)p(gapi.iframes.getContext());else{if(null===(R=$n().gapi)||void 0===R||!R.load){const K=br("iframefcb");return $n()[K]=()=>{gapi.load?H():m(fe(y,"network-request-failed"))},Oi(`https://apis.google.com/js/api.js?onload=${K}`).catch(Re=>m(Re))}H()}}).catch(p=>{throw Ns=null,p})}(y),Ns}const Kr=new ke(5e3,15e3),ip={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},To=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cE(y){const p=y.config;ee(p.authDomain,y,"auth-domain-config-required");const m=p.emulator?Le(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,b={apiKey:p.apiKey,appName:y.name,v:ae.SDK_VERSION},S=To.get(y.config.apiHost);S&&(b.eid=S);const R=y._getFrameworks();return R.length&&(b.fw=R.join(",")),`${m}?${(0,O.xO)(b).slice(1)}`}function sh(){return sh=(0,c.Z)(function*(y){const p=yield fr(y),m=$n().gapi;return ee(m,y,"internal-error"),p.open({where:document.body,url:cE(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ip,dontclear:!0},b=>new Promise(function(){var S=(0,c.Z)(function*(R,H){yield b.restyle({setHideOnLeave:!1});const K=fe(y,"network-request-failed"),Re=$n().setTimeout(()=>{H(K)},Kr.get());function je(){$n().clearTimeout(Re),R(b)}b.ping(je).then(je,()=>{H(K)})});return function(R,H){return S.apply(this,arguments)}}()))}),sh.apply(this,arguments)}const oh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Dg{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Av=encodeURIComponent("fac");function ah(y,p,m,b,S,R){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,c.Z)(function*(y,p,m,b,S,R){ee(y.config.authDomain,y,"auth-domain-config-required"),ee(y.config.apiKey,y,"invalid-api-key");const H={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:b,v:ae.SDK_VERSION,eventId:S};if(p instanceof Ss){p.setDefaultLanguage(y.languageCode),H.providerId=p.providerId||"",(0,O.xb)(p.getCustomParameters())||(H.customParameters=JSON.stringify(p.getCustomParameters()));for(const[tt,st]of Object.entries(R||{}))H[tt]=st}if(p instanceof Ql){const tt=p.getScopes().filter(st=>""!==st);tt.length>0&&(H.scopes=tt.join(","))}y.tenantId&&(H.tid=y.tenantId);const K=H;for(const tt of Object.keys(K))void 0===K[tt]&&delete K[tt];const Re=yield y._getAppCheckToken(),je=Re?`#${Av}=${encodeURIComponent(Re)}`:"";return`${bc(y)}?${(0,O.xO)(K).slice(1)}${je}`})).apply(this,arguments)}function bc({config:y}){return y.emulator?Le(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}const lh="webStorageSupport";class dl extends class ch{constructor(p){this.factorId=p}_process(p,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,b);case"signin":return this._finalizeSignIn(p,m.credential);default:return xt("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new dl(p)}_finalizeEnroll(p,m,b){return function Ir(y,p){return Ue(y,"POST","/v2/accounts/mfaEnrollment:finalize",Ft(y,p))}(p,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function il(y,p){return Ue(y,"POST","/v2/accounts/mfaSignIn:finalize",Ft(y,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Cu=(()=>{class y{constructor(){}static assertion(m){return dl._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var wc="@firebase/auth";class dh{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,c.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(b=>{p(b?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function hl(){return window}function ha(){return(ha=(0,c.Z)(function*(y,p,m){var b;const{BuildInfo:S}=hl();ut(p.sessionId,"AuthEvent did not contain a session ID");const R=yield xg(p.sessionId),H={};return lt()?H.ibi=S.packageName:Lt()?H.apn=S.packageName:be(y,"operation-not-supported-in-this-environment"),S.displayName&&(H.appDisplayName=S.displayName),H.sessionId=R,ah(y,m,p.type,void 0,null!==(b=p.eventId)&&void 0!==b?b:void 0,H)})).apply(this,arguments)}function cp(){return(cp=(0,c.Z)(function*(y){const{BuildInfo:p}=hl(),m={};lt()?m.iosBundleId=p.packageName:Lt()?m.androidPackageName=p.packageName:be(y,"operation-not-supported-in-this-environment"),yield ye(y,m)})).apply(this,arguments)}function up(){return(up=(0,c.Z)(function*(y,p,m){const{cordova:b}=hl();let S=()=>{};try{yield new Promise((R,H)=>{let K=null;function Re(){var st;R();const On=null===(st=b.plugins.browsertab)||void 0===st?void 0:st.close;"function"==typeof On&&On(),"function"==typeof m?.close&&m.close()}function je(){K||(K=window.setTimeout(()=>{H(fe(y,"redirect-cancelled-by-user"))},2e3))}function tt(){"visible"===document?.visibilityState&&je()}p.addPassiveListener(Re),document.addEventListener("resume",je,!1),Lt()&&document.addEventListener("visibilitychange",tt,!1),S=()=>{p.removePassiveListener(Re),document.removeEventListener("resume",je,!1),document.removeEventListener("visibilitychange",tt,!1),K&&window.clearTimeout(K)}})}finally{S()}})).apply(this,arguments)}function xg(y){return dp.apply(this,arguments)}function dp(){return(dp=(0,c.Z)(function*(y){const p=Rg(y),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Rg(y){if(ut(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),m=new Uint8Array(p);for(let b=0;b<y.length;b++)m[b]=y.charCodeAt(b);return m}(0,O.Pz)("authIdTokenMaxAge"),function Ag(y){(0,ae._registerComponent)(new ne.wA("auth",(p,{options:m})=>{const b=p.getProvider("app").getImmediate(),S=p.getProvider("heartbeat"),R=p.getProvider("app-check-internal"),{apiKey:H,authDomain:K}=b.options;ee(H&&!H.includes(":"),"invalid-api-key",{appName:b.name}),ee(!K?.includes(":"),"argument-error",{appName:b.name});const Re={apiKey:H,authDomain:K,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:re(y)},je=new Kc(b,S,R,Re);return function xn(y,p){const m=p?.persistence||[],b=(Array.isArray(m)?m:[m]).map(Gn);p?.errorMap&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(b,p?.popupRedirectResolver)}(je,m),je},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,b)=>{p.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new ne.wA("auth-internal",p=>{const m=yn(p.getProvider("auth").getImmediate());return new dh(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(wc,"0.23.1",function op(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ae.registerVersion)(wc,"0.23.1","esm2017")}("Browser");class Og extends x{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,c.Z)(function*(){yield p.initPromise})()}}function kv(y){return xu.apply(this,arguments)}function xu(){return(xu=(0,c.Z)(function*(y){const p=yield Fs()._get(ph(y));return p&&(yield Fs()._remove(ph(y))),p})).apply(this,arguments)}function hp(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const b=Math.floor(Math.random()*p.length);y.push(p.charAt(b))}return y.join("")}function Fs(){return Gn(ps)}function ph(y){return U("authEvent",y.config.apiKey,y.name)}function fl(y){if(!y?.includes("?"))return{};const[p,...m]=y.split("?");return(0,O.zd)(m.join("?"))}function pl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:fe("no-auth-event")}}function ml(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function _p(y=(0,O.z$)()){return!("file:"!==ml()&&"ionic:"!==ml()&&"capacitor:"!==ml()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function ku(){try{const y=self.localStorage,p=qr();if(y)return y.setItem(p,"1"),y.removeItem(p),!function Lg(y=(0,O.z$)()){return function mh(){return(0,O.w1)()&&11===document?.documentMode}()||function Ru(y=(0,O.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,O.hl)()}catch{return gh()&&(0,O.hl)()}return!1}function gh(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function vp(){return(function Fv(){return"http:"===ml()||"https:"===ml()}()||(0,O.ru)()||_p())&&!function yp(){return(0,O.b$)()||(0,O.UG)()}()&&ku()&&!gh()}function Cc(){return _p()&&typeof document<"u"}function Ou(){return(Ou=(0,c.Z)(function*(){return!!Cc()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const Ei={LOCAL:"local",NONE:"none",SESSION:"session"},Ic=ee,Vg="persistence";function Pu(y){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,c.Z)(function*(y){yield y._initializationPromise;const p=wp(),m=U(Vg,y.config.apiKey,y.name);p&&p.setItem(m,y._getPersistence())})).apply(this,arguments)}function wp(){var y;try{return(null===(y=function _h(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const gl=ee;class to{constructor(){this.browserResolver=Gn(class Mv{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ws,this._completeRedirectFn=cl,this._overrideRedirectResult=la}_openPopup(p,m,b,S){var R=this;return(0,c.Z)(function*(){var H;ut(null===(H=R.eventManagers[p._key()])||void 0===H?void 0:H.manager,"_initialize() not called before _openPopup()");const K=yield ah(p,m,b,Zt(),S);return function uE(y,p,m,b=500,S=600){const R=Math.max((window.screen.availHeight-S)/2,0).toString(),H=Math.max((window.screen.availWidth-b)/2,0).toString();let K="";const Re=Object.assign(Object.assign({},oh),{width:b.toString(),height:S.toString(),top:R,left:H}),je=(0,O.z$)().toLowerCase();m&&(K=qe(je)?"_blank":m),le(je)&&(p=p||"http://localhost",Re.scrollbars="yes");const tt=Object.entries(Re).reduce((On,[Yr,bh])=>`${On}${Yr}=${bh},`,"");if(function bn(y=(0,O.z$)()){var p;return lt(y)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(je)&&"_self"!==K)return function dE(y,p){const m=document.createElement("a");m.href=y,m.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(p||"",K),new Dg(null);const st=window.open(p||"",K,tt);ee(st,y,"popup-blocked");try{st.focus()}catch{}return new Dg(st)}(p,K,qr())})()}_openRedirect(p,m,b,S){var R=this;return(0,c.Z)(function*(){return yield R._originValidation(p),function du(y){$n().location.href=y}(yield ah(p,m,b,Zt(),S)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:S,promise:R}=this.eventManagers[m];return S?Promise.resolve(S):(ut(R,"If manager is not set, promise should be"),R)}const b=this.initAndGetManager(p);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(p){var m=this;return(0,c.Z)(function*(){const b=yield function rp(y){return sh.apply(this,arguments)}(p),S=new x(p);return b.register("authEvent",R=>(ee(R?.authEvent,p,"invalid-auth-event"),{status:S.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:S},m.iframes[p._key()]=b,S})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(lh,{type:lh},S=>{var R;const H=null===(R=S?.[0])||void 0===R?void 0:R[lh];void 0!==H&&m(!!H),be(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Nt(y){return kt.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return wn()||Y()||lt()}}),this.cordovaResolver=Gn(class Fg{constructor(){this._redirectPersistence=Ws,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=cl,this._overrideRedirectResult=la}_initialize(p){var m=this;return(0,c.Z)(function*(){const b=p._key();let S=m.eventManagers.get(b);return S||(S=new Og(p),m.eventManagers.set(b,S),m.attachCallbackListeners(p,S)),S})()}_openPopup(p){be(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,b,S){var R=this;return(0,c.Z)(function*(){!function Rv(y){var p,m,b,S,R,H,K,Re,je,tt;const st=hl();ee("function"==typeof(null===(p=st?.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ee(typeof(null===(m=st?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ee("function"==typeof(null===(R=null===(S=null===(b=st?.cordova)||void 0===b?void 0:b.plugins)||void 0===S?void 0:S.browsertab)||void 0===R?void 0:R.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee("function"==typeof(null===(Re=null===(K=null===(H=st?.cordova)||void 0===H?void 0:H.plugins)||void 0===K?void 0:K.browsertab)||void 0===Re?void 0:Re.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee("function"==typeof(null===(tt=null===(je=st?.cordova)||void 0===je?void 0:je.InAppBrowser)||void 0===tt?void 0:tt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const H=yield R._initialize(p);yield H.initialized(),H.resetRedirect(),function ep(){Ys.clear()}(),yield R._originValidation(p);const K=function Pg(y,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:hp(),postBody:null,tenantId:y.tenantId,error:fe(y,"no-auth-event")}}(p,b,S);yield function fh(y,p){return Fs()._set(ph(y),p)}(p,K);const Re=yield function eo(y,p,m){return ha.apply(this,arguments)}(p,K,m),je=yield function Mu(y){const{cordova:p}=hl();return new Promise(m=>{p.plugins.browsertab.isAvailable(b=>{let S=null;b?p.plugins.browsertab.openUrl(y):S=p.InAppBrowser.open(y,function yt(y=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(S)})})}(Re);return function hh(y,p,m){return up.apply(this,arguments)}(p,H,je)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Au(y){return cp.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:b,handleOpenURL:S,BuildInfo:R}=hl(),H=setTimeout((0,c.Z)(function*(){yield kv(p),m.onEvent(pl())}),500),K=function(){var tt=(0,c.Z)(function*(st){clearTimeout(H);const On=yield kv(p);let Yr=null;On&&st?.url&&(Yr=function Ng(y,p){var m,b;const S=function Pv(y){const p=fl(y),m=p.link?decodeURIComponent(p.link):void 0,b=fl(m).link,S=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return fl(S).link||S||b||m||y}(p);if(S.includes("/__/auth/callback")){const R=fl(S),H=R.firebaseError?function Ov(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(R.firebaseError)):null,K=null===(b=null===(m=H?.code)||void 0===m?void 0:m.split("auth/"))||void 0===b?void 0:b[1],Re=K?fe(K):null;return Re?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Re,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:S,postBody:null}}return null}(On,st.url)),m.onEvent(Yr||pl())});return function(On){return tt.apply(this,arguments)}}();typeof b<"u"&&"function"==typeof b.subscribe&&b.subscribe(null,K);const Re=S,je=`${R.packageName.toLowerCase()}://`;hl().handleOpenURL=function(){var tt=(0,c.Z)(function*(st){if(st.toLowerCase().startsWith(je)&&K({url:st}),"function"==typeof Re)try{Re(st)}catch(On){console.error(On)}});return function(st){return tt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Ws,this._completeRedirectFn=cl,this._overrideRedirectResult=la}_initialize(p){var m=this;return(0,c.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,b,S){var R=this;return(0,c.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(p,m,b,S)})()}_openRedirect(p,m,b,S){var R=this;return(0,c.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(p,m,b,S)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Cc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return gl(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,c.Z)(function*(){if(p.underlyingResolver)return;const m=yield function bp(){return Ou.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function Fu(y){return y.unwrap()}function yh(y){return Hg(y)}function Hg(y){const{_tokenResponse:p}=y instanceof O.ZR?y.customData:y;if(!p)return null;if(!(y instanceof O.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return rn.credentialFromResult(y);const m=p.providerId;if(!m||"password"===m)return null;let b;switch(m){case"google.com":b=nu;break;case"facebook.com":b=Qi;break;case"github.com":b=Xl;break;case"twitter.com":b=Rd;break;default:const{oauthIdToken:S,oauthAccessToken:R,oauthTokenSecret:H,pendingToken:K,nonce:Re}=p;return R||H||S||K?K?m.startsWith("saml.")?Wn._create(m,K):wr._fromParams({providerId:m,signInMethod:m,pendingToken:K,idToken:S,accessToken:R}):new Er(m).credential({idToken:S,accessToken:R,rawNonce:Re}):null}return y instanceof O.ZR?b.credentialFromError(y):b.credentialFromResult(y)}function Ji(y,p){return p.catch(m=>{throw m instanceof O.ZR&&function fa(y,p){var m;const b=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===p?.code)p.resolver=new Vv(y,function au(y,p){var m;const b=(0,O.m9)(y),S=p;return ee(p.customData.operationType,b,"argument-error"),ee(null===(m=S.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),qs._fromError(b,S)}(y,p));else if(b){const S=Hg(p),R=p;S&&(R.credential=S,R.tenantId=b.tenantId||void 0,R.email=b.email||void 0,R.phoneNumber=b.phoneNumber||void 0)}}(y,m),m}).then(m=>{const S=m.user;return{operationType:m.operationType,credential:yh(m),additionalUserInfo:lc(m),user:Ci.getOrCreate(S)}})}function Ep(y,p){return vh.apply(this,arguments)}function vh(){return(vh=(0,c.Z)(function*(y,p){const m=yield p;return{verificationId:m.verificationId,confirm:b=>Ji(y,m.confirm(b))}})).apply(this,arguments)}class Vv{constructor(p,m){this.resolver=m,this.auth=function Ug(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Ji(Fu(this.auth),this.resolver.resolveSignIn(p))}}class Ci{constructor(p){this._delegate=p,this.multiFactor=function Xa(y){const p=(0,O.m9)(y);return Xo.has(p)||Xo.set(p,ai._fromUser(p)),Xo.get(p)}(p)}static getOrCreate(p){return Ci.USER_MAP.has(p)||Ci.USER_MAP.set(p,new Ci(p)),Ci.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,c.Z)(function*(){return Ji(m.auth,ru(m._delegate,p))})()}linkWithPhoneNumber(p,m){var b=this;return(0,c.Z)(function*(){return Ep(b.auth,function th(y,p,m){return sl.apply(this,arguments)}(b._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,c.Z)(function*(){return Ji(m.auth,function vu(y,p,m){return Ps.apply(this,arguments)}(m._delegate,p,to))})()}linkWithRedirect(p){var m=this;return(0,c.Z)(function*(){return yield Pu(yn(m.auth)),function wu(y,p,m){return function Js(y,p,m){return rh.apply(this,arguments)}(y,p,m)}(m._delegate,p,to)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,c.Z)(function*(){return Ji(m.auth,Rn(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return Ep(this.auth,function Ig(y,p,m){return ra.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return Ji(this.auth,function ft(y,p,m){return gc.apply(this,arguments)}(this._delegate,p,to))}reauthenticateWithRedirect(p){var m=this;return(0,c.Z)(function*(){return yield Pu(yn(m.auth)),function Mr(y,p,m){return function tp(y,p,m){return Zr.apply(this,arguments)}(y,p,m)}(m._delegate,p,to)})()}sendEmailVerification(p){return function $d(y,p){return zd.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,c.Z)(function*(){return yield function Pd(y,p){return ja.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function Uf(y,p){return Za((0,O.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function xs(y,p){return Za((0,O.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function yu(y,p){return Qf.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function qd(y,p){return Wa.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function Gd(y,p,m){return yo.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ci.USER_MAP=new WeakMap;const no=ee;let jg=(()=>{class y{constructor(m,b){if(this.app=m,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=m.options;no(S,"invalid-api-key",{appName:m.name}),no(S,"invalid-api-key",{appName:m.name});const R=typeof window<"u"?to:void 0;this._delegate=b.initialize({options:{persistence:Bv(S,m.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(Ce),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ci.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,b){!function Ed(y,p,m){const b=yn(y);ee(b._canInitEmulator,b,"emulator-config-failed"),ee(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const S=!!m?.disableWarnings,R=fi(p),{host:H,port:K}=function Yi(y){const p=fi(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(b);if(S){const R=S[1];return{host:R,port:Wo(b.substr(R.length+1))}}{const[R,H]=b.split(":");return{host:R,port:Wo(H)}}}(p);b.config.emulator={url:`${R}//${H}${null===K?"":`:${K}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:H,port:K,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function $l(){function y(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,b)}applyActionCode(m){return function ic(y,p){return Gr.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Ld(this._delegate,m)}confirmPasswordReset(m,b){return function nc(y,p,m){return za.apply(this,arguments)}(this._delegate,m,b)}createUserWithEmailAndPassword(m,b){var S=this;return(0,c.Z)(function*(){return Ji(S._delegate,function Vd(y,p,m){return qa.apply(this,arguments)}(S._delegate,m,b))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Bf(y,p){return jd.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Vf(y,p){return"EMAIL_SIGNIN"===Yl.parseLink(p)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,c.Z)(function*(){no(vp(),m._delegate,"operation-not-supported-in-this-environment");const b=yield function np(y,p){return ll.apply(this,arguments)}(m._delegate,to);return b?Ji(m._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function Nv(y,p){yn(y)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,b,S){const{next:R,error:H,complete:K}=Cp(m,b,S);return this._delegate.onAuthStateChanged(R,H,K)}onIdTokenChanged(m,b,S){const{next:R,error:H,complete:K}=Cp(m,b,S);return this._delegate.onIdTokenChanged(R,H,K)}sendSignInLinkToEmail(m,b){return function Yo(y,p,m){return Ud.apply(this,arguments)}(this._delegate,m,b)}sendPasswordResetEmail(m,b){return function Fd(y,p,m){return Ko.apply(this,arguments)}(this._delegate,m,b||void 0)}setPersistence(m){var b=this;return(0,c.Z)(function*(){let S;switch(function Lv(y,p){Ic(Object.values(Ei).includes(p),y,"invalid-persistence-type"),(0,O.b$)()?Ic(p!==Ei.SESSION,y,"unsupported-persistence-type"):(0,O.UG)()?Ic(p===Ei.NONE,y,"unsupported-persistence-type"):gh()?Ic(p===Ei.NONE||p===Ei.LOCAL&&(0,O.hl)(),y,"unsupported-persistence-type"):Ic(p===Ei.NONE||ku(),y,"unsupported-persistence-type")}(b._delegate,m),m){case Ei.SESSION:S=Ws;break;case Ei.LOCAL:S=(yield Gn(ia)._isAvailable())?ia:ps;break;case Ei.NONE:S=Ki;break;default:return be("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Ji(this._delegate,function cs(y){return kd.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Ji(this._delegate,Hi(this._delegate,m))}signInWithCustomToken(m){return Ji(this._delegate,function ds(y,p){return su.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,b){return Ji(this._delegate,function Bd(y,p,m){return Hi((0,O.m9)(y),qn.credential(p,m))}(this._delegate,m,b))}signInWithEmailLink(m,b){return Ji(this._delegate,function Xi(y,p,m){return Ms.apply(this,arguments)}(this._delegate,m,b))}signInWithPhoneNumber(m,b){return Ep(this._delegate,function Yf(y,p,m){return eh.apply(this,arguments)}(this._delegate,m,b))}signInWithPopup(m){var b=this;return(0,c.Z)(function*(){return no(vp(),b._delegate,"operation-not-supported-in-this-environment"),Ji(b._delegate,function oa(y,p,m){return $t.apply(this,arguments)}(b._delegate,m,to))})()}signInWithRedirect(m){var b=this;return(0,c.Z)(function*(){return no(vp(),b._delegate,"operation-not-supported-in-this-environment"),yield Pu(b._delegate),function Xs(y,p,m){return function Co(y,p,m){return kn.apply(this,arguments)}(y,p,m)}(b._delegate,m,to)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function rc(y,p){return _o.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Ei,y})();function Cp(y,p,m){let b=y;"function"!=typeof y&&({next:b,error:p,complete:m}=y);const S=b;return{next:H=>S(H&&Ci.getOrCreate(H)),error:p,complete:m}}function Bv(y,p){const m=function Bg(y,p){const m=wp();if(!m)return[];const b=U(Vg,y,p);switch(m.getItem(b)){case Ei.NONE:return[Ki];case Ei.LOCAL:return[ia,Ws];case Ei.SESSION:return[Ws];default:return[]}}(y,p);if(typeof self<"u"&&!m.includes(ia)&&m.push(ia),typeof window<"u")for(const b of[ps,Ws])m.includes(b)||m.push(b);return m.includes(Ki)||m.push(Ki),m}class $g{constructor(){this.providerId="phone",this._delegate=new rn(Fu(X.Z.auth()))}static credential(p,m){return rn.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}$g.PHONE_SIGN_IN_METHOD=rn.PHONE_SIGN_IN_METHOD,$g.PROVIDER_ID=rn.PROVIDER_ID;const Ip=ee;class Uv{constructor(p,m,b=X.Z.app()){var S;Ip(null===(S=b.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new Jd(p,m,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function zg(y){y.INTERNAL.registerComponent(new ne.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),b=p.getProvider("auth");return new jg(m,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:qn,FacebookAuthProvider:Qi,GithubAuthProvider:Xl,GoogleAuthProvider:nu,OAuthProvider:Er,SAMLAuthProvider:$s,PhoneAuthProvider:$g,PhoneMultiFactorGenerator:Cu,RecaptchaVerifier:Uv,TwitterAuthProvider:Rd,Auth:jg,AuthCredential:Ds,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.4.1")}(X.Z)},5861:(mt,Te,P)=>{function c(O,ae,oe,ue,ne,ve,he){try{var $=O[ve](he),j=$.value}catch(Z){return void oe(Z)}$.done?ae(j):Promise.resolve(j).then(ue,ne)}function X(O){return function(){var ae=this,oe=arguments;return new Promise(function(ue,ne){var ve=O.apply(ae,oe);function he(j){c(ve,ue,ne,he,$,"next",j)}function $(j){c(ve,ue,ne,he,$,"throw",j)}he(void 0)})}}P.d(Te,{Z:()=>X})}},mt=>{mt(mt.s=8438)}]);