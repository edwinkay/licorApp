"use strict";(self.webpackChunklicorApp=self.webpackChunklicorApp||[]).push([[179],{2011:(mt,Te,P)=>{P.d(Te,{Dh:()=>we,GT:()=>ue,cc:()=>Me,hO:()=>ze,on:()=>$,pX:()=>oe,xv:()=>he});var c=P(4650),X=P(9260),O=P(8623);mt=P.hmd(mt);const ae=["ngOnDestroy"],oe=(me,_t,It,Pe={})=>new Proxy(me,{get:(Ee,fe)=>It.runOutsideAngular(()=>{var Ge;if(me[fe])return!(null===(Ge=Pe?.spy)||void 0===Ge)&&Ge.get&&Pe.spy.get(fe,me[fe]),me[fe];if(ae.indexOf(fe)>-1)return()=>{};const He=_t.toPromise().then(et=>{const ee=et&&et[fe];return"function"==typeof ee?ee.bind(et):ee&&ee.then?ee.then(xt=>It.run(()=>xt)):It.run(()=>ee)});return new Proxy(()=>{},{get:(et,ee)=>He[ee],apply:(et,ee,xt)=>He.then(dt=>{var qt;const ct=dt&&dt(...xt);return!(null===(qt=Pe?.spy)||void 0===qt)&&qt.apply&&Pe.spy.apply(fe,xt,ct),ct})})})}),ue=(me,_t)=>{_t.forEach(It=>{Object.getOwnPropertyNames(It.prototype||It).forEach(Pe=>{Object.defineProperty(me.prototype,Pe,Object.getOwnPropertyDescriptor(It.prototype||It,Pe))})})};class ne{constructor(_t){return _t}}const we=new c.OlP("angularfire2.app.options"),he=new c.OlP("angularfire2.app.name");function $(me,_t,It){const Ee="object"==typeof It&&It||{};Ee.name=Ee.name||"string"==typeof It&&It||"[DEFAULT]";const Ge=X.Z.apps.filter(He=>He&&He.name===Ee.name)[0]||_t.runOutsideAngular(()=>X.Z.initializeApp(me,Ee));try{JSON.stringify(me)!==JSON.stringify(Ge.options)&&j("error",`${Ge.name} Firebase App already initialized with different options${mt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ne(Ge)}const j=(me,..._t)=>{(0,c.X6Q)()&&typeof console<"u"&&console[me](..._t)},Z={provide:ne,useFactory:$,deps:[we,c.R0b,[new c.FiY,he]]};let ze=(()=>{class me{constructor(It){X.Z.registerVersion("angularfire",O.q4.full,"core"),X.Z.registerVersion("angularfire",O.q4.full,"app-compat"),X.Z.registerVersion("angular",c.q4F.full,It.toString())}static initializeApp(It,Pe){return{ngModule:me,providers:[{provide:we,useValue:It},{provide:he,useValue:Pe}]}}}return me.\u0275fac=function(It){return new(It||me)(c.LFG(c.Lbi))},me.\u0275mod=c.oAB({type:me}),me.\u0275inj=c.cJS({providers:[Z]}),me})();function Me(me,_t,It,Pe,Ee){const[,fe,Ge]=globalThis.\u0275AngularfireInstanceCache.find(He=>He[0]===me)||[];if(fe)return function Ie(me,_t){try{return me.toString()===_t.toString()}catch{return me===_t}}(Ee,Ge)||(_e("error",`${_t} was already initialized on the ${It} Firebase App with different settings.${st?" You may need to reload as Firebase is not HMR aware.":""}`),_e("warn",{is:Ee,was:Ge})),fe;{const He=Pe();return globalThis.\u0275AngularfireInstanceCache.push([me,He,Ee]),He}}const st=!!mt.hot,_e=(me,..._t)=>{(0,c.X6Q)()&&typeof console<"u"&&console[me](..._t)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8623:(mt,Te,P)=>{P.d(Te,{q4:()=>Ls,iC:()=>dl,HU:()=>uh,vb:()=>ao,JM:()=>fi});var c=P(4650),X=P(259),O=P(5861),ae=P(2951),oe=P(2090),ue=P(4859),ne=P(1877);let he,$;const ze=new WeakMap,Me=new WeakMap,Ie=new WeakMap,st=new WeakMap,_e=new WeakMap;let It={get(C,T,x){if(C instanceof IDBTransaction){if("done"===T)return Me.get(C);if("objectStoreNames"===T)return C.objectStoreNames||Ie.get(C);if("store"===T)return x.objectStoreNames[1]?void 0:x.objectStore(x.objectStoreNames[0])}return Ge(C[T])},set:(C,T,x)=>(C[T]=x,!0),has:(C,T)=>C instanceof IDBTransaction&&("done"===T||"store"===T)||T in C};function fe(C){return"function"==typeof C?function Ee(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Z(){return $||($=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...T){return C.apply(He(this),T),Ge(ze.get(this))}:function(...T){return Ge(C.apply(He(this),T))}:function(T,...x){const L=C.call(He(this),T,...x);return Ie.set(L,T.sort?T.sort():[T]),Ge(L)}}(C):(C instanceof IDBTransaction&&function _t(C){if(Me.has(C))return;const T=new Promise((x,L)=>{const G=()=>{C.removeEventListener("complete",Y),C.removeEventListener("error",be),C.removeEventListener("abort",be)},Y=()=>{x(),G()},be=()=>{L(C.error||new DOMException("AbortError","AbortError")),G()};C.addEventListener("complete",Y),C.addEventListener("error",be),C.addEventListener("abort",be)});Me.set(C,T)}(C),((C,T)=>T.some(x=>C instanceof x))(C,function j(){return he||(he=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,It):C)}function Ge(C){if(C instanceof IDBRequest)return function me(C){const T=new Promise((x,L)=>{const G=()=>{C.removeEventListener("success",Y),C.removeEventListener("error",be)},Y=()=>{x(Ge(C.result)),G()},be=()=>{L(C.error),G()};C.addEventListener("success",Y),C.addEventListener("error",be)});return T.then(x=>{x instanceof IDBCursor&&ze.set(x,C)}).catch(()=>{}),_e.set(T,C),T}(C);if(st.has(C))return st.get(C);const T=fe(C);return T!==C&&(st.set(C,T),_e.set(T,C)),T}const He=C=>_e.get(C);function et(C,T,{blocked:x,upgrade:L,blocking:G,terminated:Y}={}){const be=indexedDB.open(C,T),Ze=Ge(be);return L&&be.addEventListener("upgradeneeded",Ye=>{L(Ge(be.result),Ye.oldVersion,Ye.newVersion,Ge(be.transaction))}),x&&be.addEventListener("blocked",()=>x()),Ze.then(Ye=>{Y&&Ye.addEventListener("close",()=>Y()),G&&Ye.addEventListener("versionchange",()=>G())}).catch(()=>{}),Ze}function ee(C,{blocked:T}={}){const x=indexedDB.deleteDatabase(C);return T&&x.addEventListener("blocked",()=>T()),Ge(x).then(()=>{})}const xt=["get","getKey","getAll","getAllKeys","count"],dt=["put","add","delete","clear"],qt=new Map;function ct(C,T){if(!(C instanceof IDBDatabase)||T in C||"string"!=typeof T)return;if(qt.get(T))return qt.get(T);const x=T.replace(/FromIndex$/,""),L=T!==x,G=dt.includes(x);if(!(x in(L?IDBIndex:IDBObjectStore).prototype)||!G&&!xt.includes(x))return;const Y=function(){var be=(0,O.Z)(function*(Ze,...Ye){const pt=this.transaction(Ze,G?"readwrite":"readonly");let Ft=pt.store;return L&&(Ft=Ft.index(Ye.shift())),(yield Promise.all([Ft[x](...Ye),G&&pt.done]))[0]});return function(Ye){return be.apply(this,arguments)}}();return qt.set(T,Y),Y}!function Pe(C){It=C(It)}(C=>({...C,get:(T,x,L)=>ct(T,x)||C.get(T,x,L),has:(T,x)=>!!ct(T,x)||C.has(T,x)}));const de="@firebase/installations",xe="w:0.6.4",Le="FIS_v2",$t=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Wt(C){return C instanceof oe.ZR&&C.code.includes("request-failed")}function Xt({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function Rn(C){return{token:C.token,requestStatus:2,expiresIn:Ua(C.expiresIn),creationTime:Date.now()}}function $n(C,T){return Li.apply(this,arguments)}function Li(){return(Li=(0,O.Z)(function*(C,T){const L=(yield T.json()).error;return $t.create("request-failed",{requestName:C,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function sr({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function Di(C,{refreshToken:T}){const x=sr(C);return x.append("Authorization",function Zo(C){return`${Le} ${C}`}(T)),x}function os(C){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,O.Z)(function*(C){const T=yield C();return T.status>=500&&T.status<600?C():T})).apply(this,arguments)}function Ua(C){return Number(C.replace("s","000"))}function ht(C,T){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,O.Z)(function*({appConfig:C,heartbeatServiceProvider:T},{fid:x}){const L=Xt(C),G=sr(C),Y=T.getImmediate({optional:!0});if(Y){const pt=yield Y.getHeartbeatsHeader();pt&&G.append("x-firebase-client",pt)}const Ze={method:"POST",headers:G,body:JSON.stringify({fid:x,authVersion:Le,appId:C.appId,sdkVersion:xe})},Ye=yield os(()=>fetch(L,Ze));if(Ye.ok){const pt=yield Ye.json();return{fid:pt.fid||x,registrationStatus:2,refreshToken:pt.refreshToken,authToken:Rn(pt.authToken)}}throw yield $n("Create Installation",Ye)})).apply(this,arguments)}function Hr(C){return new Promise(T=>{setTimeout(T,C)})}const Ko=/^[cdef][\w-]{21}$/;function ci(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const x=function Sn(C){return function qi(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Ko.test(x)?x:""}catch{return""}}function rn(C){return`${C.appName}!${C.appId}`}const nt=new Map;function wt(C,T){const x=rn(C);or(x,T),function ti(C,T){const x=function Ti(){return!Tt&&"BroadcastChannel"in self&&(Tt=new BroadcastChannel("[Firebase] FID Change"),Tt.onmessage=C=>{or(C.data.key,C.data.fid)}),Tt}();x&&x.postMessage({key:C,fid:T}),function fn(){0===nt.size&&Tt&&(Tt.close(),Tt=null)}()}(x,T)}function or(C,T){const x=nt.get(C);if(x)for(const L of x)L(T)}let Tt=null;const ui="firebase-installations-store";let Si=null;function jr(){return Si||(Si=et("firebase-installations-database",1,{upgrade:(C,T)=>{0===T&&C.createObjectStore(ui)}})),Si}function Nn(C,T){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,O.Z)(function*(C,T){const x=rn(C),G=(yield jr()).transaction(ui,"readwrite"),Y=G.objectStore(ui),be=yield Y.get(x);return yield Y.put(T,x),yield G.done,(!be||be.fid!==T.fid)&&wt(C,T.fid),T})).apply(this,arguments)}function ls(C){return zn.apply(this,arguments)}function zn(){return(zn=(0,O.Z)(function*(C){const T=rn(C),L=(yield jr()).transaction(ui,"readwrite");yield L.objectStore(ui).delete(T),yield L.done})).apply(this,arguments)}function ar(C,T){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,O.Z)(function*(C,T){const x=rn(C),G=(yield jr()).transaction(ui,"readwrite"),Y=G.objectStore(ui),be=yield Y.get(x),Ze=T(be);return void 0===Ze?yield Y.delete(x):yield Y.put(Ze,x),yield G.done,Ze&&(!be||be.fid!==Ze.fid)&&wt(C,Ze.fid),Ze})).apply(this,arguments)}function U(C){return V.apply(this,arguments)}function V(){return(V=(0,O.Z)(function*(C){let T;const x=yield ar(C.appConfig,L=>{const G=q(L),Y=le(C,G);return T=Y.registrationPromise,Y.installationEntry});return""===x.fid?{installationEntry:yield T}:{installationEntry:x,registrationPromise:T}})).apply(this,arguments)}function q(C){return Ve(C||{fid:ci(),registrationStatus:0})}function le(C,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject($t.create("app-offline"))};const x={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},L=function Q(C,T){return We.apply(this,arguments)}(C,x);return{installationEntry:x,registrationPromise:L}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:St(C)}:{installationEntry:T}}function We(){return(We=(0,O.Z)(function*(C,T){try{const x=yield ht(C,T);return Nn(C.appConfig,x)}catch(x){throw Wt(x)&&409===x.customData.serverCode?yield ls(C.appConfig):yield Nn(C.appConfig,{fid:T.fid,registrationStatus:0}),x}})).apply(this,arguments)}function St(C){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,O.Z)(function*(C){let T=yield dn(C.appConfig);for(;1===T.registrationStatus;)yield Hr(100),T=yield dn(C.appConfig);if(0===T.registrationStatus){const{installationEntry:x,registrationPromise:L}=yield U(C);return L||x}return T})).apply(this,arguments)}function dn(C){return ar(C,T=>{if(!T)throw $t.create("installation-not-found");return Ve(T)})}function Ve(C){return function ut(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function yt(C,T){return yn.apply(this,arguments)}function yn(){return(yn=(0,O.Z)(function*({appConfig:C,heartbeatServiceProvider:T},x){const L=Mi(C,x),G=Di(C,x),Y=T.getImmediate({optional:!0});if(Y){const pt=yield Y.getHeartbeatsHeader();pt&&G.append("x-firebase-client",pt)}const Ze={method:"POST",headers:G,body:JSON.stringify({installation:{sdkVersion:xe,appId:C.appId}})},Ye=yield os(()=>fetch(L,Ze));if(Ye.ok)return Rn(yield Ye.json());throw yield $n("Generate Auth Token",Ye)})).apply(this,arguments)}function Mi(C,{fid:T}){return`${Xt(C)}/${T}/authTokens:generate`}function vn(C){return $r.apply(this,arguments)}function $r(){return($r=(0,O.Z)(function*(C,T=!1){let x;const L=yield ar(C.appConfig,Y=>{if(!Vt(Y))throw $t.create("not-registered");const be=Y.authToken;if(!T&&on(be))return Y;if(1===be.requestStatus)return x=re(C,T),Y;{if(!navigator.onLine)throw $t.create("app-offline");const Ze=Qt(Y);return x=Ne(C,Ze),Ze}});return x?yield x:L.authToken})).apply(this,arguments)}function re(C,T){return te.apply(this,arguments)}function te(){return(te=(0,O.Z)(function*(C,T){let x=yield Oe(C.appConfig);for(;1===x.authToken.requestStatus;)yield Hr(100),x=yield Oe(C.appConfig);const L=x.authToken;return 0===L.requestStatus?vn(C,T):L})).apply(this,arguments)}function Oe(C){return ar(C,T=>{if(!Vt(T))throw $t.create("not-registered");return function xi(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function Ne(C,T){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,O.Z)(function*(C,T){try{const x=yield yt(C,T),L=Object.assign(Object.assign({},T),{authToken:x});return yield Nn(C.appConfig,L),x}catch(x){if(!Wt(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const L=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield Nn(C.appConfig,L)}else yield ls(C.appConfig);throw x}})).apply(this,arguments)}function Vt(C){return void 0!==C&&2===C.registrationStatus}function on(C){return 2===C.requestStatus&&!function kn(C){const T=Date.now();return T<C.creationTime||C.creationTime+C.expiresIn<T+36e5}(C)}function Qt(C){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:T})}function lr(){return(lr=(0,O.Z)(function*(C){const T=C,{installationEntry:x,registrationPromise:L}=yield U(T);return L?L.catch(console.error):vn(T).catch(console.error),x.fid})).apply(this,arguments)}function zl(){return(zl=(0,O.Z)(function*(C,T=!1){const x=C;return yield bn(x),(yield vn(x,T)).token})).apply(this,arguments)}function bn(C){return cs.apply(this,arguments)}function cs(){return(cs=(0,O.Z)(function*(C){const{registrationPromise:T}=yield U(C);T&&(yield T)})).apply(this,arguments)}function di(C){return $t.create("missing-app-config-values",{valueName:C})}const Zi="installations",ql=C=>{const T=C.getProvider("app").getImmediate(),x=function Ad(C){if(!C||!C.options)throw di("App Configuration");if(!C.name)throw di("App Name");const T=["projectId","apiKey","appId"];for(const x of T)if(!C.options[x])throw di(x);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(T);return{app:T,appConfig:x,heartbeatServiceProvider:(0,ae._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},Ts=C=>{const T=C.getProvider("app").getImmediate(),x=(0,ae._getProvider)(T,Zi).getImmediate();return{getId:()=>function yr(C){return lr.apply(this,arguments)}(x),getToken:G=>function Ha(C){return zl.apply(this,arguments)}(x,G)}};(function zr(){(0,ae._registerComponent)(new ue.wA(Zi,ql,"PUBLIC")),(0,ae._registerComponent)(new ue.wA("installations-internal",Ts,"PRIVATE"))})(),(0,ae.registerVersion)(de,"0.6.4"),(0,ae.registerVersion)(de,"0.6.4","esm2017");const Jo="@firebase/remote-config",In=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class vr{constructor(T,x,L,G){this.client=T,this.storage=x,this.storageCache=L,this.logger=G}isCachedDataFresh(T,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-x,G=L<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${G}.`),G}fetch(T){var x=this;return(0,O.Z)(function*(){const[L,G]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(G&&x.isCachedDataFresh(T.cacheMaxAgeMillis,L))return G;T.eTag=G&&G.eTag;const Y=yield x.client.fetch(T),be=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Y.status&&be.push(x.storage.setLastSuccessfulFetchResponse(Y)),yield Promise.all(be),Y})()}}function nu(C=navigator){return C.languages&&C.languages[0]||C.language}class ja{constructor(T,x,L,G,Y,be){this.firebaseInstallations=T,this.sdkVersion=x,this.namespace=L,this.projectId=G,this.apiKey=Y,this.appId=be}fetch(T){var x=this;return(0,O.Z)(function*(){const[L,G]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),be=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,Ze={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},Ye={sdk_version:x.sdkVersion,app_instance_id:L,app_instance_id_token:G,app_id:x.appId,language_code:nu()},pt={method:"POST",headers:Ze,body:JSON.stringify(Ye)},Ft=fetch(be,pt),kt=new Promise((ii,Yr)=>{T.signal.addEventListener(()=>{const hh=new Error("The operation was aborted.");hh.name="AbortError",Yr(hh)})});let Qi;try{yield Promise.race([Ft,kt]),Qi=yield Ft}catch(ii){let Yr="fetch-client-network";throw"AbortError"===ii?.name&&(Yr="fetch-timeout"),In.create(Yr,{originalErrorMessage:ii?.message})}let bi=Qi.status;const hl=Qi.headers.get("ETag")||void 0;let Cu,Bn;if(200===Qi.status){let ii;try{ii=yield Qi.json()}catch(Yr){throw In.create("fetch-client-parse",{originalErrorMessage:Yr?.message})}Cu=ii.entries,Bn=ii.state}if("INSTANCE_STATE_UNSPECIFIED"===Bn?bi=500:"NO_CHANGE"===Bn?bi=304:("NO_TEMPLATE"===Bn||"EMPTY_CONFIG"===Bn)&&(Cu={}),304!==bi&&200!==bi)throw In.create("fetch-status",{httpStatus:bi});return{status:bi,eTag:hl,config:Cu}})()}}class $f{constructor(T,x){this.client=T,this.storage=x}fetch(T){var x=this;return(0,O.Z)(function*(){const L=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(T,L)})()}attemptFetch(T,{throttleEndTimeMillis:x,backoffCount:L}){var G=this;return(0,O.Z)(function*(){yield function iu(C,T){return new Promise((x,L)=>{const G=Math.max(T-Date.now(),0),Y=setTimeout(x,G);C.addEventListener(()=>{clearTimeout(Y),L(In.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,x);try{const Y=yield G.client.fetch(T);return yield G.storage.deleteThrottleMetadata(),Y}catch(Y){if(!function Kl(C){if(!(C instanceof oe.ZR&&C.customData))return!1;const T=Number(C.customData.httpStatus);return 429===T||500===T||503===T||504===T}(Y))throw Y;const be={throttleEndTimeMillis:Date.now()+(0,oe.$s)(L),backoffCount:L+1};return yield G.storage.setThrottleMetadata(be),G.attemptFetch(T,be)}})()}}class zf{constructor(T,x,L,G,Y){this.app=T,this._client=x,this._storageCache=L,this._storage=G,this._logger=Y,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function yi(C,T){const x=C.target.error||void 0;return In.create(T,{originalErrorMessage:x&&x?.message})}const Vi="app_namespace_store";class Z0{constructor(T,x,L,G=function Xl(){return new Promise((C,T)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=L=>{T(yi(L,"storage-open"))},x.onsuccess=L=>{C(L.target.result)},x.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(Vi,{keyPath:"compositeKey"})}}catch(x){T(In.create("storage-open",{originalErrorMessage:x?.message}))}})}()){this.appId=T,this.appName=x,this.namespace=L,this.openDbPromise=G}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var x=this;return(0,O.Z)(function*(){const L=yield x.openDbPromise;return new Promise((G,Y)=>{const Ze=L.transaction([Vi],"readonly").objectStore(Vi),Ye=x.createCompositeKey(T);try{const pt=Ze.get(Ye);pt.onerror=Ft=>{Y(yi(Ft,"storage-get"))},pt.onsuccess=Ft=>{const kt=Ft.target.result;G(kt?kt.value:void 0)}}catch(pt){Y(In.create("storage-get",{originalErrorMessage:pt?.message}))}})})()}set(T,x){var L=this;return(0,O.Z)(function*(){const G=yield L.openDbPromise;return new Promise((Y,be)=>{const Ye=G.transaction([Vi],"readwrite").objectStore(Vi),pt=L.createCompositeKey(T);try{const Ft=Ye.put({compositeKey:pt,value:x});Ft.onerror=kt=>{be(yi(kt,"storage-set"))},Ft.onsuccess=()=>{Y()}}catch(Ft){be(In.create("storage-set",{originalErrorMessage:Ft?.message}))}})})()}delete(T){var x=this;return(0,O.Z)(function*(){const L=yield x.openDbPromise;return new Promise((G,Y)=>{const Ze=L.transaction([Vi],"readwrite").objectStore(Vi),Ye=x.createCompositeKey(T);try{const pt=Ze.delete(Ye);pt.onerror=Ft=>{Y(yi(Ft,"storage-delete"))},pt.onsuccess=()=>{G()}}catch(pt){Y(In.create("storage-delete",{originalErrorMessage:pt?.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class Gn{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,O.Z)(function*(){const x=T.storage.getLastFetchStatus(),L=T.storage.getLastSuccessfulFetchTimestampMillis(),G=T.storage.getActiveConfig(),Y=yield x;Y&&(T.lastFetchStatus=Y);const be=yield L;be&&(T.lastSuccessfulFetchTimestampMillis=be);const Ze=yield G;Ze&&(T.activeConfig=Ze)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function Ki(){return ru.apply(this,arguments)}function ru(){return(ru=(0,O.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}!function As(){(0,ae._registerComponent)(new ue.wA("remote-config",function C(T,{instanceIdentifier:x}){const L=T.getProvider("app").getImmediate(),G=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw In.create("registration-window");if(!(0,oe.hl)())throw In.create("indexed-db-unavailable");const{projectId:Y,apiKey:be,appId:Ze}=L.options;if(!Y)throw In.create("registration-project-id");if(!be)throw In.create("registration-api-key");if(!Ze)throw In.create("registration-app-id");const Ye=new Z0(Ze,L.name,x=x||"firebase"),pt=new Gn(Ye),Ft=new ne.Yd(Jo);Ft.logLevel=ne.in.ERROR;const kt=new ja(G,ae.SDK_VERSION,x,Y,be,Ze),Qi=new $f(kt,Ye),bi=new vr(Qi,Ye,pt,Ft),hl=new zf(L,bi,pt,Ye,Ft);return function Sg(C){const T=(0,oe.m9)(C);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(hl),hl},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(Jo,"0.4.4"),(0,ae.registerVersion)(Jo,"0.4.4","esm2017")}();const ec="/firebase-messaging-sw.js",$a="/firebase-cloud-messaging-push-scope",qn="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Xs="google.c.a.c_id",Vd="google.c.a.c_l",qr="google.c.a.ts",wo="google.c.a.e";var Et=(()=>{return(C=Et||(Et={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",Et;var C})();function us(C){const T=new Uint8Array(C);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Bd(C){const x=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(x),G=new Uint8Array(L.length);for(let Y=0;Y<L.length;++Y)G[Y]=L.charCodeAt(Y);return G}const za="fcm_token_details_db",su="fcm_token_object_Store";function Hd(C){return Ga.apply(this,arguments)}function Ga(){return Ga=(0,O.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Y=>Y.name).includes(za))return null;let T=null;return(yield et(za,5,{upgrade:(L=(0,O.Z)(function*(G,Y,be,Ze){var Ye;if(Y<2||!G.objectStoreNames.contains(su))return;const pt=Ze.objectStore(su),Ft=yield pt.index("fcmSenderId").get(C);if(yield pt.clear(),Ft)if(2===Y){const kt=Ft;if(!kt.auth||!kt.p256dh||!kt.endpoint)return;T={token:kt.fcmToken,createTime:null!==(Ye=kt.createTime)&&void 0!==Ye?Ye:Date.now(),subscriptionOptions:{auth:kt.auth,p256dh:kt.p256dh,endpoint:kt.endpoint,swScope:kt.swScope,vapidKey:"string"==typeof kt.vapidKey?kt.vapidKey:us(kt.vapidKey)}}}else if(3===Y){const kt=Ft;T={token:kt.fcmToken,createTime:kt.createTime,subscriptionOptions:{auth:us(kt.auth),p256dh:us(kt.p256dh),endpoint:kt.endpoint,swScope:kt.swScope,vapidKey:us(kt.vapidKey)}}}else if(4===Y){const kt=Ft;T={token:kt.fcmToken,createTime:kt.createTime,subscriptionOptions:{auth:us(kt.auth),p256dh:us(kt.p256dh),endpoint:kt.endpoint,swScope:kt.swScope,vapidKey:us(kt.vapidKey)}}}}),function(Y,be,Ze,Ye){return L.apply(this,arguments)})})).close(),yield ee(za),yield ee("fcm_vapid_details_db"),yield ee("undefined"),jd(T)?T:null;var L}),Ga.apply(this,arguments)}function jd(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:T}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const ds="firebase-messaging-store";let qa=null;function Fn(){return qa||(qa=et("firebase-messaging-database",1,{upgrade:(C,T)=>{0===T&&C.createObjectStore(ds)}})),qa}function tc(C){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,O.Z)(function*(C){const T=Mn(C),L=yield(yield Fn()).transaction(ds).objectStore(ds).get(T);if(L)return L;{const G=yield Hd(C.appConfig.senderId);if(G)return yield Bi(C,G),G}})).apply(this,arguments)}function Bi(C,T){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,O.Z)(function*(C,T){const x=Mn(C),G=(yield Fn()).transaction(ds,"readwrite");return yield G.objectStore(ds).put(T,x),yield G.done,T})).apply(this,arguments)}function ou(C){return nc.apply(this,arguments)}function nc(){return(nc=(0,O.Z)(function*(C){const T=Mn(C),L=(yield Fn()).transaction(ds,"readwrite");yield L.objectStore(ds).delete(T),yield L.done})).apply(this,arguments)}function Mn({appConfig:C}){return C.appId}const vi=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ri(C,T){return hs.apply(this,arguments)}function hs(){return(hs=(0,O.Z)(function*(C,T){const x=yield $d(C),L=rc(T),G={method:"POST",headers:x,body:JSON.stringify(L)};let Y;try{Y=yield(yield fetch(Js(C.appConfig),G)).json()}catch(be){throw vi.create("token-subscribe-failed",{errorInfo:be?.toString()})}if(Y.error)throw vi.create("token-subscribe-failed",{errorInfo:Y.error.message});if(!Y.token)throw vi.create("token-subscribe-no-token");return Y.token})).apply(this,arguments)}function au(C,T){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,O.Z)(function*(C,T){const x=yield $d(C),L=rc(T.subscriptionOptions),G={method:"PATCH",headers:x,body:JSON.stringify(L)};let Y;try{Y=yield(yield fetch(`${Js(C.appConfig)}/${T.token}`,G)).json()}catch(be){throw vi.create("token-update-failed",{errorInfo:be?.toString()})}if(Y.error)throw vi.create("token-update-failed",{errorInfo:Y.error.message});if(!Y.token)throw vi.create("token-update-no-token");return Y.token})).apply(this,arguments)}function wr(C,T){return ic.apply(this,arguments)}function ic(){return(ic=(0,O.Z)(function*(C,T){const L={method:"DELETE",headers:yield $d(C)};try{const Y=yield(yield fetch(`${Js(C.appConfig)}/${T}`,L)).json();if(Y.error)throw vi.create("token-unsubscribe-failed",{errorInfo:Y.error.message})}catch(G){throw vi.create("token-unsubscribe-failed",{errorInfo:G?.toString()})}})).apply(this,arguments)}function Js({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function $d(C){return ea.apply(this,arguments)}function ea(){return(ea=(0,O.Z)(function*({appConfig:C,installations:T}){const x=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function rc({p256dh:C,auth:T,endpoint:x,vapidKey:L}){const G={web:{endpoint:x,auth:T,p256dh:C}};return L!==qn&&(G.web.applicationPubKey=L),G}const Wa=6048e5;function sc(C){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,O.Z)(function*(C){const T=yield qd(C.swRegistration,C.vapidKey),x={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:T.endpoint,auth:us(T.getKey("auth")),p256dh:us(T.getKey("p256dh"))},L=yield tc(C.firebaseDependencies);if(L){if(Wd(L.subscriptionOptions,x))return Date.now()>=L.createTime+Wa?oc(C,{token:L.token,createTime:Date.now(),subscriptionOptions:x}):L.token;try{yield wr(C.firebaseDependencies,L.token)}catch(G){console.warn(G)}return Gd(C.firebaseDependencies,x)}return Gd(C.firebaseDependencies,x)})).apply(this,arguments)}function zd(C){return Za.apply(this,arguments)}function Za(){return(Za=(0,O.Z)(function*(C){const T=yield tc(C.firebaseDependencies);T&&(yield wr(C.firebaseDependencies,T.token),yield ou(C.firebaseDependencies));const x=yield C.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function oc(C,T){return Co.apply(this,arguments)}function Co(){return(Co=(0,O.Z)(function*(C,T){try{const x=yield au(C.firebaseDependencies,T),L=Object.assign(Object.assign({},T),{token:x,createTime:Date.now()});return yield Bi(C.firebaseDependencies,L),x}catch(x){throw yield zd(C),x}})).apply(this,arguments)}function Gd(C,T){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,O.Z)(function*(C,T){const L={token:yield Ri(C,T),createTime:Date.now(),subscriptionOptions:T};return yield Bi(C,L),L.token})).apply(this,arguments)}function qd(C,T){return ta.apply(this,arguments)}function ta(){return(ta=(0,O.Z)(function*(C,T){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Bd(T)})})).apply(this,arguments)}function Wd(C,T){return T.vapidKey===C.vapidKey&&T.endpoint===C.endpoint&&T.auth===C.auth&&T.p256dh===C.p256dh}function Wf(C){const T={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Yi(C,T){if(!T.notification)return;C.notification={};const x=T.notification.title;x&&(C.notification.title=x);const L=T.notification.body;L&&(C.notification.body=L);const G=T.notification.image;G&&(C.notification.image=G);const Y=T.notification.icon;Y&&(C.notification.icon=Y)}(T,C),function xs(C,T){!T.data||(C.data=T.data)}(T,C),function Ln(C,T){var x,L,G,Y,be;if(!(T.fcmOptions||null!==(x=T.notification)&&void 0!==x&&x.click_action))return;C.fcmOptions={};const Ze=null!==(G=null===(L=T.fcmOptions)||void 0===L?void 0:L.link)&&void 0!==G?G:null===(Y=T.notification)||void 0===Y?void 0:Y.click_action;Ze&&(C.fcmOptions.link=Ze);const Ye=null===(be=T.fcmOptions)||void 0===be?void 0:be.analytics_label;Ye&&(C.fcmOptions.analyticsLabel=Ye)}(T,C),T}function Zd(C){return"object"==typeof C&&!!C&&Xs in C}function Zf(C,T){const x=[];for(let L=0;L<C.length;L++)x.push(C.charAt(L)),L<T.length&&x.push(T.charAt(L));return x.join("")}function Yd(C){return vi.create("missing-app-config-values",{valueName:C})}Zf("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Zf("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Qd{constructor(T,x,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const G=function Kd(C){if(!C||!C.options)throw Yd("App Configuration Object");if(!C.name)throw Yd("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:x}=C;for(const L of T)if(!x[L])throw Yd(L);return{appName:C.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:G,installations:x,analyticsProvider:L}}_delete(){return Promise.resolve()}}function Xd(C){return Io.apply(this,arguments)}function Io(){return(Io=(0,O.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(ec,{scope:$a}),C.swRegistration.update().catch(()=>{})}catch(T){throw vi.create("failed-service-worker-registration",{browserErrorMessage:T?.message})}})).apply(this,arguments)}function ac(C,T){return eo.apply(this,arguments)}function eo(){return(eo=(0,O.Z)(function*(C,T){if(!T&&!C.swRegistration&&(yield Xd(C)),T||!C.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw vi.create("invalid-sw-registration");C.swRegistration=T}})).apply(this,arguments)}function Jd(C,T){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,O.Z)(function*(C,T){T?C.vapidKey=T:C.vapidKey||(C.vapidKey=qn)})).apply(this,arguments)}function Rs(){return(Rs=(0,O.Z)(function*(C,T){if(!navigator)throw vi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw vi.create("permission-blocked");return yield Jd(C,T?.vapidKey),yield ac(C,T?.serviceWorkerRegistration),sc(C)})).apply(this,arguments)}function Qa(C,T,x){return lc.apply(this,arguments)}function lc(){return(lc=(0,O.Z)(function*(C,T,x){const L=Mg(T);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:x[Xs],message_name:x[Vd],message_time:x[qr],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Mg(C){switch(C){case Et.NOTIFICATION_CLICKED:return"notification_open";case Et.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Xa(){return(Xa=(0,O.Z)(function*(C,T){const x=T.data;if(!x.isFirebaseMessaging)return;C.onMessageHandler&&x.messageType===Et.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(Wf(x)):C.onMessageHandler.next(Wf(x)));const L=x.data;Zd(L)&&"1"===L[wo]&&(yield Qa(C,x.messageType,L))})).apply(this,arguments)}const Yf="@firebase/messaging",th=C=>{const T=new Qd(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function ks(C,T){return Xa.apply(this,arguments)}(T,x)),T},cc=C=>{const T=C.getProvider("messaging").getImmediate();return{getToken:L=>function Kf(C,T){return Rs.apply(this,arguments)}(T,L)}};function Ja(){return lu.apply(this,arguments)}function lu(){return(lu=(0,O.Z)(function*(){try{yield(0,oe.eu)()}catch{return!1}return typeof window<"u"&&(0,oe.hl)()&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function uc(){(0,ae._registerComponent)(new ue.wA("messaging",th,"PUBLIC")),(0,ae._registerComponent)(new ue.wA("messaging-internal",cc,"PRIVATE")),(0,ae.registerVersion)(Yf,"0.12.4"),(0,ae.registerVersion)(Yf,"0.12.4","esm2017")}();const ps="analytics",to="firebase_id",Er="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",du="https://www.googletagmanager.com/gtag/js",On=new ne.Yd("@firebase/analytics"),ni=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ia(C){if(!C.startsWith(du)){const T=ni.create("invalid-gtag-resource",{gtagURL:C});return On.warn(T.message),""}return C}function tl(C){return Promise.all(C.map(T=>T.catch(x=>x)))}function pc(C,T){const x=function Do(C,T){let x;return window.trustedTypes&&(x=window.trustedTypes.createPolicy(C,T)),x}("firebase-js-sdk-policy",{createScriptURL:ia}),L=document.createElement("script"),G=`${du}?l=${C}&id=${T}`;L.src=x?x?.createScriptURL(G):G,L.async=!0,document.head.appendChild(L)}function nl(C,T,x,L,G,Y){return ra.apply(this,arguments)}function ra(){return(ra=(0,O.Z)(function*(C,T,x,L,G,Y){const be=L[G];try{if(be)yield T[be];else{const Ye=(yield tl(x)).find(pt=>pt.measurementId===G);Ye&&(yield T[Ye.appId])}}catch(Ze){On.error(Ze)}C("config",G,Y)})).apply(this,arguments)}function xg(C,T,x,L,G){return ms.apply(this,arguments)}function ms(){return(ms=(0,O.Z)(function*(C,T,x,L,G){try{let Y=[];if(G&&G.send_to){let be=G.send_to;Array.isArray(be)||(be=[be]);const Ze=yield tl(x);for(const Ye of be){const pt=Ze.find(kt=>kt.measurementId===Ye),Ft=pt&&T[pt.appId];if(!Ft){Y=[];break}Y.push(Ft)}}0===Y.length&&(Y=Object.values(T)),yield Promise.all(Y),C("event",L,G||{})}catch(Y){On.error(Y)}})).apply(this,arguments)}function nh(C){const T=window.document.getElementsByTagName("script");for(const x of Object.values(T))if(x.src&&x.src.includes(du)&&x.src.includes(C))return x;return null}const Vn=new class Jf{constructor(T={},x=1e3){this.throttleMetadata=T,this.intervalMillis=x}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,x){this.throttleMetadata[T]=x}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function fu(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function rl(C){return pu.apply(this,arguments)}function pu(){return(pu=(0,O.Z)(function*(C){var T;const{appId:x,apiKey:L}=C,G={method:"GET",headers:fu(L)},Y=Er.replace("{app-id}",x),be=yield fetch(Y,G);if(200!==be.status&&304!==be.status){let Ze="";try{const Ye=yield be.json();null!==(T=Ye.error)&&void 0!==T&&T.message&&(Ze=Ye.error.message)}catch{}throw ni.create("config-fetch-failed",{httpStatus:be.status,responseMessage:Ze})}return be.json()})).apply(this,arguments)}function mc(C){return Os.apply(this,arguments)}function Os(){return(Os=(0,O.Z)(function*(C,T=Vn,x){const{appId:L,apiKey:G,measurementId:Y}=C.options;if(!L)throw ni.create("no-app-id");if(!G){if(Y)return{measurementId:Y,appId:L};throw ni.create("no-api-key")}const be=T.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ze=new io;return setTimeout((0,O.Z)(function*(){Ze.abort()}),void 0!==x?x:6e4),sa({appId:L,apiKey:G,measurementId:Y},be,Ze,T)})).apply(this,arguments)}function sa(C,T,x){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,O.Z)(function*(C,{throttleEndTimeMillis:T,backoffCount:x},L,G=Vn){var Y;const{appId:be,measurementId:Ze}=C;try{yield rh(L,T)}catch(Ye){if(Ze)return On.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ze} provided in the "measurementId" field in the local Firebase config. [${Ye?.message}]`),{appId:be,measurementId:Ze};throw Ye}try{const Ye=yield rl(C);return G.deleteThrottleMetadata(be),Ye}catch(Ye){const pt=Ye;if(!oa(pt)){if(G.deleteThrottleMetadata(be),Ze)return On.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ze} provided in the "measurementId" field in the local Firebase config. [${pt?.message}]`),{appId:be,measurementId:Ze};throw Ye}const Ft=503===Number(null===(Y=pt?.customData)||void 0===Y?void 0:Y.httpStatus)?(0,oe.$s)(x,G.intervalMillis,30):(0,oe.$s)(x,G.intervalMillis),kt={throttleEndTimeMillis:Date.now()+Ft,backoffCount:x+1};return G.setThrottleMetadata(be,kt),On.debug(`Calling attemptFetch again in ${Ft} millis`),sa(C,kt,L,G)}})).apply(this,arguments)}function rh(C,T){return new Promise((x,L)=>{const G=Math.max(T-Date.now(),0),Y=setTimeout(x,G);C.addEventListener(()=>{clearTimeout(Y),L(ni.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function oa(C){if(!(C instanceof oe.ZR&&C.customData))return!1;const T=Number(C.customData.httpStatus);return 429===T||500===T||503===T||504===T}class io{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let aa,Yn;function ln(){return(ln=(0,O.Z)(function*(C,T,x,L,G){if(G&&G.global)C("event",x,L);else{const Y=yield T;C("event",x,Object.assign(Object.assign({},L),{send_to:Y}))}})).apply(this,arguments)}function ol(C){Yn=C}function ur(C){aa=C}function Rg(){return _u.apply(this,arguments)}function _u(){return(_u=(0,O.Z)(function*(){if(!(0,oe.hl)())return On.warn(ni.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(C){return On.warn(ni.create("indexeddb-unavailable",{errorInfo:C?.toString()}).message),!1}return!0})).apply(this,arguments)}function Cr(){return(Cr=(0,O.Z)(function*(C,T,x,L,G,Y,be){var Ze;const Ye=mc(C);Ye.then(bi=>{x[bi.measurementId]=bi.appId,C.options.measurementId&&bi.measurementId!==C.options.measurementId&&On.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${bi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(bi=>On.error(bi)),T.push(Ye);const pt=Rg().then(bi=>{if(bi)return L.getId()}),[Ft,kt]=yield Promise.all([Ye,pt]);nh(Y)||pc(Y,Ft.measurementId),Yn&&(G("consent","default",Yn),ol(void 0)),G("js",new Date);const Qi=null!==(Ze=be?.config)&&void 0!==Ze?Ze:{};return Qi.origin="firebase",Qi.update=!0,null!=kt&&(Qi[to]=kt),G("config",Ft.measurementId,Qi),aa&&(G("set",aa),ur(void 0)),Ft.measurementId})).apply(this,arguments)}class ip{constructor(T){this.app=T}_delete(){return delete Ir[this.app.options.appId],Promise.resolve()}}let Ir={},So=[];const yu={};let kg,ro,vu="dataLayer",_c=!1;function al(C,T,x){!function oh(){const C=[];if((0,oe.ru)()&&C.push("This is a browser extension environment."),(0,oe.zI)()||C.push("Cookies are not available."),C.length>0){const T=C.map((L,G)=>`(${G+1}) ${L}`).join(" "),x=ni.create("invalid-analytics-context",{errorInfo:T});On.warn(x.message)}}();const L=C.options.appId;if(!L)throw ni.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw ni.create("no-api-key");On.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ir[L])throw ni.create("already-exists",{id:L});if(!_c){!function Xf(C){let T=[];Array.isArray(window[C])?T=window[C]:window[C]=T}(vu);const{wrappedGtag:Y,gtagCore:be}=function no(C,T,x,L,G){let Y=function(...be){window[L].push(arguments)};return window[G]&&"function"==typeof window[G]&&(Y=window[G]),window[G]=function il(C,T,x,L){function Y(){return(Y=(0,O.Z)(function*(be,...Ze){try{if("event"===be){const[Ye,pt]=Ze;yield xg(C,T,x,Ye,pt)}else if("config"===be){const[Ye,pt]=Ze;yield nl(C,T,x,L,Ye,pt)}else if("consent"===be){const[Ye]=Ze;C("consent","update",Ye)}else if("get"===be){const[Ye,pt,Ft]=Ze;C("get",Ye,pt,Ft)}else if("set"===be){const[Ye]=Ze;C("set",Ye)}else C(be,...Ze)}catch(Ye){On.error(Ye)}})).apply(this,arguments)}return function G(be){return Y.apply(this,arguments)}}(Y,C,T,x),{gtagCore:Y,wrappedGtag:window[G]}}(Ir,So,yu,vu,"gtag");ro=Y,kg=be,_c=!0}return Ir[L]=function hi(C,T,x,L,G,Y,be){return Cr.apply(this,arguments)}(C,So,yu,T,kg,vu,x),new ip(C)}function ah(){return lh.apply(this,arguments)}function lh(){return(lh=(0,O.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}const Ao="@firebase/analytics";!function ap(){(0,ae._registerComponent)(new ue.wA(ps,(T,{options:x})=>al(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,ae._registerComponent)(new ue.wA("analytics-internal",function C(T){try{const x=T.getProvider(ps).getImmediate();return{logEvent:(L,G,Y)=>function Ns(C,T,x,L){C=(0,oe.m9)(C),function sl(C,T,x,L,G){return ln.apply(this,arguments)}(ro,Ir[C.app.options.appId],T,x,L).catch(G=>On.error(G))}(x,L,G,Y)}}catch(x){throw ni.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,ae.registerVersion)(Ao,"0.10.0"),(0,ae.registerVersion)(Ao,"0.10.0","esm2017")}();var Mo=P(4408),Dn=P(7565);const lp=new class at extends Dn.v{}(class Fs extends Mo.o{constructor(T,x){super(T,x),this.scheduler=T,this.work=x}schedule(T,x=0){return x>0?super.schedule(T,x):(this.delay=x,this.state=T,this.scheduler.flush(this),this)}execute(T,x){return x>0||this.closed?super.execute(T,x):this._execute(T,x)}requestAsyncId(T,x,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(T,x,L):(T.flush(this),0)}});var yc=P(4986),cl=P(8505),vc=P(9468),oo=P(5363);const Ls=new c.GfV("7.5.0"),dr="__angularfire_symbol__analyticsIsSupportedValue",xo="__angularfire_symbol__analyticsIsSupported",ua="__angularfire_symbol__remoteConfigIsSupportedValue",Ro="__angularfire_symbol__remoteConfigIsSupported",da="__angularfire_symbol__messagingIsSupportedValue",Vs="__angularfire_symbol__messagingIsSupported";function fi(C,T,x){if(T){if(1===T.length)return T[0];const Y=T.filter(be=>be.app===x);if(1===Y.length)return Y[0]}return x.container.getProvider(C).getImmediate({optional:!0})}globalThis[xo]||(globalThis[xo]=ah().then(C=>globalThis[dr]=C).catch(()=>globalThis[dr]=!1)),globalThis[Vs]||(globalThis[Vs]=Ja().then(C=>globalThis[da]=C).catch(()=>globalThis[da]=!1)),globalThis[Ro]||(globalThis[Ro]=Ki().then(C=>globalThis[ua]=C).catch(()=>globalThis[ua]=!1));const ao=(C,T)=>{const x=T?[T]:(0,X.C6)(),L=[];return x.forEach(G=>{G.container.getProvider(C).instances.forEach(be=>{L.includes(be)||L.push(be)})}),L};function ha(){}class Tr{constructor(T,x=lp){this.zone=T,this.delegate=x}now(){return this.delegate.now()}schedule(T,x,L){const G=this.zone;return this.delegate.schedule(function(be){G.runGuarded(()=>{T.apply(this,[be])})},x,L)}}class fa{constructor(T){this.zone=T,this.task=null}call(T,x){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ha,{},ha,ha)),x.pipe((0,cl.b)({next:L,complete:L,error:L})).subscribe(T).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let uh=(()=>{class C{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new Tr(Zone.current)),this.insideAngular=x.run(()=>new Tr(Zone.current,yc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(x){return new(x||C)(c.LFG(c.R0b))},C.\u0275prov=c.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function Us(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function dl(C){return Us(),function ko(C){return function(x){return(x=x.lift(new fa(C.ngZone))).pipe((0,vc.R)(C.outsideAngular),(0,oo.Q)(C.insideAngular))}}(Us())(C)}},2090:(mt,Te,P)=>{P.d(Te,{$s:()=>ls,BH:()=>fe,G6:()=>xe,L:()=>he,LL:()=>Ue,Pz:()=>Ee,Sg:()=>Ge,UG:()=>ee,US:()=>ue,ZB:()=>Z,ZR:()=>Nt,aH:()=>Pe,b$:()=>qt,eu:()=>De,hl:()=>Le,jU:()=>xt,m9:()=>Wi,ne:()=>rn,pd:()=>ci,r3:()=>Ur,ru:()=>dt,tV:()=>$,uI:()=>et,vZ:()=>Gi,w1:()=>de,xO:()=>Ko,xb:()=>Zo,z$:()=>He,zI:()=>Rt,zd:()=>_r});const ae=function(U){const V=[];let q=0;for(let le=0;le<U.length;le++){let Q=U.charCodeAt(le);Q<128?V[q++]=Q:Q<2048?(V[q++]=Q>>6|192,V[q++]=63&Q|128):55296==(64512&Q)&&le+1<U.length&&56320==(64512&U.charCodeAt(le+1))?(Q=65536+((1023&Q)<<10)+(1023&U.charCodeAt(++le)),V[q++]=Q>>18|240,V[q++]=Q>>12&63|128,V[q++]=Q>>6&63|128,V[q++]=63&Q|128):(V[q++]=Q>>12|224,V[q++]=Q>>6&63|128,V[q++]=63&Q|128)}return V},ue={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,V){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,le=[];for(let Q=0;Q<U.length;Q+=3){const We=U[Q],St=Q+1<U.length,Lt=St?U[Q+1]:0,dn=Q+2<U.length,Ve=dn?U[Q+2]:0;let yn=(15&Lt)<<2|Ve>>6,Mi=63&Ve;dn||(Mi=64,St||(yn=64)),le.push(q[We>>2],q[(3&We)<<4|Lt>>4],q[yn],q[Mi])}return le.join("")},encodeString(U,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(U):this.encodeByteArray(ae(U),V)},decodeString(U,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(U):function(U){const V=[];let q=0,le=0;for(;q<U.length;){const Q=U[q++];if(Q<128)V[le++]=String.fromCharCode(Q);else if(Q>191&&Q<224){const We=U[q++];V[le++]=String.fromCharCode((31&Q)<<6|63&We)}else if(Q>239&&Q<365){const dn=((7&Q)<<18|(63&U[q++])<<12|(63&U[q++])<<6|63&U[q++])-65536;V[le++]=String.fromCharCode(55296+(dn>>10)),V[le++]=String.fromCharCode(56320+(1023&dn))}else{const We=U[q++],St=U[q++];V[le++]=String.fromCharCode((15&Q)<<12|(63&We)<<6|63&St)}}return V.join("")}(this.decodeStringToByteArray(U,V))},decodeStringToByteArray(U,V){this.init_();const q=V?this.charToByteMapWebSafe_:this.charToByteMap_,le=[];for(let Q=0;Q<U.length;){const We=q[U.charAt(Q++)],Lt=Q<U.length?q[U.charAt(Q)]:0;++Q;const Ve=Q<U.length?q[U.charAt(Q)]:64;++Q;const yt=Q<U.length?q[U.charAt(Q)]:64;if(++Q,null==We||null==Lt||null==Ve||null==yt)throw new ne;le.push(We<<2|Lt>>4),64!==Ve&&(le.push(Lt<<4&240|Ve>>2),64!==yt&&le.push(Ve<<6&192|yt))}return le},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}};class ne extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const he=function(U){return function(U){const V=ae(U);return ue.encodeByteArray(V,!0)}(U).replace(/\./g,"")},$=function(U){try{return ue.decodeString(U,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function Z(U,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return V}for(const q in V)!V.hasOwnProperty(q)||!ze(q)||(U[q]=Z(U[q],V[q]));return U}function ze(U){return"__proto__"!==U}const me=()=>{try{return function Me(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const U=process.env.__FIREBASE_DEFAULTS__;return U?JSON.parse(U):void 0})()||(()=>{if(typeof document>"u")return;let U;try{U=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const V=U&&$(U[1]);return V&&JSON.parse(V)})()}catch(U){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${U}`)}},Pe=()=>{var U;return null===(U=me())||void 0===U?void 0:U.config},Ee=U=>{var V;return null===(V=me())||void 0===V?void 0:V[`_${U}`]};class fe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,q)=>{this.resolve=V,this.reject=q})}wrapCallback(V){return(q,le)=>{q?this.reject(q):this.resolve(le),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(q):V(q,le))}}}function Ge(U,V){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const le=V||"demo-project",Q=U.iat||0,We=U.sub||U.user_id;if(!We)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const St=Object.assign({iss:`https://securetoken.google.com/${le}`,aud:le,iat:Q,exp:Q+3600,auth_time:Q,sub:We,user_id:We,firebase:{sign_in_provider:"custom",identities:{}}},U);return[he(JSON.stringify({alg:"none",type:"JWT"})),he(JSON.stringify(St)),""].join(".")}function He(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function et(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(He())}function ee(){var U;const V=null===(U=me())||void 0===U?void 0:U.forceEnvironment;if("node"===V)return!0;if("browser"===V)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function xt(){return"object"==typeof self&&self.self===self}function dt(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function qt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function de(){const U=He();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function xe(){return!ee()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Le(){try{return"object"==typeof indexedDB}catch{return!1}}function De(){return new Promise((U,V)=>{try{let q=!0;const le="validate-browser-context-for-indexeddb-analytics-module",Q=self.indexedDB.open(le);Q.onsuccess=()=>{Q.result.close(),q||self.indexedDB.deleteDatabase(le),U(!0)},Q.onupgradeneeded=()=>{q=!1},Q.onerror=()=>{var We;V((null===(We=Q.error)||void 0===We?void 0:We.message)||"")}}catch(q){V(q)}})}function Rt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Nt extends Error{constructor(V,q,le){super(q),this.code=V,this.customData=le,this.name="FirebaseError",Object.setPrototypeOf(this,Nt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ue.prototype.create)}}class Ue{constructor(V,q,le){this.service=V,this.serviceName=q,this.errors=le}create(V,...q){const le=q[0]||{},Q=`${this.service}/${V}`,We=this.errors[V],St=We?function $t(U,V){return U.replace(Wt,(q,le)=>{const Q=V[le];return null!=Q?String(Q):`<${le}?>`})}(We,le):"Error";return new Nt(Q,`${this.serviceName}: ${St} (${Q}).`,le)}}const Wt=/\{\$([^}]+)}/g;function Ur(U,V){return Object.prototype.hasOwnProperty.call(U,V)}function Zo(U){for(const V in U)if(Object.prototype.hasOwnProperty.call(U,V))return!1;return!0}function Gi(U,V){if(U===V)return!0;const q=Object.keys(U),le=Object.keys(V);for(const Q of q){if(!le.includes(Q))return!1;const We=U[Q],St=V[Q];if(Hr(We)&&Hr(St)){if(!Gi(We,St))return!1}else if(We!==St)return!1}for(const Q of le)if(!q.includes(Q))return!1;return!0}function Hr(U){return null!==U&&"object"==typeof U}function Ko(U){const V=[];for(const[q,le]of Object.entries(U))Array.isArray(le)?le.forEach(Q=>{V.push(encodeURIComponent(q)+"="+encodeURIComponent(Q))}):V.push(encodeURIComponent(q)+"="+encodeURIComponent(le));return V.length?"&"+V.join("&"):""}function _r(U){const V={};return U.replace(/^\?/,"").split("&").forEach(le=>{if(le){const[Q,We]=le.split("=");V[decodeURIComponent(Q)]=decodeURIComponent(We)}}),V}function ci(U){const V=U.indexOf("?");if(!V)return"";const q=U.indexOf("#",V);return U.substring(V,q>0?q:void 0)}function rn(U,V){const q=new nt(U,V);return q.subscribe.bind(q)}class nt{constructor(V,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{V(this)}).catch(le=>{this.error(le)})}next(V){this.forEachObserver(q=>{q.next(V)})}error(V){this.forEachObserver(q=>{q.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,q,le){let Q;if(void 0===V&&void 0===q&&void 0===le)throw new Error("Missing Observer.");Q=function _n(U,V){if("object"!=typeof U||null===U)return!1;for(const q of V)if(q in U&&"function"==typeof U[q])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:q,complete:le},void 0===Q.next&&(Q.next=as),void 0===Q.error&&(Q.error=as),void 0===Q.complete&&(Q.complete=as);const We=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Q.error(this.finalError):Q.complete()}catch{}}),this.observers.push(Q),We}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,V)}sendOne(V,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{q(this.observers[V])}catch(le){typeof console<"u"&&console.error&&console.error(le)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function as(){}function ls(U,V=1e3,q=2){const le=V*Math.pow(q,U),Q=Math.round(.5*le*(Math.random()-.5)*2);return Math.min(144e5,le+Q)}function Wi(U){return U&&U._delegate?U._delegate:U}},8662:(mt,Te,P)=>{var c=P(4650);let X=null;function O(){return X}const ne=new c.OlP("DocumentToken");let we=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function he(){return(0,c.LFG)(j)}()},providedIn:"platform"}),n})();const $=new c.OlP("Location Initialized");let j=(()=>{class n extends we{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){Z()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){Z()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ne))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function ze(){return new j((0,c.LFG)(ne))}()},providedIn:"platform"}),n})();function Z(){return!!window.history.pushState}function Me(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ie(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function st(n){return n&&"?"!==n[0]?"?"+n:n}let _e=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(_t)},providedIn:"root"}),n})();const me=new c.OlP("appBaseHref");let _t=(()=>{class n extends _e{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(ne).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Me(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+st(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,a){const u=this.prepareExternalUrl(r+st(a));this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,a){const u=this.prepareExternalUrl(r+st(a));this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(we),c.LFG(me,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),It=(()=>{class n extends _e{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Me(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,a){let u=this.prepareExternalUrl(r+st(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,a){let u=this.prepareExternalUrl(r+st(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(we),c.LFG(me,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Pe=(()=>{class n{constructor(t){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._baseHref=Ie(Ge(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+st(i))}normalize(t){return n.stripTrailingSlash(function fe(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ge(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+st(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+st(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=st,n.joinWithSlash=Me,n.stripTrailingSlash=Ie,n.\u0275fac=function(t){return new(t||n)(c.LFG(_e))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ee(){return new Pe((0,c.LFG)(_e))}()},providedIn:"root"}),n})();function Ge(n){return n.replace(/\/index.html$/,"")}const He={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var et=(()=>((et=et||{})[et.Decimal=0]="Decimal",et[et.Percent=1]="Percent",et[et.Currency=2]="Currency",et[et.Scientific=3]="Scientific",et))(),ct=(()=>((ct=ct||{})[ct.Decimal=0]="Decimal",ct[ct.Group=1]="Group",ct[ct.List=2]="List",ct[ct.PercentSign=3]="PercentSign",ct[ct.PlusSign=4]="PlusSign",ct[ct.MinusSign=5]="MinusSign",ct[ct.Exponential=6]="Exponential",ct[ct.SuperscriptingExponent=7]="SuperscriptingExponent",ct[ct.PerMille=8]="PerMille",ct[ct.Infinity=9]="Infinity",ct[ct.NaN=10]="NaN",ct[ct.TimeSeparator=11]="TimeSeparator",ct[ct.CurrencyDecimal=12]="CurrencyDecimal",ct[ct.CurrencyGroup=13]="CurrencyGroup",ct))();function Wt(n,e){const t=(0,c.cg1)(n),i=t[c.wAp.NumberSymbols][e];if(typeof i>"u"){if(e===ct.CurrencyDecimal)return t[c.wAp.NumberSymbols][ct.Decimal];if(e===ct.CurrencyGroup)return t[c.wAp.NumberSymbols][ct.Group]}return i}const Lt=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function te(n,e,t,i,r){const u=function Dt(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),r=i[0],a=i[1],u=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],f=u[0],_=u[1]||"";t.posPre=f.substring(0,f.indexOf("#"));for(let I=0;I<_.length;I++){const M=_.charAt(I);"0"===M?t.minFrac=t.maxFrac=I+1:"#"===M?t.maxFrac=I+1:t.posSuf+=M}const w=f.split(",");if(t.gSize=w[1]?w[1].length:0,t.lgSize=w[2]||w[1]?(w[2]||w[1]).length:0,a){const I=r.length-t.posPre.length-t.posSuf.length,M=a.indexOf("#");t.negPre=a.substring(0,M).replace(/'/g,""),t.negSuf=a.slice(M+I).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function Xt(n,e){return(0,c.cg1)(n)[c.wAp.NumberFormats][e]}(e,et.Currency),Wt(e,ct.MinusSign));return u.minFrac=function Ko(n){let e;const t=He[n];return t&&(e=t[2]),"number"==typeof e?e:2}(i),u.maxFrac=u.minFrac,function re(n,e,t,i,r,a,u=!1){let f="",_=!1;if(isFinite(n)){let w=function on(n){let i,r,a,u,f,e=Math.abs(n)+"",t=0;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(a=e.search(/e/i))>0?(r<0&&(r=a),r+=+e.slice(a+1),e=e.substring(0,a)):r<0&&(r=e.length),a=0;"0"===e.charAt(a);a++);if(a===(f=e.length))i=[0],r=1;else{for(f--;"0"===e.charAt(f);)f--;for(r-=a,i=[],u=0;a<=f;a++,u++)i[u]=Number(e.charAt(a))}return r>22&&(i=i.splice(0,21),t=r-1,r=1),{digits:i,exponent:t,integerLen:r}}(n);u&&(w=function Vt(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(w));let I=e.minInt,M=e.minFrac,F=e.maxFrac;if(a){const rt=a.match(Lt);if(null===rt)throw new Error(`${a} is not a valid digit info`);const Je=rt[1],Ct=rt[3],jt=rt[5];null!=Je&&(I=Qt(Je)),null!=Ct&&(M=Qt(Ct)),null!=jt?F=Qt(jt):null!=Ct&&M>F&&(F=M)}!function kn(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let i=n.digits,r=i.length-n.integerLen;const a=Math.min(Math.max(e,r),t);let u=a+n.integerLen,f=i[u];if(u>0){i.splice(Math.max(n.integerLen,u));for(let M=u;M<i.length;M++)i[M]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,u=a+1),i[0]=0;for(let M=1;M<u;M++)i[M]=0}if(f>=5)if(u-1<0){for(let M=0;M>u;M--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[u-1]++;for(;r<Math.max(0,a);r++)i.push(0);let _=0!==a;const w=e+n.integerLen,I=i.reduceRight(function(M,F,B,W){return W[B]=(F+=M)<10?F:F-10,_&&(0===W[B]&&B>=w?W.pop():_=!1),F>=10?1:0},0);I&&(i.unshift(I),n.integerLen++)}(w,M,F);let B=w.digits,W=w.integerLen;const ie=w.exponent;let ve=[];for(_=B.every(rt=>!rt);W<I;W++)B.unshift(0);for(;W<0;W++)B.unshift(0);W>0?ve=B.splice(W,B.length):(ve=B,B=[0]);const $e=[];for(B.length>=e.lgSize&&$e.unshift(B.splice(-e.lgSize,B.length).join(""));B.length>e.gSize;)$e.unshift(B.splice(-e.gSize,B.length).join(""));B.length&&$e.unshift(B.join("")),f=$e.join(Wt(t,i)),ve.length&&(f+=Wt(t,r)+ve.join("")),ie&&(f+=Wt(t,ct.Exponential)+"+"+ie)}else f=Wt(t,ct.Infinity);return f=n<0&&!_?e.negPre+f+e.negSuf:e.posPre+f+e.posSuf,f}(n,u,e,ct.CurrencyGroup,ct.CurrencyDecimal,r).replace("\xa4",t).replace("\xa4","").trim()}function Qt(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}class Qc{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let pn=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,a,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Qc(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===a?void 0:a);else if(null!==a){const f=i.get(a);i.move(f,u),Qs(f,r)}});for(let r=0,a=i.length;r<a;r++){const f=i.get(r).context;f.index=r,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{Qs(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Qs(n,e){n.context.$implicit=e.item}let An=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Ad,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){di("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){di("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Ad{constructor(){this.$implicit=null,this.ngIf=null}}function di(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}let nu=(()=>{class n{constructor(t,i="USD"){this._locale=t,this._defaultCurrencyCode=i}transform(t,i=this._defaultCurrencyCode,r="symbol",a,u){if(!function ja(n){return!(null==n||""===n||n!=n)}(t))return null;u=u||this._locale,"boolean"==typeof r&&(r=r?"symbol":"code");let f=i||this._defaultCurrencyCode;"code"!==r&&(f="symbol"===r||"symbol-narrow"===r?function Hr(n,e,t="en"){const i=function sr(n){return(0,c.cg1)(n)[c.wAp.Currencies]}(t)[n]||He[n]||[],r=i[1];return"narrow"===e&&"string"==typeof r?r:i[0]||n}(f,"symbol"===r?"wide":"narrow",u):r);try{return te(function iu(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),u,f,i,a)}catch(_){throw function In(n,e){return new c.vHH(2100,!1)}()}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.soG,16),c.Y36(c.EJc,16))},n.\u0275pipe=c.Yjl({name:"currency",type:n,pure:!0,standalone:!0}),n})();let bo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Yl="browser";function Ql(n){return"server"===n}let As=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new Jl((0,c.LFG)(ne),window)}),n})();class Jl{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ki(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const a=r.shadowRoot;if(a){const u=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],r-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=br(this.window.history)||br(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function br(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class th extends class eh extends class ue{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function oe(n){X||(X=n)}(new th)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function uc(){return cc=cc||document.querySelector("base"),cc?cc.getAttribute("href"):null}();return null==t?null:function lu(n){Ja=Ja||document.createElement("a"),Ja.setAttribute("href",n);const e=Ja.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){cc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function zl(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,a]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let Ja,cc=null;const el=new c.OlP("TRANSITION_ID"),Qf=[{provide:c.ip1,useFactory:function dc(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const i=O(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<r.length;a++)i.remove(r[a])})}},deps:[el,ne,c.zs3],multi:!0}];let bv=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const fs=new c.OlP("EventManagerPlugins");let fc=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let a=0;a<r.length;a++){const u=r[a];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fs),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class na{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=O().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let ps=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),to=(()=>{class n extends ps{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(a=>{const u=this._doc.createElement("style");u.textContent=a,r.push(i.appendChild(u))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(cu),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(cu))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ne))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function cu(n){O().remove(n)}const uu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Er=/%COMP%/g;function Do(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?Do(n,r,t):(r=r.replace(Er,n),t.push(r))}return t}function pc(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let nl=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new ra(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case c.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new no(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case c.ifc.ShadowDom:return new nh(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=Do(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fc),c.LFG(to),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class ra{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(uu[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(il(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(il(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const a=uu[r];a?e.setAttributeNS(a,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=uu[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,i,r&c.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,pc(i)):this.eventManager.addEventListener(e,t,pc(i))}}function il(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class no extends ra{constructor(e,t,i,r){super(e),this.component=i;const a=Do(r+"-"+i.id,i.styles,[]);t.addStyles(a),this.contentAttr=function ia(n){return"_ngcontent-%COMP%".replace(Er,n)}(r+"-"+i.id),this.hostAttr=function tl(n){return"_nghost-%COMP%".replace(Er,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class nh extends ra{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Do(r.id,r.styles,[]);for(let u=0;u<a.length;u++){const f=document.createElement("style");f.textContent=a[u],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let ih=(()=>{class n extends na{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ne))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Kr=["alt","control","meta","shift"],Jf={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Vn={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let fu=(()=>{class n extends na{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const a=n.parseEventName(i),u=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,a.domEventName,u))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const a=n._normalizeKey(i.pop());let u="",f=i.indexOf("code");if(f>-1&&(i.splice(f,1),u="code."),Kr.forEach(w=>{const I=i.indexOf(w);I>-1&&(i.splice(I,1),u+=w+".")}),u+=a,0!=i.length||0===a.length)return null;const _={};return _.domEventName=r,_.fullKey=u,_}static matchEventFullKeyCode(t,i){let r=Jf[t.key]||t.key,a="";return i.indexOf("code.")>-1&&(r=t.code,a="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Kr.forEach(u=>{u!==r&&(0,Vn[u])(t)&&(a+=u+".")}),a+=r,a===i)}static eventCallback(t,i,r){return a=>{n.matchEventFullKeyCode(a,t)&&r.runGuarded(()=>i(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ne))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const aa=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:Yl},{provide:c.g9A,useValue:function Ps(){th.makeCurrent()},multi:!0},{provide:ne,useFactory:function oa(){return(0,c.RDi)(document),document},deps:[]}]),sl=new c.OlP(""),ln=[{provide:c.rWj,useClass:class hc{addToWindow(e){c.dqk.getAngularTestability=(i,r=!0)=>{const a=e.findTestabilityInTree(i,r);if(null==a)throw new Error("Could not find testability for element.");return a},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(i=>{const r=c.dqk.getAllAngularTestabilities();let a=r.length,u=!1;const f=function(_){u=u||_,a--,0==a&&i(u)};r.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],mu=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function rh(){return new c.qLn},deps:[]},{provide:fs,useClass:ih,multi:!0,deps:[ne,c.R0b,c.Lbi]},{provide:fs,useClass:fu,multi:!0,deps:[ne]},{provide:nl,useClass:nl,deps:[fc,to,c.AFp]},{provide:c.FYo,useExisting:nl},{provide:ps,useExisting:to},{provide:to,useClass:to,deps:[ne]},{provide:fc,useClass:fc,deps:[fs,c.R0b]},{provide:class ec{},useClass:bv,deps:[]},[]];let gc=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:el,useExisting:c.AFp},Qf]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(sl,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[...mu,...ln],imports:[bo,c.hGG]}),n})(),np=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ne))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function gu(){return new np((0,c.LFG)(ne))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let ll=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):c.LFG(ca),i},providedIn:"root"}),n})(),ca=(()=>{class n extends ll{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case c.q3G.NONE:return i;case c.q3G.HTML:return(0,c.qzn)(i,"HTML")?(0,c.z3N)(i):(0,c.EiD)(this._doc,String(i)).toString();case c.q3G.STYLE:return(0,c.qzn)(i,"Style")?(0,c.z3N)(i):i;case c.q3G.SCRIPT:if((0,c.qzn)(i,"Script"))return(0,c.z3N)(i);throw new Error("unsafe value used in a script context");case c.q3G.URL:return(0,c.qzn)(i,"URL")?(0,c.z3N)(i):(0,c.mCW)(String(i));case c.q3G.RESOURCE_URL:if((0,c.qzn)(i,"ResourceURL"))return(0,c.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,c.JVY)(t)}bypassSecurityTrustStyle(t){return(0,c.L6k)(t)}bypassSecurityTrustScript(t){return(0,c.eBb)(t)}bypassSecurityTrustUrl(t){return(0,c.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,c.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ne))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function Pg(n){return new ca(n.get(ne))}(c.LFG(c.zs3)),i},providedIn:"root"}),n})();var mn=P(8996),Ui=P(9751);const{isArray:op}=Array,{getPrototypeOf:Ns,prototype:so,keys:Ao}=Object;function bu(n){if(1===n.length){const e=n[0];if(op(e))return{args:e,keys:null};if(function ap(n){return n&&"object"==typeof n&&Ns(n)===so}(e)){const t=Ao(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var Mo=P(8421),Fs=P(3269),Dn=P(5403),at=P(4004);const{isArray:lp}=Array;function yc(n){return(0,at.U)(e=>function Wn(n,e){return lp(e)?n(...e):n(e)}(n,e))}function cl(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function vc(...n){const e=(0,Fs.jO)(n),{args:t,keys:i}=bu(n),r=new Ui.y(a=>{const{length:u}=t;if(!u)return void a.complete();const f=new Array(u);let _=u,w=u;for(let I=0;I<u;I++){let M=!1;(0,Mo.Xf)(t[I]).subscribe((0,Dn.x)(a,F=>{M||(M=!0,w--),f[I]=F},()=>_--,void 0,()=>{(!_||!M)&&(w||a.next(i?cl(i,f):f),a.complete())}))}});return e?r.pipe(yc(e)):r}let oo=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),Ls=(()=>{class n extends oo{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const dr=new c.OlP("NgValueAccessor"),Ro={provide:dr,useExisting:(0,c.Gpc)(()=>Bs),multi:!0},Vs=new c.OlP("CompositionEventMode");let Bs=(()=>{class n extends oo{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function da(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(Vs,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&c.NdJ("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[c._Bn([Ro]),c.qOj]}),n})();function hr(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function ul(n){return null!=n&&"number"==typeof n.length}const fi=new c.OlP("NgValidators"),ao=new c.OlP("NgAsyncValidators"),ha=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Tr{static min(e){return function fa(n){return e=>{if(hr(e.value)||hr(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function uh(n){return e=>{if(hr(e.value)||hr(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function Us(n){return hr(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function wu(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function lo(n){return hr(n.value)||ha.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function dh(n){return e=>hr(e.value)||!ul(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function up(n){return e=>ul(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function dl(n){if(!n)return ko;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(hr(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return G(e)}static composeAsync(e){return be(e)}}function ko(n){return null}function Oo(n){return null!=n}function Eu(n){return(0,c.QGY)(n)?(0,mn.D)(n):n}function C(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function T(n,e){return e.map(t=>t(n))}function L(n){return n.map(e=>function x(n){return!n.validate}(e)?e:t=>e.validate(t))}function G(n){if(!n)return null;const e=n.filter(Oo);return 0==e.length?null:function(t){return C(T(t,e))}}function Y(n){return null!=n?G(L(n)):null}function be(n){if(!n)return null;const e=n.filter(Oo);return 0==e.length?null:function(t){return vc(T(t,e).map(Eu)).pipe((0,at.U)(C))}}function Ze(n){return null!=n?be(L(n)):null}function Ye(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function pt(n){return n._rawValidators}function Ft(n){return n._rawAsyncValidators}function kt(n){return n?Array.isArray(n)?n:[n]:[]}function Qi(n,e){return Array.isArray(n)?n.includes(e):n===e}function bi(n,e){const t=kt(e);return kt(n).forEach(r=>{Qi(t,r)||t.push(r)}),t}function hl(n,e){return kt(e).filter(t=>!Qi(n,t))}class Cu{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Y(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ze(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Bn extends Cu{get formDirective(){return null}get path(){return null}}class ii extends Cu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Yr{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let fh=(()=>{class n extends Yr{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ii,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&c.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[c.qOj]}),n})(),Hs=(()=>{class n extends Yr{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Bn,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&c.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[c.qOj]}),n})();const Tu="VALID",Su="INVALID",fl="PENDING",pl="DISABLED";function gh(n){return(ml(n)?n.validators:n)||null}function Cv(n){return Array.isArray(n)?Y(n):n||null}function wc(n,e){return(ml(e)?e.asyncValidators:n)||null}function gp(n){return Array.isArray(n)?Ze(n):n||null}function ml(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Au(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new c.vHH(1e3,"");if(!i[t])throw new c.vHH(1001,"")}function Mu(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new c.vHH(1002,"")})}class _h{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Cv(this._rawValidators),this._composedAsyncValidatorFn=gp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Tu}get invalid(){return this.status===Su}get pending(){return this.status==fl}get disabled(){return this.status===pl}get enabled(){return this.status!==pl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Cv(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=gp(e)}addValidators(e){this.setValidators(bi(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(bi(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(hl(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(hl(e,this._rawAsyncValidators))}hasValidator(e){return Qi(this._rawValidators,e)}hasAsyncValidator(e){return Qi(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=fl,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=pl,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Tu,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Tu||this.status===fl)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?pl:Tu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=fl,this._hasOwnPendingAsyncValidator=!0;const t=Eu(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?pl:this.errors?Su:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fl)?fl:this._anyControlsHaveStatus(Su)?Su:Tu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ml(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class Ec extends _h{constructor(e,t,i){super(gh(t),wc(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Mu(this,0,e),Object.keys(e).forEach(i=>{Au(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,a)=>{i=t(i,r,a)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class Fg extends Ec{}function Cc(n,e){return[...e.path,n]}function Ic(n,e){gl(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function yp(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Lg(n,e)})}(n,e),function bp(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function vp(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Lg(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Dc(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function js(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),xu(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function _p(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function gl(n,e){const t=pt(n);null!==e.validator?n.setValidators(Ye(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=Ft(n);null!==e.asyncValidator?n.setAsyncValidators(Ye(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();_p(e._rawValidators,r),_p(e._rawAsyncValidators,r)}function xu(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=pt(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==e.validator);a.length!==r.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const r=Ft(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==e.asyncValidator);a.length!==r.length&&(t=!0,n.setAsyncValidators(a))}}}const i=()=>{};return _p(e._rawValidators,i),_p(e._rawAsyncValidators,i),t}function Lg(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function vh(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Ru(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(a=>{a.constructor===Bs?t=a:function Ep(n){return Object.getPrototypeOf(n.constructor)===Ls}(a)?i=a:r=a}),r||i||t||null}function jg(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function wh(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const ma=class extends _h{constructor(e=null,t,i){super(gh(t),wc(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ml(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=wh(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){jg(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){jg(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){wh(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Ch={provide:ii,useExisting:(0,c.Gpc)(()=>ku)},Ih=(()=>Promise.resolve())();let ku=(()=>{class n extends ii{constructor(t,i,r,a,u){super(),this._changeDetectorRef=u,this.control=new ma,this._registered=!1,this.update=new c.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Ru(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),vh(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ic(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Ih.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&(0,c.D6c)(i);Ih.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Cc(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Bn,9),c.Y36(fi,10),c.Y36(ao,10),c.Y36(dr,10),c.Y36(c.sBO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([Ch]),c.qOj,c.TTD]}),n})(),Tc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const xv={provide:dr,useExisting:(0,c.Gpc)(()=>Sc),multi:!0};let Sc=(()=>{class n extends Ls{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=i=>{t(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,i){1&t&&c.NdJ("input",function(a){return i.onChange(a.target.value)})("blur",function(){return i.onTouched()})},features:[c._Bn([xv]),c.qOj]}),n})(),Dh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const yl=new c.OlP("NgModelWithFormControlWarning"),Mp={provide:Bn,useExisting:(0,c.Gpc)(()=>_a)};let _a=(()=>{class n extends Bn{constructor(t,i){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(xu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return Ic(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){js(t.control||null,t,!1),function Hg(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,function Cp(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(js(i||null,t),(n=>n instanceof ma)(r)&&(Ic(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);(function Vg(n,e){gl(n,e)})(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function Dv(n,e){return xu(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){gl(this.form,this),this._oldForm&&xu(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(fi,10),c.Y36(ao,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&c.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([Mp]),c.qOj,c.TTD]}),n})();const Wg={provide:ii,useExisting:(0,c.Gpc)(()=>Ah)};let Ah=(()=>{class n extends ii{constructor(t,i,r,a,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Ru(0,a)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),vh(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Cc(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(c.Y36(Bn,13),c.Y36(fi,10),c.Y36(ao,10),c.Y36(dr,10),c.Y36(yl,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([Wg]),c.qOj,c.TTD]}),n})(),Op=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Dh]}),n})(),Xg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Op]}),n})(),Rh=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:yl,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Op]}),n})();class Pp extends _h{constructor(e,t,i){super(gh(t),wc(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Mu(this,0,e),e.forEach((i,r)=>{Au(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function kh(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Np=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,i=null){const r=this._reduceControls(t);let a={};return kh(i)?a=i:null!==i&&(a.validators=i.validator,a.asyncValidators=i.asyncValidator),new Ec(r,a)}record(t,i=null){const r=this._reduceControls(t);return new Fg(r,i)}control(t,i,r){let a={};return this.useNonNullable?(kh(i)?a=i:(a.validators=i,a.asyncValidators=r),new ma(t,{...a,nonNullable:!0})):new ma(t,i,r)}array(t,i,r){const a=t.map(u=>this._createControl(u));return new Pp(a,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return t instanceof ma||t instanceof _h?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:Rh}),n})();var No=P(2011);const t__firebase={apiKey:"AIzaSyCPokL3VPOIn4_CcjSJ_WwZq6LFZdreb4s",authDomain:"licorapp-d94de.firebaseapp.com",projectId:"licorapp-d94de",storageBucket:"licorapp-d94de.appspot.com",messagingSenderId:"197141046042",appId:"1:197141046042:web:5f04c3a5f904602ef982a3"};function lt(...n){const e=(0,Fs.yG)(n);return(0,mn.D)(n,e)}var Yt=P(7579);class uo extends Yt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const n_=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Fp=P(4671),HR=P(9672);function ST(...n){const e=(0,Fs.yG)(n),t=(0,Fs.jO)(n),{args:i,keys:r}=bu(n);if(0===i.length)return(0,mn.D)([],e);const a=new Ui.y(function Lp(n,e,t=Fp.y){return i=>{i_(e,()=>{const{length:r}=n,a=new Array(r);let u=r,f=r;for(let _=0;_<r;_++)i_(e,()=>{const w=(0,mn.D)(n[_],e);let I=!1;w.subscribe((0,Dn.x)(i,M=>{a[_]=M,I||(I=!0,f--),f||i.next(t(a.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,e,r?u=>cl(r,u):Fp.y));return t?a.pipe(yc(t)):a}function i_(n,e,t){n?(0,HR.f)(t,n,e):e()}var Oh=P(8189);function r_(...n){return function iE(){return(0,Oh.J)(1)}()((0,mn.D)(n,(0,Fs.yG)(n)))}function rE(n){return new Ui.y(e=>{(0,Mo.Xf)(n()).subscribe(e)})}var sE=P(9635),Fo=P(576);function Ac(n,e){const t=(0,Fo.m)(n)?n:()=>n,i=r=>r.error(t());return new Ui.y(e?r=>e.schedule(i,0,r):i)}var Ph=P(515),Fu=P(727),Pi=P(4482);function s_(){return(0,Pi.e)((n,e)=>{let t=null;n._refCount++;const i=(0,Dn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,a=t;t=null,r&&(!a||r===a)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Fv extends Ui.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Pi.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Fu.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Dn.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Fu.w0.EMPTY)}return e}refCount(){return s_()(this)}}function Qn(n,e){return(0,Pi.e)((t,i)=>{let r=null,a=0,u=!1;const f=()=>u&&!r&&i.complete();t.subscribe((0,Dn.x)(i,_=>{r?.unsubscribe();let w=0;const I=a++;(0,Mo.Xf)(n(_,I)).subscribe(r=(0,Dn.x)(i,M=>i.next(e?e(_,M,I,w++):M),()=>{r=null,f()}))},()=>{u=!0,f()}))})}function ya(n){return n<=0?()=>Ph.E:(0,Pi.e)((e,t)=>{let i=0;e.subscribe((0,Dn.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function va(...n){const e=(0,Fs.yG)(n);return(0,Pi.e)((t,i)=>{(e?r_(n,t,e):r_(n,t)).subscribe(i)})}function Xn(n,e){return(0,Pi.e)((t,i)=>{let r=0;t.subscribe((0,Dn.x)(i,a=>n.call(e,a,r++)&&i.next(a)))})}var xr=P(5577);function Nh(n){return(0,Pi.e)((e,t)=>{let i=!1;e.subscribe((0,Dn.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Vp(n=Lu){return(0,Pi.e)((e,t)=>{let i=!1;e.subscribe((0,Dn.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function Lu(){return new n_}function ba(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Xn((r,a)=>n(r,a,i)):Fp.y,ya(1),t?Nh(e):Vp(()=>new n_))}function wa(n,e){return(0,Fo.m)(e)?(0,xr.z)(n,e,1):(0,xr.z)(n,1)}var Ni=P(8505);function wl(n){return(0,Pi.e)((e,t)=>{let a,i=null,r=!1;i=e.subscribe((0,Dn.x)(t,void 0,void 0,u=>{a=(0,Mo.Xf)(n(u,wl(n)(e))),i?(i.unsubscribe(),i=null,a.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,a.subscribe(t))})}function oE(n,e,t,i,r){return(a,u)=>{let f=t,_=e,w=0;a.subscribe((0,Dn.x)(u,I=>{const M=w++;_=f?n(_,I,M):(f=!0,I),i&&u.next(_)},r&&(()=>{f&&u.next(_),u.complete()})))}}function Ea(n,e){return(0,Pi.e)(oE(n,e,arguments.length>=2,!0))}function Lv(n){return n<=0?()=>Ph.E:(0,Pi.e)((e,t)=>{let i=[];e.subscribe((0,Dn.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function aE(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Xn((r,a)=>n(r,a,i)):Fp.y,Lv(1),t?Nh(e):Vp(()=>new n_))}function Vv(n){return(0,at.U)(()=>n)}function Fh(n){return(0,Pi.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Jt="primary",Lh=Symbol("RouteTitle");class MT{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Vu(n){return new MT(n)}function jR(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let a=0;a<i.length;a++){const u=i[a],f=n[a];if(u.startsWith(":"))r[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function _s(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let a=0;a<t.length;a++)if(r=t[a],!lE(n[r],e[r]))return!1;return!0}function lE(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,a)=>i[a]===r)}return n===e}function Bu(n){return Array.prototype.concat.apply([],n)}function Vh(n){return n.length>0?n[n.length-1]:null}function Rr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function El(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,mn.D)(Promise.resolve(n)):lt(n)}const kT={exact:function o_(n,e,t){if(!Hu(n.segments,e.segments)||!l_(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!o_(n.children[i],e.children[i],t))return!1;return!0},subset:a_},Uv={exact:function jv(n,e){return _s(n,e)},subset:function OT(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>lE(n[t],e[t]))},ignored:()=>!0};function Hv(n,e,t){return kT[t.paths](n.root,e.root,t.matrixParams)&&Uv[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function a_(n,e,t){return Bh(n,e,e.segments,t)}function Bh(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Hu(r,t)||e.hasChildren()||!l_(r,t,i))}if(n.segments.length===t.length){if(!Hu(n.segments,t)||!l_(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!a_(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Hu(n.segments,r)&&l_(n.segments,r,i)&&n.children[Jt])&&Bh(n.children[Jt],e,a,i)}}function l_(n,e,t){return e.every((i,r)=>Uv[t](n[r].parameters,i.parameters))}class Uu{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vu(this.queryParams)),this._queryParamMap}toString(){return FT.serialize(this)}}class en{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Rr(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return c_(this)}}class Bp{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Vu(this.parameters)),this._parameterMap}toString(){return cE(this)}}function Hu(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let ju=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new Lo},providedIn:"root"}),n})();class Lo{parse(e){const t=new $T(e);return new Uu(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${u_(e.root,!0)}`,i=function VT(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Up(t)}=${Up(r)}`).join("&"):`${Up(t)}=${Up(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function zR(n){return encodeURI(n)}(e.fragment)}`:""}`}}const FT=new Lo;function c_(n){return n.segments.map(e=>cE(e)).join("/")}function u_(n,e){if(!n.hasChildren())return c_(n);if(e){const t=n.children[Jt]?u_(n.children[Jt],!1):"",i=[];return Rr(n.children,(r,a)=>{a!==Jt&&i.push(`${a}:${u_(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function NT(n,e){let t=[];return Rr(n.children,(i,r)=>{r===Jt&&(t=t.concat(e(i,r)))}),Rr(n.children,(i,r)=>{r!==Jt&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===Jt?[u_(n.children[Jt],!1)]:[`${r}:${u_(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Jt]?`${c_(n)}/${t[0]}`:`${c_(n)}/(${t.join("//")})`}}function LT(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Up(n){return LT(n).replace(/%3B/gi,";")}function d_(n){return LT(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $v(n){return decodeURIComponent(n)}function zv(n){return $v(n.replace(/\+/g,"%20"))}function cE(n){return`${d_(n.path)}${function uE(n){return Object.keys(n).map(e=>`;${d_(e)}=${d_(n[e])}`).join("")}(n.parameters)}`}const BT=/^[^\/()?;=#]+/;function ys(n){const e=n.match(BT);return e?e[0]:""}const UT=/^[^=?&#]+/,HT=/^[^&#]+/;class $T{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new en([],{}):new en([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Jt]=new en(e,t)),i}parseSegment(){const e=ys(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(e),new Bp($v(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=ys(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=ys(this.remaining);r&&(i=r,this.capture(i))}e[$v(t)]=$v(i)}parseQueryParam(e){const t=function dE(n){const e=n.match(UT);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const u=function jT(n){const e=n.match(HT);return e?e[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=zv(t),a=zv(i);if(e.hasOwnProperty(r)){let u=e[r];Array.isArray(u)||(u=[u],e[r]=u),u.push(a)}else e[r]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=ys(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new c.vHH(4010,!1);let a;i.indexOf(":")>-1?(a=i.slice(0,i.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Jt);const u=this.parseChildren();t[a]=1===Object.keys(u).length?u[Jt]:new en([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new c.vHH(4011,!1)}}function Gv(n){return n.segments.length>0?new en([],{[Jt]:n}):n}function Hp(n){const e={};for(const i of Object.keys(n.children)){const a=Hp(n.children[i]);(a.segments.length>0||a.hasChildren())&&(e[i]=a)}return function zT(n){if(1===n.numberOfChildren&&n.children[Jt]){const e=n.children[Jt];return new en(n.segments.concat(e.segments),e.children)}return n}(new en(n.segments,e))}function $u(n){return n instanceof Uu}function pE(n,e,t,i,r){if(0===t.length)return zu(e.root,e.root,e.root,i,r);const a=function gE(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Wv(!0,0,n);let e=0,t=!1;const i=n.reduce((r,a,u)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return Rr(a.outlets,(_,w)=>{f[w]="string"==typeof _?_.split("/"):_}),[...r,{outlets:f}]}if(a.segmentPath)return[...r,a.segmentPath]}return"string"!=typeof a?[...r,a]:0===u?(a.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&r.push(f))}),r):[...r,a]},[]);return new Wv(t,e,i)}(t);return a.toRoot()?zu(e.root,e.root,new en([],{}),i,r):function u(_){const w=function _E(n,e,t,i){if(n.isAbsolute)return new Uh(e.root,!0,0);if(-1===i)return new Uh(t,t===e.root,0);return function Zv(n,e,t){let i=n,r=e,a=t;for(;a>r;){if(a-=r,i=i.parent,!i)throw new c.vHH(4005,!1);r=i.segments.length}return new Uh(i,!1,r-a)}(t,i+(jp(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,_),I=w.processChildren?qu(w.segmentGroup,w.index,a.commands):Kv(w.segmentGroup,w.index,a.commands);return zu(e.root,w.segmentGroup,I,i,r)}(n.snapshot?._lastPathIndex)}function jp(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function $p(n){return"object"==typeof n&&null!=n&&n.outlets}function zu(n,e,t,i,r){let u,a={};i&&Rr(i,(_,w)=>{a[w]=Array.isArray(_)?_.map(I=>`${I}`):`${_}`}),u=n===e?t:mE(n,e,t);const f=Gv(Hp(u));return new Uu(f,a,r)}function mE(n,e,t){const i={};return Rr(n.children,(r,a)=>{i[a]=r===e?t:mE(r,e,t)}),new en(n.segments,i)}class Wv{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&jp(i[0]))throw new c.vHH(4003,!1);const r=i.find($p);if(r&&r!==Vh(i))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Uh{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function Kv(n,e,t){if(n||(n=new en([],{})),0===n.segments.length&&n.hasChildren())return qu(n,e,t);const i=function Yv(n,e,t){let i=0,r=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return a;const u=n.segments[r],f=t[i];if($p(f))break;const _=`${f}`,w=i<t.length-1?t[i+1]:null;if(r>0&&void 0===_)break;if(_&&w&&"object"==typeof w&&void 0===w.outlets){if(!qT(_,w,u))return a;i+=2}else{if(!qT(_,{},u))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const a=new en(n.segments.slice(0,i.pathIndex),{});return a.children[Jt]=new en(n.segments.slice(i.pathIndex),n.children),qu(a,0,r)}return i.match&&0===r.length?new en(n.segments,{}):i.match&&!n.hasChildren()?Qv(n,e,t):i.match?qu(n,0,r):Qv(n,e,t)}function qu(n,e,t){if(0===t.length)return new en(n.segments,{});{const i=function Gu(n){return $p(n[0])?n[0].outlets:{[Jt]:n}}(t),r={};return Rr(i,(a,u)=>{"string"==typeof a&&(a=[a]),null!==a&&(r[u]=Kv(n.children[u],e,a))}),Rr(n.children,(a,u)=>{void 0===i[u]&&(r[u]=a)}),new en(n.segments,r)}}function Qv(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const a=t[r];if($p(a)){const _=qR(a.outlets);return new en(i,_)}if(0===r&&jp(t[0])){i.push(new Bp(n.segments[e].path,GT(t[0]))),r++;continue}const u=$p(a)?a.outlets[Jt]:`${a}`,f=r<t.length-1?t[r+1]:null;u&&f&&jp(f)?(i.push(new Bp(u,GT(f))),r+=2):(i.push(new Bp(u,{})),r++)}return new en(i,{})}function qR(n){const e={};return Rr(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=Qv(new en([],{}),0,t))}),e}function GT(n){const e={};return Rr(n,(t,i)=>e[i]=`${t}`),e}function qT(n,e,t){return n==t.path&&_s(e,t.parameters)}class Cl{constructor(e,t){this.id=e,this.url=t}}class h_ extends Cl{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Hh extends Cl{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class f_ extends Cl{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Wu extends Cl{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class WT extends Cl{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yE extends Cl{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class p_ extends Cl{constructor(e,t,i,r,a){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ZT extends Cl{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vE extends Cl{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class KT{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class YT{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class QT{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class XT{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class JT{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bE{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wE{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Xv{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=zp(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=zp(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=CE(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return CE(e,this._root).map(t=>t.value)}}function zp(n,e){if(n===e.value)return e;for(const t of e.children){const i=zp(n,t);if(i)return i}return null}function CE(n,e){if(n===e.value)return[e];for(const t of e.children){const i=CE(n,t);if(i.length)return i.unshift(e),i}return[]}class Vo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function jh(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class eS extends Xv{constructor(e,t){super(e),this.snapshot=t,Wp(this,e)}toString(){return this.snapshot.toString()}}function Zu(n,e){const t=function IE(n,e){const u=new qp([],{},{},"",{},Jt,e,null,n.root,-1,{});return new DE("",new Vo(u,[]))}(n,e),i=new uo([new Bp("",{})]),r=new uo({}),a=new uo({}),u=new uo({}),f=new uo(""),_=new Il(i,r,u,f,a,Jt,e,t.root);return _.snapshot=t.root,new eS(new Vo(_,[]),t)}class Il{constructor(e,t,i,r,a,u,f,_){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=f,this.title=this.data?.pipe((0,at.U)(w=>w[Lh]))??lt(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,at.U)(e=>Vu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,at.U)(e=>Vu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Gp(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],a=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return function Bo(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class qp{constructor(e,t,i,r,a,u,f,_,w,I,M,F){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=f,this.title=this.data?.[Lh],this.routeConfig=_,this._urlSegment=w,this._lastPathIndex=I,this._correctedLastPathIndex=F??I,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Vu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class DE extends Xv{constructor(e,t){super(t),this.url=e,Wp(this,t)}toString(){return Ca(this._root)}}function Wp(n,e){e.value._routerState=n,e.children.forEach(t=>Wp(n,t))}function Ca(n){const e=n.children.length>0?` { ${n.children.map(Ca).join(", ")} } `:"";return`${n.value}${e}`}function Zp(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,_s(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),_s(e.params,t.params)||n.params.next(t.params),function xT(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!_s(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),_s(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function m_(n,e){const t=_s(n.params,e.params)&&function PT(n,e){return Hu(n,e)&&n.every((t,i)=>_s(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||m_(n.parent,e.parent))}function g_(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function TE(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return g_(n,i,r);return g_(n,i)})}(n,e,t);return new Vo(i,r)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const u=a.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(f=>g_(n,f)),u}}const i=function WR(n){return new Il(new uo(n.url),new uo(n.params),new uo(n.queryParams),new uo(n.fragment),new uo(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(a=>g_(n,a));return new Vo(i,r)}}const $h="ngNavigationCancelingError";function Kp(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=$u(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=__(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function __(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[$h]=!0,i.cancellationCode=e,t&&(i.url=t),i}function y_(n){return v_(n)&&$u(n.url)}function v_(n){return n&&n[$h]}class ZR{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Yp,this.attachRef=null}}let Yp=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new ZR,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const b_=!1;let w_=(()=>{class n{constructor(t,i,r,a,u){this.parentContexts=t,this.location=i,this.changeDetector=a,this.environmentInjector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=r||Jt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,b_);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,b_);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,b_);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new c.vHH(4013,b_);this._activatedRoute=t;const r=this.location,u=t._futureSnapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,_=new tS(t,f,r.injector);if(i&&function SE(n){return!!n.resolveComponentFactory}(i)){const w=i.resolveComponentFactory(u);this.activated=r.createComponent(w,r.length,_)}else this.activated=r.createComponent(u,{index:r.length,injector:_,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Yp),c.Y36(c.s_b),c.$8M("name"),c.Y36(c.sBO),c.Y36(c.lqb))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class tS{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Il?this.route:e===Yp?this.childContexts:this.parent.get(e,t)}}let AE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(t,i){1&t&&c._UZ(0,"router-outlet")},dependencies:[w_],encapsulation:2}),n})();function ME(n,e){return n.providers&&!n._injector&&(n._injector=(0,c.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function xE(n){const e=n.children&&n.children.map(xE),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Jt&&(t.component=AE),t}function Uo(n){return n.outlet||Jt}function rS(n,e){const t=n.filter(i=>Uo(i)===e);return t.push(...n.filter(i=>Uo(i)!==e)),t}function E_(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class ek{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Zp(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=jh(t);e.children.forEach(a=>{const u=a.value.outlet;this.deactivateRoutes(a,r[u],i),delete r[u]}),Rr(r,(a,u)=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(r===a)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,i);else a&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=jh(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);if(i&&i.outlet){const u=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=jh(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=jh(t);e.children.forEach(a=>{this.activateRoutes(a,r[a.value.outlet],i),this.forwardEvent(new bE(a.value.snapshot))}),e.children.length&&this.forwardEvent(new XT(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(Zp(r),r===a)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const f=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),Zp(f.route.value),this.activateChildRoutes(e,null,u.children)}else{const f=E_(r.snapshot),_=f?.get(c._Vd)??null;u.attachRef=null,u.route=r,u.resolver=_,u.injector=f,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,i)}}class sS{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ho{constructor(e,t){this.component=e,this.route=t}}function eb(n,e,t){const i=n._root;return Yu(i,e?e._root:null,t,[i.value])}function Ku(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,c.Z0I)(n)?e.get(n):n:i}function Yu(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=jh(e);return n.children.forEach(u=>{(function RE(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,u=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){const _=function tb(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Hu(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Hu(n.url,e.url)||!_s(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!m_(n,e)||!_s(n.queryParams,e.queryParams);default:return!m_(n,e)}}(u,a,a.routeConfig.runGuardsAndResolvers);_?r.canActivateChecks.push(new sS(i)):(a.data=u.data,a._resolvedData=u._resolvedData),Yu(n,e,a.component?f?f.children:null:t,i,r),_&&f&&f.outlet&&f.outlet.isActivated&&r.canDeactivateChecks.push(new Ho(f.outlet.component,u))}else u&&Xp(e,f,r),r.canActivateChecks.push(new sS(i)),Yu(n,null,a.component?f?f.children:null:t,i,r)})(u,a[u.value.outlet],t,i.concat([u.value]),r),delete a[u.value.outlet]}),Rr(a,(u,f)=>Xp(u,t.getContext(f),r)),r}function Xp(n,e,t){const i=jh(n),r=n.value;Rr(i,(a,u)=>{Xp(a,r.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new Ho(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function ho(n){return"function"==typeof n}function Jp(n){return n instanceof n_||"EmptyError"===n?.name}const Dl=Symbol("INITIAL_VALUE");function Mc(){return Qn(n=>ST(n.map(e=>e.pipe(ya(1),va(Dl)))).pipe((0,at.U)(e=>{for(const t of e)if(!0!==t){if(t===Dl)return Dl;if(!1===t||t instanceof Uu)return t}return!0}),Xn(e=>e!==Dl),ya(1)))}function LE(n){return(0,sE.z)((0,Ni.b)(e=>{if($u(e))throw Kp(0,e)}),(0,at.U)(e=>!0===e))}const ob={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ab(n,e,t,i,r){const a=I_(n,e,t);return a.matched?function VE(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?lt(r.map(u=>{const f=Ku(u,n);return El(function uS(n){return n&&ho(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(Mc(),LE()):lt(!0)}(i=ME(e,i),e,t).pipe((0,at.U)(u=>!0===u?a:{...ob})):lt(a)}function I_(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...ob}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||jR)(t,n,e);if(!r)return{...ob};const a={};Rr(r.posParams,(f,_)=>{a[_]=f.path});const u=r.consumed.length>0?{...a,...r.consumed[r.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function D_(n,e,t,i,r="corrected"){if(t.length>0&&function hS(n,e,t){return t.some(i=>T_(n,e,i)&&Uo(i)!==Jt)}(n,t,i)){const u=new en(e,function BE(n,e,t,i){const r={};r[Jt]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&Uo(a)!==Jt){const u=new en([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,r[Uo(a)]=u}return r}(n,e,i,new en(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function nk(n,e,t){return t.some(i=>T_(n,e,i))}(n,t,i)){const u=new en(n.segments,function $s(n,e,t,i,r,a){const u={};for(const f of i)if(T_(n,t,f)&&!r[Uo(f)]){const _=new en([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===a?n.segments.length:e.length,u[Uo(f)]=_}return{...r,...u}}(n,e,t,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const a=new en(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function T_(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function S_(n,e,t,i){return!!(Uo(n)===i||i!==Jt&&T_(e,t,n))&&("**"===n.path||I_(e,n,t).matched)}function lb(n,e,t){return 0===e.length&&!n.children[t]}const A_=!1;class M_{constructor(e){this.segmentGroup=e||null}}class UE{constructor(e){this.urlTree=e}}function Gh(n){return Ac(new M_(n))}function HE(n){return Ac(new UE(n))}class $E{constructor(e,t,i,r,a){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=a,this.allowRedirects=!0}apply(){const e=D_(this.urlTree.root,[],[],this.config).segmentGroup,t=new en(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Jt).pipe((0,at.U)(a=>this.createUrlTree(Hp(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(wl(a=>{if(a instanceof UE)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof M_?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Jt).pipe((0,at.U)(r=>this.createUrlTree(Hp(r),e.queryParams,e.fragment))).pipe(wl(r=>{throw r instanceof M_?this.noMatchError(r):r}))}noMatchError(e){return new c.vHH(4002,A_)}createUrlTree(e,t,i){const r=Gv(e);return new Uu(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,at.U)(a=>new en([],a))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const a of Object.keys(i.children))"primary"===a?r.unshift(a):r.push(a);return(0,mn.D)(r).pipe(wa(a=>{const u=i.children[a],f=rS(t,a);return this.expandSegmentGroup(e,f,u,a).pipe((0,at.U)(_=>({segment:_,outlet:a})))}),Ea((a,u)=>(a[u.outlet]=u.segment,a),{}),aE())}expandSegment(e,t,i,r,a,u){return(0,mn.D)(i).pipe(wa(f=>this.expandSegmentAgainstRoute(e,t,i,f,r,a,u).pipe(wl(w=>{if(w instanceof M_)return lt(null);throw w}))),ba(f=>!!f),wl((f,_)=>{if(Jp(f))return lb(t,r,a)?lt(new en([],{})):Gh(t);throw f}))}expandSegmentAgainstRoute(e,t,i,r,a,u,f){return S_(r,t,a,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,a,u):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u):Gh(t):Gh(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const a=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?HE(a):this.lineralizeSegments(i,a).pipe((0,xr.z)(u=>{const f=new en(u,{});return this.expandSegment(e,f,t,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u){const{matched:f,consumedSegments:_,remainingSegments:w,positionalParamSegments:I}=I_(t,r,a);if(!f)return Gh(t);const M=this.applyRedirectCommands(_,r.redirectTo,I);return r.redirectTo.startsWith("/")?HE(M):this.lineralizeSegments(r,M).pipe((0,xr.z)(F=>this.expandSegment(e,t,i,F.concat(w),u,!1)))}matchSegmentAgainstRoute(e,t,i,r,a){return"**"===i.path?(e=ME(i,e),i.loadChildren?(i._loadedRoutes?lt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,at.U)(f=>(i._loadedRoutes=f.routes,i._loadedInjector=f.injector,new en(r,{})))):lt(new en(r,{}))):ab(t,i,r,e).pipe(Qn(({matched:u,consumedSegments:f,remainingSegments:_})=>u?this.getChildConfig(e=i._injector??e,i,r).pipe((0,xr.z)(I=>{const M=I.injector??e,F=I.routes,{segmentGroup:B,slicedSegments:W}=D_(t,f,_,F),ie=new en(B.segments,B.children);if(0===W.length&&ie.hasChildren())return this.expandChildren(M,F,ie).pipe((0,at.U)(Je=>new en(f,Je)));if(0===F.length&&0===W.length)return lt(new en(f,{}));const ve=Uo(i)===a;return this.expandSegment(M,ie,F,W,ve?Jt:a,!0).pipe((0,at.U)(rt=>new en(f.concat(rt.segments),rt.children)))})):Gh(t)))}getChildConfig(e,t,i){return t.children?lt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?lt({routes:t._loadedRoutes,injector:t._loadedInjector}):function tk(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?lt(!0):lt(r.map(u=>{const f=Ku(u,n);return El(function aS(n){return n&&ho(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(Mc(),LE())}(e,t,i).pipe((0,xr.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,Ni.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function fS(n){return Ac(__(A_,3))}())):lt({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return lt(i);if(r.numberOfChildren>1||!r.children[Jt])return Ac(new c.vHH(4e3,A_));r=r.children[Jt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const a=this.createSegmentGroup(e,t.root,i,r);return new Uu(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Rr(e,(r,a)=>{if("string"==typeof r&&r.startsWith(":")){const f=r.substring(1);i[a]=t[f]}else i[a]=r}),i}createSegmentGroup(e,t,i,r){const a=this.createSegments(e,t.segments,i,r);let u={};return Rr(t.children,(f,_)=>{u[_]=this.createSegmentGroup(e,f,i,r)}),new en(a,u)}createSegments(e,t,i,r){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,r):this.findOrReturn(a,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new c.vHH(4001,A_);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class Ia{}class gS{constructor(e,t,i,r,a,u,f,_){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=f,this.urlSerializer=_}recognize(){const e=D_(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Jt).pipe((0,at.U)(t=>{if(null===t)return null;const i=new qp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Jt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Vo(i,t),a=new DE(this.url,r);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,i=Gp(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,mn.D)(Object.keys(i.children)).pipe(wa(r=>{const a=i.children[r],u=rS(t,r);return this.processSegmentGroup(e,u,a,r)}),Ea((r,a)=>r&&a?(r.push(...a),r):null),function AT(n,e=!1){return(0,Pi.e)((t,i)=>{let r=0;t.subscribe((0,Dn.x)(i,a=>{const u=n(a,r++);(u||e)&&i.next(a),!u&&i.complete()}))})}(r=>null!==r),Nh(null),aE(),(0,at.U)(r=>{if(null===r)return null;const a=qE(r);return function ik(n){n.sort((e,t)=>e.value.outlet===Jt?-1:t.value.outlet===Jt?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,i,r,a){return(0,mn.D)(t).pipe(wa(u=>this.processSegmentAgainstRoute(u._injector??e,u,i,r,a)),ba(u=>!!u),wl(u=>{if(Jp(u))return lb(i,r,a)?lt([]):lt(null);throw u}))}processSegmentAgainstRoute(e,t,i,r,a){if(t.redirectTo||!S_(t,i,r,a))return lt(null);let u;if("**"===t.path){const f=r.length>0?Vh(r).parameters:{},_=WE(i)+r.length;u=lt({snapshot:new qp(r,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,em(t),Uo(t),t.component??t._loadedComponent??null,t,R_(i),_,k_(t),_),consumedSegments:[],remainingSegments:[]})}else u=ab(i,t,r,e).pipe((0,at.U)(({matched:f,consumedSegments:_,remainingSegments:w,parameters:I})=>{if(!f)return null;const M=WE(i)+_.length;return{snapshot:new qp(_,I,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,em(t),Uo(t),t.component??t._loadedComponent??null,t,R_(i),M,k_(t),M),consumedSegments:_,remainingSegments:w}}));return u.pipe(Qn(f=>{if(null===f)return lt(null);const{snapshot:_,consumedSegments:w,remainingSegments:I}=f;e=t._injector??e;const M=t._loadedInjector??e,F=function GE(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:B,slicedSegments:W}=D_(i,w,I,F.filter(ve=>void 0===ve.redirectTo),this.relativeLinkResolution);if(0===W.length&&B.hasChildren())return this.processChildren(M,F,B).pipe((0,at.U)(ve=>null===ve?null:[new Vo(_,ve)]));if(0===F.length&&0===W.length)return lt([new Vo(_,[])]);const ie=Uo(t)===a;return this.processSegment(M,F,B,W,ie?Jt:a).pipe((0,at.U)(ve=>null===ve?null:[new Vo(_,ve)]))}))}}function _S(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function qE(n){const e=[],t=new Set;for(const i of n){if(!_S(i)){e.push(i);continue}const r=e.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=qE(i.children);e.push(new Vo(i.value,r))}return e.filter(i=>!t.has(i))}function R_(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function WE(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function em(n){return n.data||{}}function k_(n){return n.resolve||{}}function db(n){return"string"==typeof n.title||null===n.title}function P_(n){return Qn(e=>{const t=n(e);return t?(0,mn.D)(t).pipe((0,at.U)(()=>e)):lt(e)})}let N_=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(a=>a.outlet===Jt);return i}getResolvedTitleForRoute(t){return t.data[Lh]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(Da)},providedIn:"root"}),n})(),Da=(()=>{class n extends N_{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(np))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class F_{}class vS extends class tm{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const nm=new c.OlP("",{providedIn:"root",factory:()=>({})}),pb=new c.OlP("ROUTES");let Qu=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return lt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=El(t.loadComponent()).pipe((0,Ni.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),Fh(()=>{this.componentLoaders.delete(t)})),r=new Fv(i,()=>new Yt.x).pipe(s_());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return lt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const a=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,at.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(i);let _,w,I=!1;Array.isArray(f)?w=f:(_=f.create(t).injector,w=Bu(_.get(pb,[],c.XFs.Self|c.XFs.Optional)));return{routes:w.map(xE),injector:_}}),Fh(()=>{this.childrenLoaders.delete(i)})),u=new Fv(a,()=>new Yt.x).pipe(s_());return this.childrenLoaders.set(i,u),u}loadModuleFactoryOrRoutes(t){return El(t()).pipe((0,xr.z)(i=>i instanceof c.YKP||Array.isArray(i)?lt(i):(0,mn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3),c.LFG(c.Sil))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class bS{}class ok{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function ak(n){throw n}function wS(n,e,t){return e.parse("/")}const ES={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},CS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function V_(){const n=(0,c.f3M)(ju),e=(0,c.f3M)(Yp),t=(0,c.f3M)(Pe),i=(0,c.f3M)(c.zs3),r=(0,c.f3M)(c.Sil),a=(0,c.f3M)(pb,{optional:!0})??[],u=(0,c.f3M)(nm,{optional:!0})??{},f=(0,c.f3M)(Da),_=(0,c.f3M)(N_,{optional:!0}),w=(0,c.f3M)(bS,{optional:!0}),I=(0,c.f3M)(F_,{optional:!0}),M=new Xi(null,n,e,t,i,r,Bu(a));return w&&(M.urlHandlingStrategy=w),I&&(M.routeReuseStrategy=I),M.titleStrategy=_??f,function XE(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,M),M}let Xi=(()=>{class n{constructor(t,i,r,a,u,f,_){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=a,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Yt.x,this.errorHandler=ak,this.malformedUriErrorHandler=wS,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>lt(void 0),this.urlHandlingStrategy=new ok,this.routeReuseStrategy=new vS,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=u.get(Qu),this.configLoader.onLoadEndListener=F=>this.triggerEvent(new YT(F)),this.configLoader.onLoadStartListener=F=>this.triggerEvent(new KT(F)),this.ngModule=u.get(c.h0i),this.console=u.get(c.c2e);const M=u.get(c.R0b);this.isNgZoneEnabled=M instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function RT(){return new Uu(new en([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Zu(this.currentUrlTree,this.rootComponentType),this.transitions=new uo({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(Xn(r=>0!==r.id),(0,at.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Qn(r=>{let a=!1,u=!1;return lt(r).pipe((0,Ni.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Qn(f=>{const _=this.browserUrlTree.toString(),w=!this.navigated||f.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return JE(f.source)&&(this.browserUrlTree=f.extractedUrl),lt(f).pipe(Qn(M=>{const F=this.transitions.getValue();return i.next(new h_(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),F!==this.transitions.getValue()?Ph.E:Promise.resolve(M)}),function zE(n,e,t,i){return Qn(r=>function pS(n,e,t,i,r){return new $E(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,at.U)(a=>({...r,urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ni.b)(M=>{this.currentNavigation={...this.currentNavigation,finalUrl:M.urlAfterRedirects},r.urlAfterRedirects=M.urlAfterRedirects}),function O_(n,e,t,i,r,a){return(0,xr.z)(u=>function mS(n,e,t,i,r,a,u="emptyOnly",f="legacy"){return new gS(n,e,t,i,r,u,f,a).recognize().pipe(Qn(_=>null===_?function cb(n){return new Ui.y(e=>e.error(n))}(new Ia):lt(_)))}(n,e,t,u.urlAfterRedirects,i.serialize(u.urlAfterRedirects),i,r,a).pipe((0,at.U)(f=>({...u,targetSnapshot:f}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ni.b)(M=>{if(r.targetSnapshot=M.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!M.extras.skipLocationChange){const B=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);this.setBrowserUrl(B,M)}this.browserUrlTree=M.urlAfterRedirects}const F=new WT(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);i.next(F)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:F,extractedUrl:B,source:W,restoredState:ie,extras:ve}=f,$e=new h_(F,this.serializeUrl(B),W,ie);i.next($e);const rt=Zu(B,this.rootComponentType).snapshot;return lt(r={...f,targetSnapshot:rt,urlAfterRedirects:B,extras:{...ve,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=f.rawUrl,f.resolve(null),Ph.E}),(0,Ni.b)(f=>{const _=new yE(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}),(0,at.U)(f=>r={...f,guards:eb(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),function C_(n,e){return(0,xr.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:u}}=t;return 0===u.length&&0===a.length?lt({...t,guardsResult:!0}):function PE(n,e,t,i){return(0,mn.D)(n).pipe((0,xr.z)(r=>function dS(n,e,t,i,r){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?lt(a.map(f=>{const _=E_(e)??r,w=Ku(f,_);return El(function cS(n){return n&&ho(n.canDeactivate)}(w)?w.canDeactivate(n,e,t,i):_.runInContext(()=>w(n,e,t,i))).pipe(ba())})).pipe(Mc()):lt(!0)}(r.component,r.route,t,e,i)),ba(r=>!0!==r,!0))}(u,i,r,n).pipe((0,xr.z)(f=>f&&function kE(n){return"boolean"==typeof n}(f)?function NE(n,e,t,i){return(0,mn.D)(e).pipe(wa(r=>r_(function rb(n,e){return null!==n&&e&&e(new QT(n)),lt(!0)}(r.route.parent,i),function ib(n,e){return null!==n&&e&&e(new JT(n)),lt(!0)}(r.route,i),function sb(n,e,t){const i=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(u=>function oS(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>rE(()=>lt(u.guards.map(_=>{const w=E_(u.node)??t,I=Ku(_,w);return El(function OE(n){return n&&ho(n.canActivateChild)}(I)?I.canActivateChild(i,n):w.runInContext(()=>I(i,n))).pipe(ba())})).pipe(Mc())));return lt(a).pipe(Mc())}(n,r.path,t),function FE(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return lt(!0);const r=i.map(a=>rE(()=>{const u=E_(e)??t,f=Ku(a,u);return El(function lS(n){return n&&ho(n.canActivate)}(f)?f.canActivate(e,n):u.runInContext(()=>f(e,n))).pipe(ba())}));return lt(r).pipe(Mc())}(n,r.route,t))),ba(r=>!0!==r,!0))}(i,a,n,e):lt(f)),(0,at.U)(f=>({...t,guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,Ni.b)(f=>{if(r.guardsResult=f.guardsResult,$u(f.guardsResult))throw Kp(0,f.guardsResult);const _=new p_(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(_)}),Xn(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",3),!1)),P_(f=>{if(f.guards.canActivateChecks.length)return lt(f).pipe((0,Ni.b)(_=>{const w=new ZT(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}),Qn(_=>{let w=!1;return lt(_).pipe(function rk(n,e){return(0,xr.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return lt(t);let a=0;return(0,mn.D)(r).pipe(wa(u=>function ub(n,e,t,i){const r=n.routeConfig,a=n._resolve;return void 0!==r?.title&&!db(r)&&(a[Lh]=r.title),function sk(n,e,t,i){const r=function KE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return lt({});const a={};return(0,mn.D)(r).pipe((0,xr.z)(u=>function YE(n,e,t,i){const r=E_(e)??i,a=Ku(n,r);return El(a.resolve?a.resolve(e,t):r.runInContext(()=>a(e,t)))}(n[u],e,t,i).pipe(ba(),(0,Ni.b)(f=>{a[u]=f}))),Lv(1),Vv(a),wl(u=>Jp(u)?Ph.E:Ac(u)))}(a,n,e,i).pipe((0,at.U)(u=>(n._resolvedData=u,n.data=Gp(n,t).resolve,r&&db(r)&&(n.data[Lh]=r.title),null)))}(u.route,i,n,e)),(0,Ni.b)(()=>a++),Lv(1),(0,xr.z)(u=>a===r.length?lt(t):Ph.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ni.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(_),this.cancelNavigationTransition(_,"",2))}}))}),(0,Ni.b)(_=>{const w=new vE(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}))}),P_(f=>{const _=w=>{const I=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&I.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,Ni.b)(M=>{w.component=M}),(0,at.U)(()=>{})));for(const M of w.children)I.push(..._(M));return I};return ST(_(f.targetSnapshot.root)).pipe(Nh(),ya(1))}),P_(()=>this.afterPreactivation()),(0,at.U)(f=>{const _=function Jv(n,e,t){const i=g_(n,e._root,t?t._root:void 0);return new eS(i,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return r={...f,targetRouterState:_}}),(0,Ni.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,at.U)(i=>(new ek(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,Ni.b)({next(){a=!0},complete(){a=!0}}),Fh(()=>{a||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),wl(f=>{if(u=!0,v_(f)){y_(f)||(this.navigated=!0,this.restoreHistory(r,!0));const _=new f_(r.id,this.serializeUrl(r.extractedUrl),f.message,f.cancellationCode);if(i.next(_),y_(f)){const w=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),I={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||JE(r.source)};this.scheduleNavigation(w,"imperative",null,I,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const _=new Wu(r.id,this.serializeUrl(r.extractedUrl),f,r.targetSnapshot??void 0);i.next(_);try{r.resolve(this.errorHandler(f))}catch(w){r.reject(w)}}return Ph.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},a=t.state?.navigationId?t.state:null;if(a){const f={...a};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(r.state=f)}const u=this.parseUrl(t.url);this.scheduleNavigation(u,i,a,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(xE),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:a,fragment:u,queryParamsHandling:f,preserveFragment:_}=i,w=r||this.routerState.root,I=_?this.currentUrlTree.fragment:u;let M=null;switch(f){case"merge":M={...this.currentUrlTree.queryParams,...a};break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=a||null}return null!==M&&(M=this.removeEmptyProps(M)),pE(w,this.currentUrlTree,t,M,I??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=$u(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function mb(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new c.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...ES}:!1===i?{...CS}:i,$u(t))return Hv(this.currentUrlTree,t,r);const a=this.parseUrl(t);return Hv(this.currentUrlTree,a,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const a=t[r];return null!=a&&(i[r]=a),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Hh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,a,u){if(this.disposed)return Promise.resolve(!1);let f,_,w;u?(f=u.resolve,_=u.reject,w=u.promise):w=new Promise((F,B)=>{f=F,_=B});const I=++this.navigationId;let M;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),M=r&&r.\u0275routerPageId?r.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):M=0,this.setTransition({id:I,targetPageId:M,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:f,reject:_,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(F=>Promise.reject(F))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),a={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",a):this.location.go(r,"",a)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i,r){const a=new f_(t.id,this.serializeUrl(t.extractedUrl),i,r);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:function(){return V_()},providedIn:"root"}),n})();function JE(n){return"imperative"!==n}let qh=(()=>{class n{constructor(t,i,r,a,u){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=a,this.el=u,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Yt.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,c.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,c.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,c.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==t?i.setAttribute(r,"tabindex",t):i.removeAttribute(r,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Xi),c.Y36(Il),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&c.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),n})(),B_=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Yt.x,this.subscription=t.events.subscribe(a=>{a instanceof Hh&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,c.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,c.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,c.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,a,u){return!!(0!==t||i||r||a||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Xi),c.Y36(Il),c.Y36(_e))},n.\u0275dir=c.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&c.NdJ("click",function(a){return i.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&c.uIk("target",i.target)("href",i.href,c.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),n})();class eC{}let lk=(()=>{class n{constructor(t,i,r,a,u){this.router=t,this.injector=r,this.preloadingStrategy=a,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(Xn(t=>t instanceof Hh),wa(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const a of i){a.providers&&!a._injector&&(a._injector=(0,c.MMx)(a.providers,t,`Route: ${a.path}`));const u=a._injector??t,f=a._loadedInjector??u;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?r.push(this.preloadConfig(u,a)):(a.children||a._loadedRoutes)&&r.push(this.processRoutes(f,a.children??a._loadedRoutes))}return(0,mn.D)(r).pipe((0,Oh.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):lt(null);const a=r.pipe((0,xr.z)(u=>null===u?lt(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,mn.D)([a,u]).pipe((0,Oh.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Xi),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(eC),c.LFG(Qu))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Xu=new c.OlP("");let tC=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof h_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Hh&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof wE&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new wE(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Qr(n,e){return{\u0275kind:n,\u0275providers:e}}function Ju(n){return[{provide:pb,multi:!0,useValue:n}]}function xc(){const n=(0,c.f3M)(c.zs3);return e=>{const t=n.get(c.z2F);if(e!==t.components[0])return;const i=n.get(Xi),r=n.get(im);1===n.get(vs)&&i.initialNavigation(),n.get(ed,null,c.XFs.Optional)?.setUpPreloading(),n.get(Xu,null,c.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const im=new c.OlP("",{factory:()=>new Yt.x}),vs=new c.OlP("",{providedIn:"root",factory:()=>1});const ed=new c.OlP("");function Yh(n){return Qr(0,[{provide:ed,useExisting:lk},{provide:eC,useExisting:n}])}const td=new c.OlP("ROUTER_FORROOT_GUARD"),Qh=[Pe,{provide:ju,useClass:Lo},{provide:Xi,useFactory:V_},Yp,{provide:Il,useFactory:function iC(n){return n.routerState.root},deps:[Xi]},Qu];function rC(){return new c.PXZ("Router",Xi)}let yb=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[Qh,[],Ju(t),{provide:td,useFactory:lC,deps:[[Xi,new c.FiY,new c.tp0]]},{provide:nm,useValue:i||{}},i?.useHash?{provide:_e,useClass:It}:{provide:_e,useClass:_t},{provide:Xu,useFactory:()=>{const n=(0,c.f3M)(Xi),e=(0,c.f3M)(As),t=(0,c.f3M)(nm);return t.scrollOffset&&e.setOffset(t.scrollOffset),new tC(n,e,t)}},i?.preloadingStrategy?Yh(i.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:rC},i?.initialNavigation?cC(i):[],[{provide:vb,useFactory:xc},{provide:c.tb,multi:!0,useExisting:vb}]]}}static forChild(t){return{ngModule:n,providers:[Ju(t)]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(td,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[AE]}),n})();function lC(n){return"guarded"}function cC(n){return["disabled"===n.initialNavigation?Qr(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const e=(0,c.f3M)(Xi);return()=>{e.setUpLocationChangeListener()}}},{provide:vs,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Qr(2,[{provide:vs,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:e=>{const t=e.get($,Promise.resolve());let i=!1;return()=>t.then(()=>new Promise(a=>{const u=e.get(Xi),f=e.get(im);(function r(a){e.get(Xi).events.pipe(Xn(f=>f instanceof Hh||f instanceof f_||f instanceof Wu),(0,at.U)(f=>f instanceof Hh||f instanceof f_&&(0===f.code||1===f.code)&&null),Xn(f=>null!==f),ya(1)).subscribe(()=>{a()})})(()=>{a(!0),i=!0}),u.afterPreactivation=()=>(a(!0),i||f.closed?lt(void 0):f),u.initialNavigation()}))}}]).\u0275providers:[]]}const vb=new c.OlP("");var H_=P(4986),fr=P(8623);function bb(){return(0,Pi.e)((n,e)=>{let t,i=!1;n.subscribe((0,Dn.x)(e,r=>{const a=t;t=r,i&&e.next([a,r]),i=!0}))})}function j_(n,e=Fp.y){return n=n??wb,(0,Pi.e)((t,i)=>{let r,a=!0;t.subscribe((0,Dn.x)(i,u=>{const f=e(u);(a||!n(r,f))&&(a=!1,r=f,i.next(u))}))})}function wb(n,e){return n===e}P(3042);var Xe,TS=P(3942),ye=P(5861),Ta=P(2951),Xh=P(4859),Rc=P(1877),an=P(2090),$_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fo={},om=om||{},Ut=$_||self;function am(){}function Jh(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function nd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var z_="closure_uid_"+(1e9*Math.random()>>>0),hC=0;function fC(n,e,t){return n.call.apply(n.bind,arguments)}function pC(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function kr(n,e,t){return(kr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?fC:pC).apply(null,arguments)}function lm(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Hi(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,a){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return e.prototype[r].apply(i,u)}}function Sl(){this.s=this.s,this.o=this.o}Sl.prototype.s=!1,Sl.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function SS(n){Object.prototype.hasOwnProperty.call(n,z_)&&n[z_]||(n[z_]=++hC)}(this)},Sl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Cb=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function G_(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function Ib(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Jh(i)){const r=n.length||0,a=i.length||0;n.length=r+a;for(let u=0;u<a;u++)n[r+u]=i[u]}else n.push(i)}}function pr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}pr.prototype.h=function(){this.defaultPrevented=!0};var mC=function(){if(!Ut.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ut.addEventListener("test",am,e),Ut.removeEventListener("test",am,e)}catch{}return n}();function cm(n){return/^[\s\xa0]*$/.test(n)}var Db=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function q_(n,e){return n<e?-1:n>e?1:0}function Tb(){var n=Ut.navigator;return n&&(n=n.userAgent)?n:""}function Sa(n){return-1!=Tb().indexOf(n)}function Sb(n){return Sb[" "](n),n}function Ab(n,e,t){return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}Sb[" "]=am;var um,n,AS=Sa("Opera"),Jn=Sa("Trident")||Sa("MSIE"),Mb=Sa("Edge"),xb=Mb||Jn,gC=Sa("Gecko")&&!(-1!=Tb().toLowerCase().indexOf("webkit")&&!Sa("Edge"))&&!(Sa("Trident")||Sa("MSIE"))&&!Sa("Edge"),_C=-1!=Tb().toLowerCase().indexOf("webkit")&&!Sa("Edge");function yC(){var n=Ut.document;return n?n.documentMode:void 0}e:{var W_="",kc=(n=Tb(),gC?/rv:([^\);]+)(\)|;)/.exec(n):Mb?/Edge\/([\d\.]+)/.exec(n):Jn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):_C?/WebKit\/(\S+)/.exec(n):AS?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(kc&&(W_=kc?kc[1]:""),Jn){var Rb=yC();if(null!=Rb&&Rb>parseFloat(W_)){um=String(Rb);break e}}um=W_}var MS={},uk=Ut.document&&Jn&&(yC()||parseInt(um,10))||void 0;function id(n,e){if(pr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(gC){e:{try{Sb(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Pb[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&id.$.h.call(this)}}Hi(id,pr);var Pb={2:"touch",3:"pen",4:"mouse"};id.prototype.h=function(){id.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var bs="closure_listenable_"+(1e6*Math.random()|0),xS=0;function bC(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++xS,this.fa=this.ia=!1}function zs(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Gs(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function po(n){const e={};for(const t in n)e[t]=n[t];return e}const Nb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Fb(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let a=0;a<Nb.length;a++)t=Nb[a],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Z_(n){this.src=n,this.g={},this.h=0}function Lb(n,e){var t=e.type;if(t in n.g){var a,i=n.g[t],r=Cb(i,e);(a=0<=r)&&Array.prototype.splice.call(i,r,1),a&&(zs(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Vb(n,e,t,i){for(var r=0;r<n.length;++r){var a=n[r];if(!a.fa&&a.listener==e&&a.capture==!!t&&a.la==i)return r}return-1}Z_.prototype.add=function(n,e,t,i,r){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var u=Vb(n,e,i,r);return-1<u?(e=n[u],t||(e.ia=!1)):((e=new bC(e,this.src,a,!!i,r)).ia=t,n.push(e)),e};var Bb="closure_lm_"+(1e6*Math.random()|0),dm={};function ef(n,e,t,i,r){if(i&&i.once)return CC(n,e,t,i,r);if(Array.isArray(e)){for(var a=0;a<e.length;a++)ef(n,e[a],t,i,r);return null}return t=fm(t),n&&n[bs]?n.O(e,t,nd(i)?!!i.capture:!!i,r):wC(n,e,t,!1,i,r)}function wC(n,e,t,i,r,a){if(!e)throw Error("Invalid event type");var u=nd(r)?!!r.capture:!!r,f=Y_(n);if(f||(n[Bb]=f=new Z_(n)),(t=f.add(e,t,i,u,a)).proxy)return t;if(i=function EC(){const e=RS;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)mC||(r=u),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(hm(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function CC(n,e,t,i,r){if(Array.isArray(e)){for(var a=0;a<e.length;a++)CC(n,e[a],t,i,r);return null}return t=fm(t),n&&n[bs]?n.P(e,t,nd(i)?!!i.capture:!!i,r):wC(n,e,t,!0,i,r)}function Ub(n,e,t,i,r){if(Array.isArray(e))for(var a=0;a<e.length;a++)Ub(n,e[a],t,i,r);else i=nd(i)?!!i.capture:!!i,t=fm(t),n&&n[bs]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Vb(a=n.g[e],t,i,r))&&(zs(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=Y_(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Vb(e,t,i,r)),(t=-1<n?e[n]:null)&&K_(t))}function K_(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[bs])Lb(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(hm(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=Y_(e))?(Lb(t,n),0==t.h&&(t.src=null,e[Bb]=null)):zs(n)}}}function hm(n){return n in dm?dm[n]:dm[n]="on"+n}function RS(n,e){if(n.fa)n=!0;else{e=new id(e,this);var t=n.listener,i=n.la||n.src;n.ia&&K_(n),n=t.call(i,e)}return n}function Y_(n){return(n=n[Bb])instanceof Z_?n:null}var Q_="__closure_events_fn_"+(1e9*Math.random()>>>0);function fm(n){return"function"==typeof n?n:(n[Q_]||(n[Q_]=function(e){return n.handleEvent(e)}),n[Q_])}function wi(){Sl.call(this),this.i=new Z_(this),this.S=this,this.J=null}function Ji(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new pr(e,n);else if(e instanceof pr)e.target=e.target||n;else{var r=e;Fb(e=new pr(i,n),r)}if(r=!0,t)for(var a=t.length-1;0<=a;a--){var u=e.g=t[a];r=pm(u,i,!0,e)&&r}if(r=pm(u=e.g=n,i,!0,e)&&r,r=pm(u,i,!1,e)&&r,t)for(a=0;a<t.length;a++)r=pm(u=e.g=t[a],i,!1,e)&&r}function pm(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,a=0;a<e.length;++a){var u=e[a];if(u&&!u.fa&&u.capture==t){var f=u.listener,_=u.la||u.src;u.ia&&Lb(n.i,u),r=!1!==f.call(_,i)&&r}}return r&&!i.defaultPrevented}Hi(wi,Sl),wi.prototype[bs]=!0,wi.prototype.removeEventListener=function(n,e,t,i){Ub(this,n,e,t,i)},wi.prototype.N=function(){if(wi.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)zs(t[i]);delete n.g[e],n.h--}}this.J=null},wi.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},wi.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var X_=Ut.JSON.stringify;function IC(){var n=MC;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var jb,Hb=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new TC,n=>n.reset());class TC{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function SC(n){Ut.setTimeout(()=>{throw n},0)}function AC(n,e){jb||function kS(){var n=Ut.Promise.resolve(void 0);jb=function(){n.then(OS)}}(),$b||(jb(),$b=!0),MC.add(n,e)}var $b=!1,MC=new class DC{constructor(){this.h=this.g=null}add(e,t){const i=Hb.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function OS(){for(var n;n=IC();){try{n.h.call(n.g)}catch(t){SC(t)}var e=Hb;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}$b=!1}function J_(n,e){wi.call(this),this.h=n||1,this.g=e||Ut,this.j=kr(this.qb,this),this.l=Date.now()}function zb(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Gb(n,e,t){if("function"==typeof n)t&&(n=kr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=kr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ut.setTimeout(n,e||0)}function xC(n){n.g=Gb(()=>{n.g=null,n.i&&(n.i=!1,xC(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Hi(J_,wi),(Xe=J_.prototype).ga=!1,Xe.T=null,Xe.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ji(this,"tick"),this.ga&&(zb(this),this.start()))}},Xe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Xe.N=function(){J_.$.N.call(this),zb(this),delete this.g};class PS extends Sl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:xC(this)}N(){super.N(),this.g&&(Ut.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mm(n){Sl.call(this),this.h=n,this.g={}}Hi(mm,Sl);var RC=[];function kC(n,e,t,i){Array.isArray(t)||(t&&(RC[0]=t.toString()),t=RC);for(var r=0;r<t.length;r++){var a=ef(e,t[r],i||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function OC(n){Gs(n.g,function(e,t){this.g.hasOwnProperty(t)&&K_(e)},n),n.g={}}function ey(){this.g=!0}function rd(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function NC(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<r.length;u++)r[u]=""}}}return X_(t)}catch{return e}}(n,t)+(i?" "+i:"")})}mm.prototype.N=function(){mm.$.N.call(this),OC(this)},mm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ey.prototype.Ea=function(){this.g=!1},ey.prototype.info=function(){};var Oc={},qb=null;function gm(){return qb=qb||new wi}function Wb(n){pr.call(this,Oc.Ta,n)}function tf(n){const e=gm();Ji(e,new Wb(e))}function Zb(n,e){pr.call(this,Oc.STAT_EVENT,n),this.stat=e}function Or(n){const e=gm();Ji(e,new Zb(e,n))}function ty(n,e){pr.call(this,Oc.Ua,n),this.size=e}function jo(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ut.setTimeout(function(){n()},e)}Oc.Ta="serverreachability",Hi(Wb,pr),Oc.STAT_EVENT="statevent",Hi(Zb,pr),Oc.Ua="timingevent",Hi(ty,pr);var ny={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},FC={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Pc(){}function iy(){}Pc.prototype.h=null;var LC,ry={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function sy(){pr.call(this,"d")}function oy(){pr.call(this,"c")}function At(){}function _m(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new mm(this),this.P=VS,this.V=new J_(n=xb?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new VC}function VC(){this.i=null,this.g="",this.h=!1}Hi(sy,pr),Hi(oy,pr),Hi(At,Pc),At.prototype.g=function(){return new XMLHttpRequest},At.prototype.i=function(){return{}},LC=new At;var VS=45e3,Nc={},ay={};function nf(n,e,t){n.L=1,n.v=cy(Al(e)),n.s=t,n.S=!0,ym(n,null)}function ym(n,e){n.G=Date.now(),rf(n),n.A=Al(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),GS(t.i,"t",i),n.C=0,t=n.l.I,n.h=new VC,n.g=yy(n.l,t?e:null,!n.s),0<n.O&&(n.M=new PS(kr(n.Pa,n,n.g),n.O)),kC(n.U,n.g,"readystatechange",n.nb),e=n.I?po(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),tf(),function NS(n,e,t,i,r,a){n.info(function(){if(n.g)if(a)for(var u="",f=a.split("&"),_=0;_<f.length;_++){var w=f[_].split("=");if(1<w.length){var I=w[0];w=w[1];var M=I.split("_");u=2<=M.length&&"type"==M[1]?u+(I+"=")+w+"&":u+(I+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.W,n.s)}function ri(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function BS(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=BC(n,t),r==ay){4==e&&(n.o=4,Or(14),i=!1),rd(n.j,n.m,null,"[Incomplete Response]");break}if(r==Nc){n.o=4,Or(15),rd(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}rd(n.j,n.m,r,null),ly(n,r)}ri(n)&&r!=ay&&r!=Nc&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Or(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ca&&(n.ca=!0,(e=n.l).g==n&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),lw(e),e.L=!0,Or(11))):(rd(n.j,n.m,t,"[Invalid Chunked Response]"),Fc(n),sf(n))}function BC(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?ay:(t=Number(e.substring(t,i)),isNaN(t)?Nc:(i+=1)+t>e.length?ay:(e=e.substr(i,t),n.C=i+t,e))}function rf(n){n.Y=Date.now()+n.P,UC(n,n.P)}function UC(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=jo(kr(n.lb,n),e)}function vm(n){n.B&&(Ut.clearTimeout(n.B),n.B=null)}function sf(n){0==n.l.H||n.J||_y(n.l,n)}function Fc(n){vm(n);var e=n.M;e&&"function"==typeof e.ra&&e.ra(),n.M=null,zb(n.V),OC(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.ra())}function ly(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||dy(t.h,n)))if(!n.K&&dy(t.h,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;cf(t),my(t)}aw(t),Or(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.M&&0==t.A&&!t.v&&(t.v=jo(kr(t.ib,t),6e3));if(1>=KC(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else Ol(t,11)}else if((n.K||t.g==n)&&cf(t),!cm(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let w=r[e];if(t.V=w[0],w=w[1],2==t.H)if("c"==w[0]){t.J=w[1],t.oa=w[2];const I=w[3];null!=I&&(t.qa=I,t.j.info("VER="+t.qa));const M=w[4];null!=M&&(t.Ga=M,t.j.info("SVER="+t.Ga));const F=w[5];null!=F&&"number"==typeof F&&0<F&&(t.K=i=1.5*F,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const B=n.g;if(B){const W=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(W){var a=i.h;a.g||-1==W.indexOf("spdy")&&-1==W.indexOf("quic")&&-1==W.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(ad(a,a.h),a.h=null))}if(i.F){const ie=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;ie&&(i.Da=ie,Zn(i.G,i.F,ie))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-n.G,t.j.info("Handshake RTT: "+t.S+"ms"));var u=n;if((i=t).wa=uI(i,i.I?i.oa:null,i.Y),u.K){YC(i.h,u);var f=u,_=i.K;_&&f.setTimeout(_),f.B&&(vm(f),rf(f)),i.g=u}else ow(i);0<t.i.length&&gy(t)}else"stop"!=w[0]&&"close"!=w[0]||Ol(t,7);else 3==t.H&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?Ol(t,7):rw(t):"noop"!=w[0]&&t.l&&t.l.Aa(w),t.A=0)}tf()}catch{}}function HC(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Jh(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function HS(n){if(n.sa&&"function"==typeof n.sa)return n.sa();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Jh(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function US(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Jh(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,a=0;a<r;a++)e.call(void 0,i[a],t&&t[a],n)}(Xe=_m.prototype).setTimeout=function(n){this.P=n},Xe.nb=function(n){n=n.target;const e=this.M;e&&3==kl(n)?e.l():this.Pa(n)},Xe.Pa=function(n){try{if(n==this.g)e:{const I=kl(this.g);var e=this.g.Ia();if(this.g.da(),!(3>I)&&(3!=I||xb||this.g&&(this.h.h||this.g.ja()||nw(this.g)))){this.J||4!=I||7==e||tf(),vm(this);var t=this.g.da();this.aa=t;t:if(ri(this)){var i=nw(this.g);n="";var r=i.length,a=4==kl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Fc(this),sf(this);var u="";break t}this.h.i=new Ut.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:a&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==t,function FS(n,e,t,i,r,a,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+a+" "+u})}(this.j,this.u,this.A,this.m,this.W,I,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!cm(f)){var w=f;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,Or(12),Fc(this),sf(this);break e}rd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ly(this,t)}this.S?(BS(this,I,u),xb&&this.i&&3==I&&(kC(this.U,this.V,"tick",this.mb),this.V.start())):(rd(this.j,this.m,u,null),ly(this,u)),4==I&&Fc(this),this.i&&!this.J&&(4==I?_y(this.l,this):(this.i=!1,rf(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Or(12)):(this.o=0,Or(13)),Fc(this),sf(this)}}}catch{}},Xe.mb=function(){if(this.g){var n=kl(this.g),e=this.g.ja();this.C<e.length&&(vm(this),BS(this,n,e),this.i&&4!=n&&rf(this))}},Xe.cancel=function(){this.J=!0,Fc(this)},Xe.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function PC(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(tf(),Or(17)),Fc(this),this.o=2,sf(this)):UC(this,this.Y-n)};var af=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sd(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof sd){this.h=void 0!==e?e:n.h,od(this,n.j),this.s=n.s,this.g=n.g,bm(this,n.m),this.l=n.l,e=n.i;var t=new wm;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Kb(this,t),this.o=n.o}else n&&(t=String(n).match(af))?(this.h=!!e,od(this,t[1]||"",!0),this.s=Ml(t[2]||""),this.g=Ml(t[3]||"",!0),bm(this,t[4]),this.l=Ml(t[5]||"",!0),Kb(this,t[6]||"",!0),this.o=Ml(t[7]||"")):(this.h=!!e,this.i=new wm(null,this.h))}function Al(n){return new sd(n)}function od(n,e,t){n.j=t?Ml(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function bm(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Kb(n,e,t){e instanceof wm?(n.i=e,function dk(n,e){e&&!n.j&&(Rl(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(qC(this,i),GS(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=xl(e,zC)),n.i=new wm(e,n.h))}function Zn(n,e,t){n.i.set(e,t)}function cy(n){return Zn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ml(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function xl(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,$S),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function $S(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}sd.prototype.toString=function(){var n=[],e=this.j;e&&n.push(xl(e,jC,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(xl(e,jC,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(xl(t,"/"==t.charAt(0)?$C:zS,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",xl(t,GC)),n.join("")};var jC=/[#\/\?@]/g,zS=/[#\?:]/g,$C=/[#\?]/g,zC=/[#\?@]/g,GC=/#/g;function wm(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Rl(n){n.g||(n.g=new Map,n.h=0,n.i&&function jS(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var a=n[t].substring(0,i);r=n[t].substring(i+1)}else a=n[t];e(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function qC(n,e){Rl(n),e=Em(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function WC(n,e){return Rl(n),e=Em(n,e),n.g.has(e)}function GS(n,e,t){qC(n,e),0<t.length&&(n.i=null,n.g.set(Em(n,e),G_(t)),n.h+=t.length)}function Em(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Yb(n){this.l=n||uy,n=Ut.PerformanceNavigationTiming?0<(n=Ut.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ut.g&&Ut.g.Ka&&Ut.g.Ka()&&Ut.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Xe=wm.prototype).add=function(n,e){Rl(this),this.i=null,n=Em(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Xe.forEach=function(n,e){Rl(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},Xe.sa=function(){Rl(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let a=0;a<r.length;a++)t.push(e[i])}return t},Xe.Z=function(n){Rl(this);let e=[];if("string"==typeof n)WC(this,n)&&(e=e.concat(this.g.get(Em(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Xe.set=function(n,e){return Rl(this),this.i=null,WC(this,n=Em(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Xe.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Xe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const a=encodeURIComponent(String(i)),u=this.Z(i);for(i=0;i<u.length;i++){var r=a;""!==u[i]&&(r+="="+encodeURIComponent(String(u[i]))),n.push(r)}}return this.i=n.join("&")};var uy=10;function ZC(n){return!!n.h||!!n.g&&n.g.size>=n.j}function KC(n){return n.h?1:n.g?n.g.size:0}function dy(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function ad(n,e){n.g?n.g.add(e):n.h=e}function YC(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function QC(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return G_(n.i)}function Qb(){}function qS(){this.g=new Qb}function WS(n,e,t){const i=t||"";try{HC(n,function(r,a){let u=r;nd(r)&&(u=X_(r)),e.push(i+a+"="+encodeURIComponent(u))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function hy(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Cm(n){this.l=n.fc||null,this.j=n.ob||!1}function Lc(n,e){wi.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Xb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Yb.prototype.cancel=function(){if(this.i=QC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Qb.prototype.stringify=function(n){return Ut.JSON.stringify(n,void 0)},Qb.prototype.parse=function(n){return Ut.JSON.parse(n,void 0)},Hi(Cm,Pc),Cm.prototype.g=function(){return new Lc(this.l,this.j)},Cm.prototype.i=function(n){return function(){return n}}({}),Hi(Lc,wi);var Xb=0;function Jb(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Im(n){n.readyState=4,n.l=null,n.j=null,n.A=null,lf(n)}function lf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Xe=Lc.prototype).open=function(n,e){if(this.readyState!=Xb)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,lf(this)},Xe.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Ut).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Xe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Im(this)),this.readyState=Xb},Xe.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,lf(this)),this.g&&(this.readyState=3,lf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ut.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Jb(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Xe.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Im(this):lf(this),3==this.readyState&&Jb(this)}},Xe.Za=function(n){this.g&&(this.response=this.responseText=n,Im(this))},Xe.Ya=function(n){this.g&&(this.response=n,Im(this))},Xe.ka=function(){this.g&&Im(this)},Xe.setRequestHeader=function(n,e){this.v.append(n,e)},Xe.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Xe.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Lc.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var ZS=Ut.JSON.parse;function si(n){wi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=JC,this.L=this.M=!1}Hi(si,wi);var JC="",ew=/^https?$/i,KS=["POST","PUT"];function tw(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,tI(n),fy(n)}function tI(n){n.F||(n.F=!0,Ji(n,"complete"),Ji(n,"error"))}function nI(n){if(n.h&&typeof om<"u"&&(!n.C[1]||4!=kl(n)||2!=n.da()))if(n.v&&4==kl(n))Gb(n.La,0,n);else if(Ji(n,"readystatechange"),4==kl(n)){n.h=!1;try{const f=n.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===f){var r=String(n.I).match(af)[1]||null;if(!r&&Ut.self&&Ut.self.location){var a=Ut.self.location.protocol;r=a.substr(0,a.length-1)}i=!ew.test(r?r.toLowerCase():"")}t=i}if(t)Ji(n,"complete"),Ji(n,"success");else{n.m=6;try{var u=2<kl(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.da()+"]",tI(n)}}finally{fy(n)}}}function fy(n,e){if(n.g){py(n);const t=n.g,i=n.C[0]?am:null;n.g=null,n.C=null,e||Ji(n,"ready");try{t.onreadystatechange=i}catch{}}}function py(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Ut.clearTimeout(n.A),n.A=null)}function kl(n){return n.g?n.g.readyState:0}function nw(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case JC:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function iI(n){let e="";return Gs(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function iw(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=iI(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Zn(n,e,t))}function Dm(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function rI(n){this.Ga=0,this.i=[],this.j=new ey,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Dm("failFast",!1,n),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Dm("baseRetryDelayMs",5e3,n),this.hb=Dm("retryDelaySeedMs",1e4,n),this.eb=Dm("forwardChannelMaxRetries",2,n),this.xa=Dm("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.K=void 0,this.I=n&&n.supportsCrossDomainXhr||!1,this.J="",this.h=new Yb(n&&n.concurrentRequestLimit),this.Ja=new qS,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.j.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function rw(n){if(sI(n),3==n.H){var e=n.W++,t=Al(n.G);Zn(t,"SID",n.J),Zn(t,"RID",e),Zn(t,"TYPE","terminate"),Tm(n,t),(e=new _m(n,n.j,e,void 0)).L=2,e.v=cy(Al(t)),t=!1,Ut.navigator&&Ut.navigator.sendBeacon&&(t=Ut.navigator.sendBeacon(e.v.toString(),"")),!t&&Ut.Image&&((new Image).src=e.v,t=!0),t||(e.g=yy(e.l,null),e.g.ha(e.v)),e.G=Date.now(),rf(e)}cI(n)}function my(n){n.g&&(lw(n),n.g.cancel(),n.g=null)}function sI(n){my(n),n.u&&(Ut.clearTimeout(n.u),n.u=null),cf(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Ut.clearTimeout(n.m),n.m=null)}function gy(n){ZC(n.h)||n.m||(n.m=!0,AC(n.Na,n),n.C=0)}function sw(n,e){var t;t=e?e.m:n.W++;const i=Al(n.G);Zn(i,"SID",n.J),Zn(i,"RID",t),Zn(i,"AID",n.V),Tm(n,i),n.o&&n.s&&iw(i,n.o,n.s),t=new _m(n,n.j,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.i=e.F.concat(n.i)),e=aI(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),ad(n.h,t),nf(t,i,e)}function Tm(n,e){n.ma&&Gs(n.ma,function(t,i){Zn(e,i,t)}),n.l&&HC({},function(t,i){Zn(e,i,t)})}function aI(n,e,t){t=Math.min(n.i.length,t);var i=n.l?kr(n.l.Va,n.l,n):null;e:{var r=n.i;let a=-1;for(;;){const u=["count="+t];-1==a?0<t?(a=r[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);let f=!0;for(let _=0;_<t;_++){let w=r[_].h;const I=r[_].g;if(w-=a,0>w)a=Math.max(0,r[_].h-100),f=!1;else try{WS(I,u,"req"+w+"_")}catch{i&&i(I)}}if(f){i=u.join("&");break e}}}return n=n.i.splice(0,t),e.F=n,i}function ow(n){n.g||n.u||(n.ba=1,AC(n.Ma,n),n.A=0)}function aw(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=jo(kr(n.Ma,n),cw(n,n.A)),n.A++,0))}function lw(n){null!=n.B&&(Ut.clearTimeout(n.B),n.B=null)}function lI(n){n.g=new _m(n,n.j,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Al(n.wa);Zn(e,"RID","rpc"),Zn(e,"SID",n.J),Zn(e,"CI",n.M?"0":"1"),Zn(e,"AID",n.V),Zn(e,"TYPE","xmlhttp"),Tm(n,e),n.o&&n.s&&iw(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.oa,t.L=1,t.v=cy(Al(e)),t.s=null,t.S=!0,ym(t,n)}function cf(n){null!=n.v&&(Ut.clearTimeout(n.v),n.v=null)}function _y(n,e){var t=null;if(n.g==e){cf(n),lw(n),n.g=null;var i=2}else{if(!dy(n.h,e))return;t=e.F,YC(n.h,e),i=1}if(0!=n.H)if(n.ta=e.aa,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;Ji(i=gm(),new ty(i,t)),gy(n)}else ow(n);else if(3==(r=e.o)||0==r&&0<n.ta||!(1==i&&function oI(n,e){return!(KC(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.F.concat(n.i),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=jo(kr(n.Na,n,e),cw(n,n.C)),n.C++,0)))}(n,e)||2==i&&aw(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),r){case 1:Ol(n,5);break;case 4:Ol(n,10);break;case 3:Ol(n,6);break;default:Ol(n,2)}}function cw(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.l||(t*=2),t*e}function Ol(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=kr(n.pb,n);t||(t=new sd("//www.google.com/images/cleardot.gif"),Ut.location&&"http"==Ut.location.protocol||od(t,"https"),cy(t)),function XC(n,e){const t=new ey;if(Ut.Image){const i=new Image;i.onload=lm(hy,t,i,"TestLoadImage: loaded",!0,e),i.onerror=lm(hy,t,i,"TestLoadImage: error",!1,e),i.onabort=lm(hy,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=lm(hy,t,i,"TestLoadImage: timeout",!1,e),Ut.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Or(2);n.H=0,n.l&&n.l.za(e),cI(n),sI(n)}function cI(n){if(n.H=0,n.pa=[],n.l){const e=QC(n.h);(0!=e.length||0!=n.i.length)&&(Ib(n.pa,e),Ib(n.pa,n.i),n.h.i.length=0,G_(n.i),n.i.length=0),n.l.ya()}}function uI(n,e,t){var i=t instanceof sd?Al(t):new sd(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),bm(i,i.m);else{var r=Ut.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var a=new sd(null,void 0);i&&od(a,i),e&&(a.g=e),r&&bm(a,r),t&&(a.l=t),i=a}return e=n.Da,(t=n.F)&&e&&Zn(i,t,e),Zn(i,"VER",n.qa),Tm(n,i),i}function yy(n,e,t){if(e&&!n.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new si(t&&n.Ha&&!n.va?new Cm({ob:!0}):n.va)).Oa(n.I),e}function dI(){}function Sm(){if(Jn&&!(10<=Number(uk)))throw Error("Environmental error: no available transport.")}function er(n,e){wi.call(this),this.g=new rI(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!cm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!cm(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Am(this)}function uw(n){sy.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function hI(){oy.call(this),this.status=1}function Am(n){this.g=n}function qs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function dw(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var a=n.g[3],u=(e=n.g[0])+(a^(t=n.g[1])&((r=n.g[2])^a))+i[0]+3614090360&4294967295;u=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=t+(u<<7&4294967295|u>>>25))+((u=a+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|u>>>20))+((u=r+(t^a&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^r&(a^e))+i[3]+3250441966&4294967295)<<22&4294967295|u>>>10))+((u=e+(a^t&(r^a))+i[4]+4118548399&4294967295)<<7&4294967295|u>>>25))+((u=a+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|u>>>20))+((u=r+(t^a&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^r&(a^e))+i[7]+4249261313&4294967295)<<22&4294967295|u>>>10))+((u=e+(a^t&(r^a))+i[8]+1770035416&4294967295)<<7&4294967295|u>>>25))+((u=a+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|u>>>20))+((u=r+(t^a&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^r&(a^e))+i[11]+2304563134&4294967295)<<22&4294967295|u>>>10))+((u=e+(a^t&(r^a))+i[12]+1804603682&4294967295)<<7&4294967295|u>>>25))+((u=a+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|u>>>20))+((u=r+(t^a&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^r&(a^e))+i[15]+1236535329&4294967295)<<22&4294967295|u>>>10))+((u=e+(r^a&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|u>>>27))+((u=a+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|u>>>23))+((u=r+(e^t&(a^e))+i[11]+643717713&4294967295)<<14&4294967295|u>>>18))+((u=t+(a^e&(r^a))+i[0]+3921069994&4294967295)<<20&4294967295|u>>>12))+((u=e+(r^a&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|u>>>27))+((u=a+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|u>>>23))+((u=r+(e^t&(a^e))+i[15]+3634488961&4294967295)<<14&4294967295|u>>>18))+((u=t+(a^e&(r^a))+i[4]+3889429448&4294967295)<<20&4294967295|u>>>12))+((u=e+(r^a&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|u>>>27))+((u=a+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|u>>>23))+((u=r+(e^t&(a^e))+i[3]+4107603335&4294967295)<<14&4294967295|u>>>18))+((u=t+(a^e&(r^a))+i[8]+1163531501&4294967295)<<20&4294967295|u>>>12))+((u=e+(r^a&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|u>>>27))+((u=a+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|u>>>23))+((u=r+(e^t&(a^e))+i[7]+1735328473&4294967295)<<14&4294967295|u>>>18))+((u=t+(a^e&(r^a))+i[12]+2368359562&4294967295)<<20&4294967295|u>>>12))+((u=e+(t^r^a)+i[5]+4294588738&4294967295)<<4&4294967295|u>>>28))+((u=a+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|u>>>21))+((u=r+(a^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|u>>>16))+((u=t+(r^a^e)+i[14]+4259657740&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^r^a)+i[1]+2763975236&4294967295)<<4&4294967295|u>>>28))+((u=a+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|u>>>21))+((u=r+(a^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|u>>>16))+((u=t+(r^a^e)+i[10]+3200236656&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^r^a)+i[13]+681279174&4294967295)<<4&4294967295|u>>>28))+((u=a+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|u>>>21))+((u=r+(a^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|u>>>16))+((u=t+(r^a^e)+i[6]+76029189&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^r^a)+i[9]+3654602809&4294967295)<<4&4294967295|u>>>28))+((u=a+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|u>>>21))+((u=r+(a^e^t)+i[15]+530742520&4294967295)<<16&4294967295|u>>>16))+((u=t+(r^a^e)+i[2]+3299628645&4294967295)<<23&4294967295|u>>>9))+((u=e+(r^(t|~a))+i[0]+4096336452&4294967295)<<6&4294967295|u>>>26))+((u=a+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|u>>>22))+((u=r+(e^(a|~t))+i[14]+2878612391&4294967295)<<15&4294967295|u>>>17))+((u=t+(a^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|u>>>11))+((u=e+(r^(t|~a))+i[12]+1700485571&4294967295)<<6&4294967295|u>>>26))+((u=a+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|u>>>22))+((u=r+(e^(a|~t))+i[10]+4293915773&4294967295)<<15&4294967295|u>>>17))+((u=t+(a^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|u>>>11))+((u=e+(r^(t|~a))+i[8]+1873313359&4294967295)<<6&4294967295|u>>>26))+((u=a+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|u>>>22))+((u=r+(e^(a|~t))+i[6]+2734768916&4294967295)<<15&4294967295|u>>>17))+((u=t+(a^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|u>>>11))+((a=(e=t+((u=e+(r^(t|~a))+i[4]+4149444226&4294967295)<<6&4294967295|u>>>26))+((u=a+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|u>>>22))^((r=a+((u=r+(e^(a|~t))+i[2]+718787259&4294967295)<<15&4294967295|u>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(u<<21&4294967295|u>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+a&4294967295}function wn(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var a=0|n[r];i&&a==e||(t[r]=a,i=!1)}this.g=t}(Xe=si.prototype).Oa=function(n){this.M=n},Xe.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():LC.g(),this.C=function LS(n){return n.h||(n.h=n.i())}(this.u?this.u:LC),this.g.onreadystatechange=kr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(a){return void tw(this,a)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const a of i.keys())t.set(a,i.get(a))}i=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),r=Ut.FormData&&n instanceof Ut.FormData,!(0<=Cb(KS,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,u]of t)this.g.setRequestHeader(a,u);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{py(this),0<this.B&&((this.L=function eI(n){return Jn&&function vC(){return Ab(MS,9,function(){let n=0;const e=Db(String(um)).split("."),t=Db("9").split("."),i=Math.max(e.length,t.length);for(let u=0;0==n&&u<i;u++){var r=e[u]||"",a=t[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==r[0].length&&0==a[0].length)break;n=q_(0==r[1].length?0:parseInt(r[1],10),0==a[1].length?0:parseInt(a[1],10))||q_(0==r[2].length,0==a[2].length)||q_(r[2],a[2]),r=r[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=kr(this.ua,this)):this.A=Gb(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){tw(this,a)}},Xe.ua=function(){typeof om<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ji(this,"timeout"),this.abort(8))},Xe.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ji(this,"complete"),Ji(this,"abort"),fy(this))},Xe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),fy(this,!0)),si.$.N.call(this)},Xe.La=function(){this.s||(this.G||this.v||this.l?nI(this):this.kb())},Xe.kb=function(){nI(this)},Xe.da=function(){try{return 2<kl(this)?this.g.status:-1}catch{return-1}},Xe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Xe.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),ZS(e)}},Xe.Ia=function(){return this.m},Xe.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Xe=rI.prototype).qa=8,Xe.H=1,Xe.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new _m(this,this.j,n,void 0);let a=this.s;if(this.U&&(a?(a=po(a),Fb(a,this.U)):a=this.U),null!==this.o||this.O||(r.I=a,a=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=aI(this,r,e),Zn(t=Al(this.G),"RID",n),Zn(t,"CVER",22),this.F&&Zn(t,"X-HTTP-Session-Id",this.F),Tm(this,t),a&&(this.O?e="headers="+encodeURIComponent(String(iI(a)))+"&"+e:this.o&&iw(t,this.o,a)),ad(this.h,r),this.bb&&Zn(t,"TYPE","init"),this.P?(Zn(t,"$req",e),Zn(t,"SID","null"),r.ba=!0,nf(r,t,null)):nf(r,t,e),this.H=2}}else 3==this.H&&(n?sw(this,n):0==this.i.length||ZC(this.h)||sw(this))},Xe.Ma=function(){if(this.u=null,lI(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var n=2*this.S;this.j.info("BP detection timer enabled: "+n),this.B=jo(kr(this.jb,this),n)}},Xe.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Or(10),my(this),lI(this))},Xe.ib=function(){null!=this.v&&(this.v=null,my(this),aw(this),Or(19))},Xe.pb=function(n){n?(this.j.info("Successfully pinged google.com"),Or(2)):(this.j.info("Failed to ping google.com"),Or(1))},(Xe=dI.prototype).Ba=function(){},Xe.Aa=function(){},Xe.za=function(){},Xe.ya=function(){},Xe.Va=function(){},Sm.prototype.g=function(n,e){return new er(n,e)},Hi(er,wi),er.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var n=this.g,e=this.l,t=this.h||void 0;Or(0),n.Y=e,n.ma=t||{},n.M=n.aa,n.G=uI(n,null,n.Y),gy(n)},er.prototype.close=function(){rw(this.g)},er.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=X_(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.fb++,n)),3==e.H&&gy(e)},er.prototype.N=function(){this.g.l=null,delete this.j,rw(this.g),delete this.g,er.$.N.call(this)},Hi(uw,sy),Hi(hI,oy),Hi(Am,dI),Am.prototype.Ba=function(){Ji(this.g,"a")},Am.prototype.Aa=function(n){Ji(this.g,new uw(n))},Am.prototype.za=function(n){Ji(this.g,new hI)},Am.prototype.ya=function(){Ji(this.g,"b")},Hi(qs,function fI(){this.blockSize=-1}),qs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},qs.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,a=0;a<e;){if(0==r)for(;a<=t;)dw(this,n,a),a+=this.blockSize;if("string"==typeof n){for(;a<e;)if(i[r++]=n.charCodeAt(a++),r==this.blockSize){dw(this,i),r=0;break}}else for(;a<e;)if(i[r++]=n[a++],r==this.blockSize){dw(this,i),r=0;break}}this.h=r,this.i+=e},qs.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var YS={};function vy(n){return-128<=n&&128>n?Ab(YS,n,function(e){return new wn([0|e],0>e?-1:0)}):new wn([0|n],0>n?-1:0)}function mo(n){if(isNaN(n)||!isFinite(n))return ld;if(0>n)return mr(mo(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=by;return new wn(e,0)}var by=4294967296,ld=vy(0),wy=vy(1),pI=vy(16777216);function Pl(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function go(n){return-1==n.h}function mr(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new wn(t,~n.h).add(wy)}function Mm(n,e){return n.add(mr(e))}function fw(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function uf(n,e){this.g=n,this.h=e}function Ey(n,e){if(Pl(e))throw Error("division by zero");if(Pl(n))return new uf(ld,ld);if(go(n))return e=Ey(mr(n),e),new uf(mr(e.g),mr(e.h));if(go(e))return e=Ey(n,mr(e)),new uf(mr(e.g),e.h);if(30<n.g.length){if(go(n)||go(e))throw Error("slowDivide_ only works with positive integers.");for(var t=wy,i=e;0>=i.X(n);)t=mI(t),i=mI(i);var r=xm(t,1),a=xm(i,1);for(i=xm(i,2),t=xm(t,2);!Pl(i);){var u=a.add(i);0>=u.X(n)&&(r=r.add(t),a=u),i=xm(i,1),t=xm(t,1)}return e=Mm(n,r.R(e)),new uf(r,e)}for(r=ld;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),u=(a=mo(t)).R(e);go(u)||0<u.X(n);)u=(a=mo(t-=i)).R(e);Pl(a)&&(a=wy),r=r.add(a),n=Mm(n,u)}return new uf(r,n)}function mI(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new wn(t,n.h)}function xm(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],a=0;a<i;a++)r[a]=0<e?n.D(a+t)>>>e|n.D(a+t+1)<<32-e:n.D(a+t);return new wn(r,n.h)}(Xe=wn.prototype).ea=function(){if(go(this))return-mr(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:by+i)*e,e*=by}return n},Xe.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Pl(this))return"0";if(go(this))return"-"+mr(this).toString(n);for(var e=mo(Math.pow(n,6)),t=this,i="";;){var r=Ey(t,e).g,a=((0<(t=Mm(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Pl(t=r))return a+i;for(;6>a.length;)a="0"+a;i=a+i}},Xe.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Xe.X=function(n){return go(n=Mm(this,n))?-1:Pl(n)?0:1},Xe.abs=function(){return go(this)?mr(this):this},Xe.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var a=i+(65535&this.D(r))+(65535&n.D(r)),u=(a>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=u>>>16,t[r]=(u&=65535)<<16|(a&=65535)}return new wn(t,-2147483648&t[t.length-1]?-1:0)},Xe.R=function(n){if(Pl(this)||Pl(n))return ld;if(go(this))return go(n)?mr(this).R(mr(n)):mr(mr(this).R(n));if(go(n))return mr(this.R(mr(n)));if(0>this.X(pI)&&0>n.X(pI))return mo(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var a=this.D(i)>>>16,u=65535&this.D(i),f=n.D(r)>>>16,_=65535&n.D(r);t[2*i+2*r]+=u*_,fw(t,2*i+2*r),t[2*i+2*r+1]+=a*_,fw(t,2*i+2*r+1),t[2*i+2*r+1]+=u*f,fw(t,2*i+2*r+1),t[2*i+2*r+2]+=a*f,fw(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new wn(t,0)},Xe.gb=function(n){return Ey(this,n).h},Xe.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new wn(t,this.h&n.h)},Xe.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new wn(t,this.h|n.h)},Xe.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new wn(t,this.h^n.h)},Sm.prototype.createWebChannel=Sm.prototype.g,er.prototype.send=er.prototype.u,er.prototype.open=er.prototype.m,er.prototype.close=er.prototype.close,ny.NO_ERROR=0,ny.TIMEOUT=8,ny.HTTP_ERROR=6,FC.COMPLETE="complete",iy.EventType=ry,ry.OPEN="a",ry.CLOSE="b",ry.ERROR="c",ry.MESSAGE="d",wi.prototype.listen=wi.prototype.O,si.prototype.listenOnce=si.prototype.P,si.prototype.getLastError=si.prototype.Sa,si.prototype.getLastErrorCode=si.prototype.Ia,si.prototype.getStatus=si.prototype.da,si.prototype.getResponseJson=si.prototype.Wa,si.prototype.getResponseText=si.prototype.ja,si.prototype.send=si.prototype.ha,si.prototype.setWithCredentials=si.prototype.Oa,qs.prototype.digest=qs.prototype.l,qs.prototype.reset=qs.prototype.reset,qs.prototype.update=qs.prototype.j,wn.prototype.add=wn.prototype.add,wn.prototype.multiply=wn.prototype.R,wn.prototype.modulo=wn.prototype.gb,wn.prototype.compare=wn.prototype.X,wn.prototype.toNumber=wn.prototype.ea,wn.prototype.toString=wn.prototype.toString,wn.prototype.getBits=wn.prototype.D,wn.fromNumber=mo,wn.fromString=function hw(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return mr(hw(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=mo(Math.pow(e,8)),i=ld,r=0;r<n.length;r+=8){var a=Math.min(8,n.length-r),u=parseInt(n.substring(r,r+a),e);8>a?(a=mo(Math.pow(e,a)),i=i.R(a).add(mo(u))):i=(i=i.R(t)).add(mo(u))}return i};var fk=fo.createWebChannelTransport=function(){return new Sm},QS=fo.getStatEventTarget=function(){return gm()},pw=fo.ErrorCode=ny,XS=fo.EventType=FC,gI=fo.Event=Oc,_I=fo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},JS=fo.FetchXmlHttpFactory=Cm,Cy=fo.WebChannel=iy,eA=fo.XhrIo=si,tA=fo.Md5=qs,df=fo.Integer=wn;const yI="@firebase/firestore";class tr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tr.UNAUTHENTICATED=new tr(null),tr.GOOGLE_CREDENTIALS=new tr("google-credentials-uid"),tr.FIRST_PARTY=new tr("first-party-uid"),tr.MOCK_USER=new tr("mock-user");let Aa="9.21.0";const Nl=new Rc.Yd("@firebase/firestore");function Iy(){return Nl.logLevel}function Fe(n,...e){if(Nl.logLevel<=Rc.in.DEBUG){const t=e.map(mw);Nl.debug(`Firestore (${Aa}): ${n}`,...t)}}function gi(n,...e){if(Nl.logLevel<=Rc.in.ERROR){const t=e.map(mw);Nl.error(`Firestore (${Aa}): ${n}`,...t)}}function Ws(n,...e){if(Nl.logLevel<=Rc.in.WARN){const t=e.map(mw);Nl.warn(`Firestore (${Aa}): ${n}`,...t)}}function mw(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ot(n="Unexpected state"){const e=`FIRESTORE (${Aa}) INTERNAL ASSERTION FAILED: `+n;throw gi(e),new Error(e)}function vt(n,e){n||ot()}function Qe(n,e){return n}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends an.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class oi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class bI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(tr.UNAUTHENTICATED))}shutdown(){}}class Ma{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class iA{constructor(e){this.t=e,this.currentUser=tr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const a=w=>this.i!==r?(r=this.i,t(w)):Promise.resolve();let u=new oi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new oi,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const w=u;e.enqueueRetryable((0,ye.Z)(function*(){yield w.promise,yield a(i.currentUser)}))},_=w=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(w=>_(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?_(w):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new oi)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(vt("string"==typeof i.accessToken),new bI(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return vt(null===e||"string"==typeof e),new tr(e)}}class Dy{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=tr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Rm{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new Dy(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(tr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rA{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=a=>{null!=a.error&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.T;return this.T=a.token,Fe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const r=a=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?r(a):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(vt("string"==typeof t.token),this.T=t.token,new wI(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ty(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class km{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=Ty(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%e.length))}return i}}function Ht(n,e){return n<e?-1:n>e?1:0}function hf(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function _w(n){return n+"\0"}class Kn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ke(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ke(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ke(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ke(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Kn.fromMillis(Date.now())}static fromDate(e){return Kn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Kn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ht(this.nanoseconds,e.nanoseconds):Ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class gt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new gt(e)}static min(){return new gt(new Kn(0,0))}static max(){return new gt(new Kn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ff{constructor(e,t,i){void 0===t?t=0:t>e.length&&ot(),void 0===i?i=e.length-t:i>e.length-t&&ot(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===ff.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ff?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=e.get(r),u=t.get(r);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class cn extends ff{construct(e,t,i){return new cn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ke(ce.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new cn(t)}static emptyPath(){return new cn([])}}const sA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ei extends ff{construct(e,t,i){return new Ei(e,t,i)}static isValidIdentifier(e){return sA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ei.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ei(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(0===i.length)throw new ke(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;r<e.length;){const f=e[r];if("\\"===f){if(r+1===e.length)throw new ke(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new ke(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=_,r+=2}else"`"===f?(u=!u,r++):"."!==f||u?(i+=f,r++):(a(),r++)}if(a(),u)throw new ke(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ei(t)}static emptyPath(){return new Ei([])}}class Ke{constructor(e){this.path=e}static fromPath(e){return new Ke(cn.fromString(e))}static fromName(e){return new Ke(cn.fromString(e).popFirst(5))}static empty(){return new Ke(cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===cn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return cn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ke(new cn(e.slice()))}}class pf{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function Sy(n){return n.fields.find(e=>2===e.kind)}function Fl(n){return n.fields.filter(e=>2!==e.kind)}pf.UNKNOWN_ID=-1;class Ay{constructor(e,t){this.fieldPath=e,this.kind=t}}class Om{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Om(0,Jr.min())}}function EI(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=gt.fromTimestamp(1e9===i?new Kn(t+1,0):new Kn(t,i));return new Jr(r,Ke.empty(),e)}function vw(n){return new Jr(n.readTime,n.key,-1)}class Jr{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Jr(gt.min(),Ke.empty(),-1)}static max(){return new Jr(gt.max(),Ke.empty(),-1)}}function My(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ke.comparator(n.documentKey,e.documentKey),0!==t?t:Ht(n.largestBatchId,e.largestBatchId))}const bw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ww{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ll(n){return Ew.apply(this,arguments)}function Ew(){return Ew=(0,ye.Z)(function*(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==bw)throw n;Fe("LocalStore","Unexpectedly lost primary lease")}),Ew.apply(this,arguments)}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):se.reject(t)}static resolve(e){return new se((t,i)=>{t(e)})}static reject(e){return new se((t,i)=>{i(e)})}static waitFor(e){return new se((t,i)=>{let r=0,a=0,u=!1;e.forEach(f=>{++r,f.next(()=>{++a,u&&a===r&&t()},_=>i(_))}),u=!0,a===r&&t()})}static or(e){let t=se.resolve(!1);for(const i of e)t=t.next(r=>r?se.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,a)=>{i.push(t.call(this,r,a))}),this.waitFor(i)}static mapArray(e,t){return new se((i,r)=>{const a=e.length,u=new Array(a);let f=0;for(let _=0;_<a;_++){const w=_;t(e[w]).next(I=>{u[w]=I,++f,f===a&&i(u)},I=>r(I))}})}static doWhile(e,t){return new se((i,r)=>{const a=()=>{!0===e()?t().next(()=>{a()},r):i()};a()})}}class Pm{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.R=new oi,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{t.error?this.R.reject(new Nm(e,t.error)):this.R.resolve()},this.transaction.onerror=i=>{const r=DI(i.target.error);this.R.reject(new Nm(e,r))}}static open(e,t,i,r){try{return new Pm(t,e.transaction(r,i))}catch(a){throw new Nm(t,a)}}get v(){return this.R.promise}abort(e){e&&this.R.reject(e),this.aborted||(Fe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new mf(t)}}class $o{constructor(e,t,i){this.name=e,this.version=t,this.V=i,12.2===$o.S((0,an.z$)())&&gi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Fe("SimpleDb","Removing database:",e),cd(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,an.hl)())return!1;if($o.C())return!0;const e=(0,an.z$)(),t=$o.S(e),i=0<t&&t<10,r=$o.N(e),a=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||a)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(e){var t=this;return(0,ye.Z)(function*(){return t.db||(Fe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=u=>{i(u.target.result)},a.onblocked=()=>{r(new Nm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const f=u.target.error;r("VersionError"===f.name?new ke(ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new ke(ce.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Nm(e,f))},a.onupgradeneeded=u=>{Fe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.V.$(u.target.result,a.transaction,u.oldVersion,t.version).next(()=>{Fe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=i=>t.F(i)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var a=this;return(0,ye.Z)(function*(){const u="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.O(e);const _=Pm.open(a.db,e,u?"readonly":"readwrite",i),w=r(_).next(I=>(_.P(),I)).catch(I=>(_.abort(I),se.reject(I))).toPromise();return w.catch(()=>{}),yield _.v,w}catch(_){const w=_,I="FirebaseError"!==w.name&&f<3;if(Fe("SimpleDb","Transaction failed with error:",w.message,"Retrying:",I),a.close(),!I)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class CI{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return cd(this.L.delete())}}class Nm extends ke{constructor(e,t){super(ce.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function _i(n){return"IndexedDbTransactionError"===n.name}class mf{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Fe("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Fe("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),cd(i)}add(e){return Fe("SimpleDb","ADD",this.store.name,e,e),cd(this.store.add(e))}get(e){return cd(this.store.get(e)).next(t=>(void 0===t&&(t=null),Fe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Fe("SimpleDb","DELETE",this.store.name,e),cd(this.store.delete(e))}count(){return Fe("SimpleDb","COUNT",this.store.name),cd(this.store.count())}j(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),a=[];return this.W(r,(u,f)=>{a.push(f)}).next(()=>a)}{const r=this.store.getAll(i.range);return new se((a,u)=>{r.onerror=f=>{u(f.target.error)},r.onsuccess=f=>{a(f.target.result)}})}}H(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new se((r,a)=>{i.onerror=u=>{a(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}J(e,t){Fe("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const r=this.cursor(i);return this.W(r,(a,u,f)=>f.delete())}X(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.W(r,t)}Z(e){const t=this.cursor({});return new se((i,r)=>{t.onerror=a=>{const u=DI(a.target.error);r(u)},t.onsuccess=a=>{const u=a.target.result;u?e(u.primaryKey,u.value).next(f=>{f?u.continue():i()}):i()}})}W(e,t){const i=[];return new se((r,a)=>{e.onerror=u=>{a(u.target.error)},e.onsuccess=u=>{const f=u.target.result;if(!f)return void r();const _=new CI(f),w=t(f.primaryKey,f.value,_);if(w instanceof se){const I=w.catch(M=>(_.done(),se.reject(M)));i.push(I)}_.isDone?r():null===_.K?f.continue():f.continue(_.K)}}).next(()=>se.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function cd(n){return new se((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=DI(i.target.error);t(r)}})}let II=!1;function DI(n){const e=$o.S((0,an.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new ke("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return II||(II=!0,setTimeout(()=>{throw i},0)),i}}return n}class mk{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Fe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ye.Z)(function*(){t.task=null;try{Fe("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(i){_i(i)?Fe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Ll(i)}yield t.et(6e4)}))}}class TI{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,ye.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.st(i,e))})()}st(e,t){const i=new Set;let r=t,a=!0;return se.doWhile(()=>!0===a&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!i.has(u))return Fe("IndexBackiller",`Processing collection: ${u}`),this.it(e,u,r).next(f=>{r-=f,i.add(u)});a=!1})).next(()=>t-r)}it(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(a=>{const u=a.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.rt(r,a)).next(f=>(Fe("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>u.size)}))}rt(e,t){let i=e;return t.changes.forEach((r,a)=>{const u=vw(a);My(u,i)>0&&(i=u)}),new Jr(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let ws=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Vl(n){return null==n}function Fm(n){return 0===n&&1/n==-1/0}function xy(n){return"number"==typeof n&&Number.isInteger(n)&&!Fm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Pr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=AI(e)),e=SI(n.get(t),e);return AI(e)}function SI(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function AI(n){return n+"\x01\x01"}function xa(n){const e=n.length;if(vt(e>=2),2===e)return vt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),cn.emptyPath();const t=e-2,i=[];let r="";for(let a=0;a<e;){const u=n.indexOf("\x01",a);switch((u<0||u>t)&&ot(),n.charAt(u+1)){case"\x01":const f=n.substring(a,u);let _;0===r.length?_=f:(r+=f,_=r,r=""),i.push(_);break;case"\x10":r+=n.substring(a,u),r+="\0";break;case"\x11":r+=n.substring(a,u+1);break;default:ot()}a=u+2}return new cn(i)}const MI=["userId","batchId"];function gf(n,e){return[n,Pr(e)]}function Cw(n,e,t){return[n,Pr(e),t]}const xI={},Ry=["prefixPath","collectionGroup","readTime","documentId"],Iw=["prefixPath","collectionGroup","documentId"],gk=["collectionGroup","readTime","prefixPath","documentId"],RI=["canonicalId","targetId"],aA=["targetId","path"],kI=["path","targetId"],_f=["collectionId","parent"],lA=["indexId","uid"],OI=["uid","sequenceNumber"],Dw=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],_k=["indexId","uid","orderedDocumentKey"],cA=["userId","collectionPath","documentId"],yk=["userId","collectionPath","largestBatchId"],uA=["userId","collectionGroup","largestBatchId"],PI=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],dA=[...PI,"documentOverlays"],Tw=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Sw=Tw,hA=[...Sw,"indexConfiguration","indexState","indexEntries"];class ky extends ww{constructor(e,t){super(),this.at=e,this.currentSequenceNumber=t}}function ji(n,e){const t=Qe(n);return $o.M(t.at,e)}function NI(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Vc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Aw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Un{constructor(e,t){this.comparator=e,this.root=t||nr.EMPTY}insert(e,t){return new Un(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,nr.BLACK,null,null))}remove(e){return new Un(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lm(this.root,e,this.comparator,!0)}}class Lm{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nr{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=i??nr.RED,this.left=r??nr.EMPTY,this.right=a??nr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new nr(e??this.key,t??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return nr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return nr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ot();const e=this.left.check();if(e!==this.right.check())throw ot();return e+(this.isRed()?0:1)}}nr.EMPTY=null,nr.RED=!0,nr.BLACK=!1,nr.EMPTY=new class{constructor(){this.size=0}get key(){throw ot()}get value(){throw ot()}get color(){throw ot()}get left(){throw ot()}get right(){throw ot()}copy(n,e,t,i,r){return this}insert(n,e,t){return new nr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Hn{constructor(e){this.comparator=e,this.data=new Un(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Mw(this.data.getIterator())}getIteratorFrom(e){return new Mw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Hn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(0!==this.comparator(r,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Hn(this.comparator);return t.data=e,t}}class Mw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function yf(n){return n.hasNext()?n.getNext():void 0}class Es{constructor(e){this.fields=e,e.sort(Ei.comparator)}static empty(){return new Es([])}unionWith(e){let t=new Hn(Ei.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Es(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return hf(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class fA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ir{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new fA("Invalid base64 string: "+r):r}}(e);return new ir(t)}static fromUint8Array(e){const t=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(e);return new ir(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ir.EMPTY_BYTE_STRING=new ir("");const vk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ud(n){if(vt(!!n),"string"==typeof n){let e=0;const t=vk.exec(n);if(vt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ci(n.seconds),nanos:Ci(n.nanos)}}function Ci(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Bc(n){return"string"==typeof n?ir.fromBase64String(n):ir.fromUint8Array(n)}function xw(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Rw(n){const e=n.mapValue.fields.__previous_value__;return xw(e)?Rw(e):e}function Oy(n){const e=ud(n.mapValue.fields.__local_write_time__.timestampValue);return new Kn(e.seconds,e.nanos)}class Py{constructor(e,t,i,r,a,u,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class dd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new dd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof dd&&e.projectId===this.projectId&&e.database===this.database}}const Bl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},hd={nullValue:"NULL_VALUE"};function Ul(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?xw(n)?4:pA(n)?9007199254740991:10:ot()}function zo(n,e){if(n===e)return!0;const t=Ul(n);if(t!==Ul(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Oy(n).isEqual(Oy(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=ud(i.timestampValue),u=ud(r.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,Bc(n.bytesValue).isEqual(Bc(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Ci(i.geoPointValue.latitude)===Ci(r.geoPointValue.latitude)&&Ci(i.geoPointValue.longitude)===Ci(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Ci(i.integerValue)===Ci(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=Ci(i.doubleValue),u=Ci(r.doubleValue);return a===u?Fm(a)===Fm(u):isNaN(a)&&isNaN(u)}return!1}(n,e);case 9:return hf(n.arrayValue.values||[],e.arrayValue.values||[],zo);case 10:return function(i,r){const a=i.mapValue.fields||{},u=r.mapValue.fields||{};if(NI(a)!==NI(u))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===u[f]||!zo(a[f],u[f])))return!1;return!0}(n,e);default:return ot()}var r}function Ny(n,e){return void 0!==(n.values||[]).find(t=>zo(t,e))}function Ra(n,e){if(n===e)return 0;const t=Ul(n),i=Ul(e);if(t!==i)return Ht(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ht(n.booleanValue,e.booleanValue);case 2:return function(r,a){const u=Ci(r.integerValue||r.doubleValue),f=Ci(a.integerValue||a.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return kw(n.timestampValue,e.timestampValue);case 4:return kw(Oy(n),Oy(e));case 5:return Ht(n.stringValue,e.stringValue);case 6:return function(r,a){const u=Bc(r),f=Bc(a);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(r,a){const u=r.split("/"),f=a.split("/");for(let _=0;_<u.length&&_<f.length;_++){const w=Ht(u[_],f[_]);if(0!==w)return w}return Ht(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,a){const u=Ht(Ci(r.latitude),Ci(a.latitude));return 0!==u?u:Ht(Ci(r.longitude),Ci(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,a){const u=r.values||[],f=a.values||[];for(let _=0;_<u.length&&_<f.length;++_){const w=Ra(u[_],f[_]);if(w)return w}return Ht(u.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,a){if(r===Bl.mapValue&&a===Bl.mapValue)return 0;if(r===Bl.mapValue)return 1;if(a===Bl.mapValue)return-1;const u=r.fields||{},f=Object.keys(u),_=a.fields||{},w=Object.keys(_);f.sort(),w.sort();for(let I=0;I<f.length&&I<w.length;++I){const M=Ht(f[I],w[I]);if(0!==M)return M;const F=Ra(u[f[I]],_[w[I]]);if(0!==F)return F}return Ht(f.length,w.length)}(n.mapValue,e.mapValue);default:throw ot()}}function kw(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ht(n,e);const t=ud(n),i=ud(e),r=Ht(t.seconds,i.seconds);return 0!==r?r:Ht(t.nanos,i.nanos)}function vf(n){return Fy(n)}function Fy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=ud(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Bc(n.bytesValue).toBase64():"referenceValue"in n?Ke.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",a=!0;for(const u of i.values||[])a?a=!1:r+=",",r+=Fy(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let a="{",u=!0;for(const f of r)u?u=!1:a+=",",a+=`${f}:${Fy(i.fields[f])}`;return a+"}"}(n.mapValue):ot();var e}function fd(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Pw(n){return!!n&&"integerValue"in n}function Vm(n){return!!n&&"arrayValue"in n}function Bm(n){return!!n&&"nullValue"in n}function LI(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Nw(n){return!!n&&"mapValue"in n}function Ly(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Vc(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Ly(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ly(n.arrayValue.values[t]);return e}return Object.assign({},n)}function pA(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function mA(n){return"nullValue"in n?hd:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?fd(dd.empty(),Ke.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ot()}function gA(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?fd(dd.empty(),Ke.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Bl:ot()}function VI(n,e){const t=Ra(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function _A(n,e){const t=Ra(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class gr{constructor(e){this.value=e}static empty(){return new gr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Nw(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ly(t)}setAll(e){let t=Ei.emptyPath(),i={},r=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,i,r),i={},r=[],t=f.popLast()}u?i[f.lastSegment()]=Ly(u):r.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());Nw(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return zo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Nw(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Vc(t,(r,a)=>e[r]=a);for(const r of i)delete e[r]}clone(){return new gr(Ly(this.value))}}function Fw(n){const e=[];return Vc(n.fields,(t,i)=>{const r=new Ei([t]);if(Nw(i)){const a=Fw(i.mapValue).fields;if(0===a.length)e.push(r);else for(const u of a)e.push(r.child(u))}else e.push(r)}),new Es(e)}class jn{constructor(e,t,i,r,a,u,f){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=a,this.data=u,this.documentState=f}static newInvalidDocument(e){return new jn(e,0,gt.min(),gt.min(),gt.min(),gr.empty(),0)}static newFoundDocument(e,t,i,r){return new jn(e,1,t,gt.min(),i,r,0)}static newNoDocument(e,t){return new jn(e,2,t,gt.min(),gt.min(),gr.empty(),0)}static newUnknownDocument(e,t){return new jn(e,3,t,gt.min(),gt.min(),gr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(gt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof jn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class pd{constructor(e,t){this.position=e,this.inclusive=t}}function _o(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],u=n.position[r];if(i=a.field.isKeyField()?Ke.comparator(Ke.fromName(u.referenceValue),t.key):Ra(u,t.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return i}function BI(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!zo(n.position[t],e.position[t]))return!1;return!0}class Uc{constructor(e,t="asc"){this.field=e,this.dir=t}}function yA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Zs{}class nn extends Zs{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new vA(e,t,i):"array-contains"===t?new Hc(e,i):"in"===t?new Hw(e,i):"not-in"===t?new jw(e,i):"array-contains-any"===t?new Hl(e,i):new nn(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new HI(e,i):new bA(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ra(t,this.value)):null!==t&&Ul(this.value)===Ul(t)&&this.matchesComparison(Ra(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ot()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class En extends Zs{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new En(e,t)}matches(e){return bf(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function bf(n){return"and"===n.op}function Lw(n){return"or"===n.op}function Um(n){return Vw(n)&&bf(n)}function Vw(n){for(const e of n.filters)if(e instanceof En)return!1;return!0}function Vy(n){if(n instanceof nn)return n.field.canonicalString()+n.op.toString()+vf(n.value);if(Um(n))return n.filters.map(e=>Vy(e)).join(",");{const e=n.filters.map(t=>Vy(t)).join(",");return`${n.op}(${e})`}}function UI(n,e){return n instanceof nn?(t=n,(i=e)instanceof nn&&t.op===i.op&&t.field.isEqual(i.field)&&zo(t.value,i.value)):n instanceof En?function(t,i){return i instanceof En&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,a,u)=>r&&UI(a,i.filters[u]),!0)}(n,e):void ot();var t,i}function Bw(n,e){const t=n.filters.concat(e);return En.create(t,n.op)}function Uw(n){return n instanceof nn?`${(e=n).field.canonicalString()} ${e.op} ${vf(e.value)}`:n instanceof En?function(e){return e.op.toString()+" {"+e.getFilters().map(Uw).join(" ,")+"}"}(n):"Filter";var e}class vA extends nn{constructor(e,t,i){super(e,t,i),this.key=Ke.fromName(i.referenceValue)}matches(e){const t=Ke.comparator(e.key,this.key);return this.matchesComparison(t)}}class HI extends nn{constructor(e,t){super(e,"in",t),this.keys=By(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class bA extends nn{constructor(e,t){super(e,"not-in",t),this.keys=By(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function By(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Ke.fromName(i.referenceValue))}class Hc extends nn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Vm(t)&&Ny(t.arrayValue,this.value)}}class Hw extends nn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ny(this.value.arrayValue,t)}}class jw extends nn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ny(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ny(this.value.arrayValue,t)}}class Hl extends nn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Vm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Ny(this.value.arrayValue,i))}}class wA{constructor(e,t=null,i=[],r=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=u,this.endAt=f,this.ft=null}}function jI(n,e=null,t=[],i=[],r=null,a=null,u=null){return new wA(n,e,t,i,r,a,u)}function md(n){const e=Qe(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Vy(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Vl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>vf(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>vf(i)).join(",")),e.ft=t}return e.ft}function Hm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!yA(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!UI(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!BI(n.startAt,e.startAt)&&BI(n.endAt,e.endAt)}function Uy(n){return Ke.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Hy(n,e){return n.filters.filter(t=>t instanceof nn&&t.field.isEqual(e))}function $w(n,e,t){let i=hd,r=!0;for(const a of Hy(n,e)){let u=hd,f=!0;switch(a.op){case"<":case"<=":u=mA(a.value);break;case"==":case"in":case">=":u=a.value;break;case">":u=a.value,f=!1;break;case"!=":case"not-in":u=hd}VI({value:i,inclusive:r},{value:u,inclusive:f})<0&&(i=u,r=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];VI({value:i,inclusive:r},{value:u,inclusive:t.inclusive})<0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}function EA(n,e,t){let i=Bl,r=!0;for(const a of Hy(n,e)){let u=Bl,f=!0;switch(a.op){case">=":case">":u=gA(a.value),f=!1;break;case"==":case"in":case"<=":u=a.value;break;case"<":u=a.value,f=!1;break;case"!=":case"not-in":u=Bl}_A({value:i,inclusive:r},{value:u,inclusive:f})>0&&(i=u,r=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];_A({value:i,inclusive:r},{value:u,inclusive:t.inclusive})>0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}class ka{constructor(e,t=null,i=[],r=[],a=null,u="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=_,this.dt=null,this._t=null}}function $I(n,e,t,i,r,a,u,f){return new ka(n,e,t,i,r,a,u,f)}function gd(n){return new ka(n)}function CA(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function jm(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function $m(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function jy(n){return null!==n.collectionGroup}function jc(n){const e=Qe(n);if(null===e.dt){e.dt=[];const t=$m(e),i=jm(e);if(null!==t&&null===i)t.isKeyField()||e.dt.push(new Uc(t)),e.dt.push(new Uc(Ei.keyField(),"asc"));else{let r=!1;for(const a of e.explicitOrderBy)e.dt.push(a),a.field.isKeyField()&&(r=!0);if(!r){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Uc(Ei.keyField(),a))}}}return e.dt}function Nr(n){const e=Qe(n);if(!e._t)if("F"===e.limitType)e._t=jI(e.path,e.collectionGroup,jc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of jc(e))t.push(new Uc(a.field,"desc"===a.dir?"asc":"desc"));const i=e.endAt?new pd(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new pd(e.startAt.position,e.startAt.inclusive):null;e._t=jI(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function $y(n,e){e.getFirstInequalityField(),$m(n);const t=n.filters.concat([e]);return new ka(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function _d(n,e,t){return new ka(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function $c(n,e){return Hm(Nr(n),Nr(e))&&n.limitType===e.limitType}function zw(n){return`${md(Nr(n))}|lt:${n.limitType}`}function Gw(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>Uw(i)).join(", ")}]`),Vl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>vf(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>vf(i)).join(",")),`Target(${t})`}(Nr(n))}; limitType=${n.limitType})`}function wf(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):Ke.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of jc(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,a,u){const f=_o(r,a,u);return r.inclusive?f<=0:f<0}(t.startAt,jc(t),i)||t.endAt&&!function(r,a,u){const f=_o(r,a,u);return r.inclusive?f>=0:f>0}(t.endAt,jc(t),i)));var t,i}function qw(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function zI(n){return(e,t)=>{let i=!1;for(const r of jc(n)){const a=IA(r,e,t);if(0!==a)return a;i=i||r.field.isKeyField()}return 0}}function IA(n,e,t){const i=n.field.isKeyField()?Ke.comparator(e.key,t.key):function(r,a,u){const f=a.data.field(r),_=u.data.field(r);return null!==f&&null!==_?Ra(f,_):ot()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ot()}}class zc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,a]of i)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Vc(this.inner,(t,i)=>{for(const[r,a]of i)e(r,a)})}isEmpty(){return Aw(this.inner)}size(){return this.innerSize}}const bk=new Un(Ke.comparator);function es(){return bk}const GI=new Un(Ke.comparator);function zm(...n){let e=GI;for(const t of n)e=e.insert(t.key,t);return e}function qI(n){let e=GI;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function jl(){return zy()}function DA(){return zy()}function zy(){return new zc(n=>n.toString(),(n,e)=>n.isEqual(e))}const wk=new Un(Ke.comparator),Ek=new Hn(Ke.comparator);function Zt(...n){let e=Ek;for(const t of n)e=e.add(t);return e}const Gy=new Hn(Ht);function Ww(){return Gy}function WI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fm(e)?"-0":e}}function Zw(n){return{integerValue:""+n}}function Gc(n,e){return xy(e)?Zw(e):WI(n,e)}class Gm{constructor(){this._=void 0}}function Kw(n,e,t){return n instanceof qc?function(i,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&xw(r)&&(r=Rw(r)),r&&(a.fields.__previous_value__=r),{mapValue:a}}(t,e):n instanceof $l?qm(n,e):n instanceof Ef?TA(n,e):function(i,r){const a=ZI(i,r),u=SA(a)+SA(i.wt);return Pw(a)&&Pw(i.wt)?Zw(u):WI(i.serializer,u)}(n,e)}function Yw(n,e,t){return n instanceof $l?qm(n,e):n instanceof Ef?TA(n,e):t}function ZI(n,e){return n instanceof Wm?Pw(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class qc extends Gm{}class $l extends Gm{constructor(e){super(),this.elements=e}}function qm(n,e){const t=Qw(e);for(const i of n.elements)t.some(r=>zo(r,i))||t.push(i);return{arrayValue:{values:t}}}class Ef extends Gm{constructor(e){super(),this.elements=e}}function TA(n,e){let t=Qw(e);for(const i of n.elements)t=t.filter(r=>!zo(r,i));return{arrayValue:{values:t}}}class Wm extends Gm{constructor(e,t){super(),this.serializer=e,this.wt=t}}function SA(n){return Ci(n.integerValue||n.doubleValue)}function Qw(n){return Vm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Zm{constructor(e,t){this.field=e,this.transform=t}}class MA{constructor(e,t){this.version=e,this.transformResults=t}}class ei{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ei}static exists(e){return new ei(void 0,e)}static updateTime(e){return new ei(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Km(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Ym{}function Xw(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Jm(n.key,ei.none()):new Xm(n.key,n.data,ei.none());{const t=n.data,i=gr.empty();let r=new Hn(Ei.comparator);for(let a of e.fields)if(!r.has(a)){let u=t.field(a);null===u&&a.length>1&&(a=a.popLast(),u=t.field(a)),null===u?i.delete(a):i.set(a,u),r=r.add(a)}return new Oa(n.key,i,new Es(r.toArray()),ei.none())}}function xA(n,e,t){n instanceof Xm?function(i,r,a){const u=i.value.clone(),f=YI(i.fieldTransforms,r,a.transformResults);u.setAll(f),r.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Oa?function(i,r,a){if(!Km(i.precondition,r))return void r.convertToUnknownDocument(a.version);const u=YI(i.fieldTransforms,r,a.transformResults),f=r.data;f.setAll(Wy(i)),f.setAll(u),r.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Qm(n,e,t,i){return n instanceof Xm?function(r,a,u,f){if(!Km(r.precondition,a))return u;const _=r.value.clone(),w=QI(r.fieldTransforms,f,a);return _.setAll(w),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(n,e,t,i):n instanceof Oa?function(r,a,u,f){if(!Km(r.precondition,a))return u;const _=QI(r.fieldTransforms,f,a),w=a.data;return w.setAll(Wy(r)),w.setAll(_),a.convertToFoundDocument(a.version,w).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(I=>I.field))}(n,e,t,i):(u=t,Km(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u);var a,u}function KI(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=ZI(i.transform,r||null);null!=a&&(null===t&&(t=gr.empty()),t.set(i.field,a))}return t||null}function qy(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&hf(t,i,(r,a)=>function AA(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof $l&&i instanceof $l||t instanceof Ef&&i instanceof Ef?hf(t.elements,i.elements,zo):t instanceof Wm&&i instanceof Wm?zo(t.wt,i.wt):t instanceof qc&&i instanceof qc);var t,i}(r,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Xm extends Ym{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Oa extends Ym{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Wy(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function YI(n,e,t){const i=new Map;vt(n.length===t.length);for(let r=0;r<t.length;r++){const a=n[r],u=a.transform,f=e.data.field(a.field);i.set(a.field,Yw(u,f,t[r]))}return i}function QI(n,e,t){const i=new Map;for(const r of n){const a=r.transform,u=t.data.field(r.field);i.set(r.field,Kw(a,u,e))}return i}class Jm extends Ym{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XI extends Ym{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Jw{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&xA(a,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Qm(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Qm(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=DA();return this.mutations.forEach(r=>{const a=e.get(r.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=t.has(r.key)?null:f;const _=Xw(u,f);null!==_&&i.set(r.key,_),u.isValidDocument()||u.convertToNoDocument(gt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Zt())}isEqual(e){return this.batchId===e.batchId&&hf(this.mutations,e.mutations,(t,i)=>qy(t,i))&&hf(this.baseMutations,e.baseMutations,(t,i)=>qy(t,i))}}class e0{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){vt(e.mutations.length===i.length);let r=wk;const a=e.mutations;for(let u=0;u<a.length;u++)r=r.insert(a[u].key,i[u].version);return new e0(e,t,i,r)}}class t0{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ik{constructor(e,t){this.count=e,this.unchangedNames=t}}var $i,hn;function RA(n){switch(n){default:return ot();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}function JI(n){if(void 0===n)return gi("GRPC error has no .code"),ce.UNKNOWN;switch(n){case $i.OK:return ce.OK;case $i.CANCELLED:return ce.CANCELLED;case $i.UNKNOWN:return ce.UNKNOWN;case $i.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case $i.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case $i.INTERNAL:return ce.INTERNAL;case $i.UNAVAILABLE:return ce.UNAVAILABLE;case $i.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case $i.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case $i.NOT_FOUND:return ce.NOT_FOUND;case $i.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case $i.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case $i.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case $i.ABORTED:return ce.ABORTED;case $i.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case $i.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case $i.DATA_LOSS:return ce.DATA_LOSS;default:return ot()}}(hn=$i||($i={}))[hn.OK=0]="OK",hn[hn.CANCELLED=1]="CANCELLED",hn[hn.UNKNOWN=2]="UNKNOWN",hn[hn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hn[hn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hn[hn.NOT_FOUND=5]="NOT_FOUND",hn[hn.ALREADY_EXISTS=6]="ALREADY_EXISTS",hn[hn.PERMISSION_DENIED=7]="PERMISSION_DENIED",hn[hn.UNAUTHENTICATED=16]="UNAUTHENTICATED",hn[hn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hn[hn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hn[hn.ABORTED=10]="ABORTED",hn[hn.OUT_OF_RANGE=11]="OUT_OF_RANGE",hn[hn.UNIMPLEMENTED=12]="UNIMPLEMENTED",hn[hn.INTERNAL=13]="INTERNAL",hn[hn.UNAVAILABLE=14]="UNAVAILABLE",hn[hn.DATA_LOSS=15]="DATA_LOSS";class eD{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return n0}static getOrCreateInstance(){return null===n0&&(n0=new eD),n0}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let n0=null;function kA(){return new TextEncoder}const Dk=new df([4294967295,4294967295],0);function OA(n){const e=kA().encode(n),t=new tA;return t.update(e),new Uint8Array(t.digest())}function PA(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new df([t,i],0),new df([r,a],0)]}class s{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new o(`Invalid padding: ${t}`);if(i<0)throw new o(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new o(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new o(`Invalid padding when bitmap length is 0: ${t}`);this.yt=8*e.length-t,this.It=df.fromNumber(this.yt)}Tt(e,t,i){let r=e.add(t.multiply(df.fromNumber(i)));return 1===r.compare(Dk)&&(r=new df([r.getBits(0),r.getBits(1)],0)),r.modulo(this.It).toNumber()}Et(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}At(e){if(0===this.yt)return!1;const t=OA(e),[i,r]=PA(t);for(let a=0;a<this.hashCount;a++){const u=this.Tt(i,r,a);if(!this.Et(u))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new s(a,r,t);return i.forEach(f=>u.insert(f)),u}insert(e){if(0===this.yt)return;const t=OA(e),[i,r]=PA(t);for(let a=0;a<this.hashCount;a++){const u=this.Tt(i,r,a);this.Rt(u)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class o extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class l{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,d.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new l(gt.min(),r,new Un(Ht),es(),Zt())}}class d{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new d(i,t,Zt(),Zt(),Zt())}}class h{constructor(e,t,i,r){this.vt=e,this.removedTargetIds=t,this.key=i,this.Pt=r}}class g{constructor(e,t){this.targetId=e,this.bt=t}}class v{constructor(e,t,i=ir.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class E{constructor(){this.Vt=0,this.St=k(),this.Dt=ir.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return 0!==this.Vt}get kt(){return this.xt}Mt(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}Ot(){let e=Zt(),t=Zt(),i=Zt();return this.St.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:ot()}}),new d(this.Dt,this.Ct,e,t,i)}$t(){this.xt=!1,this.St=k()}Ft(e,t){this.xt=!0,this.St=this.St.insert(e,t)}Bt(e){this.xt=!0,this.St=this.St.remove(e)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class D{constructor(e){this.Kt=e,this.Gt=new Map,this.Qt=es(),this.jt=A(),this.zt=new Un(Ht)}Wt(e){for(const t of e.vt)e.Pt&&e.Pt.isFoundDocument()?this.Ht(t,e.Pt):this.Jt(t,e.key,e.Pt);for(const t of e.removedTargetIds)this.Jt(t,e.key,e.Pt)}Yt(e){this.forEachTarget(e,t=>{const i=this.Xt(t);switch(e.state){case 0:this.Zt(t)&&i.Mt(e.resumeToken);break;case 1:i.qt(),i.Nt||i.$t(),i.Mt(e.resumeToken);break;case 2:i.qt(),i.Nt||this.removeTarget(t);break;case 3:this.Zt(t)&&(i.Ut(),i.Mt(e.resumeToken));break;case 4:this.Zt(t)&&(this.te(t),i.Mt(e.resumeToken));break;default:ot()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Gt.forEach((i,r)=>{this.Zt(r)&&t(r)})}ee(e){var t;const i=e.targetId,r=e.bt.count,a=this.ne(i);if(a){const u=a.target;if(Uy(u))if(0===r){const f=new Ke(u.path);this.Jt(i,f,jn.newNoDocument(f,gt.min()))}else vt(1===r);else{const f=this.se(i);if(f!==r){const _=this.ie(e,f);0!==_&&(this.te(i),this.zt=this.zt.insert(i,2===_?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=eD.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(w,I,M){var F,B,W,ie,ve,$e;const rt={localCacheCount:I,existenceFilterCount:M.count},Je=M.unchangedNames;return Je&&(rt.bloomFilter={applied:0===w,hashCount:null!==(F=Je?.hashCount)&&void 0!==F?F:0,bitmapLength:null!==(ie=null===(W=null===(B=Je?.bits)||void 0===B?void 0:B.bitmap)||void 0===W?void 0:W.length)&&void 0!==ie?ie:0,padding:null!==($e=null===(ve=Je?.bits)||void 0===ve?void 0:ve.padding)&&void 0!==$e?$e:0}),rt}(_,f,e.bt))}}}}ie(e,t){const{unchangedNames:i,count:r}=e.bt;if(!i||!i.bits)return 1;const{bits:{bitmap:a="",padding:u=0},hashCount:f=0}=i;let _,w;try{_=Bc(a).toUint8Array()}catch(I){if(I instanceof fA)return Ws("Decoding the base64 bloom filter in existence filter failed ("+I.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw I}try{w=new s(_,u,f)}catch(I){return Ws(I instanceof o?"BloomFilter error: ":"Applying bloom filter failed: ",I),1}return 0===w.yt?1:r!==t-this.re(e.targetId,w)?2:0}re(e,t){const i=this.Kt.getRemoteKeysForTarget(e);let r=0;return i.forEach(a=>{const u=this.Kt.oe(),f=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;t.At(f)||(this.Jt(e,a,null),r++)}),r}ue(e){const t=new Map;this.Gt.forEach((a,u)=>{const f=this.ne(u);if(f){if(a.current&&Uy(f.target)){const _=new Ke(f.target.path);null!==this.Qt.get(_)||this.ce(u,_)||this.Jt(u,_,jn.newNoDocument(_,e))}a.kt&&(t.set(u,a.Ot()),a.$t())}});let i=Zt();this.jt.forEach((a,u)=>{let f=!0;u.forEachWhile(_=>{const w=this.ne(_);return!w||"TargetPurposeLimboResolution"===w.purpose||(f=!1,!1)}),f&&(i=i.add(a))}),this.Qt.forEach((a,u)=>u.setReadTime(e));const r=new l(e,t,this.zt,this.Qt,i);return this.Qt=es(),this.jt=A(),this.zt=new Un(Ht),r}Ht(e,t){if(!this.Zt(e))return;const i=this.ce(e,t.key)?2:0;this.Xt(e).Ft(t.key,i),this.Qt=this.Qt.insert(t.key,t),this.jt=this.jt.insert(t.key,this.ae(t.key).add(e))}Jt(e,t,i){if(!this.Zt(e))return;const r=this.Xt(e);this.ce(e,t)?r.Ft(t,1):r.Bt(t),this.jt=this.jt.insert(t,this.ae(t).delete(e)),i&&(this.Qt=this.Qt.insert(t,i))}removeTarget(e){this.Gt.delete(e)}se(e){const t=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Lt(e){this.Xt(e).Lt()}Xt(e){let t=this.Gt.get(e);return t||(t=new E,this.Gt.set(e,t)),t}ae(e){let t=this.jt.get(e);return t||(t=new Hn(Ht),this.jt=this.jt.insert(e,t)),t}Zt(e){const t=null!==this.ne(e);return t||Fe("WatchChangeAggregator","Detected inactive target",e),t}ne(e){const t=this.Gt.get(e);return t&&t.Nt?null:this.Kt.he(e)}te(e){this.Gt.set(e,new E),this.Kt.getRemoteKeysForTarget(e).forEach(t=>{this.Jt(e,t,null)})}ce(e,t){return this.Kt.getRemoteKeysForTarget(e).has(t)}}function A(){return new Un(Ke.comparator)}function k(){return new Un(Ke.comparator)}const N={asc:"ASCENDING",desc:"DESCENDING"},z={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},J={and:"AND",or:"OR"};class Ce{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Be(n,e){return n.useProto3Json||Vl(e)?e:{value:e}}function qe(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ft(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Mt(n,e){return qe(n,e.toTimestamp())}function ge(n){return vt(!!n),gt.fromTimestamp(function(e){const t=ud(e);return new Kn(t.seconds,t.nanos)}(n))}function Ot(n,e){return(t=n,new cn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function gn(n){const e=cn.fromString(n);return vt(xk(e)),e}function xn(n,e){return Ot(n.databaseId,e.path)}function Fr(n,e){const t=gn(e);if(t.get(1)!==n.databaseId.projectId)throw new ke(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ke(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ke(Ky(t))}function eg(n,e){return Ot(n.databaseId,e)}function Zy(n){const e=gn(n);return 4===e.length?cn.emptyPath():Ky(e)}function yd(n){return new cn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Ky(n){return vt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Yy(n,e,t){return{name:xn(n,e),fields:t.value.mapValue.fields}}function Qy(n,e,t){const i=Fr(n,e.name),r=ge(e.updateTime),a=e.createTime?ge(e.createTime):gt.min(),u=new gr({mapValue:{fields:e.fields}}),f=jn.newFoundDocument(i,r,a,u);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function vd(n,e){let t;if(e instanceof Xm)t={update:Yy(n,e.key,e.value)};else if(e instanceof Jm)t={delete:xn(n,e.key)};else if(e instanceof Oa)t={update:Yy(n,e.key,e.data),updateMask:NF(e.fieldMask)};else{if(!(e instanceof XI))return ot();t={verify:xn(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const u=a.transform;if(u instanceof qc)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof $l)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Ef)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Wm)return{fieldPath:a.field.canonicalString(),increment:u.wt};throw ot()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:Mt(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ot()),t;var r}function NA(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?ei.updateTime(ge(r.updateTime)):void 0!==r.exists?ei.exists(r.exists):ei.none():ei.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(a,u){let f=null;"setToServerValue"in u?(vt("REQUEST_TIME"===u.setToServerValue),f=new qc):"appendMissingElements"in u?f=new $l(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new Ef(u.removeAllFromArray.values||[]):"increment"in u?f=new Wm(a,u.increment):ot();const _=Ei.fromServerFormat(u.fieldPath);return new Zm(_,f)}(n,r)):[];var r;if(e.update){const r=Fr(n,e.update.name),a=new gr({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new Es((e.updateMask.fieldPaths||[]).map(w=>Ei.fromServerFormat(w)));return new Oa(r,a,u,t,i)}return new Xm(r,a,t,i)}if(e.delete){const r=Fr(n,e.delete);return new Jm(r,t)}if(e.verify){const r=Fr(n,e.verify);return new XI(r,t)}return ot()}function Tk(n,e){return{documents:[eg(n,e.path)]}}function FA(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=eg(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=eg(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(_){if(0!==_.length)return Mk(En.create(_,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const a=function(_){if(0!==_.length)return _.map(w=>{return{field:Cf((I=w).field),direction:kF(I.dir)};var I})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const u=Be(n,e.limit);var f,_;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function Sk(n){let e=Zy(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){vt(1===i);const I=t.from[0];I.allDescendants?r=I.collectionId:e=e.child(I.collectionId)}let a=[];t.where&&(a=function(I){const M=Ak(I);return M instanceof En&&Um(M)?M.getFilters():[M]}(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(I=>{return new Uc(Xy((M=I).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let f=null;t.limit&&(f=function(I){let M;return M="object"==typeof I?I.value:I,Vl(M)?null:M}(t.limit));let _=null;var I;t.startAt&&(_=new pd((I=t.startAt).values||[],!!I.before));let w=null;return t.endAt&&(w=function(I){return new pd(I.values||[],!I.before)}(t.endAt)),$I(e,r,u,a,f,"F",_,w)}function Ak(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Xy(e.unaryFilter.field);return nn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=Xy(e.unaryFilter.field);return nn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Xy(e.unaryFilter.field);return nn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Xy(e.unaryFilter.field);return nn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ot()}}(n):void 0!==n.fieldFilter?nn.create(Xy((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ot()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return En.create(e.compositeFilter.filters.map(t=>Ak(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ot()}}(e.compositeFilter.op))}(n):ot();var e}function kF(n){return N[n]}function OF(n){return z[n]}function PF(n){return J[n]}function Cf(n){return{fieldPath:n.canonicalString()}}function Xy(n){return Ei.fromServerFormat(n.fieldPath)}function Mk(n){return n instanceof nn?function(e){if("=="===e.op){if(LI(e.value))return{unaryFilter:{field:Cf(e.field),op:"IS_NAN"}};if(Bm(e.value))return{unaryFilter:{field:Cf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(LI(e.value))return{unaryFilter:{field:Cf(e.field),op:"IS_NOT_NAN"}};if(Bm(e.value))return{unaryFilter:{field:Cf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cf(e.field),op:OF(e.op),value:e.value}}}(n):n instanceof En?function(e){const t=e.getFilters().map(i=>Mk(i));return 1===t.length?t[0]:{compositeFilter:{op:PF(e.op),filters:t}}}(n):ot()}function NF(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function xk(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class bd{constructor(e,t,i,r,a=gt.min(),u=gt.min(),f=ir.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=_}withSequenceNumber(e){return new bd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new bd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Rk{constructor(e){this.le=e}}function kk(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:tD(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:xn(r=n.le,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:qe(r,a.version.toTimestamp()),createTime:qe(r,a.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:tg(e.version)};else{if(!e.isUnknownDocument())return ot();i.unknownDocument={path:t.path.toArray(),version:tg(e.version)}}var r,a;return i}function tD(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function tg(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ng(n){const e=new Kn(n.seconds,n.nanoseconds);return gt.fromTimestamp(e)}function ig(n,e){const t=(e.baseMutations||[]).map(a=>NA(n.le,a));for(let a=0;a<e.mutations.length-1;++a){const u=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(u.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const i=e.mutations.map(a=>NA(n.le,a)),r=Kn.fromMillis(e.localWriteTimeMs);return new Jw(e.batchId,r,t,i)}function o0(n){const e=ng(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?ng(n.lastLimboFreeSnapshotVersion):gt.min();let i;var r;return void 0!==n.query.documents?(vt(1===(r=n.query).documents.length),i=Nr(gd(Zy(r.documents[0])))):i=Nr(Sk(n.query)),new bd(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,ir.fromBase64String(n.resumeToken))}function Ok(n,e){const t=tg(e.snapshotVersion),i=tg(e.lastLimboFreeSnapshotVersion);let r;r=Uy(e.target)?Tk(n.le,e.target):FA(n.le,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:md(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function LA(n){const e=Sk({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?_d(e,e.limit,"L"):e}function VA(n,e){return new t0(e.largestBatchId,NA(n.le,e.overlayMutation))}function Pk(n,e){const t=e.path.lastSegment();return[n,Pr(e.path.popLast()),t]}function Nk(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:tg(i.readTime),documentKey:Pr(i.documentKey.path),largestBatchId:i.largestBatchId}}class LF{getBundleMetadata(e,t){return Fk(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:ng(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return Fk(e).put({bundleId:(i=t).id,createTime:tg(ge(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return Lk(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:LA(r.bundledQuery),readTime:ng(r.readTime)};var r})}saveNamedQuery(e,t){return Lk(e).put({name:(i=t).name,readTime:tg(ge(i.readTime)),bundledQuery:i.bundledQuery});var i}}function Fk(n){return ji(n,"bundles")}function Lk(n){return ji(n,"namedQueries")}class nD{constructor(e,t){this.serializer=e,this.userId=t}static fe(e,t){return new nD(e,t.uid||"")}getOverlay(e,t){return a0(e).get(Pk(this.userId,t)).next(i=>i?VA(this.serializer,i):null)}getOverlays(e,t){const i=jl();return se.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((a,u)=>{const f=new t0(t,u);r.push(this.de(e,f))}),se.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(u=>r.add(Pr(u.getCollectionPath())));const a=[];return r.forEach(u=>{const f=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);a.push(a0(e).J("collectionPathOverlayIndex",f))}),se.waitFor(a)}getOverlaysForCollection(e,t,i){const r=jl(),a=Pr(t),u=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,Number.POSITIVE_INFINITY],!0);return a0(e).j("collectionPathOverlayIndex",u).next(f=>{for(const _ of f){const w=VA(this.serializer,_);r.set(w.getKey(),w)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const a=jl();let u;const f=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return a0(e).X({index:"collectionGroupOverlayIndex",range:f},(_,w,I)=>{const M=VA(this.serializer,w);a.size()<r||M.largestBatchId===u?(a.set(M.getKey(),M),u=M.largestBatchId):I.done()}).next(()=>a)}de(e,t){return a0(e).put(function(i,r,a){const[u,f,_]=Pk(r,a.mutation.key);return{userId:r,collectionPath:f,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:vd(i.le,a.mutation)}}(this.serializer,this.userId,t))}}function a0(n){return ji(n,"documentOverlays")}class rg{constructor(){}_e(e,t){this.we(e,t),t.me()}we(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye(Ci(e.integerValue));else if("doubleValue"in e){const i=Ci(e.doubleValue);isNaN(i)?this.ge(t,13):(this.ge(t,15),Fm(i)?t.ye(0):t.ye(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ge(t,20),"string"==typeof i?t.pe(i):(t.pe(`${i.seconds||""}`),t.ye(i.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(Bc(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ge(t,45),t.ye(i.latitude||0),t.ye(i.longitude||0)}else"mapValue"in e?pA(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):ot()}Ie(e,t){this.ge(t,25),this.Pe(e,t)}Pe(e,t){t.pe(e)}Re(e,t){const i=e.fields||{};this.ge(t,55);for(const r of Object.keys(i))this.Ie(r,t),this.we(i[r],t)}ve(e,t){const i=e.values||[];this.ge(t,50);for(const r of i)this.we(r,t)}Ae(e,t){this.ge(t,37),Ke.fromName(e).path.forEach(i=>{this.ge(t,60),this.Pe(i,t)})}ge(e,t){e.ye(t)}Te(e){e.ye(2)}}function VF(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function Vk(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const a=VF(255&t[r]);if(i+=a,8!==a)break}return i}(n);return Math.ceil(e/8)}rg.be=new rg;class BF{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ve(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Se(i.value),i=t.next();this.De()}Ce(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.xe(i.value),i=t.next();this.Ne()}ke(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Se(i);else if(i<2048)this.Se(960|i>>>6),this.Se(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Se(480|i>>>12),this.Se(128|63&i>>>6),this.Se(128|63&i);else{const r=t.codePointAt(0);this.Se(240|r>>>18),this.Se(128|63&r>>>12),this.Se(128|63&r>>>6),this.Se(128|63&r)}}this.De()}Me(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.xe(i);else if(i<2048)this.xe(960|i>>>6),this.xe(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.xe(480|i>>>12),this.xe(128|63&i>>>6),this.xe(128|63&i);else{const r=t.codePointAt(0);this.xe(240|r>>>18),this.xe(128|63&r>>>12),this.xe(128|63&r>>>6),this.xe(128|63&r)}}this.Ne()}Oe(e){const t=this.$e(e),i=Vk(t);this.Fe(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Be(e){const t=this.$e(e),i=Vk(t);this.Fe(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Le(){this.qe(255),this.qe(255)}Ue(){this.Ke(255),this.Ke(255)}reset(){this.position=0}seed(e){this.Fe(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ge(){return this.buffer.slice(0,this.position)}$e(e){const t=function(r){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,r,!1),new Uint8Array(a.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Se(e){const t=255&e;0===t?(this.qe(0),this.qe(255)):255===t?(this.qe(255),this.qe(0)):this.qe(t)}xe(e){const t=255&e;0===t?(this.Ke(0),this.Ke(255)):255===t?(this.Ke(255),this.Ke(0)):this.Ke(e)}De(){this.qe(0),this.qe(1)}Ne(){this.Ke(0),this.Ke(1)}qe(e){this.Fe(1),this.buffer[this.position++]=e}Ke(e){this.Fe(1),this.buffer[this.position++]=~e}Fe(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class UF{constructor(e){this.Qe=e}Ee(e){this.Qe.Ve(e)}pe(e){this.Qe.ke(e)}ye(e){this.Qe.Oe(e)}me(){this.Qe.Le()}}class HF{constructor(e){this.Qe=e}Ee(e){this.Qe.Ce(e)}pe(e){this.Qe.Me(e)}ye(e){this.Qe.Be(e)}me(){this.Qe.Ue()}}class l0{constructor(){this.Qe=new BF,this.je=new UF(this.Qe),this.ze=new HF(this.Qe)}seed(e){this.Qe.seed(e)}We(e){return 0===e?this.je:this.ze}Ge(){return this.Qe.Ge()}reset(){this.Qe.reset()}}class sg{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}He(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new sg(this.indexId,this.documentKey,this.arrayValue,i)}}function If(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Bk(n.arrayValue,e.arrayValue),0!==t?t:(t=Bk(n.directionalValue,e.directionalValue),0!==t?t:Ke.comparator(n.documentKey,e.documentKey)))}function Bk(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class jF{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Je=e.orderBy,this.Ye=[];for(const t of e.filters){const i=t;i.isInequality()?this.Xe=i:this.Ye.push(i)}}Ze(e){vt(e.collectionGroup===this.collectionId);const t=Sy(e);if(void 0!==t&&!this.tn(t))return!1;const i=Fl(e);let r=0,a=0;for(;r<i.length&&this.tn(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Xe){const u=i[r];if(!this.en(this.Xe,u)||!this.nn(this.Je[a++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(a>=this.Je.length||!this.nn(this.Je[a++],u))return!1}return!0}tn(e){for(const t of this.Ye)if(this.en(t,e))return!0;return!1}en(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}nn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Uk(n){var e,t;if(vt(n instanceof nn||n instanceof En),n instanceof nn){if(n instanceof Hw){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(a=>nn.create(n.field,"==",a)))||[];return En.create(r,"or")}return n}const i=n.filters.map(r=>Uk(r));return En.create(i,n.op)}function $F(n){if(0===n.getFilters().length)return[];const e=HA(Uk(n));return vt(Hk(e)),BA(e)||UA(e)?[e]:e.getFilters()}function BA(n){return n instanceof nn}function UA(n){return n instanceof En&&Um(n)}function Hk(n){return BA(n)||UA(n)||function(e){if(e instanceof En&&Lw(e)){for(const t of e.getFilters())if(!BA(t)&&!UA(t))return!1;return!0}return!1}(n)}function HA(n){if(vt(n instanceof nn||n instanceof En),n instanceof nn)return n;if(1===n.filters.length)return HA(n.filters[0]);const e=n.filters.map(i=>HA(i));let t=En.create(e,n.op);return t=iD(t),Hk(t)?t:(vt(t instanceof En),vt(bf(t)),vt(t.filters.length>1),t.filters.reduce((i,r)=>jA(i,r)))}function jA(n,e){let t;return vt(n instanceof nn||n instanceof En),vt(e instanceof nn||e instanceof En),t=n instanceof nn?e instanceof nn?En.create([n,e],"and"):jk(n,e):e instanceof nn?jk(e,n):function(i,r){if(vt(i.filters.length>0&&r.filters.length>0),bf(i)&&bf(r))return Bw(i,r.getFilters());const a=Lw(i)?i:r,u=Lw(i)?r:i,f=a.filters.map(_=>jA(_,u));return En.create(f,"or")}(n,e),iD(t)}function jk(n,e){if(bf(e))return Bw(e,n.getFilters());{const t=e.filters.map(i=>jA(n,i));return En.create(t,"or")}}function iD(n){if(vt(n instanceof nn||n instanceof En),n instanceof nn)return n;const e=n.getFilters();if(1===e.length)return iD(e[0]);if(Vw(n))return n;const t=e.map(r=>iD(r)),i=[];return t.forEach(r=>{r instanceof nn?i.push(r):r instanceof En&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:En.create(i,n.op)}class zF{constructor(){this.sn=new $A}addToCollectionParentIndex(e,t){return this.sn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.sn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(Jr.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(Jr.min())}updateCollectionGroup(e,t,i){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class $A{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Hn(cn.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Hn(cn.comparator)).toArray()}}const rD=new Uint8Array(0);class GF{constructor(e,t){this.user=e,this.databaseId=t,this.rn=new $A,this.on=new zc(i=>md(i),(i,r)=>Hm(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.rn.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.rn.add(t)});const a={collectionId:i,parent:Pr(r)};return $k(e).put(a)}return se.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[_w(t),""],!1,!0);return $k(e).j(r).next(a=>{for(const u of a){if(u.collectionId!==t)break;i.push(xa(u.parent))}return i})}addFieldIndex(e,t){const i=sD(e),r={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var u;delete r.indexId;const a=i.add(r);if(t.indexState){const u=u0(e);return a.next(f=>{u.put(Nk(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const i=sD(e),r=u0(e),a=c0(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=c0(e);let r=!0;const a=new Map;return se.forEach(this.un(t),u=>this.cn(e,u).next(f=>{r&&(r=!!f),a.set(u,f)})).next(()=>{if(r){let u=Zt();const f=[];return se.forEach(a,(_,w)=>{var I;Fe("IndexedDbIndexManager",`Using index ${I=_,`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(Je=>`${Je.fieldPath}:${Je.kind}`).join(",")}`} to execute ${md(t)}`);const M=function(Je,Ct){const jt=Sy(Ct);if(void 0===jt)return null;for(const Gt of Hy(Je,jt.fieldPath))switch(Gt.op){case"array-contains-any":return Gt.value.arrayValue.values||[];case"array-contains":return[Gt.value]}return null}(w,_),F=function(Je,Ct){const jt=new Map;for(const Gt of Fl(Ct))for(const Tn of Hy(Je,Gt.fieldPath))switch(Tn.op){case"==":case"in":jt.set(Gt.fieldPath.canonicalString(),Tn.value);break;case"not-in":case"!=":return jt.set(Gt.fieldPath.canonicalString(),Tn.value),Array.from(jt.values())}return null}(w,_),B=function(Je,Ct){const jt=[];let Gt=!0;for(const Tn of Fl(Ct)){const Vr=0===Tn.kind?$w(Je,Tn.fieldPath,Je.startAt):EA(Je,Tn.fieldPath,Je.startAt);jt.push(Vr.value),Gt&&(Gt=Vr.inclusive)}return new pd(jt,Gt)}(w,_),W=function(Je,Ct){const jt=[];let Gt=!0;for(const Tn of Fl(Ct)){const Vr=0===Tn.kind?EA(Je,Tn.fieldPath,Je.endAt):$w(Je,Tn.fieldPath,Je.endAt);jt.push(Vr.value),Gt&&(Gt=Vr.inclusive)}return new pd(jt,Gt)}(w,_),ie=this.an(_,w,B),ve=this.an(_,w,W),$e=this.hn(_,w,F),rt=this.ln(_.indexId,M,ie,B.inclusive,ve,W.inclusive,$e);return se.forEach(rt,Je=>i.H(Je,t.limit).next(Ct=>{Ct.forEach(jt=>{const Gt=Ke.fromSegments(jt.documentKey);u.has(Gt)||(u=u.add(Gt),f.push(Gt))})}))}).next(()=>f)}return se.resolve(null)})}un(e){let t=this.on.get(e);return t||(t=0===e.filters.length?[e]:$F(En.create(e.filters,"and")).map(i=>jI(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.on.set(e,t),t)}ln(e,t,i,r,a,u,f){const _=(null!=t?t.length:1)*Math.max(i.length,a.length),w=_/(null!=t?t.length:1),I=[];for(let M=0;M<_;++M){const F=t?this.fn(t[M/w]):rD,B=this.dn(e,F,i[M%w],r),W=this._n(e,F,a[M%w],u),ie=f.map(ve=>this.dn(e,F,ve,!0));I.push(...this.createRange(B,W,ie))}return I}dn(e,t,i,r){const a=new sg(e,Ke.empty(),t,i);return r?a:a.He()}_n(e,t,i,r){const a=new sg(e,Ke.empty(),t,i);return r?a.He():a}cn(e,t){const i=new jF(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(a=>{let u=null;for(const f of a)i.Ze(f)&&(!u||f.fields.length>u.fields.length)&&(u=f);return u})}getIndexType(e,t){let i=2;const r=this.un(t);return se.forEach(r,a=>this.cn(e,a).next(u=>{u?0!==i&&u.fields.length<function(f){let _=new Hn(Ei.comparator),w=!1;for(const I of f.filters)for(const M of I.getFlattenedFilters())M.field.isKeyField()||("array-contains"===M.op||"array-contains-any"===M.op?w=!0:_=_.add(M.field));for(const I of f.orderBy)I.field.isKeyField()||(_=_.add(I.field));return _.size+(w?1:0)}(a)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}wn(e,t){const i=new l0;for(const r of Fl(e)){const a=t.data.field(r.fieldPath);if(null==a)return null;const u=i.We(r.kind);rg.be._e(a,u)}return i.Ge()}fn(e){const t=new l0;return rg.be._e(e,t.We(0)),t.Ge()}mn(e,t){const i=new l0;return rg.be._e(fd(this.databaseId,t),i.We(function(r){const a=Fl(r);return 0===a.length?0:a[a.length-1].kind}(e))),i.Ge()}hn(e,t,i){if(null===i)return[];let r=[];r.push(new l0);let a=0;for(const u of Fl(e)){const f=i[a++];for(const _ of r)if(this.gn(t,u.fieldPath)&&Vm(f))r=this.yn(r,u,f);else{const w=_.We(u.kind);rg.be._e(f,w)}}return this.pn(r)}an(e,t,i){return this.hn(e,t,i.position)}pn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Ge();return t}yn(e,t,i){const r=[...e],a=[];for(const u of i.arrayValue.values||[])for(const f of r){const _=new l0;_.seed(f.Ge()),rg.be._e(u,_.We(t.kind)),a.push(_)}return a}gn(e,t){return!!e.filters.find(i=>i instanceof nn&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=sD(e),r=u0(e);return(t?i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.j()).next(a=>{const u=[];return se.forEach(a,f=>r.get([f.indexId,this.uid]).next(_=>{u.push(function(w,I){const M=I?new Om(I.sequenceNumber,new Jr(ng(I.readTime),new Ke(xa(I.documentKey)),I.largestBatchId)):Om.empty(),F=w.fields.map(([B,W])=>new Ay(Ei.fromServerFormat(B),W));return new pf(w.indexId,w.collectionGroup,F,M)}(f,_))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const a=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==a?a:Ht(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=sD(e),a=u0(e);return this.In(e).next(u=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>se.forEach(f,_=>a.put(Nk(_.indexId,this.user,u,i)))))}updateIndexEntries(e,t){const i=new Map;return se.forEach(t,(r,a)=>{const u=i.get(r.collectionGroup);return(u?se.resolve(u):this.getFieldIndexes(e,r.collectionGroup)).next(f=>(i.set(r.collectionGroup,f),se.forEach(f,_=>this.Tn(e,r,_).next(w=>{const I=this.En(a,_);return w.isEqual(I)?se.resolve():this.An(e,a,_,w,I)}))))})}Rn(e,t,i,r){return c0(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.mn(i,t.key),documentKey:t.key.path.toArray()})}vn(e,t,i,r){return c0(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.mn(i,t.key),t.key.path.toArray()])}Tn(e,t,i){const r=c0(e);let a=new Hn(If);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.mn(i,t)])},(u,f)=>{a=a.add(new sg(i.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}En(e,t){let i=new Hn(If);const r=this.wn(t,e);if(null==r)return i;const a=Sy(t);if(null!=a){const u=e.data.field(a.fieldPath);if(Vm(u))for(const f of u.arrayValue.values||[])i=i.add(new sg(t.indexId,e.key,this.fn(f),r))}else i=i.add(new sg(t.indexId,e.key,rD,r));return i}An(e,t,i,r,a){Fe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(f,_,w,I,M){const F=f.getIterator(),B=_.getIterator();let W=yf(F),ie=yf(B);for(;W||ie;){let ve=!1,$e=!1;if(W&&ie){const rt=w(W,ie);rt<0?$e=!0:rt>0&&(ve=!0)}else null!=W?$e=!0:ve=!0;ve?(I(ie),ie=yf(B)):$e?(M(W),W=yf(F)):(W=yf(F),ie=yf(B))}}(r,a,If,f=>{u.push(this.Rn(e,t,i,f))},f=>{u.push(this.vn(e,t,i,f))}),se.waitFor(u)}In(e){let t=1;return u0(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,a)=>{a.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((u,f)=>If(u,f)).filter((u,f,_)=>!f||0!==If(u,_[f-1]));const r=[];r.push(e);for(const u of i){const f=If(u,e),_=If(u,t);if(0===f)r[0]=e.He();else if(f>0&&_<0)r.push(u),r.push(u.He());else if(_>0)break}r.push(t);const a=[];for(let u=0;u<r.length;u+=2){if(this.Pn(r[u],r[u+1]))return[];a.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,rD,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,rD,[]]))}return a}Pn(e,t){return If(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(zk)}getMinOffset(e,t){return se.mapArray(this.un(t),i=>this.cn(e,i).next(r=>r||ot())).next(zk)}}function $k(n){return ji(n,"collectionParents")}function c0(n){return ji(n,"indexEntries")}function sD(n){return ji(n,"indexConfiguration")}function u0(n){return ji(n,"indexState")}function zk(n){vt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;My(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new Jr(e.readTime,e.documentKey,t)}const Gk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Cs{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Cs(e,Cs.DEFAULT_COLLECTION_PERCENTILE,Cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function qk(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),a=[],u=IDBKeyRange.only(t.batchId);let f=0;const _=i.X({range:u},(I,M,F)=>(f++,F.delete()));a.push(_.next(()=>{vt(1===f)}));const w=[];for(const I of t.mutations){const M=Cw(e,I.key.path,t.batchId);a.push(r.delete(M)),w.push(I.key)}return se.waitFor(a).next(()=>w)}function oD(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ot();e=n.noDocument}return JSON.stringify(e).length}Cs.DEFAULT_COLLECTION_PERCENTILE=10,Cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cs.DEFAULT=new Cs(41943040,Cs.DEFAULT_COLLECTION_PERCENTILE,Cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cs.DISABLED=new Cs(-1,0,0);class aD{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.bn={}}static fe(e,t,i,r){vt(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new aD(a,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Df(e).X({index:"userMutationsIndex",range:i},(r,a,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const a=Jy(e),u=Df(e);return u.add({}).next(f=>{vt("number"==typeof f);const _=new Jw(f,t,i,r),w=function(F,B,W){const ie=W.baseMutations.map($e=>vd(F.le,$e)),ve=W.mutations.map($e=>vd(F.le,$e));return{userId:B,batchId:W.batchId,localWriteTimeMs:W.localWriteTime.toMillis(),baseMutations:ie,mutations:ve}}(this.serializer,this.userId,_),I=[];let M=new Hn((F,B)=>Ht(F.canonicalString(),B.canonicalString()));for(const F of r){const B=Cw(this.userId,F.key.path,f);M=M.add(F.key.path.popLast()),I.push(u.put(w)),I.push(a.put(B,xI))}return M.forEach(F=>{I.push(this.indexManager.addToCollectionParentIndex(e,F))}),e.addOnCommittedListener(()=>{this.bn[f]=_.keys()}),se.waitFor(I).next(()=>_)})}lookupMutationBatch(e,t){return Df(e).get(t).next(i=>i?(vt(i.userId===this.userId),ig(this.serializer,i)):null)}Vn(e,t){return this.bn[t]?se.resolve(this.bn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.bn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let a=null;return Df(e).X({index:"userMutationsIndex",range:r},(u,f,_)=>{f.userId===this.userId&&(vt(f.batchId>=i),a=ig(this.serializer,f)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Df(e).X({index:"userMutationsIndex",range:t,reverse:!0},(r,a,u)=>{i=a.batchId,u.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Df(e).j("userMutationsIndex",t).next(i=>i.map(r=>ig(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=gf(this.userId,t.path),r=IDBKeyRange.lowerBound(i),a=[];return Jy(e).X({range:r},(u,f,_)=>{const[w,I,M]=u,F=xa(I);if(w===this.userId&&t.path.isEqual(F))return Df(e).get(M).next(B=>{if(!B)throw ot();vt(B.userId===this.userId),a.push(ig(this.serializer,B))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Hn(Ht);const r=[];return t.forEach(a=>{const u=gf(this.userId,a.path),f=IDBKeyRange.lowerBound(u),_=Jy(e).X({range:f},(w,I,M)=>{const[F,B,W]=w,ie=xa(B);F===this.userId&&a.path.isEqual(ie)?i=i.add(W):M.done()});r.push(_)}),se.waitFor(r).next(()=>this.Sn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,a=gf(this.userId,i),u=IDBKeyRange.lowerBound(a);let f=new Hn(Ht);return Jy(e).X({range:u},(_,w,I)=>{const[M,F,B]=_,W=xa(F);M===this.userId&&i.isPrefixOf(W)?W.length===r&&(f=f.add(B)):I.done()}).next(()=>this.Sn(e,f))}Sn(e,t){const i=[],r=[];return t.forEach(a=>{r.push(Df(e).get(a).next(u=>{if(null===u)throw ot();vt(u.userId===this.userId),i.push(ig(this.serializer,u))}))}),se.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return qk(e.at,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Dn(t.batchId)}),se.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Dn(e){delete this.bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return se.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Jy(e).X({range:i},(a,u,f)=>{if(a[0]===this.userId){const _=xa(a[1]);r.push(_)}else f.done()}).next(()=>{vt(0===r.length)})})}containsKey(e,t){return Wk(e,this.userId,t)}Cn(e){return Zk(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Wk(n,e,t){const i=gf(e,t.path),r=i[1],a=IDBKeyRange.lowerBound(i);let u=!1;return Jy(n).X({range:a,Y:!0},(f,_,w)=>{const[I,M,F]=f;I===e&&M===r&&(u=!0),w.done()}).next(()=>u)}function Df(n){return ji(n,"mutations")}function Jy(n){return ji(n,"documentMutations")}function Zk(n){return ji(n,"mutationQueues")}class og{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static Nn(){return new og(0)}static kn(){return new og(-1)}}class qF{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Mn(e).next(t=>{const i=new og(t.highestTargetId);return t.highestTargetId=i.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Mn(e).next(t=>gt.fromTimestamp(new Kn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Mn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Mn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r)))}addTargetData(e,t){return this.$n(e,t).next(()=>this.Mn(e).next(i=>(i.targetCount+=1,this.Fn(t,i),this.On(e,i))))}updateTargetData(e,t){return this.$n(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>ev(e).delete(t.targetId)).next(()=>this.Mn(e)).next(i=>(vt(i.targetCount>0),i.targetCount-=1,this.On(e,i)))}removeTargets(e,t,i){let r=0;const a=[];return ev(e).X((u,f)=>{const _=o0(f);_.sequenceNumber<=t&&null===i.get(_.targetId)&&(r++,a.push(this.removeTargetData(e,_)))}).next(()=>se.waitFor(a)).next(()=>r)}forEachTarget(e,t){return ev(e).X((i,r)=>{const a=o0(r);t(a)})}Mn(e){return Kk(e).get("targetGlobalKey").next(t=>(vt(null!==t),t))}On(e,t){return Kk(e).put("targetGlobalKey",t)}$n(e,t){return ev(e).put(Ok(this.serializer,t))}Fn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Mn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=md(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let a=null;return ev(e).X({range:r,index:"queryTargetsIndex"},(u,f,_)=>{const w=o0(f);Hm(t,w.target)&&(a=w,_.done())}).next(()=>a)}addMatchingKeys(e,t,i){const r=[],a=Tf(e);return t.forEach(u=>{const f=Pr(u.path);r.push(a.put({targetId:i,path:f})),r.push(this.referenceDelegate.addReference(e,i,u))}),se.waitFor(r)}removeMatchingKeys(e,t,i){const r=Tf(e);return se.forEach(t,a=>{const u=Pr(a.path);return se.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(e,i,a)])})}removeMatchingKeysForTargetId(e,t){const i=Tf(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Tf(e);let a=Zt();return r.X({range:i,Y:!0},(u,f,_)=>{const w=xa(u[1]),I=new Ke(w);a=a.add(I)}).next(()=>a)}containsKey(e,t){const i=Pr(t.path),r=IDBKeyRange.bound([i],[_w(i)],!1,!0);let a=0;return Tf(e).X({index:"documentTargetsIndex",Y:!0,range:r},([u,f],_,w)=>{0!==u&&(a++,w.done())}).next(()=>a>0)}he(e,t){return ev(e).get(t).next(i=>i?o0(i):null)}}function ev(n){return ji(n,"targets")}function Kk(n){return ji(n,"targetGlobal")}function Tf(n){return ji(n,"targetDocuments")}function Yk([n,e],[t,i]){const r=Ht(n,t);return 0===r?Ht(e,i):r}class WF{constructor(e){this.Bn=e,this.buffer=new Hn(Yk),this.Ln=0}qn(){return++this.Ln}Un(e){const t=[e,this.qn()];if(this.buffer.size<this.Bn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Yk(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Qk{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Kn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Kn&&(this.Kn.cancel(),this.Kn=null)}get started(){return null!==this.Kn}Gn(e){var t=this;Fe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Kn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ye.Z)(function*(){t.Kn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){_i(i)?Fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Ll(i)}yield t.Gn(3e5)}))}}class ZF{constructor(e,t){this.Qn=e,this.params=t}calculateTargetCount(e,t){return this.Qn.jn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return se.resolve(ws.ct);const i=new WF(t);return this.Qn.forEachTarget(e,r=>i.Un(r.sequenceNumber)).next(()=>this.Qn.zn(e,r=>i.Un(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Qn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Qn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(Gk)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gk):this.Wn(e,t))}getCacheSize(e){return this.Qn.getCacheSize(e)}Wn(e,t){let i,r,a,u,f,_,w;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),r=this.params.maximumSequenceNumbersToCollect):r=M,u=Date.now(),this.nthSequenceNumber(e,r))).next(M=>(i=M,f=Date.now(),this.removeTargets(e,i,t))).next(M=>(a=M,_=Date.now(),this.removeOrphanedDocuments(e,i))).next(M=>(w=Date.now(),Iy()<=Rc.in.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-I}ms\n\tDetermined least recently used ${r} in `+(f-u)+`ms\n\tRemoved ${a} targets in `+(_-f)+`ms\n\tRemoved ${M} documents in `+(w-_)+`ms\nTotal Duration: ${w-I}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:M})))}}class KF{constructor(e,t){this.db=e,this.garbageCollector=function Xk(n,e){return new ZF(n,e)}(this,t)}jn(e){const t=this.Hn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Hn(e){let t=0;return this.zn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}zn(e,t){return this.Jn(e,(i,r)=>t(r))}addReference(e,t,i){return lD(e,i)}removeReference(e,t,i){return lD(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return lD(e,t)}Yn(e,t){return function(i,r){let a=!1;return Zk(i).Z(u=>Wk(i,u,r).next(f=>(f&&(a=!0),se.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let a=0;return this.Jn(e,(u,f)=>{if(f<=t){const _=this.Yn(e,u).next(w=>{if(!w)return a++,i.getEntry(e,u).next(()=>(i.removeEntry(u,gt.min()),Tf(e).delete([0,Pr(u.path)])))});r.push(_)}}).next(()=>se.waitFor(r)).next(()=>i.apply(e)).next(()=>a)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return lD(e,t)}Jn(e,t){const i=Tf(e);let r,a=ws.ct;return i.X({index:"documentTargetsIndex"},([u,f],{path:_,sequenceNumber:w})=>{0===u?(a!==ws.ct&&t(new Ke(xa(r)),a),a=w,r=_):a=ws.ct}).next(()=>{a!==ws.ct&&t(new Ke(xa(r)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function lD(n,e){return Tf(n).put((i=n.currentSequenceNumber,{targetId:0,path:Pr(e.path),sequenceNumber:i}));var i}class Jk{constructor(){this.changes=new zc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,jn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?se.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class YF{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return ag(e).put(i)}removeEntry(e,t,i){return ag(e).delete(function(r,a){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],tD(a),u[u.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Xn(e,i)))}getEntry(e,t){let i=jn.newInvalidDocument(t);return ag(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(d0(t))},(r,a)=>{i=this.Zn(t,a)}).next(()=>i)}ts(e,t){let i={size:0,document:jn.newInvalidDocument(t)};return ag(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(d0(t))},(r,a)=>{i={document:this.Zn(t,a),size:oD(a)}}).next(()=>i)}getEntries(e,t){let i=es();return this.es(e,t,(r,a)=>{const u=this.Zn(r,a);i=i.insert(r,u)}).next(()=>i)}ns(e,t){let i=es(),r=new Un(Ke.comparator);return this.es(e,t,(a,u)=>{const f=this.Zn(a,u);i=i.insert(a,f),r=r.insert(a,oD(u))}).next(()=>({documents:i,ss:r}))}es(e,t,i){if(t.isEmpty())return se.resolve();let r=new Hn(iO);t.forEach(_=>r=r.add(_));const a=IDBKeyRange.bound(d0(r.first()),d0(r.last())),u=r.getIterator();let f=u.getNext();return ag(e).X({index:"documentKeyIndex",range:a},(_,w,I)=>{const M=Ke.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;f&&iO(f,M)<0;)i(f,null),f=u.getNext();f&&f.isEqual(M)&&(i(f,w),f=u.hasNext()?u.getNext():null),f?I.G(d0(f)):I.done()}).next(()=>{for(;f;)i(f,null),f=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,i,r){const a=t.path,u=[a.popLast().toArray(),a.lastSegment(),tD(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],f=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ag(e).j(IDBKeyRange.bound(u,f,!0)).next(_=>{let w=es();for(const I of _){const M=this.Zn(Ke.fromSegments(I.prefixPath.concat(I.collectionGroup,I.documentId)),I);M.isFoundDocument()&&(wf(t,M)||r.has(M.key))&&(w=w.insert(M.key,M))}return w})}getAllFromCollectionGroup(e,t,i,r){let a=es();const u=nO(t,i),f=nO(t,Jr.max());return ag(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,f,!0)},(_,w,I)=>{const M=this.Zn(Ke.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);a=a.insert(M.key,M),a.size===r&&I.done()}).next(()=>a)}newChangeBuffer(e){return new QF(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return tO(e).get("remoteDocumentGlobalKey").next(t=>(vt(!!t),t))}Xn(e,t){return tO(e).put("remoteDocumentGlobalKey",t)}Zn(e,t){if(t){const i=function FF(n,e){let t;if(e.document)t=Qy(n.le,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=Ke.fromSegments(e.noDocument.path),r=ng(e.noDocument.readTime);t=jn.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ot();{const i=Ke.fromSegments(e.unknownDocument.path),r=ng(e.unknownDocument.version);t=jn.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new Kn(i[0],i[1]);return gt.fromTimestamp(r)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(gt.min()))return i}return jn.newInvalidDocument(e)}}function eO(n){return new YF(n)}class QF extends Jk{constructor(e,t){super(),this.rs=e,this.trackRemovals=t,this.os=new zc(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new Hn((a,u)=>Ht(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const f=this.os.get(a);if(t.push(this.rs.removeEntry(e,a,f.readTime)),u.isValidDocument()){const _=kk(this.rs.serializer,u);r=r.add(a.path.popLast()),i+=oD(_)-f.size,t.push(this.rs.addEntry(e,a,_))}else if(i-=f.size,this.trackRemovals){const _=kk(this.rs.serializer,u.convertToNoDocument(gt.min()));t.push(this.rs.addEntry(e,a,_))}}),r.forEach(a=>{t.push(this.rs.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.rs.updateMetadata(e,i)),se.waitFor(t)}getFromCache(e,t){return this.rs.ts(e,t).next(i=>(this.os.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.rs.ns(e,t).next(({documents:i,ss:r})=>(r.forEach((a,u)=>{this.os.set(a,{size:u,readTime:i.get(a).readTime})}),i))}}function tO(n){return ji(n,"remoteDocumentGlobal")}function ag(n){return ji(n,"remoteDocumentsV14")}function d0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function nO(n,e){const t=e.documentKey.path.toArray();return[n,tD(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function iO(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let a=0;a<t.length-2&&a<i.length-2;++a)if(r=Ht(t[a],i[a]),r)return r;return r=Ht(t.length,i.length),r||(r=Ht(t[t.length-2],i[i.length-2]),r||Ht(t[t.length-1],i[i.length-1]))}class XF{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class rO{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&Qm(i.mutation,r,Es.empty(),Kn.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Zt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Zt()){const r=jl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(a=>{let u=zm();return a.forEach((f,_)=>{u=u.insert(f,_.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=jl();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Zt()))}populateOverlays(e,t,i){const r=[];return i.forEach(a=>{t.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,i,r){let a=es();const u=zy(),f=zy();return t.forEach((_,w)=>{const I=i.get(w.key);r.has(w.key)&&(void 0===I||I.mutation instanceof Oa)?a=a.insert(w.key,w):void 0!==I?(u.set(w.key,I.mutation.getFieldMask()),Qm(I.mutation,w,I.mutation.getFieldMask(),Kn.now())):u.set(w.key,Es.empty())}),this.recalculateAndSaveOverlays(e,a).next(_=>(_.forEach((w,I)=>u.set(w,I)),t.forEach((w,I)=>{var M;return f.set(w,new XF(I,null!==(M=u.get(w))&&void 0!==M?M:null))}),f))}recalculateAndSaveOverlays(e,t){const i=zy();let r=new Un((u,f)=>u-f),a=Zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(_=>{const w=t.get(_);if(null===w)return;let I=i.get(_)||Es.empty();I=f.applyToLocalView(w,I),i.set(_,I);const M=(r.get(f.batchId)||Zt()).add(_);r=r.insert(f.batchId,M)})}).next(()=>{const u=[],f=r.getReverseIterator();for(;f.hasNext();){const _=f.getNext(),w=_.key,I=_.value,M=DA();I.forEach(F=>{if(!a.has(F)){const B=Xw(t.get(F),i.get(F));null!==B&&M.set(F,B),a=a.add(F)}}),u.push(this.documentOverlayCache.saveOverlays(e,w,M))}return se.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return Ke.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):jy(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(a=>{const u=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-a.size):se.resolve(jl());let f=-1,_=a;return u.next(w=>se.forEach(w,(I,M)=>(f<M.largestBatchId&&(f=M.largestBatchId),a.get(I)?se.resolve():this.remoteDocumentCache.getEntry(e,I).next(F=>{_=_.insert(I,F)}))).next(()=>this.populateOverlays(e,w,a)).next(()=>this.computeViews(e,_,w,Zt())).next(I=>({batchId:f,changes:qI(I)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ke(t)).next(i=>{let r=zm();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let a=zm();return this.indexManager.getCollectionParents(e,r).next(u=>se.forEach(u,f=>{const _=(w=t,I=f.child(r),new ka(I,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,I;return this.getDocumentsMatchingCollectionQuery(e,_,i).next(w=>{w.forEach((I,M)=>{a=a.insert(I,M)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(a=>{r.forEach((f,_)=>{const w=_.getKey();null===a.get(w)&&(a=a.insert(w,jn.newInvalidDocument(w)))});let u=zm();return a.forEach((f,_)=>{const w=r.get(f);void 0!==w&&Qm(w.mutation,_,Es.empty(),Kn.now()),wf(t,_)&&(u=u.insert(f,_))}),u})}}class JF{constructor(e){this.serializer=e,this.us=new Map,this.cs=new Map}getBundleMetadata(e,t){return se.resolve(this.us.get(t))}saveBundleMetadata(e,t){var i;return this.us.set(t.id,{id:(i=t).id,version:i.version,createTime:ge(i.createTime)}),se.resolve()}getNamedQuery(e,t){return se.resolve(this.cs.get(t))}saveNamedQuery(e,t){return this.cs.set(t.name,{name:(i=t).name,query:LA(i.bundledQuery),readTime:ge(i.readTime)}),se.resolve();var i}}class eL{constructor(){this.overlays=new Un(Ke.comparator),this.hs=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const i=jl();return se.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,a)=>{this.de(e,t,a)}),se.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.hs.get(i);return void 0!==r&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.hs.delete(i)),se.resolve()}getOverlaysForCollection(e,t,i){const r=jl(),a=t.length+1,u=new Ke(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const _=f.getNext().value,w=_.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===a&&_.largestBatchId>i&&r.set(_.getKey(),_)}return se.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new Un((w,I)=>w-I);const u=this.overlays.getIterator();for(;u.hasNext();){const w=u.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>i){let I=a.get(w.largestBatchId);null===I&&(I=jl(),a=a.insert(w.largestBatchId,I)),I.set(w.getKey(),w)}}const f=jl(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((w,I)=>f.set(w,I)),!(f.size()>=r)););return se.resolve(f)}de(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.hs.get(r.largestBatchId).delete(i.key);this.hs.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new t0(t,i));let a=this.hs.get(t);void 0===a&&(a=Zt(),this.hs.set(t,a)),this.hs.set(t,a.add(i.key))}}class zA{constructor(){this.ls=new Hn(Lr.fs),this.ds=new Hn(Lr._s)}isEmpty(){return this.ls.isEmpty()}addReference(e,t){const i=new Lr(e,t);this.ls=this.ls.add(i),this.ds=this.ds.add(i)}ws(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gs(new Lr(e,t))}ys(e,t){e.forEach(i=>this.removeReference(i,t))}ps(e){const t=new Ke(new cn([])),i=new Lr(t,e),r=new Lr(t,e+1),a=[];return this.ds.forEachInRange([i,r],u=>{this.gs(u),a.push(u.key)}),a}Is(){this.ls.forEach(e=>this.gs(e))}gs(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}Ts(e){const t=new Ke(new cn([])),i=new Lr(t,e),r=new Lr(t,e+1);let a=Zt();return this.ds.forEachInRange([i,r],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Lr(e,0),i=this.ls.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Lr{constructor(e,t){this.key=e,this.Es=t}static fs(e,t){return Ke.comparator(e.key,t.key)||Ht(e.Es,t.Es)}static _s(e,t){return Ht(e.Es,t.Es)||Ke.comparator(e.key,t.key)}}class tL{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.As=1,this.Rs=new Hn(Lr.fs)}checkEmpty(e){return se.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const a=this.As;this.As++;const u=new Jw(a,t,i,r);this.mutationQueue.push(u);for(const f of r)this.Rs=this.Rs.add(new Lr(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return se.resolve(u)}lookupMutationBatch(e,t){return se.resolve(this.vs(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.Ps(t+1),a=r<0?0:r;return se.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(0===this.mutationQueue.length?-1:this.As-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Lr(t,0),r=new Lr(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([i,r],u=>{const f=this.vs(u.Es);a.push(f)}),se.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Hn(Ht);return t.forEach(r=>{const a=new Lr(r,0),u=new Lr(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([a,u],f=>{i=i.add(f.Es)})}),se.resolve(this.bs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;Ke.isDocumentKey(a)||(a=a.child(""));const u=new Lr(new Ke(a),0);let f=new Hn(Ht);return this.Rs.forEachWhile(_=>{const w=_.key.path;return!!i.isPrefixOf(w)&&(w.length===r&&(f=f.add(_.Es)),!0)},u),se.resolve(this.bs(f))}bs(e){const t=[];return e.forEach(i=>{const r=this.vs(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){vt(0===this.Vs(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return se.forEach(t.mutations,r=>{const a=new Lr(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Dn(e){}containsKey(e,t){const i=new Lr(t,0),r=this.Rs.firstAfterOrEqual(i);return se.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return se.resolve()}Vs(e,t){return this.Ps(e)}Ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}vs(e){const t=this.Ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class nL{constructor(e){this.Ss=e,this.docs=new Un(Ke.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,u=this.Ss(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return se.resolve(i?i.document.mutableCopy():jn.newInvalidDocument(t))}getEntries(e,t){let i=es();return t.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():jn.newInvalidDocument(r))}),se.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let a=es();const u=t.path,f=new Ke(u.child("")),_=this.docs.getIteratorFrom(f);for(;_.hasNext();){const{key:w,value:{document:I}}=_.getNext();if(!u.isPrefixOf(w.path))break;w.path.length>u.length+1||My(vw(I),i)<=0||(r.has(I.key)||wf(t,I))&&(a=a.insert(I.key,I.mutableCopy()))}return se.resolve(a)}getAllFromCollectionGroup(e,t,i,r){ot()}Ds(e,t){return se.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new iL(this)}getSize(e){return se.resolve(this.size)}}class iL extends Jk{constructor(e){super(),this.rs=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.rs.addEntry(e,r)):this.rs.removeEntry(i)}),se.waitFor(t)}getFromCache(e,t){return this.rs.getEntry(e,t)}getAllFromCache(e,t){return this.rs.getEntries(e,t)}}class rL{constructor(e){this.persistence=e,this.Cs=new zc(t=>md(t),Hm),this.lastRemoteSnapshotVersion=gt.min(),this.highestTargetId=0,this.xs=0,this.Ns=new zA,this.targetCount=0,this.ks=og.Nn()}forEachTarget(e,t){return this.Cs.forEach((i,r)=>t(r)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.xs)}allocateTargetId(e){return this.highestTargetId=this.ks.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.xs&&(this.xs=t),se.resolve()}$n(e){this.Cs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ks=new og(t),this.highestTargetId=t),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}addTargetData(e,t){return this.$n(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.$n(t),se.resolve()}removeTargetData(e,t){return this.Cs.delete(t.target),this.Ns.ps(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.Cs.forEach((u,f)=>{f.sequenceNumber<=t&&null===i.get(f.targetId)&&(this.Cs.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),r++)}),se.waitFor(a).next(()=>r)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const i=this.Cs.get(t)||null;return se.resolve(i)}addMatchingKeys(e,t,i){return this.Ns.ws(t,i),se.resolve()}removeMatchingKeys(e,t,i){this.Ns.ys(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(u=>{a.push(r.markPotentiallyOrphaned(e,u))}),se.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ns.ps(t),se.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ns.Ts(t);return se.resolve(i)}containsKey(e,t){return se.resolve(this.Ns.containsKey(t))}}class GA{constructor(e,t){this.Ms={},this.overlays={},this.Os=new ws(0),this.$s=!1,this.$s=!0,this.referenceDelegate=e(this),this.Fs=new rL(this),this.indexManager=new zF,this.remoteDocumentCache=new nL(i=>this.referenceDelegate.Bs(i)),this.serializer=new Rk(t),this.Ls=new JF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new eL,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Ms[e.toKey()];return i||(i=new tL(t,this.referenceDelegate),this.Ms[e.toKey()]=i),i}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(e,t,i){Fe("MemoryPersistence","Starting transaction:",e);const r=new sL(this.Os.next());return this.referenceDelegate.qs(),i(r).next(a=>this.referenceDelegate.Us(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Ks(e,t){return se.or(Object.values(this.Ms).map(i=>()=>i.containsKey(e,t)))}}class sL extends ww{constructor(e){super(),this.currentSequenceNumber=e}}class cD{constructor(e){this.persistence=e,this.Gs=new zA,this.Qs=null}static js(e){return new cD(e)}get zs(){if(this.Qs)return this.Qs;throw ot()}addReference(e,t,i){return this.Gs.addReference(i,t),this.zs.delete(i.toString()),se.resolve()}removeReference(e,t,i){return this.Gs.removeReference(i,t),this.zs.add(i.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.zs.add(t.toString()),se.resolve()}removeTarget(e,t){this.Gs.ps(t.targetId).forEach(r=>this.zs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(a=>this.zs.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}qs(){this.Qs=new Set}Us(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.zs,i=>{const r=Ke.fromPath(i);return this.Ws(e,r).next(a=>{a||t.removeEntry(r,gt.min())})}).next(()=>(this.Qs=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ws(e,t).next(i=>{i?this.zs.delete(t.toString()):this.zs.add(t.toString())})}Bs(e){return 0}Ws(e,t){return se.or([()=>se.resolve(this.Gs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ks(e,t)])}}class oL{constructor(e){this.serializer=e}$(e,t,i,r){const a=new Pm("createOrUpgrade",t);var f;i<1&&r>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",MI,{unique:!0}),f.createObjectStore("documentMutations"),sO(e),function(f){f.createObjectStore("remoteDocuments")}(e));let u=se.resolve();return i<3&&r>=3&&(0!==i&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),sO(e)),u=u.next(()=>function(f){const _=f.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:gt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",w)}(a))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(f,_){return _.store("mutations").j().next(w=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",MI,{unique:!0});const I=_.store("mutations"),M=w.map(F=>I.put(F));return se.waitFor(M)})}(e,a))),u=u.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(u=u.next(()=>this.Js(a))),i<6&&r>=6&&(u=u.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Ys(a)))),i<7&&r>=7&&(u=u.next(()=>this.Xs(a))),i<8&&r>=8&&(u=u.next(()=>this.Zs(e,a))),i<9&&r>=9&&(u=u.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(u=u.next(()=>this.ti(a))),i<11&&r>=11&&(u=u.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(u=u.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:cA});_.createIndex("collectionPathOverlayIndex",yk,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",uA,{unique:!1})}(e)})),i<13&&r>=13&&(u=u.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:Ry});_.createIndex("documentKeyIndex",Iw),_.createIndex("collectionGroupIndex",gk)}(e)).next(()=>this.ei(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.ni(e,a))),i<15&&r>=15&&(u=u.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:lA}).createIndex("sequenceNumberIndex",OI,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:Dw}).createIndex("documentKeyIndex",_k,{unique:!1})}(e))),u}Ys(e){let t=0;return e.store("remoteDocuments").X((i,r)=>{t+=oD(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Js(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.j().next(r=>se.forEach(r,a=>{const u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",u).next(f=>se.forEach(f,_=>{vt(_.userId===a.userId);const w=ig(this.serializer,_);return qk(e,a.userId,w).next(()=>{})}))}))}Xs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const a=[];return i.X((u,f)=>{const _=new cn(u),w=[0,Pr(_)];a.push(t.get(w).next(I=>I?se.resolve():t.put({targetId:0,path:Pr(_),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>se.waitFor(a))})}Zs(e,t){e.createObjectStore("collectionParents",{keyPath:_f});const i=t.store("collectionParents"),r=new $A,a=u=>{if(r.add(u)){const f=u.lastSegment(),_=u.popLast();return i.put({collectionId:f,parent:Pr(_)})}};return t.store("remoteDocuments").X({Y:!0},(u,f)=>{const _=new cn(u);return a(_.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([u,f,_],w)=>{const I=xa(f);return a(I.popLast())}))}ti(e){const t=e.store("targets");return t.X((i,r)=>{const a=o0(r),u=Ok(this.serializer,a);return t.put(u)})}ei(e,t){const i=t.store("remoteDocuments"),r=[];return i.X((a,u)=>{const f=t.store("remoteDocumentsV14"),_=(w=u,w.document?new Ke(cn.fromString(w.document.name).popFirst(5)):w.noDocument?Ke.fromSegments(w.noDocument.path):w.unknownDocument?Ke.fromSegments(w.unknownDocument.path):ot()).path.toArray();var w;const I={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(f.put(I))}).next(()=>se.waitFor(r))}ni(e,t){const i=t.store("mutations"),r=eO(this.serializer),a=new GA(cD.js,this.serializer.le);return i.j().next(u=>{const f=new Map;return u.forEach(_=>{var w;let I=null!==(w=f.get(_.userId))&&void 0!==w?w:Zt();ig(this.serializer,_).keys().forEach(M=>I=I.add(M)),f.set(_.userId,I)}),se.forEach(f,(_,w)=>{const I=new tr(w),M=nD.fe(this.serializer,I),F=a.getIndexManager(I),B=aD.fe(I,this.serializer,F,a.referenceDelegate);return new rO(r,B,M,F).recalculateAndSaveOverlaysForDocumentKeys(new ky(t,ws.ct),_).next()})})}}function sO(n){n.createObjectStore("targetDocuments",{keyPath:aA}).createIndex("documentTargetsIndex",kI,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",RI,{unique:!0}),n.createObjectStore("targetGlobal")}const qA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class WA{constructor(e,t,i,r,a,u,f,_,w,I,M=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.si=a,this.window=u,this.document=f,this.ii=w,this.ri=I,this.oi=M,this.Os=null,this.$s=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.ai=null,this.hi=Number.NEGATIVE_INFINITY,this.li=F=>Promise.resolve(),!WA.D())throw new ke(ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new KF(this,r),this.fi=t+"main",this.serializer=new Rk(_),this.di=new $o(this.fi,this.oi,new oL(this.serializer)),this.Fs=new qF(this.referenceDelegate,this.serializer),this.remoteDocumentCache=eO(this.serializer),this.Ls=new LF,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===I&&gi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ke(ce.FAILED_PRECONDITION,qA);return this.mi(),this.gi(),this.yi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Fs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new ws(e,this.ii)}).then(()=>{this.$s=!0}).catch(e=>(this.di&&this.di.close(),Promise.reject(e)))}pi(e){var t=this;return this.li=function(){var i=(0,ye.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.di.B(function(){var t=(0,ye.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,ye.Z)(function*(){t.started&&(yield t.wi())})))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>dD(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ii(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)))})}).next(()=>this.Ti(e)).next(t=>this.isPrimary&&!t?this.Ei(e).next(()=>!1):!!t&&this.Ai(e).next(()=>!0))).catch(e=>{if(_i(e))return Fe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Fe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.li(e)),this.isPrimary=e})}Ii(e){return h0(e).get("owner").next(t=>se.resolve(this.Ri(t)))}vi(e){return dD(e).delete(this.clientId)}Pi(){var e=this;return(0,ye.Z)(function*(){if(e.isPrimary&&!e.bi(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=ji(i,"clientMetadata");return r.j().next(a=>{const u=e.Vi(a,18e5),f=a.filter(_=>-1===u.indexOf(_));return se.forEach(f,_=>r.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e._i)for(const i of t)e._i.removeItem(e.Si(i.clientId))}})()}yi(){this.ai=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Pi()).then(()=>this.yi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ti(e){return this.ri?se.resolve(!0):h0(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new ke(ce.FAILED_PRECONDITION,qA);return!1}}return!(!this.networkEnabled||!this.inForeground)||dD(e).j().next(i=>void 0===this.Vi(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,f=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Fe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ye.Z)(function*(){e.$s=!1,e.Ci(),e.ai&&(e.ai.cancel(),e.ai=null),e.xi(),e.Ni(),yield e.di.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new ky(t,ws.ct);return e.Ei(i).next(()=>e.vi(i))}),e.di.close(),e.ki()})()}Vi(e,t){return e.filter(i=>this.bi(i.updateTimeMs,t)&&!this.Di(i.clientId))}Mi(){return this.runTransaction("getActiveClients","readonly",e=>dD(e).j().next(t=>this.Vi(t,18e5).map(i=>i.clientId)))}get started(){return this.$s}getMutationQueue(e,t){return aD.fe(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new GF(e,this.serializer.le.databaseId)}getDocumentOverlayCache(e){return nD.fe(this.serializer,e)}getBundleCache(){return this.Ls}runTransaction(e,t,i){Fe("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",a=15===(u=this.oi)?hA:14===u?Sw:13===u?Tw:12===u?dA:11===u?PI:void ot();var u;let f;return this.di.runTransaction(e,r,a,_=>(f=new ky(_,this.Os?this.Os.next():ws.ct),"readwrite-primary"===t?this.Ii(f).next(w=>!!w||this.Ti(f)).next(w=>{if(!w)throw gi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)),new ke(ce.FAILED_PRECONDITION,bw);return i(f)}).next(w=>this.Ai(f).next(()=>w)):this.Oi(f).next(()=>i(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}Oi(e){return h0(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)&&!this.Ri(t)&&!(this.ri||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ke(ce.FAILED_PRECONDITION,qA)})}Ai(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return h0(e).put("owner",t)}static D(){return $o.D()}Ei(e){const t=h0(e);return t.get("owner").next(i=>this.Ri(i)?(Fe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):se.resolve())}bi(e,t){const i=Date.now();return!(e<i-t||e>i&&(gi(`Detected an update time that is in the future: ${e} > ${i}`),1))}mi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.wi()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Ci();const t=/(?:Version|Mobile)\/1[456]/;(0,an.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Ni(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Di(e){var t;try{const i=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Si(e)));return Fe("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return gi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ci(){if(this._i)try{this._i.setItem(this.Si(this.clientId),String(Date.now()))}catch(e){gi("Failed to set zombie client id.",e)}}ki(){if(this._i)try{this._i.removeItem(this.Si(this.clientId))}catch{}}Si(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function h0(n){return ji(n,"owner")}function dD(n){return ji(n,"clientMetadata")}function ZA(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class KA{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.$i=i,this.Fi=r}static Bi(e,t){let i=Zt(),r=Zt();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new KA(e,t.fromCache,i,r)}}class oO{constructor(){this.Li=!1}initialize(e,t){this.qi=e,this.indexManager=t,this.Li=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ui(e,t).next(a=>a||this.Ki(e,t,r,i)).next(a=>a||this.Gi(e,t))}Ui(e,t){if(CA(t))return se.resolve(null);let i=Nr(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=_d(t,null,"F"),i=Nr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const u=Zt(...a);return this.qi.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,i).next(_=>{const w=this.Qi(t,f);return this.ji(t,w,u,_.readTime)?this.Ui(e,_d(t,null,"F")):this.zi(e,w,t,_)}))})))}Ki(e,t,i,r){return CA(t)||r.isEqual(gt.min())?this.Gi(e,t):this.qi.getDocuments(e,i).next(a=>{const u=this.Qi(t,a);return this.ji(t,u,i,r)?this.Gi(e,t):(Iy()<=Rc.in.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Gw(t)),this.zi(e,u,t,EI(r,-1)))})}Qi(e,t){let i=new Hn(zI(e));return t.forEach((r,a)=>{wf(e,a)&&(i=i.add(a))}),i}ji(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Gi(e,t){return Iy()<=Rc.in.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",Gw(t)),this.qi.getDocumentsMatchingQuery(e,t,Jr.min())}zi(e,t,i,r){return this.qi.getDocumentsMatchingQuery(e,i,r).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}class aL{constructor(e,t,i,r){this.persistence=e,this.Wi=t,this.serializer=r,this.Hi=new Un(Ht),this.Ji=new zc(a=>md(a),Hm),this.Yi=new Map,this.Xi=e.getRemoteDocumentCache(),this.Fs=e.getTargetCache(),this.Ls=e.getBundleCache(),this.Zi(i)}Zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rO(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Hi))}}function aO(n,e,t,i){return new aL(n,e,t,i)}function lO(n,e){return YA.apply(this,arguments)}function YA(){return YA=(0,ye.Z)(function*(n,e){const t=Qe(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,t.Zi(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const u=[],f=[];let _=Zt();for(const w of r){u.push(w.batchId);for(const I of w.mutations)_=_.add(I.key)}for(const w of a){f.push(w.batchId);for(const I of w.mutations)_=_.add(I.key)}return t.localDocuments.getDocuments(i,_).next(w=>({tr:w,removedBatchIds:u,addedBatchIds:f}))})})}),YA.apply(this,arguments)}function lL(n,e){const t=Qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),a=t.Xi.newChangeBuffer({trackRemovals:!0});return function(u,f,_,w){const I=_.batch,M=I.keys();let F=se.resolve();return M.forEach(B=>{F=F.next(()=>w.getEntry(f,B)).next(W=>{const ie=_.docVersions.get(B);vt(null!==ie),W.version.compareTo(ie)<0&&(I.applyToRemoteDocument(W,_),W.isValidDocument()&&(W.setReadTime(_.commitVersion),w.addEntry(W)))})}),F.next(()=>u.mutationQueue.removeMutationBatch(f,I))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let f=Zt();for(let _=0;_<u.mutationResults.length;++_)u.mutationResults[_].transformResults.length>0&&(f=f.add(u.batch.mutations[_].key));return f}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function cO(n){const e=Qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Fs.getLastRemoteSnapshotVersion(t))}function cL(n,e){const t=Qe(n),i=e.snapshotVersion;let r=t.Hi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Xi.newChangeBuffer({trackRemovals:!0});r=t.Hi;const f=[];e.targetChanges.forEach((I,M)=>{const F=r.get(M);if(!F)return;f.push(t.Fs.removeMatchingKeys(a,I.removedDocuments,M).next(()=>t.Fs.addMatchingKeys(a,I.addedDocuments,M)));let B=F.withSequenceNumber(a.currentSequenceNumber);var W,ie,ve;null!==e.targetMismatches.get(M)?B=B.withResumeToken(ir.EMPTY_BYTE_STRING,gt.min()).withLastLimboFreeSnapshotVersion(gt.min()):I.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(I.resumeToken,i)),r=r.insert(M,B),ie=B,ve=I,(0===(W=F).resumeToken.approximateByteSize()||ie.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=3e8||ve.addedDocuments.size+ve.modifiedDocuments.size+ve.removedDocuments.size>0)&&f.push(t.Fs.updateTargetData(a,B))});let _=es(),w=Zt();if(e.documentUpdates.forEach(I=>{e.resolvedLimboDocuments.has(I)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,I))}),f.push(uO(a,u,e.documentUpdates).next(I=>{_=I.er,w=I.nr})),!i.isEqual(gt.min())){const I=t.Fs.getLastRemoteSnapshotVersion(a).next(M=>t.Fs.setTargetsMetadata(a,a.currentSequenceNumber,i));f.push(I)}return se.waitFor(f).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,_,w)).next(()=>_)}).then(a=>(t.Hi=r,a))}function uO(n,e,t){let i=Zt(),r=Zt();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let u=es();return t.forEach((f,_)=>{const w=a.get(f);_.isFoundDocument()!==w.isFoundDocument()&&(r=r.add(f)),_.isNoDocument()&&_.version.isEqual(gt.min())?(e.removeEntry(f,_.readTime),u=u.insert(f,_)):!w.isValidDocument()||_.version.compareTo(w.version)>0||0===_.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(_),u=u.insert(f,_)):Fe("LocalStore","Ignoring outdated watch update for ",f,". Current version:",w.version," Watch version:",_.version)}),{er:u,nr:r}})}function uL(n,e){const t=Qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function tv(n,e){const t=Qe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Fs.getTargetData(i,e).next(a=>a?(r=a,se.resolve(r)):t.Fs.allocateTargetId(i).next(u=>(r=new bd(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Fs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Hi.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Hi=t.Hi.insert(i.targetId,i),t.Ji.set(e,i.targetId)),i})}function nv(n,e,t){return QA.apply(this,arguments)}function QA(){return QA=(0,ye.Z)(function*(n,e,t){const i=Qe(n),r=i.Hi.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!_i(u))throw u;Fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.Hi=i.Hi.remove(e),i.Ji.delete(r.target)}),QA.apply(this,arguments)}function hD(n,e,t){const i=Qe(n);let r=gt.min(),a=Zt();return i.persistence.runTransaction("Execute query","readonly",u=>function(f,_,w){const I=Qe(f),M=I.Ji.get(w);return void 0!==M?se.resolve(I.Hi.get(M)):I.Fs.getTargetData(_,w)}(i,u,Nr(e)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.Fs.getMatchingKeysForTargetId(u,f.targetId).next(_=>{a=_})}).next(()=>i.Wi.getDocumentsMatchingQuery(u,e,t?r:gt.min(),t?a:Zt())).next(f=>(fO(i,qw(e),f),{documents:f,sr:a})))}function dO(n,e){const t=Qe(n),i=Qe(t.Fs),r=t.Hi.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",a=>i.he(a,e).next(u=>u?u.target:null))}function hO(n,e){const t=Qe(n),i=t.Yi.get(e)||gt.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Xi.getAllFromCollectionGroup(r,e,EI(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(fO(t,e,r),r))}function fO(n,e,t){let i=n.Yi.get(e)||gt.min();t.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Yi.set(e,i)}function XA(){return XA=(0,ye.Z)(function*(n,e,t,i){const r=Qe(n);let a=Zt(),u=es();for(const w of t){const I=e.ir(w.metadata.name);w.document&&(a=a.add(I));const M=e.rr(w);M.setReadTime(e.ur(w.metadata.readTime)),u=u.insert(I,M)}const f=r.Xi.newChangeBuffer({trackRemovals:!0}),_=yield tv(r,(w=i,Nr(gd(cn.fromString(`__bundle__/docs/${w}`)))));var w;return r.persistence.runTransaction("Apply bundle documents","readwrite",w=>uO(w,f,u).next(I=>(f.apply(w),I)).next(I=>r.Fs.removeMatchingKeysForTargetId(w,_.targetId).next(()=>r.Fs.addMatchingKeys(w,a,_.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(w,I.er,I.nr)).next(()=>I.er)))}),XA.apply(this,arguments)}function hL(n,e){return JA.apply(this,arguments)}function JA(){return JA=(0,ye.Z)(function*(n,e,t=Zt()){const i=yield tv(n,Nr(LA(e.bundledQuery))),r=Qe(n);return r.persistence.runTransaction("Save named query","readwrite",a=>{const u=ge(e.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.Ls.saveNamedQuery(a,e);const f=i.withResumeToken(ir.EMPTY_BYTE_STRING,u);return r.Hi=r.Hi.insert(f.targetId,f),r.Fs.updateTargetData(a,f).next(()=>r.Fs.removeMatchingKeysForTargetId(a,i.targetId)).next(()=>r.Fs.addMatchingKeys(a,t,i.targetId)).next(()=>r.Ls.saveNamedQuery(a,e))})}),JA.apply(this,arguments)}function pO(n,e){return`firestore_clients_${n}_${e}`}function mO(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function eM(n,e){return`firestore_targets_${n}_${e}`}class fD{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static cr(e,t,i){const r=JSON.parse(i);let a,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(a=new ke(r.error.code,r.error.message))),u?new fD(e,t,r.state,a):(gi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class f0{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static cr(e,t){const i=JSON.parse(t);let r,a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new ke(i.error.code,i.error.message))),a?new f0(e,i.state,r):(gi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class pD{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static cr(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,a=Ww();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=xy(i.activeTargetIds[u]),a=a.add(i.activeTargetIds[u]);return r?new pD(e,a):(gi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class tM{constructor(e,t){this.clientId=e,this.onlineState=t}static cr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new tM(t.clientId,t.onlineState):(gi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class nM{constructor(){this.activeTargetIds=Ww()}hr(e){this.activeTargetIds=this.activeTargetIds.add(e)}lr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ar(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iM{constructor(e,t,i,r,a){this.window=e,this.si=t,this.persistenceKey=i,this.dr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.wr.bind(this),this.mr=new Un(Ht),this.started=!1,this.gr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.yr=pO(this.persistenceKey,this.dr),this.pr=`firestore_sequence_number_${this.persistenceKey}`,this.mr=this.mr.insert(this.dr,new nM),this.Ir=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.Tr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.Er=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.Ar=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ye.Z)(function*(){const t=yield e.syncEngine.Mi();for(const r of t){if(r===e.dr)continue;const a=e.getItem(pO(e.persistenceKey,r));if(a){const u=pD.cr(r,a);u&&(e.mr=e.mr.insert(u.clientId,u))}}e.vr();const i=e.storage.getItem(e.Ar);if(i){const r=e.Pr(i);r&&e.br(r)}for(const r of e.gr)e.wr(r);e.gr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.pr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Vr(this.mr)}isActiveQueryTarget(e){let t=!1;return this.mr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Sr(e,"pending")}updateMutationState(e,t,i){this.Sr(e,t,i),this.Dr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(eM(this.persistenceKey,e));if(i){const r=f0.cr(e,i);r&&(t=r.state)}}return this.Cr.hr(e),this.vr(),t}removeLocalQueryTarget(e){this.Cr.lr(e),this.vr()}isLocalQueryTarget(e){return this.Cr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(eM(this.persistenceKey,e))}updateQueryState(e,t,i){this.Nr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Dr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.kr(e)}notifyBundleLoaded(e){this.Mr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.yr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Fe("SharedClientState","READ",e,t),t}setItem(e,t){Fe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Fe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}wr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Fe("SharedClientState","EVENT",i.key,i.newValue),i.key===this.yr)return void gi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,ye.Z)(function*(){if(t.started){if(null!==i.key)if(t.Ir.test(i.key)){if(null==i.newValue){const r=t.Or(i.key);return t.$r(r,null)}{const r=t.Fr(i.key,i.newValue);if(r)return t.$r(r.clientId,r)}}else if(t.Tr.test(i.key)){if(null!==i.newValue){const r=t.Br(i.key,i.newValue);if(r)return t.Lr(r)}}else if(t.Er.test(i.key)){if(null!==i.newValue){const r=t.qr(i.key,i.newValue);if(r)return t.Ur(r)}}else if(i.key===t.Ar){if(null!==i.newValue){const r=t.Pr(i.newValue);if(r)return t.br(r)}}else if(i.key===t.pr){const r=function(a){let u=ws.ct;if(null!=a)try{const f=JSON.parse(a);vt("number"==typeof f),u=f}catch(f){gi("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(i.newValue);r!==ws.ct&&t.sequenceNumberHandler(r)}else if(i.key===t.Rr){const r=t.Kr(i.newValue);yield Promise.all(r.map(a=>t.syncEngine.Gr(a)))}}else t.gr.push(i)}))}}get Cr(){return this.mr.get(this.dr)}vr(){this.setItem(this.yr,this.Cr.ar())}Sr(e,t,i){const r=new fD(this.currentUser,e,t,i),a=mO(this.persistenceKey,this.currentUser,e);this.setItem(a,r.ar())}Dr(e){const t=mO(this.persistenceKey,this.currentUser,e);this.removeItem(t)}kr(e){this.storage.setItem(this.Ar,JSON.stringify({clientId:this.dr,onlineState:e}))}Nr(e,t,i){const r=eM(this.persistenceKey,e),a=new f0(e,t,i);this.setItem(r,a.ar())}Mr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Ir.exec(e);return t?t[1]:null}Fr(e,t){const i=this.Or(e);return pD.cr(i,t)}Br(e,t){const i=this.Tr.exec(e),r=Number(i[1]);return fD.cr(new tr(void 0!==i[2]?i[2]:null),r,t)}qr(e,t){const i=this.Er.exec(e),r=Number(i[1]);return f0.cr(r,t)}Pr(e){return tM.cr(e)}Kr(e){return JSON.parse(e)}Lr(e){var t=this;return(0,ye.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Qr(e.batchId,e.state,e.error);Fe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Ur(e){return this.syncEngine.jr(e.targetId,e.state,e.error)}$r(e,t){const i=t?this.mr.insert(e,t):this.mr.remove(e),r=this.Vr(this.mr),a=this.Vr(i),u=[],f=[];return a.forEach(_=>{r.has(_)||u.push(_)}),r.forEach(_=>{a.has(_)||f.push(_)}),this.syncEngine.zr(u,f).then(()=>{this.mr=i})}br(e){this.mr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Vr(e){let t=Ww();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class gO{constructor(){this.Wr=new nM,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}updateQueryState(e,t,i){this.Hr[e]=t}removeLocalQueryTarget(e){this.Wr.lr(e)}isLocalQueryTarget(e){return this.Wr.activeTargetIds.has(e)}clearQueryState(e){delete this.Hr[e]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(e){return this.Wr.activeTargetIds.has(e)}start(){return this.Wr=new nM,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class fL{Jr(e){}shutdown(){}}class _O{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(e){this.no.push(e)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.no)e(0)}eo(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.no)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let mD=null;function rM(){return null===mD?mD=268435456+Math.round(2147483648*Math.random()):mD++,"0x"+mD.toString(16)}const pL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mL{constructor(e){this.io=e.io,this.ro=e.ro}oo(e){this.uo=e}co(e){this.ao=e}onMessage(e){this.ho=e}close(){this.ro()}send(e){this.io(e)}lo(){this.uo()}fo(e){this.ao(e)}_o(e){this.ho(e)}}const Is="WebChannelConnection";class gL extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.wo=(e.ssl?"https":"http")+"://"+e.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(e,t,i,r,a){const u=rM(),f=this.Io(e,t);Fe("RestConnection",`Sending RPC '${e}' ${u}:`,f,i);const _={};return this.To(_,r,a),this.Eo(e,f,_,i).then(w=>(Fe("RestConnection",`Received RPC '${e}' ${u}: `,w),w),w=>{throw Ws("RestConnection",`RPC '${e}' ${u} failed with error: `,w,"url: ",f,"request:",i),w})}Ao(e,t,i,r,a,u){return this.po(e,t,i,r,a)}To(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Aa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,a)=>e[a]=r),i&&i.headers.forEach((r,a)=>e[a]=r)}Io(e,t){return`${this.wo}/v1/${t}:${pL[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Eo(e,t,i,r){const a=rM();return new Promise((u,f)=>{const _=new eA;_.setWithCredentials(!0),_.listenOnce(XS.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case pw.NO_ERROR:const I=_.getResponseJson();Fe(Is,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(I)),u(I);break;case pw.TIMEOUT:Fe(Is,`RPC '${e}' ${a} timed out`),f(new ke(ce.DEADLINE_EXCEEDED,"Request time out"));break;case pw.HTTP_ERROR:const M=_.getStatus();if(Fe(Is,`RPC '${e}' ${a} failed with status:`,M,"response text:",_.getResponseText()),M>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const B=F?.error;if(B&&B.status&&B.message){const W=function(ie){const ve=ie.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(ve)>=0?ve:ce.UNKNOWN}(B.status);f(new ke(W,B.message))}else f(new ke(ce.UNKNOWN,"Server responded with status "+_.getStatus()))}else f(new ke(ce.UNAVAILABLE,"Connection failed."));break;default:ot()}}finally{Fe(Is,`RPC '${e}' ${a} completed.`)}});const w=JSON.stringify(r);Fe(Is,`RPC '${e}' ${a} sending request:`,r),_.send(t,"POST",w,i,15)})}Ro(e,t,i){const r=rM(),a=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=fk(),f=QS(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(_.xmlHttpFactory=new JS({})),this.To(_.initMessageHeaders,t,i),_.encodeInitMessageHeaders=!0;const w=a.join("");Fe(Is,`Creating RPC '${e}' stream ${r}: ${w}`,_);const I=u.createWebChannel(w,_);let M=!1,F=!1;const B=new mL({io:ie=>{F?Fe(Is,`Not sending because RPC '${e}' stream ${r} is closed:`,ie):(M||(Fe(Is,`Opening RPC '${e}' stream ${r} transport.`),I.open(),M=!0),Fe(Is,`RPC '${e}' stream ${r} sending:`,ie),I.send(ie))},ro:()=>I.close()}),W=(ie,ve,$e)=>{ie.listen(ve,rt=>{try{$e(rt)}catch(Je){setTimeout(()=>{throw Je},0)}})};return W(I,Cy.EventType.OPEN,()=>{F||Fe(Is,`RPC '${e}' stream ${r} transport opened.`)}),W(I,Cy.EventType.CLOSE,()=>{F||(F=!0,Fe(Is,`RPC '${e}' stream ${r} transport closed`),B.fo())}),W(I,Cy.EventType.ERROR,ie=>{F||(F=!0,Ws(Is,`RPC '${e}' stream ${r} transport errored:`,ie),B.fo(new ke(ce.UNAVAILABLE,"The operation could not be completed")))}),W(I,Cy.EventType.MESSAGE,ie=>{var ve;if(!F){const $e=ie.data[0];vt(!!$e);const rt=$e,Je=rt.error||(null===(ve=rt[0])||void 0===ve?void 0:ve.error);if(Je){Fe(Is,`RPC '${e}' stream ${r} received error:`,Je);const Ct=Je.status;let jt=function(Tn){const Vr=$i[Tn];if(void 0!==Vr)return JI(Vr)}(Ct),Gt=Je.message;void 0===jt&&(jt=ce.INTERNAL,Gt="Unknown error status: "+Ct+" with message "+Je.message),F=!0,B.fo(new ke(jt,Gt)),I.close()}else Fe(Is,`RPC '${e}' stream ${r} received:`,$e),B._o($e)}}),W(f,gI.STAT_EVENT,ie=>{ie.stat===_I.PROXY?Fe(Is,`RPC '${e}' stream ${r} detected buffering proxy`):ie.stat===_I.NOPROXY&&Fe(Is,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{B.lo()},0),B}}function yO(){return typeof window<"u"?window:null}function gD(){return typeof document<"u"?document:null}function p0(n){return new Ce(n,!0)}class sM{constructor(e,t,i=1e3,r=1.5,a=6e4){this.si=e,this.timerId=t,this.vo=i,this.Po=r,this.bo=a,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();const t=Math.floor(this.Vo+this.No()),i=Math.max(0,Date.now()-this.Do),r=Math.max(0,t-i);r>0&&Fe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Vo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Do=Date.now(),e())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){null!==this.So&&(this.So.skipDelay(),this.So=null)}cancel(){null!==this.So&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}class vO{constructor(e,t,i,r,a,u,f,_){this.si=e,this.Mo=i,this.Oo=r,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new sM(e,t)}qo(){return 1===this.state||5===this.state||this.Uo()}Uo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Ko()}stop(){var e=this;return(0,ye.Z)(function*(){e.qo()&&(yield e.close(0))})()}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(e){this.Wo(),this.stream.send(e)}jo(){var e=this;return(0,ye.Z)(function*(){if(e.Uo())return e.close(0)})()}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}close(e,t){var i=this;return(0,ye.Z)(function*(){i.Wo(),i.Ho(),i.Lo.cancel(),i.$o++,4!==e?i.Lo.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(gi(t.toString()),gi("Using maximum backoff delay to prevent overloading the backend."),i.Lo.Co()):t&&t.code===ce.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Jo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.co(t)})()}Jo(){}auth(){this.state=1;const e=this.Yo(this.$o),t=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.$o===t&&this.Xo(i,r)},i=>{e(()=>{const r=new ke(ce.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Zo(r)})})}Xo(e,t){const i=this.Yo(this.$o);this.stream=this.tu(e,t),this.stream.oo(()=>{i(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(r=>{i(()=>this.Zo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Ko(){var e=this;this.state=5,this.Lo.xo((0,ye.Z)(function*(){e.state=0,e.start()}))}Zo(e){return Fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Yo(e){return t=>{this.si.enqueueAndForget(()=>this.$o===e?t():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _L extends vO{constructor(e,t,i,r,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,u),this.serializer=a}tu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.Lo.reset();const t=function s0(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:ot(),r=e.targetChange.targetIds||[],a=function(_,w){return _.useProto3Json?(vt(void 0===w||"string"==typeof w),ir.fromBase64String(w||"")):(vt(void 0===w||w instanceof Uint8Array),ir.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(_){const w=void 0===_.code?ce.UNKNOWN:JI(_.code);return new ke(w,_.message||"")}(u);t=new v(i,r,a,f||null)}else if("documentChange"in e){const i=e.documentChange,r=Fr(n,i.document.name),a=ge(i.document.updateTime),u=i.document.createTime?ge(i.document.createTime):gt.min(),f=new gr({mapValue:{fields:i.document.fields}}),_=jn.newFoundDocument(r,a,u,f);t=new h(i.targetIds||[],i.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const i=e.documentDelete,r=Fr(n,i.document),a=i.readTime?ge(i.readTime):gt.min(),u=jn.newNoDocument(r,a);t=new h([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const i=e.documentRemove,r=Fr(n,i.document);t=new h([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return ot();{const i=e.filter,{count:r=0,unchangedNames:a}=i,u=new Ik(r,a);t=new g(i.targetId,u)}}var _;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return gt.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?gt.min():a.readTime?ge(a.readTime):gt.min()}(e);return this.listener.eu(t,i)}nu(e){const t={};t.database=yd(this.serializer),t.addTarget=function(r,a){let u;const f=a.target;if(u=Uy(f)?{documents:Tk(r,f)}:{query:FA(r,f)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){u.resumeToken=ft(r,a.resumeToken);const _=Be(r,a.expectedCount);null!==_&&(u.expectedCount=_)}else if(a.snapshotVersion.compareTo(gt.min())>0){u.readTime=qe(r,a.snapshotVersion.toTimestamp());const _=Be(r,a.expectedCount);null!==_&&(u.expectedCount=_)}return u}(this.serializer,e);const i=function RF(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ot()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.zo(t)}su(e){const t={};t.database=yd(this.serializer),t.removeTarget=e,this.zo(t)}}class yL extends vO{constructor(e,t,i,r,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,u),this.serializer=a,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(vt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();const t=function xF(n,e){return n&&n.length>0?(vt(void 0!==e),n.map(t=>function(i,r){let a=ge(i.updateTime?i.updateTime:r);return a.isEqual(gt.min())&&(a=ge(r)),new MA(a,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=ge(e.commitTime);return this.listener.uu(i,t)}return vt(!e.writeResults||0===e.writeResults.length),this.iu=!0,this.listener.cu()}au(){const e={};e.database=yd(this.serializer),this.zo(e)}ou(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>vd(this.serializer,i))};this.zo(t)}}class vL extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.hu=!1}lu(){if(this.hu)throw new ke(ce.FAILED_PRECONDITION,"The client has already been terminated.")}po(e,t,i){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.po(e,t,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ke(ce.UNKNOWN,r.toString())})}Ao(e,t,i,r){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Ao(e,t,i,a,u,r)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ke(ce.UNKNOWN,a.toString())})}terminate(){this.hu=!0}}class wL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(e){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.gu("Offline")))}set(e){this.Iu(),this.du=0,"Online"===e&&(this.wu=!1),this.gu(e)}gu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}yu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(gi(t),this.wu=!1):Fe("OnlineStateTracker",t)}Iu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class EL{constructor(e,t,i,r,a){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=a,this.vu.Jr(f=>{i.enqueueAndForget((0,ye.Z)(function*(){var _;Sf(u)&&(Fe("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,ye.Z)(function*(w){const I=Qe(w);I.Au.add(4),yield iv(I),I.Pu.set("Unknown"),I.Au.delete(4),yield m0(I)}),function(w){return _.apply(this,arguments)})(u))}))}),this.Pu=new wL(i,r)}}function m0(n){return aM.apply(this,arguments)}function aM(){return aM=(0,ye.Z)(function*(n){if(Sf(n))for(const e of n.Ru)yield e(!0)}),aM.apply(this,arguments)}function iv(n){return lM.apply(this,arguments)}function lM(){return lM=(0,ye.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),lM.apply(this,arguments)}function _D(n,e){const t=Qe(n);t.Eu.has(e.targetId)||(t.Eu.set(e.targetId,e),dM(t)?uM(t):sv(t).Uo()&&cM(t,e))}function g0(n,e){const t=Qe(n),i=sv(t);t.Eu.delete(e),i.Uo()&&bO(t,e),0===t.Eu.size&&(i.Uo()?i.Qo():Sf(t)&&t.Pu.set("Unknown"))}function cM(n,e){if(n.bu.Lt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(gt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}sv(n).nu(e)}function bO(n,e){n.bu.Lt(e),sv(n).su(e)}function uM(n){n.bu=new D({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),he:e=>n.Eu.get(e)||null,oe:()=>n.datastore.serializer.databaseId}),sv(n).start(),n.Pu.mu()}function dM(n){return Sf(n)&&!sv(n).qo()&&n.Eu.size>0}function Sf(n){return 0===Qe(n).Au.size}function wO(n){n.bu=void 0}function CL(n){return hM.apply(this,arguments)}function hM(){return hM=(0,ye.Z)(function*(n){n.Eu.forEach((e,t)=>{cM(n,e)})}),hM.apply(this,arguments)}function IL(n,e){return fM.apply(this,arguments)}function fM(){return fM=(0,ye.Z)(function*(n,e){wO(n),dM(n)?(n.Pu.pu(e),uM(n)):n.Pu.set("Unknown")}),fM.apply(this,arguments)}function DL(n,e,t){return pM.apply(this,arguments)}function pM(){return pM=(0,ye.Z)(function*(n,e,t){if(n.Pu.set("Online"),e instanceof v&&2===e.state&&e.cause)try{yield(i=(0,ye.Z)(function*(r,a){const u=a.cause;for(const f of a.targetIds)r.Eu.has(f)&&(yield r.remoteSyncer.rejectListen(f,u),r.Eu.delete(f),r.bu.removeTarget(f))}),function(r,a){return i.apply(this,arguments)})(n,e)}catch(i){Fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield yD(n,i)}else if(e instanceof h?n.bu.Wt(e):e instanceof g?n.bu.ee(e):n.bu.Yt(e),!t.isEqual(gt.min()))try{const i=yield cO(n.localStore);t.compareTo(i)>=0&&(yield function(r,a){const u=r.bu.ue(a);return u.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const w=r.Eu.get(_);w&&r.Eu.set(_,w.withResumeToken(f.resumeToken,a))}}),u.targetMismatches.forEach((f,_)=>{const w=r.Eu.get(f);if(!w)return;r.Eu.set(f,w.withResumeToken(ir.EMPTY_BYTE_STRING,w.snapshotVersion)),bO(r,f);const I=new bd(w.target,f,_,w.sequenceNumber);cM(r,I)}),r.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(i){Fe("RemoteStore","Failed to raise snapshot:",i),yield yD(n,i)}var i}),pM.apply(this,arguments)}function yD(n,e,t){return mM.apply(this,arguments)}function mM(){return mM=(0,ye.Z)(function*(n,e,t){if(!_i(e))throw e;n.Au.add(1),yield iv(n),n.Pu.set("Offline"),t||(t=()=>cO(n.localStore)),n.asyncQueue.enqueueRetryable((0,ye.Z)(function*(){Fe("RemoteStore","Retrying IndexedDB access"),yield t(),n.Au.delete(1),yield m0(n)}))}),mM.apply(this,arguments)}function EO(n,e){return e().catch(t=>yD(n,t,e))}function rv(n){return gM.apply(this,arguments)}function gM(){return gM=(0,ye.Z)(function*(n){const e=Qe(n),t=Af(e);let i=e.Tu.length>0?e.Tu[e.Tu.length-1].batchId:-1;for(;TL(e);)try{const r=yield uL(e.localStore,i);if(null===r){0===e.Tu.length&&t.Qo();break}i=r.batchId,SL(e,r)}catch(r){yield yD(e,r)}CO(e)&&IO(e)}),gM.apply(this,arguments)}function TL(n){return Sf(n)&&n.Tu.length<10}function SL(n,e){n.Tu.push(e);const t=Af(n);t.Uo()&&t.ru&&t.ou(e.mutations)}function CO(n){return Sf(n)&&!Af(n).qo()&&n.Tu.length>0}function IO(n){Af(n).start()}function AL(n){return _M.apply(this,arguments)}function _M(){return _M=(0,ye.Z)(function*(n){Af(n).au()}),_M.apply(this,arguments)}function ML(n){return yM.apply(this,arguments)}function yM(){return yM=(0,ye.Z)(function*(n){const e=Af(n);for(const t of n.Tu)e.ou(t.mutations)}),yM.apply(this,arguments)}function xL(n,e,t){return vM.apply(this,arguments)}function vM(){return vM=(0,ye.Z)(function*(n,e,t){const i=n.Tu.shift(),r=e0.from(i,e,t);yield EO(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield rv(n)}),vM.apply(this,arguments)}function RL(n,e){return bM.apply(this,arguments)}function bM(){return bM=(0,ye.Z)(function*(n,e){var t;e&&Af(n).ru&&(yield(t=(0,ye.Z)(function*(i,r){if(RA(a=r.code)&&a!==ce.ABORTED){const u=i.Tu.shift();Af(i).Go(),yield EO(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield rv(i)}var a}),function(i,r){return t.apply(this,arguments)})(n,e)),CO(n)&&IO(n)}),bM.apply(this,arguments)}function DO(n,e){return wM.apply(this,arguments)}function wM(){return wM=(0,ye.Z)(function*(n,e){const t=Qe(n);t.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");const i=Sf(t);t.Au.add(3),yield iv(t),i&&t.Pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Au.delete(3),yield m0(t)}),wM.apply(this,arguments)}function EM(n,e){return CM.apply(this,arguments)}function CM(){return CM=(0,ye.Z)(function*(n,e){const t=Qe(n);e?(t.Au.delete(2),yield m0(t)):e||(t.Au.add(2),yield iv(t),t.Pu.set("Unknown"))}),CM.apply(this,arguments)}function sv(n){return n.Vu||(n.Vu=function(e,t,i){const r=Qe(e);return r.lu(),new _L(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{oo:CL.bind(null,n),co:IL.bind(null,n),eu:DL.bind(null,n)}),n.Ru.push(function(){var e=(0,ye.Z)(function*(t){t?(n.Vu.Go(),dM(n)?uM(n):n.Pu.set("Unknown")):(yield n.Vu.stop(),wO(n))});return function(t){return e.apply(this,arguments)}}())),n.Vu}function Af(n){return n.Su||(n.Su=function(e,t,i){const r=Qe(e);return r.lu(),new yL(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{oo:AL.bind(null,n),co:RL.bind(null,n),cu:ML.bind(null,n),uu:xL.bind(null,n)}),n.Ru.push(function(){var e=(0,ye.Z)(function*(t){t?(n.Su.Go(),yield rv(n)):(yield n.Su.stop(),n.Tu.length>0&&(Fe("RemoteStore",`Stopping write stream with ${n.Tu.length} pending writes`),n.Tu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Su}class IM{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,i,r,a){const u=Date.now()+i,f=new IM(e,t,u,r,a);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ke(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ov(n,e){if(gi("AsyncQueue",`${e}: ${n}`),_i(n))return new ke(ce.UNAVAILABLE,`${e}: ${n}`);throw n}class av{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ke.comparator(t.key,i.key):(t,i)=>Ke.comparator(t.key,i.key),this.keyedMap=zm(),this.sortedSet=new Un(this.comparator)}static emptySet(e){return new av(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof av)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new av;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class TO{constructor(){this.Du=new Un(Ke.comparator)}track(e){const t=e.doc.key,i=this.Du.get(t);i?0!==e.type&&3===i.type?this.Du=this.Du.insert(t,e):3===e.type&&1!==i.type?this.Du=this.Du.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Du=this.Du.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Du=this.Du.remove(t):1===e.type&&2===i.type?this.Du=this.Du.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):ot():this.Du=this.Du.insert(t,e)}Cu(){const e=[];return this.Du.inorderTraversal((t,i)=>{e.push(i)}),e}}class lv{constructor(e,t,i,r,a,u,f,_,w){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=_,this.hasCachedResults=w}static fromInitialDocuments(e,t,i,r,a){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new lv(e,t,av.emptySet(t),u,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$c(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class kL{constructor(){this.xu=void 0,this.listeners=[]}}class OL{constructor(){this.queries=new zc(e=>zw(e),$c),this.onlineState="Unknown",this.Nu=new Set}}function DM(n,e){return TM.apply(this,arguments)}function TM(){return TM=(0,ye.Z)(function*(n,e){const t=Qe(n),i=e.query;let r=!1,a=t.queries.get(i);if(a||(r=!0,a=new kL),r)try{a.xu=yield t.onListen(i)}catch(u){const f=ov(u,`Initialization of query '${Gw(e.query)}' failed`);return void e.onError(f)}t.queries.set(i,a),a.listeners.push(e),e.ku(t.onlineState),a.xu&&e.Mu(a.xu)&&MM(t)}),TM.apply(this,arguments)}function SM(n,e){return AM.apply(this,arguments)}function AM(){return AM=(0,ye.Z)(function*(n,e){const t=Qe(n),i=e.query;let r=!1;const a=t.queries.get(i);if(a){const u=a.listeners.indexOf(e);u>=0&&(a.listeners.splice(u,1),r=0===a.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),AM.apply(this,arguments)}function PL(n,e){const t=Qe(n);let i=!1;for(const r of e){const u=t.queries.get(r.query);if(u){for(const f of u.listeners)f.Mu(r)&&(i=!0);u.xu=r}}i&&MM(t)}function NL(n,e,t){const i=Qe(n),r=i.queries.get(e);if(r)for(const a of r.listeners)a.onError(t);i.queries.delete(e)}function MM(n){n.Nu.forEach(e=>{e.next()})}class xM{constructor(e,t,i){this.query=e,this.Ou=t,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=i||{}}Mu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new lv(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),t=!0):this.Lu(e,this.onlineState)&&(this.qu(e),t=!0),this.Fu=e,t}onError(e){this.Ou.error(e)}ku(e){this.onlineState=e;let t=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),t=!0),t}Lu(e,t){return!e.fromCache||(!this.options.Uu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Bu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}qu(e){e=lv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}class FL{constructor(e,t){this.Ku=e,this.byteLength=t}Gu(){return"metadata"in this.Ku}}class SO{constructor(e){this.serializer=e}ir(e){return Fr(this.serializer,e)}rr(e){return e.metadata.exists?Qy(this.serializer,e.document,!1):jn.newNoDocument(this.ir(e.metadata.name),this.ur(e.metadata.readTime))}ur(e){return ge(e)}}class LL{constructor(e,t,i){this.Qu=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=AO(e)}ju(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ku.namedQuery)this.queries.push(e.Ku.namedQuery);else if(e.Ku.documentMetadata){this.documents.push({metadata:e.Ku.documentMetadata}),e.Ku.documentMetadata.exists||++t;const i=cn.fromString(e.Ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Ku.document&&(this.documents[this.documents.length-1].document=e.Ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}zu(e){const t=new Map,i=new SO(this.serializer);for(const r of e)if(r.metadata.queries){const a=i.ir(r.metadata.name);for(const u of r.metadata.queries){const f=(t.get(u)||Zt()).add(a);t.set(u,f)}}return t}complete(){var e=this;return(0,ye.Z)(function*(){const t=yield function dL(n,e,t,i){return XA.apply(this,arguments)}(e.localStore,new SO(e.serializer),e.documents,e.Qu.id),i=e.zu(e.documents);for(const r of e.queries)yield hL(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Wu:e.collectionGroups,Hu:t}})()}}function AO(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class MO{constructor(e){this.key=e}}class xO{constructor(e){this.key=e}}class RO{constructor(e,t){this.query=e,this.Ju=t,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=Zt(),this.mutatedKeys=Zt(),this.Zu=zI(e),this.tc=new av(this.Zu)}get ec(){return this.Ju}nc(e,t){const i=t?t.sc:new TO,r=t?t.tc:this.tc;let a=t?t.mutatedKeys:this.mutatedKeys,u=r,f=!1;const _="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,w="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((I,M)=>{const F=r.get(I),B=wf(this.query,M)?M:null,W=!!F&&this.mutatedKeys.has(F.key),ie=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let ve=!1;F&&B?F.data.isEqual(B.data)?W!==ie&&(i.track({type:3,doc:B}),ve=!0):this.ic(F,B)||(i.track({type:2,doc:B}),ve=!0,(_&&this.Zu(B,_)>0||w&&this.Zu(B,w)<0)&&(f=!0)):!F&&B?(i.track({type:0,doc:B}),ve=!0):F&&!B&&(i.track({type:1,doc:F}),ve=!0,(_||w)&&(f=!0)),ve&&(B?(u=u.add(B),a=ie?a.add(I):a.delete(I)):(u=u.delete(I),a=a.delete(I)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const I="F"===this.query.limitType?u.last():u.first();u=u.delete(I.key),a=a.delete(I.key),i.track({type:1,doc:I})}return{tc:u,sc:i,ji:f,mutatedKeys:a}}ic(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;const a=e.sc.Cu();a.sort((w,I)=>function(M,F){const B=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot()}};return B(M)-B(F)}(w.type,I.type)||this.Zu(w.doc,I.doc)),this.rc(i);const u=t?this.oc():[],f=0===this.Xu.size&&this.current?1:0,_=f!==this.Yu;return this.Yu=f,0!==a.length||_?{snapshot:new lv(this.query,e.tc,r,a,e.mutatedKeys,0===f,_,!1,!!i&&i.resumeToken.approximateByteSize()>0),uc:u}:{uc:u}}ku(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tc:this.tc,sc:new TO,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}rc(e){e&&(e.addedDocuments.forEach(t=>this.Ju=this.Ju.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ju=this.Ju.delete(t)),this.current=e.current)}oc(){if(!this.current)return[];const e=this.Xu;this.Xu=Zt(),this.tc.forEach(i=>{this.cc(i.key)&&(this.Xu=this.Xu.add(i.key))});const t=[];return e.forEach(i=>{this.Xu.has(i)||t.push(new xO(i))}),this.Xu.forEach(i=>{e.has(i)||t.push(new MO(i))}),t}ac(e){this.Ju=e.sr,this.Xu=Zt();const t=this.nc(e.documents);return this.applyChanges(t,!0)}hc(){return lv.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}class VL{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class BL{constructor(e){this.key=e,this.lc=!1}}class UL{constructor(e,t,i,r,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.fc={},this.dc=new zc(f=>zw(f),$c),this._c=new Map,this.wc=new Set,this.mc=new Un(Ke.comparator),this.gc=new Map,this.yc=new zA,this.Ic={},this.Tc=new Map,this.Ec=og.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return!0===this.Ac}}function HL(n,e){return RM.apply(this,arguments)}function RM(){return RM=(0,ye.Z)(function*(n,e){const t=ex(n);let i,r;const a=t.dc.get(e);if(a)i=a.targetId,t.sharedClientState.addLocalQueryTarget(i),r=a.view.hc();else{const u=yield tv(t.localStore,Nr(e)),f=t.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield kM(t,e,i,"current"===f,u.resumeToken),t.isPrimaryClient&&_D(t.remoteStore,u)}return r}),RM.apply(this,arguments)}function kM(n,e,t,i,r){return OM.apply(this,arguments)}function OM(){return OM=(0,ye.Z)(function*(n,e,t,i,r){n.Rc=(M,F,B)=>{return(W=(0,ye.Z)(function*(ie,ve,$e,rt){let Je=ve.view.nc($e);Je.ji&&(Je=yield hD(ie.localStore,ve.query,!1).then(({documents:Gt})=>ve.view.nc(Gt,Je)));const Ct=rt&&rt.targetChanges.get(ve.targetId),jt=ve.view.applyChanges(Je,ie.isPrimaryClient,Ct);return $M(ie,ve.targetId,jt.uc),jt.snapshot}),function(ie,ve,$e,rt){return W.apply(this,arguments)})(n,M,F,B);var W};const a=yield hD(n.localStore,e,!0),u=new RO(e,a.sr),f=u.nc(a.documents),_=d.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),w=u.applyChanges(f,n.isPrimaryClient,_);$M(n,t,w.uc);const I=new VL(e,t,u);return n.dc.set(e,I),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),w.snapshot}),OM.apply(this,arguments)}function jL(n,e){return PM.apply(this,arguments)}function PM(){return PM=(0,ye.Z)(function*(n,e){const t=Qe(n),i=t.dc.get(e),r=t._c.get(i.targetId);if(r.length>1)return t._c.set(i.targetId,r.filter(a=>!$c(a,e))),void t.dc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield nv(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),g0(t.remoteStore,i.targetId),cv(t,i.targetId)}).catch(Ll))):(cv(t,i.targetId),yield nv(t.localStore,i.targetId,!0))}),PM.apply(this,arguments)}function NM(){return NM=(0,ye.Z)(function*(n,e,t){const i=tx(n);try{const r=yield function(a,u){const f=Qe(a),_=Kn.now(),w=u.reduce((F,B)=>F.add(B.key),Zt());let I,M;return f.persistence.runTransaction("Locally write mutations","readwrite",F=>{let B=es(),W=Zt();return f.Xi.getEntries(F,w).next(ie=>{B=ie,B.forEach((ve,$e)=>{$e.isValidDocument()||(W=W.add(ve))})}).next(()=>f.localDocuments.getOverlayedDocuments(F,B)).next(ie=>{I=ie;const ve=[];for(const $e of u){const rt=KI($e,I.get($e.key).overlayedDocument);null!=rt&&ve.push(new Oa($e.key,rt,Fw(rt.value.mapValue),ei.exists(!0)))}return f.mutationQueue.addMutationBatch(F,_,ve,u)}).next(ie=>{M=ie;const ve=ie.applyToLocalDocumentSet(I,W);return f.documentOverlayCache.saveOverlays(F,ie.batchId,ve)})}).then(()=>({batchId:M.batchId,changes:qI(I)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,u,f){let _=a.Ic[a.currentUser.toKey()];_||(_=new Un(Ht)),_=_.insert(u,f),a.Ic[a.currentUser.toKey()]=_}(i,r.batchId,t),yield wd(i,r.changes),yield rv(i.remoteStore)}catch(r){const a=ov(r,"Failed to persist write");t.reject(a)}}),NM.apply(this,arguments)}function kO(n,e){return FM.apply(this,arguments)}function FM(){return FM=(0,ye.Z)(function*(n,e){const t=Qe(n);try{const i=yield cL(t.localStore,e);e.targetChanges.forEach((r,a)=>{const u=t.gc.get(a);u&&(vt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.lc=!0:r.modifiedDocuments.size>0?vt(u.lc):r.removedDocuments.size>0&&(vt(u.lc),u.lc=!1))}),yield wd(t,i,e)}catch(i){yield Ll(i)}}),FM.apply(this,arguments)}function OO(n,e,t){const i=Qe(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.dc.forEach((a,u)=>{const f=u.view.ku(e);f.snapshot&&r.push(f.snapshot)}),function(a,u){const f=Qe(a);f.onlineState=u;let _=!1;f.queries.forEach((w,I)=>{for(const M of I.listeners)M.ku(u)&&(_=!0)}),_&&MM(f)}(i.eventManager,e),r.length&&i.fc.eu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function zL(n,e,t){return LM.apply(this,arguments)}function LM(){return LM=(0,ye.Z)(function*(n,e,t){const i=Qe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.gc.get(e),a=r&&r.key;if(a){let u=new Un(Ke.comparator);u=u.insert(a,jn.newNoDocument(a,gt.min()));const f=Zt().add(a),_=new l(gt.min(),new Map,new Un(Ht),u,f);yield kO(i,_),i.mc=i.mc.remove(a),i.gc.delete(e),zM(i)}else yield nv(i.localStore,e,!1).then(()=>cv(i,e,t)).catch(Ll)}),LM.apply(this,arguments)}function GL(n,e){return VM.apply(this,arguments)}function VM(){return VM=(0,ye.Z)(function*(n,e){const t=Qe(n),i=e.batch.batchId;try{const r=yield lL(t.localStore,e);jM(t,i,null),HM(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield wd(t,r)}catch(r){yield Ll(r)}}),VM.apply(this,arguments)}function qL(n,e,t){return BM.apply(this,arguments)}function BM(){return BM=(0,ye.Z)(function*(n,e,t){const i=Qe(n);try{const r=yield function(a,u){const f=Qe(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return f.mutationQueue.lookupMutationBatch(_,u).next(I=>(vt(null!==I),w=I.keys(),f.mutationQueue.removeMutationBatch(_,I))).next(()=>f.mutationQueue.performConsistencyCheck(_)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(_,w,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w)).next(()=>f.localDocuments.getDocuments(_,w))})}(i.localStore,e);jM(i,e,t),HM(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield wd(i,r)}catch(r){yield Ll(r)}}),BM.apply(this,arguments)}function UM(){return UM=(0,ye.Z)(function*(n,e){const t=Qe(n);Sf(t.remoteStore)||Fe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(a){const u=Qe(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===i)return void e.resolve();const r=t.Tc.get(i)||[];r.push(e),t.Tc.set(i,r)}catch(i){const r=ov(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),UM.apply(this,arguments)}function HM(n,e){(n.Tc.get(e)||[]).forEach(t=>{t.resolve()}),n.Tc.delete(e)}function jM(n,e,t){const i=Qe(n);let r=i.Ic[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.Ic[i.currentUser.toKey()]=r}}function cv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.dc.delete(i),t&&n.fc.vc(i,t);n._c.delete(e),n.isPrimaryClient&&n.yc.ps(e).forEach(i=>{n.yc.containsKey(i)||PO(n,i)})}function PO(n,e){n.wc.delete(e.path.canonicalString());const t=n.mc.get(e);null!==t&&(g0(n.remoteStore,t),n.mc=n.mc.remove(e),n.gc.delete(t),zM(n))}function $M(n,e,t){for(const i of t)i instanceof MO?(n.yc.addReference(i.key,e),ZL(n,i)):i instanceof xO?(Fe("SyncEngine","Document no longer in limbo: "+i.key),n.yc.removeReference(i.key,e),n.yc.containsKey(i.key)||PO(n,i.key)):ot()}function ZL(n,e){const t=e.key,i=t.path.canonicalString();n.mc.get(t)||n.wc.has(i)||(Fe("SyncEngine","New document in limbo: "+t),n.wc.add(i),zM(n))}function zM(n){for(;n.wc.size>0&&n.mc.size<n.maxConcurrentLimboResolutions;){const e=n.wc.values().next().value;n.wc.delete(e);const t=new Ke(cn.fromString(e)),i=n.Ec.next();n.gc.set(i,new BL(t)),n.mc=n.mc.insert(t,i),_D(n.remoteStore,new bd(Nr(gd(t.path)),i,"TargetPurposeLimboResolution",ws.ct))}}function wd(n,e,t){return GM.apply(this,arguments)}function GM(){return GM=(0,ye.Z)(function*(n,e,t){const i=Qe(n),r=[],a=[],u=[];var f;i.dc.isEmpty()||(i.dc.forEach((f,_)=>{u.push(i.Rc(_,e,t).then(w=>{if((w||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,w?.fromCache?"not-current":"current"),w){r.push(w);const I=KA.Bi(_.targetId,w);a.push(I)}}))}),yield Promise.all(u),i.fc.eu(r),yield(f=(0,ye.Z)(function*(_,w){const I=Qe(_);try{yield I.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>se.forEach(w,F=>se.forEach(F.$i,B=>I.persistence.referenceDelegate.addReference(M,F.targetId,B)).next(()=>se.forEach(F.Fi,B=>I.persistence.referenceDelegate.removeReference(M,F.targetId,B)))))}catch(M){if(!_i(M))throw M;Fe("LocalStore","Failed to update sequence numbers: "+M)}for(const M of w){const F=M.targetId;if(!M.fromCache){const B=I.Hi.get(F),ie=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);I.Hi=I.Hi.insert(F,ie)}}}),function(_,w){return f.apply(this,arguments)})(i.localStore,a))}),GM.apply(this,arguments)}function KL(n,e){return qM.apply(this,arguments)}function qM(){return qM=(0,ye.Z)(function*(n,e){const t=Qe(n);if(!t.currentUser.isEqual(e)){Fe("SyncEngine","User change. New user:",e.toKey());const i=yield lO(t.localStore,e);t.currentUser=e,(r=t).Tc.forEach(u=>{u.forEach(f=>{f.reject(new ke(ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Tc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield wd(t,i.tr)}var r}),qM.apply(this,arguments)}function YL(n,e){const t=Qe(n),i=t.gc.get(e);if(i&&i.lc)return Zt().add(i.key);{let r=Zt();const a=t._c.get(e);if(!a)return r;for(const u of a){const f=t.dc.get(u);r=r.unionWith(f.view.ec)}return r}}function QL(n,e){return WM.apply(this,arguments)}function WM(){return WM=(0,ye.Z)(function*(n,e){const t=Qe(n),i=yield hD(t.localStore,e.query,!0),r=e.view.ac(i);return t.isPrimaryClient&&$M(t,e.targetId,r.uc),r}),WM.apply(this,arguments)}function XL(n,e){return ZM.apply(this,arguments)}function ZM(){return ZM=(0,ye.Z)(function*(n,e){const t=Qe(n);return hO(t.localStore,e).then(i=>wd(t,i))}),ZM.apply(this,arguments)}function JL(n,e,t,i){return KM.apply(this,arguments)}function KM(){return KM=(0,ye.Z)(function*(n,e,t,i){const r=Qe(n),a=yield function(u,f){const _=Qe(u),w=Qe(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",I=>w.Vn(I,f).next(M=>M?_.localDocuments.getDocuments(I,M):se.resolve(null)))}(r.localStore,e);var f;null!==a?("pending"===t?yield rv(r.remoteStore):"acknowledged"===t||"rejected"===t?(jM(r,e,i||null),HM(r,e),f=e,Qe(Qe(r.localStore).mutationQueue).Dn(f)):ot(),yield wd(r,a)):Fe("SyncEngine","Cannot apply mutation batch with id: "+e)}),KM.apply(this,arguments)}function YM(){return YM=(0,ye.Z)(function*(n,e){const t=Qe(n);if(ex(t),tx(t),!0===e&&!0!==t.Ac){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield NO(t,i.toArray());t.Ac=!0,yield EM(t.remoteStore,!0);for(const a of r)_D(t.remoteStore,a)}else if(!1===e&&!1!==t.Ac){const i=[];let r=Promise.resolve();t._c.forEach((a,u)=>{t.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(cv(t,u),nv(t.localStore,u,!0))),g0(t.remoteStore,u)}),yield r,yield NO(t,i),function(a){const u=Qe(a);u.gc.forEach((f,_)=>{g0(u.remoteStore,_)}),u.yc.Is(),u.gc=new Map,u.mc=new Un(Ke.comparator)}(t),t.Ac=!1,yield EM(t.remoteStore,!1)}}),YM.apply(this,arguments)}function NO(n,e,t){return QM.apply(this,arguments)}function QM(){return QM=(0,ye.Z)(function*(n,e,t){const i=Qe(n),r=[],a=[];for(const u of e){let f;const _=i._c.get(u);if(_&&0!==_.length){f=yield tv(i.localStore,Nr(_[0]));for(const w of _){const I=i.dc.get(w),M=yield QL(i,I);M.snapshot&&a.push(M.snapshot)}}else{const w=yield dO(i.localStore,u);f=yield tv(i.localStore,w),yield kM(i,FO(w),u,!1,f.resumeToken)}r.push(f)}return i.fc.eu(a),r}),QM.apply(this,arguments)}function FO(n){return $I(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function t2(n){const e=Qe(n);return Qe(Qe(e.localStore).persistence).Mi()}function n2(n,e,t,i){return XM.apply(this,arguments)}function XM(){return XM=(0,ye.Z)(function*(n,e,t,i){const r=Qe(n);if(r.Ac)return void Fe("SyncEngine","Ignoring unexpected query state notification.");const a=r._c.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const u=yield hO(r.localStore,qw(a[0])),f=l.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,ir.EMPTY_BYTE_STRING);yield wd(r,u,f);break}case"rejected":yield nv(r.localStore,e,!0),cv(r,e,i);break;default:ot()}}),XM.apply(this,arguments)}function r2(n,e,t){return JM.apply(this,arguments)}function JM(){return JM=(0,ye.Z)(function*(n,e,t){const i=ex(n);if(i.Ac){for(const r of e){if(i._c.has(r)){Fe("SyncEngine","Adding an already active target "+r);continue}const a=yield dO(i.localStore,r),u=yield tv(i.localStore,a);yield kM(i,FO(a),u.targetId,!1,u.resumeToken),_D(i.remoteStore,u)}for(const r of t)i._c.has(r)&&(yield nv(i.localStore,r,!1).then(()=>{g0(i.remoteStore,r),cv(i,r)}).catch(Ll))}}),JM.apply(this,arguments)}function ex(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=kO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zL.bind(null,e),e.fc.eu=PL.bind(null,e.eventManager),e.fc.vc=NL.bind(null,e.eventManager),e}function tx(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=GL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qL.bind(null,e),e}class _0{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ye.Z)(function*(){t.serializer=p0(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return aO(this.persistence,new oO,e.initialUser,this.serializer)}createPersistence(e){return new GA(cD.js,this.serializer)}createSharedClientState(e){return new gO}terminate(){var e=this;return(0,ye.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class nx extends _0{constructor(e,t,i){super(),this.bc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,ye.Z)(function*(){yield t().call(i,e),yield i.bc.initialize(i,e),yield tx(i.bc.syncEngine),yield rv(i.bc.remoteStore),yield i.persistence.pi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return aO(this.persistence,new oO,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Qk(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new TI(t,this.persistence);return new mk(e.asyncQueue,i)}createPersistence(e){const t=ZA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Cs.withCacheSize(this.cacheSizeBytes):Cs.DEFAULT;return new WA(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,yO(),gD(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new gO}}class LO extends nx{constructor(e,t){super(e,t,!1),this.bc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,ye.Z)(function*(){yield t().call(i,e);const r=i.bc.syncEngine;i.sharedClientState instanceof iM&&(i.sharedClientState.syncEngine={Qr:JL.bind(null,r),jr:n2.bind(null,r),zr:r2.bind(null,r),Mi:t2.bind(null,r),Gr:XL.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.pi(function(){var a=(0,ye.Z)(function*(u){yield function e2(n,e){return YM.apply(this,arguments)}(i.bc.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return a.apply(this,arguments)}}())})()}createSharedClientState(e){const t=yO();if(!iM.D(t))throw new ke(ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=ZA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new iM(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class uv{initialize(e,t){var i=this;return(0,ye.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>OO(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=KL.bind(null,i.syncEngine),yield EM(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new OL}createDatastore(e){const t=p0(e.databaseInfo.databaseId),i=new gL(e.databaseInfo);return new vL(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,a=f=>OO(this.syncEngine,f,0),u=_O.D()?new _O:new fL,new EL(t,i,r,a,u);var t,i,r,a,u}createSyncEngine(e,t){return function(i,r,a,u,f,_,w){const I=new UL(i,r,a,u,f,_);return w&&(I.Ac=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ye.Z)(function*(t){const i=Qe(t);Fe("RemoteStore","RemoteStore shutting down."),i.Au.add(5),yield iv(i),i.vu.shutdown(),i.Pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function VO(n,e=10240){let t=0;return{read:()=>(0,ye.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,ye.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class vD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Vc(this.observer.next,e)}error(e){this.observer.error?this.Vc(this.observer.error,e):gi("Uncaught Error in snapshot listener:",e.toString())}Sc(){this.muted=!0}Vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class a2{constructor(e,t){this.Dc=e,this.serializer=t,this.metadata=new oi,this.buffer=new Uint8Array,this.Cc=new TextDecoder("utf-8"),this.xc().then(i=>{i&&i.Gu()?this.metadata.resolve(i.Ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Ku)}`))},i=>this.metadata.reject(i))}close(){return this.Dc.cancel()}getMetadata(){var e=this;return(0,ye.Z)(function*(){return e.metadata.promise})()}Pc(){var e=this;return(0,ye.Z)(function*(){return yield e.getMetadata(),e.xc()})()}xc(){var e=this;return(0,ye.Z)(function*(){const t=yield e.Nc();if(null===t)return null;const i=e.Cc.decode(t),r=Number(i);isNaN(r)&&e.kc(`length string (${i}) is not valid number`);const a=yield e.Mc(r);return new FL(JSON.parse(a),t.length+r)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Nc(){var e=this;return(0,ye.Z)(function*(){for(;e.Oc()<0&&!(yield e.$c()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.kc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Mc(e){var t=this;return(0,ye.Z)(function*(){for(;t.buffer.length<e;)(yield t.$c())&&t.kc("Reached the end of bundle when more is expected.");const i=t.Cc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}kc(e){throw this.Dc.cancel(),new Error(`Invalid bundle format: ${e}`)}$c(){var e=this;return(0,ye.Z)(function*(){const t=yield e.Dc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class l2{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ye.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new ke(ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,ye.Z)(function*(a,u){const f=Qe(a),_=yd(f.serializer)+"/documents",w={documents:u.map(B=>xn(f.serializer,B))},I=yield f.Ao("BatchGetDocuments",_,w,u.length),M=new Map;I.forEach(B=>{const W=function r0(n,e){return"found"in e?function(t,i){vt(!!i.found);const r=Fr(t,i.found.name),a=ge(i.found.updateTime),u=i.found.createTime?ge(i.found.createTime):gt.min(),f=new gr({mapValue:{fields:i.found.fields}});return jn.newFoundDocument(r,a,u,f)}(n,e):"missing"in e?function(t,i){vt(!!i.missing),vt(!!i.readTime);const r=Fr(t,i.missing),a=ge(i.readTime);return jn.newNoDocument(r,a)}(n,e):ot()}(f.serializer,B);M.set(W.key.toString(),W)});const F=[];return u.forEach(B=>{const W=M.get(B.toString());vt(!!W),F.push(W)}),F}),function(a,u){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Jm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ye.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const a=Ke.fromPath(r);e.mutations.push(new XI(a,e.precondition(a)))}),yield(i=(0,ye.Z)(function*(r,a){const u=Qe(r),f=yd(u.serializer)+"/documents",_={writes:a.map(w=>vd(u.serializer,w))};yield u.po("Commit",f,_)}),function(r,a){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ot();t=gt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new ke(ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(gt.min())?ei.exists(!1):ei.updateTime(t):ei.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(gt.min()))throw new ke(ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ei.updateTime(t)}return ei.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class c2{constructor(e,t,i,r,a){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=a,this.Fc=i.maxAttempts,this.Lo=new sM(this.asyncQueue,"transaction_retry")}run(){this.Fc-=1,this.Bc()}Bc(){var e=this;this.Lo.xo((0,ye.Z)(function*(){const t=new l2(e.datastore),i=e.Lc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(a=>{e.qc(a)}))}).catch(r=>{e.qc(r)})}))}Lc(e){try{const t=this.updateFunction(e);return!Vl(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}qc(e){this.Fc>0&&this.Uc(e)?(this.Fc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Bc(),Promise.resolve()))):this.deferred.reject(e)}Uc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!RA(t)}return!1}}class u2{constructor(e,t,i,r){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=tr.UNAUTHENTICATED,this.clientId=km.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,ye.Z)(function*(f){Fe("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Fe("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,ye.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ke(ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=ov(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function bD(n,e){return ix.apply(this,arguments)}function ix(){return ix=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,ye.Z)(function*(a){i.isEqual(a)||(yield lO(e.localStore,a),i=a)});return function(a){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),ix.apply(this,arguments)}function rx(n,e){return sx.apply(this,arguments)}function sx(){return sx=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield ox(n);Fe("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>DO(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>DO(e.remoteStore,a)),n._onlineComponents=e}),sx.apply(this,arguments)}function BO(n){return"FirebaseError"===n.name?n.code===ce.FAILED_PRECONDITION||n.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function ox(n){return ax.apply(this,arguments)}function ax(){return ax=(0,ye.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Fe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield bD(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!BO(t))throw t;Ws("Error using user provided cache. Falling back to memory cache: "+t),yield bD(n,new _0)}}else Fe("FirestoreClient","Using default OfflineComponentProvider"),yield bD(n,new _0);return n._offlineComponents}),ax.apply(this,arguments)}function wD(n){return lx.apply(this,arguments)}function lx(){return lx=(0,ye.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Fe("FirestoreClient","Using user provided OnlineComponentProvider"),yield rx(n,n._uninitializedComponentsProvider._online)):(Fe("FirestoreClient","Using default OnlineComponentProvider"),yield rx(n,new uv))),n._onlineComponents}),lx.apply(this,arguments)}function UO(n){return ox(n).then(e=>e.persistence)}function ED(n){return ox(n).then(e=>e.localStore)}function HO(n){return wD(n).then(e=>e.remoteStore)}function cx(n){return wD(n).then(e=>e.syncEngine)}function dv(n){return ux.apply(this,arguments)}function ux(){return ux=(0,ye.Z)(function*(n){const e=yield wD(n),t=e.eventManager;return t.onListen=HL.bind(null,e.syncEngine),t.onUnlisten=jL.bind(null,e.syncEngine),t}),ux.apply(this,arguments)}function $O(n,e,t={}){const i=new oi;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(r,a,u,f,_){const w=new vD({next:M=>{a.enqueueAndForget(()=>SM(r,I));const F=M.docs.has(u);!F&&M.fromCache?_.reject(new ke(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&f&&"server"===f.source?_.reject(new ke(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),I=new xM(gd(u.path),w,{includeMetadataChanges:!0,Uu:!0});return DM(r,I)}(yield dv(n),n.asyncQueue,e,t,i)})),i.promise}function zO(n,e,t={}){const i=new oi;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(r,a,u,f,_){const w=new vD({next:M=>{a.enqueueAndForget(()=>SM(r,I)),M.fromCache&&"server"===f.source?_.reject(new ke(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(M)},error:M=>_.reject(M)}),I=new xM(u,w,{includeMetadataChanges:!0,Uu:!0});return DM(r,I)}(yield dv(n),n.asyncQueue,e,t,i)})),i.promise}const GO=new Map;function dx(n,e,t){if(!t)throw new ke(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function qO(n,e,t,i){if(!0===e&&!0===i)throw new ke(ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function WO(n){if(!Ke.isDocumentKey(n))throw new ke(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ZO(n){if(Ke.isDocumentKey(n))throw new ke(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function CD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ot()}function un(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ke(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=CD(n);throw new ke(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function KO(n,e){if(e<=0)throw new ke(ce.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class YO{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new ke(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ke(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!this.experimentalForceLongPolling&&void 0!==e.experimentalAutoDetectLongPolling&&!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class y0{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YO({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ke(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ke(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YO(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new gw;switch(t.type){case"firstParty":return new Rm(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new ke(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=GO.get(e);t&&(Fe("ComponentProvider","Removing Datastore"),GO.delete(e),t.terminate())}(this),Promise.resolve()}}class ai{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ai(this.firestore,e,this._key)}}class ts{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ts(this.firestore,e,this._query)}}class Wc extends ts{constructor(e,t,i){super(e,t,gd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ai(this.firestore,null,new Ke(e))}withConverter(e){return new Wc(this.firestore,e,this._path)}}function XO(n,e,...t){if(n=(0,an.m9)(n),dx("collection","path",e),n instanceof y0){const i=cn.fromString(e,...t);return ZO(i),new Wc(n,null,i)}{if(!(n instanceof ai||n instanceof Wc))throw new ke(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(cn.fromString(e,...t));return ZO(i),new Wc(n.firestore,null,i)}}function ID(n,e,...t){if(n=(0,an.m9)(n),1===arguments.length&&(e=km.A()),dx("doc","path",e),n instanceof y0){const i=cn.fromString(e,...t);return WO(i),new ai(n,null,new Ke(i))}{if(!(n instanceof ai||n instanceof Wc))throw new ke(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(cn.fromString(e,...t));return WO(i),new ai(n.firestore,n instanceof Wc?n.converter:null,new Ke(i))}}function JO(n,e){return n=(0,an.m9)(n),e=(0,an.m9)(e),(n instanceof ai||n instanceof Wc)&&(e instanceof ai||e instanceof Wc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function hx(n,e){return n=(0,an.m9)(n),e=(0,an.m9)(e),n instanceof ts&&e instanceof ts&&n.firestore===e.firestore&&$c(n._query,e._query)&&n.converter===e.converter}class b2{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new sM(this,"async_queue_retry"),this.Yc=()=>{const t=gD();t&&Fe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Lo.ko()};const e=gD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;const t=gD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise(()=>{});const t=new oi;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Gc.push(e),this.ta()))}ta(){var e=this;return(0,ye.Z)(function*(){if(0!==e.Gc.length){try{yield e.Gc[0](),e.Gc.shift(),e.Lo.reset()}catch(t){if(!_i(t))throw t;Fe("AsyncQueue","Operation failed with retryable error: "+t)}e.Gc.length>0&&e.Lo.xo(()=>e.ta())}})()}Zc(e){const t=this.Kc.then(()=>(this.Wc=!0,e().catch(i=>{throw this.zc=i,this.Wc=!1,gi("INTERNAL UNHANDLED ERROR: ",function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),u}(i)),i}).then(i=>(this.Wc=!1,i))));return this.Kc=t,t}enqueueAfterDelay(e,t,i){this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);const r=IM.createAndSchedule(this,e,t,i,a=>this.ea(a));return this.jc.push(r),r}Xc(){this.zc&&ot()}verifyOperationInProgress(){}na(){var e=this;return(0,ye.Z)(function*(){let t;do{t=e.Kc,yield t}while(t!==e.Kc)})()}sa(e){for(const t of this.jc)if(t.timerId===e)return!0;return!1}ia(e){return this.na().then(()=>{this.jc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.jc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.na()})}ra(e){this.Jc.push(e)}ea(e){const t=this.jc.indexOf(e);this.jc.splice(t,1)}}function fx(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class w2{constructor(){this._progressObserver={},this._taskCompletionResolver=new oi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class li extends y0{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new b2,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||eP(this),this._firestoreClient.terminate()}}function zi(n){return n._firestoreClient||eP(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function eP(n){var e,t,i;const r=n._freezeSettings(),a=(f=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Py(n._databaseId,f,n._persistenceKey,(w=r).host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,w.useFetchStreams));var f,w;n._firestoreClient=new u2(n._authCredentials,n._appCheckCredentials,n._queue,a),(null===(t=r.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(i=r.cache)||void 0===i?void 0:i._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function tP(n,e,t){const i=new oi;return n.asyncQueue.enqueue((0,ye.Z)(function*(){try{yield bD(n,t),yield rx(n,e),i.resolve()}catch(r){const a=r;if(!BO(a))throw a;Ws("Error enabling indexeddb cache. Falling back to memory cache: "+a),i.reject(a)}})).then(()=>i.promise)}function nP(n){if(n._initialized||n._terminated)throw new ke(ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Zc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zc(ir.fromBase64String(e))}catch(t){throw new ke(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Zc(ir.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ed{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ke(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ei(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class lg{constructor(e){this._methodName=e}}class DD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ke(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ke(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ht(this._lat,e._lat)||Ht(this._long,e._long)}}const k2=/^__.*__$/;class O2{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Oa(e,this.data,this.fieldMask,t,this.fieldTransforms):new Xm(e,this.data,t,this.fieldTransforms)}}class iP{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Oa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function rP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot()}}class TD{constructor(e,t,i,r,a,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===a&&this.oa(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(e){return new TD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ca({path:i,ha:!1});return r.la(e),r}fa(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ca({path:i,ha:!1});return r.oa(),r}da(e){return this.ca({path:void 0,ha:!0})}_a(e){return MD(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}oa(){if(this.path)for(let e=0;e<this.path.length;e++)this.la(this.path.get(e))}la(e){if(0===e.length)throw this._a("Document fields must not be empty");if(rP(this.ua)&&k2.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class P2{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||p0(e)}ga(e,t,i,r=!1){return new TD({ua:e,methodName:t,ma:i,path:Ei.emptyPath(),ha:!1,wa:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cg(n){const e=n._freezeSettings(),t=p0(n._databaseId);return new P2(n._databaseId,!!e.ignoreUndefinedProperties,t)}function SD(n,e,t,i,r,a={}){const u=n.ga(a.merge||a.mergeFields?2:0,e,t,r);_x("Data must be an object, but it was:",u,i);const f=aP(i,u);let _,w;if(a.merge)_=new Es(u.fieldMask),w=u.fieldTransforms;else if(a.mergeFields){const I=[];for(const M of a.mergeFields){const F=w0(e,M,t);if(!u.contains(F))throw new ke(ce.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);cP(I,F)||I.push(F)}_=new Es(I),w=u.fieldTransforms.filter(M=>_.covers(M.field))}else _=null,w=u.fieldTransforms;return new O2(new gr(f),_,w)}class b0 extends lg{_toFieldTransform(e){if(2!==e.ua)throw e._a(1===e.ua?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof b0}}function sP(n,e,t){return new TD({ua:3,ma:e.settings.ma,methodName:n._methodName,ha:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class px extends lg{_toFieldTransform(e){return new Zm(e.path,new qc)}isEqual(e){return e instanceof px}}class N2 extends lg{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=sP(this,e,!0),i=this.ya.map(a=>ug(a,t)),r=new $l(i);return new Zm(e.path,r)}isEqual(e){return this===e}}class F2 extends lg{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=sP(this,e,!0),i=this.ya.map(a=>ug(a,t)),r=new Ef(i);return new Zm(e.path,r)}isEqual(e){return this===e}}class L2 extends lg{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=new Wm(e.serializer,Gc(e.serializer,this.pa));return new Zm(e.path,t)}isEqual(e){return this===e}}function mx(n,e,t,i){const r=n.ga(1,e,t);_x("Data must be an object, but it was:",r,i);const a=[],u=gr.empty();Vc(i,(_,w)=>{const I=AD(e,_,t);w=(0,an.m9)(w);const M=r.fa(I);if(w instanceof b0)a.push(I);else{const F=ug(w,M);null!=F&&(a.push(I),u.set(I,F))}});const f=new Es(a);return new iP(u,f,r.fieldTransforms)}function gx(n,e,t,i,r,a){const u=n.ga(1,e,t),f=[w0(e,i,t)],_=[r];if(a.length%2!=0)throw new ke(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<a.length;F+=2)f.push(w0(e,a[F])),_.push(a[F+1]);const w=[],I=gr.empty();for(let F=f.length-1;F>=0;--F)if(!cP(w,f[F])){const B=f[F];let W=_[F];W=(0,an.m9)(W);const ie=u.fa(B);if(W instanceof b0)w.push(B);else{const ve=ug(W,ie);null!=ve&&(w.push(B),I.set(B,ve))}}const M=new Es(w);return new iP(I,M,u.fieldTransforms)}function oP(n,e,t,i=!1){return ug(t,n.ga(i?4:3,e))}function ug(n,e){if(lP(n=(0,an.m9)(n)))return _x("Unsupported field value:",e,n),aP(n,e);if(n instanceof lg)return function(t,i){if(!rP(i.ua))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ha&&4!==e.ua)throw e._a("Nested arrays are not supported");return function(t,i){const r=[];let a=0;for(const u of t){let f=ug(u,i.da(a));null==f&&(f={nullValue:"NULL_VALUE"}),r.push(f),a++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,an.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Gc(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Kn.fromDate(t);return{timestampValue:qe(i.serializer,r)}}if(t instanceof Kn){const r=new Kn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:qe(i.serializer,r)}}if(t instanceof DD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Zc)return{bytesValue:ft(i.serializer,t._byteString)};if(t instanceof ai){const r=i.databaseId,a=t.firestore._databaseId;if(!a.isEqual(r))throw i._a(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Ot(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${CD(t)}`)}(n,e)}function aP(n,e){const t={};return Aw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vc(n,(i,r)=>{const a=ug(r,e.aa(i));null!=a&&(t[i]=a)}),{mapValue:{fields:t}}}function lP(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Kn||n instanceof DD||n instanceof Zc||n instanceof ai||n instanceof lg)}function _x(n,e,t){if(!lP(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=CD(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function w0(n,e,t){if((e=(0,an.m9)(e))instanceof Ed)return e._internalPath;if("string"==typeof e)return AD(n,e);throw MD("Field path arguments must be of type string or ",n,!1,void 0,t)}const V2=new RegExp("[~\\*/\\[\\]]");function AD(n,e,t){if(e.search(V2)>=0)throw MD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ed(...e.split("."))._internalPath}catch{throw MD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function MD(n,e,t,i,r){const a=i&&!i.isEmpty(),u=void 0!==r;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(a||u)&&(_+=" (found",a&&(_+=` in field ${i}`),u&&(_+=` in document ${r}`),_+=")"),new ke(ce.INVALID_ARGUMENT,f+n+_)}function cP(n,e){return n.some(t=>t.isEqual(e))}class E0{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ai(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new B2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(xD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class B2 extends E0{data(){return super.data()}}function xD(n,e){return"string"==typeof e?AD(n,e):e instanceof Ed?e._internalPath:e._delegate._internalPath}function uP(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ke(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yx{}class C0 extends yx{}function Mf(n,e,...t){let i=[];e instanceof yx&&i.push(e),i=i.concat(t),function(r){const a=r.filter(f=>f instanceof hv).length,u=r.filter(f=>f instanceof I0).length;if(a>1||a>0&&u>0)throw new ke(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class I0 extends C0{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new I0(e,t,i)}_apply(e){const t=this._parse(e);return pP(e._query,t),new ts(e.firestore,e.converter,$y(e._query,t))}_parse(e){const t=cg(e.firestore);return function(r,a,u,f,_,w,I){let M;if(_.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new ke(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){fP(I,w);const F=[];for(const B of I)F.push(hP(f,r,B));M={arrayValue:{values:F}}}else M=hP(f,r,I)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||fP(I,w),M=oP(u,"where",I,"in"===w||"not-in"===w);return nn.create(_,w,M)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class hv extends yx{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new hv(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:En.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let a=i;const u=r.getFlattenedFilters();for(const f of u)pP(a,f),a=$y(a,f)}(e._query,t),new ts(e.firestore,e.converter,$y(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class vx extends C0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new vx(e,t)}_apply(e){const t=function(i,r,a){if(null!==i.startAt)throw new ke(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new ke(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new Uc(r,a);return function(f,_){if(null===jm(f)){const w=$m(f);null!==w&&mP(0,w,_.field)}}(i,u),u}(e._query,this._field,this._direction);return new ts(e.firestore,e.converter,function(i,r){const a=i.explicitOrderBy.concat([r]);return new ka(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class RD extends C0{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new RD(e,t,i)}_apply(e){return new ts(e.firestore,e.converter,_d(e._query,this._limit,this._limitType))}}class kD extends C0{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new kD(e,t,i)}_apply(e){const t=dP(e,this.type,this._docOrFields,this._inclusive);return new ts(e.firestore,e.converter,(r=t,new ka((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class OD extends C0{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new OD(e,t,i)}_apply(e){const t=dP(e,this.type,this._docOrFields,this._inclusive);return new ts(e.firestore,e.converter,(r=t,new ka((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function dP(n,e,t,i){if(t[0]=(0,an.m9)(t[0]),t[0]instanceof E0)return function(r,a,u,f,_){if(!f)throw new ke(ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const w=[];for(const I of jc(r))if(I.field.isKeyField())w.push(fd(a,f.key));else{const M=f.data.field(I.field);if(xw(M))throw new ke(ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const F=I.field.canonicalString();throw new ke(ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}w.push(M)}return new pd(w,_)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=cg(n.firestore);return function(a,u,f,_,w,I){const M=a.explicitOrderBy;if(w.length>M.length)throw new ke(ce.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let B=0;B<w.length;B++){const W=w[B];if(M[B].field.isKeyField()){if("string"!=typeof W)throw new ke(ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof W}`);if(!jy(a)&&-1!==W.indexOf("/"))throw new ke(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${W}' contains a slash.`);const ie=a.path.child(cn.fromString(W));if(!Ke.isDocumentKey(ie))throw new ke(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${ie}' is not because it contains an odd number of segments.`);const ve=new Ke(ie);F.push(fd(u,ve))}else{const ie=oP(f,_,W);F.push(ie)}}return new pd(F,I)}(n._query,n.firestore._databaseId,r,e,t,i)}}function hP(n,e,t){if("string"==typeof(t=(0,an.m9)(t))){if(""===t)throw new ke(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jy(e)&&-1!==t.indexOf("/"))throw new ke(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(cn.fromString(t));if(!Ke.isDocumentKey(i))throw new ke(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return fd(n,new Ke(i))}if(t instanceof ai)return fd(n,t._key);throw new ke(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${CD(t)}.`)}function fP(n,e){if(!Array.isArray(n)||0===n.length)throw new ke(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pP(n,e){if(e.isInequality()){const i=$m(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new ke(ce.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const a=jm(n);null!==a&&mP(0,r,a)}const t=function(i,r){for(const a of i)for(const u of a.getFlattenedFilters())if(r.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new ke(ce.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function mP(n,e,t){if(!t.isEqual(e))throw new ke(ce.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class bx{convertValue(e,t="none"){switch(Ul(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ci(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Bc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ot()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Vc(e,(r,a)=>{i[r]=this.convertValue(a,t)}),i}convertGeoPoint(e){return new DD(Ci(e.latitude),Ci(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Rw(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Oy(e));default:return null}}convertTimestamp(e){const t=ud(e);return new Kn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=cn.fromString(e);vt(xk(i));const r=new dd(i.get(1),i.get(3)),a=new Ke(i.popFirst(5));return r.isEqual(t)||gi(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function PD(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class Z2 extends bx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ai(this.firestore,null,t)}}class dg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cd extends E0{constructor(e,t,i,r,a,u){super(e,t,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new D0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(xD("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class D0 extends Cd{data(e={}){return super.data(e)}}class xf{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new dg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new D0(this._firestore,this._userDataWriter,i.key,i,new dg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ke(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new D0(i._firestore,i._userDataWriter,u.doc.key,u.doc,new dg(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const f=new D0(i._firestore,i._userDataWriter,u.doc.key,u.doc,new dg(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,w=-1;return 0!==u.type&&(_=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),1!==u.type&&(a=a.add(u.doc),w=a.indexOf(u.doc.key)),{type:Y2(u.type),doc:f,oldIndex:_,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Y2(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot()}}function _P(n,e){return n instanceof Cd&&e instanceof Cd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof xf&&e instanceof xf&&n._firestore===e._firestore&&hx(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Rf extends bx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ai(this.firestore,null,t)}}function yP(n,e,t){n=un(n,ai);const i=un(n.firestore,li),r=PD(n.converter,e,t);return fv(i,[SD(cg(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,ei.none())])}function vP(n,e,t,...i){n=un(n,ai);const r=un(n.firestore,li),a=cg(r);let u;return u="string"==typeof(e=(0,an.m9)(e))||e instanceof Ed?gx(a,"updateDoc",n._key,e,t,i):mx(a,"updateDoc",n._key,e),fv(r,[u.toMutation(n._key,ei.exists(!0))])}function bP(n,...e){var t,i,r;n=(0,an.m9)(n);let a={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||fx(e[u])||(a=e[u],u++);const f={includeMetadataChanges:a.includeMetadataChanges};if(fx(e[u])){const M=e[u];e[u]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[u+1]=null===(i=M.error)||void 0===i?void 0:i.bind(M),e[u+2]=null===(r=M.complete)||void 0===r?void 0:r.bind(M)}let _,w,I;if(n instanceof ai)w=un(n.firestore,li),I=gd(n._key.path),_={next:M=>{e[u]&&e[u](wx(w,n,M))},error:e[u+1],complete:e[u+2]};else{const M=un(n,ts);w=un(M.firestore,li),I=M._query;const F=new Rf(w);_={next:B=>{e[u]&&e[u](new xf(w,F,M,B))},error:e[u+1],complete:e[u+2]},uP(n._query)}return function(M,F,B,W){const ie=new vD(W),ve=new xM(F,ie,B);return M.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return DM(yield dv(M),ve)})),()=>{ie.Sc(),M.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return SM(yield dv(M),ve)}))}}(zi(w),I,f,_)}function fv(n,e){return function(t,i){const r=new oi;return t.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function $L(n,e,t){return NM.apply(this,arguments)}(yield cx(t),i,r)})),r.promise}(zi(n),e)}function wx(n,e,t){const i=t.docs.get(e._key),r=new Rf(n);return new Cd(n,r,e._key,i,new dg(t.hasPendingWrites,t.fromCache),e.converter)}const pV={maxAttempts:5};class wP{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=cg(e)}set(e,t,i){this._verifyNotCommitted();const r=kf(e,this._firestore),a=PD(r.converter,t,i),u=SD(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,ei.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const a=kf(e,this._firestore);let u;return u="string"==typeof(t=(0,an.m9)(t))||t instanceof Ed?gx(this._dataReader,"WriteBatch.update",a._key,t,i,r):mx(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(u.toMutation(a._key,ei.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=kf(e,this._firestore);return this._mutations=this._mutations.concat(new Jm(t._key,ei.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ke(ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function kf(n,e){if((n=(0,an.m9)(n)).firestore!==e)throw new ke(ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class mV extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=cg(e)}get(e){const t=kf(e,this._firestore),i=new Z2(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return ot();const a=r[0];if(a.isFoundDocument())return new E0(this._firestore,i,a.key,a,t.converter);if(a.isNoDocument())return new E0(this._firestore,i,t._key,null,t.converter);throw ot()})}set(e,t,i){const r=kf(e,this._firestore),a=PD(r.converter,t,i),u=SD(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(e,t,i,...r){const a=kf(e,this._firestore);let u;return u="string"==typeof(t=(0,an.m9)(t))||t instanceof Ed?gx(this._dataReader,"Transaction.update",a._key,t,i,r):mx(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,u),this}delete(e){const t=kf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=kf(e,this._firestore),i=new Rf(this._firestore);return super.get(e).then(r=>new Cd(this._firestore,i,t._key,r._document,new dg(!1,!1),t.converter))}}function Ex(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ke("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function CP(){if(typeof Uint8Array>"u")throw new ke("unimplemented","Uint8Arrays are not available in this environment.")}function IP(){if(!function FI(){return typeof atob<"u"}())throw new ke("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Aa=Ta.SDK_VERSION,(0,Ta._registerComponent)(new Xh.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const a=t.getProvider("app").getImmediate(),u=new li(new iA(t.getProvider("auth-internal")),new rA(t.getProvider("app-check-internal")),function(f,_){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ke(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dd(f.options.projectId,_)}(a,i),a);return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC").setMultipleInstances(!0)),(0,Ta.registerVersion)(yI,"3.11.0",n),(0,Ta.registerVersion)(yI,"3.11.0","esm2017")}();class T0{constructor(e){this._delegate=e}static fromBase64String(e){return IP(),new T0(Zc.fromBase64String(e))}static fromUint8Array(e){return CP(),new T0(Zc.fromUint8Array(e))}toBase64(){return IP(),this._delegate.toBase64()}toUint8Array(){return CP(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Cx(n){return function IV(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class DV{enableIndexedDbPersistence(e,t){return function C2(n,e){nP(n=un(n,li));const t=zi(n);if(t._uninitializedComponentsProvider)throw new ke(ce.FAILED_PRECONDITION,"SDK cache is already specified.");Ws("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new uv;return tP(t,r,new nx(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function I2(n){nP(n=un(n,li));const e=zi(n);if(e._uninitializedComponentsProvider)throw new ke(ce.FAILED_PRECONDITION,"SDK cache is already specified.");Ws("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new uv;return tP(e,i,new LO(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function D2(n){if(n._initialized&&!n._terminated)throw new ke(ce.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new oi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{yield(t=(0,ye.Z)(function*(i){if(!$o.D())return Promise.resolve();const r=i+"main";yield $o.delete(r)}),function(i){return t.apply(this,arguments)})(ZA(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class DP{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof dd||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ws("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function QO(n,e,t,i={}){var r;const a=(n=un(n,y0))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&Ws("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let u,f;if("string"==typeof i.mockUserToken)u=i.mockUserToken,f=tr.MOCK_USER;else{u=(0,an.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new ke(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new tr(_)}n._authCredentials=new Ma(new bI(u,f))}}(this._delegate,e,t,i)}enableNetwork(){return function S2(n){return function d2(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield UO(n),t=yield HO(n);return e.setNetworkEnabled(!0),function(i){const r=Qe(i);return r.Au.delete(0),m0(r)}(t)}))}(zi(n=un(n,li)))}(this._delegate)}disableNetwork(){return function A2(n){return function h2(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield UO(n),t=yield HO(n);return e.setNetworkEnabled(!1),(i=(0,ye.Z)(function*(r){const a=Qe(r);a.Au.add(0),yield iv(a),a.Pu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(zi(n=un(n,li)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,qO("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function T2(n){return function(e){const t=new oi;return e.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function WL(n,e){return UM.apply(this,arguments)}(yield cx(e),t)})),t.promise}(zi(n=un(n,li)))}(this._delegate)}onSnapshotsInSync(e){return function sV(n,e){return function m2(n,e){const t=new vD(e);return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return i=yield dv(n),r=t,Qe(i).Nu.add(r),void r.next();var i,r})),()=>{t.Sc(),n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return i=yield dv(n),r=t,void Qe(i).Nu.delete(r);var i,r}))}}(zi(n=un(n,li)),fx(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ke("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new pv(this,XO(this._delegate,e))}catch(t){throw Ks(t,"collection()","Firestore.collection()")}}doc(e){try{return new Pa(this,ID(this._delegate,e))}catch(t){throw Ks(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ys(this,function v2(n,e){if(n=un(n,y0),dx("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ke(ce.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ts(n,null,(t=e,new ka(cn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ks(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function gV(n,e,t){n=un(n,li);const i=Object.assign(Object.assign({},pV),t);return function(r){if(r.maxAttempts<1)throw new ke(ce.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,a,u){const f=new oi;return r.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){const _=yield function jO(n){return wD(n).then(e=>e.datastore)}(r);new c2(r.asyncQueue,_,u,a,f).run()})),f.promise}(zi(n),r=>e(new mV(n,r)),i)}(this._delegate,t=>e(new TP(this,t)))}batch(){return zi(this._delegate),new SP(new wP(this._delegate,e=>fv(this._delegate,e)))}loadBundle(e){return function M2(n,e){const t=zi(n=un(n,li)),i=new w2;return function g2(n,e,t,i){const r=function(a,u){let f;return f="string"==typeof a?kA().encode(a):a,_=function(_,w){if(_ instanceof Uint8Array)return VO(_,w);if(_ instanceof ArrayBuffer)return VO(new Uint8Array(_),w);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new a2(_,u);var _}(t,p0(e));n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){!function s2(n,e,t){const i=Qe(n);var r;(r=(0,ye.Z)(function*(a,u,f){try{const _=yield u.getMetadata();if(yield function(F,B){const W=Qe(F),ie=ge(B.createTime);return W.persistence.runTransaction("hasNewerBundle","readonly",ve=>W.Ls.getBundleMetadata(ve,B.id)).then(ve=>!!ve&&ve.createTime.compareTo(ie)>=0)}(a.localStore,_))return yield u.close(),f._completeWith({taskState:"Success",documentsLoaded:(F=_).totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}),Promise.resolve(new Set);f._updateProgress(AO(_));const w=new LL(_,a.localStore,u.serializer);let I=yield u.Pc();for(;I;){const F=yield w.ju(I);F&&f._updateProgress(F),I=yield u.Pc()}const M=yield w.complete();return yield wd(a,M.Hu,void 0),yield function(F,B){const W=Qe(F);return W.persistence.runTransaction("Save bundle","readwrite",ie=>W.Ls.saveBundleMetadata(ie,B))}(a.localStore,_),f._completeWith(M.progress),Promise.resolve(M.Wu)}catch(_){return Ws("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var F}),function(a,u,f){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield cx(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function x2(n,e){return function _2(n,e){return n.asyncQueue.enqueue((0,ye.Z)(function*(){return function(t,i){const r=Qe(t);return r.persistence.runTransaction("Get named query","readonly",a=>r.Ls.getNamedQuery(a,i))}(yield ED(n),e)}))}(zi(n=un(n,li)),e).then(t=>t?new ts(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ys(this,t):null)}}class ND extends bx{constructor(e){super(),this.firestore=e}convertBytes(e){return new T0(new Zc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Pa.forKey(t,this.firestore,null)}}class TP{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new ND(e)}get(e){const t=fg(e);return this._delegate.get(t).then(i=>new S0(this._firestore,new Cd(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=fg(e);return i?(Ex("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=fg(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=fg(e);return this._delegate.delete(t),this}}class SP{constructor(e){this._delegate=e}set(e,t,i){const r=fg(e);return i?(Ex("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=fg(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=fg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class hg{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new D0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new A0(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=hg.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let a=r.get(t);return a||(a=new hg(e,new ND(e),t),r.set(t,a)),a}}hg.INSTANCES=new WeakMap;class Pa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ND(e)}static forPath(e,t,i){if(e.length%2!=0)throw new ke("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Pa(t,new ai(t._delegate,i,new Ke(e)))}static forKey(e,t,i){return new Pa(t,new ai(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new pv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new pv(this.firestore,XO(this._delegate,e))}catch(t){throw Ks(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,an.m9)(e))instanceof ai&&JO(this._delegate,e)}set(e,t){t=Ex("DocumentReference.set",t);try{return t?yP(this._delegate,e,t):yP(this._delegate,e)}catch(i){throw Ks(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?vP(this._delegate,e):vP(this._delegate,e,t,...i)}catch(r){throw Ks(r,"updateDoc()","DocumentReference.update()")}}delete(){return function iV(n){return fv(un(n.firestore,li),[new Jm(n._key,ei.none())])}(this._delegate)}onSnapshot(...e){const t=AP(e),i=MP(e,r=>new S0(this.firestore,new Cd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return bP(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function X2(n){n=un(n,ai);const e=un(n.firestore,li),t=zi(e),i=new Rf(e);return function f2(n,e){const t=new oi;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(i=(0,ye.Z)(function*(r,a,u){try{const f=yield function(_,w){const I=Qe(_);return I.persistence.runTransaction("read document","readonly",M=>I.localDocuments.getDocument(M,w))}(r,a);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new ke(ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=ov(f,`Failed to get document '${a} from cache`);u.reject(_)}}),function(r,a,u){return i.apply(this,arguments)})(yield ED(n),e,t);var i})),t.promise}(t,n._key).then(r=>new Cd(e,i,n._key,r,new dg(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function J2(n){n=un(n,ai);const e=un(n.firestore,li);return $O(zi(e),n._key,{source:"server"}).then(t=>wx(e,n,t))}(this._delegate):function Q2(n){n=un(n,ai);const e=un(n.firestore,li);return $O(zi(e),n._key).then(t=>wx(e,n,t))}(this._delegate),t.then(i=>new S0(this.firestore,new Cd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Pa(this.firestore,this._delegate.withConverter(e?hg.getInstance(this.firestore,e):null))}}function Ks(n,e,t){return n.message=n.message.replace(e,t),n}function AP(n){for(const e of n)if("object"==typeof e&&!Cx(e))return e;return{}}function MP(n,e){var t,i;let r;return r=Cx(n[0])?n[0]:Cx(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{r.next&&r.next(e(a))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class S0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Pa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return _P(this._delegate,e._delegate)}}class A0 extends S0{data(e){const t=this._delegate.data(e);return function nA(n,e){n||ot()}(void 0!==t),t}}class Ys{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ND(e)}where(e,t,i){try{return new Ys(this.firestore,Mf(this._delegate,function U2(n,e,t){const i=e,r=xD("where",n);return I0._create(r,i,t)}(e,t,i)))}catch(r){throw Ks(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ys(this.firestore,Mf(this._delegate,function H2(n,e="asc"){const t=e,i=xD("orderBy",n);return vx._create(i,t)}(e,t)))}catch(i){throw Ks(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ys(this.firestore,Mf(this._delegate,function j2(n){return KO("limit",n),RD._create("limit",n,"F")}(e)))}catch(t){throw Ks(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ys(this.firestore,Mf(this._delegate,function $2(n){return KO("limitToLast",n),RD._create("limitToLast",n,"L")}(e)))}catch(t){throw Ks(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ys(this.firestore,Mf(this._delegate,function z2(...n){return kD._create("startAt",n,!0)}(...e)))}catch(t){throw Ks(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ys(this.firestore,Mf(this._delegate,function G2(...n){return kD._create("startAfter",n,!1)}(...e)))}catch(t){throw Ks(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ys(this.firestore,Mf(this._delegate,function q2(...n){return OD._create("endBefore",n,!1)}(...e)))}catch(t){throw Ks(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ys(this.firestore,Mf(this._delegate,function W2(...n){return OD._create("endAt",n,!0)}(...e)))}catch(t){throw Ks(t,"endAt()","Query.endAt()")}}isEqual(e){return hx(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function tV(n){n=un(n,ts);const e=un(n.firestore,li),t=zi(e),i=new Rf(e);return function p2(n,e){const t=new oi;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(i=(0,ye.Z)(function*(r,a,u){try{const f=yield hD(r,a,!0),_=new RO(a,f.sr),w=_.nc(f.documents),I=_.applyChanges(w,!1);u.resolve(I.snapshot)}catch(f){const _=ov(f,`Failed to execute query '${a} against cache`);u.reject(_)}}),function(r,a,u){return i.apply(this,arguments)})(yield ED(n),e,t);var i})),t.promise}(t,n._query).then(r=>new xf(e,i,n,r))}(this._delegate):"server"===e?.source?function nV(n){n=un(n,ts);const e=un(n.firestore,li),t=zi(e),i=new Rf(e);return zO(t,n._query,{source:"server"}).then(r=>new xf(e,i,n,r))}(this._delegate):function eV(n){n=un(n,ts);const e=un(n.firestore,li),t=zi(e),i=new Rf(e);return uP(n._query),zO(t,n._query).then(r=>new xf(e,i,n,r))}(this._delegate),t.then(i=>new Ix(this.firestore,new xf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=AP(e),i=MP(e,r=>new Ix(this.firestore,new xf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return bP(this._delegate,t,i)}withConverter(e){return new Ys(this.firestore,this._delegate.withConverter(e?hg.getInstance(this.firestore,e):null))}}class SV{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new A0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Ix{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ys(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new A0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new SV(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new A0(this._firestore,i))})}isEqual(e){return _P(this._delegate,e._delegate)}}class pv extends Ys{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Pa(this.firestore,e):null}doc(e){try{return new Pa(this.firestore,void 0===e?ID(this._delegate):ID(this._delegate,e))}catch(t){throw Ks(t,"doc()","CollectionReference.doc()")}}add(e){return function rV(n,e){const t=un(n.firestore,li),i=ID(n),r=PD(n.converter,e);return fv(t,[SD(cg(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,ei.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Pa(this.firestore,t))}isEqual(e){return JO(this._delegate,e._delegate)}withConverter(e){return new pv(this.firestore,this._delegate.withConverter(e?hg.getInstance(this.firestore,e):null))}}function fg(n){return un(n,ai)}class Dx{constructor(...e){this._delegate=new Ed(...e)}static documentId(){return new Dx(Ei.keyField().canonicalString())}isEqual(e){return(e=(0,an.m9)(e))instanceof Ed&&this._delegate._internalPath.isEqual(e._internalPath)}}class pg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function yV(){return new px("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new pg(e)}static delete(){const e=function _V(){return new b0("deleteField")}();return e._methodName="FieldValue.delete",new pg(e)}static arrayUnion(...e){const t=function vV(...n){return new N2("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new pg(t)}static arrayRemove(...e){const t=function bV(...n){return new F2("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new pg(t)}static increment(e){const t=function wV(n){return new L2("increment",n)}(e);return t._methodName="FieldValue.increment",new pg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const AV={Firestore:DP,GeoPoint:DD,Timestamp:Kn,Blob:T0,Transaction:TP,WriteBatch:SP,DocumentReference:Pa,DocumentSnapshot:S0,Query:Ys,QueryDocumentSnapshot:A0,QuerySnapshot:Ix,CollectionReference:pv,FieldPath:Dx,FieldValue:pg,setLogLevel:function TV(n){!function vI(n){Nl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function xV(n){(function MV(n,e){n.INTERNAL.registerComponent(new Xh.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},AV)))})(n,(e,t)=>new DP(e,t,new DV)),n.registerVersion("@firebase/firestore-compat","0.3.8")}(TS.Z);var Tx=P(6451),FD=P(5363),RV=P(6063);class kV extends Yt.x{constructor(e=1/0,t=1/0,i=RV.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:a,_windowTime:u}=this;t||(i.push(e),!r&&i.push(a.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,a=r.slice();for(let u=0;u<a.length&&!e.closed;u+=i?1:2)e.next(a[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,a=(r?1:2)*e;if(e<1/0&&a<i.length&&i.splice(0,i.length-a),!r){const u=t.now();let f=0;for(let _=1;_<i.length&&i[_]<=u;_+=2)f=_;f&&i.splice(0,f+1)}}}var xP=P(3099);function RP(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,xP.B)({connector:()=>new kV(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function kP(n,e){return(0,Fo.m)(e)?Qn(()=>n,e):Qn(()=>n)}var Sx=P(9468);P(259);const Mx=new Map,PP={activated:!1,tokenObservers:[]},LV={initialized:!1,enabled:!1};function Fi(n){return Mx.get(n)||Object.assign({},PP)}function VD(){return LV}class $V{constructor(e,t,i,r,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ye.Z)(function*(){t.stop();try{t.pending=new an.BH,yield function zV(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new an.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ns=new an.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Rx(n){if(!Fi(n).activated)throw ns.create("use-before-activation",{appName:n.name})}function HD(n,e){return Ox.apply(this,arguments)}function Ox(){return Ox=(0,ye.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const M=yield r.getHeartbeatsHeader();M&&(i["X-Firebase-Client"]=M)}const a={method:"POST",body:JSON.stringify(e),headers:i};let u,f;try{u=yield fetch(n,a)}catch(M){throw ns.create("fetch-network-error",{originalErrorMessage:M?.message})}if(200!==u.status)throw ns.create("fetch-status-error",{httpStatus:u.status});try{f=yield u.json()}catch(M){throw ns.create("fetch-parse-error",{originalErrorMessage:M?.message})}const _=f.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw ns.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const w=1e3*Number(_[1]),I=Date.now();return{token:f.token,expireTimeMillis:I+w,issuedAtTimeMillis:I}}),Ox.apply(this,arguments)}function FP(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const M0="firebase-app-check-store";let jD=null;function VP(){return jD||(jD=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(ns.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(M0,{keyPath:"compositeKey"})}}catch(t){e(ns.create("storage-open",{originalErrorMessage:t?.message}))}}),jD)}function Px(){return Px=(0,ye.Z)(function*(n,e){const i=(yield VP()).transaction(M0,"readwrite"),a=i.objectStore(M0).put({compositeKey:n,value:e});return new Promise((u,f)=>{a.onsuccess=_=>{u()},i.onerror=_=>{var w;f(ns.create("storage-set",{originalErrorMessage:null===(w=_.target.error)||void 0===w?void 0:w.message}))}})}),Px.apply(this,arguments)}const x0=new Rc.Yd("@firebase/app-check");function Lx(n,e){return(0,an.hl)()?function QV(n,e){return function BP(n,e){return Px.apply(this,arguments)}(function HP(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{x0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Bx(){return VD().enabled}function Ux(){return Hx.apply(this,arguments)}function Hx(){return Hx=(0,ye.Z)(function*(){const n=VD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),Hx.apply(this,arguments)}const iB={error:"UNKNOWN_ERROR"};function rB(n){return an.US.encodeString(JSON.stringify(n),!1)}function $D(n){return jx.apply(this,arguments)}function jx(){return jx=(0,ye.Z)(function*(n,e=!1){const t=n.app;Rx(t);const i=Fi(t);let a,r=i.token;if(r&&!mv(r)&&(i.token=void 0,r=void 0),!r){const _=yield i.cachedTokenPromise;_&&(mv(_)?r=_:yield Lx(t,void 0))}if(!e&&r&&mv(r))return{token:r.token};let f,u=!1;if(Bx()){i.exchangeTokenPromise||(i.exchangeTokenPromise=HD(FP(t,yield Ux()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),u=!0);const _=yield i.exchangeTokenPromise;return yield Lx(t,_),i.token=_,{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),u=!0),r=yield Fi(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?x0.warn(_.message):x0.error(_),a=_}return r?a?f=mv(r)?{token:r.token,internalError:a}:zP(a):(f={token:r.token},i.token=r,yield Lx(t,r)):f=zP(a),u&&$P(t,f),f}),jx.apply(this,arguments)}function Gx(n,e){const t=Fi(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function jP(n){const{app:e}=n,t=Fi(e);let i=t.tokenRefresher;i||(i=function oB(n){const{app:e}=n;return new $V((0,ye.Z)(function*(){let i;if(i=Fi(e).token?yield $D(n,!0):yield $D(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=Fi(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function $P(n,e){const t=Fi(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}function mv(n){return n.expireTimeMillis-Date.now()>0}function zP(n){return{token:rB(iB),error:n}}class aB{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Fi(this.app);for(const t of e)Gx(this.app,t.next);return Promise.resolve()}}const XP="app-check-internal";!function wB(){(0,Ta._registerComponent)(new Xh.wA("app-check",n=>function lB(n,e){return new aB(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(XP).initialize()})),(0,Ta._registerComponent)(new Xh.wA(XP,n=>function cB(n){return{getToken:e=>$D(n,e),addTokenListener:e=>function zx(n,e,t,i){const{app:r}=n,a=Fi(r);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:i,type:e}],a.token&&mv(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),jP(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>jP(n))}(n,"INTERNAL",e),removeTokenListener:e=>Gx(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ta.registerVersion)("@firebase/app-check","0.7.0")}();class Kx{constructor(){return(0,fr.vb)("app-check")}}typeof window<"u"&&window,P(9260);const e1=new c.OlP("angularfire2.auth.use-emulator"),t1=new c.OlP("angularfire2.auth.settings"),n1=new c.OlP("angularfire2.auth.tenant-id"),r1=new c.OlP("angularfire2.auth.langugage-code"),s1=new c.OlP("angularfire2.auth.use-device-language"),o1=new c.OlP("angularfire.auth.persistence"),a1=(n,e,t,i,r,a,u,f)=>(0,No.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),i&&(_.tenantId=i),_.languageCode=r,a&&_.useDeviceLanguage(),u)for(const[w,I]of Object.entries(u))_.settings[w]=I;return f&&_.setPersistence(f),_},[t,i,r,a,u,f]);let l1=(()=>{class n{constructor(t,i,r,a,u,f,_,w,I,M,F,B){const W=new Yt.x,ie=lt(void 0).pipe((0,FD.Q)(u.outsideAngular),Qn(()=>a.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,3042)))),(0,at.U)(()=>(0,No.on)(t,a,i)),(0,at.U)(ve=>a1(ve,a,f,w,I,M,_,F)),RP({bufferSize:1,refCount:!1}));if(Ql(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=lt(null);else{ie.pipe(ba()).subscribe();const $e=ie.pipe(Qn(Ct=>Ct.getRedirectResult().then(jt=>jt,()=>null)),fr.iC,RP({bufferSize:1,refCount:!1})),rt=ie.pipe(Qn(Ct=>new Ui.y(jt=>({unsubscribe:a.runOutsideAngular(()=>Ct.onAuthStateChanged(Gt=>jt.next(Gt),Gt=>jt.error(Gt),()=>jt.complete()))})))),Je=ie.pipe(Qn(Ct=>new Ui.y(jt=>({unsubscribe:a.runOutsideAngular(()=>Ct.onIdTokenChanged(Gt=>jt.next(Gt),Gt=>jt.error(Gt),()=>jt.complete()))}))));this.authState=$e.pipe(kP(rt),(0,Sx.R)(u.outsideAngular),(0,FD.Q)(u.insideAngular)),this.user=$e.pipe(kP(Je),(0,Sx.R)(u.outsideAngular),(0,FD.Q)(u.insideAngular)),this.idToken=this.user.pipe(Qn(Ct=>Ct?(0,mn.D)(Ct.getIdToken()):lt(null))),this.idTokenResult=this.user.pipe(Qn(Ct=>Ct?(0,mn.D)(Ct.getIdTokenResult()):lt(null))),this.credential=(0,Tx.T)($e,W,this.authState.pipe(Xn(Ct=>!Ct))).pipe((0,at.U)(Ct=>Ct?.user?Ct:null),(0,Sx.R)(u.outsideAngular),(0,FD.Q)(u.insideAngular))}return(0,No.pX)(this,ie,a,{spy:{apply:(ve,$e,rt)=>{(ve.startsWith("signIn")||ve.startsWith("createUser"))&&rt.then(Je=>W.next(Je))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(No.Dh),c.LFG(No.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(fr.HU),c.LFG(e1,8),c.LFG(t1,8),c.LFG(n1,8),c.LFG(r1,8),c.LFG(s1,8),c.LFG(o1,8),c.LFG(Kx,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function c1(n,e){return function SB(n,e=H_.z){return new Ui.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function Qx(n,e){return c1(n,e).pipe((0,at.U)(t=>({payload:t,type:"query"})))}function GD(n,e){return Qx(n,e).pipe(va(void 0),bb(),(0,at.U)(([t,i])=>{const r=i.payload.docChanges(),a=r.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,f)=>{const _=r.find(I=>I.doc.ref.isEqual(u.ref)),w=t?.payload.docs.find(I=>I.ref.isEqual(u.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(u.metadata)||!_&&w&&JSON.stringify(w.metadata)===JSON.stringify(u.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:u}})}),a}))}function u1(n,e,t){return GD(n,t).pipe(Ea((i,r)=>function MB(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function xB(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return Xx(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Xx(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Xx(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(a=>a.payload),e),[]),j_(),(0,at.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function Xx(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function d1(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class h1{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=GD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,at.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(va(void 0),bb(),Xn(([i,r])=>r.length>0||!i),(0,at.U)(([i,r])=>r),fr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ea((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=d1(e);return u1(this.query,t,this.afs.schedulers.outsideAngular).pipe(fr.iC)}valueChanges(e={}){return Qx(this.query,this.afs.schedulers.outsideAngular).pipe((0,at.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),fr.iC)}get(e){return(0,mn.D)(this.query.get(e)).pipe(fr.iC)}add(e){return this.ref.add(e)}doc(e){return new f1(this.ref.doc(e),this.afs)}}class f1{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:a}=p1(i,t);return new h1(r,a,this.afs)}snapshotChanges(){return function AB(n,e){return c1(n,e).pipe(va(void 0),bb(),(0,at.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(fr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,at.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,mn.D)(this.ref.get(e)).pipe(fr.iC)}}class RB{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?GD(this.query,this.afs.schedulers.outsideAngular).pipe((0,at.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),Xn(t=>t.length>0),fr.iC):GD(this.query,this.afs.schedulers.outsideAngular).pipe(fr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ea((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=d1(e);return u1(this.query,t,this.afs.schedulers.outsideAngular).pipe(fr.iC)}valueChanges(e={}){return Qx(this.query,this.afs.schedulers.outsideAngular).pipe((0,at.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),fr.iC)}get(e){return(0,mn.D)(this.query.get(e)).pipe(fr.iC)}}const kB=new c.OlP("angularfire2.enableFirestorePersistence"),OB=new c.OlP("angularfire2.firestore.persistenceSettings"),PB=new c.OlP("angularfire2.firestore.settings"),NB=new c.OlP("angularfire2.firestore.use-emulator");function p1(n,e=(t=>t)){return{query:e(n),ref:n}}let m1=(()=>{class n{constructor(t,i,r,a,u,f,_,w,I,M,F,B,W,ie,ve,$e,rt){this.schedulers=_;const Je=(0,No.on)(t,f,i),Ct=I;M&&a1(Je,f,F,W,ie,ve,B,$e),[this.firestore,this.persistenceEnabled$]=(0,No.cc)(`${Je.name}.firestore`,"AngularFirestore",Je.name,()=>{const jt=f.runOutsideAngular(()=>Je.firestore());if(a&&jt.settings(a),Ct&&jt.useEmulator(...Ct),r&&!Ql(u)){const Gt=()=>{try{return(0,mn.D)(jt.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(Tn){return typeof console<"u"&&console.warn(Tn),lt(!1)}};return[jt,f.runOutsideAngular(Gt)]}return[jt,lt(!1)]},[a,Ct,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:u}=p1(r,i),f=this.schedulers.ngZone.run(()=>a);return new h1(f,u,this)}collectionGroup(t,i){const r=i||(u=>u),a=this.firestore.collectionGroup(t);return new RB(r(a),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new f1(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(No.Dh),c.LFG(No.xv,8),c.LFG(kB,8),c.LFG(PB,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(fr.HU),c.LFG(OB,8),c.LFG(NB,8),c.LFG(l1,8),c.LFG(e1,8),c.LFG(t1,8),c.LFG(n1,8),c.LFG(r1,8),c.LFG(s1,8),c.LFG(o1,8),c.LFG(Kx,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Jx=(()=>{class n{constructor(t){this.firestore=t}getProducts(){return this.firestore.collection("productos").snapshotChanges()}getProducto(t){return this.firestore.collection("productos").doc(t).snapshotChanges()}agregarproducto(t){return this.firestore.collection("productos").add(t)}deleteProducts(t){return this.firestore.collection("productos").doc(t).delete()}update(t,i){return this.firestore.collection("productos").doc(t).update(i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(m1))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),g1=(()=>{class n{constructor(t){this.firestore=t}addReport(t){return this.firestore.collection("reportes").add(t)}obtReports(){return this.firestore.collection("reportes").snapshotChanges()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(m1))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class _1{}const Id="*";function qD(n,e){return{type:7,name:n,definitions:e,options:{}}}function mg(n,e=null){return{type:4,styles:e,timings:n}}function y1(n,e=null){return{type:2,steps:n,options:e}}function Na(n){return{type:6,styles:n,offset:null}}function gg(n,e,t){return{type:0,name:n,styles:e,options:t}}function _g(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function v1(n){Promise.resolve().then(n)}class R0{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){v1(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class b1{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const a=this.players.length;0==a?v1(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==a&&this._onFinish()}),u.onDestroy(()=>{++i==a&&this._onDestroy()}),u.onStart(()=>{++r==a&&this._onStart()})}),this.totalTime=this.players.reduce((u,f)=>Math.max(u,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const w1=["toast-component",""];function LB(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",5),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.remove())}),c.TgZ(1,"span",6),c._uU(2,"\xd7"),c.qZA()()}}function VB(n,e){if(1&n&&(c.ynx(0),c._uU(1),c.BQk()),2&n){const t=c.oxw(2);c.xp6(1),c.hij("[",t.duplicatesCount+1,"]")}}function BB(n,e){if(1&n&&(c.TgZ(0,"div"),c._uU(1),c.YNc(2,VB,2,1,"ng-container",4),c.qZA()),2&n){const t=c.oxw();c.Tol(t.options.titleClass),c.uIk("aria-label",t.title),c.xp6(1),c.hij(" ",t.title," "),c.xp6(1),c.Q6J("ngIf",t.duplicatesCount)}}function UB(n,e){if(1&n&&c._UZ(0,"div",7),2&n){const t=c.oxw();c.Tol(t.options.messageClass),c.Q6J("innerHTML",t.message,c.oJD)}}function HB(n,e){if(1&n&&(c.TgZ(0,"div",8),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.Tol(t.options.messageClass),c.uIk("aria-label",t.message),c.xp6(1),c.hij(" ",t.message," ")}}function jB(n,e){if(1&n&&(c.TgZ(0,"div"),c._UZ(1,"div",9),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Udp("width",t.width+"%")}}class KB{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class WD{constructor(e,t,i,r,a,u){this.toastId=e,this.config=t,this.message=i,this.title=r,this.toastType=a,this.toastRef=u,this._onTap=new Yt.x,this._onAction=new Yt.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const C1=new c.OlP("ToastConfig");class QB{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new Yt.x,this._activate=new Yt.x,this._manualClose=new Yt.x,this._resetTimeout=new Yt.x,this._countDuplicate=new Yt.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class XB{constructor(e,t){this._toastPackage=e,this._parentInjector=t}get(e,t,i){return e===WD?this._toastPackage:this._parentInjector.get(e,t,i)}}class JB extends class YB{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,i){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=i}attachComponentPortal(e,t){const i=this._componentFactoryResolver.resolveComponentFactory(e.component);let r;return r=i.create(e.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class eU{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let tU=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ne))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nU=(()=>{class n{constructor(t,i,r,a){this._overlayContainer=t,this._componentFactoryResolver=i,this._appRef=r,this._document=a,this._paneElements=new Map}create(t,i){return this._createOverlayRef(this.getPaneElement(t,i))}getPaneElement(t="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[t]||(this._paneElements.get(i)[t]=this._createPaneElement(t,i)),this._paneElements.get(i)[t]}_createPaneElement(t,i){const r=this._document.createElement("div");return r.id="toast-container",r.classList.add(t),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(t){return new JB(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new eU(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(tU),c.LFG(c._Vd),c.LFG(c.z2F),c.LFG(ne))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),k0=(()=>{class n{constructor(t,i,r,a,u){this.overlay=i,this._injector=r,this.sanitizer=a,this.ngZone=u,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,i,r={},a=""){return this._preBuildNotification(a,t,i,this.applyConfig(r))}success(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,i,this.applyConfig(r))}error(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,i,this.applyConfig(r))}info(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,i,this.applyConfig(r))}warning(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,i,this.applyConfig(r))}clear(t){for(const i of this.toasts)if(void 0!==t){if(i.toastId===t)return void i.toastRef.manualClose()}else i.toastRef.manualClose()}remove(t){const i=this._findToast(t);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(t="",i="",r,a){const{includeTitleDuplicates:u}=this.toastrConfig;for(const f of this.toasts){const _=u&&f.title===t;if((!u||_)&&f.message===i)return f.toastRef.onDuplicate(r,a),f}return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===t)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(t,i,r,a){return a.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,i,r,a)):this._buildNotification(t,i,r,a)}_buildNotification(t,i,r,a){if(!a.toastComponent)throw new Error("toastComponent required");const u=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&a.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&null!==u)return u;this.previousToastMessage=i;let f=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(f=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const _=this.overlay.create(a.positionClass,this.overlayContainer);this.index=this.index+1;let w=i;i&&a.enableHtml&&(w=this.sanitizer.sanitize(c.q3G.HTML,i));const I=new QB(_),M=new WD(this.index,a,w,r,t,I),F=new XB(M,this._injector),B=new KB(a.toastComponent,F),W=_.attach(B,this.toastrConfig.newestOnTop);I.componentInstance=W.instance;const ie={toastId:this.index,title:r||"",message:i||"",toastRef:I,onShown:I.afterActivate(),onHidden:I.afterClosed(),onTap:M.onTap(),onAction:M.onAction(),portal:W};return f||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{ie.toastRef.activate()})),this.toasts.push(ie),ie}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(C1),c.LFG(nU),c.LFG(c.zs3),c.LFG(ll),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const iU={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class n{constructor(t,i,r){this.toastrService=t,this.toastPackage=i,this.ngZone=r,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(a=>{this.duplicatesCount=a})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),i)):this.timeout=setTimeout(()=>t(),i)}outsideInterval(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),i)):this.intervalId=setInterval(()=>t(),i)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(k0),c.Y36(WD),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,i){1&t&&c.NdJ("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&t&&(c.d8E("@flyInOut",i.state),c.Tol(i.toastClasses),c.Udp("display",i.displayStyle))},attrs:w1,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,i){1&t&&(c.YNc(0,LB,3,0,"button",0),c.YNc(1,BB,3,5,"div",1),c.YNc(2,UB,1,3,"div",2),c.YNc(3,HB,2,4,"div",3),c.YNc(4,jB,2,2,"div",4)),2&t&&(c.Q6J("ngIf",i.options.closeButton),c.xp6(1),c.Q6J("ngIf",i.title),c.xp6(1),c.Q6J("ngIf",i.message&&i.options.enableHtml),c.xp6(1),c.Q6J("ngIf",i.message&&!i.options.enableHtml),c.xp6(1),c.Q6J("ngIf",i.options.progressBar))},dependencies:[An],encapsulation:2,data:{animation:[qD("flyInOut",[gg("inactive",Na({opacity:0})),gg("active",Na({opacity:1})),gg("removed",Na({opacity:0})),_g("inactive => active",mg("{{ easeTime }}ms {{ easing }}")),_g("active => removed",mg("{{ easeTime }}ms {{ easing }}"))])]}}),n})()};let rU=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:C1,useValue:{default:iU,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[bo]]}),n})();function sU(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div")(1,"div",7),c.NdJ("click",function(){const a=c.CHM(t).$implicit,u=c.oxw();return c.KtG(u.abrirModal(a))}),c._UZ(2,"img",8),c.TgZ(3,"h3",9),c._uU(4),c.qZA(),c.TgZ(5,"p"),c._uU(6),c.ALo(7,"currency"),c.qZA(),c.TgZ(8,"p"),c._uU(9),c.qZA(),c.TgZ(10,"p"),c._uU(11),c.qZA(),c.TgZ(12,"p",10),c._uU(13),c.qZA()()()}if(2&n){const t=e.$implicit,i=c.oxw();c.xp6(2),c.Q6J("src",t.imagenes,c.LSH),c.xp6(2),c.Oqu(t.nombre),c.xp6(2),c.Oqu(c.gM2(7,6,t.precio,"USD","symbol","3.0")),c.xp6(3),c.Oqu(t.descripcion),c.xp6(2),c.hij(" Disponible: ",t.disponible?t.disponible:"No disponible"," "),c.xp6(2),c.Oqu(t.disponible?"":i.message)}}function oU(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",11)(1,"div",12),c._UZ(2,"img",13),c.TgZ(3,"h3"),c._uU(4),c.qZA(),c.TgZ(5,"p"),c._uU(6),c.qZA(),c.TgZ(7,"p"),c._uU(8),c.qZA(),c.TgZ(9,"p"),c._uU(10),c.qZA(),c.TgZ(11,"div",14)(12,"button",15),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.decrementarCantidad())}),c._uU(13," - "),c.qZA(),c.TgZ(14,"input",16),c.NdJ("ngModelChange",function(r){c.CHM(t);const a=c.oxw();return c.KtG(a.productoSeleccionado.cantidad=r)})("input",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.actualizarPrecioTotal())}),c.qZA(),c.TgZ(15,"button",17),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.incrementarCantidad())}),c._uU(16," + "),c.qZA()(),c.TgZ(17,"p"),c._uU(18),c.qZA(),c.TgZ(19,"div",18)(20,"button",19),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.cerrarModal())}),c._uU(21," Cerrar "),c.qZA(),c.TgZ(22,"button",20),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.registrarProducto())}),c._uU(23," Agregar "),c.qZA()()()()}if(2&n){const t=c.oxw();c.xp6(2),c.Q6J("src",t.productoSeleccionado.imagenes,c.LSH),c.xp6(2),c.Oqu(t.productoSeleccionado.nombre),c.xp6(2),c.hij("Descripci\xf3n: ",t.productoSeleccionado.descripcion,""),c.xp6(2),c.hij("Precio: ",t.productoSeleccionado.precio,""),c.xp6(2),c.hij(" Disponible: ",t.productoSeleccionado.disponible?t.productoSeleccionado.disponible:"No disponible"," "),c.xp6(4),c.Q6J("disabled",!0)("ngModel",t.productoSeleccionado.cantidad),c.xp6(1),c.Q6J("disabled",t.enabledButton),c.xp6(3),c.hij("Precio Total: ",t.productoSeleccionado.precioTotal,""),c.xp6(4),c.Q6J("disabled",t.habilitar)}}function aU(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"tr")(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.qZA(),c.TgZ(5,"td"),c._uU(6),c.qZA(),c.TgZ(7,"td")(8,"button",21),c.NdJ("click",function(){const a=c.CHM(t).$implicit,u=c.oxw();return c.KtG(u.eliminarProducto(a))}),c._uU(9," Eliminar "),c.qZA()()()}if(2&n){const t=e.$implicit;c.xp6(2),c.Oqu(t.nombre),c.xp6(2),c.Oqu(t.cantidad),c.xp6(2),c.Oqu(t.precioTotal)}}function lU(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",11)(1,"div",12)(2,"span",24),c._uU(3,"Agregar nuevo reporte"),c.qZA(),c.TgZ(4,"div",25)(5,"span"),c._uU(6,"Total a pagar: "),c.qZA(),c.TgZ(7,"p"),c._uU(8),c.ALo(9,"currency"),c.qZA(),c.TgZ(10,"p"),c._uU(11),c.qZA(),c.TgZ(12,"label")(13,"input",26),c.NdJ("ngModelChange",function(r){c.CHM(t);const a=c.oxw(2);return c.KtG(a.valorRestado=r)})("ngModelChange",function(){c.CHM(t);const r=c.oxw(2);return c.KtG(r.restarValor())}),c.qZA()()(),c.TgZ(14,"div",27)(15,"button",28),c.NdJ("click",function(){c.CHM(t);const r=c.oxw(2);return c.KtG(r.cerrarModal())}),c._uU(16," Cerrar "),c.qZA(),c.TgZ(17,"button",29),c.NdJ("click",function(){c.CHM(t);const r=c.oxw(2);return c.KtG(r.agregarReporte())}),c._uU(18," Crear "),c.qZA()()()()}if(2&n){const t=c.oxw(2);c.xp6(8),c.hij(" ",c.gM2(9,3,t.calcularTotal(),"USD","symbol","1.0")," "),c.xp6(3),c.hij("Devuelta: $",t.resultado,""),c.xp6(2),c.Q6J("ngModel",t.valorRestado)}}function cU(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"tfoot")(1,"tr",22)(2,"th"),c._uU(3,"Total:"),c.qZA(),c.TgZ(4,"th"),c._uU(5),c.qZA(),c.TgZ(6,"th")(7,"button",23),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.modalRegistrar())}),c._uU(8," Agregar Reporte "),c.qZA(),c.YNc(9,lU,19,8,"div",3),c.qZA(),c.TgZ(10,"th")(11,"button",21),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.borrarTabla())}),c._uU(12," Borrar todo "),c.qZA()()()()}if(2&n){const t=c.oxw();c.xp6(5),c.hij("$ ",t.calcularTotal(),""),c.xp6(4),c.Q6J("ngIf",t.registrarActivo)}}function uU(n,e){1&n&&(c.TgZ(0,"p"),c._uU(1," No hay productos seleccionados "),c.qZA())}let dU=(()=>{class n{constructor(t,i,r){this._productService=t,this._reportes=i,this.toastr=r,this.productoSeleccionado=null,this.modalActivo=!1,this.productosRegistrados=[],this.message="",this.enabledButton=!1,this.habilitar=!0,this.products=[],this.registrarActivo=!1,this.resultado=0}ngOnInit(){this.getProducts()}getProducts(){this._productService.getProducts().subscribe(t=>{this.products=[],t.forEach(i=>{this.products.push({id:i.payload.doc.id,...i.payload.doc.data()})})})}actualizarPrecioTotal(){this.productoSeleccionado.precioTotal=this.productoSeleccionado.precio*this.productoSeleccionado.cantidad,this.productoSeleccionado.disponible=this.productoSeleccionado.disponible+this.productoSeleccionado.cantidadAnterior-this.productoSeleccionado.cantidad}calcularPrecioTotal(t){return this.productoSeleccionado.precio*t}abrirModal(t){this.habilitar=!0,this.productoSeleccionado=t;const i=this.products.find(r=>r.nombre==this.productoSeleccionado.nombre);Number.isNaN(i?.disponible)||0==i?.disponible?(this.modalActivo=!1,this.message="* Producto agotado!!",setTimeout(()=>{this.message=""},2e3)):this.modalActivo=!0}cerrarModal(){this.registrarActivo=!1,this.enabledButton=!1,this.modalActivo=!1,this.productoSeleccionado.cantidad=0,this.valorRestado=null,this.resultado=0}incrementarCantidad(){this.habilitar=!1,this.maxCantidad=this.productoSeleccionado.cantidad,this.enabledButton=this.maxCantidad+1==this.productoSeleccionado.disponible,this.productoSeleccionado.cantidad++,this.productoSeleccionado.precioTotal=this.productoSeleccionado.cantidad*this.productoSeleccionado.precio}decrementarCantidad(){this.enabledButton=!1,this.productoSeleccionado.cantidad>0&&(this.productoSeleccionado.cantidad--,this.productoSeleccionado.precioTotal=this.productoSeleccionado.cantidad*this.productoSeleccionado.precio),0==this.productoSeleccionado.cantidad&&(this.habilitar=!0)}registrarProducto(){let{nombre:t,cantidad:i,descripcion:r,disponible:a,imagenes:u,precio:f,precioCompra:_,precioTotal:w}=this.productoSeleccionado;const I=this.products.find(M=>M.nombre===t);I&&(I.disponible-=i,a=I.disponible),this.productosRegistrados.push({nombre:t,cantidad:i,descripcion:r,disponible:a,imagenes:u,precio:f,precioCompra:_,precioTotal:w}),this.modalActivo=!1,this.enabledButton=!1,this.productoSeleccionado.cantidad=0}eliminarProducto(t){const i=this.productosRegistrados.indexOf(t);i>-1&&(this.productosRegistrados.splice(i,1),this.toastr.error("El producto fue eliminado con exito","Producto eliminado"));const r=this.products.find(a=>a.nombre===this.productoSeleccionado.nombre);r&&(r.disponible+=t.cantidad)}borrarTabla(){this.getProducts(),this.productosRegistrados=[],this.toastr.error("Todos los productos fueron eliminados","Eliminados"),this.valorRestado=null,this.resultado=0}calcularTotal(){let t=0;return this.productosRegistrados.forEach(i=>{t+=i.precioTotal}),t}modalRegistrar(){this.registrarActivo=!0}restarValor(){this.resultado=this.valorRestado>=this.calcularTotal()?Math.abs(this.calcularTotal()-this.valorRestado):0}agregarReporte(){const t=this.productosRegistrados.map(I=>I.nombre),i=this.productosRegistrados.map(I=>I.cantidad),r=this.productosRegistrados.map(I=>I.disponible),w={nombre:t,cantidad:i,descripcion:this.productosRegistrados.map(I=>I.descripcion),disponible:r,precio:this.productosRegistrados.map(I=>I.precio),precioCompra:this.productosRegistrados.map(I=>I.precioCompra),precioTotal:this.productosRegistrados.map(I=>I.precioTotal),total:this.calcularTotal(),fechaCreacion:new Date};this._reportes.addReport(w).then(()=>{this.toastr.success("Registrado con exito","Reporte Registrado!!"),this.productosRegistrados=[],this.registrarActivo=!1}),console.log("reporte",w),console.log("productos resgistrados",this.productosRegistrados)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Jx),c.Y36(g1),c.Y36(k0))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-list-products"]],decls:19,vars:5,consts:[[1,"table-responsive"],[2,"display","flex"],[4,"ngFor","ngForOf"],["class","modal",4,"ngIf"],[1,"table","table-striped"],["scope","col"],[4,"ngIf"],[1,"producto",3,"click"],["alt","Imagen no disponible","width","100","height","100",3,"src"],[2,"text-align","center"],[2,"color","red"],[1,"modal"],[1,"contenido-modal"],["alt","Imagen no disponible","width","200","height","200",3,"src"],[1,"input-group"],[1,"btn-cantidad","btn-decrementar",3,"click"],["id","cantidad","type","text","min","0",3,"disabled","ngModel","ngModelChange","input"],[1,"btn-cantidad","btn-incrementar",3,"disabled","click"],[1,"botones"],[2,"background-color","red",3,"click"],["type","button",1,"btn","btn-success",2,"background-color","green",3,"disabled","click"],[1,"btn","btn-danger",3,"click"],[2,"background-color","#0014ff2b"],[1,"btn","btn-success",3,"click"],[2,"margin-bottom","14px"],[2,"display","contents"],["type","number",3,"ngModel","ngModelChange"],[2,"gap","7px","display","flex"],[1,"btn","btn-danger",2,"background-color","blue",3,"click"],["type","button",1,"btn","btn-success",2,"background-color","green",3,"click"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"div",1),c.YNc(2,sU,14,11,"div",2),c.YNc(3,oU,24,10,"div",3),c.qZA(),c.TgZ(4,"table",4)(5,"thead")(6,"tr")(7,"th",5),c._uU(8,"Nombre"),c.qZA(),c.TgZ(9,"th",5),c._uU(10,"Cantidad"),c.qZA(),c.TgZ(11,"th",5),c._uU(12,"SubTotal"),c.qZA(),c.TgZ(13,"th",5),c._uU(14,"Acciones"),c.qZA()()(),c.TgZ(15,"tbody"),c.YNc(16,aU,10,3,"tr",2),c.qZA(),c.YNc(17,cU,13,2,"tfoot",6),c.YNc(18,uU,2,0,"p",6),c.qZA()()),2&t&&(c.xp6(2),c.Q6J("ngForOf",i.products),c.xp6(1),c.Q6J("ngIf",i.modalActivo),c.xp6(13),c.Q6J("ngForOf",i.productosRegistrados),c.xp6(1),c.Q6J("ngIf",0!==i.productosRegistrados.length),c.xp6(1),c.Q6J("ngIf",0==i.productosRegistrados.length))},dependencies:[pn,An,Bs,Sc,fh,ku,nu],styles:[".producto[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;cursor:pointer;margin:10px}.producto[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:10px}.producto[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:5px}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:100}.contenido-modal[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #00000080;display:flex;flex-direction:column;align-items:center}.contenido-modal[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:10px}.contenido-modal[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:10px}.contenido-modal[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.contenido-modal[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:10px;padding:5px;width:100%;box-sizing:border-box;border:1px solid #ccc;border-radius:5px}.contenido-modal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px 10px;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer}.btn-cantidad[_ngcontent-%COMP%]{padding:5px;border:none;background-color:#eee;cursor:pointer}.btn-decrementar[_ngcontent-%COMP%]{border-radius:5px 0 0 5px}.btn-incrementar[_ngcontent-%COMP%]{border-radius:0 5px 5px 0}.input-group[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}#cantidad[_ngcontent-%COMP%]{width:40px;text-align:center}.btn-decrementar[_ngcontent-%COMP%]{height:32px;order:1}#cantidad[_ngcontent-%COMP%]{order:2}.btn-incrementar[_ngcontent-%COMP%]{height:32px;order:3}.input-group[_ngcontent-%COMP%]{display:flex;align-items:flex-start;margin-bottom:10px;justify-content:space-between;width:100px}.botones[_ngcontent-%COMP%]{display:flex;gap:12px}"]}),n})();function hU(n,e){1&n&&(c.TgZ(0,"div",14),c._uU(1," Los campos con * son obligatorios "),c.qZA())}let I1=(()=>{class n{constructor(t,i,r,a,u){this._productService=t,this.toastr=i,this.fb=r,this.router=a,this.aRouter=u,this.subbmited=!1,this.titleChange="Agregar Producto",this.urlImagen="https://media.istockphoto.com/id/1162198273/es/vector/dise%C3%B1o-de-ilustraci%C3%B3n-vectorial-plana-icono-de-signo-de-interrogaci%C3%B3n.jpg?s=1024x1024&w=is&k=20&c=pZBCbPrSZDpGfF0OzRN78BeLUIJbiWaRxeKVO2TG7sA=",this.createProduct=this.fb.group({nombre:["",Tr.required],descripcion:[""],precioCompra:["",Tr.required],precio:["",Tr.required],imagenes:[""],disponible:["",Tr.required]}),this.id=this.aRouter.snapshot.paramMap.get("id")}ngOnInit(){this.EXeditProducto()}verificar(){return this.createProduct.valid?(console.log("El formulario es v\xe1lido"),!0):(console.log("El formulario no es v\xe1lido"),this.subbmited=!0,setTimeout(()=>{this.subbmited=!1},4e3),!1)}agregarEditarProducto(){this.subbmited=!0,!this.createProduct.invalid&&(null===this.id?this.agregarProducto():this.editarProducto(this.id))}agregarProducto(){this._productService.agregarproducto({nombre:this.createProduct.value.nombre,descripcion:this.createProduct.value.descripcion,precioCompra:this.createProduct.value.precioCompra,precio:this.createProduct.value.precio,cantidad:0,precioTotal:0,imagenes:this.createProduct.value.imagenes,disponible:this.createProduct.value.disponible}).then(()=>{this.toastr.success("Agregado con exito!!","Producto Agregado"),this.router.navigate(["/info-product"])})}editarProducto(t){this._productService.update(t,{nombre:this.createProduct.value.nombre,descripcion:this.createProduct.value.descripcion,precioCompra:this.createProduct.value.precioCompra,precio:this.createProduct.value.precio,imagenes:this.createProduct.value.imagenes,disponible:this.createProduct.value.disponible}).then(()=>{this.toastr.info("Producto modificado con exito","Actualizacion Exitosa"),this.router.navigate(["/info-product"])})}EXeditProducto(){null!==this.id&&(this.titleChange="Editar Producto",this._productService.getProducto(this.id).subscribe(t=>{console.log(t),this.createProduct.setValue({nombre:t.payload.data().nombre,descripcion:t.payload.data().descripcion,precioCompra:t.payload.data().precioCompra,precio:t.payload.data().precio,imagenes:t.payload.data().imagenes,disponible:t.payload.data().disponible})}))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Jx),c.Y36(k0),c.Y36(Np),c.Y36(Xi),c.Y36(Il))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-create-product"]],decls:39,vars:4,consts:[[2,"display","flex","flex-direction","column","align-items","center"],[3,"formGroup","ngSubmit"],[1,"container-form"],[1,"container-element"],["type","text","placeholder","Nombre del producto","formControlName","nombre",1,"form-control","mt-2","text-center"],["type","text","placeholder","Descripci\xf3n","formControlName","descripcion",1,"form-control","mt-2","text-center"],["type","number","placeholder","precio de compra","formControlName","precioCompra",1,"form-control","mt-2","text-center"],["type","number","placeholder","precio de venta","formControlName","precio",1,"form-control","mt-2","text-center"],["type","text","placeholder","url de imagen","formControlName","imagenes",1,"form-control","mt-2","text-center",3,"ngModel","ngModelChange"],["type","number","placeholder","Disponible","formControlName","disponible",1,"form-control","mt-2","text-center"],[2,"display","flex","gap","11px","margin","14px 0 0 0","justify-content","center"],["routerLink","/info-product",1,"btn","btn-danger"],["type","submit",1,"btn","btn-success",3,"click"],["style","color: red",4,"ngIf"],[2,"color","red"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"div")(2,"h2"),c._uU(3),c.qZA()(),c.TgZ(4,"div")(5,"form",1),c.NdJ("ngSubmit",function(){return i.agregarEditarProducto()}),c.TgZ(6,"div",2)(7,"div",3)(8,"label"),c._uU(9,"* Nombre "),c._UZ(10,"input",4),c.qZA()(),c.TgZ(11,"div",3)(12,"label"),c._uU(13,"Descripci\xf3n "),c._UZ(14,"input",5),c.qZA()(),c.TgZ(15,"div",3)(16,"label"),c._uU(17,"* Precio de compra "),c._UZ(18,"input",6),c.qZA()(),c.TgZ(19,"div",3)(20,"label"),c._uU(21,"* Precio de venta "),c._UZ(22,"input",7),c.qZA()(),c.TgZ(23,"div",3)(24,"label"),c._uU(25,"Imagen "),c.TgZ(26,"input",8),c.NdJ("ngModelChange",function(a){return i.urlImagen=a}),c.qZA()()(),c.TgZ(27,"div",3)(28,"label"),c._uU(29,"* Disponible "),c._UZ(30,"input",9),c.qZA()(),c.TgZ(31,"div",10)(32,"div",3)(33,"button",11),c._uU(34," Volver "),c.qZA()(),c.TgZ(35,"div",3)(36,"button",12),c.NdJ("click",function(){return i.verificar()}),c._uU(37," Aceptar "),c.qZA()()(),c.YNc(38,hU,2,0,"div",13),c.qZA()()()()),2&t&&(c.xp6(3),c.Oqu(i.titleChange),c.xp6(2),c.Q6J("formGroup",i.createProduct),c.xp6(21),c.Q6J("ngModel",i.urlImagen),c.xp6(12),c.Q6J("ngIf",i.subbmited&&i.createProduct.invalid))},dependencies:[An,qh,Tc,Bs,Sc,fh,Hs,_a,Ah]}),n})();function fU(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",15)(1,"div",16)(2,"p"),c._uU(3,"\xbfestas seguro que deseas eliminar este producto?"),c.qZA(),c.TgZ(4,"div",17)(5,"button",18),c.NdJ("click",function(){c.CHM(t);const r=c.oxw(2);return c.KtG(r.cerrarModalEliminar())}),c._uU(6," Cerrar "),c.qZA(),c.TgZ(7,"button",19),c.NdJ("click",function(){c.CHM(t);const r=c.oxw(2);return c.KtG(r.eliminarProducto2())}),c._uU(8," Eliminar "),c.qZA()()()()}}const pU=function(n){return["/edit-product/",n]};function mU(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"tr")(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.qZA(),c.TgZ(5,"td"),c._uU(6),c.qZA(),c.TgZ(7,"td"),c._UZ(8,"img",9),c.qZA(),c.TgZ(9,"td"),c._uU(10),c.qZA(),c.TgZ(11,"td"),c._uU(12),c.qZA(),c.TgZ(13,"td",10)(14,"div",11)(15,"div"),c._UZ(16,"i",12),c.qZA(),c.TgZ(17,"div")(18,"i",13),c.NdJ("click",function(){const a=c.CHM(t).$implicit,u=c.oxw();return c.KtG(u.abrirModalEliminar(a.id))}),c.qZA(),c.YNc(19,fU,9,0,"div",14),c.qZA()()()()}if(2&n){const t=e.$implicit,i=c.oxw();c.xp6(2),c.Oqu(t.nombre),c.xp6(2),c.Oqu(t.descripcion),c.xp6(2),c.Oqu(t.disponible),c.xp6(2),c.Q6J("src",t.imagenes,c.LSH),c.xp6(2),c.Oqu(t.precioCompra),c.xp6(2),c.Oqu(t.precio),c.xp6(4),c.Q6J("routerLink",c.VKq(8,pU,t.id)),c.xp6(3),c.Q6J("ngIf",i.modalActivoEliminar)}}function gU(n,e){1&n&&(c.TgZ(0,"p"),c._uU(1,"No hay productos seleccionados"),c.qZA())}let _U=(()=>{class n{constructor(t,i){this._productService=t,this.toastr=i,this.products=[],this.modalActivoEliminar=!1}ngOnInit(){this.getProducts()}getProducts(){this._productService.getProducts().subscribe(t=>{this.products=[],t.forEach(i=>{this.products.push({id:i.payload.doc.id,...i.payload.doc.data()})})})}abrirModalEliminar(t){this.idObtenido=t,this.modalActivoEliminar=!0}cerrarModalEliminar(){this.modalActivoEliminar=!1}eliminarProducto2(){console.log(this.idObtenido),this._productService.deleteProducts(this.idObtenido).then(()=>{this.modalActivoEliminar=!1,this.toastr.error("El producto fue eliminado con exito","Producto eliminado"),console.log("deleted...")})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Jx),c.Y36(k0))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-info-product"]],decls:31,vars:2,consts:[[2,"margin","6px 6px 12px 6px"],[2,"display","flex","justify-content","space-between"],[1,"float"],["routerLink","/create-product",1,"btn","btn-dark","btn-lg"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[4,"ngIf"],["routerLink","/",1,"btn","btn-danger"],["width","50","height","50","alt","url no valida",3,"src"],[2,"width","85px"],[2,"display","flex","justify-content","space-evenly"],[1,"fas","fa-edit","fa-lg","text-info",2,"cursor","pointer",3,"routerLink"],[1,"fas","fa-trash-alt","fa-lg","text-danger",2,"cursor","pointer",3,"click"],["class","modal",4,"ngIf"],[1,"modal"],[1,"contenido-modal"],[1,"botones",2,"display","flex","gap","8px","justify-content","center"],[1,"btn","btn-danger",2,"background-color","blue",3,"click"],["type","button",1,"btn","btn-success",2,"background-color","red",3,"click"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"H3"),c._uU(4,"LISTA DE PRODUCTOS"),c.qZA()(),c.TgZ(5,"div",2)(6,"button",3),c._uU(7," Agregar nuevo producto "),c.qZA()()()(),c.TgZ(8,"table",4)(9,"thead")(10,"tr")(11,"th",5),c._uU(12,"Nombre"),c.qZA(),c.TgZ(13,"th",5),c._uU(14,"Descripcion"),c.qZA(),c.TgZ(15,"th",5),c._uU(16,"Disponible"),c.qZA(),c.TgZ(17,"th",5),c._uU(18,"URL imagen"),c.qZA(),c.TgZ(19,"th",5),c._uU(20,"Precio compra"),c.qZA(),c.TgZ(21,"th",5),c._uU(22,"Precio venta"),c.qZA(),c.TgZ(23,"th",5),c._uU(24,"Acciones"),c.qZA()()(),c.TgZ(25,"tbody"),c.YNc(26,mU,20,10,"tr",6),c.qZA(),c.YNc(27,gU,2,0,"p",7),c.qZA(),c.TgZ(28,"div",0)(29,"button",8),c._uU(30,"Volver"),c.qZA()()),2&t&&(c.xp6(26),c.Q6J("ngForOf",i.products),c.xp6(1),c.Q6J("ngIf",0==i.products.length))},dependencies:[pn,An,qh],styles:[".modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0003;display:flex;justify-content:center;align-items:center;z-index:100}.contenido-modal[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #00000080;display:flex;flex-direction:column;align-items:center}"]}),n})();function yU(n,e){if(1&n&&(c.TgZ(0,"tr")(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.qZA(),c.TgZ(5,"td"),c._uU(6),c.qZA()()),2&n){const t=e.$implicit;c.xp6(2),c.hij(" ",t.fecha," "),c.xp6(2),c.hij(" ",t.nombre," "),c.xp6(2),c.hij(" ",t.total," ")}}const vU=[{path:"",redirectTo:"list-products",pathMatch:"full"},{path:"list-products",component:dU},{path:"create-product",component:I1},{path:"edit-product/:id",component:I1},{path:"info-product",component:_U},{path:"reportes",component:(()=>{class n{constructor(t){this._reportes=t,this.reportes=[]}ngOnInit(){this.obtReportes()}obtReportes(){this._reportes.obtReports().subscribe(t=>{t.forEach(i=>{this.reportes.push({id:i.payload.doc.id,...i.payload.doc.data()})}),console.log(this.reportes);for(const i of this.reportes){const r=i.fechaCreacion,u={hour:"numeric",minute:"numeric",hour12:!0},f=r.toLocaleDateString("es-CO",{weekday:"long",year:"numeric",month:"long",day:"numeric"})+" "+r.toLocaleTimeString("es-CO",u);i.fechaCreacion=f}})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(g1))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-reportes"]],decls:14,vars:1,consts:[[1,"col"],[4,"ngFor","ngForOf"]],template:function(t,i){1&t&&(c.TgZ(0,"div")(1,"div")(2,"h3"),c._uU(3,"REPORTES"),c.qZA()(),c.TgZ(4,"table")(5,"thead")(6,"th",0),c._uU(7,"Fecha"),c.qZA(),c.TgZ(8,"th",0),c._uU(9,"Nombre"),c.qZA(),c.TgZ(10,"th",0),c._uU(11,"Total"),c.qZA()(),c.TgZ(12,"tbody"),c.YNc(13,yU,7,3,"tr",1),c.qZA()()()),2&t&&(c.xp6(13),c.Q6J("ngForOf",i.reportes))},dependencies:[pn]}),n})()}];let tR,bU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[yb.forRoot(vU),yb]}),n})();try{tR=typeof Intl<"u"&&Intl.v8BreakIterator}catch{tR=!1}let O0,KD,yg,nR,Fa=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Gf(n){return n===Yl}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!tR)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ZD(n){return function wU(){if(null==O0&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>O0=!0}))}finally{O0=O0||!1}return O0}()?n:!!n.capture}function T1(){if(null==yg){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return yg=!1,yg;if("scrollBehavior"in document.documentElement.style)yg=!0;else{const n=Element.prototype.scrollTo;yg=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return yg}function P0(){if("object"!=typeof document||!document)return 0;if(null==KD){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),KD=0,0===n.scrollLeft&&(n.scrollLeft=1,KD=0===n.scrollLeft?1:2),n.remove()}return KD}function vg(n){return n.composedPath?n.composedPath()[0]:n.target}function iR(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var HU=P(5032);function is(n){return(0,Pi.e)((e,t)=>{(0,Mo.Xf)(n).subscribe((0,Dn.x)(t,()=>t.complete(),HU.Z)),!t.closed&&e.subscribe(t)})}function yo(n){return null!=n&&"false"!=`${n}`}function R1(n,e=0){return function jU(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function k1(n){return Array.isArray(n)?n:[n]}function rr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function _v(n){return n instanceof c.SBq?n.nativeElement:n}let N1=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function ZU(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function WU(n){try{return n.frameElement}catch{return null}}(function nH(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===L1(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),a=L1(t);return t.hasAttribute("contenteditable")?-1!==a:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function eH(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==a:"video"===r?-1!==a&&(null!==a||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function tH(n){return!function YU(n){return function XU(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function KU(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function QU(n){return function JU(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||F1(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Fa))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function F1(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function L1(n){if(!F1(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class iH{constructor(e,t,i,r,a=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(ya(1)).subscribe(e)}}let rH=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new iH(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(N1),c.LFG(c.R0b),c.LFG(ne))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function V1(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function B1(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const sH=new c.OlP("cdk-input-modality-detector-options"),oH={ignoreKeys:[18,17,224,91,16]},yv=ZD({passive:!0,capture:!0});let aH=(()=>{class n{constructor(t,i,r,a){this._platform=t,this._mostRecentTarget=null,this._modality=new uo(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(f=>f===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=vg(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(V1(u)?"keyboard":"mouse"),this._mostRecentTarget=vg(u))},this._onTouchstart=u=>{B1(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=vg(u))},this._options={...oH,...a},this.modalityDetected=this._modality.pipe(function UU(n){return Xn((e,t)=>n<=t)}(1)),this.modalityChanged=this.modalityDetected.pipe(j_()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,yv),r.addEventListener("mousedown",this._onMousedown,yv),r.addEventListener("touchstart",this._onTouchstart,yv)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,yv),document.removeEventListener("mousedown",this._onMousedown,yv),document.removeEventListener("touchstart",this._onTouchstart,yv))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Fa),c.LFG(c.R0b),c.LFG(ne),c.LFG(sH,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cH=new c.OlP("cdk-focus-monitor-default-options"),QD=ZD({passive:!0,capture:!0});let H1=(()=>{class n{constructor(t,i,r,a,u){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Yt.x,this._rootNodeFocusAndBlurListener=f=>{const _=vg(f),w="focus"===f.type?this._onFocus:this._onBlur;for(let I=_;I;I=I.parentElement)w.call(this,f,I)},this._document=a,this._detectionMode=u?.detectionMode||0}monitor(t,i=!1){const r=_v(t);if(!this._platform.isBrowser||1!==r.nodeType)return lt(null);const a=function CU(n){if(function EU(){if(null==nR){const n=typeof document<"u"?document.head:null;nR=!(!n||!n.createShadowRoot&&!n.attachShadow)}return nR}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const f={checkChildren:i,subject:new Yt.x,rootNode:a};return this._elementInfo.set(r,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const i=_v(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const a=_v(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([f,_])=>this._originChanged(f,i,_)):(this._setOrigin(i),"function"==typeof a.focus&&a.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),a=vg(t);!r||!r.checkChildren&&i!==a||this._originChanged(i,this._getFocusOrigin(a),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(t,i){this._ngZone.run(()=>t.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,QD),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,QD)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(is(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,QD),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,QD),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,a)=>{(a===t||r.checkChildren&&a.contains(t))&&i.push([a,r])}),i}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(Fa),c.LFG(aH),c.LFG(ne,8),c.LFG(cH,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const j1="cdk-high-contrast-black-on-white",$1="cdk-high-contrast-white-on-black",rR="cdk-high-contrast-active";let uH=(()=>{class n{constructor(t,i){this._platform=t,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,a=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(rR),t.remove(j1),t.remove($1),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(t.add(rR),t.add(j1)):2===i&&(t.add(rR),t.add($1))}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Fa),c.LFG(ne))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dH=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function hH(){return(0,c.f3M)(ne)}}),fH=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let sR=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new c.vpe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function pH(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?fH.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(dH,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),N0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const gH=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function mH(){return!0}});let rs=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!iR()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(uH),c.LFG(gH,8),c.LFG(ne))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[N0],N0]}),n})();function _H(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=yo(e)}}}function q1(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function XD(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=yo(e)}}}let W1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function F0(n,e,t){n.nativeElement.classList.toggle(e,t)}let K1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[rs],rs]}),n})();class vH{constructor(e,t,i){this._renderer=e,this.element=t,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Y1={enterDuration:225,exitDuration:150},oR=ZD({passive:!0}),Q1=["mousedown","touchstart"],X1=["mouseup","mouseleave","touchend","touchcancel"];class wH{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=_v(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...Y1,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const u=i.radius||function CH(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),f=e-r.left,_=t-r.top,w=a.enterDuration,I=document.createElement("div");I.classList.add("mat-ripple-element"),I.style.left=f-u+"px",I.style.top=_-u+"px",I.style.height=2*u+"px",I.style.width=2*u+"px",null!=i.color&&(I.style.backgroundColor=i.color),I.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(I),function EH(n){window.getComputedStyle(n).getPropertyValue("opacity")}(I),I.style.transform="scale(1)";const M=new vH(this,I,i);return M.state=0,this._activeRipples.add(M),i.persistent||(this._mostRecentTransientRipple=M),this._runTimeoutOutsideZone(()=>{const F=M===this._mostRecentTransientRipple;M.state=1,!i.persistent&&(!F||!this._isPointerDown)&&M.fadeOut()},w),M}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const i=e.element,r={...Y1,...e.config.animation};i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=_v(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(Q1))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(X1),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=V1(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!B1(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,oR)})})}_removeTriggerEvents(){this._triggerElement&&(Q1.forEach(e=>{this._triggerElement.removeEventListener(e,this,oR)}),this._pointerUpEventsRegistered&&X1.forEach(e=>{this._triggerElement.removeEventListener(e,this,oR)}))}}const IH=new c.OlP("mat-ripple-global-options");let J1=(()=>{class n{constructor(t,i,r,a,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new wH(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(Fa),c.Y36(IH,8),c.Y36(c.QbO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),eN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[rs],rs]}),n})(),tN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[rs]]}),n})();const TH=["*",[["mat-toolbar-row"]]],SH=["*","mat-toolbar-row"],AH=q1(class{constructor(n){this._elementRef=n}});let MH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),xH=(()=>{class n extends AH{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Fa),c.Y36(ne))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(1&t&&c.Suo(r,MH,5),2&t){let a;c.iGM(a=c.CRH())&&(i._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&c.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[c.qOj],ngContentSelectors:SH,decls:2,vars:0,template:function(t,i){1&t&&(c.F$t(TH),c.Hsn(0),c.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),nN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[rs],rs]}),n})();class RH{}class Of{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),a=r.toLowerCase(),u=t.slice(i+1).trim();this.maybeSetNormalizedName(r,a),this.headers.has(a)?this.headers.get(a).push(u):this.headers.set(a,[u])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Of?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Of;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Of?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const a=e.value;if(a){let u=this.headers.get(t);if(!u)return;u=u.filter(f=>-1===a.indexOf(f)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class kH{encodeKey(e){return iN(e)}encodeValue(e){return iN(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const PH=/%(\d[a-f0-9])/gi,NH={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function iN(n){return encodeURIComponent(n).replace(PH,(e,t)=>NH[t]??e)}function JD(n){return`${n}`}class Pf{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new kH,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function OH(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const a=r.indexOf("="),[u,f]=-1==a?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,a)),e.decodeValue(r.slice(a+1))],_=t.get(u)||[];_.push(f),t.set(u,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(JD):[JD(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(a=>{t.push({param:i,value:a,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Pf({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(JD(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(JD(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class FH{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function rN(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function sN(n){return typeof Blob<"u"&&n instanceof Blob}function oN(n){return typeof FormData<"u"&&n instanceof FormData}class L0{constructor(e,t,i,r){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function LH(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,a=r):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new Of),this.context||(this.context=new FH),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+u}}else this.params=new Pf,this.urlWithParams=t}serializeBody(){return null===this.body?null:rN(this.body)||sN(this.body)||oN(this.body)||function VH(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Pf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||oN(this.body)?null:sN(this.body)?this.body.type||null:rN(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Pf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let _=e.headers||this.headers,w=e.params||this.params;const I=e.context??this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((M,F)=>M.set(F,e.setHeaders[F]),_)),e.setParams&&(w=Object.keys(e.setParams).reduce((M,F)=>M.set(F,e.setParams[F]),w)),new L0(t,i,a,{params:w,headers:_,context:I,reportProgress:f,responseType:r,withCredentials:u})}}var ss=(()=>((ss=ss||{})[ss.Sent=0]="Sent",ss[ss.UploadProgress=1]="UploadProgress",ss[ss.ResponseHeader=2]="ResponseHeader",ss[ss.DownloadProgress=3]="DownloadProgress",ss[ss.Response=4]="Response",ss[ss.User=5]="User",ss))();class aR extends class BH{constructor(e,t=200,i="OK"){this.headers=e.headers||new Of,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=ss.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new aR({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function lR(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let lN=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let a;if(t instanceof L0)a=t;else{let _,w;_=r.headers instanceof Of?r.headers:new Of(r.headers),r.params&&(w=r.params instanceof Pf?r.params:new Pf({fromObject:r.params})),a=new L0(t,i,void 0!==r.body?r.body:null,{headers:_,context:r.context,params:w,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=lt(a).pipe(wa(_=>this.handler.handle(_)));if(t instanceof L0||"events"===r.observe)return u;const f=u.pipe(Xn(_=>_ instanceof aR));switch(r.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,at.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return f.pipe((0,at.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return f.pipe((0,at.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return f.pipe((0,at.U)(_=>_.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Pf).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,lR(r,i))}post(t,i,r={}){return this.request("POST",t,lR(r,i))}put(t,i,r={}){return this.request("PUT",t,lR(r,i))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(RH))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const HH=["*"];let eT;function V0(n){return function jH(){if(void 0===eT&&(eT=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(eT=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return eT}()?.createHTML(n)||n}function cN(n){return Error(`Unable to find icon with the name "${n}"`)}function uN(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function dN(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class bg{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let tT=(()=>{class n{constructor(t,i,r,a){this._httpClient=t,this._sanitizer=i,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,a){return this._addSvgIconConfig(t,i,new bg(r,null,a))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,a){const u=this._sanitizer.sanitize(c.q3G.HTML,r);if(!u)throw dN(r);const f=V0(u);return this._addSvgIconConfig(t,i,new bg("",f,a))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new bg(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const a=this._sanitizer.sanitize(c.q3G.HTML,i);if(!a)throw dN(i);const u=V0(a);return this._addSvgIconSetConfig(t,new bg("",u,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,t);if(!i)throw uN(t);const r=this._cachedIconsByUrl.get(i);return r?lt(nT(r)):this._loadSvgIconFromConfig(new bg(t,null)).pipe((0,Ni.b)(a=>this._cachedIconsByUrl.set(i,a)),(0,at.U)(a=>nT(a)))}getNamedSvgIcon(t,i=""){const r=hN(i,t);let a=this._svgIconConfigs.get(r);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(i,t),a)return this._svgIconConfigs.set(r,a),this._getSvgFromConfig(a);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(t,u):Ac(cN(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?lt(nT(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,at.U)(i=>nT(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?lt(r):vc(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(wl(f=>{const w=`Loading icon set URL: ${this._sanitizer.sanitize(c.q3G.RESOURCE_URL,u.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(w)),lt(null)})))).pipe((0,at.U)(()=>{const u=this._extractIconWithNameFromAnySet(t,i);if(!u)throw cN(t);return u}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const a=i[r];if(a.svgText&&a.svgText.toString().indexOf(t)>-1){const u=this._svgElementFromConfig(a),f=this._extractSvgIconFromSet(u,t,a.options);if(f)return f}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,Ni.b)(i=>t.svgText=i),(0,at.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?lt(null):this._fetchIcon(t).pipe((0,Ni.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const a=t.querySelector(`[id="${i}"]`);if(!a)return null;const u=a.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const f=this._svgElementFromString(V0("<svg></svg>"));return f.appendChild(u),this._setSvgAttributes(f,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(V0("<svg></svg>")),r=t.attributes;for(let a=0;a<r.length;a++){const{name:u,value:f}=r[a];"id"!==u&&i.setAttribute(u,f)}for(let a=0;a<t.childNodes.length;a++)t.childNodes[a].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[a].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,a=r?.withCredentials??!1;if(!this._httpClient)throw function $H(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const u=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,i);if(!u)throw uN(i);const f=this._inProgressUrlFetches.get(u);if(f)return f;const _=this._httpClient.get(u,{responseType:"text",withCredentials:a}).pipe((0,at.U)(w=>V0(w)),Fh(()=>this._inProgressUrlFetches.delete(u)),(0,xP.B)());return this._inProgressUrlFetches.set(u,_),_}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(hN(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const a=this._resolvers[r](i,t);if(a)return GH(a)?new bg(a.url,null,a.options):new bg(a,null)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(lN,8),c.LFG(ll),c.LFG(ne,8),c.LFG(c.qLn))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nT(n){return n.cloneNode(!0)}function hN(n,e){return n+":"+e}function GH(n){return!(!n.url||!n.options)}const qH=q1(class{constructor(n){this._elementRef=n}}),WH=new c.OlP("mat-icon-location",{providedIn:"root",factory:function ZH(){const n=(0,c.f3M)(ne),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),fN=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],KH=fN.map(n=>`[${n}]`).join(", "),YH=/^url\(['"]?#(.*?)['"]?\)$/;let QH=(()=>{class n extends qH{constructor(t,i,r,a,u){super(t),this._iconRegistry=i,this._location=a,this._errorHandler=u,this._inline=!1,this._currentIconFetch=Fu.w0.EMPTY,r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=yo(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),i&&t.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,a)=>{r.forEach(u=>{a.setAttribute(u.name,`url('${t}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(KH),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<i.length;a++)fN.forEach(u=>{const f=i[a],_=f.getAttribute(u),w=_?_.match(YH):null;if(w){let I=r.get(f);I||(I=[],r.set(f,I)),I.push({name:u,value:w[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(ya(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${a.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(tT),c.$8M("aria-hidden"),c.Y36(WH),c.Y36(c.qLn))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,i){2&t&&(c.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),c.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[c.qOj],ngContentSelectors:HH,decls:1,vars:0,template:function(t,i){1&t&&(c.F$t(),c.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),XH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[rs],rs]}),n})();var JH=P(1144);const ej=["addListener","removeListener"],tj=["addEventListener","removeEventListener"],nj=["on","off"];function B0(n,e,t,i){if((0,Fo.m)(t)&&(i=t,t=void 0),i)return B0(n,e,t).pipe(yc(i));const[r,a]=function sj(n){return(0,Fo.m)(n.addEventListener)&&(0,Fo.m)(n.removeEventListener)}(n)?tj.map(u=>f=>n[u](e,f,t)):function ij(n){return(0,Fo.m)(n.addListener)&&(0,Fo.m)(n.removeListener)}(n)?ej.map(pN(n,e)):function rj(n){return(0,Fo.m)(n.on)&&(0,Fo.m)(n.off)}(n)?nj.map(pN(n,e)):[];if(!r&&(0,JH.z)(n))return(0,xr.z)(u=>B0(u,e,t))((0,Mo.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Ui.y(u=>{const f=(..._)=>u.next(1<_.length?_:_[0]);return r(f),()=>a(f)})}function pN(n,e){return t=>i=>n[t](e,i)}var mN=P(4408);const U0={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=U0;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(a=>{t=void 0,n(a)});return new Fu.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=U0;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=U0;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var gN=P(7565);new class aj extends gN.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class oj extends mN.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=U0.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:a}=e;null!=t&&(null===(r=a[a.length-1])||void 0===r?void 0:r.id)!==t&&(U0.cancelAnimationFrame(t),e._scheduled=void 0)}});let cR,cj=1;const iT={};function _N(n){return n in iT&&(delete iT[n],!0)}const uj={setImmediate(n){const e=cj++;return iT[e]=!0,cR||(cR=Promise.resolve()),cR.then(()=>_N(e)&&n()),e},clearImmediate(n){_N(n)}},{setImmediate:dj,clearImmediate:hj}=uj,rT={setImmediate(...n){const{delegate:e}=rT;return(e?.setImmediate||dj)(...n)},clearImmediate(n){const{delegate:e}=rT;return(e?.clearImmediate||hj)(n)},delegate:void 0};new class pj extends gN.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class fj extends mN.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=rT.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:a}=e;null!=t&&(null===(r=a[a.length-1])||void 0===r?void 0:r.id)!==t&&(rT.clearImmediate(t),e._scheduled=void 0)}});var _j=P(3532);function yN(n,e=H_.z){return function gj(n){return(0,Pi.e)((e,t)=>{let i=!1,r=null,a=null,u=!1;const f=()=>{if(a?.unsubscribe(),a=null,i){i=!1;const w=r;r=null,t.next(w)}u&&t.complete()},_=()=>{a=null,u&&t.complete()};e.subscribe((0,Dn.x)(t,w=>{i=!0,r=w,a||(0,Mo.Xf)(n(w)).subscribe(a=(0,Dn.x)(t,f,_))},()=>{u=!0,(!i||!a||a.closed)&&t.complete()}))})}(()=>function vj(n=0,e,t=H_.P){let i=-1;return null!=e&&((0,_j.K)(e)?t=e:i=e),new Ui.y(r=>{let a=function yj(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let u=0;return t.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},a)})}(n,e))}let sT=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Yt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Ui.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(yN(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):lt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Xn(a=>!a||r.indexOf(a)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,a)=>{this._scrollableContainsElement(a,t)&&i.push(a)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=_v(i),a=t.getElementRef().nativeElement;do{if(r==a)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>B0(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(Fa),c.LFG(ne,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),H0=(()=>{class n{constructor(t,i,r,a){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=a,this._destroyed=new Yt.x,this._elementScrolled=new Ui.y(u=>this.ngZone.runOutsideAngular(()=>B0(this.elementRef.nativeElement,"scroll").pipe(is(this._destroyed)).subscribe(u)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=P0()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==P0()?t.left=t.right:1==P0()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;T1()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",r="right",a=this.elementRef.nativeElement;if("top"==t)return a.scrollTop;if("bottom"==t)return a.scrollHeight-a.clientHeight-a.scrollTop;const u=this.dir&&"rtl"==this.dir.value;return"start"==t?t=u?r:i:"end"==t&&(t=u?i:r),u&&2==P0()?t==i?a.scrollWidth-a.clientWidth-a.scrollLeft:a.scrollLeft:u&&1==P0()?t==i?a.scrollLeft+a.scrollWidth-a.clientWidth:-a.scrollLeft:t==i?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(sT),c.Y36(c.R0b),c.Y36(sR,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),uR=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Yt.x,this._changeListener=a=>{this._change.next(a)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,a=r.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-a.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(yN(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Fa),c.LFG(c.R0b),c.LFG(ne,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),j0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),vN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[N0,j0],N0,j0]}),n})();const oT=["*"],Ej=["content"];function Cj(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",2),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r._onBackdropClicked())}),c.qZA()}if(2&n){const t=c.oxw();c.ekj("mat-drawer-shown",t._isShowingBackdrop())}}function Ij(n,e){1&n&&(c.TgZ(0,"mat-drawer-content"),c.Hsn(1,2),c.qZA())}const Dj=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Tj=["mat-drawer","mat-drawer-content","*"];function Sj(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",2),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r._onBackdropClicked())}),c.qZA()}if(2&n){const t=c.oxw();c.ekj("mat-drawer-shown",t._isShowingBackdrop())}}function Aj(n,e){1&n&&(c.TgZ(0,"mat-sidenav-content"),c.Hsn(1,2),c.qZA())}const Mj=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],xj=["mat-sidenav","mat-sidenav-content","*"],bN={transformDrawer:qD("transform",[gg("open, open-instant",Na({transform:"none",visibility:"visible"})),gg("void",Na({"box-shadow":"none",visibility:"hidden"})),_g("void => open-instant",mg("0ms")),_g("void <=> open, open-instant => void",mg("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},kj=new c.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function Oj(){return!1}}),dR=new c.OlP("MAT_DRAWER_CONTAINER");let aT=(()=>{class n extends H0{constructor(t,i,r,a,u){super(r,a,u),this._changeDetectorRef=t,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO),c.Y36((0,c.Gpc)(()=>EN)),c.Y36(c.SBq),c.Y36(sT),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,i){2&t&&c.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[c._Bn([{provide:H0,useExisting:n}]),c.qOj],ngContentSelectors:oT,decls:1,vars:0,template:function(t,i){1&t&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),wN=(()=>{class n{constructor(t,i,r,a,u,f,_,w){this._elementRef=t,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=a,this._ngZone=u,this._interactivityChecker=f,this._doc=_,this._container=w,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Yt.x,this._animationEnd=new Yt.x,this._animationState="void",this.openedChange=new c.vpe(!0),this._openedStream=this.openedChange.pipe(Xn(I=>I),(0,at.U)(()=>{})),this.openedStart=this._animationStarted.pipe(Xn(I=>I.fromState!==I.toState&&0===I.toState.indexOf("open")),Vv(void 0)),this._closedStream=this.openedChange.pipe(Xn(I=>!I),(0,at.U)(()=>{})),this.closedStart=this._animationStarted.pipe(Xn(I=>I.fromState!==I.toState&&"void"===I.toState),Vv(void 0)),this._destroyed=new Yt.x,this.onPositionChanged=new c.vpe,this._modeChanged=new Yt.x,this.openedChange.subscribe(I=>{I?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{B0(this._elementRef.nativeElement,"keydown").pipe(Xn(I=>27===I.keyCode&&!this.disableClose&&!function YD(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(I)),is(this._destroyed)).subscribe(I=>this._ngZone.run(()=>{this.close(),I.stopPropagation(),I.preventDefault()}))}),this._animationEnd.pipe(j_((I,M)=>I.fromState===M.fromState&&I.toState===M.toState)).subscribe(I=>{const{fromState:M,toState:F}=I;(0===F.indexOf("open")&&"void"===M||"void"===F&&0===M.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=yo(t)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=yo(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(yo(t))}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,i){t&&i&&(this._openedVia=i);const r=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),r}_setOpen(t,i,r){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(a=>{this.openedChange.pipe(ya(1)).subscribe(u=>a(u?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(t){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(rH),c.Y36(H1),c.Y36(Fa),c.Y36(c.R0b),c.Y36(N1),c.Y36(ne,8),c.Y36(dR,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(t,i){if(1&t&&c.Gf(Ej,5),2&t){let r;c.iGM(r=c.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,i){1&t&&c.WFA("@transform.start",function(a){return i._animationStarted.next(a)})("@transform.done",function(a){return i._animationEnd.next(a)}),2&t&&(c.uIk("align",null),c.d8E("@transform",i._animationState),c.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:oT,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"div",0,1),c.Hsn(2),c.qZA())},dependencies:[H0],encapsulation:2,data:{animation:[bN.transformDrawer]},changeDetection:0}),n})(),EN=(()=>{class n{constructor(t,i,r,a,u,f=!1,_){this._dir=t,this._element=i,this._ngZone=r,this._changeDetectorRef=a,this._animationMode=_,this._drawers=new c.n_E,this.backdropClick=new c.vpe,this._destroyed=new Yt.x,this._doCheckSubject=new Yt.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Yt.x,t&&t.change.pipe(is(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),u.change().pipe(is(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=f}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=yo(t)}get hasBackdrop(){return this._backdropOverride??(!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode)}set hasBackdrop(t){this._backdropOverride=null==t?null:yo(t)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(va(this._allDrawers),is(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(va(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(function x1(n,e=H_.z){return(0,Pi.e)((t,i)=>{let r=null,a=null,u=null;const f=()=>{if(r){r.unsubscribe(),r=null;const w=a;a=null,i.next(w)}};function _(){const w=u+n,I=e.now();if(I<w)return r=this.schedule(void 0,w-I),void i.add(r);f()}t.subscribe((0,Dn.x)(i,w=>{a=w,u=e.now(),r||(r=e.schedule(_,n),i.add(r))},()=>{f(),i.complete()},void 0,()=>{a=r=null}))})}(10),is(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();t+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,t-=r}t=t||null,i=i||null,(t!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:t,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(Xn(i=>i.fromState!==i.toState),is(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(is(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){!t||t.onPositionChanged.pipe(is(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(ya(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(is((0,Tx.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";t?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(sR,8),c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(c.sBO),c.Y36(uR),c.Y36(kj),c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,aT,5),c.Suo(r,wN,5)),2&t){let a;c.iGM(a=c.CRH())&&(i._content=a.first),c.iGM(a=c.CRH())&&(i._allDrawers=a)}},viewQuery:function(t,i){if(1&t&&c.Gf(aT,5),2&t){let r;c.iGM(r=c.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[c._Bn([{provide:dR,useExisting:n}])],ngContentSelectors:Tj,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){1&t&&(c.F$t(Dj),c.YNc(0,Cj,1,2,"div",0),c.Hsn(1),c.Hsn(2,1),c.YNc(3,Ij,2,0,"mat-drawer-content",1)),2&t&&(c.Q6J("ngIf",i.hasBackdrop),c.xp6(3),c.Q6J("ngIf",!i._content))},dependencies:[aT,An],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),n})(),CN=(()=>{class n extends aT{constructor(t,i,r,a,u){super(t,i,r,a,u)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO),c.Y36((0,c.Gpc)(()=>DN)),c.Y36(c.SBq),c.Y36(sT),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(t,i){2&t&&c.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[c._Bn([{provide:H0,useExisting:n}]),c.qOj],ngContentSelectors:oT,decls:1,vars:0,template:function(t,i){1&t&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),IN=(()=>{class n extends wN{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=yo(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=R1(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=R1(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(t,i){2&t&&(c.uIk("align",null),c.Udp("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),c.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[c.qOj],ngContentSelectors:oT,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"div",0,1),c.Hsn(2),c.qZA())},dependencies:[H0],encapsulation:2,data:{animation:[bN.transformDrawer]},changeDetection:0}),n})(),DN=(()=>{class n extends EN{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,CN,5),c.Suo(r,IN,5)),2&t){let a;c.iGM(a=c.CRH())&&(i._content=a.first),c.iGM(a=c.CRH())&&(i._allDrawers=a)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[c._Bn([{provide:dR,useExisting:n}]),c.qOj],ngContentSelectors:xj,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){1&t&&(c.F$t(Mj),c.YNc(0,Sj,1,2,"div",0),c.Hsn(1),c.Hsn(2,1),c.YNc(3,Aj,2,0,"mat-sidenav-content",1)),2&t&&(c.Q6J("ngIf",i.hasBackdrop),c.xp6(3),c.Q6J("ngIf",!i._content))},dependencies:[CN,An],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),n})(),Pj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[bo,rs,j0],j0,rs]}),n})(),Nj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[rs],rs]}),n})();const SN=["*"],Lj=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],Vj=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],$j=_H(XD(class{})),zj=XD(class{}),Gj=new c.OlP("MatList"),AN=new c.OlP("MatNavList");let qj=(()=>{class n extends $j{constructor(){super(...arguments),this._stateChanges=new Yt.x}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[c._Bn([{provide:AN,useExisting:n}]),c.qOj,c.TTD],ngContentSelectors:SN,decls:1,vars:0,template:function(t,i){1&t&&(c.F$t(),c.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),n})(),MN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),xN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})(),Wj=(()=>{class n extends zj{constructor(t,i,r,a){super(),this._element=t,this._isInteractiveList=!1,this._destroyed=new Yt.x,this._disabled=!1,this._isInteractiveList=!!(r||a&&"action-list"===a._getListType()),this._list=r||a;const u=this._getHostElement();"button"===u.nodeName.toLowerCase()&&!u.hasAttribute("type")&&u.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(is(this._destroyed)).subscribe(()=>{i.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(t){this._disabled=yo(t)}ngAfterContentInit(){!function Z1(n,e,t="mat"){n.changes.pipe(va(n)).subscribe(({length:i})=>{F0(e,`${t}-2-line`,!1),F0(e,`${t}-3-line`,!1),F0(e,`${t}-multi-line`,!1),2===i||3===i?F0(e,`${t}-${i}-line`,!0):i>3&&F0(e,`${t}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(AN,8),c.Y36(Gj,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,MN,5),c.Suo(r,xN,5),c.Suo(r,W1,5)),2&t){let a;c.iGM(a=c.CRH())&&(i._avatar=a.first),c.iGM(a=c.CRH())&&(i._icon=a.first),c.iGM(a=c.CRH())&&(i._lines=a)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(t,i){2&t&&c.ekj("mat-list-item-disabled",i.disabled)("mat-list-item-avatar",i._avatar||i._icon)("mat-list-item-with-avatar",i._avatar||i._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[c.qOj],ngContentSelectors:Vj,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(t,i){1&t&&(c.F$t(Lj),c.TgZ(0,"span",0),c._UZ(1,"span",1),c.Hsn(2),c.TgZ(3,"span",2),c.Hsn(4,1),c.qZA(),c.Hsn(5,2),c.qZA()),2&t&&(c.xp6(1),c.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i._isRippleDisabled()))},dependencies:[J1],encapsulation:2,changeDetection:0}),n})(),Jj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[K1,eN,rs,tN,bo],K1,rs,tN,Nj]}),n})();const e$=["drawer"];function t$(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",10)(1,"div",11)(2,"p"),c._uU(3,"App created by Edwin"),c.qZA(),c.TgZ(4,"p"),c._uU(5,"\xa9 Todos los derechos reservados | 2023 "),c.qZA(),c.TgZ(6,"button",12),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.cerrar())}),c._uU(7,"cerrar"),c.qZA()()()}}let n$=(()=>{class n{constructor(){this.modal=!1}ngOnInit(){}abrir(){this.modal=!0}cerrar(){this.modal=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-navbar"]],viewQuery:function(t,i){if(1&t&&c.Gf(e$,5),2&t){let r;c.iGM(r=c.CRH())&&(i.drawer=r.first)}},decls:20,vars:1,consts:[["color","warn"],["mat-icon-button","",3,"click"],["routerLink","/",2,"padding-left","8px","cursor","pointer"],["mode","over"],["drawer",""],["mat-list-item","","routerLink","/"],["mat-list-item","","routerLink","/info-product"],["mat-list-item","","routerLink","/reportes"],["mat-list-item","",3,"click"],["class","modal",4,"ngIf"],[1,"modal"],[1,"contenido-modal"],[3,"click"]],template:function(t,i){if(1&t){const r=c.EpF();c.TgZ(0,"mat-toolbar",0)(1,"button",1),c.NdJ("click",function(){c.CHM(r);const u=c.MAs(8);return c.KtG(u.toggle())}),c.TgZ(2,"mat-icon"),c._uU(3,"menu"),c.qZA()(),c.TgZ(4,"span",2),c._uU(5,"LicorApp"),c.qZA()(),c.TgZ(6,"mat-sidenav-container")(7,"mat-sidenav",3,4)(9,"mat-nav-list")(10,"a",5),c._uU(11,"Home"),c.qZA(),c.TgZ(12,"a",6),c._uU(13,"Productos Info"),c.qZA(),c.TgZ(14,"a",7),c._uU(15,"Reportes"),c.qZA(),c.TgZ(16,"a",8),c.NdJ("click",function(){return i.abrir()}),c._uU(17,"Acerca de"),c.qZA()()(),c.YNc(18,t$,8,0,"div",9),c._UZ(19,"router-outlet"),c.qZA()}2&t&&(c.xp6(18),c.Q6J("ngIf",i.modal))},dependencies:[An,w_,qh,B_,xH,QH,IN,DN,qj,Wj],styles:['.navbar[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 2px 4px #0000001a;padding:1rem}.navbar-brand[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.navbar-toggler[_ngcontent-%COMP%]{border:none;padding:.25rem .5rem}.navbar-toggler-icon[_ngcontent-%COMP%]{display:inline-block;width:1.5rem;height:1.5rem;background-repeat:no-repeat;background-position:center;background-size:cover;background-image:url(\'data:image/svg+xml;charset=UTF-8,%3Csvg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"%3E%3Cpath stroke="%23333" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M1 1h14M1 8h14M1 15h14"/%3E%3C/svg%3E\')}.navbar-nav[_ngcontent-%COMP%]{flex-direction:column;padding-top:1rem}.nav-item[_ngcontent-%COMP%]{margin-bottom:.5rem}@media (min-width: 768px){.navbar-nav[_ngcontent-%COMP%]{flex-direction:row}.nav-item[_ngcontent-%COMP%]{margin:0 .5rem}}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0003;display:flex;justify-content:center;align-items:center;z-index:100}.contenido-modal[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0003;display:flex;flex-direction:column;align-items:center}']}),n})(),i$=(()=>{class n{constructor(){this.title="licorApp"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,i){1&t&&c._UZ(0,"app-navbar")(1,"router-outlet")},dependencies:[w_,n$]}),n})();function kN(n){return new c.vHH(3e3,!1)}function V$(){return typeof window<"u"&&typeof window.document<"u"}function hR(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Nf(n){switch(n.length){case 0:return new R0;case 1:return n[0];default:return new b1(n)}}function ON(n,e,t,i,r=new Map,a=new Map){const u=[],f=[];let _=-1,w=null;if(i.forEach(I=>{const M=I.get("offset"),F=M==_,B=F&&w||new Map;I.forEach((W,ie)=>{let ve=ie,$e=W;if("offset"!==ie)switch(ve=e.normalizePropertyName(ve,u),$e){case"!":$e=r.get(ie);break;case Id:$e=a.get(ie);break;default:$e=e.normalizeStyleValue(ie,ve,$e,u)}B.set(ve,$e)}),F||f.push(B),w=B,_=M}),u.length)throw function T$(n){return new c.vHH(3502,!1)}();return f}function fR(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&pR(t,"start",n)));break;case"done":n.onDone(()=>i(t&&pR(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&pR(t,"destroy",n)))}}function pR(n,e,t){const a=mR(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),u=n._data;return null!=u&&(a._data=u),a}function mR(n,e,t,i,r="",a=0,u){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:a,disabled:!!u}}function Go(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function PN(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let gR=(n,e)=>!1,NN=(n,e,t)=>[],FN=null;function _R(n){const e=n.parentNode||n.host;return e===FN?null:e}(hR()||typeof Element<"u")&&(V$()?(FN=(()=>document.documentElement)(),gR=(n,e)=>{for(;e;){if(e===n)return!0;e=_R(e)}return!1}):gR=(n,e)=>n.contains(e),NN=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let wg=null,LN=!1;const VN=gR,BN=NN;let UN=(()=>{class n{validateStyleProperty(t){return function U$(n){wg||(wg=function H$(){return typeof document<"u"?document.body:null}()||{},LN=!!wg.style&&"WebkitAppearance"in wg.style);let e=!0;return wg.style&&!function B$(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in wg.style,!e&&LN&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in wg.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return VN(t,i)}getParentElement(t){return _R(t)}query(t,i,r){return BN(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,a,u,f=[],_){return new R0(r,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),yR=(()=>{class n{}return n.NOOP=new UN,n})();const vR="ng-enter",lT="ng-leave",cT="ng-trigger",uT=".ng-trigger",jN="ng-animating",bR=".ng-animating";function Dd(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:wR(parseFloat(e[1]),e[2])}function wR(n,e){return"s"===e?1e3*n:n}function dT(n,e,t){return n.hasOwnProperty("duration")?n:function z$(n,e,t){let r,a=0,u="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(kN()),{duration:0,delay:0,easing:""};r=wR(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(a=wR(parseFloat(_),f[4]));const w=f[5];w&&(u=w)}else r=n;if(!t){let f=!1,_=e.length;r<0&&(e.push(function r$(){return new c.vHH(3100,!1)}()),f=!0),a<0&&(e.push(function s$(){return new c.vHH(3101,!1)}()),f=!0),f&&e.splice(_,0,kN())}return{duration:r,delay:a,easing:u}}(n,e,t)}function $0(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function $N(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Ff(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function GN(n,e,t){return t?e+":"+t+";":""}function qN(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=GN(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=GN(0,Z$(t),n.style[t]));n.setAttribute("style",e)}function Kc(n,e,t){n.style&&(e.forEach((i,r)=>{const a=CR(r);t&&!t.has(r)&&t.set(r,n.style[a]),n.style[a]=i}),hR()&&qN(n))}function Eg(n,e){n.style&&(e.forEach((t,i)=>{const r=CR(i);n.style[r]=""}),hR()&&qN(n))}function z0(n){return Array.isArray(n)?1==n.length?n[0]:y1(n):n}const ER=new RegExp("{{\\s*(.+?)\\s*}}","g");function WN(n){let e=[];if("string"==typeof n){let t;for(;t=ER.exec(n);)e.push(t[1]);ER.lastIndex=0}return e}function G0(n,e,t){const i=n.toString(),r=i.replace(ER,(a,u)=>{let f=e[u];return null==f&&(t.push(function a$(n){return new c.vHH(3003,!1)}()),f=""),f.toString()});return r==i?n:r}function hT(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const W$=/-+([a-z0-9])/g;function CR(n){return n.replace(W$,(...e)=>e[1].toUpperCase())}function Z$(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function qo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function l$(n){return new c.vHH(3004,!1)}()}}function ZN(n,e){return window.getComputedStyle(n)[e]}function e3(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function t3(n,e,t){if(":"==n[0]){const _=function n3(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function E$(n){return new c.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function w$(n){return new c.vHH(3015,!1)}()),e;const r=i[1],a=i[2],u=i[3];e.push(KN(r,u));"<"==a[0]&&!("*"==r&&"*"==u)&&e.push(KN(u,r))}(i,t,e)):t.push(n),t}const gT=new Set(["true","1"]),_T=new Set(["false","0"]);function KN(n,e){const t=gT.has(n)||_T.has(n),i=gT.has(e)||_T.has(e);return(r,a)=>{let u="*"==n||n==r,f="*"==e||e==a;return!u&&t&&"boolean"==typeof r&&(u=r?gT.has(n):_T.has(n)),!f&&i&&"boolean"==typeof a&&(f=a?gT.has(e):_T.has(e)),u&&f}}const r3=new RegExp("s*:selfs*,?","g");function IR(n,e,t,i){return new s3(n).build(e,t,i)}class s3{constructor(e){this._driver=e}build(e,t,i){const r=new l3(t);return this._resetContextStyleTimingState(r),qo(this,z0(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const a=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function u$(){return new c.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,w=_.name;w.toString().split(/\s*,\s*/).forEach(I=>{_.name=I,a.push(this.visitState(_,t))}),_.name=w}else if(1==f.type){const _=this.visitTransition(f,t);i+=_.queryCount,r+=_.depCount,u.push(_)}else t.errors.push(function d$(){return new c.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:u,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const a=new Set,u=r||{};i.styles.forEach(f=>{f instanceof Map&&f.forEach(_=>{WN(_).forEach(w=>{u.hasOwnProperty(w)||a.add(w)})})}),a.size&&(hT(a.values()),t.errors.push(function h$(n,e){return new c.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=qo(this,z0(e.animation),t);return{type:1,matchers:e3(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Cg(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>qo(this,i,t)),options:Cg(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const a=e.steps.map(u=>{t.currentTime=i;const f=qo(this,u,t);return r=Math.max(r,t.currentTime),f});return t.currentTime=r,{type:3,steps:a,options:Cg(e.options)}}visitAnimate(e,t){const i=function u3(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return DR(dT(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=DR(0,0,"");return a.dynamic=!0,a.strValue=t,a}const r=dT(t,e);return DR(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,a=e.styles?e.styles:Na({});if(5==a.type)r=this.visitKeyframes(a,t);else{let u=e.styles,f=!1;if(!u){f=!0;const w={};i.easing&&(w.easing=i.easing),u=Na(w)}t.currentTime+=i.duration+i.delay;const _=this.visitStyle(u,t);_.isEmptyStep=f,r=_}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of r)"string"==typeof f?f===Id?i.push(f):t.errors.push(new c.vHH(3002,!1)):i.push($N(f));let a=!1,u=null;return i.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(u=f.get("easing"),f.delete("easing")),!a))for(let _ of f.values())if(_.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:i,easing:u,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,a=t.currentTime;i&&a>0&&(a-=i.duration+i.delay),e.styles.forEach(u=>{"string"!=typeof u&&u.forEach((f,_)=>{const w=t.collectedStyles.get(t.currentQuerySelector),I=w.get(_);let M=!0;I&&(a!=r&&a>=I.startTime&&r<=I.endTime&&(t.errors.push(function p$(n,e,t,i,r){return new c.vHH(3010,!1)}()),M=!1),a=I.startTime),M&&w.set(_,{startTime:a,endTime:r}),t.options&&function q$(n,e,t){const i=e.params||{},r=WN(n);r.length&&r.forEach(a=>{i.hasOwnProperty(a)||t.push(function o$(n){return new c.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function m$(){return new c.vHH(3011,!1)}()),i;let a=0;const u=[];let f=!1,_=!1,w=0;const I=e.steps.map($e=>{const rt=this._makeStyleAst($e,t);let Je=null!=rt.offset?rt.offset:function c3(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(rt.styles),Ct=0;return null!=Je&&(a++,Ct=rt.offset=Je),_=_||Ct<0||Ct>1,f=f||Ct<w,w=Ct,u.push(Ct),rt});_&&t.errors.push(function g$(){return new c.vHH(3012,!1)}()),f&&t.errors.push(function _$(){return new c.vHH(3200,!1)}());const M=e.steps.length;let F=0;a>0&&a<M?t.errors.push(function y$(){return new c.vHH(3202,!1)}()):0==a&&(F=1/(M-1));const B=M-1,W=t.currentTime,ie=t.currentAnimateTimings,ve=ie.duration;return I.forEach(($e,rt)=>{const Je=F>0?rt==B?1:F*rt:u[rt],Ct=Je*ve;t.currentTime=W+ie.delay+Ct,ie.duration=Ct,this._validateStyleAst($e,t),$e.offset=Je,i.styles.push($e)}),i}visitReference(e,t){return{type:8,animation:qo(this,z0(e.animation),t),options:Cg(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Cg(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Cg(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[a,u]=function o3(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(r3,"")),n=n.replace(/@\*/g,uT).replace(/@\w+/g,t=>uT+"-"+t.slice(1)).replace(/:animating/g,bR),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+a:a,Go(t.collectedStyles,t.currentQuerySelector,new Map);const f=qo(this,z0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:f,originalSelector:e.selector,options:Cg(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function v$(){return new c.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:dT(e.timings,t.errors,!0);return{type:12,animation:qo(this,z0(e.animation),t),timings:i,options:null}}}class l3{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Cg(n){return n?(n=$0(n)).params&&(n.params=function a3(n){return n?$0(n):null}(n.params)):n={},n}function DR(n,e,t){return{duration:n,delay:e,easing:t}}function TR(n,e,t,i,r,a,u=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:u,subTimeline:f}}class yT{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const f3=new RegExp(":enter","g"),m3=new RegExp(":leave","g");function SR(n,e,t,i,r,a=new Map,u=new Map,f,_,w=[]){return(new g3).buildKeyframes(n,e,t,i,r,a,u,f,_,w)}class g3{buildKeyframes(e,t,i,r,a,u,f,_,w,I=[]){w=w||new yT;const M=new AR(e,t,w,r,a,I,[]);M.options=_;const F=_.delay?Dd(_.delay):0;M.currentTimeline.delayNextStep(F),M.currentTimeline.setStyles([u],null,M.errors,_),qo(this,i,M);const B=M.timelines.filter(W=>W.containsAnimation());if(B.length&&f.size){let W;for(let ie=B.length-1;ie>=0;ie--){const ve=B[ie];if(ve.element===t){W=ve;break}}W&&!W.allowOnlyTimelineStyles()&&W.setStyles([f],null,M.errors,_)}return B.length?B.map(W=>W.buildKeyframes()):[TR(t,[],[],[],0,F,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),a=t.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);a!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const a=r?.delay;if(a){const u="number"==typeof a?a:Dd(G0(a,r?.params??{},t.errors));i.delayNextStep(u)}}}_visitSubInstructions(e,t,i){let a=t.currentTimeline.currentTime;const u=null!=i.duration?Dd(i.duration):null,f=null!=i.delay?Dd(i.delay):null;return 0!==u&&e.forEach(_=>{const w=t.appendInstructionToTimeline(_,u,f);a=Math.max(a,w.duration+w.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),qo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const a=e.options;if(a&&(a.params||a.delay)&&(r=t.createSubContext(a),r.transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=vT);const u=Dd(a.delay);r.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>qo(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?Dd(e.options.delay):0;e.steps.forEach(u=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),qo(this,u,f),r=Math.max(r,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return dT(t.params?G0(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(i.duration),this.visitStyle(a,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const a=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(a):i.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,a=i.duration,f=t.createSubContext().currentTimeline;f.easing=i.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*a),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(r+a),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},a=r.delay?Dd(r.delay):0;a&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=vT);let u=i;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((w,I)=>{t.currentQueryIndex=I;const M=t.createSubContext(e.options,w);a&&M.delayNextStep(a),w===t.element&&(_=M.currentTimeline),qo(this,e.animation,M),M.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,M.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,a=e.timings,u=Math.abs(a.duration),f=u*(t.currentQueryTotal-1);let _=u*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=f-_;break;case"full":_=i.currentStaggerTime}const I=t.currentTimeline;_&&I.delayNextStep(_);const M=I.currentTime;qo(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-M+(r.startTime-i.currentTimeline.startTime)}}const vT={};class AR{constructor(e,t,i,r,a,u,f,_){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=a,this.errors=u,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=vT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new bT(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Dd(i.duration)),null!=i.delay&&(r.delay=Dd(i.delay));const a=i.params;if(a){let u=r.params;u||(u=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!u.hasOwnProperty(f))&&(u[f]=G0(a[f],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,a=new AR(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=vT,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},a=new _3(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(a),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,a,u){let f=[];if(r&&f.push(this.element),e.length>0){e=(e=e.replace(f3,"."+this._enterClassName)).replace(m3,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=i);0!==i&&(w=i<0?w.slice(w.length+i,w.length):w.slice(0,i)),f.push(...w)}return!a&&0==f.length&&u.push(function b$(n){return new c.vHH(3014,!1)}()),f}}class bT{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new bT(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Id),this._currentKeyframe.set(t,Id);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const a=r&&r.params||{},u=function y3(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let a of i)t.set(a,Id)}else Ff(r,t)}),t}(e,this._globalTimelineStyles);for(let[f,_]of u){const w=G0(_,a,i);this._pendingStyles.set(f,w),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??Id),this._updateStyle(f,w)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((f,_)=>{const w=Ff(f,new Map,this._backFill);w.forEach((I,M)=>{"!"===I?e.add(M):I===Id&&t.add(M)}),i||w.set("offset",_/this.duration),r.push(w)});const a=e.size?hT(e.values()):[],u=t.size?hT(t.values()):[];if(i){const f=r[0],_=new Map(f);f.set("offset",0),_.set("offset",1),r=[f,_]}return TR(this.element,r,a,u,this.duration,this.startTime,this.easing,!1)}}class _3 extends bT{constructor(e,t,i,r,a,u,f=!1){super(e,t,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],u=i+t,f=t/u,_=Ff(e[0]);_.set("offset",0),a.push(_);const w=Ff(e[0]);w.set("offset",XN(f)),a.push(w);const I=e.length-1;for(let M=1;M<=I;M++){let F=Ff(e[M]);const B=F.get("offset");F.set("offset",XN((t+B*i)/u)),a.push(F)}i=u,t=0,r="",e=a}return TR(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function XN(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class MR{}const v3=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class b3 extends MR{normalizePropertyName(e,t){return CR(e)}normalizeStyleValue(e,t,i,r){let a="";const u=i.toString().trim();if(v3.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&r.push(function c$(n,e){return new c.vHH(3005,!1)}())}return u+a}}function JN(n,e,t,i,r,a,u,f,_,w,I,M,F){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:a,toState:i,toStyles:u,timelines:f,queriedElements:_,preStyleProps:w,postStyleProps:I,totalTime:M,errors:F}}const xR={};class eF{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function w3(n,e,t,i,r){return n.some(a=>a(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,a,u,f,_,w,I){const M=[],F=this.ast.options&&this.ast.options.params||xR,W=this.buildStyles(i,f&&f.params||xR,M),ie=_&&_.params||xR,ve=this.buildStyles(r,ie,M),$e=new Set,rt=new Map,Je=new Map,Ct="void"===r,jt={params:E3(ie,F),delay:this.ast.options?.delay},Gt=I?[]:SR(e,t,this.ast.animation,a,u,W,ve,jt,w,M);let Tn=0;if(Gt.forEach(Td=>{Tn=Math.max(Td.duration+Td.delay,Tn)}),M.length)return JN(t,this._triggerName,i,r,Ct,W,ve,[],[],rt,Je,Tn,M);Gt.forEach(Td=>{const Sd=Td.element,DF=Go(rt,Sd,new Set);Td.preStyleProps.forEach(Dg=>DF.add(Dg));const W0=Go(Je,Sd,new Set);Td.postStyleProps.forEach(Dg=>W0.add(Dg)),Sd!==t&&$e.add(Sd)});const Vr=hT($e.values());return JN(t,this._triggerName,i,r,Ct,W,ve,Gt,Vr,rt,Je,Tn)}}function E3(n,e){const t=$0(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class C3{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=$0(this.defaultParams);return Object.keys(e).forEach(a=>{const u=e[a];null!==u&&(r[a]=u)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((u,f)=>{u&&(u=G0(u,r,t));const _=this.normalizer.normalizePropertyName(f,t);u=this.normalizer.normalizeStyleValue(f,_,u,t),i.set(_,u)})}),i}}class D3{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new C3(r.style,r.options&&r.options.params||{},i))}),tF(this.states,"true","1"),tF(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new eF(e,r,this.states))}),this.fallbackTransition=function T3(n,e,t){return new eF(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(u=>u.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function tF(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const S3=new yT;class A3{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],a=IR(this._driver,t,i,[]);if(i.length)throw function S$(n){return new c.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,i){const r=e.element,a=ON(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],a=this._animations.get(e);let u;const f=new Map;if(a?(u=SR(this._driver,t,a,vR,lT,new Map,new Map,i,S3,r),u.forEach(I=>{const M=Go(f,I.element,new Map);I.postStyleProps.forEach(F=>M.set(F,null))})):(r.push(function A$(){return new c.vHH(3300,!1)}()),u=[]),r.length)throw function M$(n){return new c.vHH(3504,!1)}();f.forEach((I,M)=>{I.forEach((F,B)=>{I.set(B,this._driver.computeStyle(M,B,Id))})});const w=Nf(u.map(I=>{const M=f.get(I.element);return this._buildPlayer(I,new Map,M)}));return this._playersById.set(e,w),w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function x$(n){return new c.vHH(3301,!1)}();return t}listen(e,t,i,r){const a=mR(t,"","","");return fR(this._getPlayer(e),i,a,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const a=this._getPlayer(e);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const nF="ng-animate-queued",RR="ng-animate-disabled",O3=[],iF={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},P3={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},La="__ng_removed";class kR{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function V3(n){return n??null}(i?e.value:e),i){const a=$0(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const q0="void",OR=new kR(q0);class N3{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Va(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function R$(n,e){return new c.vHH(3302,!1)}();if(null==i||0==i.length)throw function k$(n){return new c.vHH(3303,!1)}();if(!function B3(n){return"start"==n||"done"==n}(i))throw function O$(n,e){return new c.vHH(3400,!1)}();const a=Go(this._elementListeners,e,[]),u={name:t,phase:i,callback:r};a.push(u);const f=Go(this._engine.statesByElement,e,new Map);return f.has(t)||(Va(e,cT),Va(e,cT+"-"+t),f.set(t,OR)),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(u);_>=0&&a.splice(_,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function P$(n){return new c.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const a=this._getTrigger(t),u=new PR(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Va(e,cT),Va(e,cT+"-"+t),this._engine.statesByElement.set(e,f=new Map));let _=f.get(t);const w=new kR(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&w.absorbOptions(_.options),f.set(t,w),_||(_=OR),w.value!==q0&&_.value===w.value){if(!function j3(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const a=t[r];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,w.params)){const ie=[],ve=a.matchStyles(_.value,_.params,ie),$e=a.matchStyles(w.value,w.params,ie);ie.length?this._engine.reportError(ie):this._engine.afterFlush(()=>{Eg(e,ve),Kc(e,$e)})}return}const F=Go(this._engine.playersByElement,e,[]);F.forEach(ie=>{ie.namespaceId==this.id&&ie.triggerName==t&&ie.queued&&ie.destroy()});let B=a.matchTransition(_.value,w.value,e,w.params),W=!1;if(!B){if(!r)return;B=a.fallbackTransition,W=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:B,fromState:_,toState:w,player:u,isFallbackTransition:W}),W||(Va(e,nF),u.onStart(()=>{vv(e,nF)})),u.onDone(()=>{let ie=this.players.indexOf(u);ie>=0&&this.players.splice(ie,1);const ve=this._engine.playersByElement.get(e);if(ve){let $e=ve.indexOf(u);$e>=0&&ve.splice($e,1)}}),this.players.push(u),F.push(u),u}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,uT,!0);i.forEach(r=>{if(r[La])return;const a=this._engine.fetchNamespacesByElement(r);a.size?a.forEach(u=>u.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const a=this._engine.statesByElement.get(e),u=new Map;if(a){const f=[];if(a.forEach((_,w)=>{if(u.set(w,_.value),this._triggers.has(w)){const I=this.trigger(e,w,q0,r);I&&f.push(I)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),i&&Nf(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(a=>{const u=a.name;if(r.has(u))return;r.add(u);const _=this._triggers.get(u).fallbackTransition,w=i.get(u)||OR,I=new kR(q0),M=new PR(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:_,fromState:w,toState:I,player:M,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(e):[];if(a&&a.length)r=!0;else{let u=e;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const a=e[La];(!a||a===iF)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Va(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const a=i.element,u=this._elementListeners.get(a);u&&u.forEach(f=>{if(f.name==i.triggerName){const _=mR(a,i.triggerName,i.fromState.value,i.toState.value);_._data=e,fR(i.player,f.phase,_,f.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const a=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==a||0==u?a-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class F3{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new N3(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,f=this.driver.getParentElement(t);for(;f;){const _=r.get(f);if(_){const w=i.indexOf(_);i.splice(w+1,0,e),u=!0;break}f=this.driver.getParentElement(f)}u||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const a=this._fetchNamespace(r.namespaceId);a&&t.add(a)}return t}trigger(e,t,i,r){if(wT(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!wT(t))return;const a=t[La];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Va(e,RR)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),vv(e,RR))}removeNode(e,t,i,r){if(wT(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,a){this.collectedLeaveElements.push(t),t[La]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,i,r,a){return wT(t)?this._fetchNamespace(e).listen(t,i,r,a):()=>{}}_buildInstruction(e,t,i,r,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,uT,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,bR,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Nf(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[La];if(t&&t.setForRemoval){if(e[La]=iF,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(RR)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Va(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Nf(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function N$(n){return new c.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new yT,r=[],a=new Map,u=[],f=new Map,_=new Map,w=new Map,I=new Set;this.disabledNodes.forEach(bt=>{I.add(bt);const Pt=this.driver.query(bt,".ng-animate-queued",!0);for(let Bt=0;Bt<Pt.length;Bt++)I.add(Pt[Bt])});const M=this.bodyNode,F=Array.from(this.statesByElement.keys()),B=oF(F,this.collectedEnterElements),W=new Map;let ie=0;B.forEach((bt,Pt)=>{const Bt=vR+ie++;W.set(Pt,Bt),bt.forEach(Cn=>Va(Cn,Bt))});const ve=[],$e=new Set,rt=new Set;for(let bt=0;bt<this.collectedLeaveElements.length;bt++){const Pt=this.collectedLeaveElements[bt],Bt=Pt[La];Bt&&Bt.setForRemoval&&(ve.push(Pt),$e.add(Pt),Bt.hasAnimation?this.driver.query(Pt,".ng-star-inserted",!0).forEach(Cn=>$e.add(Cn)):rt.add(Pt))}const Je=new Map,Ct=oF(F,Array.from($e));Ct.forEach((bt,Pt)=>{const Bt=lT+ie++;Je.set(Pt,Bt),bt.forEach(Cn=>Va(Cn,Bt))}),e.push(()=>{B.forEach((bt,Pt)=>{const Bt=W.get(Pt);bt.forEach(Cn=>vv(Cn,Bt))}),Ct.forEach((bt,Pt)=>{const Bt=Je.get(Pt);bt.forEach(Cn=>vv(Cn,Bt))}),ve.forEach(bt=>{this.processLeaveNode(bt)})});const jt=[],Gt=[];for(let bt=this._namespaceList.length-1;bt>=0;bt--)this._namespaceList[bt].drainQueuedTransitions(t).forEach(Bt=>{const Cn=Bt.player,Br=Bt.element;if(jt.push(Cn),this.collectedEnterElements.length){const Ds=Br[La];if(Ds&&Ds.setForMove){if(Ds.previousTriggersValues&&Ds.previousTriggersValues.has(Bt.triggerName)){const Tg=Ds.previousTriggersValues.get(Bt.triggerName),Ba=this.statesByElement.get(Bt.element);if(Ba&&Ba.has(Bt.triggerName)){const IT=Ba.get(Bt.triggerName);IT.value=Tg,Ba.set(Bt.triggerName,IT)}}return void Cn.destroy()}}const Yc=!M||!this.driver.containsElement(M,Br),Wo=Je.get(Br),Lf=W.get(Br),Ii=this._buildInstruction(Bt,i,Lf,Wo,Yc);if(Ii.errors&&Ii.errors.length)return void Gt.push(Ii);if(Yc)return Cn.onStart(()=>Eg(Br,Ii.fromStyles)),Cn.onDestroy(()=>Kc(Br,Ii.toStyles)),void r.push(Cn);if(Bt.isFallbackTransition)return Cn.onStart(()=>Eg(Br,Ii.fromStyles)),Cn.onDestroy(()=>Kc(Br,Ii.toStyles)),void r.push(Cn);const AF=[];Ii.timelines.forEach(Ds=>{Ds.stretchStartingKeyframe=!0,this.disabledNodes.has(Ds.element)||AF.push(Ds)}),Ii.timelines=AF,i.append(Br,Ii.timelines),u.push({instruction:Ii,player:Cn,element:Br}),Ii.queriedElements.forEach(Ds=>Go(f,Ds,[]).push(Cn)),Ii.preStyleProps.forEach((Ds,Tg)=>{if(Ds.size){let Ba=_.get(Tg);Ba||_.set(Tg,Ba=new Set),Ds.forEach((IT,UR)=>Ba.add(UR))}}),Ii.postStyleProps.forEach((Ds,Tg)=>{let Ba=w.get(Tg);Ba||w.set(Tg,Ba=new Set),Ds.forEach((IT,UR)=>Ba.add(UR))})});if(Gt.length){const bt=[];Gt.forEach(Pt=>{bt.push(function F$(n,e){return new c.vHH(3505,!1)}())}),jt.forEach(Pt=>Pt.destroy()),this.reportError(bt)}const Tn=new Map,Vr=new Map;u.forEach(bt=>{const Pt=bt.element;i.has(Pt)&&(Vr.set(Pt,Pt),this._beforeAnimationBuild(bt.player.namespaceId,bt.instruction,Tn))}),r.forEach(bt=>{const Pt=bt.element;this._getPreviousPlayers(Pt,!1,bt.namespaceId,bt.triggerName,null).forEach(Cn=>{Go(Tn,Pt,[]).push(Cn),Cn.destroy()})});const Td=ve.filter(bt=>lF(bt,_,w)),Sd=new Map;sF(Sd,this.driver,rt,w,Id).forEach(bt=>{lF(bt,_,w)&&Td.push(bt)});const W0=new Map;B.forEach((bt,Pt)=>{sF(W0,this.driver,new Set(bt),_,"!")}),Td.forEach(bt=>{const Pt=Sd.get(bt),Bt=W0.get(bt);Sd.set(bt,new Map([...Array.from(Pt?.entries()??[]),...Array.from(Bt?.entries()??[])]))});const Dg=[],TF=[],SF={};u.forEach(bt=>{const{element:Pt,player:Bt,instruction:Cn}=bt;if(i.has(Pt)){if(I.has(Pt))return Bt.onDestroy(()=>Kc(Pt,Cn.toStyles)),Bt.disabled=!0,Bt.overrideTotalTime(Cn.totalTime),void r.push(Bt);let Br=SF;if(Vr.size>1){let Wo=Pt;const Lf=[];for(;Wo=Wo.parentNode;){const Ii=Vr.get(Wo);if(Ii){Br=Ii;break}Lf.push(Wo)}Lf.forEach(Ii=>Vr.set(Ii,Br))}const Yc=this._buildAnimation(Bt.namespaceId,Cn,Tn,a,W0,Sd);if(Bt.setRealPlayer(Yc),Br===SF)Dg.push(Bt);else{const Wo=this.playersByElement.get(Br);Wo&&Wo.length&&(Bt.parentPlayer=Nf(Wo)),r.push(Bt)}}else Eg(Pt,Cn.fromStyles),Bt.onDestroy(()=>Kc(Pt,Cn.toStyles)),TF.push(Bt),I.has(Pt)&&r.push(Bt)}),TF.forEach(bt=>{const Pt=a.get(bt.element);if(Pt&&Pt.length){const Bt=Nf(Pt);bt.setRealPlayer(Bt)}}),r.forEach(bt=>{bt.parentPlayer?bt.syncPlayerEvents(bt.parentPlayer):bt.destroy()});for(let bt=0;bt<ve.length;bt++){const Pt=ve[bt],Bt=Pt[La];if(vv(Pt,lT),Bt&&Bt.hasAnimation)continue;let Cn=[];if(f.size){let Yc=f.get(Pt);Yc&&Yc.length&&Cn.push(...Yc);let Wo=this.driver.query(Pt,bR,!0);for(let Lf=0;Lf<Wo.length;Lf++){let Ii=f.get(Wo[Lf]);Ii&&Ii.length&&Cn.push(...Ii)}}const Br=Cn.filter(Yc=>!Yc.destroyed);Br.length?U3(this,Pt,Br):this.processLeaveNode(Pt)}return ve.length=0,Dg.forEach(bt=>{this.players.push(bt),bt.onDone(()=>{bt.destroy();const Pt=this.players.indexOf(bt);this.players.splice(Pt,1)}),bt.play()}),Dg}elementContainsData(e,t){let i=!1;const r=t[La];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,a){let u=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(u=f)}else{const f=this.playersByElement.get(e);if(f){const _=!a||a==q0;f.forEach(w=>{w.queued||!_&&w.triggerName!=r||u.push(w)})}}return(i||r)&&(u=u.filter(f=>!(i&&i!=f.namespaceId||r&&r!=f.triggerName))),u}_beforeAnimationBuild(e,t,i){const a=t.element,u=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const w=_.element,I=w!==a,M=Go(i,w,[]);this._getPreviousPlayers(w,I,u,f,t.toState).forEach(B=>{const W=B.getRealPlayer();W.beforeDestroy&&W.beforeDestroy(),B.destroy(),M.push(B)})}Eg(a,t.fromStyles)}_buildAnimation(e,t,i,r,a,u){const f=t.triggerName,_=t.element,w=[],I=new Set,M=new Set,F=t.timelines.map(W=>{const ie=W.element;I.add(ie);const ve=ie[La];if(ve&&ve.removedBeforeQueried)return new R0(W.duration,W.delay);const $e=ie!==_,rt=function H3(n){const e=[];return aF(n,e),e}((i.get(ie)||O3).map(Tn=>Tn.getRealPlayer())).filter(Tn=>!!Tn.element&&Tn.element===ie),Je=a.get(ie),Ct=u.get(ie),jt=ON(0,this._normalizer,0,W.keyframes,Je,Ct),Gt=this._buildPlayer(W,jt,rt);if(W.subTimeline&&r&&M.add(ie),$e){const Tn=new PR(e,f,ie);Tn.setRealPlayer(Gt),w.push(Tn)}return Gt});w.forEach(W=>{Go(this.playersByQueriedElement,W.element,[]).push(W),W.onDone(()=>function L3(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,W.element,W))}),I.forEach(W=>Va(W,jN));const B=Nf(F);return B.onDestroy(()=>{I.forEach(W=>vv(W,jN)),Kc(_,t.toStyles)}),M.forEach(W=>{Go(r,W,[]).push(B)}),B}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new R0(e.duration,e.delay)}}class PR{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new R0,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>fR(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Go(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function wT(n){return n&&1===n.nodeType}function rF(n,e){const t=n.style.display;return n.style.display=e??"none",t}function sF(n,e,t,i,r){const a=[];t.forEach(_=>a.push(rF(_)));const u=[];i.forEach((_,w)=>{const I=new Map;_.forEach(M=>{const F=e.computeStyle(w,M,r);I.set(M,F),(!F||0==F.length)&&(w[La]=P3,u.push(w))}),n.set(w,I)});let f=0;return t.forEach(_=>rF(_,a[f++])),u}function oF(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const r=new Set(e),a=new Map;function u(f){if(!f)return 1;let _=a.get(f);if(_)return _;const w=f.parentNode;return _=t.has(w)?w:r.has(w)?1:u(w),a.set(f,_),_}return e.forEach(f=>{const _=u(f);1!==_&&t.get(_).push(f)}),t}function Va(n,e){n.classList?.add(e)}function vv(n,e){n.classList?.remove(e)}function U3(n,e,t){Nf(t).onDone(()=>n.processLeaveNode(e))}function aF(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof b1?aF(i.players,e):e.push(i)}}function lF(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(a=>r.add(a)):e.set(n,i),t.delete(n),!0}class ET{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,a)=>{},this._transitionEngine=new F3(e,t,i),this._timelineEngine=new A3(e,t,i),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(e,t,i,r,a){const u=e+"-"+r;let f=this._triggerCache[u];if(!f){const _=[],I=IR(this._driver,a,_,[]);if(_.length)throw function D$(n,e){return new c.vHH(3404,!1)}();f=function I3(n,e,t){return new D3(n,e,t)}(r,I,this._normalizer),this._triggerCache[u]=f}this._transitionEngine.registerTrigger(t,r,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[a,u]=PN(i);this._timelineEngine.command(a,t,u,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,a){if("@"==i.charAt(0)){const[u,f]=PN(i);return this._timelineEngine.listen(u,t,f,a)}return this._transitionEngine.listen(e,t,i,r,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let z3=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Kc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Kc(this._element,this._initialStyles),this._endStyles&&(Kc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Eg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Eg(this._element,this._endStyles),this._endStyles=null),Kc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function NR(n){let e=null;return n.forEach((t,i)=>{(function G3(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class cF{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:ZN(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class q3{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return VN(e,t)}getParentElement(e){return _R(e)}query(e,t,i){return BN(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,a,u=[]){const _={duration:i,delay:r,fill:0==r?"both":"forwards"};a&&(_.easing=a);const w=new Map,I=u.filter(B=>B instanceof cF);(function K$(n,e){return 0===n||0===e})(i,r)&&I.forEach(B=>{B.currentSnapshot.forEach((W,ie)=>w.set(ie,W))});let M=function G$(n){return n.length?n[0]instanceof Map?n:n.map(e=>$N(e)):[]}(t).map(B=>Ff(B));M=function Y$(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((a,u)=>{i.has(u)||r.push(u),i.set(u,a)}),r.length)for(let a=1;a<e.length;a++){let u=e[a];r.forEach(f=>u.set(f,ZN(n,f)))}}return e}(e,M,w);const F=function $3(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=NR(e[0]),e.length>1&&(i=NR(e[e.length-1]))):e instanceof Map&&(t=NR(e)),t||i?new z3(n,t,i):null}(e,M);return new cF(e,M,_,F)}}let W3=(()=>{class n extends _1{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?y1(t):t;return uF(this._renderer,null,i,"register",[r]),new Z3(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(ne))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Z3 extends class FB{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new K3(this._id,e,t||{},this._renderer)}}class K3{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return uF(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function uF(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const dF="@.disabled";let Y3=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(a,u)=>{const f=u?.parentNode(a);f&&u.removeChild(f,a)}}createRenderer(t,i){const a=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let I=this._rendererCache.get(a);return I||(I=new hF("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,I)),I}const u=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=I=>{Array.isArray(I)?I.forEach(_):this.engine.registerTrigger(u,f,t,I.name,I)};return i.data.animation.forEach(_),new Q3(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[u,f]=a;u(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(ET),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class hF{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==dF?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Q3 extends hF{constructor(e,t,i,r,a){super(t,i,r,a),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==dF?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function X3(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),u="";return"@"!=a.charAt(0)&&([a,u]=function J3(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,r,a,u,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(e,t,i)}}let ez=(()=>{class n extends ET{constructor(t,i,r,a){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ne),c.LFG(yR),c.LFG(MR),c.LFG(c.z2F))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const fF=[{provide:_1,useClass:W3},{provide:MR,useFactory:function tz(){return new b3}},{provide:ET,useClass:ez},{provide:c.FYo,useFactory:function nz(n,e,t){return new Y3(n,e,t)},deps:[nl,ET,c.R0b]}],FR=[{provide:yR,useFactory:()=>new q3},{provide:c.QbO,useValue:"BrowserAnimations"},...fF],pF=[{provide:yR,useClass:UN},{provide:c.QbO,useValue:"NoopAnimations"},...fF];let iz=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?pF:FR}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:FR,imports:[gc]}),n})();class LR{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class rz extends LR{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class sz extends LR{constructor(e,t,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class oz extends LR{constructor(e){super(),this.element=e instanceof c.SBq?e.nativeElement:e}}class lz extends class az{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof rz?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof sz?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof oz?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(e,t,i,r,a){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const f=u.element,_=this._document.createComment("dom-portal");f.parentNode.insertBefore(_,f),this.outletElement.appendChild(f),this._attachedPortal=u,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(f,_)})},this._document=a}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||c.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let cz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const mF=T1();class uz{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=rr(-this._previousScrollPosition.left),e.style.top=rr(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,a=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),mF&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),mF&&(i.scrollBehavior=a,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class dz{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class gF{enable(){}disable(){}attach(){}}function VR(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function _F(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class hz{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();VR(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let fz=(()=>{class n{constructor(t,i,r,a){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new gF,this.close=u=>new dz(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new uz(this._viewportRuler,this._document),this.reposition=u=>new hz(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=a}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(sT),c.LFG(uR),c.LFG(c.R0b),c.LFG(ne))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class pz{constructor(e){if(this.scrollStrategy=new gF,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class mz{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let yF=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ne))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gz=(()=>{class n extends yF{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const a=this._attachedOverlays;for(let u=a.length-1;u>-1;u--)if(a[u]._keydownEvents.observers.length>0){const f=a[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(r)):f.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ne),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_z=(()=>{class n extends yF{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=vg(a)},this._clickListener=a=>{const u=vg(a),f="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let w=_.length-1;w>-1;w--){const I=_[w];if(I._outsidePointerEvents.observers.length<1||!I.hasAttached())continue;if(I.overlayElement.contains(u)||I.overlayElement.contains(f))break;const M=I._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>M.next(a)):M.next(a)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ne),c.LFG(Fa),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vF=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||iR()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<r.length;a++)r[a].remove()}const i=this._document.createElement("div");i.classList.add(t),iR()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ne),c.LFG(Fa))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class yz{constructor(e,t,i,r,a,u,f,_,w){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=a,this._keyboardDispatcher=u,this._document=f,this._location=_,this._outsideClickDispatcher=w,this._backdropElement=null,this._backdropClick=new Yt.x,this._attachments=new Yt.x,this._detachments=new Yt.x,this._locationChanges=Fu.w0.EMPTY,this._backdropClickHandler=I=>this._backdropClick.next(I),this._backdropTransitionendHandler=I=>{this._disposeBackdrop(I.target)},this._keydownEvents=new Yt.x,this._outsidePointerEvents=new Yt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ya(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=rr(this._config.width),e.height=rr(this._config.height),e.minWidth=rr(this._config.minWidth),e.minHeight=rr(this._config.minHeight),e.maxWidth=rr(this._config.maxWidth),e.maxHeight=rr(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;!e||(e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500)))}_toggleClasses(e,t,i){const r=k1(t||[]).filter(a=>!!a);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(is((0,Tx.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const bF="cdk-overlay-connected-position-bounding-box",vz=/([A-Za-z%]+)$/;class bz{constructor(e,t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Yt.x,this._resizeSubscription=Fu.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(bF),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,a=[];let u;for(let f of this._preferredPositions){let _=this._getOriginPoint(e,r,f),w=this._getOverlayPoint(_,t,f),I=this._getOverlayFit(w,t,i,f);if(I.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,_);this._canFitWithFlexibleDimensions(I,w,i)?a.push({position:f,origin:_,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(_,f)}):(!u||u.overlayFit.visibleArea<I.visibleArea)&&(u={overlayFit:I,overlayPoint:w,originPoint:_,position:f,overlayRect:t})}if(a.length){let f=null,_=-1;for(const w of a){const I=w.boundingBoxRect.width*w.boundingBoxRect.height*(w.position.weight||1);I>_&&(_=I,f=w)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ig(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(bF),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,a;if("center"==i.originX)r=e.left+e.width/2;else{const u=this._isRtl()?e.right:e.left,f=this._isRtl()?e.left:e.right;r="start"==i.originX?u:f}return t.left<0&&(r-=t.left),a="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(a-=t.top),{x:r,y:a}}_getOverlayPoint(e,t,i){let r,a;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+a}}_getOverlayFit(e,t,i,r){const a=EF(t);let{x:u,y:f}=e,_=this._getOffset(r,"x"),w=this._getOffset(r,"y");_&&(u+=_),w&&(f+=w);let F=0-f,B=f+a.height-i.height,W=this._subtractOverflows(a.width,0-u,u+a.width-i.width),ie=this._subtractOverflows(a.height,F,B),ve=W*ie;return{visibleArea:ve,isCompletelyWithinViewport:a.width*a.height===ve,fitsInViewportVertically:ie===a.height,fitsInViewportHorizontally:W==a.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,a=i.right-t.x,u=wF(this._overlayRef.getConfig().minHeight),f=wF(this._overlayRef.getConfig().minWidth),w=e.fitsInViewportHorizontally||null!=f&&f<=a;return(e.fitsInViewportVertically||null!=u&&u<=r)&&w}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=EF(t),a=this._viewportRect,u=Math.max(e.x+r.width-a.width,0),f=Math.max(e.y+r.height-a.height,0),_=Math.max(a.top-i.top-e.y,0),w=Math.max(a.left-i.left-e.x,0);let I=0,M=0;return I=r.width<=a.width?w||-u:e.x<this._viewportMargin?a.left-i.left-e.x:0,M=r.height<=a.height?_||-f:e.y<this._viewportMargin?a.top-i.top-e.y:0,this._previousPushAmount={x:I,y:M},{x:e.x+I,y:e.y+M}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new mz(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let a,u,f,I,M,F;if("top"===t.overlayY)u=e.y,a=i.height-u+this._viewportMargin;else if("bottom"===t.overlayY)f=i.height-e.y+2*this._viewportMargin,a=i.height-f+this._viewportMargin;else{const B=Math.min(i.bottom-e.y+i.top,e.y),W=this._lastBoundingBoxSize.height;a=2*B,u=e.y-B,a>W&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-W/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)F=i.width-e.x+this._viewportMargin,I=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)M=e.x,I=i.right-e.x;else{const B=Math.min(i.right-e.x+i.left,e.x),W=this._lastBoundingBoxSize.width;I=2*B,M=e.x-B,I>W&&!this._isInitialRender&&!this._growAfterOpen&&(M=e.x-W/2)}return{top:u,left:M,bottom:f,right:F,width:I,height:a}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=rr(i.height),r.top=rr(i.top),r.bottom=rr(i.bottom),r.width=rr(i.width),r.left=rr(i.left),r.right=rr(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(r.maxHeight=rr(a)),u&&(r.maxWidth=rr(u))}this._lastBoundingBoxSize=i,Ig(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Ig(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ig(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),a=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const I=this._viewportRuler.getViewportScrollPosition();Ig(i,this._getExactOverlayY(t,e,I)),Ig(i,this._getExactOverlayX(t,e,I))}else i.position="static";let f="",_=this._getOffset(t,"x"),w=this._getOffset(t,"y");_&&(f+=`translateX(${_}px) `),w&&(f+=`translateY(${w}px)`),i.transform=f.trim(),u.maxHeight&&(r?i.maxHeight=rr(u.maxHeight):a&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=rr(u.maxWidth):a&&(i.maxWidth="")),Ig(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":r.top=rr(a.y),r}_getExactOverlayX(e,t,i){let u,r={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),u=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":r.left=rr(a.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:_F(e,i),isOriginOutsideView:VR(e,i),isOverlayClipped:_F(t,i),isOverlayOutsideView:VR(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?e.offsetX??this._offsetX:e.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&k1(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof c.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Ig(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function wF(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(vz);return t&&"px"!==t?null:parseFloat(e)}return n||null}function EF(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const CF="cdk-global-overlay-wrapper";class wz{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(CF),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:a,maxWidth:u,maxHeight:f}=i,_=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),w=!("100%"!==a&&"100vh"!==a||f&&"100%"!==f&&"100vh"!==f);e.position=this._cssPosition,e.marginLeft=_?"0":this._leftOffset,e.marginTop=w?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,_?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=w?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(CF),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Ez=(()=>{class n{constructor(t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a}global(){return new wz}flexibleConnectedTo(t){return new bz(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(uR),c.LFG(ne),c.LFG(Fa),c.LFG(vF))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Cz=0,BR=(()=>{class n{constructor(t,i,r,a,u,f,_,w,I,M,F){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=a,this._keyboardDispatcher=u,this._injector=f,this._ngZone=_,this._document=w,this._directionality=I,this._location=M,this._outsideClickDispatcher=F}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),a=this._createPortalOutlet(r),u=new pz(t);return u.direction=u.direction||this._directionality.value,new yz(a,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Cz++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(c.z2F)),new lz(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fz),c.LFG(vF),c.LFG(c._Vd),c.LFG(Ez),c.LFG(gz),c.LFG(c.zs3),c.LFG(c.R0b),c.LFG(ne),c.LFG(sR),c.LFG(Pe),c.LFG(_z))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Tz={provide:new c.OlP("cdk-connected-overlay-scroll-strategy"),deps:[BR],useFactory:function Dz(n){return()=>n.scrollStrategies.reposition()}};let Sz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[BR,Tz],imports:[[N0,cz,vN],vN]}),n})();const Rz={provide:new c.OlP("mat-menu-scroll-strategy"),deps:[BR],useFactory:function xz(n){return()=>n.scrollStrategies.reposition()}};let kz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Rz],imports:[[bo,rs,eN,Sz],j0,rs]}),n})(),Oz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[i$]}),n.\u0275inj=c.cJS({imports:[gc,bU,iz,Xg,nN,XH,kz,Pj,Jj,Rh,No.hO.initializeApp(t__firebase),rU.forRoot({timeOut:4e3,positionClass:"toast-bottom-right",preventDuplicates:!0}),nN]}),n})();(0,c.G48)(),aa().bootstrapModule(Oz).catch(n=>console.error(n))},9751:(mt,Te,P)=>{P.d(Te,{y:()=>we});var c=P(930),X=P(727),O=P(8822),ae=P(9635),oe=P(2416),ue=P(576),ne=P(2806);let we=(()=>{class Z{constructor(Me){Me&&(this._subscribe=Me)}lift(Me){const Ie=new Z;return Ie.source=this,Ie.operator=Me,Ie}subscribe(Me,Ie,st){const _e=function j(Z){return Z&&Z instanceof c.Lv||function $(Z){return Z&&(0,ue.m)(Z.next)&&(0,ue.m)(Z.error)&&(0,ue.m)(Z.complete)}(Z)&&(0,X.Nn)(Z)}(Me)?Me:new c.Hp(Me,Ie,st);return(0,ne.x)(()=>{const{operator:me,source:_t}=this;_e.add(me?me.call(_e,_t):_t?this._subscribe(_e):this._trySubscribe(_e))}),_e}_trySubscribe(Me){try{return this._subscribe(Me)}catch(Ie){Me.error(Ie)}}forEach(Me,Ie){return new(Ie=he(Ie))((st,_e)=>{const me=new c.Hp({next:_t=>{try{Me(_t)}catch(It){_e(It),me.unsubscribe()}},error:_e,complete:st});this.subscribe(me)})}_subscribe(Me){var Ie;return null===(Ie=this.source)||void 0===Ie?void 0:Ie.subscribe(Me)}[O.L](){return this}pipe(...Me){return(0,ae.U)(Me)(this)}toPromise(Me){return new(Me=he(Me))((Ie,st)=>{let _e;this.subscribe(me=>_e=me,me=>st(me),()=>Ie(_e))})}}return Z.create=ze=>new Z(ze),Z})();function he(Z){var ze;return null!==(ze=Z??oe.v.Promise)&&void 0!==ze?ze:Promise}},7579:(mt,Te,P)=>{P.d(Te,{x:()=>ne});var c=P(9751),X=P(727);const ae=(0,P(3888).d)(he=>function(){he(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=P(8737),ue=P(2806);let ne=(()=>{class he extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const Z=new we(this,this);return Z.operator=j,Z}_throwIfClosed(){if(this.closed)throw new ae}next(j){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Z of this.currentObservers)Z.next(j)}})}error(j){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:Z}=this;for(;Z.length;)Z.shift().error(j)}})}complete(){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:Z,isStopped:ze,observers:Me}=this;return Z||ze?X.Lc:(this.currentObservers=null,Me.push(j),new X.w0(()=>{this.currentObservers=null,(0,oe.P)(Me,j)}))}_checkFinalizedStatuses(j){const{hasError:Z,thrownError:ze,isStopped:Me}=this;Z?j.error(ze):Me&&j.complete()}asObservable(){const j=new c.y;return j.source=this,j}}return he.create=($,j)=>new we($,j),he})();class we extends ne{constructor($,j){super(),this.destination=$,this.source=j}next($){var j,Z;null===(Z=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===Z||Z.call(j,$)}error($){var j,Z;null===(Z=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===Z||Z.call(j,$)}complete(){var $,j;null===(j=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===j||j.call($)}_subscribe($){var j,Z;return null!==(Z=null===(j=this.source)||void 0===j?void 0:j.subscribe($))&&void 0!==Z?Z:X.Lc}}},930:(mt,Te,P)=>{P.d(Te,{Hp:()=>st,Lv:()=>Z});var c=P(576),X=P(727),O=P(2416),ae=P(7849),oe=P(5032);const ue=he("C",void 0,void 0);function he(Pe,Ee,fe){return{kind:Pe,value:Ee,error:fe}}var $=P(3410),j=P(2806);class Z extends X.w0{constructor(Ee){super(),this.isStopped=!1,Ee?(this.destination=Ee,(0,X.Nn)(Ee)&&Ee.add(this)):this.destination=It}static create(Ee,fe,Ge){return new st(Ee,fe,Ge)}next(Ee){this.isStopped?_t(function we(Pe){return he("N",Pe,void 0)}(Ee),this):this._next(Ee)}error(Ee){this.isStopped?_t(function ne(Pe){return he("E",void 0,Pe)}(Ee),this):(this.isStopped=!0,this._error(Ee))}complete(){this.isStopped?_t(ue,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ee){this.destination.next(Ee)}_error(Ee){try{this.destination.error(Ee)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function Me(Pe,Ee){return ze.call(Pe,Ee)}class Ie{constructor(Ee){this.partialObserver=Ee}next(Ee){const{partialObserver:fe}=this;if(fe.next)try{fe.next(Ee)}catch(Ge){_e(Ge)}}error(Ee){const{partialObserver:fe}=this;if(fe.error)try{fe.error(Ee)}catch(Ge){_e(Ge)}else _e(Ee)}complete(){const{partialObserver:Ee}=this;if(Ee.complete)try{Ee.complete()}catch(fe){_e(fe)}}}class st extends Z{constructor(Ee,fe,Ge){let He;if(super(),(0,c.m)(Ee)||!Ee)He={next:Ee??void 0,error:fe??void 0,complete:Ge??void 0};else{let et;this&&O.v.useDeprecatedNextContext?(et=Object.create(Ee),et.unsubscribe=()=>this.unsubscribe(),He={next:Ee.next&&Me(Ee.next,et),error:Ee.error&&Me(Ee.error,et),complete:Ee.complete&&Me(Ee.complete,et)}):He=Ee}this.destination=new Ie(He)}}function _e(Pe){O.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(Pe):(0,ae.h)(Pe)}function _t(Pe,Ee){const{onStoppedNotification:fe}=O.v;fe&&$.z.setTimeout(()=>fe(Pe,Ee))}const It={closed:!0,next:oe.Z,error:function me(Pe){throw Pe},complete:oe.Z}},727:(mt,Te,P)=>{P.d(Te,{Lc:()=>ue,w0:()=>oe,Nn:()=>ne});var c=P(576);const O=(0,P(3888).d)(he=>function(j){he(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((Z,ze)=>`${ze+1}) ${Z.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var ae=P(8737);class oe{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const Me of j)Me.remove(this);else j.remove(this);const{initialTeardown:Z}=this;if((0,c.m)(Z))try{Z()}catch(Me){$=Me instanceof O?Me.errors:[Me]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const Me of ze)try{we(Me)}catch(Ie){$=$??[],Ie instanceof O?$=[...$,...Ie.errors]:$.push(Ie)}}if($)throw new O($)}}add($){var j;if($&&$!==this)if(this.closed)we($);else{if($ instanceof oe){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push($)}}_hasParent($){const{_parentage:j}=this;return j===$||Array.isArray(j)&&j.includes($)}_addParent($){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push($),j):j?[j,$]:$}_removeParent($){const{_parentage:j}=this;j===$?this._parentage=null:Array.isArray(j)&&(0,ae.P)(j,$)}remove($){const{_finalizers:j}=this;j&&(0,ae.P)(j,$),$ instanceof oe&&$._removeParent(this)}}oe.EMPTY=(()=>{const he=new oe;return he.closed=!0,he})();const ue=oe.EMPTY;function ne(he){return he instanceof oe||he&&"closed"in he&&(0,c.m)(he.remove)&&(0,c.m)(he.add)&&(0,c.m)(he.unsubscribe)}function we(he){(0,c.m)(he)?he():he.unsubscribe()}},2416:(mt,Te,P)=>{P.d(Te,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(mt,Te,P)=>{P.d(Te,{E:()=>X});const X=new(P(9751).y)(oe=>oe.complete())},8996:(mt,Te,P)=>{P.d(Te,{D:()=>Ee});var c=P(8421),X=P(5363),O=P(9468),ue=P(9751),we=P(2202),he=P(576),$=P(9672);function Z(fe,Ge){if(!fe)throw new Error("Iterable cannot be null");return new ue.y(He=>{(0,$.f)(He,Ge,()=>{const et=fe[Symbol.asyncIterator]();(0,$.f)(He,Ge,()=>{et.next().then(ee=>{ee.done?He.complete():He.next(ee.value)})},0,!0)})})}var ze=P(3670),Me=P(8239),Ie=P(1144),st=P(6495),_e=P(2206),me=P(4532),_t=P(3260);function Ee(fe,Ge){return Ge?function Pe(fe,Ge){if(null!=fe){if((0,ze.c)(fe))return function ae(fe,Ge){return(0,c.Xf)(fe).pipe((0,O.R)(Ge),(0,X.Q)(Ge))}(fe,Ge);if((0,Ie.z)(fe))return function ne(fe,Ge){return new ue.y(He=>{let et=0;return Ge.schedule(function(){et===fe.length?He.complete():(He.next(fe[et++]),He.closed||this.schedule())})})}(fe,Ge);if((0,Me.t)(fe))return function oe(fe,Ge){return(0,c.Xf)(fe).pipe((0,O.R)(Ge),(0,X.Q)(Ge))}(fe,Ge);if((0,_e.D)(fe))return Z(fe,Ge);if((0,st.T)(fe))return function j(fe,Ge){return new ue.y(He=>{let et;return(0,$.f)(He,Ge,()=>{et=fe[we.h](),(0,$.f)(He,Ge,()=>{let ee,xt;try{({value:ee,done:xt}=et.next())}catch(dt){return void He.error(dt)}xt?He.complete():He.next(ee)},0,!0)}),()=>(0,he.m)(et?.return)&&et.return()})}(fe,Ge);if((0,_t.L)(fe))return function It(fe,Ge){return Z((0,_t.Q)(fe),Ge)}(fe,Ge)}throw(0,me.z)(fe)}(fe,Ge):(0,c.Xf)(fe)}},8421:(mt,Te,P)=>{P.d(Te,{Xf:()=>ze});var c=P(655),X=P(1144),O=P(8239),ae=P(9751),oe=P(3670),ue=P(2206),ne=P(4532),we=P(6495),he=P(3260),$=P(576),j=P(7849),Z=P(8822);function ze(Pe){if(Pe instanceof ae.y)return Pe;if(null!=Pe){if((0,oe.c)(Pe))return function Me(Pe){return new ae.y(Ee=>{const fe=Pe[Z.L]();if((0,$.m)(fe.subscribe))return fe.subscribe(Ee);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Pe);if((0,X.z)(Pe))return function Ie(Pe){return new ae.y(Ee=>{for(let fe=0;fe<Pe.length&&!Ee.closed;fe++)Ee.next(Pe[fe]);Ee.complete()})}(Pe);if((0,O.t)(Pe))return function st(Pe){return new ae.y(Ee=>{Pe.then(fe=>{Ee.closed||(Ee.next(fe),Ee.complete())},fe=>Ee.error(fe)).then(null,j.h)})}(Pe);if((0,ue.D)(Pe))return me(Pe);if((0,we.T)(Pe))return function _e(Pe){return new ae.y(Ee=>{for(const fe of Pe)if(Ee.next(fe),Ee.closed)return;Ee.complete()})}(Pe);if((0,he.L)(Pe))return function _t(Pe){return me((0,he.Q)(Pe))}(Pe)}throw(0,ne.z)(Pe)}function me(Pe){return new ae.y(Ee=>{(function It(Pe,Ee){var fe,Ge,He,et;return(0,c.mG)(this,void 0,void 0,function*(){try{for(fe=(0,c.KL)(Pe);!(Ge=yield fe.next()).done;)if(Ee.next(Ge.value),Ee.closed)return}catch(ee){He={error:ee}}finally{try{Ge&&!Ge.done&&(et=fe.return)&&(yield et.call(fe))}finally{if(He)throw He.error}}Ee.complete()})})(Pe,Ee).catch(fe=>Ee.error(fe))})}},6451:(mt,Te,P)=>{P.d(Te,{T:()=>ue});var c=P(8189),X=P(8421),O=P(515),ae=P(3269),oe=P(8996);function ue(...ne){const we=(0,ae.yG)(ne),he=(0,ae._6)(ne,1/0),$=ne;return $.length?1===$.length?(0,X.Xf)($[0]):(0,c.J)(he)((0,oe.D)($,we)):O.E}},5403:(mt,Te,P)=>{P.d(Te,{x:()=>X});var c=P(930);function X(ae,oe,ue,ne,we){return new O(ae,oe,ue,ne,we)}class O extends c.Lv{constructor(oe,ue,ne,we,he,$){super(oe),this.onFinalize=he,this.shouldUnsubscribe=$,this._next=ue?function(j){try{ue(j)}catch(Z){oe.error(Z)}}:super._next,this._error=we?function(j){try{we(j)}catch(Z){oe.error(Z)}finally{this.unsubscribe()}}:super._error,this._complete=ne?function(){try{ne()}catch(j){oe.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ue}=this;super.unsubscribe(),!ue&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}}},4004:(mt,Te,P)=>{P.d(Te,{U:()=>O});var c=P(4482),X=P(5403);function O(ae,oe){return(0,c.e)((ue,ne)=>{let we=0;ue.subscribe((0,X.x)(ne,he=>{ne.next(ae.call(oe,he,we++))}))})}},8189:(mt,Te,P)=>{P.d(Te,{J:()=>O});var c=P(5577),X=P(4671);function O(ae=1/0){return(0,c.z)(X.y,ae)}},5577:(mt,Te,P)=>{P.d(Te,{z:()=>we});var c=P(4004),X=P(8421),O=P(4482),ae=P(9672),oe=P(5403),ne=P(576);function we(he,$,j=1/0){return(0,ne.m)($)?we((Z,ze)=>(0,c.U)((Me,Ie)=>$(Z,Me,ze,Ie))((0,X.Xf)(he(Z,ze))),j):("number"==typeof $&&(j=$),(0,O.e)((Z,ze)=>function ue(he,$,j,Z,ze,Me,Ie,st){const _e=[];let me=0,_t=0,It=!1;const Pe=()=>{It&&!_e.length&&!me&&$.complete()},Ee=Ge=>me<Z?fe(Ge):_e.push(Ge),fe=Ge=>{Me&&$.next(Ge),me++;let He=!1;(0,X.Xf)(j(Ge,_t++)).subscribe((0,oe.x)($,et=>{ze?.(et),Me?Ee(et):$.next(et)},()=>{He=!0},void 0,()=>{if(He)try{for(me--;_e.length&&me<Z;){const et=_e.shift();Ie?(0,ae.f)($,Ie,()=>fe(et)):fe(et)}Pe()}catch(et){$.error(et)}}))};return he.subscribe((0,oe.x)($,Ee,()=>{It=!0,Pe()})),()=>{st?.()}}(Z,ze,he,j)))}},5363:(mt,Te,P)=>{P.d(Te,{Q:()=>ae});var c=P(9672),X=P(4482),O=P(5403);function ae(oe,ue=0){return(0,X.e)((ne,we)=>{ne.subscribe((0,O.x)(we,he=>(0,c.f)(we,oe,()=>we.next(he),ue),()=>(0,c.f)(we,oe,()=>we.complete(),ue),he=>(0,c.f)(we,oe,()=>we.error(he),ue)))})}},3099:(mt,Te,P)=>{P.d(Te,{B:()=>oe});var c=P(8421),X=P(7579),O=P(930),ae=P(4482);function oe(ne={}){const{connector:we=(()=>new X.x),resetOnError:he=!0,resetOnComplete:$=!0,resetOnRefCountZero:j=!0}=ne;return Z=>{let ze,Me,Ie,st=0,_e=!1,me=!1;const _t=()=>{Me?.unsubscribe(),Me=void 0},It=()=>{_t(),ze=Ie=void 0,_e=me=!1},Pe=()=>{const Ee=ze;It(),Ee?.unsubscribe()};return(0,ae.e)((Ee,fe)=>{st++,!me&&!_e&&_t();const Ge=Ie=Ie??we();fe.add(()=>{st--,0===st&&!me&&!_e&&(Me=ue(Pe,j))}),Ge.subscribe(fe),!ze&&st>0&&(ze=new O.Hp({next:He=>Ge.next(He),error:He=>{me=!0,_t(),Me=ue(It,he,He),Ge.error(He)},complete:()=>{_e=!0,_t(),Me=ue(It,$),Ge.complete()}}),(0,c.Xf)(Ee).subscribe(ze))})(Z)}}function ue(ne,we,...he){if(!0===we)return void ne();if(!1===we)return;const $=new O.Hp({next:()=>{$.unsubscribe(),ne()}});return we(...he).subscribe($)}},9468:(mt,Te,P)=>{P.d(Te,{R:()=>X});var c=P(4482);function X(O,ae=0){return(0,c.e)((oe,ue)=>{ue.add(O.schedule(()=>oe.subscribe(ue),ae))})}},8505:(mt,Te,P)=>{P.d(Te,{b:()=>oe});var c=P(576),X=P(4482),O=P(5403),ae=P(4671);function oe(ue,ne,we){const he=(0,c.m)(ue)||ne||we?{next:ue,error:ne,complete:we}:ue;return he?(0,X.e)(($,j)=>{var Z;null===(Z=he.subscribe)||void 0===Z||Z.call(he);let ze=!0;$.subscribe((0,O.x)(j,Me=>{var Ie;null===(Ie=he.next)||void 0===Ie||Ie.call(he,Me),j.next(Me)},()=>{var Me;ze=!1,null===(Me=he.complete)||void 0===Me||Me.call(he),j.complete()},Me=>{var Ie;ze=!1,null===(Ie=he.error)||void 0===Ie||Ie.call(he,Me),j.error(Me)},()=>{var Me,Ie;ze&&(null===(Me=he.unsubscribe)||void 0===Me||Me.call(he)),null===(Ie=he.finalize)||void 0===Ie||Ie.call(he)}))}):ae.y}},4408:(mt,Te,P)=>{P.d(Te,{o:()=>oe});var c=P(727);class X extends c.w0{constructor(ne,we){super()}schedule(ne,we=0){return this}}const O={setInterval(ue,ne,...we){const{delegate:he}=O;return he?.setInterval?he.setInterval(ue,ne,...we):setInterval(ue,ne,...we)},clearInterval(ue){const{delegate:ne}=O;return(ne?.clearInterval||clearInterval)(ue)},delegate:void 0};var ae=P(8737);class oe extends X{constructor(ne,we){super(ne,we),this.scheduler=ne,this.work=we,this.pending=!1}schedule(ne,we=0){var he;if(this.closed)return this;this.state=ne;const $=this.id,j=this.scheduler;return null!=$&&(this.id=this.recycleAsyncId(j,$,we)),this.pending=!0,this.delay=we,this.id=null!==(he=this.id)&&void 0!==he?he:this.requestAsyncId(j,this.id,we),this}requestAsyncId(ne,we,he=0){return O.setInterval(ne.flush.bind(ne,this),he)}recycleAsyncId(ne,we,he=0){if(null!=he&&this.delay===he&&!1===this.pending)return we;null!=we&&O.clearInterval(we)}execute(ne,we){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const he=this._execute(ne,we);if(he)return he;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ne,we){let $,he=!1;try{this.work(ne)}catch(j){he=!0,$=j||new Error("Scheduled action threw falsy error")}if(he)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:ne,scheduler:we}=this,{actions:he}=we;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(he,this),null!=ne&&(this.id=this.recycleAsyncId(we,ne,null)),this.delay=null,super.unsubscribe()}}}},7565:(mt,Te,P)=>{P.d(Te,{v:()=>O});var c=P(6063);class X{constructor(oe,ue=X.now){this.schedulerActionCtor=oe,this.now=ue}schedule(oe,ue=0,ne){return new this.schedulerActionCtor(this,oe).schedule(ne,ue)}}X.now=c.l.now;class O extends X{constructor(oe,ue=X.now){super(oe,ue),this.actions=[],this._active=!1}flush(oe){const{actions:ue}=this;if(this._active)return void ue.push(oe);let ne;this._active=!0;do{if(ne=oe.execute(oe.state,oe.delay))break}while(oe=ue.shift());if(this._active=!1,ne){for(;oe=ue.shift();)oe.unsubscribe();throw ne}}}},4986:(mt,Te,P)=>{P.d(Te,{P:()=>ae,z:()=>O});var c=P(4408);const O=new(P(7565).v)(c.o),ae=O},6063:(mt,Te,P)=>{P.d(Te,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(mt,Te,P)=>{P.d(Te,{z:()=>c});const c={setTimeout(X,O,...ae){const{delegate:oe}=c;return oe?.setTimeout?oe.setTimeout(X,O,...ae):setTimeout(X,O,...ae)},clearTimeout(X){const{delegate:O}=c;return(O?.clearTimeout||clearTimeout)(X)},delegate:void 0}},2202:(mt,Te,P)=>{P.d(Te,{h:()=>X});const X=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(mt,Te,P)=>{P.d(Te,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(mt,Te,P)=>{P.d(Te,{_6:()=>ue,jO:()=>ae,yG:()=>oe});var c=P(576),X=P(3532);function O(ne){return ne[ne.length-1]}function ae(ne){return(0,c.m)(O(ne))?ne.pop():void 0}function oe(ne){return(0,X.K)(O(ne))?ne.pop():void 0}function ue(ne,we){return"number"==typeof O(ne)?ne.pop():we}},8737:(mt,Te,P)=>{function c(X,O){if(X){const ae=X.indexOf(O);0<=ae&&X.splice(ae,1)}}P.d(Te,{P:()=>c})},3888:(mt,Te,P)=>{function c(X){const ae=X(oe=>{Error.call(oe),oe.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}P.d(Te,{d:()=>c})},2806:(mt,Te,P)=>{P.d(Te,{O:()=>ae,x:()=>O});var c=P(2416);let X=null;function O(oe){if(c.v.useDeprecatedSynchronousErrorHandling){const ue=!X;if(ue&&(X={errorThrown:!1,error:null}),oe(),ue){const{errorThrown:ne,error:we}=X;if(X=null,ne)throw we}}else oe()}function ae(oe){c.v.useDeprecatedSynchronousErrorHandling&&X&&(X.errorThrown=!0,X.error=oe)}},9672:(mt,Te,P)=>{function c(X,O,ae,oe=0,ue=!1){const ne=O.schedule(function(){ae(),ue?X.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(X.add(ne),!ue)return ne}P.d(Te,{f:()=>c})},4671:(mt,Te,P)=>{function c(X){return X}P.d(Te,{y:()=>c})},1144:(mt,Te,P)=>{P.d(Te,{z:()=>c});const c=X=>X&&"number"==typeof X.length&&"function"!=typeof X},2206:(mt,Te,P)=>{P.d(Te,{D:()=>X});var c=P(576);function X(O){return Symbol.asyncIterator&&(0,c.m)(O?.[Symbol.asyncIterator])}},576:(mt,Te,P)=>{function c(X){return"function"==typeof X}P.d(Te,{m:()=>c})},3670:(mt,Te,P)=>{P.d(Te,{c:()=>O});var c=P(8822),X=P(576);function O(ae){return(0,X.m)(ae[c.L])}},6495:(mt,Te,P)=>{P.d(Te,{T:()=>O});var c=P(2202),X=P(576);function O(ae){return(0,X.m)(ae?.[c.h])}},8239:(mt,Te,P)=>{P.d(Te,{t:()=>X});var c=P(576);function X(O){return(0,c.m)(O?.then)}},3260:(mt,Te,P)=>{P.d(Te,{L:()=>ae,Q:()=>O});var c=P(655),X=P(576);function O(oe){return(0,c.FC)(this,arguments,function*(){const ne=oe.getReader();try{for(;;){const{value:we,done:he}=yield(0,c.qq)(ne.read());if(he)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(we)}}finally{ne.releaseLock()}})}function ae(oe){return(0,X.m)(oe?.getReader)}},3532:(mt,Te,P)=>{P.d(Te,{K:()=>X});var c=P(576);function X(O){return O&&(0,c.m)(O.schedule)}},4482:(mt,Te,P)=>{P.d(Te,{A:()=>X,e:()=>O});var c=P(576);function X(ae){return(0,c.m)(ae?.lift)}function O(ae){return oe=>{if(X(oe))return oe.lift(function(ue){try{return ae(ue,this)}catch(ne){this.error(ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(mt,Te,P)=>{function c(){}P.d(Te,{Z:()=>c})},9635:(mt,Te,P)=>{P.d(Te,{U:()=>O,z:()=>X});var c=P(4671);function X(...ae){return O(ae)}function O(ae){return 0===ae.length?c.y:1===ae.length?ae[0]:function(ue){return ae.reduce((ne,we)=>we(ne),ue)}}},7849:(mt,Te,P)=>{P.d(Te,{h:()=>O});var c=P(2416),X=P(3410);function O(ae){X.z.setTimeout(()=>{const{onUnhandledError:oe}=c.v;if(!oe)throw ae;oe(ae)})}},4532:(mt,Te,P)=>{function c(X){return new TypeError(`You provided ${null!==X&&"object"==typeof X?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Te,{z:()=>c})},655:(mt,Te,P)=>{function ae(de,pe){var Se={};for(var xe in de)Object.prototype.hasOwnProperty.call(de,xe)&&pe.indexOf(xe)<0&&(Se[xe]=de[xe]);if(null!=de&&"function"==typeof Object.getOwnPropertySymbols){var Le=0;for(xe=Object.getOwnPropertySymbols(de);Le<xe.length;Le++)pe.indexOf(xe[Le])<0&&Object.prototype.propertyIsEnumerable.call(de,xe[Le])&&(Se[xe[Le]]=de[xe[Le]])}return Se}function Z(de,pe,Se,xe){return new(Se||(Se=Promise))(function(De,Rt){function tn($t){try{Ue(xe.next($t))}catch(Wt){Rt(Wt)}}function Nt($t){try{Ue(xe.throw($t))}catch(Wt){Rt(Wt)}}function Ue($t){$t.done?De($t.value):function Le(De){return De instanceof Se?De:new Se(function(Rt){Rt(De)})}($t.value).then(tn,Nt)}Ue((xe=xe.apply(de,pe||[])).next())})}function Pe(de){return this instanceof Pe?(this.v=de,this):new Pe(de)}function Ee(de,pe,Se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,xe=Se.apply(de,pe||[]),De=[];return Le={},Rt("next"),Rt("throw"),Rt("return"),Le[Symbol.asyncIterator]=function(){return this},Le;function Rt(Xt){xe[Xt]&&(Le[Xt]=function(Rn){return new Promise(function($n,Li){De.push([Xt,Rn,$n,Li])>1||tn(Xt,Rn)})})}function tn(Xt,Rn){try{!function Nt(Xt){Xt.value instanceof Pe?Promise.resolve(Xt.value.v).then(Ue,$t):Wt(De[0][2],Xt)}(xe[Xt](Rn))}catch($n){Wt(De[0][3],$n)}}function Ue(Xt){tn("next",Xt)}function $t(Xt){tn("throw",Xt)}function Wt(Xt,Rn){Xt(Rn),De.shift(),De.length&&tn(De[0][0],De[0][1])}}function Ge(de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Se,pe=de[Symbol.asyncIterator];return pe?pe.call(de):(de=function st(de){var pe="function"==typeof Symbol&&Symbol.iterator,Se=pe&&de[pe],xe=0;if(Se)return Se.call(de);if(de&&"number"==typeof de.length)return{next:function(){return de&&xe>=de.length&&(de=void 0),{value:de&&de[xe++],done:!de}}};throw new TypeError(pe?"Object is not iterable.":"Symbol.iterator is not defined.")}(de),Se={},xe("next"),xe("throw"),xe("return"),Se[Symbol.asyncIterator]=function(){return this},Se);function xe(De){Se[De]=de[De]&&function(Rt){return new Promise(function(tn,Nt){!function Le(De,Rt,tn,Nt){Promise.resolve(Nt).then(function(Ue){De({value:Ue,done:tn})},Rt)}(tn,Nt,(Rt=de[De](Rt)).done,Rt.value)})}}}P.d(Te,{FC:()=>Ee,KL:()=>Ge,_T:()=>ae,mG:()=>Z,qq:()=>Pe})},4650:(mt,Te,P)=>{P.d(Te,{$8M:()=>mc,$Z:()=>IE,AFp:()=>Ul,ALo:()=>Ws,AaK:()=>we,BQk:()=>$_,CHM:()=>ds,CRH:()=>Ll,CZH:()=>hd,CqO:()=>am,D6c:()=>t0,EJc:()=>LI,EiD:()=>kh,EpF:()=>Xe,F$t:()=>lm,F4k:()=>Ut,FYo:()=>El,FiY:()=>Ro,G48:()=>IA,Gf:()=>bw,GfV:()=>Uv,Gpc:()=>j,Hsn:()=>Hi,JOm:()=>Hs,JVY:()=>Mh,KtG:()=>qa,L6k:()=>Nv,LAX:()=>Zg,LFG:()=>Wn,LSH:()=>t_,Lbi:()=>vf,Lck:()=>hI,MAs:()=>j_,MMx:()=>wn,NdJ:()=>Jh,OlP:()=>ln,Oqu:()=>fm,PXZ:()=>Hm,Q6J:()=>wb,QGY:()=>om,QP$:()=>St,QbO:()=>fd,Qsj:()=>Bv,R0b:()=>Zs,RDi:()=>kv,Rgc:()=>Rm,SBq:()=>Vh,Sil:()=>gA,Suo:()=>ww,TTD:()=>vr,TgZ:()=>ye,Tol:()=>bC,Udp:()=>id,VKq:()=>gI,WFA:()=>nd,X6Q:()=>zI,XFs:()=>ht,Xpm:()=>Nn,Xts:()=>i_,Y36:()=>Zu,YKP:()=>uw,YNc:()=>fr,Yjl:()=>q,Yz7:()=>Ue,Z0I:()=>Rn,ZZ4:()=>qy,_Bn:()=>Sm,_UZ:()=>Xh,_Vd:()=>_s,_c5:()=>Jw,_uU:()=>Q_,aQg:()=>Wy,c2e:()=>Pw,cJS:()=>Wt,cg1:()=>iy,d8E:()=>ty,dDg:()=>vA,dqk:()=>_n,eBb:()=>xh,eFA:()=>ka,ekj:()=>Pb,eoX:()=>HI,f3M:()=>cl,g9A:()=>kw,gM2:()=>ce,h0i:()=>er,hGG:()=>e0,hij:()=>wi,iGM:()=>My,ifc:()=>wt,ip1:()=>Bl,jDz:()=>vy,kL8:()=>sy,lG2:()=>V,lqb:()=>Lu,lri:()=>Bw,mCW:()=>b,n5z:()=>Vn,n_E:()=>Dy,oAB:()=>ar,oJD:()=>DT,oxw:()=>pC,pB0:()=>bl,q3G:()=>mi,q4F:()=>Hv,qLn:()=>Bh,qOj:()=>V_,qZA:()=>Ta,qzn:()=>co,rWj:()=>Uw,sBO:()=>GI,sIi:()=>Xu,s_b:()=>km,soG:()=>Bm,tb:()=>Fy,tp0:()=>Vs,uIk:()=>_b,vHH:()=>Ie,vpe:()=>Ma,wAp:()=>At,xp6:()=>hE,ynx:()=>an,z2F:()=>_d,z3N:()=>Oi,zSh:()=>va,zs3:()=>Gu});var c=P(7579),X=P(727),O=P(9751),ae=P(6451),oe=P(3099);function ue(s){for(let o in s)if(s[o]===ue)return o;throw Error("Could not find renamed property on target object.")}function ne(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function we(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(we).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function he(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const $=ue({__forward_ref__:ue});function j(s){return s.__forward_ref__=j,s.toString=function(){return we(this())},s}function Z(s){return ze(s)?s():s}function ze(s){return"function"==typeof s&&s.hasOwnProperty($)&&s.__forward_ref__===j}class Ie extends Error{constructor(o,l){super(function st(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,l)),this.code=o}}function _e(s){return"string"==typeof s?s:null==s?"":String(s)}function Ee(s,o){throw new Ie(-201,!1)}function Le(s,o){null==s&&function De(s,o,l,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${l} ${d} ${o} <=Actual]`))}(o,s,null,"!=")}function Ue(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Wt(s){return{providers:s.providers||[],imports:s.imports||[]}}function Xt(s){return $n(s,os)||$n(s,Ua)}function Rn(s){return null!==Xt(s)}function $n(s,o){return s.hasOwnProperty(o)?s[o]:null}function Di(s){return s&&(s.hasOwnProperty(Ur)||s.hasOwnProperty(Zo))?s[Ur]:null}const os=ue({\u0275prov:ue}),Ur=ue({\u0275inj:ue}),Ua=ue({ngInjectableDef:ue}),Zo=ue({ngInjectorDef:ue});var ht=(()=>((ht=ht||{})[ht.Default=0]="Default",ht[ht.Host=1]="Host",ht[ht.Self=2]="Self",ht[ht.SkipSelf=4]="SkipSelf",ht[ht.Optional=8]="Optional",ht))();let Gi;function qi(s){const o=Gi;return Gi=s,o}function Ko(s,o,l){const d=Xt(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&ht.Optional?null:void 0!==o?o:void Ee(we(s))}function ci(s){return{toString:s}.toString()}var Sn=(()=>((Sn=Sn||{})[Sn.OnPush=0]="OnPush",Sn[Sn.Default=1]="Default",Sn))(),wt=(()=>{return(s=wt||(wt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",wt;var s})();const _n=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ti={},Tt=[],Ti=ue({\u0275cmp:ue}),fn=ue({\u0275dir:ue}),Yo=ue({\u0275pipe:ue}),sn=ue({\u0275mod:ue}),ui=ue({\u0275fac:ue}),Si=ue({__NG_ELEMENT_ID__:ue});let jr=0;function Nn(s){return ci(()=>{const l=!0===s.standalone,d={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Sn.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||Tt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||wt.Emulated,id:"c"+jr++,styles:s.styles||Tt,_:null,setInput:null,schemas:s.schemas||null,tView:null},g=s.dependencies,v=s.features;return h.inputs=U(s.inputs,d),h.outputs=U(s.outputs),v&&v.forEach(E=>E(h)),h.directiveDefs=g?()=>("function"==typeof g?g():g).map(ls).filter(zn):null,h.pipeDefs=g?()=>("function"==typeof g?g():g).map(We).filter(zn):null,h})}function ls(s){return le(s)||Q(s)}function zn(s){return null!==s}function ar(s){return ci(()=>({type:s.type,bootstrap:s.bootstrap||Tt,declarations:s.declarations||Tt,imports:s.imports||Tt,exports:s.exports||Tt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function U(s,o){if(null==s)return ti;const l={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),l[h]=d,o&&(o[h]=g)}return l}const V=Nn;function q(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function le(s){return s[Ti]||null}function Q(s){return s[fn]||null}function We(s){return s[Yo]||null}function St(s){const o=le(s)||Q(s)||We(s);return null!==o&&o.standalone}function Lt(s,o){const l=s[sn]||null;if(!l&&!0===o)throw new Error(`Type ${we(s)} does not have '\u0275mod' property.`);return l}function di(s){return Array.isArray(s)&&"object"==typeof s[1]}function Zi(s){return Array.isArray(s)&&!0===s[1]}function Xo(s){return 0!=(8&s.flags)}function ql(s){return 2==(2&s.flags)}function Ts(s){return 1==(1&s.flags)}function zr(s){return null!==s.template}function Jo(s){return 0!=(256&s[2])}function Ss(s,o){return s.hasOwnProperty(ui)?s[ui]:null}class jf{constructor(o,l,d){this.previousValue=o,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function vr(){return nu}function nu(s){return s.type.prototype.ngOnChanges&&(s.setInput=iu),ja}function ja(){const s=$f(this),o=s?.current;if(o){const l=s.previous;if(l===ti)s.previous=o;else for(let d in o)l[d]=o[d];s.current=null,this.ngOnChanges(o)}}function iu(s,o,l,d){const h=$f(s)||function bo(s,o){return s[Kl]=o}(s,{previous:ti,current:null}),g=h.current||(h.current={}),v=h.previous,E=this.declaredInputs[l],D=v[E];g[E]=new jf(D&&D.currentValue,o,v===ti),s[d]=o}vr.ngInherit=!0;const Kl="__ngSimpleChanges__";function $f(s){return s[Kl]||null}function Gn(s){for(;Array.isArray(s);)s=s[0];return s}function br(s,o){return Gn(o[s])}function Ki(s,o){return Gn(o[s.index])}function ec(s,o){return s.data[o]}function $a(s,o){return s[o]}function qn(s,o){const l=o[s];return di(l)?l:l[0]}function Xs(s){return 64==(64&s[2])}function qr(s,o){return null==o?null:s[o]}function wo(s){s[18]=0}function cr(s,o){s[5]+=o;let l=s,d=s[3];for(;null!==d&&(1===o&&1===l[5]||-1===o&&0===l[5]);)d[5]+=o,l=d,d=d[3]}const Et={lFrame:Gd(null),bindingsEnabled:!0};function Hd(){return Et.bindingsEnabled}function Ae(){return Et.lFrame.lView}function Kt(){return Et.lFrame.tView}function ds(s){return Et.lFrame.contextLView=s,s[8]}function qa(s){return Et.lFrame.contextLView=null,s}function Fn(){let s=tc();for(;null!==s&&64===s.type;)s=s.parent;return s}function tc(){return Et.lFrame.currentTNode}function Bi(s,o){const l=Et.lFrame;l.currentTNode=s,l.isParent=o}function Eo(){return Et.lFrame.isParent}function ou(){Et.lFrame.isParent=!1}function Ri(){const s=Et.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Wr(){return Et.lFrame.bindingIndex++}function wr(s){const o=Et.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}function $d(s,o){const l=Et.lFrame;l.bindingIndex=l.bindingRootIndex=s,rc(o)}function rc(s){Et.lFrame.currentDirectiveIndex=s}function Wa(s){const o=Et.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function sc(){return Et.lFrame.currentQueryIndex}function Zr(s){Et.lFrame.currentQueryIndex=s}function zd(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Za(s,o,l){if(l&ht.SkipSelf){let h=o,g=s;for(;!(h=h.parent,null!==h||l&ht.Host||(h=zd(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;o=h,s=g}const d=Et.lFrame=Co();return d.currentTNode=o,d.lView=s,!0}function oc(s){const o=Co(),l=s[1];Et.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function Co(){const s=Et.lFrame,o=null===s?null:s.child;return null===o?Gd(s):o}function Gd(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Ka(){const s=Et.lFrame;return Et.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const qd=Ka;function ta(){const s=Ka();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Yi(){return Et.lFrame.selectedIndex}function xs(s){Et.lFrame.selectedIndex=s}function Ln(){const s=Et.lFrame;return ec(s.tView,s.selectedIndex)}function Io(s,o){for(let l=o.directiveStart,d=o.directiveEnd;l<d;l++){const g=s.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:D,ngAfterViewChecked:A,ngOnDestroy:k}=g;v&&(s.contentHooks||(s.contentHooks=[])).push(-l,v),E&&((s.contentHooks||(s.contentHooks=[])).push(l,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,E)),D&&(s.viewHooks||(s.viewHooks=[])).push(-l,D),A&&((s.viewHooks||(s.viewHooks=[])).push(l,A),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,A)),null!=k&&(s.destroyHooks||(s.destroyHooks=[])).push(l,k)}}function ac(s,o,l){Ya(s,o,3,l)}function eo(s,o,l,d){(3&s[2])===l&&Ya(s,o,l,d)}function Jd(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function Ya(s,o,l,d){const g=d??-1,v=o.length-1;let E=0;for(let D=void 0!==d?65535&s[18]:0;D<v;D++)if("number"==typeof o[D+1]){if(E=o[D],null!=d&&E>=d)break}else o[D]<0&&(s[18]+=65536),(E<g||-1==g)&&(Kf(s,l,o,D),s[18]=(4294901760&s[18])+D+2),D++}function Kf(s,o,l,d){const h=l[d]<0,g=l[d+1],E=s[h?-l[d]:l[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(E)}finally{}}}else try{g.call(E)}finally{}}class Qa{constructor(o,l,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function uc(s,o,l){let d=0;for(;d<l.length;){const h=l[d];if("number"==typeof h){if(0!==h)break;d++;const g=l[d++],v=l[d++],E=l[d++];s.setAttribute(o,v,E,g)}else{const g=h,v=l[++d];lu(g)?s.setProperty(o,g,v):s.setAttribute(o,g,v),d++}}return d}function Ja(s){return 3===s||4===s||6===s}function lu(s){return 64===s.charCodeAt(0)}function el(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?l=h:0===l||dc(s,l,h,null,-1===l||2===l?o[++d]:null)}}return s}function dc(s,o,l,d,h){let g=0,v=s.length;if(-1===o)v=-1;else for(;g<s.length;){const E=s[g++];if("number"==typeof E){if(E===o){v=-1;break}if(E>o){v=g-1;break}}}for(;g<s.length;){const E=s[g];if("number"==typeof E)break;if(E===l){if(null===d)return void(null!==h&&(s[g+1]=h));if(d===s[g+1])return void(s[g+2]=h)}g++,null!==d&&g++,null!==h&&g++}-1!==v&&(s.splice(v,0,o),g=v+1),s.splice(g++,0,l),null!==d&&s.splice(g++,0,d),null!==h&&s.splice(g++,0,h)}function Qf(s){return-1!==s}function hc(s){return 32767&s}function fs(s,o){let l=function bv(s){return s>>16}(s),d=o;for(;l>0;)d=d[15],l--;return d}let fc=!0;function na(s){const o=fc;return fc=s,o}let uu=0;const Er={};function On(s,o){const l=ni(s,o);if(-1!==l)return l;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,hu(d.data,s),hu(o,null),hu(d.blueprint,null));const h=ia(s,o),g=s.injectorIndex;if(Qf(h)){const v=hc(h),E=fs(h,o),D=E[1].data;for(let A=0;A<8;A++)o[g+A]=E[v+A]|D[v+A]}return o[g+8]=h,g}function hu(s,o){s.push(0,0,0,0,0,0,0,0,o)}function ni(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function ia(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,d=null,h=o;for(;null!==h;){if(d=pu(h),null===d)return-1;if(l++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function tl(s,o,l){!function du(s,o,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(Si)&&(d=l[Si]),null==d&&(d=l[Si]=uu++);const h=255&d;o.data[s+(h>>5)]|=1<<h}(s,o,l)}function pc(s,o,l){if(l&ht.Optional||void 0!==s)return s;Ee()}function Xf(s,o,l,d){if(l&ht.Optional&&void 0===d&&(d=null),0==(l&(ht.Self|ht.Host))){const h=s[9],g=qi(void 0);try{return h?h.get(o,d,l&ht.Optional):Ko(o,d,l&ht.Optional)}finally{qi(g)}}return pc(d,0,l)}function nl(s,o,l,d=ht.Default,h){if(null!==s){if(1024&o[2]){const v=function rl(s,o,l,d,h){let g=s,v=o;for(;null!==g&&null!==v&&1024&v[2]&&!(256&v[2]);){const E=ra(g,v,l,d|ht.Self,Er);if(E!==Er)return E;let D=g.parent;if(!D){const A=v[21];if(A){const k=A.get(l,Er,d);if(k!==Er)return k}D=pu(v),v=v[15]}g=D}return h}(s,o,l,d,Er);if(v!==Er)return v}const g=ra(s,o,l,d,Er);if(g!==Er)return g}return Xf(o,l,d,h)}function ra(s,o,l,d,h){const g=function no(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Si)?s[Si]:void 0;return"number"==typeof o?o>=0?255&o:Jf:o}(l);if("function"==typeof g){if(!Za(o,s,d))return d&ht.Host?pc(h,0,d):Xf(o,l,d,h);try{const v=g(d);if(null!=v||d&ht.Optional)return v;Ee()}finally{qd()}}else if("number"==typeof g){let v=null,E=ni(s,o),D=-1,A=d&ht.Host?o[16][6]:null;for((-1===E||d&ht.SkipSelf)&&(D=-1===E?ia(s,o):o[E+8],-1!==D&&ih(d,!1)?(v=o[1],E=hc(D),o=fs(D,o)):E=-1);-1!==E;){const k=o[1];if(nh(g,E,k.data)){const N=xg(E,o,l,v,d,A);if(N!==Er)return N}D=o[E+8],-1!==D&&ih(d,o[1].data[E+8]===A)&&nh(g,E,o)?(v=k,E=hc(D),o=fs(D,o)):E=-1}}return h}function xg(s,o,l,d,h,g){const v=o[1],E=v.data[s+8],k=ms(E,v,l,null==d?ql(E)&&fc:d!=v&&0!=(3&E.type),h&ht.Host&&g===E);return null!==k?il(o,v,k,E):Er}function ms(s,o,l,d,h){const g=s.providerIndexes,v=o.data,E=1048575&g,D=s.directiveStart,k=g>>20,z=h?E+k:s.directiveEnd;for(let J=d?E:E+k;J<z;J++){const Ce=v[J];if(J<D&&l===Ce||J>=D&&Ce.type===l)return J}if(h){const J=v[D];if(J&&zr(J)&&J.type===l)return D}return null}function il(s,o,l,d){let h=s[l];const g=o.data;if(function lc(s){return s instanceof Qa}(h)){const v=h;v.resolving&&function _t(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Ie(-200,`Circular dependency in DI detected for ${s}${l}`)}(function me(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():_e(s)}(g[l]));const E=na(v.canSeeViewProviders);v.resolving=!0;const D=v.injectImpl?qi(v.injectImpl):null;Za(s,d,ht.Default);try{h=s[l]=v.factory(void 0,g,s,d),o.firstCreatePass&&l>=d.directiveStart&&function Xd(s,o,l){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(d){const v=nu(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,v),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,v)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),g&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,g),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,g))}(l,g[l],o)}finally{null!==D&&qi(D),na(E),v.resolving=!1,qd()}}return h}function nh(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function ih(s,o){return!(s&ht.Self||s&ht.Host&&o)}class Kr{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,d){return nl(this._tNode,this._lView,o,d,l)}}function Jf(){return new Kr(Fn(),Ae())}function Vn(s){return ci(()=>{const o=s.prototype.constructor,l=o[ui]||fu(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const g=h[ui]||fu(h);if(g&&g!==l)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function fu(s){return ze(s)?()=>{const o=fu(Z(s));return o&&o()}:Ss(s)}function pu(s){const o=s[1],l=o.type;return 2===l?o.declTNode:1===l?s[6]:null}function mc(s){return function Do(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const d=l.length;let h=0;for(;h<d;){const g=l[h];if(Ja(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<d&&"string"==typeof l[h];)h++;else{if(g===o)return l[h+1];h+=2}}}return null}(Fn(),s)}const sa="__parameters__";function io(s,o,l){return ci(()=>{const d=function oa(s){return function(...l){if(s){const d=s(...l);for(const h in d)this[h]=d[h]}}}(o);function h(...g){if(this instanceof h)return d.apply(this,g),this;const v=new h(...g);return E.annotation=v,E;function E(D,A,k){const N=D.hasOwnProperty(sa)?D[sa]:Object.defineProperty(D,sa,{value:[]})[sa];for(;N.length<=k;)N.push(null);return(N[k]=N[k]||[]).push(v),D}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class ln{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Ue({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function hi(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let d=s[l];Array.isArray(d)?(o===s&&(o=s.slice(0,l)),hi(d,o)):o!==s&&o.push(d)}return o}function Cr(s,o){s.forEach(l=>Array.isArray(l)?Cr(l,o):o(l))}function ip(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function Ir(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function So(s,o){const l=[];for(let d=0;d<s;d++)l.push(o);return l}function Dr(s,o,l){let d=al(s,o);return d>=0?s[1|d]=l:(d=~d,function rp(s,o,l,d){let h=s.length;if(h==o)s.push(l,d);else if(1===h)s.push(d,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=l,s[o+1]=d}}(s,d,o,l)),d}function oh(s,o){const l=al(s,o);if(l>=0)return s[1|l]}function al(s,o){return function sp(s,o,l){let d=0,h=s.length>>l;for(;h!==d;){const g=d+(h-d>>1),v=s[g<<l];if(o===v)return g<<l;v>o?h=g:d=g+1}return~(h<<l)}(s,o,1)}const Ns={},so="__NG_DI_FLAG__",Ao="ngTempTokenPath",ap=/\n/gm,Fs="__source";let Dn;function at(s){const o=Dn;return Dn=s,o}function lp(s,o=ht.Default){if(void 0===Dn)throw new Ie(-203,!1);return null===Dn?Ko(s,void 0,o):Dn.get(s,o&ht.Optional?null:void 0,o)}function Wn(s,o=ht.Default){return(function Hr(){return Gi}()||lp)(Z(s),o)}function cl(s,o=ht.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),Wn(s,o)}function vc(s){const o=[];for(let l=0;l<s.length;l++){const d=Z(s[l]);if(Array.isArray(d)){if(0===d.length)throw new Ie(900,!1);let h,g=ht.Default;for(let v=0;v<d.length;v++){const E=d[v],D=Ls(E);"number"==typeof D?-1===D?h=E.token:g|=D:h=E}o.push(Wn(h,g))}else o.push(Wn(d))}return o}function oo(s,o){return s[so]=o,s.prototype[so]=o,s}function Ls(s){return s[so]}const Ro=oo(io("Optional"),8),Vs=oo(io("SkipSelf"),4);var Hs=(()=>((Hs=Hs||{})[Hs.Important=1]="Important",Hs[Hs.DashCase=2]="DashCase",Hs))();const fp=new Map;let K0=0;const Iu="__ngContext__";function ki(s,o){di(o)?(s[Iu]=o[20],function Q0(s){fp.set(s[20],s)}(o)):s[Iu]=o}function Mu(s,o){return undefined(s,o)}function yh(s){const o=s[3];return Zi(o)?o[3]:o}function Cc(s){return js(s[13])}function Ic(s){return js(s[4])}function js(s){for(;null!==s&&!Zi(s);)s=s[4];return s}function Dc(s,o,l,d,h){if(null!=d){let g,v=!1;Zi(d)?g=d:di(d)&&(v=!0,d=d[0]);const E=Gn(d);0===s&&null!==l?null==h?pa(o,l,E):Po(o,l,E,h||null,!0):1===s&&null!==l?Po(o,l,E,h||null,!0):2===s?function Ih(s,o,l){const d=ma(s,o);d&&function jg(s,o,l,d){s.removeChild(o,l,d)}(s,d,o,l)}(o,E,v):3===s&&o.destroyNode(E),null!=g&&function Tp(s,o,l,d,h){const g=l[7];g!==Gn(l)&&Dc(o,s,d,g,h);for(let E=10;E<l.length;E++){const D=l[E];Tc(D[1],D,s,o,d,g)}}(o,s,g,l,h)}}function vp(s,o,l){return s.createElement(o,l)}function wp(s,o){const l=s[9],d=l.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,cr(h,-1)),l.splice(d,1)}function Ug(s,o){if(s.length<=10)return;const l=10+o,d=s[l];if(d){const h=d[17];null!==h&&h!==s&&wp(h,d),o>0&&(s[l-1][4]=d[4]);const g=Ir(s,10+o);!function Lg(s,o){Tc(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const v=g[19];null!==v&&v.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function vh(s,o){if(!(128&o[2])){const l=o[11];l.destroyNode&&Tc(s,o,l,3,null,null),function Dv(s){let o=s[13];if(!o)return Ep(s[1],s);for(;o;){let l=null;if(di(o))l=o[13];else{const d=o[10];d&&(l=d)}if(!l){for(;o&&!o[4]&&o!==s;)di(o)&&Ep(o[1],o),o=o[3];null===o&&(o=s),di(o)&&Ep(o[1],o),l=o&&o[4]}o=l}}(o)}}function Ep(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function Ru(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let d=0;d<l.length;d+=2){const h=o[l[d]];if(!(h instanceof Qa)){const g=l[d+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const E=h[g[v]],D=g[v+1];try{D.call(E)}finally{}}else try{g.call(h)}finally{}}}}(s,o),function Cp(s,o){const l=s.cleanup,d=o[7];let h=-1;if(null!==l)for(let g=0;g<l.length-1;g+=2)if("string"==typeof l[g]){const v=l[g+1],E="function"==typeof v?v(o):Gn(o[v]),D=d[h=l[g+2]],A=l[g+3];"boolean"==typeof A?E.removeEventListener(l[g],D,A):A>=0?d[h=A]():d[h=-A].unsubscribe(),g+=2}else{const v=d[h=l[g+1]];l[g].call(v)}if(null!==d){for(let g=h+1;g<d.length;g++)(0,d[g])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const l=o[17];if(null!==l&&Zi(o[3])){l!==o[3]&&wp(l,o);const d=o[19];null!==d&&d.detachView(s)}!function X0(s){fp.delete(s[20])}(o)}}function Hg(s,o,l){return function Sv(s,o,l){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return l[0];if(2&d.flags){const h=s.data[d.directiveStart].encapsulation;if(h===wt.None||h===wt.Emulated)return null}return Ki(d,l)}(s,o.parent,l)}function Po(s,o,l,d,h){s.insertBefore(o,l,d,h)}function pa(s,o,l){s.appendChild(o,l)}function bh(s,o,l,d,h){null!==d?Po(s,o,l,d,h):pa(s,o,l)}function ma(s,o){return s.parentNode(o)}function $g(s,o,l){return Av(s,o,l)}let _l,_a,Th,Av=function Eh(s,o,l){return 40&s.type?Ki(s,l):null};function Ip(s,o,l,d){const h=Hg(s,d,o),g=o[11],E=$g(d.parent||o[6],d,o);if(null!=h)if(Array.isArray(l))for(let D=0;D<l.length;D++)bh(g,h,l[D],E,!1);else bh(g,h,l,E,!1)}function ga(s,o){if(null!==o){const l=o.type;if(3&l)return Ki(o,s);if(4&l)return Ch(-1,s[o.index]);if(8&l){const d=o.child;if(null!==d)return ga(s,d);{const h=s[o.index];return Zi(h)?Ch(-1,h):Gn(h)}}if(32&l)return Mu(o,s)()||Gn(s[o.index]);{const d=Dp(s,o);return null!==d?Array.isArray(d)?d[0]:ga(yh(s[16]),d):ga(s,o.next)}}return null}function Dp(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Ch(s,o){const l=10+s+1;if(l<o.length){const d=o[l],h=d[1].firstChild;if(null!==h)return ga(d,h)}return o[7]}function ku(s,o,l,d,h,g,v){for(;null!=l;){const E=d[l.index],D=l.type;if(v&&0===o&&(E&&ki(Gn(E),d),l.flags|=4),64!=(64&l.flags))if(8&D)ku(s,o,l.child,d,h,g,!1),Dc(o,s,h,E,g);else if(32&D){const A=Mu(l,d);let k;for(;k=A();)Dc(o,s,h,k,g);Dc(o,s,h,E,g)}else 16&D?Sc(s,o,d,l,h,g):Dc(o,s,h,E,g);l=v?l.projectionNext:l.next}}function Tc(s,o,l,d,h,g){ku(l,d,s.firstChild,o,h,g,!1)}function Sc(s,o,l,d,h,g){const v=l[16],D=v[6].projection[d.projection];if(Array.isArray(D))for(let A=0;A<D.length;A++)Dc(o,s,h,D[A],g);else ku(s,o,D,v[3],h,g,!0)}function Dh(s,o,l){s.setAttribute(o,"style",l)}function Sp(s,o,l){""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l)}function pi(s){return function Ap(){if(void 0===_l&&(_l=null,_n.trustedTypes))try{_l=_n.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return _l}()?.createHTML(s)||s}function kv(s){_a=s}function Sh(s){return function gs(){if(void 0===Th&&(Th=null,_n.trustedTypes))try{Th=_n.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Th}()?.createHTML(s)||s}class vl{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class xp extends vl{getTypeName(){return"HTML"}}class Ar extends vl{getTypeName(){return"Style"}}class Pu extends vl{getTypeName(){return"Script"}}class Rp extends vl{getTypeName(){return"URL"}}class Ov extends vl{getTypeName(){return"ResourceURL"}}function Oi(s){return s instanceof vl?s.changingThisBreaksApplicationSecurity:s}function co(s,o){const l=function Pv(s){return s instanceof vl&&s.getTypeName()||null}(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}function Mh(s){return new xp(s)}function Nv(s){return new Ar(s)}function xh(s){return new Pu(s)}function Zg(s){return new Rp(s)}function bl(s){return new Ov(s)}class Yg{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(pi(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch{return null}}}class y{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const d=this.inertDocument.createElement("body");l.appendChild(d)}}getInertBodyElement(o){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=pi(o),l;const d=this.inertDocument.createElement("body");return d.innerHTML=pi(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(o){const l=o.attributes;for(let h=l.length-1;0<h;h--){const v=l.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let d=o.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const m=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function b(s){return(s=String(s)).match(m)?s:"unsafe:"+s}function S(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function R(...s){const o={};for(const l of s)for(const d in l)l.hasOwnProperty(d)&&(o[d]=!0);return o}const H=S("area,br,col,hr,img,wbr"),K=S("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Re=S("rp,rt"),Pn=R(H,R(K,S("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),R(Re,S("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),R(Re,K)),Mr=S("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),kp=R(Mr,S("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),S("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Op=S("script,style,template");class Xg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,d=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?d=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,d&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let h=this.checkClobberedElement(l,l.nextSibling);if(h){l=h;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!Pn.hasOwnProperty(l))return this.sanitizedSomething=!0,!Op.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const d=o.attributes;for(let h=0;h<d.length;h++){const g=d.item(h),v=g.name,E=v.toLowerCase();if(!kp.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let D=g.value;Mr[E]&&(D=b(D)),this.buf.push(" ",v,'="',Jg(D),'"')}return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();Pn.hasOwnProperty(l)&&!H.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(Jg(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const Rh=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Pp=/([^\#-~ |!])/g;function Jg(s){return s.replace(/&/g,"&amp;").replace(Rh,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Pp,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Nu;function kh(s,o){let l=null;try{Nu=Nu||function Kg(s){const o=new y(s);return function p(){try{return!!(new window.DOMParser).parseFromString(pi(""),"text/html")}catch{return!1}}()?new Yg(o):o}(s);let d=o?String(o):"";l=Nu.getInertBodyElement(d);let h=5,g=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=g,g=l.innerHTML,l=Nu.getInertBodyElement(d)}while(d!==g);return pi((new Xg).sanitizeChildren(Np(l)||l))}finally{if(l){const d=Np(l)||l;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Np(s){return"content"in s&&function e_(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var mi=(()=>((mi=mi||{})[mi.NONE=0]="NONE",mi[mi.HTML=1]="HTML",mi[mi.STYLE=2]="STYLE",mi[mi.SCRIPT=3]="SCRIPT",mi[mi.URL=4]="URL",mi[mi.RESOURCE_URL=5]="RESOURCE_URL",mi))();function DT(s){const o=Lp();return o?Sh(o.sanitize(mi.HTML,s)||""):co(s,"HTML")?Sh(Oi(s)):kh(function Ou(){return void 0!==_a?_a:typeof document<"u"?document:void 0}(),_e(s))}function t_(s){const o=Lp();return o?o.sanitize(mi.URL,s)||"":co(s,"URL")?Oi(s):b(_e(s))}function Lp(){const s=Ae();return s&&s[12]}const i_=new ln("ENVIRONMENT_INITIALIZER"),Oh=new ln("INJECTOR",-1),iE=new ln("INJECTOR_DEF_TYPES");class r_{get(o,l=Ns){if(l===Ns){const d=new Error(`NullInjectorError: No provider for ${we(o)}!`);throw d.name="NullInjectorError",d}return l}}function rE(...s){return{\u0275providers:sE(0,s)}}function sE(s,...o){const l=[],d=new Set;let h;return Cr(o,g=>{const v=g;Ac(v,l,[],d)&&(h||(h=[]),h.push(v))}),void 0!==h&&Fo(h,l),l}function Fo(s,o){for(let l=0;l<s.length;l++){const{providers:h}=s[l];Cr(h,g=>{o.push(g)})}}function Ac(s,o,l,d){if(!(s=Z(s)))return!1;let h=null,g=Di(s);const v=!g&&le(s);if(g||v){if(v&&!v.standalone)return!1;h=s}else{const D=s.ngModule;if(g=Di(D),!g)return!1;h=D}const E=d.has(h);if(v){if(E)return!1;if(d.add(h),v.dependencies){const D="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const A of D)Ac(A,o,l,d)}}else{if(!g)return!1;{if(null!=g.imports&&!E){let A;d.add(h);try{Cr(g.imports,k=>{Ac(k,o,l,d)&&(A||(A=[]),A.push(k))})}finally{}void 0!==A&&Fo(A,o)}if(!E){const A=Ss(h)||(()=>new h);o.push({provide:h,useFactory:A,deps:Tt},{provide:iE,useValue:h,multi:!0},{provide:i_,useValue:()=>Wn(h),multi:!0})}const D=g.providers;null==D||E||Cr(D,k=>{o.push(k)})}}return h!==s&&void 0!==s.providers}const Fu=ue({provide:String,useValue:ue});function Pi(s){return null!==s&&"object"==typeof s&&Fu in s}function Qn(s){return"function"==typeof s}const va=new ln("Set Injector scope."),Xn={},xr={};let Nh;function Vp(){return void 0===Nh&&(Nh=new r_),Nh}class Lu{}class ba extends Lu{constructor(o,l,d,h){super(),this.parent=l,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Fh(o,v=>this.processProvider(v)),this.records.set(Oh,Ea(void 0,this)),h.has("environment")&&this.records.set(Lu,Ea(void 0,this));const g=this.records.get(va);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(iE.multi,Tt,ht.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const l=at(this),d=qi(void 0);try{return o()}finally{at(l),qi(d)}}get(o,l=Ns,d=ht.Default){this.assertNotDestroyed();const h=at(this),g=qi(void 0);try{if(!(d&ht.SkipSelf)){let E=this.records.get(o);if(void 0===E){const D=function AT(s){return"function"==typeof s||"object"==typeof s&&s instanceof ln}(o)&&Xt(o);E=D&&this.injectableDefInScope(D)?Ea(wa(o),Xn):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(d&ht.Self?Vp():this.parent).get(o,l=d&ht.Optional&&l===Ns?null:l)}catch(v){if("NullInjectorError"===v.name){if((v[Ao]=v[Ao]||[]).unshift(we(o)),h)throw v;return function dr(s,o,l,d){const h=s[Ao];throw o[Fs]&&h.unshift(o[Fs]),s.message=function xo(s,o,l,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=we(o);if(Array.isArray(o))h=o.map(we).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let E=o[v];g.push(v+":"+("string"==typeof E?JSON.stringify(E):we(E)))}h=`{${g.join(", ")}}`}return`${l}${d?"("+d+")":""}[${h}]: ${s.replace(ap,"\n  ")}`}("\n"+s.message,h,l,d),s.ngTokenPath=h,s[Ao]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{qi(g),at(h)}}resolveInjectorInitializers(){const o=at(this),l=qi(void 0);try{const d=this.get(i_.multi,Tt,ht.Self);for(const h of d)h()}finally{at(o),qi(l)}}toString(){const o=[],l=this.records;for(const d of l.keys())o.push(we(d));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ie(205,!1)}processProvider(o){let l=Qn(o=Z(o))?o:Z(o&&o.provide);const d=function wl(s){return Pi(s)?Ea(void 0,s.useValue):Ea(oE(s),Xn)}(o);if(Qn(o)||!0!==o.multi)this.records.get(l);else{let h=this.records.get(l);h||(h=Ea(void 0,Xn,!0),h.factory=()=>vc(h.multi),this.records.set(l,h)),l=o,h.multi.push(o)}this.records.set(l,d)}hydrate(o,l){return l.value===Xn&&(l.value=xr,l.value=l.factory()),"object"==typeof l.value&&l.value&&function aE(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=Z(o.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function wa(s){const o=Xt(s),l=null!==o?o.factory:Ss(s);if(null!==l)return l;if(s instanceof ln)throw new Ie(204,!1);if(s instanceof Function)return function Ni(s){const o=s.length;if(o>0)throw So(o,"?"),new Ie(204,!1);const l=function Li(s){const o=s&&(s[os]||s[Ua]);if(o){const l=function sr(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Ie(204,!1)}function oE(s,o,l){let d;if(Qn(s)){const h=Z(s);return Ss(h)||wa(h)}if(Pi(s))d=()=>Z(s.useValue);else if(function Fv(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...vc(s.deps||[]));else if(function s_(s){return!(!s||!s.useExisting)}(s))d=()=>Wn(Z(s.useExisting));else{const h=Z(s&&(s.useClass||s.provide));if(!function Lv(s){return!!s.deps}(s))return Ss(h)||wa(h);d=()=>new h(...vc(s.deps))}return d}function Ea(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function Vv(s){return!!s.\u0275providers}function Fh(s,o){for(const l of s)Array.isArray(l)?Fh(l,o):Vv(l)?Fh(l.\u0275providers,o):o(l)}class Lh{}class xT{resolveComponentFactory(o){throw function MT(s){const o=Error(`No component factory found for ${we(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let _s=(()=>{class s{}return s.NULL=new xT,s})();function lE(){return Bu(Fn(),Ae())}function Bu(s,o){return new Vh(Ki(s,o))}let Vh=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=lE,s})();function $R(s){return s instanceof Vh?s.nativeElement:s}class El{}let Bv=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function RT(){const s=Ae(),l=qn(Fn().index,s);return(di(l)?l:s)[11]}(),s})(),kT=(()=>{class s{}return s.\u0275prov=Ue({token:s,providedIn:"root",factory:()=>null}),s})();class Uv{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Hv=new Uv("14.3.0"),jv={};function a_(s){return s.ngOriginalError}class Bh{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o);this._console.error("ERROR",o),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&a_(o);for(;l&&a_(l);)l=a_(l);return l||null}}function Lo(s){return s instanceof Function?s():s}function d_(s,o,l){let d=s.length;for(;;){const h=s.indexOf(o,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=o.length;if(h+g===d||s.charCodeAt(h+g)<=32)return h}l=h+1}}const zv="ng-template";function cE(s,o,l){let d=0;for(;d<s.length;){let h=s[d++];if(l&&"class"===h){if(h=s[d],-1!==d_(h.toLowerCase(),o,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function uE(s){return 4===s.type&&s.value!==zv}function VT(s,o,l){return o===(4!==s.type||l?s.value:zv)}function BT(s,o,l){let d=4;const h=s.attrs||[],g=function jT(s){for(let o=0;o<s.length;o++)if(Ja(s[o]))return o;return s.length}(h);let v=!1;for(let E=0;E<o.length;E++){const D=o[E];if("number"!=typeof D){if(!v)if(4&d){if(d=2|1&d,""!==D&&!VT(s,D,l)||""===D&&1===o.length){if(ys(d))return!1;v=!0}}else{const A=8&d?D:o[++E];if(8&d&&null!==s.attrs){if(!cE(s.attrs,A,l)){if(ys(d))return!1;v=!0}continue}const N=UT(8&d?"class":D,h,uE(s),l);if(-1===N){if(ys(d))return!1;v=!0;continue}if(""!==A){let z;z=N>g?"":h[N+1].toLowerCase();const J=8&d?z:null;if(J&&-1!==d_(J,A,0)||2&d&&A!==z){if(ys(d))return!1;v=!0}}}}else{if(!v&&!ys(d)&&!ys(D))return!1;if(v&&ys(D))continue;v=!1,d=D|1&d}}return ys(d)||v}function ys(s){return 0==(1&s)}function UT(s,o,l,d){if(null===o)return-1;let h=0;if(d||!l){let g=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)g=!0;else{if(1===v||2===v){let E=o[++h];for(;"string"==typeof E;)E=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=g?1:2}return-1}return function $T(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const d=s[l];if("number"==typeof d)return-1;if(d===o)return l;l++}return-1}(o,s)}function dE(s,o,l=!1){for(let d=0;d<o.length;d++)if(BT(s,o[d],l))return!0;return!1}function Gv(s,o){e:for(let l=0;l<o.length;l++){const d=o[l];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function Hp(s,o){return s?":not("+o.trim()+")":o}function zT(s){let o=s[0],l=1,d=2,h="",g=!1;for(;l<s.length;){let v=s[l];if("string"==typeof v)if(2&d){const E=s[++l];h+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&d?h+="."+v:4&d&&(h+=" "+v);else""!==h&&!ys(v)&&(o+=Hp(g,h),h=""),d=v,g=g||!ys(d);l++}return""!==h&&(o+=Hp(g,h)),o}const zt={};function hE(s){fE(Kt(),Ae(),Yi()+s,!1)}function fE(s,o,l,d){if(!d)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&ac(o,g,l)}else{const g=s.preOrderHooks;null!==g&&eo(o,g,0,l)}xs(l)}function _E(s,o=null,l=null,d){const h=Zv(s,o,l,d);return h.resolveInjectorInitializers(),h}function Zv(s,o=null,l=null,d,h=new Set){const g=[l||Tt,rE(s)];return d=d||("object"==typeof s?void 0:we(s)),new ba(g,o||Vp(),d||null,h)}let Gu=(()=>{class s{static create(l,d){if(Array.isArray(l))return _E({name:""},d,l,"");{const h=l.name??"";return _E({name:h},l.parent,l.providers,h)}}}return s.THROW_IF_NOT_FOUND=Ns,s.NULL=new r_,s.\u0275prov=Ue({token:s,providedIn:"any",factory:()=>Wn(Oh)}),s.__NG_ELEMENT_ID__=-1,s})();function Zu(s,o=ht.Default){const l=Ae();return null===l?Wn(s,o):nl(Fn(),l,Z(s),o)}function IE(){throw new Error("invalid")}function Gp(s,o){return s<<17|o<<2}function Bo(s){return s>>17&32767}function Wp(s){return 2|s}function Ca(s){return(131068&s)>>2}function Zp(s,o){return-131069&s|o<<2}function Jv(s){return 1|s}function OE(s,o){const l=s.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const h=l[d],g=l[d+1];if(-1!==g){const v=s.data[g];Zr(h),v.contentQueries(2,o[g],g)}}}function nb(s,o,l,d,h,g,v,E,D,A,k){const N=o.blueprint.slice();return N[0]=h,N[2]=76|d,(null!==k||s&&1024&s[2])&&(N[2]|=1024),wo(N),N[3]=N[15]=s,N[8]=l,N[10]=v||s&&s[10],N[11]=E||s&&s[11],N[12]=D||s&&s[12]||null,N[9]=A||s&&s[9]||null,N[6]=g,N[20]=function Y0(){return K0++}(),N[21]=k,N[16]=2==o.type?s[16]:N,N}function zh(s,o,l,d,h){let g=s.data[o];if(null===g)g=function Jp(s,o,l,d,h){const g=tc(),v=Eo(),D=s.data[o]=function ob(s,o,l,d,h,g){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,l,o,d,h);return null===s.firstChild&&(s.firstChild=D),null!==g&&(v?null==g.child&&null!==D.parent&&(g.child=D):null===g.next&&(g.next=D)),D}(s,o,l,d,h),function ic(){return Et.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=l,g.value=d,g.attrs=h;const v=function Ms(){const s=Et.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return Bi(g,!0),g}function Dl(s,o,l,d){if(0===l)return-1;const h=o.length;for(let g=0;g<l;g++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function Mc(s,o,l){oc(o);try{const d=s.viewQuery;null!==d&&ub(1,d,l);const h=s.template;null!==h&&PE(s,o,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&OE(s,o),s.staticViewQueries&&ub(2,s.viewQuery,l);const g=s.components;null!==g&&function uS(s,o){for(let l=0;l<o.length;l++)WE(s,o[l])}(o,g)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,ta()}}function C_(s,o,l,d){const h=o[2];if(128!=(128&h)){oc(o);try{wo(o),function au(s){return Et.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&PE(s,o,l,2,d);const v=3==(3&h);if(v){const A=s.preOrderCheckHooks;null!==A&&ac(o,A,null)}else{const A=s.preOrderHooks;null!==A&&eo(o,A,0,null),Jd(o,0)}if(function qE(s){for(let o=Cc(s);null!==o;o=Ic(o)){if(!o[2])continue;const l=o[9];for(let d=0;d<l.length;d++){const h=l[d],g=h[3];0==(512&h[2])&&cr(g,1),h[2]|=512}}}(o),function _S(s){for(let o=Cc(s);null!==o;o=Ic(o))for(let l=10;l<o.length;l++){const d=o[l],h=d[1];Xs(d)&&C_(h,d,h.template,d[8])}}(o),null!==s.contentQueries&&OE(s,o),v){const A=s.contentCheckHooks;null!==A&&ac(o,A)}else{const A=s.contentHooks;null!==A&&eo(o,A,1),Jd(o,1)}!function lS(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const h=l[d];if(h<0)xs(~h);else{const g=h,v=l[++d],E=l[++d];$d(v,g),E(2,o[g])}}}finally{xs(-1)}}(s,o);const E=s.components;null!==E&&function cS(s,o){for(let l=0;l<o.length;l++)yS(s,o[l])}(o,E);const D=s.viewQuery;if(null!==D&&ub(2,D,d),v){const A=s.viewCheckHooks;null!==A&&ac(o,A)}else{const A=s.viewHooks;null!==A&&eo(o,A,2),Jd(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,cr(o[3],-1))}finally{ta()}}}function PE(s,o,l,d,h){const g=Yi(),v=2&d;try{xs(-1),v&&o.length>22&&fE(s,o,22,!1),l(d,h)}finally{xs(g)}}function NE(s,o,l){if(Xo(o)){const h=o.directiveEnd;for(let g=o.directiveStart;g<h;g++){const v=s.data[g];v.contentQueries&&v.contentQueries(1,l[g],g)}}}function ib(s,o,l){!Hd()||(function M_(s,o,l,d){const h=l.directiveStart,g=l.directiveEnd;s.firstCreatePass||On(l,o),ki(d,o);const v=l.initialInputs;for(let E=h;E<g;E++){const D=s.data[E],A=zr(D);A&&x_(o,l,D);const k=il(o,s,E,l);ki(k,o),null!==v&&mS(0,E-h,k,D,0,v),A&&(qn(l.index,o)[8]=k)}}(s,o,l,Ki(l,o)),128==(128&l.flags)&&function UE(s,o,l){const d=l.directiveStart,h=l.directiveEnd,g=l.index,v=function ea(){return Et.lFrame.currentDirectiveIndex}();try{xs(g);for(let E=d;E<h;E++){const D=s.data[E],A=o[E];rc(E),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&Gh(D,A)}}finally{xs(-1),rc(v)}}(s,o,l))}function rb(s,o,l=Ki){const d=o.localNames;if(null!==d){let h=o.index+1;for(let g=0;g<d.length;g+=2){const v=d[g+1],E=-1===v?l(o,s):s[v];s[h++]=E}}}function FE(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=sb(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function sb(s,o,l,d,h,g,v,E,D,A){const k=22+d,N=k+h,z=function dS(s,o){const l=[];for(let d=0;d<o;d++)l.push(d<s?null:zt);return l}(k,N),J="function"==typeof A?A():A;return z[1]={type:s,blueprint:z,template:l,queries:null,viewQuery:E,declTNode:o,data:z.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:D,consts:J,incompleteFirstPass:!1}}function VE(s,o,l,d){const h=KE(o);null===l?h.push(d):(h.push(l),s.firstCreatePass&&YE(s).push(d,h.length-1))}function ab(s,o,l){for(let d in s)if(s.hasOwnProperty(d)){const h=s[d];(l=null===l?{}:l).hasOwnProperty(d)?l[d].push(o,h):l[d]=[o,h]}return l}function I_(s,o){const d=o.directiveEnd,h=s.data,g=o.attrs,v=[];let E=null,D=null;for(let A=o.directiveStart;A<d;A++){const k=h[A],N=k.inputs,z=null===g||uE(o)?null:gS(N,g);v.push(z),E=ab(N,A,E),D=ab(k.outputs,A,D)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=16),E.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=E,o.outputs=D}function $s(s,o,l,d,h,g,v,E){const D=Ki(o,l);let k,A=o.inputs;!E&&null!=A&&(k=A[d])?(N_(s,l,k,d,h),ql(o)&&BE(l,o.index)):3&o.type&&(d=function D_(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=v?v(h,o.value||"",d):h,g.setProperty(D,d,h))}function BE(s,o){const l=qn(o,s);16&l[2]||(l[2]|=32)}function S_(s,o,l,d){let h=!1;if(Hd()){const g=function HE(s,o,l){const d=s.directiveRegistry;let h=null;if(d)for(let g=0;g<d.length;g++){const v=d[g];dE(l,v.selectors,!1)&&(h||(h=[]),tl(On(l,o),s,v.type),zr(v)?(jE(s,l),h.unshift(v)):h.push(v))}return h}(s,o,l),v=null===d?null:{"":-1};if(null!==g){h=!0,$E(l,s.data.length,g.length);for(let k=0;k<g.length;k++){const N=g[k];N.providersResolver&&N.providersResolver(N)}let E=!1,D=!1,A=Dl(s,o,g.length,null);for(let k=0;k<g.length;k++){const N=g[k];l.mergedAttrs=el(l.mergedAttrs,N.hostAttrs),zE(s,l,o,A,N),pS(A,N,v),null!==N.contentQueries&&(l.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(l.flags|=128);const z=N.type.prototype;!E&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),E=!0),!D&&(z.ngOnChanges||z.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),D=!0),A++}I_(s,l)}v&&function fS(s,o,l){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const g=l[o[h+1]];if(null==g)throw new Ie(-301,!1);d.push(o[h],g)}}}(l,d,v)}return l.mergedAttrs=el(l.mergedAttrs,l.attrs),h}function lb(s,o,l,d,h,g){const v=g.hostBindings;if(v){let E=s.hostBindingOpCodes;null===E&&(E=s.hostBindingOpCodes=[]);const D=~o.index;(function A_(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(E)!=D&&E.push(D),E.push(d,h,v)}}function Gh(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function jE(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function pS(s,o,l){if(l){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)l[o.exportAs[d]]=s;zr(o)&&(l[""]=s)}}function $E(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function zE(s,o,l,d,h){s.data[d]=h;const g=h.factory||(h.factory=Ss(h.type)),v=new Qa(g,zr(h),Zu);s.blueprint[d]=v,l[d]=v,lb(s,o,0,d,Dl(s,l,h.hostVars,zt),h)}function x_(s,o,l){const d=Ki(o,s),h=FE(l),g=s[10],v=em(s,nb(s,h,null,l.onPush?32:16,d,o,g,g.createRenderer(d,l),null,null,null));s[o.index]=v}function Ia(s,o,l,d,h,g){const v=Ki(s,o);!function cb(s,o,l,d,h,g,v){if(null==g)s.removeAttribute(o,h,l);else{const E=null==v?_e(g):v(g,d||"",h);s.setAttribute(o,h,E,l)}}(o[11],v,g,s.value,l,d,h)}function mS(s,o,l,d,h,g){const v=g[o];if(null!==v){const E=d.setInput;for(let D=0;D<v.length;){const A=v[D++],k=v[D++],N=v[D++];null!==E?d.setInput(l,N,A,k):l[k]=N}}}function gS(s,o){let l=null,d=0;for(;d<o.length;){const h=o[d];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,s[h],o[d+1])),d+=2}else d+=2;else d+=4}return l}function GE(s,o,l,d){return new Array(s,!0,!1,o,null,0,d,l,null,null)}function yS(s,o){const l=qn(o,s);if(Xs(l)){const d=l[1];48&l[2]?C_(d,l,d.template,l[8]):l[5]>0&&R_(l)}}function R_(s){for(let d=Cc(s);null!==d;d=Ic(d))for(let h=10;h<d.length;h++){const g=d[h];if(Xs(g))if(512&g[2]){const v=g[1];C_(v,g,v.template,g[8])}else g[5]>0&&R_(g)}const l=s[1].components;if(null!==l)for(let d=0;d<l.length;d++){const h=qn(l[d],s);Xs(h)&&h[5]>0&&R_(h)}}function WE(s,o){const l=qn(o,s),d=l[1];(function ZE(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(d,l),Mc(d,l,l[8])}function em(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function k_(s){for(;s;){s[2]|=32;const o=yh(s);if(Jo(s)&&!o)return s;s=o}return null}function O_(s,o,l,d=!0){const h=o[10];h.begin&&h.begin();try{C_(s,o,s.template,l)}catch(v){throw d&&P_(o,v),v}finally{h.end&&h.end()}}function ub(s,o,l){Zr(0),o(s,l)}function KE(s){return s[7]||(s[7]=[])}function YE(s){return s.cleanup||(s.cleanup=[])}function db(s,o,l){return(null===s||zr(s))&&(l=function As(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(l[o.index])),l[11]}function P_(s,o){const l=s[9],d=l?l.get(Bh,null):null;d&&d.handleError(o)}function N_(s,o,l,d,h){for(let g=0;g<l.length;){const v=l[g++],E=l[g++],D=o[v],A=s.data[v];null!==A.setInput?A.setInput(D,h,d,E):D[E]=h}}function hb(s,o,l){let d=l?s.styles:null,h=l?s.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const E=o[v];"number"==typeof E?g=E:1==g?h=he(h,E):2==g&&(d=he(d,E+": "+o[++v]+";"))}l?s.styles=d:s.stylesWithoutHost=d,l?s.classes=h:s.classesWithoutHost=h}function F_(s,o,l,d,h=!1){for(;null!==l;){const g=o[l.index];if(null!==g&&d.push(Gn(g)),Zi(g))for(let E=10;E<g.length;E++){const D=g[E],A=D[1].firstChild;null!==A&&F_(D[1],D,A,d)}const v=l.type;if(8&v)F_(s,o,l.child,d);else if(32&v){const E=Mu(l,o);let D;for(;D=E();)d.push(D)}else if(16&v){const E=Dp(o,l);if(Array.isArray(E))d.push(...E);else{const D=yh(o[16]);F_(D[1],D,E,d,!0)}}l=h?l.projectionNext:l.next}return d}class tm{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return F_(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Zi(o)){const l=o[8],d=l?l.indexOf(this):-1;d>-1&&(Ug(o,d),Ir(l,d))}this._attachedToViewContainer=!1}vh(this._lView[1],this._lView)}onDestroy(o){VE(this._lView[1],this._lView,null,o)}markForCheck(){k_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){O_(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Vg(s,o){Tc(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Ie(902,!1);this._appRef=o}}class vS extends tm{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;O_(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class fb extends _s{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=le(o);return new Qu(l,this.ngModule)}}function nm(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class pb{constructor(o,l){this.injector=o,this.parentInjector=l}get(o,l,d){const h=this.injector.get(o,jv,d);return h!==jv||l===jv?h:this.parentInjector.get(o,l,d)}}class Qu extends Lh{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function $u(s){return s.map(zT).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return nm(this.componentDef.inputs)}get outputs(){return nm(this.componentDef.outputs)}create(o,l,d,h){let g=(h=h||this.ngModule)instanceof Lu?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new pb(o,g):o,E=v.get(El,null);if(null===E)throw new Ie(407,!1);const D=v.get(kT,null),A=E.createRenderer(null,this.componentDef),k=this.componentDef.selectors[0][0]||"div",N=d?function LE(s,o,l){return s.selectRootElement(o,l===wt.ShadowDom)}(A,d,this.componentDef.encapsulation):vp(A,k,function QE(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(k)),z=this.componentDef.onPush?288:272,J=sb(0,null,null,1,0,null,null,null,null,null),Ce=nb(null,J,null,z,null,null,E,A,D,v,null);let Be,qe;oc(Ce);try{const ft=function wS(s,o,l,d,h,g){const v=l[1];l[22]=s;const D=zh(v,22,2,"#host",null),A=D.mergedAttrs=o.hostAttrs;null!==A&&(hb(D,A,!0),null!==s&&(uc(h,s,A),null!==D.classes&&Sp(h,s,D.classes),null!==D.styles&&Dh(h,s,D.styles)));const k=d.createRenderer(s,o),N=nb(l,FE(o),null,o.onPush?32:16,l[22],D,d,k,g||null,null,null);return v.firstCreatePass&&(tl(On(D,l),v,o.type),jE(v,D),$E(D,l.length,1)),em(l,N),l[22]=N}(N,this.componentDef,Ce,E,A);if(N)if(d)uc(A,N,["ng-version",Hv.full]);else{const{attrs:Mt,classes:ge}=function qv(s){const o=[],l=[];let d=1,h=2;for(;d<s.length;){let g=s[d];if("string"==typeof g)2===h?""!==g&&o.push(g,s[++d]):8===h&&l.push(g);else{if(!ys(h))break;h=g}d++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);Mt&&uc(A,N,Mt),ge&&ge.length>0&&Sp(A,N,ge.join(" "))}if(qe=ec(J,22),void 0!==l){const Mt=qe.projection=[];for(let ge=0;ge<this.ngContentSelectors.length;ge++){const Ot=l[ge];Mt.push(null!=Ot?Array.from(Ot):null)}}Be=function ES(s,o,l,d){const h=l[1],g=function T_(s,o,l){const d=Fn();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),zE(s,d,o,Dl(s,o,1,null),l),I_(s,d));const h=il(o,s,d.directiveStart,d);ki(h,o);const g=Ki(d,o);return g&&ki(g,o),h}(h,l,o);if(s[8]=l[8]=g,null!==d)for(const E of d)E(g,o);if(o.contentQueries){const E=Fn();o.contentQueries(1,g,E.directiveStart)}const v=Fn();return!h.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(xs(v.index),lb(l[1],v,0,v.directiveStart,v.directiveEnd,o),Gh(o,g)),g}(ft,this.componentDef,Ce,[CS]),Mc(J,Ce,null)}finally{ta()}return new L_(this.componentType,Be,Bu(qe,Ce),Ce,qe)}}class L_ extends class Jt{}{constructor(o,l,d,h,g){super(),this.location=d,this._rootLView=h,this._tNode=g,this.instance=l,this.hostView=this.changeDetectorRef=new vS(h),this.componentType=o}setInput(o,l){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[o])){const g=this._rootLView;N_(g[1],g,h,o,l),BE(g,this._tNode.index)}}get injector(){return new Kr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function CS(){const s=Fn();Io(Ae()[1],s)}function V_(s){let o=function XE(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const d=[s];for(;o;){let h;if(zr(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Ie(903,!1);h=o.\u0275dir}if(h){if(l){d.push(h);const v=s;v.inputs=mb(s.inputs),v.declaredInputs=mb(s.declaredInputs),v.outputs=mb(s.outputs);const E=h.hostBindings;E&&B_(s,E);const D=h.viewQuery,A=h.contentQueries;if(D&&JE(s,D),A&&qh(s,A),ne(s.inputs,h.inputs),ne(s.declaredInputs,h.declaredInputs),ne(s.outputs,h.outputs),zr(h)&&h.data.animation){const k=s.data;k.animation=(k.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let v=0;v<g.length;v++){const E=g[v];E&&E.ngInherit&&E(s),E===V_&&(l=!1)}}o=Object.getPrototypeOf(o)}!function Xi(s){let o=0,l=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=el(h.hostAttrs,l=el(l,h.hostAttrs))}}(d)}function mb(s){return s===ti?{}:s===Tt?[]:s}function JE(s,o){const l=s.viewQuery;s.viewQuery=l?(d,h)=>{o(d,h),l(d,h)}:o}function qh(s,o){const l=s.contentQueries;s.contentQueries=l?(d,h,g)=>{o(d,h,g),l(d,h,g)}:o}function B_(s,o){const l=s.hostBindings;s.hostBindings=l?(d,h)=>{o(d,h),l(d,h)}:o}let gb=null;function Wh(){if(!gb){const s=_n.Symbol;if(s&&s.iterator)gb=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const d=o[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(gb=d)}}}return gb}function Xu(s){return!!nC(s)&&(Array.isArray(s)||!(s instanceof Map)&&Wh()in s)}function nC(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Qr(s,o,l){return s[o]=l}function Xr(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function xc(s,o,l,d){const h=Xr(s,o,l);return Xr(s,o+1,d)||h}function _b(s,o,l,d){const h=Ae();return Xr(h,Wr(),o)&&(Kt(),Ia(Ln(),h,s,o,l,d)),_b}function fr(s,o,l,d,h,g,v,E){const D=Ae(),A=Kt(),k=s+22,N=A.firstCreatePass?function H_(s,o,l,d,h,g,v,E,D){const A=o.consts,k=zh(o,s,4,v||null,qr(A,E));S_(o,l,k,qr(A,D)),Io(o,k);const N=k.tViews=sb(2,k,d,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,A);return null!==o.queries&&(o.queries.template(o,k),N.queries=o.queries.embeddedTView(k)),k}(k,A,D,o,l,d,h,g,v):A.data[k];Bi(N,!1);const z=D[11].createComment("");Ip(A,D,z,N),ki(z,D),em(D,D[k]=GE(z,D,z,N)),Ts(N)&&ib(A,D,N),null!=v&&rb(D,N,E)}function j_(s){return $a(function Mn(){return Et.lFrame.contextLView}(),22+s)}function wb(s,o,l){const d=Ae();return Xr(d,Wr(),o)&&$s(Kt(),Ln(),d,s,o,d[11],l,!1),wb}function dC(s,o,l,d,h){const v=h?"class":"style";N_(s,l,o.inputs[v],v,d)}function ye(s,o,l,d){const h=Ae(),g=Kt(),v=22+s,E=h[11],D=h[v]=vp(E,o,function Qd(){return Et.lFrame.currentNamespace}()),A=g.firstCreatePass?function TS(s,o,l,d,h,g,v){const E=o.consts,A=zh(o,s,2,h,qr(E,g));return S_(o,l,A,qr(E,v)),null!==A.attrs&&hb(A,A.attrs,!1),null!==A.mergedAttrs&&hb(A,A.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,A),A}(v,g,h,0,o,l,d):g.data[v];Bi(A,!0);const k=A.mergedAttrs;null!==k&&uc(E,D,k);const N=A.classes;null!==N&&Sp(E,D,N);const z=A.styles;return null!==z&&Dh(E,D,z),64!=(64&A.flags)&&Ip(g,h,D,A),0===function za(){return Et.lFrame.elementDepthCount}()&&ki(D,h),function Ud(){Et.lFrame.elementDepthCount++}(),Ts(A)&&(ib(g,h,A),NE(g,A,h)),null!==d&&rb(h,A),ye}function Ta(){let s=Fn();Eo()?ou():(s=s.parent,Bi(s,!1));const o=s;!function su(){Et.lFrame.elementDepthCount--}();const l=Kt();return l.firstCreatePass&&(Io(l,s),Xo(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Yf(s){return 0!=(16&s.flags)}(o)&&dC(l,o,Ae(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function eh(s){return 0!=(32&s.flags)}(o)&&dC(l,o,Ae(),o.stylesWithoutHost,!1),Ta}function Xh(s,o,l,d){return ye(s,o,l,d),Ta(),Xh}function an(s,o,l){const d=Ae(),h=Kt(),g=s+22,v=h.firstCreatePass?function Rc(s,o,l,d,h){const g=o.consts,v=qr(g,d),E=zh(o,s,8,"ng-container",v);return null!==v&&hb(E,v,!0),S_(o,l,E,qr(g,h)),null!==o.queries&&o.queries.elementStart(o,E),E}(g,h,d,o,l):h.data[g];Bi(v,!0);const E=d[g]=d[11].createComment("");return Ip(h,d,E,v),ki(E,d),Ts(v)&&(ib(h,d,v),NE(h,v,d)),null!=l&&rb(d,v),an}function $_(){let s=Fn();const o=Kt();return Eo()?ou():(s=s.parent,Bi(s,!1)),o.firstCreatePass&&(Io(o,s),Xo(s)&&o.queries.elementEnd(s)),$_}function Xe(){return Ae()}function om(s){return!!s&&"function"==typeof s.then}function Ut(s){return!!s&&"function"==typeof s.subscribe}const am=Ut;function Jh(s,o,l,d){const h=Ae(),g=Kt(),v=Fn();return z_(g,h,h[11],v,s,o,0,d),Jh}function nd(s,o){const l=Fn(),d=Ae(),h=Kt();return z_(h,d,db(Wa(h.data),l,d),l,s,o),nd}function z_(s,o,l,d,h,g,v,E){const D=Ts(d),k=s.firstCreatePass&&YE(s),N=o[8],z=KE(o);let J=!0;if(3&d.type||E){const qe=Ki(d,o),ft=E?E(qe):qe,Mt=z.length,ge=E?gn=>E(Gn(gn[d.index])):d.index;let Ot=null;if(!E&&D&&(Ot=function SS(s,o,l,d){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const v=h[g];if(v===l&&h[g+1]===d){const E=o[7],D=h[g+2];return E.length>D?E[D]:null}"string"==typeof v&&(g+=2)}return null}(s,o,h,d.index)),null!==Ot)(Ot.__ngLastListenerFn__||Ot).__ngNextListenerFn__=g,Ot.__ngLastListenerFn__=g,J=!1;else{g=fC(d,o,N,g,!1);const gn=l.listen(ft,h,g);z.push(g,gn),k&&k.push(h,ge,Mt,Mt+1)}}else g=fC(d,o,N,g,!1);const Ce=d.outputs;let Be;if(J&&null!==Ce&&(Be=Ce[h])){const qe=Be.length;if(qe)for(let ft=0;ft<qe;ft+=2){const xn=o[Be[ft]][Be[ft+1]].subscribe(g),Fr=z.length;z.push(g,xn),k&&k.push(h,d.index,Fr,-(Fr+1))}}}function hC(s,o,l,d){try{return!1!==l(d)}catch(h){return P_(s,h),!1}}function fC(s,o,l,d,h){return function g(v){if(v===Function)return d;k_(2&s.flags?qn(s.index,o):o);let D=hC(o,0,d,v),A=g.__ngNextListenerFn__;for(;A;)D=hC(o,0,A,v)&&D,A=A.__ngNextListenerFn__;return h&&!1===D&&(v.preventDefault(),v.returnValue=!1),D}}function pC(s=1){return function Wd(s){return(Et.lFrame.contextLView=function Wf(s,o){for(;s>0;)o=o[15],s--;return o}(s,Et.lFrame.contextLView))[8]}(s)}function kr(s,o){let l=null;const d=function HT(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let h=0;h<o.length;h++){const g=o[h];if("*"!==g){if(null===d?dE(s,g,!0):Gv(d,g))return h}else l=h}return l}function lm(s){const o=Ae()[16][6];if(!o.projection){const d=o.projection=So(s?s.length:1,null),h=d.slice();let g=o.child;for(;null!==g;){const v=s?kr(g,s):0;null!==v&&(h[v]?h[v].projectionNext=g:d[v]=g,h[v]=g),g=g.next}}}function Hi(s,o=0,l){const d=Ae(),h=Kt(),g=zh(h,22+s,16,null,l||null);null===g.projection&&(g.projection=o),ou(),64!=(64&g.flags)&&function xv(s,o,l){Sc(o[11],0,o,l,Hg(s,l,o),$g(l.parent||o[6],l,o))}(h,d,g)}function Ab(s,o,l,d,h){const g=s[l+1],v=null===o;let E=d?Bo(g):Ca(g),D=!1;for(;0!==E&&(!1===D||v);){const k=s[E+1];AS(s[E],o)&&(D=!0,s[E+1]=d?Jv(k):Wp(k)),E=d?Bo(k):Ca(k)}D&&(s[l+1]=d?Wp(g):Jv(g))}function AS(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&al(s,o)>=0}const Jn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Mb(s){return s.substring(Jn.key,Jn.keyEnd)}function _C(s,o){const l=Jn.textEnd;return l===o?-1:(o=Jn.keyEnd=function Rb(s,o,l){for(;o<l&&s.charCodeAt(o)>32;)o++;return o}(s,Jn.key=o,l),kc(s,o,l))}function kc(s,o,l){for(;o<l&&s.charCodeAt(o)<=32;)o++;return o}function id(s,o,l){return Gs(s,o,l,!1),id}function Pb(s,o){return Gs(s,o,null,!0),Pb}function bC(s){!function po(s,o,l,d){const h=Kt(),g=wr(2);h.firstUpdatePass&&Fb(h,null,g,d);const v=Ae();if(l!==zt&&Xr(v,g,l)){const E=h.data[Yi()];if(Y_(E,d)&&!Nb(h,g)){let D=d?E.classesWithoutHost:E.stylesWithoutHost;null!==D&&(l=he(D,l||"")),dC(h,E,v,l,d)}else!function CC(s,o,l,d,h,g,v,E){h===zt&&(h=Tt);let D=0,A=0,k=0<h.length?h[0]:null,N=0<g.length?g[0]:null;for(;null!==k||null!==N;){const z=D<h.length?h[D+1]:void 0,J=A<g.length?g[A+1]:void 0;let Be,Ce=null;k===N?(D+=2,A+=2,z!==J&&(Ce=N,Be=J)):null===N||null!==k&&k<N?(D+=2,Ce=k):(A+=2,Ce=N,Be=J),null!==Ce&&Ub(s,o,l,d,Ce,Be,v,E),k=D<h.length?h[D]:null,N=A<g.length?g[A]:null}}(h,E,v,v[11],v[g+1],v[g+1]=function wC(s,o,l){if(null==l||""===l)return Tt;const d=[],h=Oi(l);if(Array.isArray(h))for(let g=0;g<h.length;g++)s(d,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&s(d,g,h[g]);else"string"==typeof h&&o(d,h);return d}(s,o,l),d,g)}}(Dr,zs,s,!0)}function zs(s,o){for(let l=function gC(s){return function W_(s){Jn.key=0,Jn.keyEnd=0,Jn.value=0,Jn.valueEnd=0,Jn.textEnd=s.length}(s),_C(s,kc(s,0,Jn.textEnd))}(o);l>=0;l=_C(o,l))Dr(s,Mb(o),!0)}function Gs(s,o,l,d){const h=Ae(),g=Kt(),v=wr(2);g.firstUpdatePass&&Fb(g,s,v,d),o!==zt&&Xr(h,v,o)&&Ub(g,g.data[Yi()],h,h[11],s,h[v+1]=function RS(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=we(Oi(s)))),s}(o,l),d,v)}function Nb(s,o){return o>=s.expandoStartIndex}function Fb(s,o,l,d){const h=s.data;if(null===h[l+1]){const g=h[Yi()],v=Nb(s,l);Y_(g,d)&&null===o&&!v&&(o=!1),o=function Z_(s,o,l,d){const h=Wa(s);let g=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(l=ef(l=dm(null,s,o,l,d),o.attrs,d),g=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(l=dm(h,s,o,l,d),null===g){let D=function Lb(s,o,l){const d=l?o.classBindings:o.styleBindings;if(0!==Ca(d))return s[Bo(d)]}(s,o,d);void 0!==D&&Array.isArray(D)&&(D=dm(null,s,o,D[1],d),D=ef(D,o.attrs,d),function Vb(s,o,l,d){s[Bo(l?o.classBindings:o.styleBindings)]=d}(s,o,d,D))}else g=function Bb(s,o,l){let d;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)d=ef(d,s[g].hostAttrs,l);return ef(d,o.attrs,l)}(s,o,d)}return void 0!==g&&(d?o.residualClasses=g:o.residualStyles=g),l}(h,g,o,d),function Sa(s,o,l,d,h,g){let v=g?o.classBindings:o.styleBindings,E=Bo(v),D=Ca(v);s[d]=l;let k,A=!1;if(Array.isArray(l)){const N=l;k=N[1],(null===k||al(N,k)>0)&&(A=!0)}else k=l;if(h)if(0!==D){const z=Bo(s[E+1]);s[d+1]=Gp(z,E),0!==z&&(s[z+1]=Zp(s[z+1],d)),s[E+1]=function DE(s,o){return 131071&s|o<<17}(s[E+1],d)}else s[d+1]=Gp(E,0),0!==E&&(s[E+1]=Zp(s[E+1],d)),E=d;else s[d+1]=Gp(D,0),0===E?E=d:s[D+1]=Zp(s[D+1],d),D=d;A&&(s[d+1]=Wp(s[d+1])),Ab(s,k,d,!0),Ab(s,k,d,!1),function Sb(s,o,l,d,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&al(g,o)>=0&&(l[d+1]=Jv(l[d+1]))}(o,k,s,d,g),v=Gp(E,D),g?o.classBindings=v:o.styleBindings=v}(h,g,o,l,v,d)}}function dm(s,o,l,d,h){let g=null;const v=l.directiveEnd;let E=l.directiveStylingLast;for(-1===E?E=l.directiveStart:E++;E<v&&(g=o[E],d=ef(d,g.hostAttrs,h),g!==s);)E++;return null!==s&&(l.directiveStylingLast=E),d}function ef(s,o,l){const d=l?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?h=v:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Dr(s,v,!!l||o[++g]))}return void 0===s?null:s}function Ub(s,o,l,d,h,g,v,E){if(!(3&o.type))return;const D=s.data,A=D[E+1];hm(function m_(s){return 1==(1&s)}(A)?K_(D,o,l,h,Ca(A),v):void 0)||(hm(g)||function qp(s){return 2==(2&s)}(A)&&(g=K_(D,null,l,h,E,v)),function Gg(s,o,l,d,h){if(o)h?s.addClass(l,d):s.removeClass(l,d);else{let g=-1===d.indexOf("-")?void 0:Hs.DashCase;null==h?s.removeStyle(l,d,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=Hs.Important),s.setStyle(l,d,h,g))}}(d,v,br(Yi(),l),h,g))}function K_(s,o,l,d,h,g){const v=null===o;let E;for(;h>0;){const D=s[h],A=Array.isArray(D),k=A?D[1]:D,N=null===k;let z=l[h+1];z===zt&&(z=N?Tt:void 0);let J=N?oh(z,d):k===d?z:void 0;if(A&&!hm(J)&&(J=oh(D,d)),hm(J)&&(E=J,v))return E;const Ce=s[h+1];h=v?Bo(Ce):Ca(Ce)}if(null!==o){let D=g?o.residualClasses:o.residualStyles;null!=D&&(E=oh(D,d))}return E}function hm(s){return void 0!==s}function Y_(s,o){return 0!=(s.flags&(o?16:32))}function Q_(s,o=""){const l=Ae(),d=Kt(),h=s+22,g=d.firstCreatePass?zh(d,h,1,o,null):d.data[h],v=l[h]=function gl(s,o){return s.createText(o)}(l[11],o);Ip(d,l,v,g),Bi(g,!1)}function fm(s){return wi("",s,""),fm}function wi(s,o,l){const d=Ae(),h=function Kh(s,o,l,d){return Xr(s,Wr(),l)?o+_e(l)+d:zt}(d,s,o,l);return h!==zt&&function Da(s,o,l){const d=br(o,s);!function xu(s,o,l){s.setValue(o,l)}(s[11],d,l)}(d,Yi(),h),wi}function ty(s,o,l){const d=Ae();if(Xr(d,Wr(),o)){const g=Kt(),v=Ln();$s(g,v,d,s,o,db(Wa(g.data),v,d),l,!0)}return ty}const jo=void 0;var FC=["en",[["a","p"],["AM","PM"],jo],[["AM","PM"],jo,jo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],jo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],jo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",jo,"{1} 'at' {0}",jo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ny(s){const l=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let Pc={};function iy(s){const o=function _m(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=oy(o);if(l)return l;const d=o.split("-")[0];if(l=oy(d),l)return l;if("en"===d)return FC;throw new Ie(701,!1)}function sy(s){return iy(s)[At.PluralCase]}function oy(s){return s in Pc||(Pc[s]=_n.ng&&_n.ng.common&&_n.ng.common.locales&&_n.ng.common.locales[s]),Pc[s]}var At=(()=>((At=At||{})[At.LocaleId=0]="LocaleId",At[At.DayPeriodsFormat=1]="DayPeriodsFormat",At[At.DayPeriodsStandalone=2]="DayPeriodsStandalone",At[At.DaysFormat=3]="DaysFormat",At[At.DaysStandalone=4]="DaysStandalone",At[At.MonthsFormat=5]="MonthsFormat",At[At.MonthsStandalone=6]="MonthsStandalone",At[At.Eras=7]="Eras",At[At.FirstDayOfWeek=8]="FirstDayOfWeek",At[At.WeekendRange=9]="WeekendRange",At[At.DateFormat=10]="DateFormat",At[At.TimeFormat=11]="TimeFormat",At[At.DateTimeFormat=12]="DateTimeFormat",At[At.NumberSymbols=13]="NumberSymbols",At[At.NumberFormats=14]="NumberFormats",At[At.CurrencyCode=15]="CurrencyCode",At[At.CurrencySymbol=16]="CurrencySymbol",At[At.CurrencyName=17]="CurrencyName",At[At.Currencies=18]="Currencies",At[At.Directionality=19]="Directionality",At[At.PluralCase=20]="PluralCase",At[At.ExtraData=21]="ExtraData",At))();const Nc="en-US";let BC=Nc;function cf(s,o,l,d,h){if(s=Z(s),Array.isArray(s))for(let g=0;g<s.length;g++)cf(s[g],o,l,d,h);else{const g=Kt(),v=Ae();let E=Qn(s)?s:Z(s.provide),D=oE(s);const A=Fn(),k=1048575&A.providerIndexes,N=A.directiveStart,z=A.providerIndexes>>20;if(Qn(s)||!s.multi){const J=new Qa(D,h,Zu),Ce=Ol(E,o,h?k:k+z,N);-1===Ce?(tl(On(A,v),g,E),_y(g,s,o.length),o.push(E),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),l.push(J),v.push(J)):(l[Ce]=J,v[Ce]=J)}else{const J=Ol(E,o,k+z,N),Ce=Ol(E,o,k,k+z),Be=J>=0&&l[J],qe=Ce>=0&&l[Ce];if(h&&!qe||!h&&!Be){tl(On(A,v),g,E);const ft=function dI(s,o,l,d,h){const g=new Qa(s,l,Zu);return g.multi=[],g.index=o,g.componentProviders=0,cw(g,h,d&&!l),g}(h?uI:cI,l.length,h,d,D);!h&&qe&&(l[Ce].providerFactory=ft),_y(g,s,o.length,0),o.push(E),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),l.push(ft),v.push(ft)}else _y(g,s,J>-1?J:Ce,cw(l[h?Ce:J],D,!h&&d));!h&&d&&qe&&l[Ce].componentProviders++}}}function _y(s,o,l,d){const h=Qn(o),g=function ya(s){return!!s.useClass}(o);if(h||g){const D=(g?Z(o.useClass):o).prototype.ngOnDestroy;if(D){const A=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const k=A.indexOf(l);-1===k?A.push(l,[d,D]):A[k+1].push(d,D)}else A.push(l,D)}}}function cw(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function Ol(s,o,l,d){for(let h=l;h<d;h++)if(o[h]===s)return h;return-1}function cI(s,o,l,d){return yy(this.multi,[])}function uI(s,o,l,d){const h=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=il(l,l[1],this.providerFactory.index,d);g=E.slice(0,v),yy(h,g);for(let D=v;D<E.length;D++)g.push(E[D])}else g=[],yy(h,g);return g}function yy(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function Sm(s,o=[]){return l=>{l.providersResolver=(d,h)=>function lI(s,o,l){const d=Kt();if(d.firstCreatePass){const h=zr(s);cf(l,d.data,d.blueprint,h,!0),cf(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class er{}class uw{}function hI(s,o){return new fI(s,o??null)}class fI extends er{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new fb(this);const d=Lt(o);this._bootstrapComponents=Lo(d.bootstrap),this._r3Injector=Zv(o,l,[{provide:er,useValue:this},{provide:_s,useValue:this.componentFactoryResolver}],we(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class qs extends uw{constructor(o){super(),this.moduleType=o}create(o){return new fI(this.moduleType,o)}}class dw extends er{constructor(o,l,d){super(),this.componentFactoryResolver=new fb(this),this.instance=null;const h=new ba([...o,{provide:er,useValue:this},{provide:_s,useValue:this.componentFactoryResolver}],l||Vp(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function wn(s,o,l=null){return new dw(s,o,l).injector}let YS=(()=>{class s{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const d=sE(0,l.type),h=d.length>0?wn([d],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,h)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=Ue({token:s,providedIn:"environment",factory:()=>new s(Wn(Lu))}),s})();function vy(s){s.getStandaloneInjector=o=>o.get(YS).getOrCreateStandaloneInjector(s)}function gI(s,o,l,d){return function Nl(s,o,l,d,h,g){const v=o+l;return Xr(s,v,h)?Qr(s,v+1,g?d.call(g,h):d(h)):Aa(s,v+1)}(Ae(),Ri(),s,o,l,d)}function Aa(s,o){const l=s[o];return l===zt?void 0:l}function Fe(s,o,l,d,h,g,v,E,D){const A=o+l;return function vs(s,o,l,d,h,g){const v=xc(s,o,l,d);return xc(s,o+2,h,g)||v}(s,A,h,g,v,E)?Qr(s,A+4,D?d.call(D,h,g,v,E):d(h,g,v,E)):Aa(s,A+4)}function Ws(s,o){const l=Kt();let d;const h=s+22;l.firstCreatePass?(d=function mw(s,o){if(o)for(let l=o.length-1;l>=0;l--){const d=o[l];if(s===d.name)return d}}(o,l.pipeRegistry),l.data[h]=d,d.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(h,d.onDestroy)):d=l.data[h];const g=d.factory||(d.factory=Ss(d.type)),v=qi(Zu);try{const E=na(!1),D=g();return na(E),function bb(s,o,l,d){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),o[l]=d}(l,Ae(),h,D),D}finally{qi(v)}}function ce(s,o,l,d,h,g){const v=s+22,E=Ae(),D=$a(E,v);return function oi(s,o){return s[1].data[o].pure}(E,v)?Fe(E,Ri(),o,D.transform,l,d,h,g,D):D.transform(l,d,h,g)}function gw(s){return o=>{setTimeout(s,void 0,o)}}const Ma=class bI extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,d){let h=o,g=l||(()=>null),v=d;if(o&&"object"==typeof o){const D=o;h=D.next?.bind(D),g=D.error?.bind(D),v=D.complete?.bind(D)}this.__isAsync&&(g=gw(g),h&&(h=gw(h)),v&&(v=gw(v)));const E=super.subscribe({next:h,error:g,complete:v});return o instanceof X.w0&&o.add(E),E}};function iA(){return this._results[Wh()]()}class Dy{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Wh(),d=Dy.prototype;d[l]||(d[l]=iA)}get changes(){return this._changes||(this._changes=new Ma)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const d=this;d.dirty=!1;const h=hi(o);(this._changesDetected=!function _u(s,o,l){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],g=o[d];if(l&&(h=l(h),g=l(g)),g!==h)return!1}return!0}(d._results,h,l))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Rm=(()=>{class s{}return s.__NG_ELEMENT_ID__=pk,s})();const wI=Rm,rA=class extends wI{constructor(o,l,d){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(o,l){const d=this._declarationTContainer.tViews,h=nb(this._declarationLView,d,o,16,null,d.declTNode,null,null,null,null,l||null);h[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(h[19]=v.createEmbeddedView(d)),Mc(d,h,o),new tm(h)}};function pk(){return Ty(Fn(),Ae())}function Ty(s,o){return 4&s.type?new rA(o,s,Bu(s,o)):null}let km=(()=>{class s{}return s.__NG_ELEMENT_ID__=Ht,s})();function Ht(){return ff(Fn(),Ae())}const hf=km,_w=class extends hf{constructor(o,l,d){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=d}get element(){return Bu(this._hostTNode,this._hostLView)}get injector(){return new Kr(this._hostTNode,this._hostLView)}get parentInjector(){const o=ia(this._hostTNode,this._hostLView);if(Qf(o)){const l=fs(o,this._hostLView),d=hc(o);return new Kr(l[1].data[d+8],l)}return new Kr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=Kn(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,d){let h,g;"number"==typeof d?h=d:null!=d&&(h=d.index,g=d.injector);const v=o.createEmbeddedView(l||{},g);return this.insert(v,h),v}createComponent(o,l,d,h,g){const v=o&&!function ur(s){return"function"==typeof s}(o);let E;if(v)E=l;else{const N=l||{};E=N.index,d=N.injector,h=N.projectableNodes,g=N.environmentInjector||N.ngModuleRef}const D=v?o:new Qu(le(o)),A=d||this.parentInjector;if(!g&&null==D.ngModule){const z=(v?A:this.parentInjector).get(Lu,null);z&&(g=z)}const k=D.create(A,h,void 0,g);return this.insert(k.hostView,E),k}insert(o,l){const d=o._lView,h=d[1];if(function Vd(s){return Zi(s[3])}(d)){const k=this.indexOf(o);if(-1!==k)this.detach(k);else{const N=d[3],z=new _w(N,N[6],N[3]);z.detach(z.indexOf(o))}}const g=this._adjustIndex(l),v=this._lContainer;!function Bg(s,o,l,d){const h=10+d,g=l.length;d>0&&(l[h-1][4]=o),d<g-10?(o[4]=l[h],ip(l,10+d,o)):(l.push(o),o[4]=null),o[3]=l;const v=o[17];null!==v&&l!==v&&function Tv(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(v,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=64}(h,d,v,g);const E=Ch(g,v),D=d[11],A=ma(D,v[7]);return null!==A&&function bp(s,o,l,d,h,g){d[0]=h,d[6]=o,Tc(s,d,l,1,h,g)}(h,v[6],D,d,A,E),o.attachToViewContainerRef(),ip(gt(v),g,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=Kn(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),d=Ug(this._lContainer,l);d&&(Ir(gt(this._lContainer),l),vh(d[1],d))}detach(o){const l=this._adjustIndex(o,-1),d=Ug(this._lContainer,l);return d&&null!=Ir(gt(this._lContainer),l)?new tm(d):null}_adjustIndex(o,l=0){return o??this.length+l}};function Kn(s){return s[8]}function gt(s){return s[8]||(s[8]=[])}function ff(s,o){let l;const d=o[s.index];if(Zi(d))l=d;else{let h;if(8&s.type)h=Gn(d);else{const g=o[11];h=g.createComment("");const v=Ki(s,o);Po(g,ma(g,v),h,function tE(s,o){return s.nextSibling(o)}(g,v),!1)}o[s.index]=l=GE(d,o,h,s),em(o,l)}return new _w(l,s,o)}class Ke{constructor(o){this.queryList=o,this.matches=null}clone(){return new Ke(this.queryList)}setDirty(){this.queryList.setDirty()}}class pf{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const d=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let g=0;g<d;g++){const v=l.getByIndex(g);h.push(this.queries[v.indexInDeclarationView].clone())}return new pf(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==CI(o,l).matches&&this.queries[l].setDirty()}}class Sy{constructor(o,l,d=null){this.predicate=o,this.flags=l,this.read=d}}class Fl{constructor(o=[]){this.queries=o}elementStart(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let d=0;d<this.length;d++){const h=null!==l?l.length:0,g=this.getByIndex(d).embeddedTView(o,h);g&&(g.indexInDeclarationView=d,null!==l?l.push(g):l=[g])}return null!==l?new Fl(l):null}template(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class yw{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new yw(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const g=d[h];this.matchTNodeWithReadOption(o,l,Ay(l,g)),this.matchTNodeWithReadOption(o,l,ms(l,o,g,!1,!1))}else d===Rm?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,ms(l,o,d,!1,!1))}matchTNodeWithReadOption(o,l,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Vh||h===km||h===Rm&&4&l.type)this.addMatch(l.index,-2);else{const g=ms(l,o,h,!1,!1);null!==g&&this.addMatch(l.index,g)}else this.addMatch(l.index,d)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function Ay(s,o){const l=s.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===o)return l[d+1];return null}function Om(s,o,l,d){return-1===l?function oA(s,o){return 11&s.type?Bu(s,o):4&s.type?Ty(s,o):null}(o,s):-2===l?function EI(s,o,l){return l===Vh?Bu(o,s):l===Rm?Ty(o,s):l===km?ff(o,s):void 0}(s,o,d):il(s,s[1],l,o)}function vw(s,o,l,d){const h=o[19].queries[d];if(null===h.matches){const g=s.data,v=l.matches,E=[];for(let D=0;D<v.length;D+=2){const A=v[D];E.push(A<0?null:Om(o,g[A],v[D+1],l.metadata.read))}h.matches=E}return h.matches}function Jr(s,o,l,d){const h=s.queries.getByIndex(l),g=h.matches;if(null!==g){const v=vw(s,o,h,l);for(let E=0;E<g.length;E+=2){const D=g[E];if(D>0)d.push(v[E/2]);else{const A=g[E+1],k=o[-D];for(let N=10;N<k.length;N++){const z=k[N];z[17]===z[3]&&Jr(z[1],z,A,d)}if(null!==k[9]){const N=k[9];for(let z=0;z<N.length;z++){const J=N[z];Jr(J[1],J,A,d)}}}}}return d}function My(s){const o=Ae(),l=Kt(),d=sc();Zr(d+1);const h=CI(l,d);if(s.dirty&&function Ag(s){return 4==(4&s[2])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?Jr(l,o,d,[]):vw(l,o,h,d);s.reset(g,$R),s.notifyOnChanges()}return!0}return!1}function bw(s,o,l){const d=Kt();d.firstCreatePass&&(Pm(d,new Sy(s,o,l),-1),2==(2&o)&&(d.staticViewQueries=!0)),se(d,Ae(),o)}function ww(s,o,l,d){const h=Kt();if(h.firstCreatePass){const g=Fn();Pm(h,new Sy(o,l,d),g.index),function $o(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}se(h,Ae(),l)}function Ll(){return function Ew(s,o){return s[19].queries[o].queryList}(Ae(),sc())}function se(s,o,l){const d=new Dy(4==(4&l));VE(s,o,d,d.destroy),null===o[19]&&(o[19]=new pf),o[19].queries.push(new Ke(d))}function Pm(s,o,l){null===s.queries&&(s.queries=new Fl),s.queries.track(new yw(o,l))}function CI(s,o){return s.queries.getByIndex(o)}function Py(...s){}const Bl=new ln("Application Initializer");let hd=(()=>{class s{constructor(l){this.appInits=l,this.resolve=Py,this.reject=Py,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(om(g))l.push(g);else if(am(g)){const v=new Promise((E,D)=>{g.subscribe({complete:E,error:D})});l.push(v)}}Promise.all(l).then(()=>{d()}).catch(h=>{this.reject(h)}),0===l.length&&d(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(Wn(Bl,8))},s.\u0275prov=Ue({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Ul=new ln("AppId",{providedIn:"root",factory:function zo(){return`${Ra()}${Ra()}${Ra()}`}});function Ra(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const kw=new ln("Platform Initializer"),vf=new ln("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Fy=new ln("appBootstrapListener"),fd=new ln("AnimationModuleType");let Pw=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Ue({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Bm=new ln("LocaleId",{providedIn:"root",factory:()=>cl(Bm,ht.Optional|ht.SkipSelf)||function Vm(){return typeof $localize<"u"&&$localize.locale||Nc}()}),LI=new ln("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class mA{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let gA=(()=>{class s{compileModuleSync(l){return new qs(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),g=Lo(Lt(l).declarations).reduce((v,E)=>{const D=le(E);return D&&v.push(new Qu(D)),v},[]);return new mA(d,g)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Ue({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const BI=(()=>Promise.resolve(0))();function Uc(s){typeof Zone>"u"?BI.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Zs{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ma(!1),this.onMicrotaskEmpty=new Ma(!1),this.onStable=new Ma(!1),this.onError=new Ma(!1),typeof Zone>"u")throw new Ie(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&l,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function yA(){let s=_n.requestAnimationFrame,o=_n.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Lw(s){const o=()=>{!function bf(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(_n,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Um(s),s.isCheckStableRunning=!0,En(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Um(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,h,g,v,E)=>{try{return Vw(s),l.invokeTask(h,g,v,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),Vy(s)}},onInvoke:(l,d,h,g,v,E,D)=>{try{return Vw(s),l.invoke(h,g,v,E,D)}finally{s.shouldCoalesceRunChangeDetection&&o(),Vy(s)}},onHasTask:(l,d,h,g)=>{l.hasTask(h,g),d===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,Um(s),En(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(l,d,h,g)=>(l.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Zs.isInAngularZone())throw new Ie(909,!1)}static assertNotInAngularZone(){if(Zs.isInAngularZone())throw new Ie(909,!1)}run(o,l,d){return this._inner.run(o,l,d)}runTask(o,l,d,h){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+h,o,nn,Py,Py);try{return g.runTask(v,l,d)}finally{g.cancelTask(v)}}runGuarded(o,l,d){return this._inner.runGuarded(o,l,d)}runOutsideAngular(o){return this._outer.run(o)}}const nn={};function En(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Um(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Vw(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Vy(s){s._nesting--,En(s)}class UI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ma,this.onMicrotaskEmpty=new Ma,this.onStable=new Ma,this.onError=new Ma}run(o,l,d){return o.apply(l,d)}runGuarded(o,l,d){return o.apply(l,d)}runOutsideAngular(o){return o()}runTask(o,l,d,h){return o.apply(l,d)}}const Bw=new ln(""),Uw=new ln("");let By,vA=(()=>{class s{constructor(l,d,h){this._ngZone=l,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,By||(function bA(s){By=s}(h),h.addToWindow(d)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Zs.assertNotInAngularZone(),Uc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Uc(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,h){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:g,updateCb:h})}whenStable(l,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,d,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(Wn(Zs),Wn(HI),Wn(Uw))},s.\u0275prov=Ue({token:s,factory:s.\u0275fac}),s})(),HI=(()=>{class s{constructor(){this._applications=new Map}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return By?.findTestabilityInTree(this,l,d)??null}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Ue({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Hc=null;const Hw=new ln("AllowMultipleToken"),jw=new ln("PlatformDestroyListeners");class Hm{constructor(o,l){this.name=o,this.token=l}}function ka(s,o,l=[]){const d=`Platform: ${o}`,h=new ln(d);return(g=[])=>{let v=jm();if(!v||v.injector.get(Hw,!1)){const E=[...l,...g,{provide:h,useValue:!0}];s?s(E):function Uy(s){if(Hc&&!Hc.get(Hw,!1))throw new Ie(400,!1);Hc=s;const o=s.get($m);(function $w(s){const o=s.get(kw,null);o&&o.forEach(l=>l())})(s)}(function gd(s=[],o){return Gu.create({name:o,providers:[{provide:va,useValue:"platform"},{provide:jw,useValue:new Set([()=>Hc=null])},...s]})}(E,d))}return function $I(s){const o=jm();if(!o)throw new Ie(401,!1);return o}()}}function jm(){return Hc?.get($m)??null}let $m=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const h=function jc(s,o){let l;return l="noop"===s?new UI:("zone.js"===s?void 0:s)||new Zs(o),l}(d?.ngZone,function jy(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),g=[{provide:Zs,useValue:h}];return h.run(()=>{const v=Gu.create({providers:g,parent:this.injector,name:l.moduleType.name}),E=l.create(v),D=E.injector.get(Bh,null);if(!D)throw new Ie(402,!1);return h.runOutsideAngular(()=>{const A=h.onError.subscribe({next:k=>{D.handleError(k)}});E.onDestroy(()=>{$c(this._modules,E),A.unsubscribe()})}),function Nr(s,o,l){try{const d=l();return om(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(D,h,()=>{const A=E.injector.get(hd);return A.runInitializers(),A.donePromise.then(()=>(function rf(s){Le(s,"Expected localeId to be defined"),"string"==typeof s&&(BC=s.toLowerCase().replace(/_/g,"-"))}(E.injector.get(Bm,Nc)||Nc),this._moduleDoBootstrap(E),E))})})}bootstrapModule(l,d=[]){const h=$y({},d);return function wA(s,o,l){const d=new qs(l);return Promise.resolve(d)}(0,0,l).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(l){const d=l.injector.get(_d);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new Ie(403,!1);l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ie(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const l=this._injector.get(jw,null);l&&(l.forEach(d=>d()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(Wn(Gu))},s.\u0275prov=Ue({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function $y(s,o){return Array.isArray(o)?o.reduce($y,s):{...s,...o}}let _d=(()=>{class s{constructor(l,d,h){this._zone=l,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new O.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),v=new O.y(E=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{Zs.assertNotInAngularZone(),Uc(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{Zs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{D.unsubscribe(),A.unsubscribe()}});this.isStable=(0,ae.T)(g,v.pipe((0,oe.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,d){const h=l instanceof Lh;if(!this._injector.get(hd).done)throw!h&&St(l),new Ie(405,false);let v;v=h?l:this._injector.get(_s).resolveComponentFactory(l),this.componentTypes.push(v.componentType);const E=function md(s){return s.isBoundToModule}(v)?void 0:this._injector.get(er),A=v.create(Gu.NULL,[],d||v.selector,E),k=A.location.nativeElement,N=A.injector.get(Bw,null);return N?.registerApplication(k),A.onDestroy(()=>{this.detachView(A.hostView),$c(this.components,A),N?.unregisterApplication(k)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new Ie(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;$c(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(Fy,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>$c(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new Ie(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(l){return new(l||s)(Wn(Zs),Wn(Lu),Wn(Bh))},s.\u0275prov=Ue({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function $c(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}let wf=!0,qw=!1;function zI(){return qw=!0,wf}function IA(){if(qw)throw new Error("Cannot enable prod mode after platform setup.");wf=!1}let GI=(()=>{class s{}return s.__NG_ELEMENT_ID__=zm,s})();function zm(s){return function qI(s,o,l){if(ql(s)&&!l){const d=qn(s.index,o);return new tm(d,d)}return 47&s.type?new tm(o[16],o):null}(Fn(),Ae(),16==(16&s))}class Qw{constructor(){}supports(o){return Xu(o)}create(o){return new AA(o)}}const Zm=(s,o)=>o;class AA{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Zm}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,d=this._removalsHead,h=0,g=null;for(;l||d;){const v=!d||l&&l.currentIndex<Ym(d,h,g)?l:d,E=Ym(v,h,g),D=v.currentIndex;if(v===d)h--,d=d._nextRemoved;else if(l=l._next,null==v.previousIndex)h++;else{g||(g=[]);const A=E-h,k=D-h;if(A!=k){for(let z=0;z<A;z++){const J=z<g.length?g[z]:g[z]=0,Ce=J+z;k<=Ce&&Ce<A&&(g[z]=J+1)}g[v.previousIndex]=k-A}}E!==D&&o(v,E,D)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!Xu(o))throw new Ie(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,v,l=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)g=o[E],v=this._trackByFn(E,g),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,g,v,E)),Object.is(l.item,g)||this._addIdentityChange(l,g)):(l=this._mismatch(l,g,v,E),d=!0),l=l._next}else h=0,function U_(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[Wh()]();let d;for(;!(d=l.next()).done;)o(d.value)}}(o,E=>{v=this._trackByFn(h,E),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,E,v,h)),Object.is(l.item,E)||this._addIdentityChange(l,E)):(l=this._mismatch(l,E,v,h),d=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,d,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,g,h)):o=this._addAfter(new MA(l,d),g,h),o}_verifyReinsertion(o,l,d,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,l,d),this._addToMoves(o,d),o}_moveAfter(o,l,d){return this._unlink(o),this._insertAfter(o,l,d),this._addToMoves(o,d),o}_addAfter(o,l,d){return this._insertAfter(o,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,d){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new Km),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,d=o._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Km),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class MA{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ei{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const l=o._prevDup,d=o._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class Km{constructor(){this.map=new Map}put(o){const l=o.trackById;let d=this.map.get(l);d||(d=new ei,this.map.set(l,d)),d.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ym(s,o,l){const d=s.previousIndex;if(null===d)return d;let h=0;return l&&d<l.length&&(h=l[d]),d+o+h}class Xw{constructor(){}supports(o){return o instanceof Map||nC(o)}create(){return new xA}}class xA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||nC(o)))throw new Ie(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const g=this._getOrCreateRecordForKey(h,d);l=this._insertBeforeOrAppend(l,g)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const d=o._prev;return l._next=o,l._prev=d,o._prev=l,d&&(d._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const g=h._prev,v=h._next;return g&&(g._next=v),v&&(v._prev=g),h._next=null,h._prev=null,h}const d=new Qm(o);return this._records.set(o,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(d=>l(o[d],d))}}class Qm{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function KI(){return new qy([new Qw])}let qy=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(null!=d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||KI()),deps:[[s,new Vs,new Ro]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(null!=d)return d;throw new Ie(901,!1)}}return s.\u0275prov=Ue({token:s,providedIn:"root",factory:KI}),s})();function Oa(){return new Wy([new Xw])}let Wy=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||Oa()),deps:[[s,new Vs,new Ro]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(d)return d;throw new Ie(901,!1)}}return s.\u0275prov=Ue({token:s,providedIn:"root",factory:Oa}),s})();const Jw=ka(null,"core",[]);let e0=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(Wn(_d))},s.\u0275mod=ar({type:s}),s.\u0275inj=Wt({}),s})();function t0(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(mt,Te,P)=>{P.d(Te,{Z:()=>Ie});var c=P(2090),X=P(4859),O=P(2951),ae=P(1877);class oe{constructor(_e,me){this._delegate=_e,this.firebase=me,(0,O._addComponent)(_e,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=_e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this._delegate.automaticDataCollectionEnabled=_e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(_e=>{this._delegate.checkDestroyed(),_e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(_e,me=O._DEFAULT_ENTRY_NAME){var _t;this._delegate.checkDestroyed();const It=this._delegate.container.getProvider(_e);return!It.isInitialized()&&"EXPLICIT"===(null===(_t=It.getComponent())||void 0===_t?void 0:_t.instantiationMode)&&It.initialize(),It.getImmediate({identifier:me})}_removeServiceInstance(_e,me=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(_e).clearInstance(me)}_addComponent(_e){(0,O._addComponent)(this._delegate,_e)}_addOrOverwriteComponent(_e){(0,O._addOrOverwriteComponent)(this._delegate,_e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ne=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function he(){const st=function we(st){const _e={},me={__esModule:!0,initializeApp:function Pe(He,et={}){const ee=O.initializeApp(He,et);if((0,c.r3)(_e,ee.name))return _e[ee.name];const xt=new st(ee,me);return _e[ee.name]=xt,xt},app:It,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function fe(He){const et=He.name,ee=et.replace("-compat","");if(O._registerComponent(He)&&"PUBLIC"===He.type){const xt=(dt=It())=>{if("function"!=typeof dt[ee])throw ne.create("invalid-app-argument",{appName:et});return dt[ee]()};void 0!==He.serviceProps&&(0,c.ZB)(xt,He.serviceProps),me[ee]=xt,st.prototype[ee]=function(...dt){return this._getService.bind(this,et).apply(this,He.multipleInstances?dt:[])}}return"PUBLIC"===He.type?me[ee]:null},removeApp:function _t(He){delete _e[He]},useAsService:function Ge(He,et){return"serverAuth"===et?null:et},modularAPIs:O}};function It(He){if(!(0,c.r3)(_e,He=He||O._DEFAULT_ENTRY_NAME))throw ne.create("no-app",{appName:He});return _e[He]}return me.default=me,Object.defineProperty(me,"apps",{get:function Ee(){return Object.keys(_e).map(He=>_e[He])}}),It.App=st,me}(oe);return st.INTERNAL=Object.assign(Object.assign({},st.INTERNAL),{createFirebaseNamespace:he,extendNamespace:function _e(me){(0,c.ZB)(st,me)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),st}(),j=new ae.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const st=self.firebase.SDK_VERSION;st&&st.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ie=$;!function Me(st){(0,O.registerVersion)("@firebase/app-compat","0.2.9",st)}()},2951:(mt,Te,P)=>{P.r(Te),P.d(Te,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>Yo,_DEFAULT_ENTRY_NAME:()=>_r,_addComponent:()=>nt,_addOrOverwriteComponent:()=>wt,_apps:()=>Sn,_clearComponents:()=>ti,_components:()=>rn,_getProvider:()=>as,_registerComponent:()=>_n,_removeServiceInstance:()=>or,deleteApp:()=>jr,getApp:()=>ui,getApps:()=>Si,initializeApp:()=>sn,onLog:()=>ls,registerVersion:()=>Ai,setLogLevel:()=>zn});var c=P(5861),X=P(4859),O=P(1877),ae=P(2090);let ue,ne;const $=new WeakMap,j=new WeakMap,Z=new WeakMap,ze=new WeakMap,Me=new WeakMap;let _e={get(re,te,Oe){if(re instanceof IDBTransaction){if("done"===te)return j.get(re);if("objectStoreNames"===te)return re.objectStoreNames||Z.get(re);if("store"===te)return Oe.objectStoreNames[1]?void 0:Oe.objectStore(Oe.objectStoreNames[0])}return Pe(re[te])},set:(re,te,Oe)=>(re[te]=Oe,!0),has:(re,te)=>re instanceof IDBTransaction&&("done"===te||"store"===te)||te in re};function It(re){return"function"==typeof re?function _t(re){return re!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function he(){return ne||(ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(re)?function(...te){return re.apply(Ee(this),te),Pe($.get(this))}:function(...te){return Pe(re.apply(Ee(this),te))}:function(te,...Oe){const Ne=re.call(Ee(this),te,...Oe);return Z.set(Ne,te.sort?te.sort():[te]),Pe(Ne)}}(re):(re instanceof IDBTransaction&&function st(re){if(j.has(re))return;const te=new Promise((Oe,Ne)=>{const Dt=()=>{re.removeEventListener("complete",Vt),re.removeEventListener("error",on),re.removeEventListener("abort",on)},Vt=()=>{Oe(),Dt()},on=()=>{Ne(re.error||new DOMException("AbortError","AbortError")),Dt()};re.addEventListener("complete",Vt),re.addEventListener("error",on),re.addEventListener("abort",on)});j.set(re,te)}(re),((re,te)=>te.some(Oe=>re instanceof Oe))(re,function we(){return ue||(ue=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(re,_e):re)}function Pe(re){if(re instanceof IDBRequest)return function Ie(re){const te=new Promise((Oe,Ne)=>{const Dt=()=>{re.removeEventListener("success",Vt),re.removeEventListener("error",on)},Vt=()=>{Oe(Pe(re.result)),Dt()},on=()=>{Ne(re.error),Dt()};re.addEventListener("success",Vt),re.addEventListener("error",on)});return te.then(Oe=>{Oe instanceof IDBCursor&&$.set(Oe,re)}).catch(()=>{}),Me.set(te,re),te}(re);if(ze.has(re))return ze.get(re);const te=It(re);return te!==re&&(ze.set(re,te),Me.set(te,re)),te}const Ee=re=>Me.get(re),He=["get","getKey","getAll","getAllKeys","count"],et=["put","add","delete","clear"],ee=new Map;function xt(re,te){if(!(re instanceof IDBDatabase)||te in re||"string"!=typeof te)return;if(ee.get(te))return ee.get(te);const Oe=te.replace(/FromIndex$/,""),Ne=te!==Oe,Dt=et.includes(Oe);if(!(Oe in(Ne?IDBIndex:IDBObjectStore).prototype)||!Dt&&!He.includes(Oe))return;const Vt=function(){var on=(0,c.Z)(function*(kn,...Qt){const xi=this.transaction(kn,Dt?"readwrite":"readonly");let yr=xi.store;return Ne&&(yr=yr.index(Qt.shift())),(yield Promise.all([yr[Oe](...Qt),Dt&&xi.done]))[0]});return function(Qt){return on.apply(this,arguments)}}();return ee.set(te,Vt),Vt}!function me(re){_e=re(_e)}(re=>({...re,get:(te,Oe,Ne)=>xt(te,Oe)||re.get(te,Oe,Ne),has:(te,Oe)=>!!xt(te,Oe)||re.has(te,Oe)}));class dt{constructor(te){this.container=te}getPlatformInfoString(){return this.container.getProviders().map(Oe=>{if(function qt(re){return"VERSION"===re.getComponent()?.type}(Oe)){const Ne=Oe.getImmediate();return`${Ne.library}/${Ne.version}`}return null}).filter(Oe=>Oe).join(" ")}}const ct="@firebase/app",pe=new O.Yd("@firebase/app"),_r="[DEFAULT]",ci={[ct]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Sn=new Map,rn=new Map;function nt(re,te){try{re.container.addComponent(te)}catch(Oe){pe.debug(`Component ${te.name} failed to register with FirebaseApp ${re.name}`,Oe)}}function wt(re,te){re.container.addOrOverwriteComponent(te)}function _n(re){const te=re.name;if(rn.has(te))return pe.debug(`There were multiple attempts to register component ${te}.`),!1;rn.set(te,re);for(const Oe of Sn.values())nt(Oe,re);return!0}function as(re,te){const Oe=re.container.getProvider("heartbeat").getImmediate({optional:!0});return Oe&&Oe.triggerHeartbeat(),re.container.getProvider(te)}function or(re,te,Oe=_r){as(re,te).clearInstance(Oe)}function ti(){rn.clear()}const Ti=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class fn{constructor(te,Oe,Ne){this._isDeleted=!1,this._options=Object.assign({},te),this._config=Object.assign({},Oe),this._name=Oe.name,this._automaticDataCollectionEnabled=Oe.automaticDataCollectionEnabled,this._container=Ne,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(te){this.checkDestroyed(),this._automaticDataCollectionEnabled=te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(te){this._isDeleted=te}checkDestroyed(){if(this.isDeleted)throw Ti.create("app-deleted",{appName:this._name})}}const Yo="9.21.0";function sn(re,te={}){let Oe=re;"object"!=typeof te&&(te={name:te});const Ne=Object.assign({name:_r,automaticDataCollectionEnabled:!1},te),Dt=Ne.name;if("string"!=typeof Dt||!Dt)throw Ti.create("bad-app-name",{appName:String(Dt)});if(Oe||(Oe=(0,ae.aH)()),!Oe)throw Ti.create("no-options");const Vt=Sn.get(Dt);if(Vt){if((0,ae.vZ)(Oe,Vt.options)&&(0,ae.vZ)(Ne,Vt.config))return Vt;throw Ti.create("duplicate-app",{appName:Dt})}const on=new X.H0(Dt);for(const Qt of rn.values())on.addComponent(Qt);const kn=new fn(Oe,Ne,on);return Sn.set(Dt,kn),kn}function ui(re=_r){const te=Sn.get(re);if(!te&&re===_r)return sn();if(!te)throw Ti.create("no-app",{appName:re});return te}function Si(){return Array.from(Sn.values())}function jr(re){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,c.Z)(function*(re){const te=re.name;Sn.has(te)&&(Sn.delete(te),yield Promise.all(re.container.getProviders().map(Oe=>Oe.delete())),re.isDeleted=!0)})).apply(this,arguments)}function Ai(re,te,Oe){var Ne;let Dt=null!==(Ne=ci[re])&&void 0!==Ne?Ne:re;Oe&&(Dt+=`-${Oe}`);const Vt=Dt.match(/\s|\//),on=te.match(/\s|\//);if(Vt||on){const kn=[`Unable to register library "${Dt}" with version "${te}":`];return Vt&&kn.push(`library name "${Dt}" contains illegal characters (whitespace or "/")`),Vt&&on&&kn.push("and"),on&&kn.push(`version name "${te}" contains illegal characters (whitespace or "/")`),void pe.warn(kn.join(" "))}_n(new X.wA(`${Dt}-version`,()=>({library:Dt,version:te}),"VERSION"))}function ls(re,te){if(null!==re&&"function"!=typeof re)throw Ti.create("invalid-log-argument");(0,O.Am)(re,te)}function zn(re){(0,O.Ub)(re)}const U="firebase-heartbeat-store";let V=null;function q(){return V||(V=function fe(re,te,{blocked:Oe,upgrade:Ne,blocking:Dt,terminated:Vt}={}){const on=indexedDB.open(re,te),kn=Pe(on);return Ne&&on.addEventListener("upgradeneeded",Qt=>{Ne(Pe(on.result),Qt.oldVersion,Qt.newVersion,Pe(on.transaction),Qt)}),Oe&&on.addEventListener("blocked",Qt=>Oe(Qt.oldVersion,Qt.newVersion,Qt)),kn.then(Qt=>{Vt&&Qt.addEventListener("close",()=>Vt()),Dt&&Qt.addEventListener("versionchange",xi=>Dt(xi.oldVersion,xi.newVersion,xi))}).catch(()=>{}),kn}("firebase-heartbeat-database",1,{upgrade:(re,te)=>{0===te&&re.createObjectStore(U)}}).catch(re=>{throw Ti.create("idb-open",{originalErrorMessage:re.message})})),V}function Q(){return(Q=(0,c.Z)(function*(re){try{return(yield q()).transaction(U).objectStore(U).get(Lt(re))}catch(te){if(te instanceof ae.ZR)pe.warn(te.message);else{const Oe=Ti.create("idb-get",{originalErrorMessage:te?.message});pe.warn(Oe.message)}}})).apply(this,arguments)}function We(re,te){return St.apply(this,arguments)}function St(){return(St=(0,c.Z)(function*(re,te){try{const Ne=(yield q()).transaction(U,"readwrite");return yield Ne.objectStore(U).put(te,Lt(re)),Ne.done}catch(Oe){if(Oe instanceof ae.ZR)pe.warn(Oe.message);else{const Ne=Ti.create("idb-set",{originalErrorMessage:Oe?.message});pe.warn(Ne.message)}}})).apply(this,arguments)}function Lt(re){return`${re.name}!${re.options.appId}`}class ut{constructor(te){this.container=te,this._heartbeatsCache=null;const Oe=this.container.getProvider("app").getImmediate();this._storage=new Mi(Oe),this._heartbeatsCachePromise=this._storage.read().then(Ne=>(this._heartbeatsCache=Ne,Ne))}triggerHeartbeat(){var te=this;return(0,c.Z)(function*(){const Ne=te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Dt=yt();if(null===te._heartbeatsCache&&(te._heartbeatsCache=yield te._heartbeatsCachePromise),te._heartbeatsCache.lastSentHeartbeatDate!==Dt&&!te._heartbeatsCache.heartbeats.some(Vt=>Vt.date===Dt))return te._heartbeatsCache.heartbeats.push({date:Dt,agent:Ne}),te._heartbeatsCache.heartbeats=te._heartbeatsCache.heartbeats.filter(Vt=>{const on=new Date(Vt.date).valueOf();return Date.now()-on<=2592e6}),te._storage.overwrite(te._heartbeatsCache)})()}getHeartbeatsHeader(){var te=this;return(0,c.Z)(function*(){if(null===te._heartbeatsCache&&(yield te._heartbeatsCachePromise),null===te._heartbeatsCache||0===te._heartbeatsCache.heartbeats.length)return"";const Oe=yt(),{heartbeatsToSend:Ne,unsentEntries:Dt}=function yn(re,te=1024){const Oe=[];let Ne=re.slice();for(const Dt of re){const Vt=Oe.find(on=>on.agent===Dt.agent);if(Vt){if(Vt.dates.push(Dt.date),vn(Oe)>te){Vt.dates.pop();break}}else if(Oe.push({agent:Dt.agent,dates:[Dt.date]}),vn(Oe)>te){Oe.pop();break}Ne=Ne.slice(1)}return{heartbeatsToSend:Oe,unsentEntries:Ne}}(te._heartbeatsCache.heartbeats),Vt=(0,ae.L)(JSON.stringify({version:2,heartbeats:Ne}));return te._heartbeatsCache.lastSentHeartbeatDate=Oe,Dt.length>0?(te._heartbeatsCache.heartbeats=Dt,yield te._storage.overwrite(te._heartbeatsCache)):(te._heartbeatsCache.heartbeats=[],te._storage.overwrite(te._heartbeatsCache)),Vt})()}}function yt(){return(new Date).toISOString().substring(0,10)}class Mi{constructor(te){this.app=te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var te=this;return(0,c.Z)(function*(){return(yield te._canUseIndexedDBPromise)&&(yield function le(re){return Q.apply(this,arguments)}(te.app))||{heartbeats:[]}})()}overwrite(te){var Oe=this;return(0,c.Z)(function*(){var Ne;if(yield Oe._canUseIndexedDBPromise){const Vt=yield Oe.read();return We(Oe.app,{lastSentHeartbeatDate:null!==(Ne=te.lastSentHeartbeatDate)&&void 0!==Ne?Ne:Vt.lastSentHeartbeatDate,heartbeats:te.heartbeats})}})()}add(te){var Oe=this;return(0,c.Z)(function*(){var Ne;if(yield Oe._canUseIndexedDBPromise){const Vt=yield Oe.read();return We(Oe.app,{lastSentHeartbeatDate:null!==(Ne=te.lastSentHeartbeatDate)&&void 0!==Ne?Ne:Vt.lastSentHeartbeatDate,heartbeats:[...Vt.heartbeats,...te.heartbeats]})}})()}}function vn(re){return(0,ae.L)(JSON.stringify({version:2,heartbeats:re})).length}!function $r(re){_n(new X.wA("platform-logger",te=>new dt(te),"PRIVATE")),_n(new X.wA("heartbeat",te=>new ut(te),"PRIVATE")),Ai(ct,"0.9.9",re),Ai(ct,"0.9.9","esm2017"),Ai("fire-js","")}("")},4859:(mt,Te,P)=>{P.d(Te,{H0:()=>we,wA:()=>O});var c=P(5861),X=P(2090);class O{constructor($,j,Z){this.name=$,this.instanceFactory=j,this.type=Z,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const ae="[DEFAULT]";class oe{constructor($,j){this.name=$,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const j=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(j)){const Z=new X.BH;if(this.instancesDeferred.set(j,Z),this.isInitialized(j)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:j});ze&&Z.resolve(ze)}catch{}}return this.instancesDeferred.get(j).promise}getImmediate($){var j;const Z=this.normalizeInstanceIdentifier($?.identifier),ze=null!==(j=$?.optional)&&void 0!==j&&j;if(!this.isInitialized(Z)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Z})}catch(Me){if(ze)return null;throw Me}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function ne(he){return"EAGER"===he.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:ae})}catch{}for(const[j,Z]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier(j);try{const Me=this.getOrInitializeService({instanceIdentifier:ze});Z.resolve(Me)}catch{}}}}clearInstance($=ae){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,c.Z)(function*(){const j=Array.from($.instances.values());yield Promise.all([...j.filter(Z=>"INTERNAL"in Z).map(Z=>Z.INTERNAL.delete()),...j.filter(Z=>"_delete"in Z).map(Z=>Z._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=ae){return this.instances.has($)}getOptions($=ae){return this.instancesOptions.get($)||{}}initialize($={}){const{options:j={}}=$,Z=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(Z))throw Error(`${this.name}(${Z}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:Z,options:j});for(const[Me,Ie]of this.instancesDeferred.entries())Z===this.normalizeInstanceIdentifier(Me)&&Ie.resolve(ze);return ze}onInit($,j){var Z;const ze=this.normalizeInstanceIdentifier(j),Me=null!==(Z=this.onInitCallbacks.get(ze))&&void 0!==Z?Z:new Set;Me.add($),this.onInitCallbacks.set(ze,Me);const Ie=this.instances.get(ze);return Ie&&$(Ie,ze),()=>{Me.delete($)}}invokeOnInitCallbacks($,j){const Z=this.onInitCallbacks.get(j);if(Z)for(const ze of Z)try{ze($,j)}catch{}}getOrInitializeService({instanceIdentifier:$,options:j={}}){let Z=this.instances.get($);if(!Z&&this.component&&(Z=this.component.instanceFactory(this.container,{instanceIdentifier:(he=$,he===ae?void 0:he),options:j}),this.instances.set($,Z),this.instancesOptions.set($,j),this.invokeOnInitCallbacks(Z,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,Z)}catch{}var he;return Z||null}normalizeInstanceIdentifier($=ae){return this.component?this.component.multipleInstances?$:ae:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class we{constructor($){this.name=$,this.providers=new Map}addComponent($){const j=this.getProvider($.name);if(j.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);j.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const j=new oe($,this);return this.providers.set($,j),j}getProviders(){return Array.from(this.providers.values())}}},1877:(mt,Te,P)=>{P.d(Te,{Am:()=>he,Ub:()=>we,Yd:()=>ne,in:()=>X});const c=[];var X=(()=>{return($=X||(X={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",X;var $})();const O={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},ae=X.INFO,oe={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},ue=($,j,...Z)=>{if(j<$.logLevel)return;const ze=(new Date).toISOString(),Me=oe[j];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[Me](`[${ze}]  ${$.name}:`,...Z)};class ne{constructor(j){this.name=j,this._logLevel=ae,this._logHandler=ue,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in X))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?O[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...j),this._logHandler(this,X.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...j),this._logHandler(this,X.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,X.INFO,...j),this._logHandler(this,X.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,X.WARN,...j),this._logHandler(this,X.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...j),this._logHandler(this,X.ERROR,...j)}}function we($){c.forEach(j=>{j.setLogLevel($)})}function he($,j){for(const Z of c){let ze=null;j&&j.level&&(ze=O[j.level]),Z.userLogHandler=null===$?null:(Me,Ie,...st)=>{const _e=st.map(me=>{if(null==me)return null;if("string"==typeof me)return me;if("number"==typeof me||"boolean"==typeof me)return me.toString();if(me instanceof Error)return me.message;try{return JSON.stringify(me)}catch{return null}}).filter(me=>me).join(" ");Ie>=(ze??Me.logLevel)&&$({level:X[Ie].toLowerCase(),message:_e,args:st,type:Me.name})}}}},259:(mt,Te,P)=>{P.d(Te,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=P(2951);(0,c.registerVersion)("firebase","9.21.0","app")},9260:(mt,Te,P)=>{P.d(Te,{Z:()=>c.Z});var c=P(3942);c.Z.registerVersion("firebase","9.21.0","app-compat")},3042:(mt,Te,P)=>{P.r(Te);var c=P(5861),X=P(3942),O=P(2090),ae=P(2951),oe=P(655),ue=P(1877),ne=P(4859);const Ie=function ze(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},st=function Me(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},_e=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),_t=new ue.Yd("@firebase/auth");function Pe(y,...p){_t.logLevel<=ue.in.ERROR&&_t.error(`Auth (${ae.SDK_VERSION}): ${y}`,...p)}function Ee(y,...p){throw et(y,...p)}function fe(y,...p){return et(y,...p)}function Ge(y,p,m){const b=Object.assign(Object.assign({},st()),{[p]:m});return new O.LL("auth","Firebase",b).create(p,{appName:y.name})}function He(y,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Ee(y,"argument-error"),Ge(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function et(y,...p){if("string"!=typeof y){const m=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(m,...b)}return _e.create(y,...p)}function ee(y,p,...m){if(!y)throw et(p,...m)}function xt(y){const p="INTERNAL ASSERTION FAILED: "+y;throw Pe(p),new Error(p)}function dt(y,p){y||xt(p)}function qt(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function ct(){return"http:"===de()||"https:"===de()}function de(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class xe{constructor(p,m){this.shortDelay=p,this.longDelay=m,dt(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function pe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ct()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Le(y,p){dt(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class De{static initialize(p,m,b){this.fetchImpl=p,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void xt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void xt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void xt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Rt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},tn=new xe(3e4,6e4);function Nt(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function Ue(y,p,m,b){return $t.apply(this,arguments)}function $t(){return($t=(0,c.Z)(function*(y,p,m,b,S={}){return Wt(y,S,(0,c.Z)(function*(){let R={},H={};b&&("GET"===p?H=b:R={body:JSON.stringify(b)});const K=(0,O.xO)(Object.assign({key:y.config.apiKey},H)).slice(1),Re=yield y._getAdditionalHeaders();return Re["Content-Type"]="application/json",y.languageCode&&(Re["X-Firebase-Locale"]=y.languageCode),De.fetch()(Li(y,y.config.apiHost,m,K),Object.assign({method:p,headers:Re,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function Wt(y,p,m){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,c.Z)(function*(y,p,m){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},Rt),p);try{const S=new sr(y),R=yield Promise.race([m(),S.promise]);S.clearNetworkTimeout();const H=yield R.json();if("needConfirmation"in H)throw Di(y,"account-exists-with-different-credential",H);if(R.ok&&!("errorMessage"in H))return H;{const K=R.ok?H.errorMessage:H.error.message,[Re,je]=K.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Re)throw Di(y,"credential-already-in-use",H);if("EMAIL_EXISTS"===Re)throw Di(y,"email-already-in-use",H);if("USER_DISABLED"===Re)throw Di(y,"user-disabled",H);const tt=b[Re]||Re.toLowerCase().replace(/[_\s]+/g,"-");if(je)throw Ge(y,tt,je);Ee(y,tt)}}catch(S){if(S instanceof O.ZR)throw S;Ee(y,"network-request-failed",{message:String(S)})}})).apply(this,arguments)}function Rn(y,p,m,b){return $n.apply(this,arguments)}function $n(){return($n=(0,c.Z)(function*(y,p,m,b,S={}){const R=yield Ue(y,p,m,b,S);return"mfaPendingCredential"in R&&Ee(y,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function Li(y,p,m,b){const S=`${p}${m}?${b}`;return y.config.emulator?Le(y.config,S):`${y.config.apiScheme}://${S}`}class sr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(fe(this.auth,"network-request-failed")),tn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Di(y,p,m){const b={appName:y.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const S=fe(y,p,b);return S.customData._tokenResponse=m,S}function Ur(){return(Ur=(0,c.Z)(function*(y,p){return Ue(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Ua(y,p){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,c.Z)(function*(y,p){return Ue(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ht(y,p){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,c.Z)(function*(y,p){return Ue(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Hr(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function _r(){return(_r=(0,c.Z)(function*(y,p=!1){const m=(0,O.m9)(y),b=yield m.getIdToken(p),S=Sn(b);ee(S&&S.exp&&S.auth_time&&S.iat,m.auth,"internal-error");const R="object"==typeof S.firebase?S.firebase:void 0,H=R?.sign_in_provider;return{claims:S,token:b,authTime:Hr(ci(S.auth_time)),issuedAtTime:Hr(ci(S.iat)),expirationTime:Hr(ci(S.exp)),signInProvider:H||null,signInSecondFactor:R?.sign_in_second_factor||null}})).apply(this,arguments)}function ci(y){return 1e3*Number(y)}function Sn(y){const[p,m,b]=y.split(".");if(void 0===p||void 0===m||void 0===b)return Pe("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,O.tV)(m);return S?JSON.parse(S):(Pe("Failed to decode base64 JWT payload"),null)}catch(S){return Pe("Caught error parsing JWT payload as JSON",S?.toString()),null}}function nt(y,p){return wt.apply(this,arguments)}function wt(){return(wt=(0,c.Z)(function*(y,p,m=!1){if(m)return p;try{return yield p}catch(b){throw b instanceof O.ZR&&_n(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}function _n({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class as{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const S=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,c.Z)(function*(){yield m.iteration()}),b)}iteration(){var p=this;return(0,c.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&p.schedule(!0))}p.schedule()})()}}class or{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hr(this.lastLoginAt),this.creationTime=Hr(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ti(y){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,c.Z)(function*(y){var p;const m=y.auth,b=yield y.getIdToken(),S=yield nt(y,ht(m,{idToken:b}));ee(S?.users.length,m,"internal-error");const R=S.users[0];y._notifyReloadListener(R);const H=null!==(p=R.providerUserInfo)&&void 0!==p&&p.length?sn(R.providerUserInfo):[],K=Yo(y.providerData,H),tt=!!y.isAnonymous&&!(y.email&&R.passwordHash||K?.length),it={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:K,metadata:new or(R.createdAt,R.lastLoginAt),isAnonymous:tt};Object.assign(y,it)})).apply(this,arguments)}function fn(){return(fn=(0,c.Z)(function*(y){const p=(0,O.m9)(y);yield ti(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Yo(y,p){return[...y.filter(b=>!p.some(S=>S.providerId===b.providerId)),...p]}function sn(y){return y.map(p=>{var{providerId:m}=p,b=(0,oe._T)(p,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function Si(){return(Si=(0,c.Z)(function*(y,p){const m=yield Wt(y,{},(0,c.Z)(function*(){const b=(0,O.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:S,apiKey:R}=y.config,H=Li(y,S,"/v1/token",`key=${R}`),K=yield y._getAdditionalHeaders();return K["Content-Type"]="application/x-www-form-urlencoded",De.fetch()(H,{method:"POST",headers:K,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class jr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){ee(p.idToken,"internal-error"),ee(typeof p.idToken<"u","internal-error"),ee(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function rn(y){const p=Sn(y);return ee(p,"internal-error"),ee(typeof p.exp<"u","internal-error"),ee(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var b=this;return(0,c.Z)(function*(){return ee(!b.accessToken||b.refreshToken,p,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var b=this;return(0,c.Z)(function*(){const{accessToken:S,refreshToken:R,expiresIn:H}=yield function ui(y,p){return Si.apply(this,arguments)}(p,m);b.updateTokensAndExpiration(S,R,Number(H))})()}updateTokensAndExpiration(p,m,b){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,m){const{refreshToken:b,accessToken:S,expirationTime:R}=m,H=new jr;return b&&(ee("string"==typeof b,"internal-error",{appName:p}),H.refreshToken=b),S&&(ee("string"==typeof S,"internal-error",{appName:p}),H.accessToken=S),R&&(ee("number"==typeof R,"internal-error",{appName:p}),H.expirationTime=R),H}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new jr,this.toJSON())}_performRefresh(){return xt("not implemented")}}function Nn(y,p){ee("string"==typeof y||typeof y>"u","internal-error",{appName:p})}class Ai{constructor(p){var{uid:m,auth:b,stsTokenManager:S}=p,R=(0,oe._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new as(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new or(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,c.Z)(function*(){const b=yield nt(m,m.stsTokenManager.getToken(m.auth,p));return ee(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(p){return function Ko(y){return _r.apply(this,arguments)}(this,p)}reload(){return function Ti(y){return fn.apply(this,arguments)}(this)}_assign(p){this!==p&&(ee(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const m=new Ai(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(p){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var b=this;return(0,c.Z)(function*(){let S=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),S=!0),m&&(yield ti(b)),yield b.auth._persistUserIfCurrent(b),S&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,c.Z)(function*(){const m=yield p.getIdToken();return yield nt(p,function os(y,p){return Ur.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var b,S,R,H,K,Re,je,tt;const it=null!==(b=m.displayName)&&void 0!==b?b:void 0,Pn=null!==(S=m.email)&&void 0!==S?S:void 0,Mr=null!==(R=m.phoneNumber)&&void 0!==R?R:void 0,Qg=null!==(H=m.photoURL)&&void 0!==H?H:void 0,nE=null!==(K=m.tenantId)&&void 0!==K?K:void 0,kp=null!==(Re=m._redirectEventId)&&void 0!==Re?Re:void 0,Op=null!==(je=m.createdAt)&&void 0!==je?je:void 0,Xg=null!==(tt=m.lastLoginAt)&&void 0!==tt?tt:void 0,{uid:Rh,emailVerified:Pp,isAnonymous:Jg,providerData:Nu,stsTokenManager:kh}=m;ee(Rh&&kh,p,"internal-error");const Np=jr.fromJSON(this.name,kh);ee("string"==typeof Rh,p,"internal-error"),Nn(it,p.name),Nn(Pn,p.name),ee("boolean"==typeof Pp,p,"internal-error"),ee("boolean"==typeof Jg,p,"internal-error"),Nn(Mr,p.name),Nn(Qg,p.name),Nn(nE,p.name),Nn(kp,p.name),Nn(Op,p.name),Nn(Xg,p.name);const e_=new Ai({uid:Rh,auth:p,email:Pn,emailVerified:Pp,displayName:it,isAnonymous:Jg,photoURL:Qg,phoneNumber:Mr,tenantId:nE,stsTokenManager:Np,createdAt:Op,lastLoginAt:Xg});return Nu&&Array.isArray(Nu)&&(e_.providerData=Nu.map(mi=>Object.assign({},mi))),kp&&(e_._redirectEventId=kp),e_}static _fromIdTokenResponse(p,m,b=!1){return(0,c.Z)(function*(){const S=new jr;S.updateFromServerResponse(m);const R=new Ai({uid:m.localId,auth:p,stsTokenManager:S,isAnonymous:b});return yield ti(R),R})()}}const ls=new Map;function zn(y){dt(y instanceof Function,"Expected a class definition");let p=ls.get(y);return p?(dt(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,ls.set(y,p),p)}const Wi=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(m,b){var S=this;return(0,c.Z)(function*(){S.storage[m]=b})()}_get(m){var b=this;return(0,c.Z)(function*(){const S=b.storage[m];return void 0===S?null:S})()}_remove(m){var b=this;return(0,c.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return y.type="NONE",y})();function U(y,p,m){return`firebase:${y}:${p}:${m}`}class V{constructor(p,m,b){this.persistence=p,this.auth=m,this.userKey=b;const{config:S,name:R}=this.auth;this.fullUserKey=U(this.userKey,S.apiKey,R),this.fullPersistenceKey=U("persistence",S.apiKey,R),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,c.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?Ai._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,c.Z)(function*(){if(m.persistence===p)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,b="authUser"){return(0,c.Z)(function*(){if(!m.length)return new V(zn(Wi),p,b);const S=(yield Promise.all(m.map(function(){var je=(0,c.Z)(function*(tt){if(yield tt._isAvailable())return tt});return function(tt){return je.apply(this,arguments)}}()))).filter(je=>je);let R=S[0]||zn(Wi);const H=U(b,p.config.apiKey,p.name);let K=null;for(const je of m)try{const tt=yield je._get(H);if(tt){const it=Ai._fromJSON(p,tt);je!==R&&(K=it),R=je;break}}catch{}const Re=S.filter(je=>je._shouldAllowMigration);return R._shouldAllowMigration&&Re.length?(R=Re[0],K&&(yield R._set(H,K.toJSON())),yield Promise.all(m.map(function(){var je=(0,c.Z)(function*(tt){if(tt!==R)try{yield tt._remove(H)}catch{}});return function(tt){return je.apply(this,arguments)}}())),new V(R,p,b)):new V(R,p,b)})()}}function q(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(St(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(le(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(dn(p))return"Blackberry";if(Ve(p))return"Webos";if(Q(p))return"Safari";if((p.includes("chrome/")||We(p))&&!p.includes("edge/"))return"Chrome";if(Lt(p))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function le(y=(0,O.z$)()){return/firefox\//i.test(y)}function Q(y=(0,O.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function We(y=(0,O.z$)()){return/crios\//i.test(y)}function St(y=(0,O.z$)()){return/iemobile/i.test(y)}function Lt(y=(0,O.z$)()){return/android/i.test(y)}function dn(y=(0,O.z$)()){return/blackberry/i.test(y)}function Ve(y=(0,O.z$)()){return/webos/i.test(y)}function ut(y=(0,O.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function vn(y=(0,O.z$)()){return ut(y)||Lt(y)||Ve(y)||dn(y)||/windows phone/i.test(y)||St(y)}function re(y,p=[]){let m;switch(y){case"Browser":m=q((0,O.z$)());break;case"Worker":m=`${q((0,O.z$)())}-${y}`;break;default:m=y}const b=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${ae.SDK_VERSION}/${b}`}function Oe(){return(Oe=(0,c.Z)(function*(y){return(yield Ue(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ne(y,p){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,c.Z)(function*(y,p){return Ue(y,"GET","/v2/recaptchaConfig",Nt(y,p))})).apply(this,arguments)}function Vt(y){return void 0!==y&&void 0!==y.getResponse}function on(y){return void 0!==y&&void 0!==y.enterprise}class kn{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(m=>"EMAIL_PASSWORD_PROVIDER"===m.provider&&"OFF"!==m.enforcementState)}}function xi(y){return new Promise((p,m)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=p,b.onerror=S=>{const R=fe("internal-error");R.customData=S,m(R)},b.type="text/javascript",b.charset="UTF-8",function Qt(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(b)})}function yr(y){return`__${y}${Math.floor(1e6*Math.random())}`}class bn{constructor(p){this.type="recaptcha-enterprise",this.auth=pn(p)}verify(p="verify",m=!1){var b=this;return(0,c.Z)(function*(){function R(){return R=(0,c.Z)(function*(K){if(!m){if(null==K.tenantId&&null!=K._agentRecaptchaConfig)return K._agentRecaptchaConfig.siteKey;if(null!=K.tenantId&&void 0!==K._tenantRecaptchaConfigs[K.tenantId])return K._tenantRecaptchaConfigs[K.tenantId].siteKey}return new Promise(function(){var Re=(0,c.Z)(function*(je,tt){Ne(K,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(it=>{if(void 0!==it.recaptchaKey){const Pn=new kn(it);return null==K.tenantId?K._agentRecaptchaConfig=Pn:K._tenantRecaptchaConfigs[K.tenantId]=Pn,je(Pn.siteKey)}tt(new Error("recaptcha Enterprise site key undefined"))}).catch(it=>{tt(it)})});return function(je,tt){return Re.apply(this,arguments)}}())}),R.apply(this,arguments)}function H(K,Re,je){const tt=window.grecaptcha;on(tt)?tt.enterprise.ready(()=>{tt.enterprise.execute(K,{action:p}).then(it=>{Re(it)}).catch(()=>{Re("NO_RECAPTCHA")})}):je(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((K,Re)=>{(function S(K){return R.apply(this,arguments)})(b.auth).then(je=>{if(!m&&on(window.grecaptcha))H(je,K,Re);else{if(typeof window>"u")return void Re(new Error("RecaptchaVerifier is only supported in browser"));xi("https://www.google.com/recaptcha/enterprise.js?render="+je).then(()=>{H(je,K,Re)}).catch(tt=>{Re(tt)})}}).catch(je=>{Re(je)})})})()}}function cs(y,p,m){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,c.Z)(function*(y,p,m,b=!1){const S=new bn(y);let R;try{R=yield S.verify(m)}catch{R=yield S.verify(m,!0)}const H=Object.assign({},p);return Object.assign(H,b?{captchaResp:R}:{captchaResponse:R}),Object.assign(H,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(H,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),H})).apply(this,arguments)}class vo{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const b=R=>new Promise((H,K)=>{try{H(p(R))}catch(Re){K(Re)}});b.onAbort=m,this.queue.push(b);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,c.Z)(function*(){if(m.auth.currentUser===p)return;const b=[];try{for(const S of m.queue)yield S(p),S.onAbort&&b.push(S.onAbort)}catch(S){b.reverse();for(const R of b)try{R()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:S?.message})}})()}}class Qc{constructor(p,m,b,S){this.app=p,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=b,this.config=S,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qs(this),this.idTokenSubscription=new Qs(this),this.beforeStateQueue=new vo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_e,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=S.sdkClientVersion}_initializeWithPersistence(p,m){var b=this;return m&&(this._popupRedirectResolver=zn(m)),this._initializationPromise=this.queue((0,c.Z)(function*(){var S,R;if(!b._deleted&&(b.persistenceManager=yield V.create(b,p),!b._deleted)){if(null!==(S=b._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(R=b.currentUser)||void 0===R?void 0:R.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,c.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,c.Z)(function*(){var b;const S=yield m.assertedPersistence.getCurrentUser();let R=S,H=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const K=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,Re=R?._redirectEventId,je=yield m.tryRedirectSignIn(p);(!K||K===Re)&&je?.user&&(R=je.user,H=!0)}if(!R)return m.directlySetCurrentUser(null);if(!R._redirectEventId){if(H)try{yield m.beforeStateQueue.runMiddleware(R)}catch(K){R=S,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(K))}return R?m.reloadAndSetCurrentUserOrClear(R):m.directlySetCurrentUser(null)}return ee(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===R._redirectEventId?m.directlySetCurrentUser(R):m.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(p){var m=this;return(0,c.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,c.Z)(function*(){try{yield ti(p)}catch(b){if("auth/network-request-failed"!==b?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Se(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,c.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,c.Z)(function*(){const b=p?(0,O.m9)(p):null;return b&&ee(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(p,m=!1){var b=this;return(0,c.Z)(function*(){if(!b._deleted)return p&&ee(b.tenantId===p.tenantId,b,"tenant-id-mismatch"),m||(yield b.beforeStateQueue.runMiddleware(p)),b.queue((0,c.Z)(function*(){yield b.directlySetCurrentUser(p),b.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,c.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,c.Z)(function*(){yield m.assertedPersistence.setPersistence(zn(p))}))}initializeRecaptchaConfig(){var p=this;return(0,c.Z)(function*(){const m=yield Ne(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),b=new kn(m);null==p.tenantId?p._agentRecaptchaConfig=b:p._tenantRecaptchaConfigs[p.tenantId]=b,b.emailPasswordEnabled&&new bn(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new O.LL("auth","Firebase",p())}onAuthStateChanged(p,m,b){return this.registerStateListener(this.authStateSubscription,p,m,b)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,b){return this.registerStateListener(this.idTokenSubscription,p,m,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var b=this;return(0,c.Z)(function*(){const S=yield b.getOrInitRedirectPersistenceManager(m);return null===p?S.removeCurrentUser():S.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,c.Z)(function*(){if(!m.redirectPersistenceManager){const b=p&&zn(p)||m._popupRedirectResolver;ee(b,m,"argument-error"),m.redirectPersistenceManager=yield V.create(m,[zn(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,c.Z)(function*(){var b,S;return m._isInitialized&&(yield m.queue((0,c.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===p?m._currentUser:(null===(S=m.redirectUser)||void 0===S?void 0:S._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,c.Z)(function*(){if(p===m.currentUser)return m.queue((0,c.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,b,S){if(this._deleted)return()=>{};const R="function"==typeof m?m:m.next.bind(m),H=this._isInitialized?Promise.resolve():this._initializationPromise;return ee(H,this,"internal-error"),H.then(()=>R(this.currentUser)),"function"==typeof m?p.addObserver(m,b,S):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,c.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=re(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,c.Z)(function*(){var m;const b={"X-Client-Version":p.clientVersion};p.app.options.appId&&(b["X-Firebase-gmpid"]=p.app.options.appId);const S=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();S&&(b["X-Firebase-Client"]=S);const R=yield p._getAppCheckToken();return R&&(b["X-Firebase-AppCheck"]=R),b})()}_getAppCheckToken(){var p=this;return(0,c.Z)(function*(){var m;const b=yield null===(m=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return b?.error&&function It(y,...p){_t.logLevel<=ue.in.WARN&&_t.warn(`Auth (${ae.SDK_VERSION}): ${y}`,...p)}(`Error while retrieving App Check token: ${b.error}`),b?.token})()}}function pn(y){return(0,O.m9)(y)}class Qs{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,O.ne)(m=>this.observer=m)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function di(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function Xo(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class Ts{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return xt("not implemented")}_getIdTokenResponse(p){return xt("not implemented")}_linkToIdToken(p,m){return xt("not implemented")}_getReauthenticationResolver(p){return xt("not implemented")}}function zr(y,p){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,c.Z)(function*(y,p){return Ue(y,"POST","/v1/accounts:resetPassword",Nt(y,p))})).apply(this,arguments)}function Md(y,p){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,c.Z)(function*(y,p){return Ue(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function xd(y,p){return Vf.apply(this,arguments)}function Vf(){return(Vf=(0,c.Z)(function*(y,p){return Ue(y,"POST","/v1/accounts:update",Nt(y,p))})).apply(this,arguments)}function In(y,p){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,c.Z)(function*(y,p){return Rn(y,"POST","/v1/accounts:signInWithPassword",Nt(y,p))})).apply(this,arguments)}function Jc(y,p){return kd.apply(this,arguments)}function kd(){return(kd=(0,c.Z)(function*(y,p){return Ue(y,"POST","/v1/accounts:sendOobCode",Nt(y,p))})).apply(this,arguments)}function Bf(y,p){return Od.apply(this,arguments)}function Od(){return(Od=(0,c.Z)(function*(y,p){return Jc(y,p)})).apply(this,arguments)}function Wl(y,p){return Uf.apply(this,arguments)}function Uf(){return(Uf=(0,c.Z)(function*(y,p){return Jc(y,p)})).apply(this,arguments)}function Pd(y,p){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,c.Z)(function*(y,p){return Jc(y,p)})).apply(this,arguments)}function Sg(y,p){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,c.Z)(function*(y,p){return Jc(y,p)})).apply(this,arguments)}function eu(){return(eu=(0,c.Z)(function*(y,p){return Rn(y,"POST","/v1/accounts:signInWithEmailLink",Nt(y,p))})).apply(this,arguments)}function Hf(){return(Hf=(0,c.Z)(function*(y,p){return Rn(y,"POST","/v1/accounts:signInWithEmailLink",Nt(y,p))})).apply(this,arguments)}class tu extends Ts{constructor(p,m,b,S=null){super("password",b),this._email=p,this._password=m,this._tenantId=S}static _fromEmailAndPassword(p,m){return new tu(p,m,"password")}static _fromEmailAndCode(p,m,b=null){return new tu(p,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,c.Z)(function*(){var b;switch(m.signInMethod){case"password":const S={returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(b=p._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const R=yield cs(p,S,"signInWithPassword");return In(p,R)}return In(p,S).catch(function(){var R=(0,c.Z)(function*(H){if("auth/missing-recaptcha-token"===H.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const K=yield cs(p,S,"signInWithPassword");return In(p,K)}return Promise.reject(H)});return function(H){return R.apply(this,arguments)}}());case"emailLink":return function Fd(y,p){return eu.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Ee(p,"internal-error")}})()}_linkToIdToken(p,m){var b=this;return(0,c.Z)(function*(){switch(b.signInMethod){case"password":return Md(p,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function Ld(y,p){return Hf.apply(this,arguments)}(p,{idToken:m,email:b._email,oobCode:b._password});default:Ee(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Gr(y,p){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,c.Z)(function*(y,p){return Rn(y,"POST","/v1/accounts:signInWithIdp",Nt(y,p))})).apply(this,arguments)}class vr extends Ts{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new vr(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Ee("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:S}=m,R=(0,oe._T)(m,["providerId","signInMethod"]);if(!b||!S)return null;const H=new vr(b,S);return H.idToken=R.idToken||void 0,H.accessToken=R.accessToken||void 0,H.secret=R.secret,H.nonce=R.nonce,H.pendingToken=R.pendingToken||null,H}_getIdTokenResponse(p){return Gr(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,Gr(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Gr(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,O.xO)(m)}return p}}function nu(y,p){return ja.apply(this,arguments)}function ja(){return(ja=(0,c.Z)(function*(y,p){return Ue(y,"POST","/v1/accounts:sendVerificationCode",Nt(y,p))})).apply(this,arguments)}function Kl(){return(Kl=(0,c.Z)(function*(y,p){return Rn(y,"POST","/v1/accounts:signInWithPhoneNumber",Nt(y,p))})).apply(this,arguments)}function bo(){return(bo=(0,c.Z)(function*(y,p){const m=yield Rn(y,"POST","/v1/accounts:signInWithPhoneNumber",Nt(y,p));if(m.temporaryProof)throw Di(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Yl={USER_NOT_FOUND:"user-not-found"};function yi(){return(yi=(0,c.Z)(function*(y,p){return Rn(y,"POST","/v1/accounts:signInWithPhoneNumber",Nt(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Yl)})).apply(this,arguments)}class Vi extends Ts{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new Vi({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new Vi({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function iu(y,p){return Kl.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function $f(y,p){return bo.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function zf(y,p){return yi.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:b,verificationCode:S}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:b,code:S}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:b,phoneNumber:S,temporaryProof:R}=p;return b||m||S||R?new Vi({verificationId:m,verificationCode:b,phoneNumber:S,temporaryProof:R}):null}}class Xl{constructor(p){var m,b,S,R,H,K;const Re=(0,O.zd)((0,O.pd)(p)),je=null!==(m=Re.apiKey)&&void 0!==m?m:null,tt=null!==(b=Re.oobCode)&&void 0!==b?b:null,it=function Gf(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Re.mode)&&void 0!==S?S:null);ee(je&&tt&&it,"argument-error"),this.apiKey=je,this.operation=it,this.code=tt,this.continueUrl=null!==(R=Re.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(H=Re.languageCode)&&void 0!==H?H:null,this.tenantId=null!==(K=Re.tenantId)&&void 0!==K?K:null}static parseLink(p){const m=function Ql(y){const p=(0,O.zd)((0,O.pd)(y)).link,m=p?(0,O.zd)((0,O.pd)(p)).deep_link_id:null,b=(0,O.zd)((0,O.pd)(y)).deep_link_id;return(b?(0,O.zd)((0,O.pd)(b)).link:null)||b||m||p||y}(p);try{return new Xl(m)}catch{return null}}}let Gn=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,b){return tu._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const S=Xl.parseLink(b);return ee(S,"argument-error"),tu._fromEmailAndCode(m,S.code,S.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class As{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Jl extends As{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class br extends Jl{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return ee("providerId"in m&&"signInMethod"in m,"argument-error"),vr._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return ee(p.idToken||p.accessToken,"argument-error"),vr._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return br.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return br.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:S,pendingToken:R,nonce:H,providerId:K}=p;if(!b&&!S&&!m&&!R||!K)return null;try{return new br(K)._credential({idToken:m,accessToken:b,nonce:H,pendingToken:R})}catch{return null}}}let Ki=(()=>{class y extends Jl{constructor(){super("facebook.com")}static credential(m){return vr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),ru=(()=>{class y extends Jl{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return vr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:S}=m;if(!b&&!S)return null;try{return y.credential(b,S)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),ec=(()=>{class y extends Jl{constructor(){super("github.com")}static credential(m){return vr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class qn extends Ts{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return Gr(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,Gr(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Gr(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:S,pendingToken:R}=m;return b&&S&&R&&b===S?new qn(b,R):null}static _create(p,m){return new qn(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Xs extends As{constructor(p){ee(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Xs.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Xs.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=qn.fromJSON(p);return ee(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:b}=p;if(!m||!b)return null;try{return qn._create(b,m)}catch{return null}}}let Vd=(()=>{class y extends Jl{constructor(){super("twitter.com")}static credential(m,b){return vr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:S}=m;if(!b||!S)return null;try{return y.credential(b,S)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function qr(y,p){return wo.apply(this,arguments)}function wo(){return(wo=(0,c.Z)(function*(y,p){return Rn(y,"POST","/v1/accounts:signUp",Nt(y,p))})).apply(this,arguments)}class cr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,b,S=!1){return(0,c.Z)(function*(){const R=yield Ai._fromIdTokenResponse(p,b,S),H=Et(b);return new cr({user:R,providerId:H,_tokenResponse:b,operationType:m})})()}static _forOperation(p,m,b){return(0,c.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const S=Et(b);return new cr({user:p,providerId:S,_tokenResponse:b,operationType:m})})()}}function Et(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Bd(){return(Bd=(0,c.Z)(function*(y){var p;const m=pn(y);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new cr({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield qr(m,{returnSecureToken:!0}),S=yield cr._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class za extends O.ZR{constructor(p,m,b,S){var R;super(m.code,m.message),this.operationType=b,this.user=S,Object.setPrototypeOf(this,za.prototype),this.customData={appName:p.name,tenantId:null!==(R=p.tenantId)&&void 0!==R?R:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,m,b,S){return new za(p,m,b,S)}}function Ud(y,p,m,b){return("reauthenticate"===p?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?za._fromErrorAndOperation(y,R,p,b):R})}function su(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function Ga(){return(Ga=(0,c.Z)(function*(y,p){const m=(0,O.m9)(y);yield Kt(!0,m,p);const{providerUserInfo:b}=yield Ua(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),S=su(b||[]);return m.providerData=m.providerData.filter(R=>S.has(R.providerId)),S.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function jd(y,p){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,c.Z)(function*(y,p,m=!1){const b=yield nt(y,p._linkToIdToken(y.auth,yield y.getIdToken()),m);return cr._forOperation(y,"link",b)})).apply(this,arguments)}function Kt(y,p,m){return ds.apply(this,arguments)}function ds(){return(ds=(0,c.Z)(function*(y,p,m){yield ti(p);const S=!1===y?"provider-already-linked":"no-such-provider";ee(su(p.providerData).has(m)===y,p.auth,S)})).apply(this,arguments)}function qa(y,p){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,c.Z)(function*(y,p,m=!1){const{auth:b}=y,S="reauthenticate";try{const R=yield nt(y,Ud(b,S,p,y),m);ee(R.idToken,b,"internal-error");const H=Sn(R.idToken);ee(H,b,"internal-error");const{sub:K}=H;return ee(y.uid===K,b,"user-mismatch"),cr._forOperation(y,S,R)}catch(R){throw"auth/user-not-found"===R?.code&&Ee(b,"user-mismatch"),R}})).apply(this,arguments)}function tc(y,p){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,c.Z)(function*(y,p,m=!1){const b="signIn",S=yield Ud(y,b,p),R=yield cr._fromIdTokenResponse(y,b,S);return m||(yield y._updateCurrentUser(R.user)),R})).apply(this,arguments)}function Bi(y,p){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,c.Z)(function*(y,p){return tc(pn(y),p)})).apply(this,arguments)}function ou(y,p){return nc.apply(this,arguments)}function nc(){return(nc=(0,c.Z)(function*(y,p){const m=(0,O.m9)(y);return yield Kt(!1,m,p.providerId),jd(m,p)})).apply(this,arguments)}function Mn(y,p){return qf.apply(this,arguments)}function qf(){return(qf=(0,c.Z)(function*(y,p){return qa((0,O.m9)(y),p)})).apply(this,arguments)}function vi(y,p){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,c.Z)(function*(y,p){return Rn(y,"POST","/v1/accounts:signInWithCustomToken",Nt(y,p))})).apply(this,arguments)}function au(){return(au=(0,c.Z)(function*(y,p){const m=pn(y),b=yield vi(m,{token:p,returnSecureToken:!0}),S=yield cr._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class Wr{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?wr._fromServerResponse(p,m):"totpInfo"in m?ic._fromServerResponse(p,m):Ee(p,"internal-error")}}class wr extends Wr{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new wr(m)}}class ic extends Wr{constructor(p){super("totp",p)}static _fromServerResponse(p,m){return new ic(m)}}function Js(y,p,m){var b;ee((null===(b=m.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),ee(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(ee(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(ee(m.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function ea(){return ea=(0,c.Z)(function*(y,p,m){var b;const S=pn(y),R={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(b=S._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const H=yield cs(S,R,"getOobCode",!0);m&&Js(S,H,m),yield Wl(S,H)}else m&&Js(S,R,m),yield Wl(S,R).catch(function(){var H=(0,c.Z)(function*(K){if("auth/missing-recaptcha-token"!==K.code)return Promise.reject(K);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Re=yield cs(S,R,"getOobCode",!0);m&&Js(S,Re,m),yield Wl(S,Re)}});return function(K){return H.apply(this,arguments)}}())}),ea.apply(this,arguments)}function Wa(){return(Wa=(0,c.Z)(function*(y,p,m){yield zr((0,O.m9)(y),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Zr(){return(Zr=(0,c.Z)(function*(y,p){yield xd((0,O.m9)(y),{oobCode:p})})).apply(this,arguments)}function zd(y,p){return Za.apply(this,arguments)}function Za(){return(Za=(0,c.Z)(function*(y,p){const m=(0,O.m9)(y),b=yield zr(m,{oobCode:p}),S=b.requestType;switch(ee(S,m,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ee(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ee(b.mfaInfo,m,"internal-error");default:ee(b.email,m,"internal-error")}let R=null;return b.mfaInfo&&(R=Wr._fromServerResponse(pn(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:R},operation:S}})).apply(this,arguments)}function Co(){return(Co=(0,c.Z)(function*(y,p){const{data:m}=yield zd((0,O.m9)(y),p);return m.email})).apply(this,arguments)}function Ka(){return Ka=(0,c.Z)(function*(y,p,m){var b;const S=pn(y),R={returnSecureToken:!0,email:p,password:m,clientType:"CLIENT_TYPE_WEB"};let H;if(null!==(b=S._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const je=yield cs(S,R,"signUpPassword");H=qr(S,je)}else H=qr(S,R).catch(function(){var je=(0,c.Z)(function*(tt){if("auth/missing-recaptcha-token"===tt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const it=yield cs(S,R,"signUpPassword");return qr(S,it)}return Promise.reject(tt)});return function(tt){return je.apply(this,arguments)}}());const K=yield H.catch(je=>Promise.reject(je)),Re=yield cr._fromIdTokenResponse(S,"signIn",K);return yield S._updateCurrentUser(Re.user),Re}),Ka.apply(this,arguments)}function Wd(){return Wd=(0,c.Z)(function*(y,p,m){var b;const S=pn(y),R={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function H(K,Re){ee(Re.handleCodeInApp,S,"argument-error"),Re&&Js(S,K,Re)}if(null!==(b=S._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const K=yield cs(S,R,"getOobCode",!0);H(K,m),yield Pd(S,K)}else H(R,m),yield Pd(S,R).catch(function(){var K=(0,c.Z)(function*(Re){if("auth/missing-recaptcha-token"!==Re.code)return Promise.reject(Re);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const je=yield cs(S,R,"getOobCode",!0);H(je,m),yield Pd(S,je)}});return function(Re){return K.apply(this,arguments)}}())}),Wd.apply(this,arguments)}function xs(){return(xs=(0,c.Z)(function*(y,p,m){const b=(0,O.m9)(y),S=Gn.credentialWithLink(p,m||qt());return ee(S._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Bi(b,S)})).apply(this,arguments)}function Ln(y,p){return Zd.apply(this,arguments)}function Zd(){return(Zd=(0,c.Z)(function*(y,p){return Ue(y,"POST","/v1/accounts:createAuthUri",Nt(y,p))})).apply(this,arguments)}function Kd(){return(Kd=(0,c.Z)(function*(y,p){const b={identifier:p,continueUri:ct()?qt():"http://localhost"},{signinMethods:S}=yield Ln((0,O.m9)(y),b);return S||[]})).apply(this,arguments)}function Qd(){return(Qd=(0,c.Z)(function*(y,p){const m=(0,O.m9)(y),S={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&Js(m.auth,S,p);const{email:R}=yield Bf(m.auth,S);R!==y.email&&(yield y.reload())})).apply(this,arguments)}function Io(){return(Io=(0,c.Z)(function*(y,p,m){const b=(0,O.m9)(y),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};m&&Js(b.auth,R,m);const{email:H}=yield Sg(b.auth,R);H!==y.email&&(yield y.reload())})).apply(this,arguments)}function ac(y,p){return eo.apply(this,arguments)}function eo(){return(eo=(0,c.Z)(function*(y,p){return Ue(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ya(){return(Ya=(0,c.Z)(function*(y,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const b=(0,O.m9)(y),R={idToken:yield b.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},H=yield nt(b,ac(b.auth,R));b.displayName=H.displayName||null,b.photoURL=H.photoUrl||null;const K=b.providerData.find(({providerId:Re})=>"password"===Re);K&&(K.displayName=b.displayName,K.photoURL=b.photoURL),yield b._updateTokensIfNecessary(H)})).apply(this,arguments)}function Qa(y,p,m){return lc.apply(this,arguments)}function lc(){return(lc=(0,c.Z)(function*(y,p,m){const{auth:b}=y,R={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(R.email=p),m&&(R.password=m);const H=yield nt(y,Md(b,R));yield y._updateTokensIfNecessary(H,!0)})).apply(this,arguments)}class ks{constructor(p,m,b={}){this.isNewUser=p,this.providerId=m,this.profile=b}}class Xa extends ks{constructor(p,m,b,S){super(p,m,b),this.username=S}}class Yf extends ks{constructor(p,m){super(p,"facebook.com",m)}}class eh extends Xa{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class th extends ks{constructor(p,m){super(p,"google.com",m)}}class cc extends Xa{constructor(p,m,b){super(p,"twitter.com",m,b)}}function uc(y){const{user:p,_tokenResponse:m}=y;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Mg(y){var p,m;if(!y)return null;const{providerId:b}=y,S=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},R=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&y?.idToken){const H=null===(m=null===(p=Sn(y.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(H)return new ks(R,"anonymous"!==H&&"custom"!==H?H:null)}if(!b)return null;switch(b){case"facebook.com":return new Yf(R,S);case"github.com":return new eh(R,S);case"google.com":return new th(R,S);case"twitter.com":return new cc(R,S,y.screenName||null);case"custom":case"anonymous":return new ks(R,null);default:return new ks(R,b,S)}}(m)}class ps{constructor(p,m,b){this.type=p,this.credential=m,this.auth=b}static _fromIdtoken(p,m){return new ps("enroll",p,m)}static _fromMfaPendingCredential(p){return new ps("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,b;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return ps._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(b=p.multiFactorSession)&&void 0!==b&&b.idToken)return ps._fromIdtoken(p.multiFactorSession.idToken)}return null}}class to{constructor(p,m,b){this.session=p,this.hints=m,this.signInResolver=b}static _fromError(p,m){const b=pn(p),S=m.customData._serverResponse,R=(S.mfaInfo||[]).map(K=>Wr._fromServerResponse(b,K));ee(S.mfaPendingCredential,b,"internal-error");const H=ps._fromMfaPendingCredential(S.mfaPendingCredential);return new to(H,R,function(){var K=(0,c.Z)(function*(Re){const je=yield Re._process(b,H);delete S.mfaInfo,delete S.mfaPendingCredential;const tt=Object.assign(Object.assign({},S),{idToken:je.idToken,refreshToken:je.refreshToken});switch(m.operationType){case"signIn":const it=yield cr._fromIdTokenResponse(b,m.operationType,tt);return yield b._updateCurrentUser(it.user),it;case"reauthenticate":return ee(m.user,b,"internal-error"),cr._forOperation(m.user,m.operationType,tt);default:Ee(b,"internal-error")}});return function(Re){return K.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,c.Z)(function*(){return m.signInResolver(p)})()}}function uu(y,p){return Ue(y,"POST","/v2/accounts/mfaEnrollment:start",Nt(y,p))}class ni{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>Wr._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new ni(p)}getSession(){var p=this;return(0,c.Z)(function*(){return ps._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var b=this;return(0,c.Z)(function*(){const S=p,R=yield b.getSession(),H=yield nt(b.user,S._process(b.user.auth,R,m));return yield b.user._updateTokensIfNecessary(H),b.user.reload()})()}unenroll(p){var m=this;return(0,c.Z)(function*(){const b="string"==typeof p?p:p.uid,S=yield m.user.getIdToken();try{const R=yield nt(m.user,function hu(y,p){return Ue(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Nt(y,p))}(m.user.auth,{idToken:S,mfaEnrollmentId:b}));m.enrolledFactors=m.enrolledFactors.filter(({uid:H})=>H!==b),yield m.user._updateTokensIfNecessary(R),yield m.user.reload()}catch(R){throw R}})()}}const ia=new WeakMap,Do="__sak";class pc{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Do,"1"),this.storage.removeItem(Do),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const ms=(()=>{class y extends pc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Xf(){const y=(0,O.z$)();return Q(y)||ut(y)}()&&function $r(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=vn(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const S=this.storage.getItem(b),R=this.localCache[b];S!==R&&m(b,R,S)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((K,Re,je)=>{this.notifyListeners(K,je)});const S=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const K=this.storage.getItem(S);if(m.newValue!==K)null!==m.newValue?this.storage.setItem(S,m.newValue):this.storage.removeItem(S);else if(this.localCache[S]===m.newValue&&!b)return}const R=()=>{const K=this.storage.getItem(S);!b&&this.localCache[S]===K||this.notifyListeners(S,K)},H=this.storage.getItem(S);!function Mi(){return(0,O.w1)()&&10===document.documentMode}()||H===m.newValue||m.newValue===m.oldValue?R():setTimeout(R,10)}notifyListeners(m,b){this.localCache[m]=b;const S=this.listeners[m];if(S)for(const R of Array.from(S))R(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var S=()=>super._set,R=this;return(0,c.Z)(function*(){yield S().call(R,m,b),R.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,S=this;return(0,c.Z)(function*(){const R=yield b().call(S,m);return S.localCache[m]=JSON.stringify(R),R})()}_remove(m){var b=()=>super._remove,S=this;return(0,c.Z)(function*(){yield b().call(S,m),delete S.localCache[m]})()}}return y.type="LOCAL",y})(),no=(()=>{class y extends pc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return y.type="SESSION",y})();let ih=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(R=>R.isListeningto(m));if(b)return b;const S=new y(m);return this.receivers.push(S),S}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,c.Z)(function*(){const S=m,{eventId:R,eventType:H,data:K}=S.data,Re=b.handlersMap[H];if(!Re?.size)return;S.ports[0].postMessage({status:"ack",eventId:R,eventType:H});const je=Array.from(Re).map(function(){var it=(0,c.Z)(function*(Pn){return Pn(S.origin,K)});return function(Pn){return it.apply(this,arguments)}}()),tt=yield function nh(y){return Promise.all(y.map(function(){var p=(0,c.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return p.apply(this,arguments)}}()))}(je);S.ports[0].postMessage({status:"done",eventId:R,eventType:H,response:tt})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Kr(y="",p=10){let m="";for(let b=0;b<p;b++)m+=Math.floor(10*Math.random());return y+m}class Jf{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,b=50){var S=this;return(0,c.Z)(function*(){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let H,K;return new Promise((Re,je)=>{const tt=Kr("",20);R.port1.start();const it=setTimeout(()=>{je(new Error("unsupported_event"))},b);K={messageChannel:R,onMessage(Pn){const Mr=Pn;if(Mr.data.eventId===tt)switch(Mr.data.status){case"ack":clearTimeout(it),H=setTimeout(()=>{je(new Error("timeout"))},3e3);break;case"done":clearTimeout(H),Re(Mr.data.response);break;default:clearTimeout(it),clearTimeout(H),je(new Error("invalid_response"))}}},S.handlers.add(K),R.port1.addEventListener("message",K.onMessage),S.target.postMessage({eventType:p,eventId:tt,data:m},[R.port2])}).finally(()=>{K&&S.removeMessageHandler(K)})})()}}function Vn(){return window}function rl(){return typeof Vn().WorkerGlobalScope<"u"&&"function"==typeof Vn().importScripts}function mc(){return(mc=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ps="firebaseLocalStorageDb",oa="firebaseLocalStorage",io="fbase_key";class aa{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function sl(y,p){return y.transaction([oa],p?"readwrite":"readonly").objectStore(oa)}function mu(){const y=indexedDB.open(Ps,1);return new Promise((p,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore(oa,{keyPath:io})}catch(S){m(S)}}),y.addEventListener("success",(0,c.Z)(function*(){const b=y.result;b.objectStoreNames.contains(oa)?p(b):(b.close(),yield function ln(){const y=indexedDB.deleteDatabase(Ps);return new aa(y).toPromise()}(),p(yield mu()))}))})}function gc(y,p,m){return ep.apply(this,arguments)}function ep(){return(ep=(0,c.Z)(function*(y,p,m){const b=sl(y,!0).put({[io]:p,value:m});return new aa(b).toPromise()})).apply(this,arguments)}function tp(){return(tp=(0,c.Z)(function*(y,p){const m=sl(y,!1).get(p),b=yield new aa(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function gu(y,p){const m=sl(y,!0).delete(p);return new aa(m).toPromise()}const la=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,c.Z)(function*(){return m.db||(m.db=yield mu()),m.db})()}_withRetries(m){var b=this;return(0,c.Z)(function*(){let S=0;for(;;)try{const R=yield b._openDb();return yield m(R)}catch(R){if(S++>3)throw R;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,c.Z)(function*(){return rl()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,c.Z)(function*(){m.receiver=ih._getInstance(function sa(){return rl()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,c.Z)(function*(S,R){return{keyProcessed:(yield m._poll()).includes(R.key)}});return function(S,R){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,c.Z)(function*(S,R){return["keyChanged"]});return function(S,R){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,c.Z)(function*(){var b,S;if(m.activeServiceWorker=yield function pu(){return mc.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Jf(m.activeServiceWorker);const R=yield m.sender._send("ping",{},800);!R||(null===(b=R[0])||void 0===b?void 0:b.fulfilled)&&(null===(S=R[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,c.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Os(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const m=yield mu();return yield gc(m,Do,"1"),yield gu(m,Do),!0}catch{}return!1})()}_withPendingWrite(m){var b=this;return(0,c.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var S=this;return(0,c.Z)(function*(){return S._withPendingWrite((0,c.Z)(function*(){return yield S._withRetries(R=>gc(R,m,b)),S.localCache[m]=b,S.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,c.Z)(function*(){const S=yield b._withRetries(R=>function sh(y,p){return tp.apply(this,arguments)}(R,m));return b.localCache[m]=S,S})()}_remove(m){var b=this;return(0,c.Z)(function*(){return b._withPendingWrite((0,c.Z)(function*(){return yield b._withRetries(S=>gu(S,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,c.Z)(function*(){const b=yield m._withRetries(H=>{const K=sl(H,!1).getAll();return new aa(K).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const S=[],R=new Set;for(const{fbase_key:H,value:K}of b)R.add(H),JSON.stringify(m.localCache[H])!==JSON.stringify(K)&&(m.notifyListeners(H,K),S.push(H));for(const H of Object.keys(m.localCache))m.localCache[H]&&!R.has(H)&&(m.notifyListeners(H,null),S.push(H));return S})()}notifyListeners(m,b){this.localCache[m]=b;const S=this.listeners[m];if(S)for(const R of Array.from(S))R(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Yn(y,p){return Ue(y,"POST","/v2/accounts/mfaSignIn:start",Nt(y,p))}const hi=1e12;class Cr{constructor(p){this.auth=p,this.counter=hi,this._widgets=new Map}render(p,m){const b=this.counter;return this._widgets.set(b,new ip(p,this.auth.name,m||{})),this.counter++,b}reset(p){var m;const b=p||hi;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(p){var m;return(null===(m=this._widgets.get(p||hi))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,c.Z)(function*(){var b;return null===(b=m._widgets.get(p||hi))||void 0===b||b.execute(),""})()}}class ip{constructor(p,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof p?document.getElementById(p):p;ee(S,"argument-error",{appName:m}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ir(y){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<y;b++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const So=yr("rcb"),yu=new xe(3e4,6e4);class rp{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Vn().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return ee(function kg(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),p,"argument-error"),this.shouldResolveImmediately(m)&&Vt(Vn().grecaptcha)?Promise.resolve(Vn().grecaptcha):new Promise((b,S)=>{const R=Vn().setTimeout(()=>{S(fe(p,"network-request-failed"))},yu.get());Vn()[So]=()=>{Vn().clearTimeout(R),delete Vn()[So];const K=Vn().grecaptcha;if(!K||!Vt(K))return void S(fe(p,"internal-error"));const Re=K.render;K.render=(je,tt)=>{const it=Re(je,tt);return this.counter++,it},this.hostLanguage=m,b(K)},xi(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:So,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(R),S(fe(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=Vn().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ro{load(p){return(0,c.Z)(function*(){return new Cr(p)})()}clearedOneInstance(){}}const _c="recaptcha",Dr={theme:"light",type:"image"};class oh{constructor(p,m=Object.assign({},Dr),b){this.parameters=m,this.type=_c,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pn(b),this.isInvisible="invisible"===this.parameters.size,ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof p?document.getElementById(p):p;ee(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ro:new rp,this.validateStartingState()}verify(){var p=this;return(0,c.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(m)||new Promise(R=>{const H=K=>{!K||(p.tokenChangeListeners.delete(H),R(K))};p.tokenChangeListeners.add(H),p.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){ee(!this.parameters.sitekey,this.auth,"argument-error"),ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof p)p(m);else if("string"==typeof p){const b=Vn()[p];"function"==typeof b&&b(m)}}}assertNotDestroyed(){ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,c.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,c.Z)(function*(){ee(ct()&&!rl(),p.auth,"internal-error"),yield function al(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function te(y){return Oe.apply(this,arguments)}(p.auth);ee(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Og{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=Vi._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function ah(){return(ah=(0,c.Z)(function*(y,p,m){const b=pn(y),S=yield ch(b,p,(0,O.m9)(m));return new Og(S,R=>Bi(b,R))})).apply(this,arguments)}function ll(){return(ll=(0,c.Z)(function*(y,p,m){const b=(0,O.m9)(y);yield Kt(!1,b,"phone");const S=yield ch(b.auth,p,(0,O.m9)(m));return new Og(S,R=>ou(b,R))})).apply(this,arguments)}function ca(){return(ca=(0,c.Z)(function*(y,p,m){const b=(0,O.m9)(y),S=yield ch(b.auth,p,(0,O.m9)(m));return new Og(S,R=>Mn(b,R))})).apply(this,arguments)}function ch(y,p,m){return mn.apply(this,arguments)}function mn(){return(mn=(0,c.Z)(function*(y,p,m){var b;const S=yield m.verify();try{let R;if(ee("string"==typeof S,y,"argument-error"),ee(m.type===_c,y,"argument-error"),R="string"==typeof p?{phoneNumber:p}:p,"session"in R){const H=R.session;if("phoneNumber"in R)return ee("enroll"===H.type,y,"internal-error"),(yield uu(y,{idToken:H.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{ee("signin"===H.type,y,"internal-error");const K=(null===(b=R.multiFactorHint)||void 0===b?void 0:b.uid)||R.multiFactorUid;return ee(K,y,"missing-multi-factor-info"),(yield Yn(y,{mfaPendingCredential:H.credential,mfaEnrollmentId:K,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:H}=yield nu(y,{phoneNumber:R.phoneNumber,recaptchaToken:S});return H}}finally{m._reset()}})).apply(this,arguments)}function op(){return(op=(0,c.Z)(function*(y,p){yield jd((0,O.m9)(y),p)})).apply(this,arguments)}let Ns=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=pn(m)}verifyPhoneNumber(m,b){return ch(this.auth,m,(0,O.m9)(b))}static credential(m,b){return Vi._fromVerification(m,b)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:S}=m;return b&&S?Vi._fromTokenResponse(b,S):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function so(y,p){return p?zn(p):(ee(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Ao extends Ts{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Gr(p,this._buildIdpRequest())}_linkToIdToken(p,m){return Gr(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return Gr(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function bu(y){return tc(y.auth,new Ao(y),y.bypassAuthState)}function ap(y){const{auth:p,user:m}=y;return ee(m,p,"internal-error"),qa(m,new Ao(y),y.bypassAuthState)}function Mo(y){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,c.Z)(function*(y){const{auth:p,user:m}=y;return ee(m,p,"internal-error"),jd(m,new Ao(y),y.bypassAuthState)})).apply(this,arguments)}class Dn{constructor(p,m,b,S,R=!1){this.auth=p,this.resolver=b,this.user=S,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,c.Z)(function*(b,S){p.pendingPromise={resolve:b,reject:S};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(R){p.reject(R)}});return function(b,S){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,c.Z)(function*(){const{urlResponse:b,sessionId:S,postBody:R,tenantId:H,error:K,type:Re}=p;if(K)return void m.reject(K);const je={auth:m.auth,requestUri:b,sessionId:S,tenantId:H||void 0,postBody:R||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Re)(je))}catch(tt){m.reject(tt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return bu;case"linkViaPopup":case"linkViaRedirect":return Mo;case"reauthViaPopup":case"reauthViaRedirect":return ap;default:Ee(this.auth,"internal-error")}}resolve(p){dt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){dt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const at=new xe(2e3,1e4);function Wn(){return(Wn=(0,c.Z)(function*(y,p,m){const b=pn(y);He(y,p,As);const S=so(b,m);return new Ls(b,"signInViaPopup",p,S).executeNotNull()})).apply(this,arguments)}function cl(){return(cl=(0,c.Z)(function*(y,p,m){const b=(0,O.m9)(y);He(b.auth,p,As);const S=so(b.auth,m);return new Ls(b.auth,"reauthViaPopup",p,S,b).executeNotNull()})).apply(this,arguments)}function oo(){return(oo=(0,c.Z)(function*(y,p,m){const b=(0,O.m9)(y);He(b.auth,p,As);const S=so(b.auth,m);return new Ls(b.auth,"linkViaPopup",p,S,b).executeNotNull()})).apply(this,arguments)}let Ls=(()=>{class y extends Dn{constructor(m,b,S,R,H){super(m,b,R,H),this.provider=S,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,c.Z)(function*(){const b=yield m.execute();return ee(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,c.Z)(function*(){dt(1===m.filter.length,"Popup operations only handle one event");const b=Kr();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(S=>{m.reject(S)}),m.resolver._isIframeWebStorageSupported(m.auth,S=>{S||m.reject(fe(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(fe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,S;this.pollId=null!==(S=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(fe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,at.get())};m()}}return y.currentPopupAction=null,y})();const xo=new Map;class ua extends Dn{constructor(p,m,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,c.Z)(function*(){let b=xo.get(m.auth._key());if(!b){try{const R=(yield function Ro(y,p){return da.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;b=()=>Promise.resolve(R)}catch(S){b=()=>Promise.reject(S)}xo.set(m.auth._key(),b)}return m.bypassAuthState||xo.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,b=this;return(0,c.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(b,p);if("unknown"!==p.type){if(p.eventId){const S=yield b.auth._redirectUserForId(p.eventId);if(S)return b.user=S,m().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function da(){return(da=(0,c.Z)(function*(y,p){const m=fi(p),b=ul(y);if(!(yield b._isAvailable()))return!1;const S="true"===(yield b._get(m));return yield b._remove(m),S})).apply(this,arguments)}function Vs(y,p){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,c.Z)(function*(y,p){return ul(y)._set(fi(p),"true")})).apply(this,arguments)}function hr(y,p){xo.set(y._key(),p)}function ul(y){return zn(y._redirectPersistence)}function fi(y){return U("pendingRedirect",y.config.apiKey,y.name)}function Tr(){return(Tr=(0,c.Z)(function*(y,p,m){const b=pn(y);He(y,p,As),yield b._initializationPromise;const S=so(b,m);return yield Vs(S,b),S._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function Us(){return(Us=(0,c.Z)(function*(y,p,m){const b=(0,O.m9)(y);He(b.auth,p,As),yield b.auth._initializationPromise;const S=so(b.auth,m);yield Vs(S,b.auth);const R=yield Eu(b);return S._openRedirect(b.auth,p,"reauthViaRedirect",R)})).apply(this,arguments)}function dh(){return(dh=(0,c.Z)(function*(y,p,m){const b=(0,O.m9)(y);He(b.auth,p,As),yield b.auth._initializationPromise;const S=so(b.auth,m);yield Kt(!1,b,p.providerId),yield Vs(S,b.auth);const R=yield Eu(b);return S._openRedirect(b.auth,p,"linkViaRedirect",R)})).apply(this,arguments)}function dl(){return(dl=(0,c.Z)(function*(y,p){return yield pn(y)._initializationPromise,ko(y,p,!1)})).apply(this,arguments)}function ko(y,p){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,c.Z)(function*(y,p,m=!1){const b=pn(y),S=so(b,p),H=yield new ua(b,S,m).execute();return H&&!m&&(delete H.user._redirectEventId,yield b._persistUserIfCurrent(H.user),yield b._setRedirectUser(null,p)),H})).apply(this,arguments)}function Eu(y){return C.apply(this,arguments)}function C(){return(C=(0,c.Z)(function*(y){const p=Kr(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class x{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(m=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Y(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return G(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var b;if(p.error&&!G(p)){const S=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(fe(this.auth,S))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const b=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(L(p))}saveEventToCache(p){this.cachedEventUids.add(L(p)),this.lastProcessedEventTime=Date.now()}}function L(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function G({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===p?.code}function be(y){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,c.Z)(function*(y,p={}){return Ue(y,"GET","/v1/projects",p)})).apply(this,arguments)}const Ye=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pt=/^https?/;function kt(){return(kt=(0,c.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield be(y);for(const m of p)try{if(Qi(m))return}catch{}Ee(y,"unauthorized-domain")})).apply(this,arguments)}function Qi(y){const p=qt(),{protocol:m,hostname:b}=new URL(p);if(y.startsWith("chrome-extension://")){const H=new URL(y);return""===H.hostname&&""===b?"chrome-extension:"===m&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&H.hostname===b}if(!pt.test(m))return!1;if(Ye.test(y))return b===y;const S=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(b)}const bi=new xe(3e4,6e4);function hl(){const y=Vn().___jsl;if(y?.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let Bn=null;function ii(y){return Bn=Bn||function Cu(y){return new Promise((p,m)=>{var b,S,R;function H(){hl(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{hl(),m(fe(y,"network-request-failed"))},timeout:bi.get()})}if(null!==(S=null===(b=Vn().gapi)||void 0===b?void 0:b.iframes)&&void 0!==S&&S.Iframe)p(gapi.iframes.getContext());else{if(null===(R=Vn().gapi)||void 0===R||!R.load){const K=yr("iframefcb");return Vn()[K]=()=>{gapi.load?H():m(fe(y,"network-request-failed"))},xi(`https://apis.google.com/js/api.js?onload=${K}`).catch(Re=>m(Re))}H()}}).catch(p=>{throw Bn=null,p})}(y),Bn}const Yr=new xe(5e3,15e3),fh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Hs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dp(y){const p=y.config;ee(p.authDomain,y,"auth-domain-config-required");const m=p.emulator?Le(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,b={apiKey:p.apiKey,appName:y.name,v:ae.SDK_VERSION},S=Hs.get(y.config.apiHost);S&&(b.eid=S);const R=y._getFrameworks();return R.length&&(b.fw=R.join(",")),`${m}?${(0,O.xO)(b).slice(1)}`}function hp(){return hp=(0,c.Z)(function*(y){const p=yield ii(y),m=Vn().gapi;return ee(m,y,"internal-error"),p.open({where:document.body,url:dp(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fh,dontclear:!0},b=>new Promise(function(){var S=(0,c.Z)(function*(R,H){yield b.restyle({setHideOnLeave:!1});const K=fe(y,"network-request-failed"),Re=Vn().setTimeout(()=>{H(K)},Yr.get());function je(){Vn().clearTimeout(Re),R(b)}b.ping(je).then(je,()=>{H(K)})});return function(R,H){return S.apply(this,arguments)}}()))}),hp.apply(this,arguments)}const mh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ng{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const mp=encodeURIComponent("fac");function Iu(y,p,m,b,S,R){return ki.apply(this,arguments)}function ki(){return(ki=(0,c.Z)(function*(y,p,m,b,S,R){ee(y.config.authDomain,y,"auth-domain-config-required"),ee(y.config.apiKey,y,"invalid-api-key");const H={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:b,v:ae.SDK_VERSION,eventId:S};if(p instanceof As){p.setDefaultLanguage(y.languageCode),H.providerId=p.providerId||"",(0,O.xb)(p.getCustomParameters())||(H.customParameters=JSON.stringify(p.getCustomParameters()));for(const[tt,it]of Object.entries(R||{}))H[tt]=it}if(p instanceof Jl){const tt=p.getScopes().filter(it=>""!==it);tt.length>0&&(H.scopes=tt.join(","))}y.tenantId&&(H.tid=y.tenantId);const K=H;for(const tt of Object.keys(K))void 0===K[tt]&&delete K[tt];const Re=yield y._getAppCheckToken(),je=Re?`#${mp}=${encodeURIComponent(Re)}`:"";return`${Du(y)}?${(0,O.xO)(K).slice(1)}${je}`})).apply(this,arguments)}function Du({config:y}){return y.emulator?Le(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}const bc="webStorageSupport";class pl extends class fl{constructor(p){this.factorId=p}_process(p,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,b);case"signin":return this._finalizeSignIn(p,m.credential);default:return xt("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new pl(p)}_finalizeEnroll(p,m,b){return function Er(y,p){return Ue(y,"POST","/v2/accounts/mfaEnrollment:finalize",Nt(y,p))}(p,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function ol(y,p){return Ue(y,"POST","/v2/accounts/mfaSignIn:finalize",Nt(y,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let gh=(()=>{class y{constructor(){}static assertion(m){return pl._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var Au="@firebase/auth";class _h{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,c.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(b=>{p(b?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function js(){return window}function gl(){return(gl=(0,c.Z)(function*(y,p,m){var b;const{BuildInfo:S}=js();dt(p.sessionId,"AuthEvent did not contain a session ID");const R=yield Dv(p.sessionId),H={};return ut()?H.ibi=S.packageName:Lt()?H.apn=S.packageName:Ee(y,"operation-not-supported-in-this-environment"),S.displayName&&(H.appDisplayName=S.displayName),H.sessionId=R,Iu(y,m,p.type,void 0,null!==(b=p.eventId)&&void 0!==b?b:void 0,H)})).apply(this,arguments)}function yp(){return(yp=(0,c.Z)(function*(y){const{BuildInfo:p}=js(),m={};ut()?m.iosBundleId=p.packageName:Lt()?m.androidPackageName=p.packageName:Ee(y,"operation-not-supported-in-this-environment"),yield be(y,m)})).apply(this,arguments)}function bp(){return(bp=(0,c.Z)(function*(y,p,m){const{cordova:b}=js();let S=()=>{};try{yield new Promise((R,H)=>{let K=null;function Re(){var it;R();const Pn=null===(it=b.plugins.browsertab)||void 0===it?void 0:it.close;"function"==typeof Pn&&Pn(),"function"==typeof m?.close&&m.close()}function je(){K||(K=window.setTimeout(()=>{H(fe(y,"redirect-cancelled-by-user"))},2e3))}function tt(){"visible"===document?.visibilityState&&je()}p.addPassiveListener(Re),document.addEventListener("resume",je,!1),Lt()&&document.addEventListener("visibilitychange",tt,!1),S=()=>{p.removePassiveListener(Re),document.removeEventListener("resume",je,!1),document.removeEventListener("visibilitychange",tt,!1),K&&window.clearTimeout(K)}})}finally{S()}})).apply(this,arguments)}function Dv(y){return Bg.apply(this,arguments)}function Bg(){return(Bg=(0,c.Z)(function*(y){const p=Tv(y),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Tv(y){if(dt(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),m=new Uint8Array(p);for(let b=0;b<y.length;b++)m[b]=y.charCodeAt(b);return m}(0,O.Pz)("authIdTokenMaxAge"),function eE(y){(0,ae._registerComponent)(new ne.wA("auth",(p,{options:m})=>{const b=p.getProvider("app").getImmediate(),S=p.getProvider("heartbeat"),R=p.getProvider("app-check-internal"),{apiKey:H,authDomain:K}=b.options;ee(H&&!H.includes(":"),"invalid-api-key",{appName:b.name}),ee(!K?.includes(":"),"argument-error",{appName:b.name});const Re={apiKey:H,authDomain:K,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:re(y)},je=new Qc(b,S,R,Re);return function An(y,p){const m=p?.persistence||[],b=(Array.isArray(m)?m:[m]).map(zn);p?.errorMap&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(b,p?.popupRedirectResolver)}(je,m),je},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,b)=>{p.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new ne.wA("auth-internal",p=>{const m=pn(p.getProvider("auth").getImmediate());return new _h(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(Au,"0.23.1",function Ec(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ae.registerVersion)(Au,"0.23.1","esm2017")}("Browser");class Ug extends x{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,c.Z)(function*(){yield p.initPromise})()}}function Cp(y){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,c.Z)(function*(y){const p=yield Po()._get(pa(y));return p&&(yield Po()._remove(pa(y))),p})).apply(this,arguments)}function Sv(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const b=Math.floor(Math.random()*p.length);y.push(p.charAt(b))}return y.join("")}function Po(){return zn(ms)}function pa(y){return U("authEvent",y.config.apiKey,y.name)}function wh(y){if(!y?.includes("?"))return{};const[p,...m]=y.split("?");return(0,O.zd)(m.join("?"))}function Eh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:fe("no-auth-event")}}function ga(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function Ch(y=(0,O.z$)()){return!("file:"!==ga()&&"ionic:"!==ga()&&"capacitor:"!==ga()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Sc(){try{const y=self.localStorage,p=Kr();if(y)return y.setItem(p,"1"),y.removeItem(p),!function xv(y=(0,O.z$)()){return function ku(){return(0,O.w1)()&&11===document?.documentMode}()||function Tc(y=(0,O.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,O.hl)()}catch{return Tp()&&(0,O.hl)()}return!1}function Tp(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Gg(){return(function Dp(){return"http:"===ga()||"https:"===ga()}()||(0,O.ru)()||Ch())&&!function Ih(){return(0,O.b$)()||(0,O.UG)()}()&&Sc()&&!Tp()}function Dh(){return Ch()&&typeof document<"u"}function _l(){return(_l=(0,c.Z)(function*(){return!!Dh()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const pi={LOCAL:"local",NONE:"none",SESSION:"session"},yl=ee,qg="persistence";function Mp(y){return _a.apply(this,arguments)}function _a(){return(_a=(0,c.Z)(function*(y){yield y._initializationPromise;const p=Ou(),m=U(qg,y.config.apiKey,y.name);p&&p.setItem(m,y._getPersistence())})).apply(this,arguments)}function Ou(){var y;try{return(null===(y=function Ap(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const Th=ee;class gs{constructor(){this.browserResolver=zn(class Tu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=no,this._completeRedirectFn=ko,this._overrideRedirectResult=hr}_openPopup(p,m,b,S){var R=this;return(0,c.Z)(function*(){var H;dt(null===(H=R.eventManagers[p._key()])||void 0===H?void 0:H.manager,"_initialize() not called before _openPopup()");const K=yield Iu(p,m,b,qt(),S);return function X0(y,p,m,b=500,S=600){const R=Math.max((window.screen.availHeight-S)/2,0).toString(),H=Math.max((window.screen.availWidth-b)/2,0).toString();let K="";const Re=Object.assign(Object.assign({},mh),{width:b.toString(),height:S.toString(),top:R,left:H}),je=(0,O.z$)().toLowerCase();m&&(K=We(je)?"_blank":m),le(je)&&(p=p||"http://localhost",Re.scrollbars="yes");const tt=Object.entries(Re).reduce((Pn,[Mr,Qg])=>`${Pn}${Mr}=${Qg},`,"");if(function yn(y=(0,O.z$)()){var p;return ut(y)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(je)&&"_self"!==K)return function J0(y,p){const m=document.createElement("a");m.href=y,m.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(p||"",K),new Ng(null);const it=window.open(p||"",K,tt);ee(it,y,"popup-blocked");try{it.focus()}catch{}return new Ng(it)}(p,K,Kr())})()}_openRedirect(p,m,b,S){var R=this;return(0,c.Z)(function*(){return yield R._originValidation(p),function fu(y){Vn().location.href=y}(yield Iu(p,m,b,qt(),S)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:S,promise:R}=this.eventManagers[m];return S?Promise.resolve(S):(dt(R,"If manager is not set, promise should be"),R)}const b=this.initAndGetManager(p);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(p){var m=this;return(0,c.Z)(function*(){const b=yield function ph(y){return hp.apply(this,arguments)}(p),S=new x(p);return b.register("authEvent",R=>(ee(R?.authEvent,p,"invalid-auth-event"),{status:S.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:S},m.iframes[p._key()]=b,S})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(bc,{type:bc},S=>{var R;const H=null===(R=S?.[0])||void 0===R?void 0:R[bc];void 0!==H&&m(!!H),Ee(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Ft(y){return kt.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return vn()||Q()||ut()}}),this.cordovaResolver=zn(class tE{constructor(){this._redirectPersistence=no,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ko,this._overrideRedirectResult=hr}_initialize(p){var m=this;return(0,c.Z)(function*(){const b=p._key();let S=m.eventManagers.get(b);return S||(S=new Ug(p),m.eventManagers.set(b,S),m.attachCallbackListeners(p,S)),S})()}_openPopup(p){Ee(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,b,S){var R=this;return(0,c.Z)(function*(){!function Vg(y){var p,m,b,S,R,H,K,Re,je,tt;const it=js();ee("function"==typeof(null===(p=it?.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ee(typeof(null===(m=it?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ee("function"==typeof(null===(R=null===(S=null===(b=it?.cordova)||void 0===b?void 0:b.plugins)||void 0===S?void 0:S.browsertab)||void 0===R?void 0:R.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee("function"==typeof(null===(Re=null===(K=null===(H=it?.cordova)||void 0===H?void 0:H.plugins)||void 0===K?void 0:K.browsertab)||void 0===Re?void 0:Re.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee("function"==typeof(null===(tt=null===(je=it?.cordova)||void 0===je?void 0:je.InAppBrowser)||void 0===tt?void 0:tt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const H=yield R._initialize(p);yield H.initialized(),H.resetRedirect(),function cp(){xo.clear()}(),yield R._originValidation(p);const K=function vh(y,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:Sv(),postBody:null,tenantId:y.tenantId,error:fe(y,"no-auth-event")}}(p,b,S);yield function Ep(y,p){return Po()._set(pa(y),p)}(p,K);const Re=yield function Dc(y,p,m){return gl.apply(this,arguments)}(p,K,m),je=yield function vp(y){const{cordova:p}=js();return new Promise(m=>{p.plugins.browsertab.isAvailable(b=>{let S=null;b?p.plugins.browsertab.openUrl(y):S=p.InAppBrowser.open(y,function yt(y=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(S)})})}(Re);return function Lg(y,p,m){return bp.apply(this,arguments)}(p,H,je)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function xu(y){return yp.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:b,handleOpenURL:S,BuildInfo:R}=js(),H=setTimeout((0,c.Z)(function*(){yield Cp(p),m.onEvent(Eh())}),500),K=function(){var tt=(0,c.Z)(function*(it){clearTimeout(H);const Pn=yield Cp(p);let Mr=null;Pn&&it?.url&&(Mr=function Hg(y,p){var m,b;const S=function jg(y){const p=wh(y),m=p.link?decodeURIComponent(p.link):void 0,b=wh(m).link,S=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return wh(S).link||S||b||m||y}(p);if(S.includes("/__/auth/callback")){const R=wh(S),H=R.firebaseError?function bh(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(R.firebaseError)):null,K=null===(b=null===(m=H?.code)||void 0===m?void 0:m.split("auth/"))||void 0===b?void 0:b[1],Re=K?fe(K):null;return Re?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Re,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:S,postBody:null}}return null}(Pn,it.url)),m.onEvent(Mr||Eh())});return function(Pn){return tt.apply(this,arguments)}}();typeof b<"u"&&"function"==typeof b.subscribe&&b.subscribe(null,K);const Re=S,je=`${R.packageName.toLowerCase()}://`;js().handleOpenURL=function(){var tt=(0,c.Z)(function*(it){if(it.toLowerCase().startsWith(je)&&K({url:it}),"function"==typeof Re)try{Re(it)}catch(Pn){console.error(Pn)}});return function(it){return tt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=no,this._completeRedirectFn=ko,this._overrideRedirectResult=hr}_initialize(p){var m=this;return(0,c.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,b,S){var R=this;return(0,c.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(p,m,b,S)})()}_openRedirect(p,m,b,S){var R=this;return(0,c.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(p,m,b,S)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Dh()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Th(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,c.Z)(function*(){if(p.underlyingResolver)return;const m=yield function Sp(){return _l.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function Sh(y){return y.unwrap()}function Ah(y){return xp(y)}function xp(y){const{_tokenResponse:p}=y instanceof O.ZR?y.customData:y;if(!p)return null;if(!(y instanceof O.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return Ns.credentialFromResult(y);const m=p.providerId;if(!m||"password"===m)return null;let b;switch(m){case"google.com":b=ru;break;case"facebook.com":b=Ki;break;case"github.com":b=ec;break;case"twitter.com":b=Vd;break;default:const{oauthIdToken:S,oauthAccessToken:R,oauthTokenSecret:H,pendingToken:K,nonce:Re}=p;return R||H||S||K?K?m.startsWith("saml.")?qn._create(m,K):vr._fromParams({providerId:m,signInMethod:m,pendingToken:K,idToken:S,accessToken:R}):new br(m).credential({idToken:S,accessToken:R,rawNonce:Re}):null}return y instanceof O.ZR?b.credentialFromError(y):b.credentialFromResult(y)}function Ar(y,p){return p.catch(m=>{throw m instanceof O.ZR&&function vl(y,p){var m;const b=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===p?.code)p.resolver=new Ov(y,function cu(y,p){var m;const b=(0,O.m9)(y),S=p;return ee(p.customData.operationType,b,"argument-error"),ee(null===(m=S.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),to._fromError(b,S)}(y,p));else if(b){const S=xp(p),R=p;S&&(R.credential=S,R.tenantId=b.tenantId||void 0,R.email=b.email||void 0,R.phoneNumber=b.phoneNumber||void 0)}}(y,m),m}).then(m=>{const S=m.user;return{operationType:m.operationType,credential:Ah(m),additionalUserInfo:uc(m),user:Oi.getOrCreate(S)}})}function Pu(y,p){return Rp.apply(this,arguments)}function Rp(){return(Rp=(0,c.Z)(function*(y,p){const m=yield p;return{verificationId:m.verificationId,confirm:b=>Ar(y,m.confirm(b))}})).apply(this,arguments)}class Ov{constructor(p,m){this.resolver=m,this.auth=function Wg(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Ar(Sh(this.auth),this.resolver.resolveSignIn(p))}}class Oi{constructor(p){this._delegate=p,this.multiFactor=function tl(y){const p=(0,O.m9)(y);return ia.has(p)||ia.set(p,ni._fromUser(p)),ia.get(p)}(p)}static getOrCreate(p){return Oi.USER_MAP.has(p)||Oi.USER_MAP.set(p,new Oi(p)),Oi.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,c.Z)(function*(){return Ar(m.auth,ou(m._delegate,p))})()}linkWithPhoneNumber(p,m){var b=this;return(0,c.Z)(function*(){return Pu(b.auth,function lh(y,p,m){return ll.apply(this,arguments)}(b._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,c.Z)(function*(){return Ar(m.auth,function vc(y,p,m){return oo.apply(this,arguments)}(m._delegate,p,gs))})()}linkWithRedirect(p){var m=this;return(0,c.Z)(function*(){return yield Mp(pn(m.auth)),function wu(y,p,m){return function lo(y,p,m){return dh.apply(this,arguments)}(y,p,m)}(m._delegate,p,gs)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,c.Z)(function*(){return Ar(m.auth,Mn(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return Pu(this.auth,function Pg(y,p,m){return ca.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return Ar(this.auth,function yc(y,p,m){return cl.apply(this,arguments)}(this._delegate,p,gs))}reauthenticateWithRedirect(p){var m=this;return(0,c.Z)(function*(){return yield Mp(pn(m.auth)),function fa(y,p,m){return function uh(y,p,m){return Us.apply(this,arguments)}(y,p,m)}(m._delegate,p,gs)})()}sendEmailVerification(p){return function Yd(y,p){return Qd.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,c.Z)(function*(){return yield function Hd(y,p){return Ga.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function Kf(y,p){return Qa((0,O.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function Rs(y,p){return Qa((0,O.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function Ui(y,p){return op.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function Jd(y,p){return Ya.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function Xd(y,p,m){return Io.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Oi.USER_MAP=new WeakMap;const co=ee;let Pv=(()=>{class y{constructor(m,b){if(this.app=m,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=m.options;co(S,"invalid-api-key",{appName:m.name}),co(S,"invalid-api-key",{appName:m.name});const R=typeof window<"u"?gs:void 0;this._delegate=b.initialize({options:{persistence:Nv(S,m.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(Ie),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Oi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,b){!function Ad(y,p,m){const b=pn(y);ee(b._canInitEmulator,b,"emulator-config-failed"),ee(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const S=!!m?.disableWarnings,R=di(p),{host:H,port:K}=function Zi(y){const p=di(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(b);if(S){const R=S[1];return{host:R,port:Xo(b.substr(R.length+1))}}{const[R,H]=b.split(":");return{host:R,port:Xo(H)}}}(p);b.config.emulator={url:`${R}//${H}${null===K?"":`:${K}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:H,port:K,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function ql(){function y(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,b)}applyActionCode(m){return function sc(y,p){return Zr.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return zd(this._delegate,m)}confirmPasswordReset(m,b){return function rc(y,p,m){return Wa.apply(this,arguments)}(this._delegate,m,b)}createUserWithEmailAndPassword(m,b){var S=this;return(0,c.Z)(function*(){return Ar(S._delegate,function Gd(y,p,m){return Ka.apply(this,arguments)}(S._delegate,m,b))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Zf(y,p){return Kd.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Wf(y,p){return"EMAIL_SIGNIN"===Xl.parseLink(p)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,c.Z)(function*(){co(Gg(),m._delegate,"operation-not-supported-in-this-environment");const b=yield function up(y,p){return dl.apply(this,arguments)}(m._delegate,gs);return b?Ar(m._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function Av(y,p){pn(y)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,b,S){const{next:R,error:H,complete:K}=Mh(m,b,S);return this._delegate.onAuthStateChanged(R,H,K)}onIdTokenChanged(m,b,S){const{next:R,error:H,complete:K}=Mh(m,b,S);return this._delegate.onIdTokenChanged(R,H,K)}sendSignInLinkToEmail(m,b){return function ta(y,p,m){return Wd.apply(this,arguments)}(this._delegate,m,b)}sendPasswordResetEmail(m,b){return function $d(y,p,m){return ea.apply(this,arguments)}(this._delegate,m,b||void 0)}setPersistence(m){var b=this;return(0,c.Z)(function*(){let S;switch(function Rv(y,p){yl(Object.values(pi).includes(p),y,"invalid-persistence-type"),(0,O.b$)()?yl(p!==pi.SESSION,y,"unsupported-persistence-type"):(0,O.UG)()?yl(p===pi.NONE,y,"unsupported-persistence-type"):Tp()?yl(p===pi.NONE||p===pi.LOCAL&&(0,O.hl)(),y,"unsupported-persistence-type"):yl(p===pi.NONE||Sc(),y,"unsupported-persistence-type")}(b._delegate,m),m){case pi.SESSION:S=no;break;case pi.LOCAL:S=(yield zn(la)._isAvailable())?la:ms;break;case pi.NONE:S=Wi;break;default:return Ee("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Ar(this._delegate,function us(y){return Bd.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Ar(this._delegate,Bi(this._delegate,m))}signInWithCustomToken(m){return Ar(this._delegate,function hs(y,p){return au.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,b){return Ar(this._delegate,function qd(y,p,m){return Bi((0,O.m9)(y),Gn.credential(p,m))}(this._delegate,m,b))}signInWithEmailLink(m,b){return Ar(this._delegate,function Yi(y,p,m){return xs.apply(this,arguments)}(this._delegate,m,b))}signInWithPhoneNumber(m,b){return Pu(this._delegate,function sp(y,p,m){return ah.apply(this,arguments)}(this._delegate,m,b))}signInWithPopup(m){var b=this;return(0,c.Z)(function*(){return co(Gg(),b._delegate,"operation-not-supported-in-this-environment"),Ar(b._delegate,function lp(y,p,m){return Wn.apply(this,arguments)}(b._delegate,m,gs))})()}signInWithRedirect(m){var b=this;return(0,c.Z)(function*(){return co(Gg(),b._delegate,"operation-not-supported-in-this-environment"),yield Mp(b._delegate),function ao(y,p,m){return function ha(y,p,m){return Tr.apply(this,arguments)}(y,p,m)}(b._delegate,m,gs)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function oc(y,p){return Co.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=pi,y})();function Mh(y,p,m){let b=y;"function"!=typeof y&&({next:b,error:p,complete:m}=y);const S=b;return{next:H=>S(H&&Oi.getOrCreate(H)),error:p,complete:m}}function Nv(y,p){const m=function kv(y,p){const m=Ou();if(!m)return[];const b=U(qg,y,p);switch(m.getItem(b)){case pi.NONE:return[Wi];case pi.LOCAL:return[la,no];case pi.SESSION:return[no];default:return[]}}(y,p);if(typeof self<"u"&&!m.includes(la)&&m.push(la),typeof window<"u")for(const b of[ms,no])m.includes(b)||m.push(b);return m.includes(Wi)||m.push(Wi),m}class xh{constructor(){this.providerId="phone",this._delegate=new Ns(Sh(X.Z.auth()))}static credential(p,m){return Ns.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}xh.PHONE_SIGN_IN_METHOD=Ns.PHONE_SIGN_IN_METHOD,xh.PROVIDER_ID=Ns.PROVIDER_ID;const Zg=ee;class bl{constructor(p,m,b=X.Z.app()){var S;Zg(null===(S=b.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new oh(p,m,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Yg(y){y.INTERNAL.registerComponent(new ne.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),b=p.getProvider("auth");return new Pv(m,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Gn,FacebookAuthProvider:Ki,GithubAuthProvider:ec,GoogleAuthProvider:ru,OAuthProvider:br,SAMLAuthProvider:Xs,PhoneAuthProvider:xh,PhoneMultiFactorGenerator:gh,RecaptchaVerifier:bl,TwitterAuthProvider:Vd,Auth:Pv,AuthCredential:Ts,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.4.1")}(X.Z)},5861:(mt,Te,P)=>{function c(O,ae,oe,ue,ne,we,he){try{var $=O[we](he),j=$.value}catch(Z){return void oe(Z)}$.done?ae(j):Promise.resolve(j).then(ue,ne)}function X(O){return function(){var ae=this,oe=arguments;return new Promise(function(ue,ne){var we=O.apply(ae,oe);function he(j){c(we,ue,ne,he,$,"next",j)}function $(j){c(we,ue,ne,he,$,"throw",j)}he(void 0)})}}P.d(Te,{Z:()=>X})}},mt=>{mt(mt.s=8662)}]);