"use strict";(self.webpackChunklicorApp=self.webpackChunklicorApp||[]).push([[179],{2011:(gt,De,N)=>{N.d(De,{Dh:()=>we,GT:()=>ue,cc:()=>xe,hO:()=>ze,on:()=>z,pX:()=>oe,xv:()=>he});var l=N(4650),X=N(9260),O=N(8623);gt=N.hmd(gt);const ae=["ngOnDestroy"],oe=(ge,_t,Dt,Pe={})=>new Proxy(ge,{get:(Ee,fe)=>Dt.runOutsideAngular(()=>{var Ge;if(ge[fe])return!(null===(Ge=Pe?.spy)||void 0===Ge)&&Ge.get&&Pe.spy.get(fe,ge[fe]),ge[fe];if(ae.indexOf(fe)>-1)return()=>{};const He=_t.toPromise().then(et=>{const ee=et&&et[fe];return"function"==typeof ee?ee.bind(et):ee&&ee.then?ee.then(xt=>Dt.run(()=>xt)):Dt.run(()=>ee)});return new Proxy(()=>{},{get:(et,ee)=>He[ee],apply:(et,ee,xt)=>He.then(dt=>{var Zt;const lt=dt&&dt(...xt);return!(null===(Zt=Pe?.spy)||void 0===Zt)&&Zt.apply&&Pe.spy.apply(fe,xt,lt),lt})})})}),ue=(ge,_t)=>{_t.forEach(Dt=>{Object.getOwnPropertyNames(Dt.prototype||Dt).forEach(Pe=>{Object.defineProperty(ge.prototype,Pe,Object.getOwnPropertyDescriptor(Dt.prototype||Dt,Pe))})})};class ne{constructor(_t){return _t}}const we=new l.OlP("angularfire2.app.options"),he=new l.OlP("angularfire2.app.name");function z(ge,_t,Dt){const Ee="object"==typeof Dt&&Dt||{};Ee.name=Ee.name||"string"==typeof Dt&&Dt||"[DEFAULT]";const Ge=X.Z.apps.filter(He=>He&&He.name===Ee.name)[0]||_t.runOutsideAngular(()=>X.Z.initializeApp(ge,Ee));try{JSON.stringify(ge)!==JSON.stringify(Ge.options)&&$("error",`${Ge.name} Firebase App already initialized with different options${gt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ne(Ge)}const $=(ge,..._t)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ge](..._t)},W={provide:ne,useFactory:z,deps:[we,l.R0b,[new l.FiY,he]]};let ze=(()=>{class ge{constructor(Dt){X.Z.registerVersion("angularfire",O.q4.full,"core"),X.Z.registerVersion("angularfire",O.q4.full,"app-compat"),X.Z.registerVersion("angular",l.q4F.full,Dt.toString())}static initializeApp(Dt,Pe){return{ngModule:ge,providers:[{provide:we,useValue:Dt},{provide:he,useValue:Pe}]}}}return ge.\u0275fac=function(Dt){return new(Dt||ge)(l.LFG(l.Lbi))},ge.\u0275mod=l.oAB({type:ge}),ge.\u0275inj=l.cJS({providers:[W]}),ge})();function xe(ge,_t,Dt,Pe,Ee){const[,fe,Ge]=globalThis.\u0275AngularfireInstanceCache.find(He=>He[0]===ge)||[];if(fe)return function Ce(ge,_t){try{return ge.toString()===_t.toString()}catch{return ge===_t}}(Ee,Ge)||(_e("error",`${_t} was already initialized on the ${Dt} Firebase App with different settings.${ot?" You may need to reload as Firebase is not HMR aware.":""}`),_e("warn",{is:Ee,was:Ge})),fe;{const He=Pe();return globalThis.\u0275AngularfireInstanceCache.push([ge,He,Ee]),He}}const ot=!!gt.hot,_e=(ge,..._t)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ge](..._t)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8623:(gt,De,N)=>{N.d(De,{q4:()=>nc,iC:()=>nl,HU:()=>Nf,vb:()=>eo,JM:()=>uu});var l=N(4650),X=N(259),O=N(5861),ae=N(2951),oe=N(2090),ue=N(4859),ne=N(1877);let he,z;const ze=new WeakMap,xe=new WeakMap,Ce=new WeakMap,ot=new WeakMap,_e=new WeakMap;let Dt={get(C,T,x){if(C instanceof IDBTransaction){if("done"===T)return xe.get(C);if("objectStoreNames"===T)return C.objectStoreNames||Ce.get(C);if("store"===T)return x.objectStoreNames[1]?void 0:x.objectStore(x.objectStoreNames[0])}return Ge(C[T])},set:(C,T,x)=>(C[T]=x,!0),has:(C,T)=>C instanceof IDBTransaction&&("done"===T||"store"===T)||T in C};function fe(C){return"function"==typeof C?function Ee(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function W(){return z||(z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...T){return C.apply(He(this),T),Ge(ze.get(this))}:function(...T){return Ge(C.apply(He(this),T))}:function(T,...x){const L=C.call(He(this),T,...x);return Ce.set(L,T.sort?T.sort():[T]),Ge(L)}}(C):(C instanceof IDBTransaction&&function _t(C){if(xe.has(C))return;const T=new Promise((x,L)=>{const G=()=>{C.removeEventListener("complete",Q),C.removeEventListener("error",ve),C.removeEventListener("abort",ve)},Q=()=>{x(),G()},ve=()=>{L(C.error||new DOMException("AbortError","AbortError")),G()};C.addEventListener("complete",Q),C.addEventListener("error",ve),C.addEventListener("abort",ve)});xe.set(C,T)}(C),((C,T)=>T.some(x=>C instanceof x))(C,function $(){return he||(he=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,Dt):C)}function Ge(C){if(C instanceof IDBRequest)return function ge(C){const T=new Promise((x,L)=>{const G=()=>{C.removeEventListener("success",Q),C.removeEventListener("error",ve)},Q=()=>{x(Ge(C.result)),G()},ve=()=>{L(C.error),G()};C.addEventListener("success",Q),C.addEventListener("error",ve)});return T.then(x=>{x instanceof IDBCursor&&ze.set(x,C)}).catch(()=>{}),_e.set(T,C),T}(C);if(ot.has(C))return ot.get(C);const T=fe(C);return T!==C&&(ot.set(C,T),_e.set(T,C)),T}const He=C=>_e.get(C);function et(C,T,{blocked:x,upgrade:L,blocking:G,terminated:Q}={}){const ve=indexedDB.open(C,T),Ke=Ge(ve);return L&&ve.addEventListener("upgradeneeded",Qe=>{L(Ge(ve.result),Qe.oldVersion,Qe.newVersion,Ge(ve.transaction))}),x&&ve.addEventListener("blocked",()=>x()),Ke.then(Qe=>{Q&&Qe.addEventListener("close",()=>Q()),G&&Qe.addEventListener("versionchange",()=>G())}).catch(()=>{}),Ke}function ee(C,{blocked:T}={}){const x=indexedDB.deleteDatabase(C);return T&&x.addEventListener("blocked",()=>T()),Ge(x).then(()=>{})}const xt=["get","getKey","getAll","getAllKeys","count"],dt=["put","add","delete","clear"],Zt=new Map;function lt(C,T){if(!(C instanceof IDBDatabase)||T in C||"string"!=typeof T)return;if(Zt.get(T))return Zt.get(T);const x=T.replace(/FromIndex$/,""),L=T!==x,G=dt.includes(x);if(!(x in(L?IDBIndex:IDBObjectStore).prototype)||!G&&!xt.includes(x))return;const Q=function(){var ve=(0,O.Z)(function*(Ke,...Qe){const pt=this.transaction(Ke,G?"readwrite":"readonly");let Nt=pt.store;return L&&(Nt=Nt.index(Qe.shift())),(yield Promise.all([Nt[x](...Qe),G&&pt.done]))[0]});return function(Qe){return ve.apply(this,arguments)}}();return Zt.set(T,Q),Q}!function Pe(C){Dt=C(Dt)}(C=>({...C,get:(T,x,L)=>lt(T,x)||C.get(T,x,L),has:(T,x)=>!!lt(T,x)||C.has(T,x)}));const de="@firebase/installations",ke="w:0.6.4",Ve="FIS_v2",Gt=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Wt(C){return C instanceof oe.ZR&&C.code.includes("request-failed")}function en({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function On(C){return{token:C.token,requestStatus:2,expiresIn:ka(C.expiresIn),creationTime:Date.now()}}function $n(C,T){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,O.Z)(function*(C,T){const L=(yield T.json()).error;return Gt.create("request-failed",{requestName:C,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function rr({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function xi(C,{refreshToken:T}){const x=rr(C);return x.append("Authorization",function $o(C){return`${Ve} ${C}`}(T)),x}function ss(C){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,O.Z)(function*(C){const T=yield C();return T.status>=500&&T.status<600?C():T})).apply(this,arguments)}function ka(C){return Number(C.replace("s","000"))}function ht(C,T){return qi.apply(this,arguments)}function qi(){return(qi=(0,O.Z)(function*({appConfig:C,heartbeatServiceProvider:T},{fid:x}){const L=en(C),G=rr(C),Q=T.getImmediate({optional:!0});if(Q){const pt=yield Q.getHeartbeatsHeader();pt&&G.append("x-firebase-client",pt)}const Ke={method:"POST",headers:G,body:JSON.stringify({fid:x,authVersion:Ve,appId:C.appId,sdkVersion:ke})},Qe=yield ss(()=>fetch(L,Ke));if(Qe.ok){const pt=yield Qe.json();return{fid:pt.fid||x,registrationStatus:2,refreshToken:pt.refreshToken,authToken:On(pt.authToken)}}throw yield $n("Create Installation",Qe)})).apply(this,arguments)}function Fr(C){return new Promise(T=>{setTimeout(T,C)})}const zo=/^[cdef][\w-]{21}$/;function ui(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const x=function Mn(C){return function Zi(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return zo.test(x)?x:""}catch{return""}}function sn(C){return`${C.appName}!${C.appId}`}const it=new Map;function Et(C,T){const x=sn(C);sr(x,T),function si(C,T){const x=function Ri(){return!At&&"BroadcastChannel"in self&&(At=new BroadcastChannel("[Firebase] FID Change"),At.onmessage=C=>{sr(C.data.key,C.data.fid)}),At}();x&&x.postMessage({key:C,fid:T}),function _n(){0===it.size&&At&&(At.close(),At=null)}()}(x,T)}function sr(C,T){const x=it.get(C);if(x)for(const L of x)L(T)}let At=null;const di="firebase-installations-store";let ki=null;function Lr(){return ki||(ki=et("firebase-installations-database",1,{upgrade:(C,T)=>{0===T&&C.createObjectStore(di)}})),ki}function Vn(C,T){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,O.Z)(function*(C,T){const x=sn(C),G=(yield Lr()).transaction(di,"readwrite"),Q=G.objectStore(di),ve=yield Q.get(x);return yield Q.put(T,x),yield G.done,(!ve||ve.fid!==T.fid)&&Et(C,T.fid),T})).apply(this,arguments)}function as(C){return zn.apply(this,arguments)}function zn(){return(zn=(0,O.Z)(function*(C){const T=sn(C),L=(yield Lr()).transaction(di,"readwrite");yield L.objectStore(di).delete(T),yield L.done})).apply(this,arguments)}function or(C,T){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,O.Z)(function*(C,T){const x=sn(C),G=(yield Lr()).transaction(di,"readwrite"),Q=G.objectStore(di),ve=yield Q.get(x),Ke=T(ve);return void 0===Ke?yield Q.delete(x):yield Q.put(Ke,x),yield G.done,Ke&&(!ve||ve.fid!==Ke.fid)&&Et(C,Ke.fid),Ke})).apply(this,arguments)}function U(C){return V.apply(this,arguments)}function V(){return(V=(0,O.Z)(function*(C){let T;const x=yield or(C.appConfig,L=>{const G=q(L),Q=le(C,G);return T=Q.registrationPromise,Q.installationEntry});return""===x.fid?{installationEntry:yield T}:{installationEntry:x,registrationPromise:T}})).apply(this,arguments)}function q(C){return Be(C||{fid:ui(),registrationStatus:0})}function le(C,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(Gt.create("app-offline"))};const x={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},L=function Y(C,T){return qe.apply(this,arguments)}(C,x);return{installationEntry:x,registrationPromise:L}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:Mt(C)}:{installationEntry:T}}function qe(){return(qe=(0,O.Z)(function*(C,T){try{const x=yield ht(C,T);return Vn(C.appConfig,x)}catch(x){throw Wt(x)&&409===x.customData.serverCode?yield as(C.appConfig):yield Vn(C.appConfig,{fid:T.fid,registrationStatus:0}),x}})).apply(this,arguments)}function Mt(C){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,O.Z)(function*(C){let T=yield hn(C.appConfig);for(;1===T.registrationStatus;)yield Fr(100),T=yield hn(C.appConfig);if(0===T.registrationStatus){const{installationEntry:x,registrationPromise:L}=yield U(C);return L||x}return T})).apply(this,arguments)}function hn(C){return or(C,T=>{if(!T)throw Gt.create("installation-not-found");return Be(T)})}function Be(C){return function ct(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function yt(C,T){return wn.apply(this,arguments)}function wn(){return(wn=(0,O.Z)(function*({appConfig:C,heartbeatServiceProvider:T},x){const L=Pi(C,x),G=xi(C,x),Q=T.getImmediate({optional:!0});if(Q){const pt=yield Q.getHeartbeatsHeader();pt&&G.append("x-firebase-client",pt)}const Ke={method:"POST",headers:G,body:JSON.stringify({installation:{sdkVersion:ke,appId:C.appId}})},Qe=yield ss(()=>fetch(L,Ke));if(Qe.ok)return On(yield Qe.json());throw yield $n("Generate Auth Token",Qe)})).apply(this,arguments)}function Pi(C,{fid:T}){return`${en(C)}/${T}/authTokens:generate`}function En(C){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,O.Z)(function*(C,T=!1){let x;const L=yield or(C.appConfig,Q=>{if(!Vt(Q))throw Gt.create("not-registered");const ve=Q.authToken;if(!T&&an(ve))return Q;if(1===ve.requestStatus)return x=re(C,T),Q;{if(!navigator.onLine)throw Gt.create("app-offline");const Ke=Qt(Q);return x=Ne(C,Ke),Ke}});return x?yield x:L.authToken})).apply(this,arguments)}function re(C,T){return te.apply(this,arguments)}function te(){return(te=(0,O.Z)(function*(C,T){let x=yield Oe(C.appConfig);for(;1===x.authToken.requestStatus;)yield Fr(100),x=yield Oe(C.appConfig);const L=x.authToken;return 0===L.requestStatus?En(C,T):L})).apply(this,arguments)}function Oe(C){return or(C,T=>{if(!Vt(T))throw Gt.create("not-registered");return function Ni(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function Ne(C,T){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,O.Z)(function*(C,T){try{const x=yield yt(C,T),L=Object.assign(Object.assign({},T),{authToken:x});return yield Vn(C.appConfig,L),x}catch(x){if(!Wt(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const L=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield Vn(C.appConfig,L)}else yield as(C.appConfig);throw x}})).apply(this,arguments)}function Vt(C){return void 0!==C&&2===C.registrationStatus}function an(C){return 2===C.requestStatus&&!function Pn(C){const T=Date.now();return T<C.creationTime||C.creationTime+C.expiresIn<T+36e5}(C)}function Qt(C){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:T})}function ar(){return(ar=(0,O.Z)(function*(C){const T=C,{installationEntry:x,registrationPromise:L}=yield U(T);return L?L.catch(console.error):En(T).catch(console.error),x.fid})).apply(this,arguments)}function Sl(){return(Sl=(0,O.Z)(function*(C,T=!1){const x=C;return yield Cn(x),(yield En(x,T)).token})).apply(this,arguments)}function Cn(C){return ls.apply(this,arguments)}function ls(){return(ls=(0,O.Z)(function*(C){const{registrationPromise:T}=yield U(C);T&&(yield T)})).apply(this,arguments)}function hi(C){return Gt.create("missing-app-config-values",{valueName:C})}const Ki="installations",Ml=C=>{const T=C.getProvider("app").getImmediate(),x=function ld(C){if(!C||!C.options)throw hi("App Configuration");if(!C.name)throw hi("App Name");const T=["projectId","apiKey","appId"];for(const x of T)if(!C.options[x])throw hi(x);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(T);return{app:T,appConfig:x,heartbeatServiceProvider:(0,ae._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},Ts=C=>{const T=C.getProvider("app").getImmediate(),x=(0,ae._getProvider)(T,Ki).getImmediate();return{getId:()=>function _r(C){return ar.apply(this,arguments)}(x),getToken:G=>function qo(C){return Sl.apply(this,arguments)}(x,G)}};(function Br(){(0,ae._registerComponent)(new ue.wA(Ki,Ml,"PUBLIC")),(0,ae._registerComponent)(new ue.wA("installations-internal",Ts,"PRIVATE"))})(),(0,ae.registerVersion)(de,"0.6.4"),(0,ae.registerVersion)(de,"0.6.4","esm2017");const Ko="@firebase/remote-config",Tn=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class yr{constructor(T,x,L,G){this.client=T,this.storage=x,this.storageCache=L,this.logger=G}isCachedDataFresh(T,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-x,G=L<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${G}.`),G}fetch(T){var x=this;return(0,O.Z)(function*(){const[L,G]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(G&&x.isCachedDataFresh(T.cacheMaxAgeMillis,L))return G;T.eTag=G&&G.eTag;const Q=yield x.client.fetch(T),ve=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Q.status&&ve.push(x.storage.setLastSuccessfulFetchResponse(Q)),yield Promise.all(ve),Q})()}}function Yo(C=navigator){return C.languages&&C.languages[0]||C.language}class Oa{constructor(T,x,L,G,Q,ve){this.firebaseInstallations=T,this.sdkVersion=x,this.namespace=L,this.projectId=G,this.apiKey=Q,this.appId=ve}fetch(T){var x=this;return(0,O.Z)(function*(){const[L,G]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),ve=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,Ke={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},Qe={sdk_version:x.sdkVersion,app_instance_id:L,app_instance_id_token:G,app_id:x.appId,language_code:Yo()},pt={method:"POST",headers:Ke,body:JSON.stringify(Qe)},Nt=fetch(ve,pt),kt=new Promise((ur,Zr)=>{T.signal.addEventListener(()=>{const wi=new Error("The operation was aborted.");wi.name="AbortError",Zr(wi)})});let Sr;try{yield Promise.race([Nt,kt]),Sr=yield Nt}catch(ur){let Zr="fetch-client-network";throw"AbortError"===ur?.name&&(Zr="fetch-timeout"),Tn.create(Zr,{originalErrorMessage:ur?.message})}let bi=Sr.status;const da=Sr.headers.get("ETag")||void 0;let rl,Fs;if(200===Sr.status){let ur;try{ur=yield Sr.json()}catch(Zr){throw Tn.create("fetch-client-parse",{originalErrorMessage:Zr?.message})}rl=ur.entries,Fs=ur.state}if("INSTANCE_STATE_UNSPECIFIED"===Fs?bi=500:"NO_CHANGE"===Fs?bi=304:("NO_TEMPLATE"===Fs||"EMPTY_CONFIG"===Fs)&&(rl={}),304!==bi&&200!==bi)throw Tn.create("fetch-status",{httpStatus:bi});return{status:bi,eTag:da,config:rl}})()}}class pf{constructor(T,x){this.client=T,this.storage=x}fetch(T){var x=this;return(0,O.Z)(function*(){const L=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(T,L)})()}attemptFetch(T,{throttleEndTimeMillis:x,backoffCount:L}){var G=this;return(0,O.Z)(function*(){yield function Gc(C,T){return new Promise((x,L)=>{const G=Math.max(T-Date.now(),0),Q=setTimeout(x,G);C.addEventListener(()=>{clearTimeout(Q),L(Tn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,x);try{const Q=yield G.client.fetch(T);return yield G.storage.deleteThrottleMetadata(),Q}catch(Q){if(!function kl(C){if(!(C instanceof oe.ZR&&C.customData))return!1;const T=Number(C.customData.httpStatus);return 429===T||500===T||503===T||504===T}(Q))throw Q;const ve={throttleEndTimeMillis:Date.now()+(0,oe.$s)(L),backoffCount:L+1};return yield G.storage.setThrottleMetadata(ve),G.attemptFetch(T,ve)}})()}}class mf{constructor(T,x,L,G,Q){this.app=T,this._client=x,this._storageCache=L,this._storage=G,this._logger=Q,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function _i(C,T){const x=C.target.error||void 0;return Tn.create(T,{originalErrorMessage:x&&x?.message})}const Bi="app_namespace_store";class sE{constructor(T,x,L,G=function Nl(){return new Promise((C,T)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=L=>{T(_i(L,"storage-open"))},x.onsuccess=L=>{C(L.target.result)},x.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(Bi,{keyPath:"compositeKey"})}}catch(x){T(Tn.create("storage-open",{originalErrorMessage:x?.message}))}})}()){this.appId=T,this.appName=x,this.namespace=L,this.openDbPromise=G}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var x=this;return(0,O.Z)(function*(){const L=yield x.openDbPromise;return new Promise((G,Q)=>{const Ke=L.transaction([Bi],"readonly").objectStore(Bi),Qe=x.createCompositeKey(T);try{const pt=Ke.get(Qe);pt.onerror=Nt=>{Q(_i(Nt,"storage-get"))},pt.onsuccess=Nt=>{const kt=Nt.target.result;G(kt?kt.value:void 0)}}catch(pt){Q(Tn.create("storage-get",{originalErrorMessage:pt?.message}))}})})()}set(T,x){var L=this;return(0,O.Z)(function*(){const G=yield L.openDbPromise;return new Promise((Q,ve)=>{const Qe=G.transaction([Bi],"readwrite").objectStore(Bi),pt=L.createCompositeKey(T);try{const Nt=Qe.put({compositeKey:pt,value:x});Nt.onerror=kt=>{ve(_i(kt,"storage-set"))},Nt.onsuccess=()=>{Q()}}catch(Nt){ve(Tn.create("storage-set",{originalErrorMessage:Nt?.message}))}})})()}delete(T){var x=this;return(0,O.Z)(function*(){const L=yield x.openDbPromise;return new Promise((G,Q)=>{const Ke=L.transaction([Bi],"readwrite").objectStore(Bi),Qe=x.createCompositeKey(T);try{const pt=Ke.delete(Qe);pt.onerror=Nt=>{Q(_i(Nt,"storage-delete"))},pt.onsuccess=()=>{G()}}catch(pt){Q(Tn.create("storage-delete",{originalErrorMessage:pt?.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class Gn{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,O.Z)(function*(){const x=T.storage.getLastFetchStatus(),L=T.storage.getLastSuccessfulFetchTimestampMillis(),G=T.storage.getActiveConfig(),Q=yield x;Q&&(T.lastFetchStatus=Q);const ve=yield L;ve&&(T.lastSuccessfulFetchTimestampMillis=ve);const Ke=yield G;Ke&&(T.activeConfig=Ke)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function Yi(){return qc.apply(this,arguments)}function qc(){return(qc=(0,O.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}!function As(){(0,ae._registerComponent)(new ue.wA("remote-config",function C(T,{instanceIdentifier:x}){const L=T.getProvider("app").getImmediate(),G=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Tn.create("registration-window");if(!(0,oe.hl)())throw Tn.create("indexed-db-unavailable");const{projectId:Q,apiKey:ve,appId:Ke}=L.options;if(!Q)throw Tn.create("registration-project-id");if(!ve)throw Tn.create("registration-api-key");if(!Ke)throw Tn.create("registration-app-id");const Qe=new sE(Ke,L.name,x=x||"firebase"),pt=new Gn(Qe),Nt=new ne.Yd(Ko);Nt.logLevel=ne.in.ERROR;const kt=new Oa(G,ae.SDK_VERSION,x,Q,ve,Ke),Sr=new pf(kt,Qe),bi=new yr(Sr,Qe,pt,Nt),da=new mf(L,bi,pt,Qe,Nt);return function eg(C){const T=(0,oe.m9)(C);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(da),da},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(Ko,"0.4.4"),(0,ae.registerVersion)(Ko,"0.4.4","esm2017")}();const Ll="/firebase-messaging-sw.js",Pa="/firebase-cloud-messaging-push-scope",qn="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",qs="google.c.a.c_id",_d="google.c.a.c_l",Hr="google.c.a.ts",yo="google.c.a.e";var Ct=(()=>{return(C=Ct||(Ct={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",Ct;var C})();function cs(C){const T=new Uint8Array(C);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function yd(C){const x=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(x),G=new Uint8Array(L.length);for(let Q=0;Q<L.length;++Q)G[Q]=L.charCodeAt(Q);return G}const Na="fcm_token_details_db",Zc="fcm_token_object_Store";function bd(C){return Fa.apply(this,arguments)}function Fa(){return Fa=(0,O.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Q=>Q.name).includes(Na))return null;let T=null;return(yield et(Na,5,{upgrade:(L=(0,O.Z)(function*(G,Q,ve,Ke){var Qe;if(Q<2||!G.objectStoreNames.contains(Zc))return;const pt=Ke.objectStore(Zc),Nt=yield pt.index("fcmSenderId").get(C);if(yield pt.clear(),Nt)if(2===Q){const kt=Nt;if(!kt.auth||!kt.p256dh||!kt.endpoint)return;T={token:kt.fcmToken,createTime:null!==(Qe=kt.createTime)&&void 0!==Qe?Qe:Date.now(),subscriptionOptions:{auth:kt.auth,p256dh:kt.p256dh,endpoint:kt.endpoint,swScope:kt.swScope,vapidKey:"string"==typeof kt.vapidKey?kt.vapidKey:cs(kt.vapidKey)}}}else if(3===Q){const kt=Nt;T={token:kt.fcmToken,createTime:kt.createTime,subscriptionOptions:{auth:cs(kt.auth),p256dh:cs(kt.p256dh),endpoint:kt.endpoint,swScope:kt.swScope,vapidKey:cs(kt.vapidKey)}}}else if(4===Q){const kt=Nt;T={token:kt.fcmToken,createTime:kt.createTime,subscriptionOptions:{auth:cs(kt.auth),p256dh:cs(kt.p256dh),endpoint:kt.endpoint,swScope:kt.swScope,vapidKey:cs(kt.vapidKey)}}}}),function(Q,ve,Ke,Qe){return L.apply(this,arguments)})})).close(),yield ee(Na),yield ee("fcm_vapid_details_db"),yield ee("undefined"),wd(T)?T:null;var L}),Fa.apply(this,arguments)}function wd(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:T}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const us="firebase-messaging-store";let La=null;function Bn(){return La||(La=et("firebase-messaging-database",1,{upgrade:(C,T)=>{0===T&&C.createObjectStore(us)}})),La}function Vl(C){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,O.Z)(function*(C){const T=xn(C),L=yield(yield Bn()).transaction(us).objectStore(us).get(T);if(L)return L;{const G=yield bd(C.appConfig.senderId);if(G)return yield Ui(C,G),G}})).apply(this,arguments)}function Ui(C,T){return vo.apply(this,arguments)}function vo(){return(vo=(0,O.Z)(function*(C,T){const x=xn(C),G=(yield Bn()).transaction(us,"readwrite");return yield G.objectStore(us).put(T,x),yield G.done,T})).apply(this,arguments)}function Wc(C){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,O.Z)(function*(C){const T=xn(C),L=(yield Bn()).transaction(us,"readwrite");yield L.objectStore(us).delete(T),yield L.done})).apply(this,arguments)}function xn({appConfig:C}){return C.appId}const yi=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Fi(C,T){return ds.apply(this,arguments)}function ds(){return(ds=(0,O.Z)(function*(C,T){const x=yield Ed(C),L=Hl(T),G={method:"POST",headers:x,body:JSON.stringify(L)};let Q;try{Q=yield(yield fetch(Zs(C.appConfig),G)).json()}catch(ve){throw yi.create("token-subscribe-failed",{errorInfo:ve?.toString()})}if(Q.error)throw yi.create("token-subscribe-failed",{errorInfo:Q.error.message});if(!Q.token)throw yi.create("token-subscribe-no-token");return Q.token})).apply(this,arguments)}function Kc(C,T){return jr.apply(this,arguments)}function jr(){return(jr=(0,O.Z)(function*(C,T){const x=yield Ed(C),L=Hl(T.subscriptionOptions),G={method:"PATCH",headers:x,body:JSON.stringify(L)};let Q;try{Q=yield(yield fetch(`${Zs(C.appConfig)}/${T.token}`,G)).json()}catch(ve){throw yi.create("token-update-failed",{errorInfo:ve?.toString()})}if(Q.error)throw yi.create("token-update-failed",{errorInfo:Q.error.message});if(!Q.token)throw yi.create("token-update-no-token");return Q.token})).apply(this,arguments)}function br(C,T){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,O.Z)(function*(C,T){const L={method:"DELETE",headers:yield Ed(C)};try{const Q=yield(yield fetch(`${Zs(C.appConfig)}/${T}`,L)).json();if(Q.error)throw yi.create("token-unsubscribe-failed",{errorInfo:Q.error.message})}catch(G){throw yi.create("token-unsubscribe-failed",{errorInfo:G?.toString()})}})).apply(this,arguments)}function Zs({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function Ed(C){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,O.Z)(function*({appConfig:C,installations:T}){const x=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function Hl({p256dh:C,auth:T,endpoint:x,vapidKey:L}){const G={web:{endpoint:x,auth:T,p256dh:C}};return L!==qn&&(G.web.applicationPubKey=L),G}const Va=6048e5;function jl(C){return $r.apply(this,arguments)}function $r(){return($r=(0,O.Z)(function*(C){const T=yield Dd(C.swRegistration,C.vapidKey),x={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:T.endpoint,auth:cs(T.getKey("auth")),p256dh:cs(T.getKey("p256dh"))},L=yield Vl(C.firebaseDependencies);if(L){if(Td(L.subscriptionOptions,x))return Date.now()>=L.createTime+Va?$l(C,{token:L.token,createTime:Date.now(),subscriptionOptions:x}):L.token;try{yield br(C.firebaseDependencies,L.token)}catch(G){console.warn(G)}return Id(C.firebaseDependencies,x)}return Id(C.firebaseDependencies,x)})).apply(this,arguments)}function Cd(C){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,O.Z)(function*(C){const T=yield Vl(C.firebaseDependencies);T&&(yield br(C.firebaseDependencies,T.token),yield Wc(C.firebaseDependencies));const x=yield C.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function $l(C,T){return bo.apply(this,arguments)}function bo(){return(bo=(0,O.Z)(function*(C,T){try{const x=yield Kc(C.firebaseDependencies,T),L=Object.assign(Object.assign({},T),{token:x,createTime:Date.now()});return yield Ui(C.firebaseDependencies,L),x}catch(x){throw yield Cd(C),x}})).apply(this,arguments)}function Id(C,T){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,O.Z)(function*(C,T){const L={token:yield Fi(C,T),createTime:Date.now(),subscriptionOptions:T};return yield Ui(C,L),L.token})).apply(this,arguments)}function Dd(C,T){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,O.Z)(function*(C,T){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:yd(T)})})).apply(this,arguments)}function Td(C,T){return T.vapidKey===C.vapidKey&&T.endpoint===C.endpoint&&T.auth===C.auth&&T.p256dh===C.p256dh}function yf(C){const T={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Qi(C,T){if(!T.notification)return;C.notification={};const x=T.notification.title;x&&(C.notification.title=x);const L=T.notification.body;L&&(C.notification.body=L);const G=T.notification.image;G&&(C.notification.image=G);const Q=T.notification.icon;Q&&(C.notification.icon=Q)}(T,C),function xs(C,T){!T.data||(C.data=T.data)}(T,C),function Un(C,T){var x,L,G,Q,ve;if(!(T.fcmOptions||null!==(x=T.notification)&&void 0!==x&&x.click_action))return;C.fcmOptions={};const Ke=null!==(G=null===(L=T.fcmOptions)||void 0===L?void 0:L.link)&&void 0!==G?G:null===(Q=T.notification)||void 0===Q?void 0:Q.click_action;Ke&&(C.fcmOptions.link=Ke);const Qe=null===(ve=T.fcmOptions)||void 0===ve?void 0:ve.analytics_label;Qe&&(C.fcmOptions.analyticsLabel=Qe)}(T,C),T}function Sd(C){return"object"==typeof C&&!!C&&qs in C}function vf(C,T){const x=[];for(let L=0;L<C.length;L++)x.push(C.charAt(L)),L<T.length&&x.push(T.charAt(L));return x.join("")}function Md(C){return yi.create("missing-app-config-values",{valueName:C})}vf("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),vf("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class xd{constructor(T,x,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const G=function Ad(C){if(!C||!C.options)throw Md("App Configuration Object");if(!C.name)throw Md("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:x}=C;for(const L of T)if(!x[L])throw Md(L);return{appName:C.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:G,installations:x,analyticsProvider:L}}_delete(){return Promise.resolve()}}function Rd(C){return wo.apply(this,arguments)}function wo(){return(wo=(0,O.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(Ll,{scope:Pa}),C.swRegistration.update().catch(()=>{})}catch(T){throw yi.create("failed-service-worker-registration",{browserErrorMessage:T?.message})}})).apply(this,arguments)}function zl(C,T){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,O.Z)(function*(C,T){if(!T&&!C.swRegistration&&(yield Rd(C)),T||!C.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw yi.create("invalid-sw-registration");C.swRegistration=T}})).apply(this,arguments)}function kd(C,T){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,O.Z)(function*(C,T){T?C.vapidKey=T:C.vapidKey||(C.vapidKey=qn)})).apply(this,arguments)}function Rs(){return(Rs=(0,O.Z)(function*(C,T){if(!navigator)throw yi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw yi.create("permission-blocked");return yield kd(C,T?.vapidKey),yield zl(C,T?.serviceWorkerRegistration),jl(C)})).apply(this,arguments)}function ja(C,T,x){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,O.Z)(function*(C,T,x){const L=ng(T);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:x[qs],message_name:x[_d],message_time:x[Hr],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ng(C){switch(C){case Ct.NOTIFICATION_CLICKED:return"notification_open";case Ct.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function $a(){return($a=(0,O.Z)(function*(C,T){const x=T.data;if(!x.isFirebaseMessaging)return;C.onMessageHandler&&x.messageType===Ct.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(yf(x)):C.onMessageHandler.next(yf(x)));const L=x.data;Sd(L)&&"1"===L[yo]&&(yield ja(C,x.messageType,L))})).apply(this,arguments)}const wf="@firebase/messaging",Pd=C=>{const T=new xd(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function ks(C,T){return $a.apply(this,arguments)}(T,x)),T},ql=C=>{const T=C.getProvider("messaging").getImmediate();return{getToken:L=>function bf(C,T){return Rs.apply(this,arguments)}(T,L)}};function za(){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,O.Z)(function*(){try{yield(0,oe.eu)()}catch{return!1}return typeof window<"u"&&(0,oe.hl)()&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Zl(){(0,ae._registerComponent)(new ue.wA("messaging",Pd,"PUBLIC")),(0,ae._registerComponent)(new ue.wA("messaging-internal",ql,"PRIVATE")),(0,ae.registerVersion)(wf,"0.12.4"),(0,ae.registerVersion)(wf,"0.12.4","esm2017")}();const fs="analytics",Ks="firebase_id",wr="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Jc="https://www.googletagmanager.com/gtag/js",Nn=new ne.Yd("@firebase/analytics"),oi=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ea(C){if(!C.startsWith(Jc)){const T=oi.create("invalid-gtag-resource",{gtagURL:C});return Nn.warn(T.message),""}return C}function qa(C){return Promise.all(C.map(T=>T.catch(x=>x)))}function Ql(C,T){const x=function Eo(C,T){let x;return window.trustedTypes&&(x=window.trustedTypes.createPolicy(C,T)),x}("firebase-js-sdk-policy",{createScriptURL:ea}),L=document.createElement("script"),G=`${Jc}?l=${C}&id=${T}`;L.src=x?x?.createScriptURL(G):G,L.async=!0,document.head.appendChild(L)}function Za(C,T,x,L,G,Q){return ta.apply(this,arguments)}function ta(){return(ta=(0,O.Z)(function*(C,T,x,L,G,Q){const ve=L[G];try{if(ve)yield T[ve];else{const Qe=(yield qa(x)).find(pt=>pt.measurementId===G);Qe&&(yield T[Qe.appId])}}catch(Ke){Nn.error(Ke)}C("config",G,Q)})).apply(this,arguments)}function ig(C,T,x,L,G){return ps.apply(this,arguments)}function ps(){return(ps=(0,O.Z)(function*(C,T,x,L,G){try{let Q=[];if(G&&G.send_to){let ve=G.send_to;Array.isArray(ve)||(ve=[ve]);const Ke=yield qa(x);for(const Qe of ve){const pt=Ke.find(kt=>kt.measurementId===Qe),Nt=pt&&T[pt.appId];if(!Nt){Q=[];break}Q.push(Nt)}}0===Q.length&&(Q=Object.values(T)),yield Promise.all(Q),C("event",L,G||{})}catch(Q){Nn.error(Q)}})).apply(this,arguments)}function Nd(C){const T=window.document.getElementsByTagName("script");for(const x of Object.values(T))if(x.src&&x.src.includes(Jc)&&x.src.includes(C))return x;return null}const Hn=new class If{constructor(T={},x=1e3){this.throttleMetadata=T,this.intervalMillis=x}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,x){this.throttleMetadata[T]=x}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function tu(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function Ka(C){return nu.apply(this,arguments)}function nu(){return(nu=(0,O.Z)(function*(C){var T;const{appId:x,apiKey:L}=C,G={method:"GET",headers:tu(L)},Q=wr.replace("{app-id}",x),ve=yield fetch(Q,G);if(200!==ve.status&&304!==ve.status){let Ke="";try{const Qe=yield ve.json();null!==(T=Qe.error)&&void 0!==T&&T.message&&(Ke=Qe.error.message)}catch{}throw oi.create("config-fetch-failed",{httpStatus:ve.status,responseMessage:Ke})}return ve.json()})).apply(this,arguments)}function Xl(C){return Os.apply(this,arguments)}function Os(){return(Os=(0,O.Z)(function*(C,T=Hn,x){const{appId:L,apiKey:G,measurementId:Q}=C.options;if(!L)throw oi.create("no-app-id");if(!G){if(Q)return{measurementId:Q,appId:L};throw oi.create("no-api-key")}const ve=T.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ke=new Qs;return setTimeout((0,O.Z)(function*(){Ke.abort()}),void 0!==x?x:6e4),na({appId:L,apiKey:G,measurementId:Q},ve,Ke,T)})).apply(this,arguments)}function na(C,T,x){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,O.Z)(function*(C,{throttleEndTimeMillis:T,backoffCount:x},L,G=Hn){var Q;const{appId:ve,measurementId:Ke}=C;try{yield Ld(L,T)}catch(Qe){if(Ke)return Nn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ke} provided in the "measurementId" field in the local Firebase config. [${Qe?.message}]`),{appId:ve,measurementId:Ke};throw Qe}try{const Qe=yield Ka(C);return G.deleteThrottleMetadata(ve),Qe}catch(Qe){const pt=Qe;if(!ia(pt)){if(G.deleteThrottleMetadata(ve),Ke)return Nn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ke} provided in the "measurementId" field in the local Firebase config. [${pt?.message}]`),{appId:ve,measurementId:Ke};throw Qe}const Nt=503===Number(null===(Q=pt?.customData)||void 0===Q?void 0:Q.httpStatus)?(0,oe.$s)(x,G.intervalMillis,30):(0,oe.$s)(x,G.intervalMillis),kt={throttleEndTimeMillis:Date.now()+Nt,backoffCount:x+1};return G.setThrottleMetadata(ve,kt),Nn.debug(`Calling attemptFetch again in ${Nt} millis`),na(C,kt,L,G)}})).apply(this,arguments)}function Ld(C,T){return new Promise((x,L)=>{const G=Math.max(T-Date.now(),0),Q=setTimeout(x,G);C.addEventListener(()=>{clearTimeout(Q),L(oi.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function ia(C){if(!(C instanceof oe.ZR&&C.customData))return!1;const T=Number(C.customData.httpStatus);return 429===T||500===T||503===T||504===T}class Qs{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let ra,Xn;function cn(){return(cn=(0,O.Z)(function*(C,T,x,L,G){if(G&&G.global)C("event",x,L);else{const Q=yield T;C("event",x,Object.assign(Object.assign({},L),{send_to:Q}))}})).apply(this,arguments)}function Qa(C){Xn=C}function cr(C){ra=C}function rg(){return su.apply(this,arguments)}function su(){return(su=(0,O.Z)(function*(){if(!(0,oe.hl)())return Nn.warn(oi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(C){return Nn.warn(oi.create("indexeddb-unavailable",{errorInfo:C?.toString()}).message),!1}return!0})).apply(this,arguments)}function Er(){return(Er=(0,O.Z)(function*(C,T,x,L,G,Q,ve){var Ke;const Qe=Xl(C);Qe.then(bi=>{x[bi.measurementId]=bi.appId,C.options.measurementId&&bi.measurementId!==C.options.measurementId&&Nn.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${bi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(bi=>Nn.error(bi)),T.push(Qe);const pt=rg().then(bi=>{if(bi)return L.getId()}),[Nt,kt]=yield Promise.all([Qe,pt]);Nd(Q)||Ql(Q,Nt.measurementId),Xn&&(G("consent","default",Xn),Qa(void 0)),G("js",new Date);const Sr=null!==(Ke=ve?.config)&&void 0!==Ke?Ke:{};return Sr.origin="firebase",Sr.update=!0,null!=kt&&(Sr[Ks]=kt),G("config",Nt.measurementId,Sr),ra&&(G("set",ra),cr(void 0)),Nt.measurementId})).apply(this,arguments)}class Af{constructor(T){this.app=T}_delete(){return delete Cr[this.app.options.appId],Promise.resolve()}}let Cr={},Io=[];const ou={};let sg,Xs,au="dataLayer",ec=!1;function Xa(C,T,x){!function Bd(){const C=[];if((0,oe.ru)()&&C.push("This is a browser extension environment."),(0,oe.zI)()||C.push("Cookies are not available."),C.length>0){const T=C.map((L,G)=>`(${G+1}) ${L}`).join(" "),x=oi.create("invalid-analytics-context",{errorInfo:T});Nn.warn(x.message)}}();const L=C.options.appId;if(!L)throw oi.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw oi.create("no-api-key");Nn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Cr[L])throw oi.create("already-exists",{id:L});if(!ec){!function Cf(C){let T=[];Array.isArray(window[C])?T=window[C]:window[C]=T}(au);const{wrappedGtag:Q,gtagCore:ve}=function Ys(C,T,x,L,G){let Q=function(...ve){window[L].push(arguments)};return window[G]&&"function"==typeof window[G]&&(Q=window[G]),window[G]=function Wa(C,T,x,L){function Q(){return(Q=(0,O.Z)(function*(ve,...Ke){try{if("event"===ve){const[Qe,pt]=Ke;yield ig(C,T,x,Qe,pt)}else if("config"===ve){const[Qe,pt]=Ke;yield Za(C,T,x,L,Qe,pt)}else if("consent"===ve){const[Qe]=Ke;C("consent","update",Qe)}else if("get"===ve){const[Qe,pt,Nt]=Ke;C("get",Qe,pt,Nt)}else if("set"===ve){const[Qe]=Ke;C("set",Qe)}else C(ve,...Ke)}catch(Qe){Nn.error(Qe)}})).apply(this,arguments)}return function G(ve){return Q.apply(this,arguments)}}(Q,C,T,x),{gtagCore:Q,wrappedGtag:window[G]}}(Cr,Io,ou,au,"gtag");Xs=Q,sg=ve,ec=!0}return Cr[L]=function fi(C,T,x,L,G,Q,ve){return Er.apply(this,arguments)}(C,Io,ou,T,sg,au,x),new Af(C)}function Ud(){return Hd.apply(this,arguments)}function Hd(){return(Hd=(0,O.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}const Do="@firebase/analytics";!function kf(){(0,ae._registerComponent)(new ue.wA(fs,(T,{options:x})=>Xa(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,ae._registerComponent)(new ue.wA("analytics-internal",function C(T){try{const x=T.getProvider(fs).getImmediate();return{logEvent:(L,G,Q)=>function nn(C,T,x,L){C=(0,oe.m9)(C),function Ya(C,T,x,L,G){return cn.apply(this,arguments)}(Xs,Cr[C.app.options.appId],T,x,L).catch(G=>Nn.error(G))}(x,L,G,Q)}}catch(x){throw oi.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,ae.registerVersion)(Do,"0.10.0"),(0,ae.registerVersion)(Do,"0.10.0","esm2017")}();var Of=N(4408),aa=N(7565);const la=new class Dr extends aa.v{}(class el extends Of.o{constructor(T,x){super(T,x),this.scheduler=T,this.work=x}schedule(T,x=0){return x>0?super.schedule(T,x):(this.delay=x,this.state=T,this.scheduler.flush(this),this)}execute(T,x){return x>0||this.closed?super.execute(T,x):this._execute(T,x)}requestAsyncId(T,x,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(T,x,L):(T.flush(this),0)}});var ft=N(4986),tc=N(8505),cu=N(9468),Ns=N(5363);const nc=new l.GfV("7.5.0"),ic="__angularfire_symbol__analyticsIsSupportedValue",Js="__angularfire_symbol__analyticsIsSupported",Gr="__angularfire_symbol__remoteConfigIsSupportedValue",vi="__angularfire_symbol__remoteConfigIsSupported",ca="__angularfire_symbol__messagingIsSupportedValue",ms="__angularfire_symbol__messagingIsSupported";function uu(C,T,x){if(T){if(1===T.length)return T[0];const Q=T.filter(ve=>ve.app===x);if(1===Q.length)return Q[0]}return x.container.getProvider(C).getImmediate({optional:!0})}globalThis[Js]||(globalThis[Js]=Ud().then(C=>globalThis[ic]=C).catch(()=>globalThis[ic]=!1)),globalThis[ms]||(globalThis[ms]=za().then(C=>globalThis[ca]=C).catch(()=>globalThis[ca]=!1)),globalThis[vi]||(globalThis[vi]=Yi().then(C=>globalThis[Gr]=C).catch(()=>globalThis[Gr]=!1));const eo=(C,T)=>{const x=T?[T]:(0,X.C6)(),L=[];return x.forEach(G=>{G.container.getProvider(C).instances.forEach(ve=>{L.includes(ve)||L.push(ve)})}),L};function To(){}class Rn{constructor(T,x=la){this.zone=T,this.delegate=x}now(){return this.delegate.now()}schedule(T,x,L){const G=this.zone;return this.delegate.schedule(function(ve){G.runGuarded(()=>{T.apply(this,[ve])})},x,L)}}class Tr{constructor(T){this.zone=T,this.task=null}call(T,x){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",To,{},To,To)),x.pipe((0,tc.b)({next:L,complete:L,error:L})).subscribe(T).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Nf=(()=>{class C{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new Rn(Zone.current)),this.insideAngular=x.run(()=>new Rn(Zone.current,ft.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(x){return new(x||C)(l.LFG(l.R0b))},C.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function Zn(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function nl(C){return Zn(),function il(C){return function(x){return(x=x.lift(new Tr(C.ngZone))).pipe((0,cu.R)(C.outsideAngular),(0,Ns.Q)(C.insideAngular))}}(Zn())(C)}},2090:(gt,De,N)=>{N.d(De,{$s:()=>as,BH:()=>fe,G6:()=>ke,L:()=>he,LL:()=>Ue,Pz:()=>Ee,Sg:()=>Ge,UG:()=>ee,US:()=>ue,ZB:()=>W,ZR:()=>Ft,aH:()=>Pe,b$:()=>Zt,eu:()=>Ie,hl:()=>Ve,jU:()=>xt,m9:()=>Wi,ne:()=>sn,pd:()=>ui,r3:()=>Nr,ru:()=>dt,tV:()=>z,uI:()=>et,vZ:()=>qi,w1:()=>de,xO:()=>zo,xb:()=>$o,z$:()=>He,zI:()=>Rt,zd:()=>gr});const ae=function(U){const V=[];let q=0;for(let le=0;le<U.length;le++){let Y=U.charCodeAt(le);Y<128?V[q++]=Y:Y<2048?(V[q++]=Y>>6|192,V[q++]=63&Y|128):55296==(64512&Y)&&le+1<U.length&&56320==(64512&U.charCodeAt(le+1))?(Y=65536+((1023&Y)<<10)+(1023&U.charCodeAt(++le)),V[q++]=Y>>18|240,V[q++]=Y>>12&63|128,V[q++]=Y>>6&63|128,V[q++]=63&Y|128):(V[q++]=Y>>12|224,V[q++]=Y>>6&63|128,V[q++]=63&Y|128)}return V},ue={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,V){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,le=[];for(let Y=0;Y<U.length;Y+=3){const qe=U[Y],Mt=Y+1<U.length,Lt=Mt?U[Y+1]:0,hn=Y+2<U.length,Be=hn?U[Y+2]:0;let wn=(15&Lt)<<2|Be>>6,Pi=63&Be;hn||(Pi=64,Mt||(wn=64)),le.push(q[qe>>2],q[(3&qe)<<4|Lt>>4],q[wn],q[Pi])}return le.join("")},encodeString(U,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(U):this.encodeByteArray(ae(U),V)},decodeString(U,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(U):function(U){const V=[];let q=0,le=0;for(;q<U.length;){const Y=U[q++];if(Y<128)V[le++]=String.fromCharCode(Y);else if(Y>191&&Y<224){const qe=U[q++];V[le++]=String.fromCharCode((31&Y)<<6|63&qe)}else if(Y>239&&Y<365){const hn=((7&Y)<<18|(63&U[q++])<<12|(63&U[q++])<<6|63&U[q++])-65536;V[le++]=String.fromCharCode(55296+(hn>>10)),V[le++]=String.fromCharCode(56320+(1023&hn))}else{const qe=U[q++],Mt=U[q++];V[le++]=String.fromCharCode((15&Y)<<12|(63&qe)<<6|63&Mt)}}return V.join("")}(this.decodeStringToByteArray(U,V))},decodeStringToByteArray(U,V){this.init_();const q=V?this.charToByteMapWebSafe_:this.charToByteMap_,le=[];for(let Y=0;Y<U.length;){const qe=q[U.charAt(Y++)],Lt=Y<U.length?q[U.charAt(Y)]:0;++Y;const Be=Y<U.length?q[U.charAt(Y)]:64;++Y;const yt=Y<U.length?q[U.charAt(Y)]:64;if(++Y,null==qe||null==Lt||null==Be||null==yt)throw new ne;le.push(qe<<2|Lt>>4),64!==Be&&(le.push(Lt<<4&240|Be>>2),64!==yt&&le.push(Be<<6&192|yt))}return le},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}};class ne extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const he=function(U){return function(U){const V=ae(U);return ue.encodeByteArray(V,!0)}(U).replace(/\./g,"")},z=function(U){try{return ue.decodeString(U,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function W(U,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return V}for(const q in V)!V.hasOwnProperty(q)||!ze(q)||(U[q]=W(U[q],V[q]));return U}function ze(U){return"__proto__"!==U}const ge=()=>{try{return function xe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const U=process.env.__FIREBASE_DEFAULTS__;return U?JSON.parse(U):void 0})()||(()=>{if(typeof document>"u")return;let U;try{U=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const V=U&&z(U[1]);return V&&JSON.parse(V)})()}catch(U){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${U}`)}},Pe=()=>{var U;return null===(U=ge())||void 0===U?void 0:U.config},Ee=U=>{var V;return null===(V=ge())||void 0===V?void 0:V[`_${U}`]};class fe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,q)=>{this.resolve=V,this.reject=q})}wrapCallback(V){return(q,le)=>{q?this.reject(q):this.resolve(le),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(q):V(q,le))}}}function Ge(U,V){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const le=V||"demo-project",Y=U.iat||0,qe=U.sub||U.user_id;if(!qe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Mt=Object.assign({iss:`https://securetoken.google.com/${le}`,aud:le,iat:Y,exp:Y+3600,auth_time:Y,sub:qe,user_id:qe,firebase:{sign_in_provider:"custom",identities:{}}},U);return[he(JSON.stringify({alg:"none",type:"JWT"})),he(JSON.stringify(Mt)),""].join(".")}function He(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function et(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(He())}function ee(){var U;const V=null===(U=ge())||void 0===U?void 0:U.forceEnvironment;if("node"===V)return!0;if("browser"===V)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function xt(){return"object"==typeof self&&self.self===self}function dt(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function Zt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function de(){const U=He();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function ke(){return!ee()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ve(){try{return"object"==typeof indexedDB}catch{return!1}}function Ie(){return new Promise((U,V)=>{try{let q=!0;const le="validate-browser-context-for-indexeddb-analytics-module",Y=self.indexedDB.open(le);Y.onsuccess=()=>{Y.result.close(),q||self.indexedDB.deleteDatabase(le),U(!0)},Y.onupgradeneeded=()=>{q=!1},Y.onerror=()=>{var qe;V((null===(qe=Y.error)||void 0===qe?void 0:qe.message)||"")}}catch(q){V(q)}})}function Rt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ft extends Error{constructor(V,q,le){super(q),this.code=V,this.customData=le,this.name="FirebaseError",Object.setPrototypeOf(this,Ft.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ue.prototype.create)}}class Ue{constructor(V,q,le){this.service=V,this.serviceName=q,this.errors=le}create(V,...q){const le=q[0]||{},Y=`${this.service}/${V}`,qe=this.errors[V],Mt=qe?function Gt(U,V){return U.replace(Wt,(q,le)=>{const Y=V[le];return null!=Y?String(Y):`<${le}?>`})}(qe,le):"Error";return new Ft(Y,`${this.serviceName}: ${Mt} (${Y}).`,le)}}const Wt=/\{\$([^}]+)}/g;function Nr(U,V){return Object.prototype.hasOwnProperty.call(U,V)}function $o(U){for(const V in U)if(Object.prototype.hasOwnProperty.call(U,V))return!1;return!0}function qi(U,V){if(U===V)return!0;const q=Object.keys(U),le=Object.keys(V);for(const Y of q){if(!le.includes(Y))return!1;const qe=U[Y],Mt=V[Y];if(Fr(qe)&&Fr(Mt)){if(!qi(qe,Mt))return!1}else if(qe!==Mt)return!1}for(const Y of le)if(!q.includes(Y))return!1;return!0}function Fr(U){return null!==U&&"object"==typeof U}function zo(U){const V=[];for(const[q,le]of Object.entries(U))Array.isArray(le)?le.forEach(Y=>{V.push(encodeURIComponent(q)+"="+encodeURIComponent(Y))}):V.push(encodeURIComponent(q)+"="+encodeURIComponent(le));return V.length?"&"+V.join("&"):""}function gr(U){const V={};return U.replace(/^\?/,"").split("&").forEach(le=>{if(le){const[Y,qe]=le.split("=");V[decodeURIComponent(Y)]=decodeURIComponent(qe)}}),V}function ui(U){const V=U.indexOf("?");if(!V)return"";const q=U.indexOf("#",V);return U.substring(V,q>0?q:void 0)}function sn(U,V){const q=new it(U,V);return q.subscribe.bind(q)}class it{constructor(V,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{V(this)}).catch(le=>{this.error(le)})}next(V){this.forEachObserver(q=>{q.next(V)})}error(V){this.forEachObserver(q=>{q.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,q,le){let Y;if(void 0===V&&void 0===q&&void 0===le)throw new Error("Missing Observer.");Y=function bn(U,V){if("object"!=typeof U||null===U)return!1;for(const q of V)if(q in U&&"function"==typeof U[q])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:q,complete:le},void 0===Y.next&&(Y.next=os),void 0===Y.error&&(Y.error=os),void 0===Y.complete&&(Y.complete=os);const qe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Y.error(this.finalError):Y.complete()}catch{}}),this.observers.push(Y),qe}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,V)}sendOne(V,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{q(this.observers[V])}catch(le){typeof console<"u"&&console.error&&console.error(le)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function os(){}function as(U,V=1e3,q=2){const le=V*Math.pow(q,U),Y=Math.round(.5*le*(Math.random()-.5)*2);return Math.min(144e5,le+Y)}function Wi(U){return U&&U._delegate?U._delegate:U}},1323:(gt,De,N)=>{var l=N(4650);let X=null;function O(){return X}const ne=new l.OlP("DocumentToken");let we=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function he(){return(0,l.LFG)($)}()},providedIn:"platform"}),n})();const z=new l.OlP("Location Initialized");let $=(()=>{class n extends we{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){W()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){W()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function ze(){return new $((0,l.LFG)(ne))}()},providedIn:"platform"}),n})();function W(){return!!window.history.pushState}function xe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ce(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ot(n){return n&&"?"!==n[0]?"?"+n:n}let _e=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(_t)},providedIn:"root"}),n})();const ge=new l.OlP("appBaseHref");let _t=(()=>{class n extends _e{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(ne).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return xe(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+ot(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,a){const u=this.prepareExternalUrl(r+ot(a));this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,a){const u=this.prepareExternalUrl(r+ot(a));this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(we),l.LFG(ge,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Dt=(()=>{class n extends _e{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=xe(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,a){let u=this.prepareExternalUrl(r+ot(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,a){let u=this.prepareExternalUrl(r+ot(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(we),l.LFG(ge,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Pe=(()=>{class n{constructor(t){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._baseHref=Ce(Ge(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+ot(i))}normalize(t){return n.stripTrailingSlash(function fe(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ge(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ot(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ot(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=ot,n.joinWithSlash=xe,n.stripTrailingSlash=Ce,n.\u0275fac=function(t){return new(t||n)(l.LFG(_e))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ee(){return new Pe((0,l.LFG)(_e))}()},providedIn:"root"}),n})();function Ge(n){return n.replace(/\/index.html$/,"")}const He={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var et=(()=>((et=et||{})[et.Decimal=0]="Decimal",et[et.Percent=1]="Percent",et[et.Currency=2]="Currency",et[et.Scientific=3]="Scientific",et))(),xt=(()=>((xt=xt||{})[xt.Format=0]="Format",xt[xt.Standalone=1]="Standalone",xt))(),dt=(()=>((dt=dt||{})[dt.Narrow=0]="Narrow",dt[dt.Abbreviated=1]="Abbreviated",dt[dt.Wide=2]="Wide",dt[dt.Short=3]="Short",dt))(),Zt=(()=>((Zt=Zt||{})[Zt.Short=0]="Short",Zt[Zt.Medium=1]="Medium",Zt[Zt.Long=2]="Long",Zt[Zt.Full=3]="Full",Zt))(),lt=(()=>((lt=lt||{})[lt.Decimal=0]="Decimal",lt[lt.Group=1]="Group",lt[lt.List=2]="List",lt[lt.PercentSign=3]="PercentSign",lt[lt.PlusSign=4]="PlusSign",lt[lt.MinusSign=5]="MinusSign",lt[lt.Exponential=6]="Exponential",lt[lt.SuperscriptingExponent=7]="SuperscriptingExponent",lt[lt.PerMille=8]="PerMille",lt[lt.Infinity=9]="Infinity",lt[lt.NaN=10]="NaN",lt[lt.TimeSeparator=11]="TimeSeparator",lt[lt.CurrencyDecimal=12]="CurrencyDecimal",lt[lt.CurrencyGroup=13]="CurrencyGroup",lt))();function Ft(n,e){return ht((0,l.cg1)(n)[l.wAp.DateFormat],e)}function Ue(n,e){return ht((0,l.cg1)(n)[l.wAp.TimeFormat],e)}function Gt(n,e){return ht((0,l.cg1)(n)[l.wAp.DateTimeFormat],e)}function Wt(n,e){const t=(0,l.cg1)(n),i=t[l.wAp.NumberSymbols][e];if(typeof i>"u"){if(e===lt.CurrencyDecimal)return t[l.wAp.NumberSymbols][lt.Decimal];if(e===lt.CurrencyGroup)return t[l.wAp.NumberSymbols][lt.Group]}return i}function ss(n){if(!n[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ht(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function qi(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const gr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ui={},Mn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var sn=(()=>((sn=sn||{})[sn.Short=0]="Short",sn[sn.ShortGMT=1]="ShortGMT",sn[sn.Long=2]="Long",sn[sn.Extended=3]="Extended",sn))(),it=(()=>((it=it||{})[it.FullYear=0]="FullYear",it[it.Month=1]="Month",it[it.Date=2]="Date",it[it.Hours=3]="Hours",it[it.Minutes=4]="Minutes",it[it.Seconds=5]="Seconds",it[it.FractionalSeconds=6]="FractionalSeconds",it[it.Day=7]="Day",it))(),Et=(()=>((Et=Et||{})[Et.DayPeriods=0]="DayPeriods",Et[Et.Days=1]="Days",Et[Et.Months=2]="Months",Et[Et.Eras=3]="Eras",Et))();function bn(n,e,t,i){let r=function Y(n){if(Mt(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,a=1,u=1]=n.split("-").map(f=>+f);return os(r,a-1,u)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(gr))return function qe(n){const e=new Date(0);let t=0,i=0;const r=n[8]?e.setUTCFullYear:e.setFullYear,a=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const u=Number(n[4]||0)-t,f=Number(n[5]||0)-i,_=Number(n[6]||0),w=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return a.call(e,u,f,_,w),e}(i)}const e=new Date(n);if(!Mt(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=sr(t,e)||e;let f,u=[];for(;e;){if(f=Mn.exec(e),!f){u.push(e);break}{u=u.concat(f.slice(1));const D=u.pop();if(!D)break;e=D}}let _=r.getTimezoneOffset();i&&(_=V(i,_),r=function le(n,e,t){const i=t?-1:1,r=n.getTimezoneOffset();return function q(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,i*(V(e,r)-r))}(r,i,!0));let w="";return u.forEach(D=>{const A=function U(n){if(Wi[n])return Wi[n];let e;switch(n){case"G":case"GG":case"GGG":e=on(Et.Eras,dt.Abbreviated);break;case"GGGG":e=on(Et.Eras,dt.Wide);break;case"GGGGG":e=on(Et.Eras,dt.Narrow);break;case"y":e=_n(it.FullYear,1,0,!1,!0);break;case"yy":e=_n(it.FullYear,2,0,!0,!0);break;case"yyy":e=_n(it.FullYear,3,0,!1,!0);break;case"yyyy":e=_n(it.FullYear,4,0,!1,!0);break;case"Y":e=or(1);break;case"YY":e=or(2,!0);break;case"YYY":e=or(3);break;case"YYYY":e=or(4);break;case"M":case"L":e=_n(it.Month,1,1);break;case"MM":case"LL":e=_n(it.Month,2,1);break;case"MMM":e=on(Et.Months,dt.Abbreviated);break;case"MMMM":e=on(Et.Months,dt.Wide);break;case"MMMMM":e=on(Et.Months,dt.Narrow);break;case"LLL":e=on(Et.Months,dt.Abbreviated,xt.Standalone);break;case"LLLL":e=on(Et.Months,dt.Wide,xt.Standalone);break;case"LLLLL":e=on(Et.Months,dt.Narrow,xt.Standalone);break;case"w":e=zn(1);break;case"ww":e=zn(2);break;case"W":e=zn(1,!0);break;case"d":e=_n(it.Date,1);break;case"dd":e=_n(it.Date,2);break;case"c":case"cc":e=_n(it.Day,1);break;case"ccc":e=on(Et.Days,dt.Abbreviated,xt.Standalone);break;case"cccc":e=on(Et.Days,dt.Wide,xt.Standalone);break;case"ccccc":e=on(Et.Days,dt.Narrow,xt.Standalone);break;case"cccccc":e=on(Et.Days,dt.Short,xt.Standalone);break;case"E":case"EE":case"EEE":e=on(Et.Days,dt.Abbreviated);break;case"EEEE":e=on(Et.Days,dt.Wide);break;case"EEEEE":e=on(Et.Days,dt.Narrow);break;case"EEEEEE":e=on(Et.Days,dt.Short);break;case"a":case"aa":case"aaa":e=on(Et.DayPeriods,dt.Abbreviated);break;case"aaaa":e=on(Et.DayPeriods,dt.Wide);break;case"aaaaa":e=on(Et.DayPeriods,dt.Narrow);break;case"b":case"bb":case"bbb":e=on(Et.DayPeriods,dt.Abbreviated,xt.Standalone,!0);break;case"bbbb":e=on(Et.DayPeriods,dt.Wide,xt.Standalone,!0);break;case"bbbbb":e=on(Et.DayPeriods,dt.Narrow,xt.Standalone,!0);break;case"B":case"BB":case"BBB":e=on(Et.DayPeriods,dt.Abbreviated,xt.Format,!0);break;case"BBBB":e=on(Et.DayPeriods,dt.Wide,xt.Format,!0);break;case"BBBBB":e=on(Et.DayPeriods,dt.Narrow,xt.Format,!0);break;case"h":e=_n(it.Hours,1,-12);break;case"hh":e=_n(it.Hours,2,-12);break;case"H":e=_n(it.Hours,1);break;case"HH":e=_n(it.Hours,2);break;case"m":e=_n(it.Minutes,1);break;case"mm":e=_n(it.Minutes,2);break;case"s":e=_n(it.Seconds,1);break;case"ss":e=_n(it.Seconds,2);break;case"S":e=_n(it.FractionalSeconds,1);break;case"SS":e=_n(it.FractionalSeconds,2);break;case"SSS":e=_n(it.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=ki(sn.Short);break;case"ZZZZZ":e=ki(sn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=ki(sn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=ki(sn.Long);break;default:return null}return Wi[n]=e,e}(D);w+=A?A(r,t,_):"''"===D?"'":D.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),w}function os(n,e,t){const i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function sr(n,e){const t=function pe(n){return(0,l.cg1)(n)[l.wAp.LocaleId]}(n);if(ui[t]=ui[t]||{},ui[t][e])return ui[t][e];let i="";switch(e){case"shortDate":i=Ft(n,Zt.Short);break;case"mediumDate":i=Ft(n,Zt.Medium);break;case"longDate":i=Ft(n,Zt.Long);break;case"fullDate":i=Ft(n,Zt.Full);break;case"shortTime":i=Ue(n,Zt.Short);break;case"mediumTime":i=Ue(n,Zt.Medium);break;case"longTime":i=Ue(n,Zt.Long);break;case"fullTime":i=Ue(n,Zt.Full);break;case"short":const r=sr(n,"shortTime"),a=sr(n,"shortDate");i=si(Gt(n,Zt.Short),[r,a]);break;case"medium":const u=sr(n,"mediumTime"),f=sr(n,"mediumDate");i=si(Gt(n,Zt.Medium),[u,f]);break;case"long":const _=sr(n,"longTime"),w=sr(n,"longDate");i=si(Gt(n,Zt.Long),[_,w]);break;case"full":const D=sr(n,"fullTime"),A=sr(n,"fullDate");i=si(Gt(n,Zt.Full),[D,A])}return i&&(ui[t][e]=i),i}function si(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),n}function At(n,e,t="-",i,r){let a="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,a=t));let u=String(n);for(;u.length<e;)u="0"+u;return i&&(u=u.slice(u.length-e)),a+u}function _n(n,e,t=0,i=!1,r=!1){return function(a,u){let f=function Go(n,e){switch(n){case it.FullYear:return e.getFullYear();case it.Month:return e.getMonth();case it.Date:return e.getDate();case it.Hours:return e.getHours();case it.Minutes:return e.getMinutes();case it.Seconds:return e.getSeconds();case it.FractionalSeconds:return e.getMilliseconds();case it.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,a);if((t>0||f>-t)&&(f+=t),n===it.Hours)0===f&&-12===t&&(f=12);else if(n===it.FractionalSeconds)return function Ri(n,e){return At(n,3).substring(0,e)}(f,e);const _=Wt(u,lt.MinusSign);return At(f,e,_,i,r)}}function on(n,e,t=xt.Format,i=!1){return function(r,a){return function di(n,e,t,i,r,a){switch(t){case Et.Months:return function Ve(n,e,t){const i=(0,l.cg1)(n),a=ht([i[l.wAp.MonthsFormat],i[l.wAp.MonthsStandalone]],e);return ht(a,t)}(e,r,i)[n.getMonth()];case Et.Days:return function ke(n,e,t){const i=(0,l.cg1)(n),a=ht([i[l.wAp.DaysFormat],i[l.wAp.DaysStandalone]],e);return ht(a,t)}(e,r,i)[n.getDay()];case Et.DayPeriods:const u=n.getHours(),f=n.getMinutes();if(a){const w=function Nr(n){const e=(0,l.cg1)(n);return ss(e),(e[l.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?qi(i):[qi(i[0]),qi(i[1])])}(e),D=function ka(n,e,t){const i=(0,l.cg1)(n);ss(i);const a=ht([i[l.wAp.ExtraData][0],i[l.wAp.ExtraData][1]],e)||[];return ht(a,t)||[]}(e,r,i),A=w.findIndex(F=>{if(Array.isArray(F)){const[B,Z]=F,ie=u>=B.hours&&f>=B.minutes,ye=u<Z.hours||u===Z.hours&&f<Z.minutes;if(B.hours<Z.hours){if(ie&&ye)return!0}else if(ie||ye)return!0}else if(F.hours===u&&F.minutes===f)return!0;return!1});if(-1!==A)return D[A]}return function Te(n,e,t){const i=(0,l.cg1)(n),a=ht([i[l.wAp.DayPeriodsFormat],i[l.wAp.DayPeriodsStandalone]],e);return ht(a,t)}(e,r,i)[u<12?0:1];case Et.Eras:return function Ie(n,e){return ht((0,l.cg1)(n)[l.wAp.Eras],e)}(e,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,a,n,e,t,i)}}function ki(n){return function(e,t,i){const r=-1*i,a=Wt(t,lt.MinusSign),u=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case sn.Short:return(r>=0?"+":"")+At(u,2,a)+At(Math.abs(r%60),2,a);case sn.ShortGMT:return"GMT"+(r>=0?"+":"")+At(u,1,a);case sn.Long:return"GMT"+(r>=0?"+":"")+At(u,2,a)+":"+At(Math.abs(r%60),2,a);case sn.Extended:return 0===i?"Z":(r>=0?"+":"")+At(u,2,a)+":"+At(Math.abs(r%60),2,a);default:throw new Error(`Unknown zone width "${n}"`)}}}function as(n){return os(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function zn(n,e=!1){return function(t,i){let r;if(e){const a=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,u=t.getDate();r=1+Math.floor((u+a)/7)}else{const a=as(t),u=function Oi(n){const e=os(n,0,1).getDay();return os(n,0,1+(e<=4?4:11)-e)}(a.getFullYear()),f=a.getTime()-u.getTime();r=1+Math.round(f/6048e5)}return At(r,n,Wt(i,lt.MinusSign))}}function or(n,e=!1){return function(t,i){return At(as(t).getFullYear(),n,Wt(i,lt.MinusSign),e)}}const Wi={};function V(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Mt(n){return n instanceof Date&&!isNaN(n.valueOf())}const Lt=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function te(n,e,t,i,r){const u=function Tt(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),r=i[0],a=i[1],u=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],f=u[0],_=u[1]||"";t.posPre=f.substring(0,f.indexOf("#"));for(let D=0;D<_.length;D++){const A=_.charAt(D);"0"===A?t.minFrac=t.maxFrac=D+1:"#"===A?t.maxFrac=D+1:t.posSuf+=A}const w=f.split(",");if(t.gSize=w[1]?w[1].length:0,t.lgSize=w[2]||w[1]?(w[2]||w[1]).length:0,a){const D=r.length-t.posPre.length-t.posSuf.length,A=a.indexOf("#");t.negPre=a.substring(0,A).replace(/'/g,""),t.negSuf=a.slice(A+D).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function en(n,e){return(0,l.cg1)(n)[l.wAp.NumberFormats][e]}(e,et.Currency),Wt(e,lt.MinusSign));return u.minFrac=function zo(n){let e;const t=He[n];return t&&(e=t[2]),"number"==typeof e?e:2}(i),u.maxFrac=u.minFrac,function re(n,e,t,i,r,a,u=!1){let f="",_=!1;if(isFinite(n)){let w=function an(n){let i,r,a,u,f,e=Math.abs(n)+"",t=0;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(a=e.search(/e/i))>0?(r<0&&(r=a),r+=+e.slice(a+1),e=e.substring(0,a)):r<0&&(r=e.length),a=0;"0"===e.charAt(a);a++);if(a===(f=e.length))i=[0],r=1;else{for(f--;"0"===e.charAt(f);)f--;for(r-=a,i=[],u=0;a<=f;a++,u++)i[u]=Number(e.charAt(a))}return r>22&&(i=i.splice(0,21),t=r-1,r=1),{digits:i,exponent:t,integerLen:r}}(n);u&&(w=function Vt(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(w));let D=e.minInt,A=e.minFrac,F=e.maxFrac;if(a){const st=a.match(Lt);if(null===st)throw new Error(`${a} is not a valid digit info`);const Je=st[1],It=st[3],jt=st[5];null!=Je&&(D=Qt(Je)),null!=It&&(A=Qt(It)),null!=jt?F=Qt(jt):null!=It&&A>F&&(F=A)}!function Pn(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let i=n.digits,r=i.length-n.integerLen;const a=Math.min(Math.max(e,r),t);let u=a+n.integerLen,f=i[u];if(u>0){i.splice(Math.max(n.integerLen,u));for(let A=u;A<i.length;A++)i[A]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,u=a+1),i[0]=0;for(let A=1;A<u;A++)i[A]=0}if(f>=5)if(u-1<0){for(let A=0;A>u;A--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[u-1]++;for(;r<Math.max(0,a);r++)i.push(0);let _=0!==a;const w=e+n.integerLen,D=i.reduceRight(function(A,F,B,Z){return Z[B]=(F+=A)<10?F:F-10,_&&(0===Z[B]&&B>=w?Z.pop():_=!1),F>=10?1:0},0);D&&(i.unshift(D),n.integerLen++)}(w,A,F);let B=w.digits,Z=w.integerLen;const ie=w.exponent;let ye=[];for(_=B.every(st=>!st);Z<D;Z++)B.unshift(0);for(;Z<0;Z++)B.unshift(0);Z>0?ye=B.splice(Z,B.length):(ye=B,B=[0]);const $e=[];for(B.length>=e.lgSize&&$e.unshift(B.splice(-e.lgSize,B.length).join(""));B.length>e.gSize;)$e.unshift(B.splice(-e.gSize,B.length).join(""));B.length&&$e.unshift(B.join("")),f=$e.join(Wt(t,i)),ye.length&&(f+=Wt(t,r)+ye.join("")),ie&&(f+=Wt(t,lt.Exponential)+"+"+ie)}else f=Wt(t,lt.Infinity);return f=n<0&&!_?e.negPre+f+e.negSuf:e.posPre+f+e.posSuf,f}(n,u,e,lt.CurrencyGroup,lt.CurrencyDecimal,r).replace("\xa4",t).replace("\xa4","").trim()}function Qt(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}class Bc{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let fn=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,a,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Bc(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===a?void 0:a);else if(null!==a){const f=i.get(a);i.move(f,u),Gs(f,r)}});for(let r=0,a=i.length;r<a;r++){const f=i.get(r).context;f.index=r,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{Gs(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Gs(n,e){n.context.$implicit=e.item}let pn=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new ld,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){hi("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){hi("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class ld{constructor(){this.$implicit=null,this.ngIf=null}}function hi(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}function Tn(n,e){return new l.vHH(2100,!1)}const eg=new l.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let jc=(()=>{class n{constructor(t,i){this.locale=t,this.defaultTimezone=i}transform(t,i="mediumDate",r,a){if(null==t||""===t||t!=t)return null;try{return bn(t,i,a||this.locale,r??this.defaultTimezone??void 0)}catch(u){throw Tn()}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.soG,16),l.Y36(eg,24))},n.\u0275pipe=l.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),Yo=(()=>{class n{constructor(t,i="USD"){this._locale=t,this._defaultCurrencyCode=i}transform(t,i=this._defaultCurrencyCode,r="symbol",a,u){if(!function Oa(n){return!(null==n||""===n||n!=n)}(t))return null;u=u||this._locale,"boolean"==typeof r&&(r=r?"symbol":"code");let f=i||this._defaultCurrencyCode;"code"!==r&&(f="symbol"===r||"symbol-narrow"===r?function Fr(n,e,t="en"){const i=function rr(n){return(0,l.cg1)(n)[l.wAp.Currencies]}(t)[n]||He[n]||[],r=i[1];return"narrow"===e&&"string"==typeof r?r:i[0]||n}(f,"symbol"===r?"wide":"narrow",u):r);try{return te(function Gc(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),u,f,i,a)}catch(_){throw Tn()}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.soG,16),l.Y36(l.EJc,16))},n.\u0275pipe=l.Yjl({name:"currency",type:n,pure:!0,standalone:!0}),n})();let _o=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const Ol="browser";function Pl(n){return"server"===n}let As=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new Fl((0,l.LFG)(ne),window)}),n})();class Fl{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Yi(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const a=r.shadowRoot;if(a){const u=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],r-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=vr(this.window.history)||vr(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function vr(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Pd extends class Od extends class ue{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function oe(n){X||(X=n)}(new Pd)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Zl(){return ql=ql||document.querySelector("base"),ql?ql.getAttribute("href"):null}();return null==t?null:function Yc(n){za=za||document.createElement("a"),za.setAttribute("href",n);const e=za.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ql=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Sl(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,a]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let za,ql=null;const Ga=new l.OlP("TRANSITION_ID"),Ef=[{provide:l.ip1,useFactory:function Wl(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const i=O(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<r.length;a++)i.remove(r[a])})}},deps:[Ga,ne,l.zs3],multi:!0}];let vv=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const hs=new l.OlP("EventManagerPlugins");let Yl=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let a=0;a<r.length;a++){const u=r[a];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(hs),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Jo{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=O().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let fs=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ks=(()=>{class n extends fs{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(a=>{const u=this._doc.createElement("style");u.textContent=a,r.push(i.appendChild(u))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(Qc),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Qc))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Qc(n){O().remove(n)}const Xc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},wr=/%COMP%/g;function Eo(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?Eo(n,r,t):(r=r.replace(wr,n),t.push(r))}return t}function Ql(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Za=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new ta(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case l.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Ys(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case l.ifc.ShadowDom:return new Nd(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=Eo(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Yl),l.LFG(Ks),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class ta{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Xc[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Wa(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Wa(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const a=Xc[r];a?e.setAttributeNS(a,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Xc[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,i,r&l.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ql(i)):this.eventManager.addEventListener(e,t,Ql(i))}}function Wa(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Ys extends ta{constructor(e,t,i,r){super(e),this.component=i;const a=Eo(r+"-"+i.id,i.styles,[]);t.addStyles(a),this.contentAttr=function ea(n){return"_ngcontent-%COMP%".replace(wr,n)}(r+"-"+i.id),this.hostAttr=function qa(n){return"_nghost-%COMP%".replace(wr,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class Nd extends ta{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Eo(r.id,r.styles,[]);for(let u=0;u<a.length;u++){const f=document.createElement("style");f.textContent=a[u],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Fd=(()=>{class n extends Jo{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const zr=["alt","control","meta","shift"],If={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Hn={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let tu=(()=>{class n extends Jo{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const a=n.parseEventName(i),u=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,a.domEventName,u))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const a=n._normalizeKey(i.pop());let u="",f=i.indexOf("code");if(f>-1&&(i.splice(f,1),u="code."),zr.forEach(w=>{const D=i.indexOf(w);D>-1&&(i.splice(D,1),u+=w+".")}),u+=a,0!=i.length||0===a.length)return null;const _={};return _.domEventName=r,_.fullKey=u,_}static matchEventFullKeyCode(t,i){let r=If[t.key]||t.key,a="";return i.indexOf("code.")>-1&&(r=t.code,a="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),zr.forEach(u=>{u!==r&&(0,Hn[u])(t)&&(a+=u+".")}),a+=r,a===i)}static eventCallback(t,i,r){return a=>{n.matchEventFullKeyCode(a,t)&&r.runGuarded(()=>i(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const ra=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:Ol},{provide:l.g9A,useValue:function Ps(){Pd.makeCurrent()},multi:!0},{provide:ne,useFactory:function ia(){return(0,l.RDi)(document),document},deps:[]}]),Ya=new l.OlP(""),cn=[{provide:l.rWj,useClass:class Kl{addToWindow(e){l.dqk.getAngularTestability=(i,r=!0)=>{const a=e.findTestabilityInTree(i,r);if(null==a)throw new Error("Could not find testability for element.");return a},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(i=>{const r=l.dqk.getAllAngularTestabilities();let a=r.length,u=!1;const f=function(_){u=u||_,a--,0==a&&i(u)};r.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],iu=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Ld(){return new l.qLn},deps:[]},{provide:hs,useClass:Fd,multi:!0,deps:[ne,l.R0b,l.Lbi]},{provide:hs,useClass:tu,multi:!0,deps:[ne]},{provide:Za,useClass:Za,deps:[Yl,Ks,l.AFp]},{provide:l.FYo,useExisting:Za},{provide:fs,useExisting:Ks},{provide:Ks,useClass:Ks,deps:[ne]},{provide:Yl,useClass:Yl,deps:[hs,l.R0b]},{provide:class Ll{},useClass:vv,deps:[]},[]];let Jl=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:Ga,useExisting:l.AFp},Ef]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ya,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...iu,...cn],imports:[_o,l.hGG]}),n})(),Sf=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function ru(){return new Sf((0,l.LFG)(ne))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Ja=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):l.LFG(oa),i},providedIn:"root"}),n})(),oa=(()=>{class n extends Ja{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case l.q3G.NONE:return i;case l.q3G.HTML:return(0,l.qzn)(i,"HTML")?(0,l.z3N)(i):(0,l.EiD)(this._doc,String(i)).toString();case l.q3G.STYLE:return(0,l.qzn)(i,"Style")?(0,l.z3N)(i):i;case l.q3G.SCRIPT:if((0,l.qzn)(i,"Script"))return(0,l.z3N)(i);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.qzn)(i,"URL")?(0,l.z3N)(i):(0,l.mCW)(String(i));case l.q3G.RESOURCE_URL:if((0,l.qzn)(i,"ResourceURL"))return(0,l.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,l.JVY)(t)}bypassSecurityTrustStyle(t){return(0,l.L6k)(t)}bypassSecurityTrustScript(t){return(0,l.eBb)(t)}bypassSecurityTrustUrl(t){return(0,l.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,l.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function ag(n){return new oa(n.get(ne))}(l.LFG(l.zs3)),i},providedIn:"root"}),n})();const mn=void 0,Rf=["es",[["a.\xa0m.","p.\xa0m."],mn,mn],mn,[["D","L","M","X","J","V","S"],["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],mn,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene","feb","mar","abr","may","jun","jul","ago","sept","oct","nov","dic"],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],mn,[["a. C.","d. C."],mn,["antes de Cristo","despu\xe9s de Cristo"]],1,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1}, {0}",mn,mn,mn],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{AUD:[mn,"$"],BRL:[mn,"R$"],BYN:[mn,"\u0440."],CAD:[mn,"$"],CNY:[mn,"\xa5"],EGP:[],ESP:["\u20a7"],GBP:[mn,"\xa3"],HKD:[mn,"$"],ILS:[mn,"\u20aa"],INR:[mn,"\u20b9"],JPY:[mn,"\xa5"],KRW:[mn,"\u20a9"],MXN:[mn,"$"],NZD:[mn,"$"],PHP:[mn,"\u20b1"],RON:[mn,"L"],THB:["\u0e3f"],TWD:[mn,"NT$"],USD:["US$","$"],XAF:[],XCD:[mn,"$"],XOF:[]},"ltr",function lu(n){const e=n,t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length,r=parseInt(n.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 1===e?1:0===r&&0!==t&&t%1e6==0&&0===i||!(r>=0&&r<=5)?4:5}];var nn=N(8996),Jn=N(9751);const{isArray:Do}=Array,{getPrototypeOf:$d,prototype:kf,keys:Of}=Object;function el(n){if(1===n.length){const e=n[0];if(Do(e))return{args:e,keys:null};if(function aa(n){return n&&"object"==typeof n&&$d(n)===kf}(e)){const t=Of(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var Dr=N(8421),la=N(3269),$t=N(5403),ft=N(4004);const{isArray:tc}=Array;function Ns(n){return(0,ft.U)(e=>function cu(n,e){return tc(e)?n(...e):n(e)}(n,e))}function nc(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function ic(...n){const e=(0,la.jO)(n),{args:t,keys:i}=el(n),r=new Jn.y(a=>{const{length:u}=t;if(!u)return void a.complete();const f=new Array(u);let _=u,w=u;for(let D=0;D<u;D++){let A=!1;(0,Dr.Xf)(t[D]).subscribe((0,$t.x)(a,F=>{A||(A=!0,w--),f[D]=F},()=>_--,void 0,()=>{(!_||!A)&&(w||a.next(i?nc(i,f):f),a.complete())}))}});return e?r.pipe(Ns(e)):r}let Js=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),Gr=(()=>{class n extends Js{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const vi=new l.OlP("NgValueAccessor"),tl={provide:vi,useExisting:(0,l.Gpc)(()=>qr),multi:!0},ua=new l.OlP("CompositionEventMode");let qr=(()=>{class n extends Js{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Pf(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(ua,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&l.NdJ("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[l._Bn([tl]),l.qOj]}),n})();function eo(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function To(n){return null!=n&&"number"==typeof n.length}const Rn=new l.OlP("NgValidators"),Tr=new l.OlP("NgAsyncValidators"),Nf=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Zn{static min(e){return du(e)}static max(e){return function to(n){return e=>{if(eo(e.value)||eo(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function zd(n){return eo(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function Ff(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function nl(n){return eo(n.value)||Nf.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function il(n){return e=>eo(e.value)||!To(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function So(n){return e=>To(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function hu(n){if(!n)return C;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(eo(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return Ke(e)}static composeAsync(e){return pt(e)}}function du(n){return e=>{if(eo(e.value)||eo(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function C(n){return null}function T(n){return null!=n}function x(n){return(0,l.QGY)(n)?(0,nn.D)(n):n}function L(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function G(n,e){return e.map(t=>t(n))}function ve(n){return n.map(e=>function Q(n){return!n.validate}(e)?e:t=>e.validate(t))}function Ke(n){if(!n)return null;const e=n.filter(T);return 0==e.length?null:function(t){return L(G(t,e))}}function Qe(n){return null!=n?Ke(ve(n)):null}function pt(n){if(!n)return null;const e=n.filter(T);return 0==e.length?null:function(t){return ic(G(t,e).map(x)).pipe((0,ft.U)(L))}}function Nt(n){return null!=n?pt(ve(n)):null}function kt(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Sr(n){return n._rawValidators}function bi(n){return n._rawAsyncValidators}function da(n){return n?Array.isArray(n)?n:[n]:[]}function rl(n,e){return Array.isArray(n)?n.includes(e):n===e}function Fs(n,e){const t=da(e);return da(n).forEach(r=>{rl(t,r)||t.push(r)}),t}function ur(n,e){return da(e).filter(t=>!rl(n,t))}class Zr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Qe(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Nt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class wi extends Zr{get formDirective(){return null}get path(){return null}}class Ao extends Zr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Lf{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let rc=(()=>{class n extends Lf{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ao,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&l.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[l.qOj]}),n})(),sl=(()=>{class n extends Lf{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(wi,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&l.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[l.qOj]}),n})();const ol="VALID",fu="INVALID",pu="PENDING",ha="DISABLED";function Kd(n){return(Yd(n)?n.validators:n)||null}function mu(n){return Array.isArray(n)?Qe(n):n||null}function ac(n,e){return(Yd(e)?e.asyncValidators:n)||null}function gu(n){return Array.isArray(n)?Nt(n):n||null}function Yd(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Bf(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new l.vHH(1e3,"");if(!i[t])throw new l.vHH(1001,"")}function dg(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new l.vHH(1002,"")})}class fa{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=mu(this._rawValidators),this._composedAsyncValidatorFn=gu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ol}get invalid(){return this.status===fu}get pending(){return this.status==pu}get disabled(){return this.status===ha}get enabled(){return this.status!==ha}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=mu(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=gu(e)}addValidators(e){this.setValidators(Fs(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Fs(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ur(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ur(e,this._rawAsyncValidators))}hasValidator(e){return rl(this._rawValidators,e)}hasAsyncValidator(e){return rl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=pu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ha,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ol,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ol||this.status===pu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ha:ol}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=pu,this._hasOwnPendingAsyncValidator=!0;const t=x(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?ha:this.errors?fu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(pu)?pu:this._anyControlsHaveStatus(fu)?fu:ol}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Yd(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class _u extends fa{constructor(e,t,i){super(Kd(t),ac(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){dg(this,0,e),Object.keys(e).forEach(i=>{Bf(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,a)=>{i=t(i,r,a)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class Uf extends _u{}function Hf(n,e){return[...e.path,n]}function no(n,e){vu(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function $f(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&fg(n,e)})}(n,e),function zf(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Tv(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&fg(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function jf(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function pa(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Qd(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function yu(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function vu(n,e){const t=Sr(n);null!==e.validator?n.setValidators(kt(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=bi(n);null!==e.asyncValidator?n.setAsyncValidators(kt(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();yu(e._rawValidators,r),yu(e._rawAsyncValidators,r)}function Qd(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=Sr(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==e.validator);a.length!==r.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const r=bi(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==e.asyncValidator);a.length!==r.length&&(t=!0,n.setAsyncValidators(a))}}}const i=()=>{};return yu(e._rawValidators,i),yu(e._rawAsyncValidators,i),t}function fg(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function bu(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Ls(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(a=>{a.constructor===qr?t=a:function yg(n){return Object.getPrototypeOf(n.constructor)===Gr}(a)?i=a:r=a}),r||i||t||null}function vg(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function qf(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const cl=class extends fa{constructor(e=null,t,i){super(Kd(t),ac(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Yd(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=qf(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){vg(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){vg(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){qf(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},wu={provide:Ao,useExisting:(0,l.Gpc)(()=>Eu)},bg=(()=>Promise.resolve())();let Eu=(()=>{class n extends Ao{constructor(t,i,r,a,u){super(),this._changeDetectorRef=u,this.control=new cl,this._registered=!1,this.update=new l.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Ls(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),bu(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){no(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){bg.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&(0,l.D6c)(i);bg.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Hf(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(wi,9),l.Y36(Rn,10),l.Y36(Tr,10),l.Y36(vi,10),l.Y36(l.sBO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([wu]),l.qOj,l.TTD]}),n})(),dl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const Xf={provide:vi,useExisting:(0,l.Gpc)(()=>cc),multi:!0};let cc=(()=>{class n extends Gr{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=i=>{t(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,i){1&t&&l.NdJ("input",function(a){return i.onChange(a.target.value)})("blur",function(){return i.onTouched()})},features:[l._Bn([Xf]),l.qOj]}),n})(),th=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const Iu=new l.OlP("NgModelWithFormControlWarning"),ep={provide:wi,useExisting:(0,l.Gpc)(()=>io)};let io=(()=>{class n extends wi{constructor(t,i){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Qd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return no(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){pa(t.control||null,t,!1),function Jd(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,function Gf(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(pa(i||null,t),(n=>n instanceof cl)(r)&&(no(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);(function pg(n,e){vu(n,e)})(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function mg(n,e){return Qd(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){vu(this.form,this),this._oldForm&&Qd(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Rn,10),l.Y36(Tr,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&l.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([ep]),l.qOj,l.TTD]}),n})();const Ig={provide:Ao,useExisting:(0,l.Gpc)(()=>Ci)};let Ci=(()=>{class n extends Ao{constructor(t,i,r,a,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Ls(0,a)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),bu(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Hf(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(l.Y36(wi,13),l.Y36(Rn,10),l.Y36(Tr,10),l.Y36(vi,10),l.Y36(Iu,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([Ig]),l.qOj,l.TTD]}),n})();let y=(()=>{class n{constructor(){this._validator=C}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):C,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();const b={provide:Rn,useExisting:(0,l.Gpc)(()=>S),multi:!0};let S=(()=>{class n extends y{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>function Sg(n){return"number"==typeof n?n:parseFloat(n)}(t),this.createValidator=t=>du(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(t,i){2&t&&l.uIk("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[l._Bn([b]),l.qOj]}),n})(),sp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[th]}),n})(),op=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[sp]}),n})(),hl=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Iu,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[sp]}),n})();class sh extends fa{constructor(e,t,i){super(Kd(t),ac(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){dg(this,0,e),e.forEach((i,r)=>{Bf(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function ei(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let ap=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,i=null){const r=this._reduceControls(t);let a={};return ei(i)?a=i:null!==i&&(a.validators=i.validator,a.asyncValidators=i.asyncValidator),new _u(r,a)}record(t,i=null){const r=this._reduceControls(t);return new Uf(r,i)}control(t,i,r){let a={};return this.useNonNullable?(ei(i)?a=i:(a.validators=i,a.asyncValidators=r),new cl(t,{...a,nonNullable:!0})):new cl(t,i,r)}array(t,i,r){const a=t.map(u=>this._createControl(u));return new sh(a,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return t instanceof cl||t instanceof fa?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:hl}),n})();var xo=N(2011);const uE_firebase={apiKey:"AIzaSyCPokL3VPOIn4_CcjSJ_WwZq6LFZdreb4s",authDomain:"licorapp-d94de.firebaseapp.com",projectId:"licorapp-d94de",storageBucket:"licorapp-d94de.appspot.com",messagingSenderId:"197141046042",appId:"1:197141046042:web:5f04c3a5f904602ef982a3"};function ut(...n){const e=(0,la.yG)(n);return(0,nn.D)(n,e)}var Yt=N(7579);class oo extends Yt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const Bv=(0,N(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var fl=N(4671),Uv=N(9672);function Hv(...n){const e=(0,la.yG)(n),t=(0,la.jO)(n),{args:i,keys:r}=el(n);if(0===i.length)return(0,nn.D)([],e);const a=new Jn.y(function dE(n,e,t=fl.y){return i=>{jv(e,()=>{const{length:r}=n,a=new Array(r);let u=r,f=r;for(let _=0;_<r;_++)jv(e,()=>{const w=(0,nn.D)(n[_],e);let D=!1;w.subscribe((0,$t.x)(i,A=>{a[_]=A,D||(D=!0,f--),f||i.next(t(a.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,e,r?u=>nc(r,u):fl.y));return t?a.pipe(Ns(t)):a}function jv(n,e,t){n?(0,Uv.f)(t,n,e):e()}var lp=N(8189);function Rg(...n){return function hE(){return(0,lp.J)(1)}()((0,nn.D)(n,(0,la.yG)(n)))}function kg(n){return new Jn.y(e=>{(0,Dr.Xf)(n()).subscribe(e)})}var yk=N(9635),ga=N(576);function dc(n,e){const t=(0,ga.m)(n)?n:()=>n,i=r=>r.error(t());return new Jn.y(e?r=>e.schedule(i,0,r):i)}var hc=N(515),fc=N(727),ti=N(4482);function $v(){return(0,ti.e)((n,e)=>{let t=null;n._refCount++;const i=(0,$t.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,a=t;t=null,r&&(!a||r===a)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Og extends Jn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ti.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new fc.w0;const t=this.getSubject();e.add(this.source.subscribe((0,$t.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=fc.w0.EMPTY)}return e}refCount(){return $v()(this)}}function Di(n,e){return(0,ti.e)((t,i)=>{let r=null,a=0,u=!1;const f=()=>u&&!r&&i.complete();t.subscribe((0,$t.x)(i,_=>{r?.unsubscribe();let w=0;const D=a++;(0,Dr.Xf)(n(_,D)).subscribe(r=(0,$t.x)(i,A=>i.next(e?e(_,A,D,w++):A),()=>{r=null,f()}))},()=>{u=!0,f()}))})}function _a(n){return n<=0?()=>hc.E:(0,ti.e)((e,t)=>{let i=0;e.subscribe((0,$t.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function ya(...n){const e=(0,la.yG)(n);return(0,ti.e)((t,i)=>{(e?Rg(n,t,e):Rg(n,t)).subscribe(i)})}function ni(n,e){return(0,ti.e)((t,i)=>{let r=0;t.subscribe((0,$t.x)(i,a=>n.call(e,a,r++)&&i.next(a)))})}var pi=N(5577);function cp(n){return(0,ti.e)((e,t)=>{let i=!1;e.subscribe((0,$t.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Pg(n=MT){return(0,ti.e)((e,t)=>{let i=!1;e.subscribe((0,$t.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function MT(){return new Bv}function pl(n,e){const t=arguments.length>=2;return i=>i.pipe(n?ni((r,a)=>n(r,a,i)):fl.y,_a(1),t?cp(e):Pg(()=>new Bv))}function ml(n,e){return(0,ga.m)(e)?(0,pi.z)(n,e,1):(0,pi.z)(n,1)}var Wn=N(8505);function gl(n){return(0,ti.e)((e,t)=>{let a,i=null,r=!1;i=e.subscribe((0,$t.x)(t,void 0,void 0,u=>{a=(0,Dr.Xf)(n(u,gl(n)(e))),i?(i.unsubscribe(),i=null,a.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,a.subscribe(t))})}function xT(n,e,t,i,r){return(a,u)=>{let f=t,_=e,w=0;a.subscribe((0,$t.x)(u,D=>{const A=w++;_=f?n(_,D,A):(f=!0,D),i&&u.next(_)},r&&(()=>{f&&u.next(_),u.complete()})))}}function up(n,e){return(0,ti.e)(xT(n,e,arguments.length>=2,!0))}function zv(n){return n<=0?()=>hc.E:(0,ti.e)((e,t)=>{let i=[];e.subscribe((0,$t.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Ng(n,e){const t=arguments.length>=2;return i=>i.pipe(n?ni((r,a)=>n(r,a,i)):fl.y,zv(1),t?cp(e):Pg(()=>new Bv))}function Fg(n){return(0,ft.U)(()=>n)}function Lg(n){return(0,ti.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Xt="primary",Vg=Symbol("RouteTitle");class kT{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function va(n){return new kT(n)}function OT(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let a=0;a<i.length;a++){const u=i[a],f=n[a];if(u.startsWith(":"))r[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function gs(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let a=0;a<t.length;a++)if(r=t[a],!fE(n[r],e[r]))return!1;return!0}function fE(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,a)=>i[a]===r)}return n===e}function PT(n){return Array.prototype.concat.apply([],n)}function Gv(n){return n.length>0?n[n.length-1]:null}function dr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function pc(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,nn.D)(Promise.resolve(n)):ut(n)}const qv={exact:function ah(n,e,t){if(!Kr(n.segments,e.segments)||!Hg(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!ah(n.children[i],e.children[i],t))return!1;return!0},subset:gE},Ug={exact:function Zv(n,e){return gs(n,e)},subset:function NT(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>fE(n[t],e[t]))},ignored:()=>!0};function mE(n,e,t){return qv[t.paths](n.root,e.root,t.matrixParams)&&Ug[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function gE(n,e,t){return _E(n,e,e.segments,t)}function _E(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Kr(r,t)||e.hasChildren()||!Hg(r,t,i))}if(n.segments.length===t.length){if(!Kr(n.segments,t)||!Hg(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!gE(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Kr(n.segments,r)&&Hg(n.segments,r,i)&&n.children[Xt])&&_E(n.children[Xt],e,a,i)}}function Hg(n,e,t){return e.every((i,r)=>Ug[t](n[r].parameters,i.parameters))}class Au{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=va(this.queryParams)),this._queryParamMap}toString(){return bk.serialize(this)}}class tn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,dr(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return hp(this)}}class dp{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=va(this.parameters)),this._parameterMap}toString(){return EE(this)}}function Kr(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let yE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new vE},providedIn:"root"}),n})();class vE{parse(e){const t=new HT(e);return new Au(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${jg(e.root,!0)}`,i=function LT(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Kv(t)}=${Kv(r)}`).join("&"):`${Kv(t)}=${Kv(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function bE(n){return encodeURI(n)}(e.fragment)}`:""}`}}const bk=new vE;function hp(n){return n.segments.map(e=>EE(e)).join("/")}function jg(n,e){if(!n.hasChildren())return hp(n);if(e){const t=n.children[Xt]?jg(n.children[Xt],!1):"",i=[];return dr(n.children,(r,a)=>{a!==Xt&&i.push(`${a}:${jg(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function FT(n,e){let t=[];return dr(n.children,(i,r)=>{r===Xt&&(t=t.concat(e(i,r)))}),dr(n.children,(i,r)=>{r!==Xt&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===Xt?[jg(n.children[Xt],!1)]:[`${r}:${jg(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Xt]?`${hp(n)}/${t[0]}`:`${hp(n)}/(${t.join("//")})`}}function Wv(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kv(n){return Wv(n).replace(/%3B/gi,";")}function Yv(n){return Wv(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fp(n){return decodeURIComponent(n)}function wE(n){return fp(n.replace(/\+/g,"%20"))}function EE(n){return`${Yv(n.path)}${function Ro(n){return Object.keys(n).map(e=>`;${Yv(e)}=${Yv(n[e])}`).join("")}(n.parameters)}`}const CE=/^[^\/()?;=#]+/;function $g(n){const e=n.match(CE);return e?e[0]:""}const VT=/^[^=?&#]+/,UT=/^[^&#]+/;class HT{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new tn([],{}):new tn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Xt]=new tn(e,t)),i}parseSegment(){const e=$g(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(e),new dp(fp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=$g(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=$g(this.remaining);r&&(i=r,this.capture(i))}e[fp(t)]=fp(i)}parseQueryParam(e){const t=function BT(n){const e=n.match(VT);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const u=function IE(n){const e=n.match(UT);return e?e[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=wE(t),a=wE(i);if(e.hasOwnProperty(r)){let u=e[r];Array.isArray(u)||(u=[u],e[r]=u),u.push(a)}else e[r]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=$g(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new l.vHH(4010,!1);let a;i.indexOf(":")>-1?(a=i.slice(0,i.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Xt);const u=this.parseChildren();t[a]=1===Object.keys(u).length?u[Xt]:new tn([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new l.vHH(4011,!1)}}function Qv(n){return n.segments.length>0?new tn([],{[Xt]:n}):n}function zg(n){const e={};for(const i of Object.keys(n.children)){const a=zg(n.children[i]);(a.segments.length>0||a.hasChildren())&&(e[i]=a)}return function zt(n){if(1===n.numberOfChildren&&n.children[Xt]){const e=n.children[Xt];return new tn(n.segments.concat(e.segments),e.children)}return n}(new tn(n.segments,e))}function mc(n){return n instanceof Au}function DE(n,e,t,i,r){if(0===t.length)return uh(e.root,e.root,e.root,i,r);const a=function Xv(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new GT(!0,0,n);let e=0,t=!1;const i=n.reduce((r,a,u)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return dr(a.outlets,(_,w)=>{f[w]="string"==typeof _?_.split("/"):_}),[...r,{outlets:f}]}if(a.segmentPath)return[...r,a.segmentPath]}return"string"!=typeof a?[...r,a]:0===u?(a.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&r.push(f))}),r):[...r,a]},[]);return new GT(t,e,i)}(t);return a.toRoot()?uh(e.root,e.root,new tn([],{}),i,r):function u(_){const w=function qT(n,e,t,i){if(n.isAbsolute)return new Mu(e.root,!0,0);if(-1===i)return new Mu(t,t===e.root,0);return function qg(n,e,t){let i=n,r=e,a=t;for(;a>r;){if(a-=r,i=i.parent,!i)throw new l.vHH(4005,!1);r=i.segments.length}return new Mu(i,!1,r-a)}(t,i+(pp(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,_),D=w.processChildren?Zg(w.segmentGroup,w.index,a.commands):eb(w.segmentGroup,w.index,a.commands);return uh(e.root,w.segmentGroup,D,i,r)}(n.snapshot?._lastPathIndex)}function pp(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ch(n){return"object"==typeof n&&null!=n&&n.outlets}function uh(n,e,t,i,r){let u,a={};i&&dr(i,(_,w)=>{a[w]=Array.isArray(_)?_.map(D=>`${D}`):`${_}`}),u=n===e?t:TE(n,e,t);const f=Qv(zg(u));return new Au(f,a,r)}function TE(n,e,t){const i={};return dr(n.children,(r,a)=>{i[a]=r===e?t:TE(r,e,t)}),new tn(n.segments,i)}class GT{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&pp(i[0]))throw new l.vHH(4003,!1);const r=i.find(ch);if(r&&r!==Gv(i))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Mu{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function eb(n,e,t){if(n||(n=new tn([],{})),0===n.segments.length&&n.hasChildren())return Zg(n,e,t);const i=function wk(n,e,t){let i=0,r=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return a;const u=n.segments[r],f=t[i];if(ch(f))break;const _=`${f}`,w=i<t.length-1?t[i+1]:null;if(r>0&&void 0===_)break;if(_&&w&&"object"==typeof w&&void 0===w.outlets){if(!WT(_,w,u))return a;i+=2}else{if(!WT(_,{},u))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const a=new tn(n.segments.slice(0,i.pathIndex),{});return a.children[Xt]=new tn(n.segments.slice(i.pathIndex),n.children),Zg(a,0,r)}return i.match&&0===r.length?new tn(n.segments,{}):i.match&&!n.hasChildren()?SE(n,e,t):i.match?Zg(n,0,r):SE(n,e,t)}function Zg(n,e,t){if(0===t.length)return new tn(n.segments,{});{const i=function Jv(n){return ch(n[0])?n[0].outlets:{[Xt]:n}}(t),r={};return dr(i,(a,u)=>{"string"==typeof a&&(a=[a]),null!==a&&(r[u]=eb(n.children[u],e,a))}),dr(n.children,(a,u)=>{void 0===i[u]&&(r[u]=a)}),new tn(n.segments,r)}}function SE(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const a=t[r];if(ch(a)){const _=ZT(a.outlets);return new tn(i,_)}if(0===r&&pp(t[0])){i.push(new dp(n.segments[e].path,tb(t[0]))),r++;continue}const u=ch(a)?a.outlets[Xt]:`${a}`,f=r<t.length-1?t[r+1]:null;u&&f&&pp(f)?(i.push(new dp(u,tb(f))),r+=2):(i.push(new dp(u,{})),r++)}return new tn(i,{})}function ZT(n){const e={};return dr(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=SE(new tn([],{}),0,t))}),e}function tb(n){const e={};return dr(n,(t,i)=>e[i]=`${t}`),e}function WT(n,e,t){return n==t.path&&gs(e,t.parameters)}class _l{constructor(e,t){this.id=e,this.url=t}}class gc extends _l{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ru extends _l{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class mp extends _l{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class gp extends _l{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class KT extends _l{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class AE extends _l{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class YT extends _l{constructor(e,t,i,r,a){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class QT extends _l{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class XT extends _l{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class JT{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class eS{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ME{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tS{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xE{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class RE{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wg{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Kg{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=nb(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=nb(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=kE(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return kE(e,this._root).map(t=>t.value)}}function nb(n,e){if(n===e.value)return e;for(const t of e.children){const i=nb(n,t);if(i)return i}return null}function kE(n,e){if(n===e.value)return[e];for(const t of e.children){const i=kE(n,t);if(i.length)return i.unshift(e),i}return[]}class _s{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ku(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class ib extends Kg{constructor(e,t){super(e),this.snapshot=t,Qg(this,e)}toString(){return this.snapshot.toString()}}function _p(n,e){const t=function ko(n,e){const u=new ao([],{},{},"",{},Xt,e,null,n.root,-1,{});return new Yg("",new _s(u,[]))}(n,e),i=new oo([new dp("",{})]),r=new oo({}),a=new oo({}),u=new oo({}),f=new oo(""),_=new yl(i,r,u,f,a,Xt,e,t.root);return _.snapshot=t.root,new ib(new _s(_,[]),t)}class yl{constructor(e,t,i,r,a,u,f,_){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=f,this.title=this.data?.pipe((0,ft.U)(w=>w[Vg]))??ut(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ft.U)(e=>va(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ft.U)(e=>va(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function OE(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],a=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return function rb(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class ao{constructor(e,t,i,r,a,u,f,_,w,D,A,F){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=f,this.title=this.data?.[Vg],this.routeConfig=_,this._urlSegment=w,this._lastPathIndex=D,this._correctedLastPathIndex=F??D,this._resolve=A}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=va(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=va(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Yg extends Kg{constructor(e,t){super(t),this.url=e,Qg(this,t)}toString(){return Xg(this._root)}}function Qg(n,e){e.value._routerState=n,e.children.forEach(t=>Qg(n,t))}function Xg(n){const e=n.children.length>0?` { ${n.children.map(Xg).join(", ")} } `:"";return`${n.value}${e}`}function PE(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,gs(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),gs(e.params,t.params)||n.params.next(t.params),function oh(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!gs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),gs(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Jg(n,e){const t=gs(n.params,e.params)&&function lh(n,e){return Kr(n,e)&&n.every((t,i)=>gs(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Jg(n.parent,e.parent))}function _c(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function e_(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return _c(n,i,r);return _c(n,i)})}(n,e,t);return new _s(i,r)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const u=a.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(f=>_c(n,f)),u}}const i=function sb(n){return new yl(new oo(n.url),new oo(n.params),new oo(n.queryParams),new oo(n.fragment),new oo(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(a=>_c(n,a));return new _s(i,r)}}const yp="ngNavigationCancelingError";function t_(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=mc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=nS(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function nS(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[yp]=!0,i.cancellationCode=e,t&&(i.url=t),i}function NE(n){return FE(n)&&mc(n.url)}function FE(n){return n&&n[yp]}class iS{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new vp,this.attachRef=null}}let vp=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new iS,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bp=!1;let LE=(()=>{class n{constructor(t,i,r,a,u){this.parentContexts=t,this.location=i,this.changeDetector=a,this.environmentInjector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=r||Xt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,bp);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,bp);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,bp);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new l.vHH(4013,bp);this._activatedRoute=t;const r=this.location,u=t._futureSnapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,_=new rS(t,f,r.injector);if(i&&function Ik(n){return!!n.resolveComponentFactory}(i)){const w=i.resolveComponentFactory(u);this.activated=r.createComponent(w,r.length,_)}else this.activated=r.createComponent(u,{index:r.length,injector:_,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(vp),l.Y36(l.s_b),l.$8M("name"),l.Y36(l.sBO),l.Y36(l.lqb))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class rS{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===yl?this.route:e===vp?this.childContexts:this.parent.get(e,t)}}let n_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(t,i){1&t&&l._UZ(0,"router-outlet")},dependencies:[LE],encapsulation:2}),n})();function ob(n,e){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function UE(n){const e=n.children&&n.children.map(UE),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Xt&&(t.component=n_),t}function Oo(n){return n.outlet||Xt}function sS(n,e){const t=n.filter(i=>Oo(i)===e);return t.push(...n.filter(i=>Oo(i)!==e)),t}function i_(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class ab{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),PE(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=ku(t);e.children.forEach(a=>{const u=a.value.outlet;this.deactivateRoutes(a,r[u],i),delete r[u]}),dr(r,(a,u)=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(r===a)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,i);else a&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=ku(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);if(i&&i.outlet){const u=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=ku(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=ku(t);e.children.forEach(a=>{this.activateRoutes(a,r[a.value.outlet],i),this.forwardEvent(new RE(a.value.snapshot))}),e.children.length&&this.forwardEvent(new tS(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(PE(r),r===a)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const f=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),PE(f.route.value),this.activateChildRoutes(e,null,u.children)}else{const f=i_(r.snapshot),_=f?.get(l._Vd)??null;u.attachRef=null,u.route=r,u.resolver=_,u.injector=f,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,i)}}class HE{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class wp{constructor(e,t){this.component=e,this.route=t}}function lb(n,e,t){const i=n._root;return Ep(i,e?e._root:null,t,[i.value])}function vc(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,l.Z0I)(n)?e.get(n):n:i}function Ep(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=ku(e);return n.children.forEach(u=>{(function bc(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,u=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){const _=function $E(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Kr(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Kr(n.url,e.url)||!gs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jg(n,e)||!gs(n.queryParams,e.queryParams);default:return!Jg(n,e)}}(u,a,a.routeConfig.runGuardsAndResolvers);_?r.canActivateChecks.push(new HE(i)):(a.data=u.data,a._resolvedData=u._resolvedData),Ep(n,e,a.component?f?f.children:null:t,i,r),_&&f&&f.outlet&&f.outlet.isActivated&&r.canDeactivateChecks.push(new wp(f.outlet.component,u))}else u&&Cp(e,f,r),r.canActivateChecks.push(new HE(i)),Ep(n,null,a.component?f?f.children:null:t,i,r)})(u,a[u.value.outlet],t,i.concat([u.value]),r),delete a[u.value.outlet]}),dr(a,(u,f)=>Cp(u,t.getContext(f),r)),r}function Cp(n,e,t){const i=ku(n),r=n.value;dr(i,(a,u)=>{Cp(a,r.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new wp(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Ip(n){return"function"==typeof n}function hh(n){return n instanceof Bv||"EmptyError"===n?.name}const Tp=Symbol("INITIAL_VALUE");function Ou(){return Di(n=>Hv(n.map(e=>e.pipe(_a(1),ya(Tp)))).pipe((0,ft.U)(e=>{for(const t of e)if(!0!==t){if(t===Tp)return Tp;if(!1===t||t instanceof Au)return t}return!0}),ni(e=>e!==Tp),_a(1)))}function pb(n){return(0,yk.z)((0,Wn.b)(e=>{if(mc(e))throw t_(0,e)}),(0,ft.U)(e=>!0===e))}const mb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ys(n,e,t,i,r){const a=s_(n,e,t);return a.matched?function ZE(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?ut(r.map(u=>{const f=vc(u,n);return pc(function cb(n){return n&&Ip(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(Ou(),pb()):ut(!0)}(i=ob(e,i),e,t).pipe((0,ft.U)(u=>!0===u?a:{...mb})):ut(a)}function s_(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...mb}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||OT)(t,n,e);if(!r)return{...mb};const a={};dr(r.posParams,(f,_)=>{a[_]=f.path});const u=r.consumed.length>0?{...a,...r.consumed[r.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function o_(n,e,t,i,r="corrected"){if(t.length>0&&function gb(n,e,t){return t.some(i=>a_(n,e,i)&&Oo(i)!==Xt)}(n,t,i)){const u=new tn(e,function dS(n,e,t,i){const r={};r[Xt]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&Oo(a)!==Xt){const u=new tn([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,r[Oo(a)]=u}return r}(n,e,i,new tn(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function WE(n,e,t){return t.some(i=>a_(n,e,i))}(n,t,i)){const u=new tn(n.segments,function xk(n,e,t,i,r,a){const u={};for(const f of i)if(a_(n,t,f)&&!r[Oo(f)]){const _=new tn([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===a?n.segments.length:e.length,u[Oo(f)]=_}return{...r,...u}}(n,e,t,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const a=new tn(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function a_(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function KE(n,e,t,i){return!!(Oo(n)===i||i!==Xt&&a_(e,t,n))&&("**"===n.path||s_(e,n,t).matched)}function YE(n,e,t){return 0===e.length&&!n.children[t]}const Sp=!1;class l_{constructor(e){this.segmentGroup=e||null}}class _b{constructor(e){this.urlTree=e}}function Ap(n){return dc(new l_(n))}function QE(n){return dc(new _b(n))}class ba{constructor(e,t,i,r,a){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=a,this.allowRedirects=!0}apply(){const e=o_(this.urlTree.root,[],[],this.config).segmentGroup,t=new tn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Xt).pipe((0,ft.U)(a=>this.createUrlTree(zg(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(gl(a=>{if(a instanceof _b)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof l_?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Xt).pipe((0,ft.U)(r=>this.createUrlTree(zg(r),e.queryParams,e.fragment))).pipe(gl(r=>{throw r instanceof l_?this.noMatchError(r):r}))}noMatchError(e){return new l.vHH(4002,Sp)}createUrlTree(e,t,i){const r=Qv(e);return new Au(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,ft.U)(a=>new tn([],a))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const a of Object.keys(i.children))"primary"===a?r.unshift(a):r.push(a);return(0,nn.D)(r).pipe(ml(a=>{const u=i.children[a],f=sS(t,a);return this.expandSegmentGroup(e,f,u,a).pipe((0,ft.U)(_=>({segment:_,outlet:a})))}),up((a,u)=>(a[u.outlet]=u.segment,a),{}),Ng())}expandSegment(e,t,i,r,a,u){return(0,nn.D)(i).pipe(ml(f=>this.expandSegmentAgainstRoute(e,t,i,f,r,a,u).pipe(gl(w=>{if(w instanceof l_)return ut(null);throw w}))),pl(f=>!!f),gl((f,_)=>{if(hh(f))return YE(t,r,a)?ut(new tn([],{})):Ap(t);throw f}))}expandSegmentAgainstRoute(e,t,i,r,a,u,f){return KE(r,t,a,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,a,u):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u):Ap(t):Ap(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const a=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?QE(a):this.lineralizeSegments(i,a).pipe((0,pi.z)(u=>{const f=new tn(u,{});return this.expandSegment(e,f,t,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u){const{matched:f,consumedSegments:_,remainingSegments:w,positionalParamSegments:D}=s_(t,r,a);if(!f)return Ap(t);const A=this.applyRedirectCommands(_,r.redirectTo,D);return r.redirectTo.startsWith("/")?QE(A):this.lineralizeSegments(r,A).pipe((0,pi.z)(F=>this.expandSegment(e,t,i,F.concat(w),u,!1)))}matchSegmentAgainstRoute(e,t,i,r,a){return"**"===i.path?(e=ob(i,e),i.loadChildren?(i._loadedRoutes?ut({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,ft.U)(f=>(i._loadedRoutes=f.routes,i._loadedInjector=f.injector,new tn(r,{})))):ut(new tn(r,{}))):ys(t,i,r,e).pipe(Di(({matched:u,consumedSegments:f,remainingSegments:_})=>u?this.getChildConfig(e=i._injector??e,i,r).pipe((0,pi.z)(D=>{const A=D.injector??e,F=D.routes,{segmentGroup:B,slicedSegments:Z}=o_(t,f,_,F),ie=new tn(B.segments,B.children);if(0===Z.length&&ie.hasChildren())return this.expandChildren(A,F,ie).pipe((0,ft.U)(Je=>new tn(f,Je)));if(0===F.length&&0===Z.length)return ut(new tn(f,{}));const ye=Oo(i)===a;return this.expandSegment(A,ie,F,Z,ye?Xt:a,!0).pipe((0,ft.U)(st=>new tn(f.concat(st.segments),st.children)))})):Ap(t)))}getChildConfig(e,t,i){return t.children?ut({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ut({routes:t._loadedRoutes,injector:t._loadedInjector}):function uS(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?ut(!0):ut(r.map(u=>{const f=vc(u,n);return pc(function oS(n){return n&&Ip(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(Ou(),pb())}(e,t,i).pipe((0,pi.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,Wn.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function JE(n){return dc(nS(Sp,3))}())):ut({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return ut(i);if(r.numberOfChildren>1||!r.children[Xt])return dc(new l.vHH(4e3,Sp));r=r.children[Xt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const a=this.createSegmentGroup(e,t.root,i,r);return new Au(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return dr(e,(r,a)=>{if("string"==typeof r&&r.startsWith(":")){const f=r.substring(1);i[a]=t[f]}else i[a]=r}),i}createSegmentGroup(e,t,i,r){const a=this.createSegments(e,t.segments,i,r);let u={};return dr(t.children,(f,_)=>{u[_]=this.createSegmentGroup(e,f,i,r)}),new tn(a,u)}createSegments(e,t,i,r){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,r):this.findOrReturn(a,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new l.vHH(4001,Sp);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class fS{}class pS{constructor(e,t,i,r,a,u,f,_){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=f,this.urlSerializer=_}recognize(){const e=o_(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Xt).pipe((0,ft.U)(t=>{if(null===t)return null;const i=new ao([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Xt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new _s(i,t),a=new Yg(this.url,r);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,i=OE(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,nn.D)(Object.keys(i.children)).pipe(ml(r=>{const a=i.children[r],u=sS(t,r);return this.processSegmentGroup(e,u,a,r)}),up((r,a)=>r&&a?(r.push(...a),r):null),function RT(n,e=!1){return(0,ti.e)((t,i)=>{let r=0;t.subscribe((0,$t.x)(i,a=>{const u=n(a,r++);(u||e)&&i.next(a),!u&&i.complete()}))})}(r=>null!==r),cp(null),Ng(),(0,ft.U)(r=>{if(null===r)return null;const a=tC(r);return function mS(n){n.sort((e,t)=>e.value.outlet===Xt?-1:t.value.outlet===Xt?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,i,r,a){return(0,nn.D)(t).pipe(ml(u=>this.processSegmentAgainstRoute(u._injector??e,u,i,r,a)),pl(u=>!!u),gl(u=>{if(hh(u))return YE(i,r,a)?ut([]):ut(null);throw u}))}processSegmentAgainstRoute(e,t,i,r,a){if(t.redirectTo||!KE(t,i,r,a))return ut(null);let u;if("**"===t.path){const f=r.length>0?Gv(r).parameters:{},_=u_(i)+r.length;u=ut({snapshot:new ao(r,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,yS(t),Oo(t),t.component??t._loadedComponent??null,t,Mp(i),_,d_(t),_),consumedSegments:[],remainingSegments:[]})}else u=ys(i,t,r,e).pipe((0,ft.U)(({matched:f,consumedSegments:_,remainingSegments:w,parameters:D})=>{if(!f)return null;const A=u_(i)+_.length;return{snapshot:new ao(_,D,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,yS(t),Oo(t),t.component??t._loadedComponent??null,t,Mp(i),A,d_(t),A),consumedSegments:_,remainingSegments:w}}));return u.pipe(Di(f=>{if(null===f)return ut(null);const{snapshot:_,consumedSegments:w,remainingSegments:D}=f;e=t._injector??e;const A=t._loadedInjector??e,F=function gS(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:B,slicedSegments:Z}=o_(i,w,D,F.filter(ye=>void 0===ye.redirectTo),this.relativeLinkResolution);if(0===Z.length&&B.hasChildren())return this.processChildren(A,F,B).pipe((0,ft.U)(ye=>null===ye?null:[new _s(_,ye)]));if(0===F.length&&0===Z.length)return ut([new _s(_,[])]);const ie=Oo(t)===a;return this.processSegment(A,F,B,Z,ie?Xt:a).pipe((0,ft.U)(ye=>null===ye?null:[new _s(_,ye)]))}))}}function vb(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function tC(n){const e=[],t=new Set;for(const i of n){if(!vb(i)){e.push(i);continue}const r=e.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=tC(i.children);e.push(new _s(i.value,r))}return e.filter(i=>!t.has(i))}function Mp(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function u_(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function yS(n){return n.data||{}}function d_(n){return n.resolve||{}}function wa(n){return"string"==typeof n.title||null===n.title}function fh(n){return Di(e=>{const t=n(e);return t?(0,nn.D)(t).pipe((0,ft.U)(()=>e)):ut(e)})}let Rp=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(a=>a.outlet===Xt);return i}getResolvedTitleForRoute(t){return t.data[Vg]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(ph)},providedIn:"root"}),n})(),ph=(()=>{class n extends Rp{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Sf))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class wb{}class vS extends class oC{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const wc=new l.OlP("",{providedIn:"root",factory:()=>({})}),lC=new l.OlP("ROUTES");let Eb=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ut(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=pc(t.loadComponent()).pipe((0,Wn.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),Lg(()=>{this.componentLoaders.delete(t)})),r=new Og(i,()=>new Yt.x).pipe($v());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ut({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const a=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,ft.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(i);let _,w,D=!1;Array.isArray(f)?w=f:(_=f.create(t).injector,w=PT(_.get(lC,[],l.XFs.Self|l.XFs.Optional)));return{routes:w.map(UE),injector:_}}),Lg(()=>{this.childrenLoaders.delete(i)})),u=new Og(a,()=>new Yt.x).pipe($v());return this.childrenLoaders.set(i,u),u}loadModuleFactoryOrRoutes(t){return pc(t()).pipe((0,pi.z)(i=>i instanceof l.YKP||Array.isArray(i)?ut(i):(0,nn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(l.Sil))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Pk{}class wS{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function ES(n){throw n}function cC(n,e,t){return e.parse("/")}const Cb={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},CS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function uC(){const n=(0,l.f3M)(yE),e=(0,l.f3M)(vp),t=(0,l.f3M)(Pe),i=(0,l.f3M)(l.zs3),r=(0,l.f3M)(l.Sil),a=(0,l.f3M)(lC,{optional:!0})??[],u=(0,l.f3M)(wc,{optional:!0})??{},f=(0,l.f3M)(ph),_=(0,l.f3M)(Rp,{optional:!0}),w=(0,l.f3M)(Pk,{optional:!0}),D=(0,l.f3M)(wb,{optional:!0}),A=new ii(null,n,e,t,i,r,PT(a));return w&&(A.urlHandlingStrategy=w),D&&(A.routeReuseStrategy=D),A.titleStrategy=_??f,function Ib(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,A),A}let ii=(()=>{class n{constructor(t,i,r,a,u,f,_){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=a,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Yt.x,this.errorHandler=ES,this.malformedUriErrorHandler=cC,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>ut(void 0),this.urlHandlingStrategy=new wS,this.routeReuseStrategy=new vS,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=u.get(Eb),this.configLoader.onLoadEndListener=F=>this.triggerEvent(new eS(F)),this.configLoader.onLoadStartListener=F=>this.triggerEvent(new JT(F)),this.ngModule=u.get(l.h0i),this.console=u.get(l.c2e);const A=u.get(l.R0b);this.isNgZoneEnabled=A instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function pE(){return new Au(new tn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=_p(this.currentUrlTree,this.rootComponentType),this.transitions=new oo({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(ni(r=>0!==r.id),(0,ft.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Di(r=>{let a=!1,u=!1;return ut(r).pipe((0,Wn.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Di(f=>{const _=this.browserUrlTree.toString(),w=!this.navigated||f.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return dC(f.source)&&(this.browserUrlTree=f.extractedUrl),ut(f).pipe(Di(A=>{const F=this.transitions.getValue();return i.next(new gc(A.id,this.serializeUrl(A.extractedUrl),A.source,A.restoredState)),F!==this.transitions.getValue()?hc.E:Promise.resolve(A)}),function yb(n,e,t,i){return Di(r=>function hS(n,e,t,i,r){return new ba(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,ft.U)(a=>({...r,urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Wn.b)(A=>{this.currentNavigation={...this.currentNavigation,finalUrl:A.urlAfterRedirects},r.urlAfterRedirects=A.urlAfterRedirects}),function kk(n,e,t,i,r,a){return(0,pi.z)(u=>function eC(n,e,t,i,r,a,u="emptyOnly",f="legacy"){return new pS(n,e,t,i,r,u,f,a).recognize().pipe(Di(_=>null===_?function Rk(n){return new Jn.y(e=>e.error(n))}(new fS):ut(_)))}(n,e,t,u.urlAfterRedirects,i.serialize(u.urlAfterRedirects),i,r,a).pipe((0,ft.U)(f=>({...u,targetSnapshot:f}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Wn.b)(A=>{if(r.targetSnapshot=A.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!A.extras.skipLocationChange){const B=this.urlHandlingStrategy.merge(A.urlAfterRedirects,A.rawUrl);this.setBrowserUrl(B,A)}this.browserUrlTree=A.urlAfterRedirects}const F=new KT(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(A.urlAfterRedirects),A.targetSnapshot);i.next(F)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:F,extractedUrl:B,source:Z,restoredState:ie,extras:ye}=f,$e=new gc(F,this.serializeUrl(B),Z,ie);i.next($e);const st=_p(B,this.rootComponentType).snapshot;return ut(r={...f,targetSnapshot:st,urlAfterRedirects:B,extras:{...ye,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=f.rawUrl,f.resolve(null),hc.E}),(0,Wn.b)(f=>{const _=new AE(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}),(0,ft.U)(f=>r={...f,guards:lb(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),function db(n,e){return(0,pi.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:u}}=t;return 0===u.length&&0===a.length?ut({...t,guardsResult:!0}):function hb(n,e,t,i){return(0,nn.D)(n).pipe((0,pi.z)(r=>function qE(n,e,t,i,r){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?ut(a.map(f=>{const _=i_(e)??r,w=vc(f,_);return pc(function dh(n){return n&&Ip(n.canDeactivate)}(w)?w.canDeactivate(n,e,t,i):_.runInContext(()=>w(n,e,t,i))).pipe(pl())})).pipe(Ou()):ut(!0)}(r.component,r.route,t,e,i)),pl(r=>!0!==r,!0))}(u,i,r,n).pipe((0,pi.z)(f=>f&&function zE(n){return"boolean"==typeof n}(f)?function GE(n,e,t,i){return(0,nn.D)(e).pipe(ml(r=>Rg(function lS(n,e){return null!==n&&e&&e(new ME(n)),ut(!0)}(r.route.parent,i),function fb(n,e){return null!==n&&e&&e(new xE(n)),ut(!0)}(r.route,i),function cS(n,e,t){const i=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(u=>function jE(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>kg(()=>ut(u.guards.map(_=>{const w=i_(u.node)??t,D=vc(_,w);return pc(function r_(n){return n&&Ip(n.canActivateChild)}(D)?D.canActivateChild(i,n):w.runInContext(()=>D(i,n))).pipe(pl())})).pipe(Ou())));return ut(a).pipe(Ou())}(n,r.path,t),function Mk(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return ut(!0);const r=i.map(a=>kg(()=>{const u=i_(e)??t,f=vc(a,u);return pc(function aS(n){return n&&Ip(n.canActivate)}(f)?f.canActivate(e,n):u.runInContext(()=>f(e,n))).pipe(pl())}));return ut(r).pipe(Ou())}(n,r.route,t))),pl(r=>!0!==r,!0))}(i,a,n,e):ut(f)),(0,ft.U)(f=>({...t,guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,Wn.b)(f=>{if(r.guardsResult=f.guardsResult,mc(f.guardsResult))throw t_(0,f.guardsResult);const _=new YT(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(_)}),ni(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",3),!1)),fh(f=>{if(f.guards.canActivateChecks.length)return ut(f).pipe((0,Wn.b)(_=>{const w=new QT(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}),Di(_=>{let w=!1;return ut(_).pipe(function nC(n,e){return(0,pi.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return ut(t);let a=0;return(0,nn.D)(r).pipe(ml(u=>function iC(n,e,t,i){const r=n.routeConfig,a=n._resolve;return void 0!==r?.title&&!wa(r)&&(a[Vg]=r.title),function rC(n,e,t,i){const r=function sC(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return ut({});const a={};return(0,nn.D)(r).pipe((0,pi.z)(u=>function bb(n,e,t,i){const r=i_(e)??i,a=vc(n,r);return pc(a.resolve?a.resolve(e,t):r.runInContext(()=>a(e,t)))}(n[u],e,t,i).pipe(pl(),(0,Wn.b)(f=>{a[u]=f}))),zv(1),Fg(a),gl(u=>hh(u)?hc.E:dc(u)))}(a,n,e,i).pipe((0,ft.U)(u=>(n._resolvedData=u,n.data=OE(n,t).resolve,r&&wa(r)&&(n.data[Vg]=r.title),null)))}(u.route,i,n,e)),(0,Wn.b)(()=>a++),zv(1),(0,pi.z)(u=>a===r.length?ut(t):hc.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Wn.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(_),this.cancelNavigationTransition(_,"",2))}}))}),(0,Wn.b)(_=>{const w=new XT(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}))}),fh(f=>{const _=w=>{const D=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&D.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,Wn.b)(A=>{w.component=A}),(0,ft.U)(()=>{})));for(const A of w.children)D.push(..._(A));return D};return Hv(_(f.targetSnapshot.root)).pipe(cp(),_a(1))}),fh(()=>this.afterPreactivation()),(0,ft.U)(f=>{const _=function Ck(n,e,t){const i=_c(n,e._root,t?t._root:void 0);return new ib(i,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return r={...f,targetRouterState:_}}),(0,Wn.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,ft.U)(i=>(new ab(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,Wn.b)({next(){a=!0},complete(){a=!0}}),Lg(()=>{a||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),gl(f=>{if(u=!0,FE(f)){NE(f)||(this.navigated=!0,this.restoreHistory(r,!0));const _=new mp(r.id,this.serializeUrl(r.extractedUrl),f.message,f.cancellationCode);if(i.next(_),NE(f)){const w=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),D={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||dC(r.source)};this.scheduleNavigation(w,"imperative",null,D,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const _=new gp(r.id,this.serializeUrl(r.extractedUrl),f,r.targetSnapshot??void 0);i.next(_);try{r.resolve(this.errorHandler(f))}catch(w){r.reject(w)}}return hc.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},a=t.state?.navigationId?t.state:null;if(a){const f={...a};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(r.state=f)}const u=this.parseUrl(t.url);this.scheduleNavigation(u,i,a,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(UE),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:a,fragment:u,queryParamsHandling:f,preserveFragment:_}=i,w=r||this.routerState.root,D=_?this.currentUrlTree.fragment:u;let A=null;switch(f){case"merge":A={...this.currentUrlTree.queryParams,...a};break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=a||null}return null!==A&&(A=this.removeEmptyProps(A)),DE(w,this.currentUrlTree,t,A,D??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=mc(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function IS(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new l.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...Cb}:!1===i?{...CS}:i,mc(t))return mE(this.currentUrlTree,t,r);const a=this.parseUrl(t);return mE(this.currentUrlTree,a,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const a=t[r];return null!=a&&(i[r]=a),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Ru(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,a,u){if(this.disposed)return Promise.resolve(!1);let f,_,w;u?(f=u.resolve,_=u.reject,w=u.promise):w=new Promise((F,B)=>{f=F,_=B});const D=++this.navigationId;let A;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),A=r&&r.\u0275routerPageId?r.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):A=0,this.setTransition({id:D,targetPageId:A,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:f,reject:_,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(F=>Promise.reject(F))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),a={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",a):this.location.go(r,"",a)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i,r){const a=new mp(t.id,this.serializeUrl(t.extractedUrl),i,r);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:function(){return uC()},providedIn:"root"}),n})();function dC(n){return"imperative"!==n}let vl=(()=>{class n{constructor(t,i,r,a,u){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=a,this.el=u,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Yt.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,l.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,l.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,l.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==t?i.setAttribute(r,"tabindex",t):i.removeAttribute(r,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ii),l.Y36(yl),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&l.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})(),kp=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Yt.x,this.subscription=t.events.subscribe(a=>{a instanceof Ru&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,l.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,l.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,l.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,a,u){return!!(0!==t||i||r||a||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ii),l.Y36(yl),l.Y36(_e))},n.\u0275dir=l.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&l.NdJ("click",function(a){return i.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&l.uIk("target",i.target)("href",i.href,l.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})();class DS{}let TS=(()=>{class n{constructor(t,i,r,a,u){this.router=t,this.injector=r,this.preloadingStrategy=a,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(ni(t=>t instanceof Ru),ml(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const a of i){a.providers&&!a._injector&&(a._injector=(0,l.MMx)(a.providers,t,`Route: ${a.path}`));const u=a._injector??t,f=a._loadedInjector??u;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?r.push(this.preloadConfig(u,a)):(a.children||a._loadedRoutes)&&r.push(this.processRoutes(f,a.children??a._loadedRoutes))}return(0,nn.D)(r).pipe((0,lp.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):ut(null);const a=r.pipe((0,pi.z)(u=>null===u?ut(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,nn.D)([a,u]).pipe((0,lp.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ii),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(DS),l.LFG(Eb))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Op=new l.OlP("");let hC=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof gc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ru&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Wg&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new Wg(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function lo(n,e){return{\u0275kind:n,\u0275providers:e}}function mh(n){return[{provide:lC,multi:!0,useValue:n}]}function g_(){const n=(0,l.f3M)(l.zs3);return e=>{const t=n.get(l.z2F);if(e!==t.components[0])return;const i=n.get(ii),r=n.get(Nu);1===n.get(Ec)&&i.initialNavigation(),n.get(Fu,null,l.XFs.Optional)?.setUpPreloading(),n.get(Op,null,l.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const Nu=new l.OlP("",{factory:()=>new Yt.x}),Ec=new l.OlP("",{providedIn:"root",factory:()=>1});const Fu=new l.OlP("");function vh(n){return lo(0,[{provide:Fu,useExisting:TS},{provide:DS,useExisting:n}])}const Db=new l.OlP("ROUTER_FORROOT_GUARD"),fC=[Pe,{provide:yE,useClass:vE},{provide:ii,useFactory:uC},vp,{provide:yl,useFactory:function hr(n){return n.routerState.root},deps:[ii]},Eb];function pC(){return new l.PXZ("Router",ii)}let Tb=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[fC,[],mh(t),{provide:Db,useFactory:yC,deps:[[ii,new l.FiY,new l.tp0]]},{provide:wc,useValue:i||{}},i?.useHash?{provide:_e,useClass:Dt}:{provide:_e,useClass:_t},{provide:Op,useFactory:()=>{const n=(0,l.f3M)(ii),e=(0,l.f3M)(As),t=(0,l.f3M)(wc);return t.scrollOffset&&e.setOffset(t.scrollOffset),new hC(n,e,t)}},i?.preloadingStrategy?vh(i.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:pC},i?.initialNavigation?AS(i):[],[{provide:vC,useFactory:g_},{provide:l.tb,multi:!0,useExisting:vC}]]}}static forChild(t){return{ngModule:n,providers:[mh(t)]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Db,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[n_]}),n})();function yC(n){return"guarded"}function AS(n){return["disabled"===n.initialNavigation?lo(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const e=(0,l.f3M)(ii);return()=>{e.setUpLocationChangeListener()}}},{provide:Ec,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?lo(2,[{provide:Ec,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:e=>{const t=e.get(z,Promise.resolve());let i=!1;return()=>t.then(()=>new Promise(a=>{const u=e.get(ii),f=e.get(Nu);(function r(a){e.get(ii).events.pipe(ni(f=>f instanceof Ru||f instanceof mp||f instanceof gp),(0,ft.U)(f=>f instanceof Ru||f instanceof mp&&(0===f.code||1===f.code)&&null),ni(f=>null!==f),_a(1)).subscribe(()=>{a()})})(()=>{a(!0),i=!0}),u.afterPreactivation=()=>(a(!0),i||f.closed?ut(void 0):f),u.initialNavigation()}))}}]).\u0275providers:[]]}const vC=new l.OlP("");var __=N(6451),bh=N(5363),Sb=N(6063);class MS extends Yt.x{constructor(e=1/0,t=1/0,i=Sb.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:a,_windowTime:u}=this;t||(i.push(e),!r&&i.push(a.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,a=r.slice();for(let u=0;u<a.length&&!e.closed;u+=i?1:2)e.next(a[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,a=(r?1:2)*e;if(e<1/0&&a<i.length&&i.splice(0,i.length-a),!r){const u=t.now();let f=0;for(let _=1;_<i.length&&i[_]<=u;_+=2)f=_;f&&i.splice(0,f+1)}}}var Np=N(3099);function Fp(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,Np.B)({connector:()=>new MS(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function y_(n,e){return(0,ga.m)(e)?Di(()=>n,e):Di(()=>n)}var Ab=N(9468),Hi=N(8623);N(259);var be=N(5861),Cc=N(2951),Bp=N(4859),gn=N(2090),wl=N(1877);const b_=new Map,Mb={activated:!1,tokenObservers:[]},AC={initialized:!1,enabled:!1};function Ti(n){return b_.get(n)||Object.assign({},Mb)}function w_(){return AC}class RC{constructor(e,t,i,r,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,be.Z)(function*(){t.stop();try{t.pending=new gn.BH,yield function US(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new gn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Xi=new gn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function xb(n){if(!Ti(n).activated)throw Xi.create("use-before-activation",{appName:n.name})}function C_(n,e){return I_.apply(this,arguments)}function I_(){return(I_=(0,be.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const A=yield r.getHeartbeatsHeader();A&&(i["X-Firebase-Client"]=A)}const a={method:"POST",body:JSON.stringify(e),headers:i};let u,f;try{u=yield fetch(n,a)}catch(A){throw Xi.create("fetch-network-error",{originalErrorMessage:A?.message})}if(200!==u.status)throw Xi.create("fetch-status-error",{httpStatus:u.status});try{f=yield u.json()}catch(A){throw Xi.create("fetch-parse-error",{originalErrorMessage:A?.message})}const _=f.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw Xi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const w=1e3*Number(_[1]),D=Date.now();return{token:f.token,expireTimeMillis:D+w,issuedAtTimeMillis:D}})).apply(this,arguments)}function D_(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const wh="firebase-app-check-store";let vs=null;function co(){return vs||(vs=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(Xi.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(wh,{keyPath:"compositeKey"})}}catch(t){e(Xi.create("storage-open",{originalErrorMessage:t?.message}))}}),vs)}function Ob(){return(Ob=(0,be.Z)(function*(n,e){const i=(yield co()).transaction(wh,"readwrite"),a=i.objectStore(wh).put({compositeKey:n,value:e});return new Promise((u,f)=>{a.onsuccess=_=>{u()},i.onerror=_=>{var w;f(Xi.create("storage-set",{originalErrorMessage:null===(w=_.target.error)||void 0===w?void 0:w.message}))}})})).apply(this,arguments)}const Eh=new wl.Yd("@firebase/app-check");function A_(n,e){return(0,gn.hl)()?function PC(n,e){return function NC(n,e){return Ob.apply(this,arguments)}(function FC(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Eh.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function x_(){return w_().enabled}function R_(){return Hp.apply(this,arguments)}function Hp(){return(Hp=(0,be.Z)(function*(){const n=w_();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const LC={error:"UNKNOWN_ERROR"};function VC(n){return gn.US.encodeString(JSON.stringify(n),!1)}function jp(n){return O_.apply(this,arguments)}function O_(){return(O_=(0,be.Z)(function*(n,e=!1){const t=n.app;xb(t);const i=Ti(t);let a,r=i.token;if(r&&!Ch(r)&&(i.token=void 0,r=void 0),!r){const _=yield i.cachedTokenPromise;_&&(Ch(_)?r=_:yield A_(t,void 0))}if(!e&&r&&Ch(r))return{token:r.token};let f,u=!1;if(x_()){i.exchangeTokenPromise||(i.exchangeTokenPromise=C_(D_(t,yield R_()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),u=!0);const _=yield i.exchangeTokenPromise;return yield A_(t,_),i.token=_,{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),u=!0),r=yield Ti(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?Eh.warn(_.message):Eh.error(_),a=_}return r?a?f=Ch(r)?{token:r.token,internalError:a}:jC(a):(f={token:r.token},i.token=r,yield A_(t,r)):f=jC(a),u&&HC(t,f),f})).apply(this,arguments)}function F_(n,e){const t=Ti(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function UC(n){const{app:e}=n,t=Ti(e);let i=t.tokenRefresher;i||(i=function GS(n){const{app:e}=n;return new RC((0,be.Z)(function*(){let i;if(i=Ti(e).token?yield jp(n,!0):yield jp(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=Ti(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function HC(n,e){const t=Ti(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}function Ch(n){return n.expireTimeMillis-Date.now()>0}function jC(n){return{token:VC(LC),error:n}}class qS{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ti(this.app);for(const t of e)F_(this.app,t.next);return Promise.resolve()}}const V_="app-check-internal";!function Uk(){(0,Cc._registerComponent)(new Bp.wA("app-check",n=>function ZS(n,e){return new qS(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(V_).initialize()})),(0,Cc._registerComponent)(new Bp.wA(V_,n=>function WS(n){return{getToken:e=>jp(n,e),addTokenListener:e=>function N_(n,e,t,i){const{app:r}=n,a=Ti(r);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:i,type:e}],a.token&&Ch(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),UC(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>UC(n))}(n,"INTERNAL",e),removeTokenListener:e=>F_(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Cc.registerVersion)("@firebase/app-check","0.7.0")}();class YC{constructor(){return(0,Hi.vb)("app-check")}}typeof window<"u"&&window,N(9260);const XC=new l.OlP("angularfire2.auth.use-emulator"),JC=new l.OlP("angularfire2.auth.settings"),eI=new l.OlP("angularfire2.auth.tenant-id"),Dh=new l.OlP("angularfire2.auth.langugage-code"),tI=new l.OlP("angularfire2.auth.use-device-language"),nI=new l.OlP("angularfire.auth.persistence"),iI=(n,e,t,i,r,a,u,f)=>(0,xo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),i&&(_.tenantId=i),_.languageCode=r,a&&_.useDeviceLanguage(),u)for(const[w,D]of Object.entries(u))_.settings[w]=D;return f&&_.setPersistence(f),_},[t,i,r,a,u,f]);let Fo=(()=>{class n{constructor(t,i,r,a,u,f,_,w,D,A,F,B){const Z=new Yt.x,ie=ut(void 0).pipe((0,bh.Q)(u.outsideAngular),Di(()=>a.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,3042)))),(0,ft.U)(()=>(0,xo.on)(t,a,i)),(0,ft.U)(ye=>iI(ye,a,f,w,D,A,_,F)),Fp({bufferSize:1,refCount:!1}));if(Pl(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ut(null);else{ie.pipe(pl()).subscribe();const $e=ie.pipe(Di(It=>It.getRedirectResult().then(jt=>jt,()=>null)),Hi.iC,Fp({bufferSize:1,refCount:!1})),st=ie.pipe(Di(It=>new Jn.y(jt=>({unsubscribe:a.runOutsideAngular(()=>It.onAuthStateChanged(qt=>jt.next(qt),qt=>jt.error(qt),()=>jt.complete()))})))),Je=ie.pipe(Di(It=>new Jn.y(jt=>({unsubscribe:a.runOutsideAngular(()=>It.onIdTokenChanged(qt=>jt.next(qt),qt=>jt.error(qt),()=>jt.complete()))}))));this.authState=$e.pipe(y_(st),(0,Ab.R)(u.outsideAngular),(0,bh.Q)(u.insideAngular)),this.user=$e.pipe(y_(Je),(0,Ab.R)(u.outsideAngular),(0,bh.Q)(u.insideAngular)),this.idToken=this.user.pipe(Di(It=>It?(0,nn.D)(It.getIdToken()):ut(null))),this.idTokenResult=this.user.pipe(Di(It=>It?(0,nn.D)(It.getIdTokenResult()):ut(null))),this.credential=(0,__.T)($e,Z,this.authState.pipe(ni(It=>!It))).pipe((0,ft.U)(It=>It?.user?It:null),(0,Ab.R)(u.outsideAngular),(0,bh.Q)(u.insideAngular))}return(0,xo.pX)(this,ie,a,{spy:{apply:(ye,$e,st)=>{(ye.startsWith("signIn")||ye.startsWith("createUser"))&&st.then(Je=>Z.next(Je))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(xo.Dh),l.LFG(xo.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Hi.HU),l.LFG(XC,8),l.LFG(JC,8),l.LFG(eI,8),l.LFG(Dh,8),l.LFG(tI,8),l.LFG(nI,8),l.LFG(YC,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();var Gp=N(4986);function H_(){return(0,ti.e)((n,e)=>{let t,i=!1;n.subscribe((0,$t.x)(e,r=>{const a=t;t=r,i&&e.next([a,r]),i=!0}))})}function Gb(n,e=fl.y){return n=n??qp,(0,ti.e)((t,i)=>{let r,a=!0;t.subscribe((0,$t.x)(i,u=>{const f=e(u);(a||!n(r,f))&&(a=!1,r=f,i.next(u))}))})}function qp(n,e){return n===e}N(3042);var Xe,dA=N(3942),hA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Lo={},$_=$_||{},Ut=hA||self;function z_(){}function Zp(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Wp(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var rI="closure_uid_"+(1e9*Math.random()>>>0),zk=0;function Gk(n,e,t){return n.call.apply(n.bind,arguments)}function qk(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function fr(n,e,t){return(fr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Gk:qk).apply(null,arguments)}function Vu(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Ji(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,a){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return e.prototype[r].apply(i,u)}}function Ic(){this.s=this.s,this.o=this.o}Ic.prototype.s=!1,Ic.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function fA(n){Object.prototype.hasOwnProperty.call(n,rI)&&n[rI]||(n[rI]=++zk)}(this)},Ic.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Th=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function qb(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function oI(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Zp(i)){const r=n.length||0,a=i.length||0;n.length=r+a;for(let u=0;u<a;u++)n[r+u]=i[u]}else n.push(i)}}function Mr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Mr.prototype.h=function(){this.defaultPrevented=!0};var pA=function(){if(!Ut.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ut.addEventListener("test",z_,e),Ut.removeEventListener("test",z_,e)}catch{}return n}();function G_(n){return/^[\s\xa0]*$/.test(n)}var Zb=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Wb(n,e){return n<e?-1:n>e?1:0}function q_(){var n=Ut.navigator;return n&&(n=n.userAgent)?n:""}function bs(n){return-1!=q_().indexOf(n)}function Kb(n){return Kb[" "](n),n}function Yb(n,e,t){return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}Kb[" "]=z_;var Kp,n,mA=bs("Opera"),Bu=bs("Trident")||bs("MSIE"),aI=bs("Edge"),Z_=aI||Bu,lI=bs("Gecko")&&!(-1!=q_().toLowerCase().indexOf("webkit")&&!bs("Edge"))&&!(bs("Trident")||bs("MSIE"))&&!bs("Edge"),Qb=-1!=q_().toLowerCase().indexOf("webkit")&&!bs("Edge");function cI(){var n=Ut.document;return n?n.documentMode:void 0}e:{var W_="",Xb=(n=q_(),lI?/rv:([^\);]+)(\)|;)/.exec(n):aI?/Edge\/([\d\.]+)/.exec(n):Bu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Qb?/WebKit\/(\S+)/.exec(n):mA?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Xb&&(W_=Xb?Xb[1]:""),Bu){var Jb=cI();if(null!=Jb&&Jb>parseFloat(W_)){Kp=String(Jb);break e}}Kp=W_}var gA={},_A=Ut.document&&Bu&&(cI()||parseInt(Kp,10))||void 0;function Yp(n,e){if(Mr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(lI){e:{try{Kb(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:yA[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Yp.$.h.call(this)}}Ji(Yp,Mr);var yA={2:"touch",3:"pen",4:"mouse"};Yp.prototype.h=function(){Yp.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Qp="closure_listenable_"+(1e6*Math.random()|0),vA=0;function bA(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++vA,this.fa=this.ia=!1}function K_(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function r0(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function s0(n){const e={};for(const t in n)e[t]=n[t];return e}const o0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function uI(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let a=0;a<o0.length;a++)t=o0[a],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Y_(n){this.src=n,this.g={},this.h=0}function Q_(n,e){var t=e.type;if(t in n.g){var a,i=n.g[t],r=Th(i,e);(a=0<=r)&&Array.prototype.splice.call(i,r,1),a&&(K_(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function a0(n,e,t,i){for(var r=0;r<n.length;++r){var a=n[r];if(!a.fa&&a.listener==e&&a.capture==!!t&&a.la==i)return r}return-1}Y_.prototype.add=function(n,e,t,i,r){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var u=a0(n,e,i,r);return-1<u?(e=n[u],t||(e.ia=!1)):((e=new bA(e,this.src,a,!!i,r)).ia=t,n.push(e)),e};var l0="closure_lm_"+(1e6*Math.random()|0),c0={};function X_(n,e,t,i,r){if(i&&i.once)return ey(n,e,t,i,r);if(Array.isArray(e)){for(var a=0;a<e.length;a++)X_(n,e[a],t,i,r);return null}return t=iy(t),n&&n[Qp]?n.O(e,t,Wp(i)?!!i.capture:!!i,r):J_(n,e,t,!1,i,r)}function J_(n,e,t,i,r,a){if(!e)throw Error("Invalid event type");var u=Wp(r)?!!r.capture:!!r,f=ny(n);if(f||(n[l0]=f=new Y_(n)),(t=f.add(e,t,i,u,a)).proxy)return t;if(i=function dI(){const e=wA;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)pA||(r=u),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(ty(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function ey(n,e,t,i,r){if(Array.isArray(e)){for(var a=0;a<e.length;a++)ey(n,e[a],t,i,r);return null}return t=iy(t),n&&n[Qp]?n.P(e,t,Wp(i)?!!i.capture:!!i,r):J_(n,e,t,!0,i,r)}function hI(n,e,t,i,r){if(Array.isArray(e))for(var a=0;a<e.length;a++)hI(n,e[a],t,i,r);else i=Wp(i)?!!i.capture:!!i,t=iy(t),n&&n[Qp]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=a0(a=n.g[e],t,i,r))&&(K_(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=ny(n))&&(e=n.g[e.toString()],n=-1,e&&(n=a0(e,t,i,r)),(t=-1<n?e[n]:null)&&u0(t))}function u0(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Qp])Q_(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(ty(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=ny(e))?(Q_(t,n),0==t.h&&(t.src=null,e[l0]=null)):K_(n)}}}function ty(n){return n in c0?c0[n]:c0[n]="on"+n}function wA(n,e){if(n.fa)n=!0;else{e=new Yp(e,this);var t=n.listener,i=n.la||n.src;n.ia&&u0(n),n=t.call(i,e)}return n}function ny(n){return(n=n[l0])instanceof Y_?n:null}var Dc="__closure_events_fn_"+(1e9*Math.random()>>>0);function iy(n){return"function"==typeof n?n:(n[Dc]||(n[Dc]=function(e){return n.handleEvent(e)}),n[Dc])}function er(){Ic.call(this),this.i=new Y_(this),this.S=this,this.J=null}function xr(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new Mr(e,n);else if(e instanceof Mr)e.target=e.target||n;else{var r=e;uI(e=new Mr(i,n),r)}if(r=!0,t)for(var a=t.length-1;0<=a;a--){var u=e.g=t[a];r=Xp(u,i,!0,e)&&r}if(r=Xp(u=e.g=n,i,!0,e)&&r,r=Xp(u,i,!1,e)&&r,t)for(a=0;a<t.length;a++)r=Xp(u=e.g=t[a],i,!1,e)&&r}function Xp(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,a=0;a<e.length;++a){var u=e[a];if(u&&!u.fa&&u.capture==t){var f=u.listener,_=u.la||u.src;u.ia&&Q_(n.i,u),r=!1!==f.call(_,i)&&r}}return r&&!i.defaultPrevented}Ji(er,Ic),er.prototype[Qp]=!0,er.prototype.removeEventListener=function(n,e,t,i){hI(this,n,e,t,i)},er.prototype.N=function(){if(er.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)K_(t[i]);delete n.g[e],n.h--}}this.J=null},er.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},er.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Jp=Ut.JSON.stringify;function EA(){var n=gI;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var ry,fI=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new pI,n=>n.reset());class pI{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function h0(n){Ut.setTimeout(()=>{throw n},0)}function f0(n,e){ry||function mI(){var n=Ut.Promise.resolve(void 0);ry=function(){n.then(CA)}}(),sy||(ry(),sy=!0),gI.add(n,e)}var sy=!1,gI=new class d0{constructor(){this.h=this.g=null}add(e,t){const i=fI.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function CA(){for(var n;n=EA();){try{n.h.call(n.g)}catch(t){h0(t)}var e=fI;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}sy=!1}function oy(n,e){er.call(this),this.h=n||1,this.g=e||Ut,this.j=fr(this.qb,this),this.l=Date.now()}function p0(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function ay(n,e,t){if("function"==typeof n)t&&(n=fr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=fr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ut.setTimeout(n,e||0)}function IA(n){n.g=ay(()=>{n.g=null,n.i&&(n.i=!1,IA(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ji(oy,er),(Xe=oy.prototype).ga=!1,Xe.T=null,Xe.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),xr(this,"tick"),this.ga&&(p0(this),this.start()))}},Xe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Xe.N=function(){oy.$.N.call(this),p0(this),delete this.g};class _I extends Ic{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:IA(this)}N(){super.N(),this.g&&(Ut.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function em(n){Ic.call(this),this.h=n,this.g={}}Ji(em,Ic);var yI=[];function DA(n,e,t,i){Array.isArray(t)||(t&&(yI[0]=t.toString()),t=yI);for(var r=0;r<t.length;r++){var a=X_(e,t[r],i||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function TA(n){r0(n.g,function(e,t){this.g.hasOwnProperty(t)&&u0(e)},n),n.g={}}function ly(){this.g=!0}function Uu(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function xA(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<r.length;u++)r[u]=""}}}return Jp(t)}catch{return e}}(n,t)+(i?" "+i:"")})}em.prototype.N=function(){em.$.N.call(this),TA(this)},em.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ly.prototype.Ea=function(){this.g=!1},ly.prototype.info=function(){};var Hu={},vI=null;function cy(){return vI=vI||new er}function bI(n){Mr.call(this,Hu.Ta,n)}function tm(n){const e=cy();xr(e,new bI(e))}function wI(n,e){Mr.call(this,Hu.STAT_EVENT,n),this.stat=e}function $i(n){const e=cy();xr(e,new wI(e,n))}function m0(n,e){Mr.call(this,Hu.Ua,n),this.size=e}function Sh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ut.setTimeout(function(){n()},e)}Hu.Ta="serverreachability",Ji(bI,Mr),Hu.STAT_EVENT="statevent",Ji(wI,Mr),Hu.Ua="timingevent",Ji(m0,Mr);var nm={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},g0={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function uy(){}function EI(){}uy.prototype.h=null;var v0,dy={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function y0(){Mr.call(this,"d")}function hy(){Mr.call(this,"c")}function im(){}function rm(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new em(this),this.P=RA,this.V=new oy(n=Z_?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new Ah}function Ah(){this.i=null,this.g="",this.h=!1}Ji(y0,Mr),Ji(hy,Mr),Ji(im,uy),im.prototype.g=function(){return new XMLHttpRequest},im.prototype.i=function(){return{}},v0=new im;var RA=45e3,sm={},Bs={};function b0(n,e,t){n.L=1,n.v=my(Vo(e)),n.s=t,n.S=!0,om(n,null)}function om(n,e){n.G=Date.now(),am(n),n.A=Vo(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),MI(t.i,"t",i),n.C=0,t=n.l.I,n.h=new Ah,n.g=zA(n.l,t?e:null,!n.s),0<n.O&&(n.M=new _I(fr(n.Pa,n,n.g),n.O)),DA(n.U,n.g,"readystatechange",n.nb),e=n.I?s0(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),tm(),function SA(n,e,t,i,r,a){n.info(function(){if(n.g)if(a)for(var u="",f=a.split("&"),_=0;_<f.length;_++){var w=f[_].split("=");if(1<w.length){var D=w[0];w=w[1];var A=D.split("_");u=2<=A.length&&"type"==A[1]?u+(D+"=")+w+"&":u+(D+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Mh(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function CI(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=kA(n,t),r==Bs){4==e&&(n.o=4,$i(14),i=!1),Uu(n.j,n.m,null,"[Incomplete Response]");break}if(r==sm){n.o=4,$i(15),Uu(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Uu(n.j,n.m,r,null),fy(n,r)}Mh(n)&&r!=Bs&&r!=sm&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,$i(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ca&&(n.ca=!0,(e=n.l).g==n&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ey(e),e.L=!0,$i(11))):(Uu(n.j,n.m,t,"[Invalid Chunked Response]"),$u(n),cm(n))}function kA(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Bs:(t=Number(e.substring(t,i)),isNaN(t)?sm:(i+=1)+t>e.length?Bs:(e=e.substr(i,t),n.C=i+t,e))}function am(n){n.Y=Date.now()+n.P,lm(n,n.P)}function lm(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Sh(fr(n.lb,n),e)}function ju(n){n.B&&(Ut.clearTimeout(n.B),n.B=null)}function cm(n){0==n.l.H||n.J||HA(n.l,n)}function $u(n){ju(n);var e=n.M;e&&"function"==typeof e.ra&&e.ra(),n.M=null,p0(n.V),TA(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.ra())}function fy(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||RI(t.h,n)))if(!n.K&&RI(t.h,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Cy(t),mm(t)}wy(t),$i(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.M&&0==t.A&&!t.v&&(t.v=Sh(fr(t.ib,t),6e3));if(1>=LA(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else Lh(t,11)}else if((n.K||t.g==n)&&Cy(t),!G_(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let w=r[e];if(t.V=w[0],w=w[1],2==t.H)if("c"==w[0]){t.J=w[1],t.oa=w[2];const D=w[3];null!=D&&(t.qa=D,t.j.info("VER="+t.qa));const A=w[4];null!=A&&(t.Ga=A,t.j.info("SVER="+t.Ga));const F=w[5];null!=F&&"number"==typeof F&&0<F&&(t.K=i=1.5*F,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const B=n.g;if(B){const Z=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Z){var a=i.h;a.g||-1==Z.indexOf("spdy")&&-1==Z.indexOf("quic")&&-1==Z.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(gy(a,a.h),a.h=null))}if(i.F){const ie=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;ie&&(i.Da=ie,jn(i.G,i.F,ie))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-n.G,t.j.info("Handshake RTT: "+t.S+"ms"));var u=n;if((i=t).wa=$A(i,i.I?i.oa:null,i.Y),u.K){S0(i.h,u);var f=u,_=i.K;_&&f.setTimeout(_),f.B&&(ju(f),am(f)),i.g=u}else H0(i);0<t.i.length&&by(t)}else"stop"!=w[0]&&"close"!=w[0]||Lh(t,7);else 3==t.H&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?Lh(t,7):L0(t):"noop"!=w[0]&&t.l&&t.l.Aa(w),t.A=0)}tm()}catch{}}function E0(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Zp(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function w0(n){if(n.sa&&"function"==typeof n.sa)return n.sa();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Zp(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function II(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Zp(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,a=0;a<r;a++)e.call(void 0,i[a],t&&t[a],n)}(Xe=rm.prototype).setTimeout=function(n){this.P=n},Xe.nb=function(n){n=n.target;const e=this.M;e&&3==Ac(n)?e.l():this.Pa(n)},Xe.Pa=function(n){try{if(n==this.g)e:{const D=Ac(this.g);var e=this.g.Ia();if(this.g.da(),!(3>D)&&(3!=D||Z_||this.g&&(this.h.h||this.g.ja()||FI(this.g)))){this.J||4!=D||7==e||tm(),ju(this);var t=this.g.da();this.aa=t;t:if(Mh(this)){var i=FI(this.g);n="";var r=i.length,a=4==Ac(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){$u(this),cm(this);var u="";break t}this.h.i=new Ut.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:a&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==t,function AA(n,e,t,i,r,a,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+a+" "+u})}(this.j,this.u,this.A,this.m,this.W,D,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G_(f)){var w=f;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,$i(12),$u(this),cm(this);break e}Uu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fy(this,t)}this.S?(CI(this,D,u),Z_&&this.i&&3==D&&(DA(this.U,this.V,"tick",this.mb),this.V.start())):(Uu(this.j,this.m,u,null),fy(this,u)),4==D&&$u(this),this.i&&!this.J&&(4==D?HA(this.l,this):(this.i=!1,am(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,$i(12)):(this.o=0,$i(13)),$u(this),cm(this)}}}catch{}},Xe.mb=function(){if(this.g){var n=Ac(this.g),e=this.g.ja();this.C<e.length&&(ju(this),CI(this,n,e),this.i&&4!=n&&am(this))}},Xe.cancel=function(){this.J=!0,$u(this)},Xe.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function MA(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(tm(),$i(17)),$u(this),this.o=2,cm(this)):lm(this,this.Y-n)};var DI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xh(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof xh){this.h=void 0!==e?e:n.h,Rh(this,n.j),this.s=n.s,this.g=n.g,um(this,n.m),this.l=n.l,e=n.i;var t=new kh;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),py(this,t),this.o=n.o}else n&&(t=String(n).match(DI))?(this.h=!!e,Rh(this,t[1]||"",!0),this.s=dm(t[2]||""),this.g=dm(t[3]||"",!0),um(this,t[4]),this.l=dm(t[5]||"",!0),py(this,t[6]||"",!0),this.o=dm(t[7]||"")):(this.h=!!e,this.i=new kh(null,this.h))}function Vo(n){return new xh(n)}function Rh(n,e,t){n.j=t?dm(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function um(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function py(n,e,t){e instanceof kh?(n.i=e,function NA(n,e){e&&!n.j&&(Tc(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(D0(this,i),MI(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=hm(e,SI)),n.i=new kh(e,n.h))}function jn(n,e,t){n.i.set(e,t)}function my(n){return jn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function dm(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function hm(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,PA),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function PA(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}xh.prototype.toString=function(){var n=[],e=this.j;e&&n.push(hm(e,C0,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(hm(e,C0,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(hm(t,"/"==t.charAt(0)?TI:I0,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",hm(t,AI)),n.join("")};var C0=/[#\/\?@]/g,I0=/[#\?:]/g,TI=/[#\?]/g,SI=/[#\?@]/g,AI=/#/g;function kh(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Tc(n){n.g||(n.g=new Map,n.h=0,n.i&&function OA(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var a=n[t].substring(0,i);r=n[t].substring(i+1)}else a=n[t];e(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function D0(n,e){Tc(n),e=zu(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function T0(n,e){return Tc(n),e=zu(n,e),n.g.has(e)}function MI(n,e,t){D0(n,e),0<t.length&&(n.i=null,n.g.set(zu(n,e),qb(t)),n.h+=t.length)}function zu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Gu(n){this.l=n||FA,n=Ut.PerformanceNavigationTiming?0<(n=Ut.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ut.g&&Ut.g.Ka&&Ut.g.Ka()&&Ut.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Xe=kh.prototype).add=function(n,e){Tc(this),this.i=null,n=zu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Xe.forEach=function(n,e){Tc(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},Xe.sa=function(){Tc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let a=0;a<r.length;a++)t.push(e[i])}return t},Xe.Z=function(n){Tc(this);let e=[];if("string"==typeof n)T0(this,n)&&(e=e.concat(this.g.get(zu(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Xe.set=function(n,e){return Tc(this),this.i=null,T0(this,n=zu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Xe.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Xe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const a=encodeURIComponent(String(i)),u=this.Z(i);for(i=0;i<u.length;i++){var r=a;""!==u[i]&&(r+="="+encodeURIComponent(String(u[i]))),n.push(r)}}return this.i=n.join("&")};var FA=10;function xI(n){return!!n.h||!!n.g&&n.g.size>=n.j}function LA(n){return n.h?1:n.g?n.g.size:0}function RI(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function gy(n,e){n.g?n.g.add(e):n.h=e}function S0(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Oh(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return qb(n.i)}function A0(){}function M0(){this.g=new A0}function VA(n,e,t){const i=t||"";try{E0(n,function(r,a){let u=r;Wp(r)&&(u=Jp(r)),e.push(i+a+"="+encodeURIComponent(u))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function _y(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function fm(n){this.l=n.fc||null,this.j=n.ob||!1}function yy(n,e){er.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=pm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Gu.prototype.cancel=function(){if(this.i=Oh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},A0.prototype.stringify=function(n){return Ut.JSON.stringify(n,void 0)},A0.prototype.parse=function(n){return Ut.JSON.parse(n,void 0)},Ji(fm,uy),fm.prototype.g=function(){return new yy(this.l,this.j)},fm.prototype.i=function(n){return function(){return n}}({}),Ji(yy,er);var pm=0;function x0(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Ph(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Sc(n)}function Sc(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Xe=yy.prototype).open=function(n,e){if(this.readyState!=pm)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Sc(this)},Xe.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Ut).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Xe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ph(this)),this.readyState=pm},Xe.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Sc(this)),this.g&&(this.readyState=3,Sc(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ut.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;x0(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Xe.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Ph(this):Sc(this),3==this.readyState&&x0(this)}},Xe.Za=function(n){this.g&&(this.response=this.responseText=n,Ph(this))},Xe.Ya=function(n){this.g&&(this.response=n,Ph(this))},Xe.ka=function(){this.g&&Ph(this)},Xe.setRequestHeader=function(n,e){this.v.append(n,e)},Xe.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Xe.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(yy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var R0=Ut.JSON.parse;function Ai(n){er.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=k0,this.L=this.M=!1}Ji(Ai,er);var k0="",BA=/^https?$/i,OI=["POST","PUT"];function PI(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,O0(n),P0(n)}function O0(n){n.F||(n.F=!0,xr(n,"complete"),xr(n,"error"))}function vy(n){if(n.h&&typeof $_<"u"&&(!n.C[1]||4!=Ac(n)||2!=n.da()))if(n.v&&4==Ac(n))ay(n.La,0,n);else if(xr(n,"readystatechange"),4==Ac(n)){n.h=!1;try{const f=n.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===f){var r=String(n.I).match(DI)[1]||null;if(!r&&Ut.self&&Ut.self.location){var a=Ut.self.location.protocol;r=a.substr(0,a.length-1)}i=!BA.test(r?r.toLowerCase():"")}t=i}if(t)xr(n,"complete"),xr(n,"success");else{n.m=6;try{var u=2<Ac(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.da()+"]",O0(n)}}finally{P0(n)}}}function P0(n,e){if(n.g){NI(n);const t=n.g,i=n.C[0]?z_:null;n.g=null,n.C=null,e||xr(n,"ready");try{t.onreadystatechange=i}catch{}}}function NI(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Ut.clearTimeout(n.A),n.A=null)}function Ac(n){return n.g?n.g.readyState:0}function FI(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case k0:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function LI(n){let e="";return r0(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function N0(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=LI(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):jn(n,e,t))}function Fh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function F0(n){this.Ga=0,this.i=[],this.j=new ly,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Fh("failFast",!1,n),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Fh("baseRetryDelayMs",5e3,n),this.hb=Fh("retryDelaySeedMs",1e4,n),this.eb=Fh("forwardChannelMaxRetries",2,n),this.xa=Fh("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.K=void 0,this.I=n&&n.supportsCrossDomainXhr||!1,this.J="",this.h=new Gu(n&&n.concurrentRequestLimit),this.Ja=new M0,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.j.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function L0(n){if(V0(n),3==n.H){var e=n.W++,t=Vo(n.G);jn(t,"SID",n.J),jn(t,"RID",e),jn(t,"TYPE","terminate"),gm(n,t),(e=new rm(n,n.j,e,void 0)).L=2,e.v=my(Vo(t)),t=!1,Ut.navigator&&Ut.navigator.sendBeacon&&(t=Ut.navigator.sendBeacon(e.v.toString(),"")),!t&&Ut.Image&&((new Image).src=e.v,t=!0),t||(e.g=zA(e.l,null),e.g.ha(e.v)),e.G=Date.now(),am(e)}jA(n)}function mm(n){n.g&&(Ey(n),n.g.cancel(),n.g=null)}function V0(n){mm(n),n.u&&(Ut.clearTimeout(n.u),n.u=null),Cy(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Ut.clearTimeout(n.m),n.m=null)}function by(n){xI(n.h)||n.m||(n.m=!0,f0(n.Na,n),n.C=0)}function B0(n,e){var t;t=e?e.m:n.W++;const i=Vo(n.G);jn(i,"SID",n.J),jn(i,"RID",t),jn(i,"AID",n.V),gm(n,i),n.o&&n.s&&N0(i,n.o,n.s),t=new rm(n,n.j,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.i=e.F.concat(n.i)),e=U0(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),gy(n.h,t),b0(t,i,e)}function gm(n,e){n.ma&&r0(n.ma,function(t,i){jn(e,i,t)}),n.l&&E0({},function(t,i){jn(e,i,t)})}function U0(n,e,t){t=Math.min(n.i.length,t);var i=n.l?fr(n.l.Va,n.l,n):null;e:{var r=n.i;let a=-1;for(;;){const u=["count="+t];-1==a?0<t?(a=r[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);let f=!0;for(let _=0;_<t;_++){let w=r[_].h;const D=r[_].g;if(w-=a,0>w)a=Math.max(0,r[_].h-100),f=!1;else try{VA(D,u,"req"+w+"_")}catch{i&&i(D)}}if(f){i=u.join("&");break e}}}return n=n.i.splice(0,t),e.F=n,i}function H0(n){n.g||n.u||(n.ba=1,f0(n.Ma,n),n.A=0)}function wy(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Sh(fr(n.Ma,n),j0(n,n.A)),n.A++,0))}function Ey(n){null!=n.B&&(Ut.clearTimeout(n.B),n.B=null)}function VI(n){n.g=new rm(n,n.j,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Vo(n.wa);jn(e,"RID","rpc"),jn(e,"SID",n.J),jn(e,"CI",n.M?"0":"1"),jn(e,"AID",n.V),jn(e,"TYPE","xmlhttp"),gm(n,e),n.o&&n.s&&N0(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.oa,t.L=1,t.v=my(Vo(e)),t.s=null,t.S=!0,om(t,n)}function Cy(n){null!=n.v&&(Ut.clearTimeout(n.v),n.v=null)}function HA(n,e){var t=null;if(n.g==e){Cy(n),Ey(n),n.g=null;var i=2}else{if(!RI(n.h,e))return;t=e.F,S0(n.h,e),i=1}if(0!=n.H)if(n.ta=e.aa,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;xr(i=cy(),new m0(i,t)),by(n)}else H0(n);else if(3==(r=e.o)||0==r&&0<n.ta||!(1==i&&function UA(n,e){return!(LA(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.F.concat(n.i),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Sh(fr(n.Na,n,e),j0(n,n.C)),n.C++,0)))}(n,e)||2==i&&wy(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),r){case 1:Lh(n,5);break;case 4:Lh(n,10);break;case 3:Lh(n,6);break;default:Lh(n,2)}}function j0(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.l||(t*=2),t*e}function Lh(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=fr(n.pb,n);t||(t=new xh("//www.google.com/images/cleardot.gif"),Ut.location&&"http"==Ut.location.protocol||Rh(t,"https"),my(t)),function kI(n,e){const t=new ly;if(Ut.Image){const i=new Image;i.onload=Vu(_y,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Vu(_y,t,i,"TestLoadImage: error",!1,e),i.onabort=Vu(_y,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Vu(_y,t,i,"TestLoadImage: timeout",!1,e),Ut.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else $i(2);n.H=0,n.l&&n.l.za(e),jA(n),V0(n)}function jA(n){if(n.H=0,n.pa=[],n.l){const e=Oh(n.h);(0!=e.length||0!=n.i.length)&&(oI(n.pa,e),oI(n.pa,n.i),n.h.i.length=0,qb(n.i),n.i.length=0),n.l.ya()}}function $A(n,e,t){var i=t instanceof xh?Vo(t):new xh(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),um(i,i.m);else{var r=Ut.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var a=new xh(null,void 0);i&&Rh(a,i),e&&(a.g=e),r&&um(a,r),t&&(a.l=t),i=a}return e=n.Da,(t=n.F)&&e&&jn(i,t,e),jn(i,"VER",n.qa),gm(n,i),i}function zA(n,e,t){if(e&&!n.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ai(t&&n.Ha&&!n.va?new fm({ob:!0}):n.va)).Oa(n.I),e}function GA(){}function $0(){if(Bu&&!(10<=Number(_A)))throw Error("Environmental error: no available transport.")}function uo(n,e){er.call(this),this.g=new F0(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!G_(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!G_(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new ym(this)}function qA(n){y0.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function _m(){hy.call(this),this.status=1}function ym(n){this.g=n}function ws(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Iy(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var a=n.g[3],u=(e=n.g[0])+(a^(t=n.g[1])&((r=n.g[2])^a))+i[0]+3614090360&4294967295;u=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=t+(u<<7&4294967295|u>>>25))+((u=a+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|u>>>20))+((u=r+(t^a&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^r&(a^e))+i[3]+3250441966&4294967295)<<22&4294967295|u>>>10))+((u=e+(a^t&(r^a))+i[4]+4118548399&4294967295)<<7&4294967295|u>>>25))+((u=a+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|u>>>20))+((u=r+(t^a&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^r&(a^e))+i[7]+4249261313&4294967295)<<22&4294967295|u>>>10))+((u=e+(a^t&(r^a))+i[8]+1770035416&4294967295)<<7&4294967295|u>>>25))+((u=a+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|u>>>20))+((u=r+(t^a&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^r&(a^e))+i[11]+2304563134&4294967295)<<22&4294967295|u>>>10))+((u=e+(a^t&(r^a))+i[12]+1804603682&4294967295)<<7&4294967295|u>>>25))+((u=a+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|u>>>20))+((u=r+(t^a&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^r&(a^e))+i[15]+1236535329&4294967295)<<22&4294967295|u>>>10))+((u=e+(r^a&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|u>>>27))+((u=a+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|u>>>23))+((u=r+(e^t&(a^e))+i[11]+643717713&4294967295)<<14&4294967295|u>>>18))+((u=t+(a^e&(r^a))+i[0]+3921069994&4294967295)<<20&4294967295|u>>>12))+((u=e+(r^a&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|u>>>27))+((u=a+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|u>>>23))+((u=r+(e^t&(a^e))+i[15]+3634488961&4294967295)<<14&4294967295|u>>>18))+((u=t+(a^e&(r^a))+i[4]+3889429448&4294967295)<<20&4294967295|u>>>12))+((u=e+(r^a&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|u>>>27))+((u=a+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|u>>>23))+((u=r+(e^t&(a^e))+i[3]+4107603335&4294967295)<<14&4294967295|u>>>18))+((u=t+(a^e&(r^a))+i[8]+1163531501&4294967295)<<20&4294967295|u>>>12))+((u=e+(r^a&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|u>>>27))+((u=a+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|u>>>23))+((u=r+(e^t&(a^e))+i[7]+1735328473&4294967295)<<14&4294967295|u>>>18))+((u=t+(a^e&(r^a))+i[12]+2368359562&4294967295)<<20&4294967295|u>>>12))+((u=e+(t^r^a)+i[5]+4294588738&4294967295)<<4&4294967295|u>>>28))+((u=a+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|u>>>21))+((u=r+(a^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|u>>>16))+((u=t+(r^a^e)+i[14]+4259657740&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^r^a)+i[1]+2763975236&4294967295)<<4&4294967295|u>>>28))+((u=a+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|u>>>21))+((u=r+(a^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|u>>>16))+((u=t+(r^a^e)+i[10]+3200236656&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^r^a)+i[13]+681279174&4294967295)<<4&4294967295|u>>>28))+((u=a+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|u>>>21))+((u=r+(a^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|u>>>16))+((u=t+(r^a^e)+i[6]+76029189&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^r^a)+i[9]+3654602809&4294967295)<<4&4294967295|u>>>28))+((u=a+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|u>>>21))+((u=r+(a^e^t)+i[15]+530742520&4294967295)<<16&4294967295|u>>>16))+((u=t+(r^a^e)+i[2]+3299628645&4294967295)<<23&4294967295|u>>>9))+((u=e+(r^(t|~a))+i[0]+4096336452&4294967295)<<6&4294967295|u>>>26))+((u=a+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|u>>>22))+((u=r+(e^(a|~t))+i[14]+2878612391&4294967295)<<15&4294967295|u>>>17))+((u=t+(a^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|u>>>11))+((u=e+(r^(t|~a))+i[12]+1700485571&4294967295)<<6&4294967295|u>>>26))+((u=a+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|u>>>22))+((u=r+(e^(a|~t))+i[10]+4293915773&4294967295)<<15&4294967295|u>>>17))+((u=t+(a^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|u>>>11))+((u=e+(r^(t|~a))+i[8]+1873313359&4294967295)<<6&4294967295|u>>>26))+((u=a+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|u>>>22))+((u=r+(e^(a|~t))+i[6]+2734768916&4294967295)<<15&4294967295|u>>>17))+((u=t+(a^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|u>>>11))+((a=(e=t+((u=e+(r^(t|~a))+i[4]+4149444226&4294967295)<<6&4294967295|u>>>26))+((u=a+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|u>>>22))^((r=a+((u=r+(e^(a|~t))+i[2]+718787259&4294967295)<<15&4294967295|u>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(u<<21&4294967295|u>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+a&4294967295}function Dn(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var a=0|n[r];i&&a==e||(t[r]=a,i=!1)}this.g=t}(Xe=Ai.prototype).Oa=function(n){this.M=n},Xe.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():v0.g(),this.C=function _0(n){return n.h||(n.h=n.i())}(this.u?this.u:v0),this.g.onreadystatechange=fr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(a){return void PI(this,a)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const a of i.keys())t.set(a,i.get(a))}i=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),r=Ut.FormData&&n instanceof Ut.FormData,!(0<=Th(OI,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,u]of t)this.g.setRequestHeader(a,u);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{NI(this),0<this.B&&((this.L=function Nh(n){return Bu&&function e0(){return Yb(gA,9,function(){let n=0;const e=Zb(String(Kp)).split("."),t=Zb("9").split("."),i=Math.max(e.length,t.length);for(let u=0;0==n&&u<i;u++){var r=e[u]||"",a=t[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==r[0].length&&0==a[0].length)break;n=Wb(0==r[1].length?0:parseInt(r[1],10),0==a[1].length?0:parseInt(a[1],10))||Wb(0==r[2].length,0==a[2].length)||Wb(r[2],a[2]),r=r[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=fr(this.ua,this)):this.A=ay(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){PI(this,a)}},Xe.ua=function(){typeof $_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xr(this,"timeout"),this.abort(8))},Xe.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,xr(this,"complete"),xr(this,"abort"),P0(this))},Xe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),P0(this,!0)),Ai.$.N.call(this)},Xe.La=function(){this.s||(this.G||this.v||this.l?vy(this):this.kb())},Xe.kb=function(){vy(this)},Xe.da=function(){try{return 2<Ac(this)?this.g.status:-1}catch{return-1}},Xe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Xe.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),R0(e)}},Xe.Ia=function(){return this.m},Xe.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Xe=F0.prototype).qa=8,Xe.H=1,Xe.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new rm(this,this.j,n,void 0);let a=this.s;if(this.U&&(a?(a=s0(a),uI(a,this.U)):a=this.U),null!==this.o||this.O||(r.I=a,a=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=U0(this,r,e),jn(t=Vo(this.G),"RID",n),jn(t,"CVER",22),this.F&&jn(t,"X-HTTP-Session-Id",this.F),gm(this,t),a&&(this.O?e="headers="+encodeURIComponent(String(LI(a)))+"&"+e:this.o&&N0(t,this.o,a)),gy(this.h,r),this.bb&&jn(t,"TYPE","init"),this.P?(jn(t,"$req",e),jn(t,"SID","null"),r.ba=!0,b0(r,t,null)):b0(r,t,e),this.H=2}}else 3==this.H&&(n?B0(this,n):0==this.i.length||xI(this.h)||B0(this))},Xe.Ma=function(){if(this.u=null,VI(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var n=2*this.S;this.j.info("BP detection timer enabled: "+n),this.B=Sh(fr(this.jb,this),n)}},Xe.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,$i(10),mm(this),VI(this))},Xe.ib=function(){null!=this.v&&(this.v=null,mm(this),wy(this),$i(19))},Xe.pb=function(n){n?(this.j.info("Successfully pinged google.com"),$i(2)):(this.j.info("Failed to ping google.com"),$i(1))},(Xe=GA.prototype).Ba=function(){},Xe.Aa=function(){},Xe.za=function(){},Xe.ya=function(){},Xe.Va=function(){},$0.prototype.g=function(n,e){return new uo(n,e)},Ji(uo,er),uo.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var n=this.g,e=this.l,t=this.h||void 0;$i(0),n.Y=e,n.ma=t||{},n.M=n.aa,n.G=$A(n,null,n.Y),by(n)},uo.prototype.close=function(){L0(this.g)},uo.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Jp(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.fb++,n)),3==e.H&&by(e)},uo.prototype.N=function(){this.g.l=null,delete this.j,L0(this.g),delete this.g,uo.$.N.call(this)},Ji(qA,y0),Ji(_m,hy),Ji(ym,GA),ym.prototype.Ba=function(){xr(this.g,"a")},ym.prototype.Aa=function(n){xr(this.g,new qA(n))},ym.prototype.za=function(n){xr(this.g,new _m)},ym.prototype.ya=function(){xr(this.g,"b")},Ji(ws,function BI(){this.blockSize=-1}),ws.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ws.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,a=0;a<e;){if(0==r)for(;a<=t;)Iy(this,n,a),a+=this.blockSize;if("string"==typeof n){for(;a<e;)if(i[r++]=n.charCodeAt(a++),r==this.blockSize){Iy(this,i),r=0;break}}else for(;a<e;)if(i[r++]=n[a++],r==this.blockSize){Iy(this,i),r=0;break}}this.h=r,this.i+=e},ws.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var Zk={};function vm(n){return-128<=n&&128>n?Yb(Zk,n,function(e){return new Dn([0|e],0>e?-1:0)}):new Dn([0|n],0>n?-1:0)}function Bo(n){if(isNaN(n)||!isFinite(n))return bm;if(0>n)return pr(Bo(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=Dy;return new Dn(e,0)}var Dy=4294967296,bm=vm(0),z0=vm(1),HI=vm(16777216);function Cl(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Qr(n){return-1==n.h}function pr(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Dn(t,~n.h).add(z0)}function G0(n,e){return n.add(pr(e))}function q0(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Ty(n,e){this.g=n,this.h=e}function Sy(n,e){if(Cl(e))throw Error("division by zero");if(Cl(n))return new Ty(bm,bm);if(Qr(n))return e=Sy(pr(n),e),new Ty(pr(e.g),pr(e.h));if(Qr(e))return e=Sy(n,pr(e)),new Ty(pr(e.g),e.h);if(30<n.g.length){if(Qr(n)||Qr(e))throw Error("slowDivide_ only works with positive integers.");for(var t=z0,i=e;0>=i.X(n);)t=jI(t),i=jI(i);var r=Vh(t,1),a=Vh(i,1);for(i=Vh(i,2),t=Vh(t,2);!Cl(i);){var u=a.add(i);0>=u.X(n)&&(r=r.add(t),a=u),i=Vh(i,1),t=Vh(t,1)}return e=G0(n,r.R(e)),new Ty(r,e)}for(r=bm;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),u=(a=Bo(t)).R(e);Qr(u)||0<u.X(n);)u=(a=Bo(t-=i)).R(e);Cl(a)&&(a=z0),r=r.add(a),n=G0(n,u)}return new Ty(r,n)}function jI(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Dn(t,n.h)}function Vh(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],a=0;a<i;a++)r[a]=0<e?n.D(a+t)>>>e|n.D(a+t+1)<<32-e:n.D(a+t);return new Dn(r,n.h)}(Xe=Dn.prototype).ea=function(){if(Qr(this))return-pr(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:Dy+i)*e,e*=Dy}return n},Xe.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Cl(this))return"0";if(Qr(this))return"-"+pr(this).toString(n);for(var e=Bo(Math.pow(n,6)),t=this,i="";;){var r=Sy(t,e).g,a=((0<(t=G0(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Cl(t=r))return a+i;for(;6>a.length;)a="0"+a;i=a+i}},Xe.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Xe.X=function(n){return Qr(n=G0(this,n))?-1:Cl(n)?0:1},Xe.abs=function(){return Qr(this)?pr(this):this},Xe.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var a=i+(65535&this.D(r))+(65535&n.D(r)),u=(a>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=u>>>16,t[r]=(u&=65535)<<16|(a&=65535)}return new Dn(t,-2147483648&t[t.length-1]?-1:0)},Xe.R=function(n){if(Cl(this)||Cl(n))return bm;if(Qr(this))return Qr(n)?pr(this).R(pr(n)):pr(pr(this).R(n));if(Qr(n))return pr(this.R(pr(n)));if(0>this.X(HI)&&0>n.X(HI))return Bo(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var a=this.D(i)>>>16,u=65535&this.D(i),f=n.D(r)>>>16,_=65535&n.D(r);t[2*i+2*r]+=u*_,q0(t,2*i+2*r),t[2*i+2*r+1]+=a*_,q0(t,2*i+2*r+1),t[2*i+2*r+1]+=u*f,q0(t,2*i+2*r+1),t[2*i+2*r+2]+=a*f,q0(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Dn(t,0)},Xe.gb=function(n){return Sy(this,n).h},Xe.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Dn(t,this.h&n.h)},Xe.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Dn(t,this.h|n.h)},Xe.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Dn(t,this.h^n.h)},$0.prototype.createWebChannel=$0.prototype.g,uo.prototype.send=uo.prototype.u,uo.prototype.open=uo.prototype.m,uo.prototype.close=uo.prototype.close,nm.NO_ERROR=0,nm.TIMEOUT=8,nm.HTTP_ERROR=6,g0.COMPLETE="complete",EI.EventType=dy,dy.OPEN="a",dy.CLOSE="b",dy.ERROR="c",dy.MESSAGE="d",er.prototype.listen=er.prototype.O,Ai.prototype.listenOnce=Ai.prototype.P,Ai.prototype.getLastError=Ai.prototype.Sa,Ai.prototype.getLastErrorCode=Ai.prototype.Ia,Ai.prototype.getStatus=Ai.prototype.da,Ai.prototype.getResponseJson=Ai.prototype.Wa,Ai.prototype.getResponseText=Ai.prototype.ja,Ai.prototype.send=Ai.prototype.ha,Ai.prototype.setWithCredentials=Ai.prototype.Oa,ws.prototype.digest=ws.prototype.l,ws.prototype.reset=ws.prototype.reset,ws.prototype.update=ws.prototype.j,Dn.prototype.add=Dn.prototype.add,Dn.prototype.multiply=Dn.prototype.R,Dn.prototype.modulo=Dn.prototype.gb,Dn.prototype.compare=Dn.prototype.X,Dn.prototype.toNumber=Dn.prototype.ea,Dn.prototype.toString=Dn.prototype.toString,Dn.prototype.getBits=Dn.prototype.D,Dn.fromNumber=Bo,Dn.fromString=function UI(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return pr(UI(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Bo(Math.pow(e,8)),i=bm,r=0;r<n.length;r+=8){var a=Math.min(8,n.length-r),u=parseInt(n.substring(r,r+a),e);8>a?(a=Bo(Math.pow(e,a)),i=i.R(a).add(Bo(u))):i=(i=i.R(t)).add(Bo(u))}return i};var Wk=Lo.createWebChannelTransport=function(){return new $0},ZA=Lo.getStatEventTarget=function(){return cy()},Ay=Lo.ErrorCode=nm,$I=Lo.EventType=g0,Kk=Lo.Event=Hu,ho=Lo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},WA=Lo.FetchXmlHttpFactory=fm,Bh=Lo.WebChannel=EI,KA=Lo.XhrIo=Ai,fo=Lo.Md5=ws,Uh=Lo.Integer=Dn;const My="@firebase/firestore";class tr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tr.UNAUTHENTICATED=new tr(null),tr.GOOGLE_CREDENTIALS=new tr("google-credentials-uid"),tr.FIRST_PARTY=new tr("first-party-uid"),tr.MOCK_USER=new tr("mock-user");let Hh="9.21.0";const Ca=new wl.Yd("@firebase/firestore");function xy(){return Ca.logLevel}function Fe(n,...e){if(Ca.logLevel<=wl.in.DEBUG){const t=e.map(Z0);Ca.debug(`Firestore (${Hh}): ${n}`,...t)}}function mi(n,...e){if(Ca.logLevel<=wl.in.ERROR){const t=e.map(Z0);Ca.error(`Firestore (${Hh}): ${n}`,...t)}}function Us(n,...e){if(Ca.logLevel<=wl.in.WARN){const t=e.map(Z0);Ca.warn(`Firestore (${Hh}): ${n}`,...t)}}function Z0(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function rt(n="Unexpected state"){const e=`FIRESTORE (${Hh}) INTERNAL ASSERTION FAILED: `+n;throw mi(e),new Error(e)}function vt(n,e){n||rt()}function Ze(n,e){return n}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends gn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class GI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Yk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(tr.UNAUTHENTICATED))}shutdown(){}}class YA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class QA{constructor(e){this.t=e,this.currentUser=tr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const a=w=>this.i!==r?(r=this.i,t(w)):Promise.resolve();let u=new Fn;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Fn,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const w=u;e.enqueueRetryable((0,be.Z)(function*(){yield w.promise,yield a(i.currentUser)}))},_=w=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(w=>_(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?_(w):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Fn)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(vt("string"==typeof i.accessToken),new GI(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return vt(null===e||"string"==typeof e),new tr(e)}}class XA{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=tr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class JA{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new XA(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(tr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class K0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Qk{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=a=>{null!=a.error&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.T;return this.T=a.token,Fe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const r=a=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?r(a):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(vt("string"==typeof t.token),this.T=t.token,new K0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function tM(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class Y0{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=tM(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%e.length))}return i}}function Ht(n,e){return n<e?-1:n>e?1:0}function Mc(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function Q0(n){return n+"\0"}class Kn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Me(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Me(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Me(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Kn.fromMillis(Date.now())}static fromDate(e){return Kn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Kn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ht(this.nanoseconds,e.nanoseconds):Ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class bt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new bt(e)}static min(){return new bt(new Kn(0,0))}static max(){return new bt(new Kn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class jh{constructor(e,t,i){void 0===t?t=0:t>e.length&&rt(),void 0===i?i=e.length-t:i>e.length-t&&rt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===jh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof jh?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=e.get(r),u=t.get(r);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ln extends jh{construct(e,t,i){return new ln(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Me(ce.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new ln(t)}static emptyPath(){return new ln([])}}const Ry=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yn extends jh{construct(e,t,i){return new Yn(e,t,i)}static isValidIdentifier(e){return Ry.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Yn(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(0===i.length)throw new Me(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;r<e.length;){const f=e[r];if("\\"===f){if(r+1===e.length)throw new Me(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Me(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=_,r+=2}else"`"===f?(u=!u,r++):"."!==f||u?(i+=f,r++):(a(),r++)}if(a(),u)throw new Me(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yn(t)}static emptyPath(){return new Yn([])}}class Ye{constructor(e){this.path=e}static fromPath(e){return new Ye(ln.fromString(e))}static fromName(e){return new Ye(ln.fromString(e).popFirst(5))}static empty(){return new Ye(ln.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ln.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ln.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ye(new ln(e.slice()))}}class ky{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function Oy(n){return n.fields.find(e=>2===e.kind)}function xc(n){return n.fields.filter(e=>2!==e.kind)}ky.UNKNOWN_ID=-1;class Py{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ny{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ny(0,Hs.min())}}function X0(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=bt.fromTimestamp(1e9===i?new Kn(t+1,0):new Kn(t,i));return new Hs(r,Ye.empty(),e)}function qI(n){return new Hs(n.readTime,n.key,-1)}class Hs{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Hs(bt.min(),Ye.empty(),-1)}static max(){return new Hs(bt.max(),Ye.empty(),-1)}}function J0(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ye.comparator(n.documentKey,e.documentKey),0!==t?t:Ht(n.largestBatchId,e.largestBatchId))}const iM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function qu(n){return ZI.apply(this,arguments)}function ZI(){return ZI=(0,be.Z)(function*(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==iM)throw n;Fe("LocalStore","Unexpectedly lost primary lease")}),ZI.apply(this,arguments)}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):se.reject(t)}static resolve(e){return new se((t,i)=>{t(e)})}static reject(e){return new se((t,i)=>{i(e)})}static waitFor(e){return new se((t,i)=>{let r=0,a=0,u=!1;e.forEach(f=>{++r,f.next(()=>{++a,u&&a===r&&t()},_=>i(_))}),u=!0,a===r&&t()})}static or(e){let t=se.resolve(!1);for(const i of e)t=t.next(r=>r?se.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,a)=>{i.push(t.call(this,r,a))}),this.waitFor(i)}static mapArray(e,t){return new se((i,r)=>{const a=e.length,u=new Array(a);let f=0;for(let _=0;_<a;_++){const w=_;t(e[w]).next(D=>{u[w]=D,++f,f===a&&i(u)},D=>r(D))}})}static doWhile(e,t){return new se((i,r)=>{const a=()=>{!0===e()?t().next(()=>{a()},r):i()};a()})}}class Fy{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.R=new Fn,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{t.error?this.R.reject(new wm(e,t.error)):this.R.resolve()},this.transaction.onerror=i=>{const r=Em(i.target.error);this.R.reject(new wm(e,r))}}static open(e,t,i,r){try{return new Fy(t,e.transaction(r,i))}catch(a){throw new wm(t,a)}}get v(){return this.R.promise}abort(e){e&&this.R.reject(e),this.aborted||(Fe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Zu(t)}}class Es{constructor(e,t,i){this.name=e,this.version=t,this.V=i,12.2===Es.S((0,gn.z$)())&&mi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Fe("SimpleDb","Removing database:",e),Rc(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,gn.hl)())return!1;if(Es.C())return!0;const e=(0,gn.z$)(),t=Es.S(e),i=0<t&&t<10,r=Es.N(e),a=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||a)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(e){var t=this;return(0,be.Z)(function*(){return t.db||(Fe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=u=>{i(u.target.result)},a.onblocked=()=>{r(new wm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const f=u.target.error;r("VersionError"===f.name?new Me(ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Me(ce.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new wm(e,f))},a.onupgradeneeded=u=>{Fe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.V.$(u.target.result,a.transaction,u.oldVersion,t.version).next(()=>{Fe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=i=>t.F(i)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var a=this;return(0,be.Z)(function*(){const u="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.O(e);const _=Fy.open(a.db,e,u?"readonly":"readwrite",i),w=r(_).next(D=>(_.P(),D)).catch(D=>(_.abort(D),se.reject(D))).toPromise();return w.catch(()=>{}),yield _.v,w}catch(_){const w=_,D="FirebaseError"!==w.name&&f<3;if(Fe("SimpleDb","Transaction failed with error:",w.message,"Retrying:",D),a.close(),!D)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class sM{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Rc(this.L.delete())}}class wm extends Me{constructor(e,t){super(ce.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Il(n){return"IndexedDbTransactionError"===n.name}class Zu{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Fe("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Fe("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Rc(i)}add(e){return Fe("SimpleDb","ADD",this.store.name,e,e),Rc(this.store.add(e))}get(e){return Rc(this.store.get(e)).next(t=>(void 0===t&&(t=null),Fe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Fe("SimpleDb","DELETE",this.store.name,e),Rc(this.store.delete(e))}count(){return Fe("SimpleDb","COUNT",this.store.name),Rc(this.store.count())}j(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),a=[];return this.W(r,(u,f)=>{a.push(f)}).next(()=>a)}{const r=this.store.getAll(i.range);return new se((a,u)=>{r.onerror=f=>{u(f.target.error)},r.onsuccess=f=>{a(f.target.result)}})}}H(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new se((r,a)=>{i.onerror=u=>{a(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}J(e,t){Fe("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const r=this.cursor(i);return this.W(r,(a,u,f)=>f.delete())}X(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.W(r,t)}Z(e){const t=this.cursor({});return new se((i,r)=>{t.onerror=a=>{const u=Em(a.target.error);r(u)},t.onsuccess=a=>{const u=a.target.result;u?e(u.primaryKey,u.value).next(f=>{f?u.continue():i()}):i()}})}W(e,t){const i=[];return new se((r,a)=>{e.onerror=u=>{a(u.target.error)},e.onsuccess=u=>{const f=u.target.result;if(!f)return void r();const _=new sM(f),w=t(f.primaryKey,f.value,_);if(w instanceof se){const D=w.catch(A=>(_.done(),se.reject(A)));i.push(D)}_.isDone?r():null===_.K?f.continue():f.continue(_.K)}}).next(()=>se.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Rc(n){return new se((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=Em(i.target.error);t(r)}})}let Ly=!1;function Em(n){const e=Es.S((0,gn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Me("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ly||(Ly=!0,setTimeout(()=>{throw i},0)),i}}return n}class oM{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Fe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,be.Z)(function*(){t.task=null;try{Fe("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(i){Il(i)?Fe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield qu(i)}yield t.et(6e4)}))}}class ew{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,be.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.st(i,e))})()}st(e,t){const i=new Set;let r=t,a=!0;return se.doWhile(()=>!0===a&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!i.has(u))return Fe("IndexBackiller",`Processing collection: ${u}`),this.it(e,u,r).next(f=>{r-=f,i.add(u)});a=!1})).next(()=>t-r)}it(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(a=>{const u=a.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.rt(r,a)).next(f=>(Fe("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>u.size)}))}rt(e,t){let i=e;return t.changes.forEach((r,a)=>{const u=qI(a);J0(u,i)>0&&(i=u)}),new Hs(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Xr=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function kc(n){return null==n}function Vy(n){return 0===n&&1/n==-1/0}function aM(n){return"number"==typeof n&&Number.isInteger(n)&&!Vy(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Jr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=tw(e)),e=Jk(n.get(t),e);return tw(e)}function Jk(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function tw(n){return n+"\x01\x01"}function Ia(n){const e=n.length;if(vt(e>=2),2===e)return vt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),ln.emptyPath();const t=e-2,i=[];let r="";for(let a=0;a<e;){const u=n.indexOf("\x01",a);switch((u<0||u>t)&&rt(),n.charAt(u+1)){case"\x01":const f=n.substring(a,u);let _;0===r.length?_=f:(r+=f,_=r,r=""),i.push(_);break;case"\x10":r+=n.substring(a,u),r+="\0";break;case"\x11":r+=n.substring(a,u+1);break;default:rt()}a=u+2}return new ln(i)}const WI=["userId","batchId"];function By(n,e){return[n,Jr(e)]}function KI(n,e,t){return[n,Jr(e),t]}const YI={},QI=["prefixPath","collectionGroup","readTime","documentId"],XI=["prefixPath","collectionGroup","documentId"],lM=["collectionGroup","readTime","prefixPath","documentId"],cM=["canonicalId","targetId"],JI=["targetId","path"],nw=["path","targetId"],e1=["collectionId","parent"],eD=["indexId","uid"],iw=["uid","sequenceNumber"],uM=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],dM=["indexId","uid","orderedDocumentKey"],t1=["userId","collectionPath","documentId"],n1=["userId","collectionPath","largestBatchId"],hM=["userId","collectionGroup","largestBatchId"],tD=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],fM=[...tD,"documentOverlays"],pM=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],mM=pM,r1=[...mM,"indexConfiguration","indexState","indexEntries"];class nD extends rM{constructor(e,t){super(),this.at=e,this.currentSequenceNumber=t}}function mr(n,e){const t=Ze(n);return Es.M(t.at,e)}function iD(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Wu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function gM(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Qn{constructor(e,t){this.comparator=e,this.root=t||Rr.EMPTY}insert(e,t){return new Qn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Rr.BLACK,null,null))}remove(e){return new Qn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rw(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rw(this.root,e,this.comparator,!1)}getReverseIterator(){return new rw(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rw(this.root,e,this.comparator,!0)}}class rw{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rr{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=i??Rr.RED,this.left=r??Rr.EMPTY,this.right=a??Rr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new Rr(e??this.key,t??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Rr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Rr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const e=this.left.check();if(e!==this.right.check())throw rt();return e+(this.isRed()?0:1)}}Rr.EMPTY=null,Rr.RED=!0,Rr.BLACK=!1,Rr.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Rr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ri{constructor(e){this.comparator=e,this.data=new Qn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new s(this.data.getIterator())}getIteratorFrom(e){return new s(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof ri)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(0!==this.comparator(r,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ri(this.comparator);return t.data=e,t}}class s{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function o(n){return n.hasNext()?n.getNext():void 0}class c{constructor(e){this.fields=e,e.sort(Yn.comparator)}static empty(){return new c([])}unionWith(e){let t=new ri(Yn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new c(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Mc(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class d extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class g{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new d("Invalid base64 string: "+r):r}}(e);return new g(t)}static fromUint8Array(e){const t=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(e);return new g(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}g.EMPTY_BYTE_STRING=new g("");const v=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function E(n){if(vt(!!n),"string"==typeof n){let e=0;const t=v.exec(n);if(vt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:I(n.seconds),nanos:I(n.nanos)}}function I(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function M(n){return"string"==typeof n?g.fromBase64String(n):g.fromUint8Array(n)}function k(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function P(n){const e=n.mapValue.fields.__previous_value__;return k(e)?P(e):e}function j(n){const e=E(n.mapValue.fields.__local_write_time__.timestampValue);return new Kn(e.seconds,e.nanos)}class J{constructor(e,t,i,r,a,u,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class me{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new me("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof me&&e.projectId===this.projectId&&e.database===this.database}}const Le={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},We={nullValue:"NULL_VALUE"};function nt(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?k(n)?4:jy(n)?9007199254740991:10:rt()}function mt(n,e){if(n===e)return!0;const t=nt(n);if(t!==nt(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return j(n).isEqual(j(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=E(i.timestampValue),u=E(r.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,M(n.bytesValue).isEqual(M(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return I(i.geoPointValue.latitude)===I(r.geoPointValue.latitude)&&I(i.geoPointValue.longitude)===I(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return I(i.integerValue)===I(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=I(i.doubleValue),u=I(r.doubleValue);return a===u?Vy(a)===Vy(u):isNaN(a)&&isNaN(u)}return!1}(n,e);case 9:return Mc(n.arrayValue.values||[],e.arrayValue.values||[],mt);case 10:return function(i,r){const a=i.mapValue.fields||{},u=r.mapValue.fields||{};if(iD(a)!==iD(u))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===u[f]||!mt(a[f],u[f])))return!1;return!0}(n,e);default:return rt()}var r}function Ae(n,e){return void 0!==(n.values||[]).find(t=>mt(t,e))}function St(n,e){if(n===e)return 0;const t=nt(n),i=nt(e);if(t!==i)return Ht(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ht(n.booleanValue,e.booleanValue);case 2:return function(r,a){const u=I(r.integerValue||r.doubleValue),f=I(a.integerValue||a.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return yn(n.timestampValue,e.timestampValue);case 4:return yn(j(n),j(e));case 5:return Ht(n.stringValue,e.stringValue);case 6:return function(r,a){const u=M(r),f=M(a);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(r,a){const u=r.split("/"),f=a.split("/");for(let _=0;_<u.length&&_<f.length;_++){const w=Ht(u[_],f[_]);if(0!==w)return w}return Ht(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,a){const u=Ht(I(r.latitude),I(a.latitude));return 0!==u?u:Ht(I(r.longitude),I(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,a){const u=r.values||[],f=a.values||[];for(let _=0;_<u.length&&_<f.length;++_){const w=St(u[_],f[_]);if(w)return w}return Ht(u.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,a){if(r===Le.mapValue&&a===Le.mapValue)return 0;if(r===Le.mapValue)return 1;if(a===Le.mapValue)return-1;const u=r.fields||{},f=Object.keys(u),_=a.fields||{},w=Object.keys(_);f.sort(),w.sort();for(let D=0;D<f.length&&D<w.length;++D){const A=Ht(f[D],w[D]);if(0!==A)return A;const F=St(u[f[D]],_[w[D]]);if(0!==F)return F}return Ht(f.length,w.length)}(n.mapValue,e.mapValue);default:throw rt()}}function yn(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ht(n,e);const t=E(n),i=E(e),r=Ht(t.seconds,i.seconds);return 0!==r?r:Ht(t.nanos,i.nanos)}function Sn(n){return Dl(n)}function Dl(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=E(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?M(n.bytesValue).toBase64():"referenceValue"in n?Ye.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",a=!0;for(const u of i.values||[])a?a=!1:r+=",",r+=Dl(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let a="{",u=!0;for(const f of r)u?u=!1:a+=",",a+=`${f}:${Dl(i.fields[f])}`;return a+"}"}(n.mapValue):rt();var e}function Tl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Cm(n){return!!n&&"integerValue"in n}function Ku(n){return!!n&&"arrayValue"in n}function Uy(n){return!!n&&"nullValue"in n}function Hy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function zh(n){return!!n&&"mapValue"in n}function Yu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Wu(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Yu(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Yu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function jy(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function ML(n){return"nullValue"in n?We:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Tl(me.empty(),Ye.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:rt()}function xL(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Tl(me.empty(),Ye.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Le:rt()}function s1(n,e){const t=St(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function o1(n,e){const t=St(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class es{constructor(e){this.value=e}static empty(){return new es({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!zh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yu(t)}setAll(e){let t=Yn.emptyPath(),i={},r=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,i,r),i={},r=[],t=f.popLast()}u?i[f.lastSegment()]=Yu(u):r.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());zh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return mt(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];zh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Wu(t,(r,a)=>e[r]=a);for(const r of i)delete e[r]}clone(){return new es(Yu(this.value))}}function a1(n){const e=[];return Wu(n.fields,(t,i)=>{const r=new Yn([t]);if(zh(i)){const a=a1(i.mapValue).fields;if(0===a.length)e.push(r);else for(const u of a)e.push(r.child(u))}else e.push(r)}),new c(e)}class ai{constructor(e,t,i,r,a,u,f){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=a,this.data=u,this.documentState=f}static newInvalidDocument(e){return new ai(e,0,bt.min(),bt.min(),bt.min(),es.empty(),0)}static newFoundDocument(e,t,i,r){return new ai(e,1,t,bt.min(),i,r,0)}static newNoDocument(e,t){return new ai(e,2,t,bt.min(),bt.min(),es.empty(),0)}static newUnknownDocument(e,t){return new ai(e,3,t,bt.min(),bt.min(),es.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(bt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=es.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=es.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ai&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ai(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Gh{constructor(e,t){this.position=e,this.inclusive=t}}function l1(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],u=n.position[r];if(i=a.field.isKeyField()?Ye.comparator(Ye.fromName(u.referenceValue),t.key):St(u,t.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return i}function c1(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!mt(n.position[t],e.position[t]))return!1;return!0}class $y{constructor(e,t="asc"){this.field=e,this.dir=t}}function RL(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class u1{}class un extends u1{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new kL(e,t,i):"array-contains"===t?new NL(e,i):"in"===t?new g1(e,i):"not-in"===t?new FL(e,i):"array-contains-any"===t?new LL(e,i):new un(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new OL(e,i):new PL(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(St(t,this.value)):null!==t&&nt(this.value)===nt(t)&&this.matchesComparison(St(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ln extends u1{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Ln(e,t)}matches(e){return zy(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function zy(n){return"and"===n.op}function _M(n){return"or"===n.op}function yM(n){return d1(n)&&zy(n)}function d1(n){for(const e of n.filters)if(e instanceof Ln)return!1;return!0}function vM(n){if(n instanceof un)return n.field.canonicalString()+n.op.toString()+Sn(n.value);if(yM(n))return n.filters.map(e=>vM(e)).join(",");{const e=n.filters.map(t=>vM(t)).join(",");return`${n.op}(${e})`}}function h1(n,e){return n instanceof un?(t=n,(i=e)instanceof un&&t.op===i.op&&t.field.isEqual(i.field)&&mt(t.value,i.value)):n instanceof Ln?function(t,i){return i instanceof Ln&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,a,u)=>r&&h1(a,i.filters[u]),!0)}(n,e):void rt();var t,i}function f1(n,e){const t=n.filters.concat(e);return Ln.create(t,n.op)}function p1(n){return n instanceof un?`${(e=n).field.canonicalString()} ${e.op} ${Sn(e.value)}`:n instanceof Ln?function(e){return e.op.toString()+" {"+e.getFilters().map(p1).join(" ,")+"}"}(n):"Filter";var e}class kL extends un{constructor(e,t,i){super(e,t,i),this.key=Ye.fromName(i.referenceValue)}matches(e){const t=Ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class OL extends un{constructor(e,t){super(e,"in",t),this.keys=m1(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class PL extends un{constructor(e,t){super(e,"not-in",t),this.keys=m1(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function m1(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Ye.fromName(i.referenceValue))}class NL extends un{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ku(t)&&Ae(t.arrayValue,this.value)}}class g1 extends un{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ae(this.value.arrayValue,t)}}class FL extends un{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ae(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ae(this.value.arrayValue,t)}}class LL extends un{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ku(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Ae(this.value.arrayValue,i))}}class VL{constructor(e,t=null,i=[],r=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=u,this.endAt=f,this.ft=null}}function bM(n,e=null,t=[],i=[],r=null,a=null,u=null){return new VL(n,e,t,i,r,a,u)}function Im(n){const e=Ze(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>vM(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),kc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Sn(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Sn(i)).join(",")),e.ft=t}return e.ft}function sw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!RL(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!h1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!c1(n.startAt,e.startAt)&&c1(n.endAt,e.endAt)}function rD(n){return Ye.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function sD(n,e){return n.filters.filter(t=>t instanceof un&&t.field.isEqual(e))}function _1(n,e,t){let i=We,r=!0;for(const a of sD(n,e)){let u=We,f=!0;switch(a.op){case"<":case"<=":u=ML(a.value);break;case"==":case"in":case">=":u=a.value;break;case">":u=a.value,f=!1;break;case"!=":case"not-in":u=We}s1({value:i,inclusive:r},{value:u,inclusive:f})<0&&(i=u,r=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];s1({value:i,inclusive:r},{value:u,inclusive:t.inclusive})<0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}function y1(n,e,t){let i=Le,r=!0;for(const a of sD(n,e)){let u=Le,f=!0;switch(a.op){case">=":case">":u=xL(a.value),f=!1;break;case"==":case"in":case"<=":u=a.value;break;case"<":u=a.value,f=!1;break;case"!=":case"not-in":u=Le}o1({value:i,inclusive:r},{value:u,inclusive:f})>0&&(i=u,r=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];o1({value:i,inclusive:r},{value:u,inclusive:t.inclusive})>0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}class Qu{constructor(e,t=null,i=[],r=[],a=null,u="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=_,this.dt=null,this._t=null}}function v1(n,e,t,i,r,a,u,f){return new Qu(n,e,t,i,r,a,u,f)}function Gy(n){return new Qu(n)}function b1(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function wM(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function oD(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function EM(n){return null!==n.collectionGroup}function Dm(n){const e=Ze(n);if(null===e.dt){e.dt=[];const t=oD(e),i=wM(e);if(null!==t&&null===i)t.isKeyField()||e.dt.push(new $y(t)),e.dt.push(new $y(Yn.keyField(),"asc"));else{let r=!1;for(const a of e.explicitOrderBy)e.dt.push(a),a.field.isKeyField()&&(r=!0);if(!r){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new $y(Yn.keyField(),a))}}}return e.dt}function js(n){const e=Ze(n);if(!e._t)if("F"===e.limitType)e._t=bM(e.path,e.collectionGroup,Dm(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Dm(e))t.push(new $y(a.field,"desc"===a.dir?"asc":"desc"));const i=e.endAt?new Gh(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Gh(e.startAt.position,e.startAt.inclusive):null;e._t=bM(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function CM(n,e){e.getFirstInequalityField(),oD(n);const t=n.filters.concat([e]);return new Qu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function aD(n,e,t){return new Qu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ow(n,e){return sw(js(n),js(e))&&n.limitType===e.limitType}function w1(n){return`${Im(js(n))}|lt:${n.limitType}`}function IM(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>p1(i)).join(", ")}]`),kc(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Sn(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Sn(i)).join(",")),`Target(${t})`}(js(n))}; limitType=${n.limitType})`}function aw(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):Ye.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of Dm(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,a,u){const f=l1(r,a,u);return r.inclusive?f<=0:f<0}(t.startAt,Dm(t),i)||t.endAt&&!function(r,a,u){const f=l1(r,a,u);return r.inclusive?f>=0:f>0}(t.endAt,Dm(t),i)));var t,i}function E1(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function C1(n){return(e,t)=>{let i=!1;for(const r of Dm(n)){const a=BL(r,e,t);if(0!==a)return a;i=i||r.field.isKeyField()}return 0}}function BL(n,e,t){const i=n.field.isKeyField()?Ye.comparator(e.key,t.key):function(r,a,u){const f=a.data.field(r),_=u.data.field(r);return null!==f&&null!==_?St(f,_):rt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return rt()}}class Xu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,a]of i)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Wu(this.inner,(t,i)=>{for(const[r,a]of i)e(r,a)})}isEmpty(){return gM(this.inner)}size(){return this.innerSize}}const UL=new Qn(Ye.comparator);function po(){return UL}const I1=new Qn(Ye.comparator);function lw(...n){let e=I1;for(const t of n)e=e.insert(t.key,t);return e}function D1(n){let e=I1;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Oc(){return cw()}function T1(){return cw()}function cw(){return new Xu(n=>n.toString(),(n,e)=>n.isEqual(e))}const HL=new Qn(Ye.comparator),jL=new ri(Ye.comparator);function Jt(...n){let e=jL;for(const t of n)e=e.add(t);return e}const $L=new ri(Ht);function DM(){return $L}function S1(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vy(e)?"-0":e}}function A1(n){return{integerValue:""+n}}function M1(n,e){return aM(e)?A1(e):S1(n,e)}class lD{constructor(){this._=void 0}}function zL(n,e,t){return n instanceof qy?function(i,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&k(r)&&(r=P(r)),r&&(a.fields.__previous_value__=r),{mapValue:a}}(t,e):n instanceof Tm?R1(n,e):n instanceof Sm?k1(n,e):function(i,r){const a=x1(i,r),u=O1(a)+O1(i.wt);return Cm(a)&&Cm(i.wt)?A1(u):S1(i.serializer,u)}(n,e)}function GL(n,e,t){return n instanceof Tm?R1(n,e):n instanceof Sm?k1(n,e):t}function x1(n,e){return n instanceof Zy?Cm(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class qy extends lD{}class Tm extends lD{constructor(e){super(),this.elements=e}}function R1(n,e){const t=P1(e);for(const i of n.elements)t.some(r=>mt(r,i))||t.push(i);return{arrayValue:{values:t}}}class Sm extends lD{constructor(e){super(),this.elements=e}}function k1(n,e){let t=P1(e);for(const i of n.elements)t=t.filter(r=>!mt(r,i));return{arrayValue:{values:t}}}class Zy extends lD{constructor(e,t){super(),this.serializer=e,this.wt=t}}function O1(n){return I(n.integerValue||n.doubleValue)}function P1(n){return Ku(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class uw{constructor(e,t){this.field=e,this.transform=t}}class ZL{constructor(e,t){this.version=e,this.transformResults=t}}class gi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new gi}static exists(e){return new gi(void 0,e)}static updateTime(e){return new gi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cD(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class uD{}function N1(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Ky(n.key,gi.none()):new Wy(n.key,n.data,gi.none());{const t=n.data,i=es.empty();let r=new ri(Yn.comparator);for(let a of e.fields)if(!r.has(a)){let u=t.field(a);null===u&&a.length>1&&(a=a.popLast(),u=t.field(a)),null===u?i.delete(a):i.set(a,u),r=r.add(a)}return new Ju(n.key,i,new c(r.toArray()),gi.none())}}function WL(n,e,t){n instanceof Wy?function(i,r,a){const u=i.value.clone(),f=V1(i.fieldTransforms,r,a.transformResults);u.setAll(f),r.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Ju?function(i,r,a){if(!cD(i.precondition,r))return void r.convertToUnknownDocument(a.version);const u=V1(i.fieldTransforms,r,a.transformResults),f=r.data;f.setAll(L1(i)),f.setAll(u),r.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function dw(n,e,t,i){return n instanceof Wy?function(r,a,u,f){if(!cD(r.precondition,a))return u;const _=r.value.clone(),w=B1(r.fieldTransforms,f,a);return _.setAll(w),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ju?function(r,a,u,f){if(!cD(r.precondition,a))return u;const _=B1(r.fieldTransforms,f,a),w=a.data;return w.setAll(L1(r)),w.setAll(_),a.convertToFoundDocument(a.version,w).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(D=>D.field))}(n,e,t,i):(u=t,cD(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u);var a,u}function KL(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=x1(i.transform,r||null);null!=a&&(null===t&&(t=es.empty()),t.set(i.field,a))}return t||null}function F1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Mc(t,i,(r,a)=>function qL(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Tm&&i instanceof Tm||t instanceof Sm&&i instanceof Sm?Mc(t.elements,i.elements,mt):t instanceof Zy&&i instanceof Zy?mt(t.wt,i.wt):t instanceof qy&&i instanceof qy);var t,i}(r,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Wy extends uD{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ju extends uD{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function L1(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function V1(n,e,t){const i=new Map;vt(n.length===t.length);for(let r=0;r<t.length;r++){const a=n[r],u=a.transform,f=e.data.field(a.field);i.set(a.field,GL(u,f,t[r]))}return i}function B1(n,e,t){const i=new Map;for(const r of n){const a=r.transform,u=t.data.field(r.field);i.set(r.field,zL(a,u,e))}return i}class Ky extends uD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TM extends uD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class SM{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&WL(a,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=dw(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=dw(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=T1();return this.mutations.forEach(r=>{const a=e.get(r.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=t.has(r.key)?null:f;const _=N1(u,f);null!==_&&i.set(r.key,_),u.isValidDocument()||u.convertToNoDocument(bt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Jt())}isEqual(e){return this.batchId===e.batchId&&Mc(this.mutations,e.mutations,(t,i)=>F1(t,i))&&Mc(this.baseMutations,e.baseMutations,(t,i)=>F1(t,i))}}class AM{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){vt(e.mutations.length===i.length);let r=HL;const a=e.mutations;for(let u=0;u<a.length;u++)r=r.insert(a[u].key,i[u].version);return new AM(e,t,i,r)}}class MM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class QL{constructor(e,t){this.count=e,this.unchangedNames=t}}var nr,vn;function U1(n){switch(n){default:return rt();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}function H1(n){if(void 0===n)return mi("GRPC error has no .code"),ce.UNKNOWN;switch(n){case nr.OK:return ce.OK;case nr.CANCELLED:return ce.CANCELLED;case nr.UNKNOWN:return ce.UNKNOWN;case nr.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case nr.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case nr.INTERNAL:return ce.INTERNAL;case nr.UNAVAILABLE:return ce.UNAVAILABLE;case nr.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case nr.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case nr.NOT_FOUND:return ce.NOT_FOUND;case nr.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case nr.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case nr.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case nr.ABORTED:return ce.ABORTED;case nr.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case nr.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case nr.DATA_LOSS:return ce.DATA_LOSS;default:return rt()}}(vn=nr||(nr={}))[vn.OK=0]="OK",vn[vn.CANCELLED=1]="CANCELLED",vn[vn.UNKNOWN=2]="UNKNOWN",vn[vn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vn[vn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vn[vn.NOT_FOUND=5]="NOT_FOUND",vn[vn.ALREADY_EXISTS=6]="ALREADY_EXISTS",vn[vn.PERMISSION_DENIED=7]="PERMISSION_DENIED",vn[vn.UNAUTHENTICATED=16]="UNAUTHENTICATED",vn[vn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vn[vn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vn[vn.ABORTED=10]="ABORTED",vn[vn.OUT_OF_RANGE=11]="OUT_OF_RANGE",vn[vn.UNIMPLEMENTED=12]="UNIMPLEMENTED",vn[vn.INTERNAL=13]="INTERNAL",vn[vn.UNAVAILABLE=14]="UNAVAILABLE",vn[vn.DATA_LOSS=15]="DATA_LOSS";class xM{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return dD}static getOrCreateInstance(){return null===dD&&(dD=new xM),dD}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let dD=null;function j1(){return new TextEncoder}const XL=new Uh([4294967295,4294967295],0);function $1(n){const e=j1().encode(n),t=new fo;return t.update(e),new Uint8Array(t.digest())}function z1(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Uh([t,i],0),new Uh([r,a],0)]}class RM{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new hw(`Invalid padding: ${t}`);if(i<0)throw new hw(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new hw(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new hw(`Invalid padding when bitmap length is 0: ${t}`);this.yt=8*e.length-t,this.It=Uh.fromNumber(this.yt)}Tt(e,t,i){let r=e.add(t.multiply(Uh.fromNumber(i)));return 1===r.compare(XL)&&(r=new Uh([r.getBits(0),r.getBits(1)],0)),r.modulo(this.It).toNumber()}Et(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}At(e){if(0===this.yt)return!1;const t=$1(e),[i,r]=z1(t);for(let a=0;a<this.hashCount;a++){const u=this.Tt(i,r,a);if(!this.Et(u))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new RM(a,r,t);return i.forEach(f=>u.insert(f)),u}insert(e){if(0===this.yt)return;const t=$1(e),[i,r]=z1(t);for(let a=0;a<this.hashCount;a++){const u=this.Tt(i,r,a);this.Rt(u)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class hw extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class fw{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,pw.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new fw(bt.min(),r,new Qn(Ht),po(),Jt())}}class pw{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new pw(i,t,Jt(),Jt(),Jt())}}class hD{constructor(e,t,i,r){this.vt=e,this.removedTargetIds=t,this.key=i,this.Pt=r}}class G1{constructor(e,t){this.targetId=e,this.bt=t}}class q1{constructor(e,t,i=g.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class Z1{constructor(){this.Vt=0,this.St=K1(),this.Dt=g.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return 0!==this.Vt}get kt(){return this.xt}Mt(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}Ot(){let e=Jt(),t=Jt(),i=Jt();return this.St.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:rt()}}),new pw(this.Dt,this.Ct,e,t,i)}$t(){this.xt=!1,this.St=K1()}Ft(e,t){this.xt=!0,this.St=this.St.insert(e,t)}Bt(e){this.xt=!0,this.St=this.St.remove(e)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class JL{constructor(e){this.Kt=e,this.Gt=new Map,this.Qt=po(),this.jt=W1(),this.zt=new Qn(Ht)}Wt(e){for(const t of e.vt)e.Pt&&e.Pt.isFoundDocument()?this.Ht(t,e.Pt):this.Jt(t,e.key,e.Pt);for(const t of e.removedTargetIds)this.Jt(t,e.key,e.Pt)}Yt(e){this.forEachTarget(e,t=>{const i=this.Xt(t);switch(e.state){case 0:this.Zt(t)&&i.Mt(e.resumeToken);break;case 1:i.qt(),i.Nt||i.$t(),i.Mt(e.resumeToken);break;case 2:i.qt(),i.Nt||this.removeTarget(t);break;case 3:this.Zt(t)&&(i.Ut(),i.Mt(e.resumeToken));break;case 4:this.Zt(t)&&(this.te(t),i.Mt(e.resumeToken));break;default:rt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Gt.forEach((i,r)=>{this.Zt(r)&&t(r)})}ee(e){var t;const i=e.targetId,r=e.bt.count,a=this.ne(i);if(a){const u=a.target;if(rD(u))if(0===r){const f=new Ye(u.path);this.Jt(i,f,ai.newNoDocument(f,bt.min()))}else vt(1===r);else{const f=this.se(i);if(f!==r){const _=this.ie(e,f);0!==_&&(this.te(i),this.zt=this.zt.insert(i,2===_?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=xM.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(w,D,A){var F,B,Z,ie,ye,$e;const st={localCacheCount:D,existenceFilterCount:A.count},Je=A.unchangedNames;return Je&&(st.bloomFilter={applied:0===w,hashCount:null!==(F=Je?.hashCount)&&void 0!==F?F:0,bitmapLength:null!==(ie=null===(Z=null===(B=Je?.bits)||void 0===B?void 0:B.bitmap)||void 0===Z?void 0:Z.length)&&void 0!==ie?ie:0,padding:null!==($e=null===(ye=Je?.bits)||void 0===ye?void 0:ye.padding)&&void 0!==$e?$e:0}),st}(_,f,e.bt))}}}}ie(e,t){const{unchangedNames:i,count:r}=e.bt;if(!i||!i.bits)return 1;const{bits:{bitmap:a="",padding:u=0},hashCount:f=0}=i;let _,w;try{_=M(a).toUint8Array()}catch(D){if(D instanceof d)return Us("Decoding the base64 bloom filter in existence filter failed ("+D.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw D}try{w=new RM(_,u,f)}catch(D){return Us(D instanceof hw?"BloomFilter error: ":"Applying bloom filter failed: ",D),1}return 0===w.yt?1:r!==t-this.re(e.targetId,w)?2:0}re(e,t){const i=this.Kt.getRemoteKeysForTarget(e);let r=0;return i.forEach(a=>{const u=this.Kt.oe(),f=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;t.At(f)||(this.Jt(e,a,null),r++)}),r}ue(e){const t=new Map;this.Gt.forEach((a,u)=>{const f=this.ne(u);if(f){if(a.current&&rD(f.target)){const _=new Ye(f.target.path);null!==this.Qt.get(_)||this.ce(u,_)||this.Jt(u,_,ai.newNoDocument(_,e))}a.kt&&(t.set(u,a.Ot()),a.$t())}});let i=Jt();this.jt.forEach((a,u)=>{let f=!0;u.forEachWhile(_=>{const w=this.ne(_);return!w||"TargetPurposeLimboResolution"===w.purpose||(f=!1,!1)}),f&&(i=i.add(a))}),this.Qt.forEach((a,u)=>u.setReadTime(e));const r=new fw(e,t,this.zt,this.Qt,i);return this.Qt=po(),this.jt=W1(),this.zt=new Qn(Ht),r}Ht(e,t){if(!this.Zt(e))return;const i=this.ce(e,t.key)?2:0;this.Xt(e).Ft(t.key,i),this.Qt=this.Qt.insert(t.key,t),this.jt=this.jt.insert(t.key,this.ae(t.key).add(e))}Jt(e,t,i){if(!this.Zt(e))return;const r=this.Xt(e);this.ce(e,t)?r.Ft(t,1):r.Bt(t),this.jt=this.jt.insert(t,this.ae(t).delete(e)),i&&(this.Qt=this.Qt.insert(t,i))}removeTarget(e){this.Gt.delete(e)}se(e){const t=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Lt(e){this.Xt(e).Lt()}Xt(e){let t=this.Gt.get(e);return t||(t=new Z1,this.Gt.set(e,t)),t}ae(e){let t=this.jt.get(e);return t||(t=new ri(Ht),this.jt=this.jt.insert(e,t)),t}Zt(e){const t=null!==this.ne(e);return t||Fe("WatchChangeAggregator","Detected inactive target",e),t}ne(e){const t=this.Gt.get(e);return t&&t.Nt?null:this.Kt.he(e)}te(e){this.Gt.set(e,new Z1),this.Kt.getRemoteKeysForTarget(e).forEach(t=>{this.Jt(e,t,null)})}ce(e,t){return this.Kt.getRemoteKeysForTarget(e).has(t)}}function W1(){return new Qn(Ye.comparator)}function K1(){return new Qn(Ye.comparator)}const e2={asc:"ASCENDING",desc:"DESCENDING"},t2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},n2={and:"AND",or:"OR"};class r2{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function kM(n,e){return n.useProto3Json||kc(e)?e:{value:e}}function Yy(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Y1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function s2(n,e){return Yy(n,e.toTimestamp())}function zi(n){return vt(!!n),bt.fromTimestamp(function(e){const t=E(e);return new Kn(t.seconds,t.nanos)}(n))}function OM(n,e){return(t=n,new ln(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Q1(n){const e=ln.fromString(n);return vt(oO(e)),e}function mw(n,e){return OM(n.databaseId,e.path)}function Pc(n,e){const t=Q1(e);if(t.get(1)!==n.databaseId.projectId)throw new Me(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Me(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ye(J1(t))}function PM(n,e){return OM(n.databaseId,e)}function X1(n){const e=Q1(n);return 4===e.length?ln.emptyPath():J1(e)}function gw(n){return new ln(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function J1(n){return vt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function eO(n,e,t){return{name:mw(n,e),fields:t.value.mapValue.fields}}function tO(n,e,t){const i=Pc(n,e.name),r=zi(e.updateTime),a=e.createTime?zi(e.createTime):bt.min(),u=new es({mapValue:{fields:e.fields}}),f=ai.newFoundDocument(i,r,a,u);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function _w(n,e){let t;if(e instanceof Wy)t={update:eO(n,e.key,e.value)};else if(e instanceof Ky)t={delete:mw(n,e.key)};else if(e instanceof Ju)t={update:eO(n,e.key,e.data),updateMask:f2(e.fieldMask)};else{if(!(e instanceof TM))return rt();t={verify:mw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const u=a.transform;if(u instanceof qy)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Tm)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Sm)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Zy)return{fieldPath:a.field.canonicalString(),increment:u.wt};throw rt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:s2(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:rt()),t;var r}function NM(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?gi.updateTime(zi(r.updateTime)):void 0!==r.exists?gi.exists(r.exists):gi.none():gi.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(a,u){let f=null;"setToServerValue"in u?(vt("REQUEST_TIME"===u.setToServerValue),f=new qy):"appendMissingElements"in u?f=new Tm(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new Sm(u.removeAllFromArray.values||[]):"increment"in u?f=new Zy(a,u.increment):rt();const _=Yn.fromServerFormat(u.fieldPath);return new uw(_,f)}(n,r)):[];var r;if(e.update){const r=Pc(n,e.update.name),a=new es({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new c((e.updateMask.fieldPaths||[]).map(w=>Yn.fromServerFormat(w)));return new Ju(r,a,u,t,i)}return new Wy(r,a,t,i)}if(e.delete){const r=Pc(n,e.delete);return new Ky(r,t)}if(e.verify){const r=Pc(n,e.verify);return new TM(r,t)}return rt()}function nO(n,e){return{documents:[PM(n,e.path)]}}function FM(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=PM(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=PM(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(_){if(0!==_.length)return sO(Ln.create(_,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const a=function(_){if(0!==_.length)return _.map(w=>{return{field:qh((D=w).field),direction:u2(D.dir)};var D})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const u=kM(n,e.limit);var f,_;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function iO(n){let e=X1(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){vt(1===i);const D=t.from[0];D.allDescendants?r=D.collectionId:e=e.child(D.collectionId)}let a=[];t.where&&(a=function(D){const A=rO(D);return A instanceof Ln&&yM(A)?A.getFilters():[A]}(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(D=>{return new $y(Qy((A=D).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction));var A}));let f=null;t.limit&&(f=function(D){let A;return A="object"==typeof D?D.value:D,kc(A)?null:A}(t.limit));let _=null;var D;t.startAt&&(_=new Gh((D=t.startAt).values||[],!!D.before));let w=null;return t.endAt&&(w=function(D){return new Gh(D.values||[],!D.before)}(t.endAt)),v1(e,r,u,a,f,"F",_,w)}function rO(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Qy(e.unaryFilter.field);return un.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=Qy(e.unaryFilter.field);return un.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Qy(e.unaryFilter.field);return un.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Qy(e.unaryFilter.field);return un.create(a,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}(n):void 0!==n.fieldFilter?un.create(Qy((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Ln.create(e.compositeFilter.filters.map(t=>rO(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return rt()}}(e.compositeFilter.op))}(n):rt();var e}function u2(n){return e2[n]}function d2(n){return t2[n]}function h2(n){return n2[n]}function qh(n){return{fieldPath:n.canonicalString()}}function Qy(n){return Yn.fromServerFormat(n.fieldPath)}function sO(n){return n instanceof un?function(e){if("=="===e.op){if(Hy(e.value))return{unaryFilter:{field:qh(e.field),op:"IS_NAN"}};if(Uy(e.value))return{unaryFilter:{field:qh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Hy(e.value))return{unaryFilter:{field:qh(e.field),op:"IS_NOT_NAN"}};if(Uy(e.value))return{unaryFilter:{field:qh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qh(e.field),op:d2(e.op),value:e.value}}}(n):n instanceof Ln?function(e){const t=e.getFilters().map(i=>sO(i));return 1===t.length?t[0]:{compositeFilter:{op:h2(e.op),filters:t}}}(n):rt()}function f2(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function oO(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class ed{constructor(e,t,i,r,a=bt.min(),u=bt.min(),f=g.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=_}withSequenceNumber(e){return new ed(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ed(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ed(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ed(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class aO{constructor(e){this.le=e}}function lO(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:fD(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:mw(r=n.le,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:Yy(r,a.version.toTimestamp()),createTime:Yy(r,a.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Am(e.version)};else{if(!e.isUnknownDocument())return rt();i.unknownDocument={path:t.path.toArray(),version:Am(e.version)}}var r,a;return i}function fD(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Am(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Mm(n){const e=new Kn(n.seconds,n.nanoseconds);return bt.fromTimestamp(e)}function xm(n,e){const t=(e.baseMutations||[]).map(a=>NM(n.le,a));for(let a=0;a<e.mutations.length-1;++a){const u=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(u.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const i=e.mutations.map(a=>NM(n.le,a)),r=Kn.fromMillis(e.localWriteTimeMs);return new SM(e.batchId,r,t,i)}function yw(n){const e=Mm(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Mm(n.lastLimboFreeSnapshotVersion):bt.min();let i;var r;return void 0!==n.query.documents?(vt(1===(r=n.query).documents.length),i=js(Gy(X1(r.documents[0])))):i=js(iO(n.query)),new ed(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,g.fromBase64String(n.resumeToken))}function cO(n,e){const t=Am(e.snapshotVersion),i=Am(e.lastLimboFreeSnapshotVersion);let r;r=rD(e.target)?nO(n.le,e.target):FM(n.le,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Im(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function LM(n){const e=iO({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?aD(e,e.limit,"L"):e}function VM(n,e){return new MM(e.largestBatchId,NM(n.le,e.overlayMutation))}function uO(n,e){const t=e.path.lastSegment();return[n,Jr(e.path.popLast()),t]}function dO(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Am(i.readTime),documentKey:Jr(i.documentKey.path),largestBatchId:i.largestBatchId}}class m2{getBundleMetadata(e,t){return hO(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Mm(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return hO(e).put({bundleId:(i=t).id,createTime:Am(zi(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return fO(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:LM(r.bundledQuery),readTime:Mm(r.readTime)};var r})}saveNamedQuery(e,t){return fO(e).put({name:(i=t).name,readTime:Am(zi(i.readTime)),bundledQuery:i.bundledQuery});var i}}function hO(n){return mr(n,"bundles")}function fO(n){return mr(n,"namedQueries")}class pD{constructor(e,t){this.serializer=e,this.userId=t}static fe(e,t){return new pD(e,t.uid||"")}getOverlay(e,t){return vw(e).get(uO(this.userId,t)).next(i=>i?VM(this.serializer,i):null)}getOverlays(e,t){const i=Oc();return se.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((a,u)=>{const f=new MM(t,u);r.push(this.de(e,f))}),se.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(u=>r.add(Jr(u.getCollectionPath())));const a=[];return r.forEach(u=>{const f=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);a.push(vw(e).J("collectionPathOverlayIndex",f))}),se.waitFor(a)}getOverlaysForCollection(e,t,i){const r=Oc(),a=Jr(t),u=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,Number.POSITIVE_INFINITY],!0);return vw(e).j("collectionPathOverlayIndex",u).next(f=>{for(const _ of f){const w=VM(this.serializer,_);r.set(w.getKey(),w)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const a=Oc();let u;const f=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return vw(e).X({index:"collectionGroupOverlayIndex",range:f},(_,w,D)=>{const A=VM(this.serializer,w);a.size()<r||A.largestBatchId===u?(a.set(A.getKey(),A),u=A.largestBatchId):D.done()}).next(()=>a)}de(e,t){return vw(e).put(function(i,r,a){const[u,f,_]=uO(r,a.mutation.key);return{userId:r,collectionPath:f,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:_w(i.le,a.mutation)}}(this.serializer,this.userId,t))}}function vw(n){return mr(n,"documentOverlays")}class Rm{constructor(){}_e(e,t){this.we(e,t),t.me()}we(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye(I(e.integerValue));else if("doubleValue"in e){const i=I(e.doubleValue);isNaN(i)?this.ge(t,13):(this.ge(t,15),Vy(i)?t.ye(0):t.ye(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ge(t,20),"string"==typeof i?t.pe(i):(t.pe(`${i.seconds||""}`),t.ye(i.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(M(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ge(t,45),t.ye(i.latitude||0),t.ye(i.longitude||0)}else"mapValue"in e?jy(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):rt()}Ie(e,t){this.ge(t,25),this.Pe(e,t)}Pe(e,t){t.pe(e)}Re(e,t){const i=e.fields||{};this.ge(t,55);for(const r of Object.keys(i))this.Ie(r,t),this.we(i[r],t)}ve(e,t){const i=e.values||[];this.ge(t,50);for(const r of i)this.we(r,t)}Ae(e,t){this.ge(t,37),Ye.fromName(e).path.forEach(i=>{this.ge(t,60),this.Pe(i,t)})}ge(e,t){e.ye(t)}Te(e){e.ye(2)}}function g2(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function pO(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const a=g2(255&t[r]);if(i+=a,8!==a)break}return i}(n);return Math.ceil(e/8)}Rm.be=new Rm;class _2{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ve(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Se(i.value),i=t.next();this.De()}Ce(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.xe(i.value),i=t.next();this.Ne()}ke(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Se(i);else if(i<2048)this.Se(960|i>>>6),this.Se(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Se(480|i>>>12),this.Se(128|63&i>>>6),this.Se(128|63&i);else{const r=t.codePointAt(0);this.Se(240|r>>>18),this.Se(128|63&r>>>12),this.Se(128|63&r>>>6),this.Se(128|63&r)}}this.De()}Me(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.xe(i);else if(i<2048)this.xe(960|i>>>6),this.xe(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.xe(480|i>>>12),this.xe(128|63&i>>>6),this.xe(128|63&i);else{const r=t.codePointAt(0);this.xe(240|r>>>18),this.xe(128|63&r>>>12),this.xe(128|63&r>>>6),this.xe(128|63&r)}}this.Ne()}Oe(e){const t=this.$e(e),i=pO(t);this.Fe(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Be(e){const t=this.$e(e),i=pO(t);this.Fe(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Le(){this.qe(255),this.qe(255)}Ue(){this.Ke(255),this.Ke(255)}reset(){this.position=0}seed(e){this.Fe(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ge(){return this.buffer.slice(0,this.position)}$e(e){const t=function(r){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,r,!1),new Uint8Array(a.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Se(e){const t=255&e;0===t?(this.qe(0),this.qe(255)):255===t?(this.qe(255),this.qe(0)):this.qe(t)}xe(e){const t=255&e;0===t?(this.Ke(0),this.Ke(255)):255===t?(this.Ke(255),this.Ke(0)):this.Ke(e)}De(){this.qe(0),this.qe(1)}Ne(){this.Ke(0),this.Ke(1)}qe(e){this.Fe(1),this.buffer[this.position++]=e}Ke(e){this.Fe(1),this.buffer[this.position++]=~e}Fe(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class y2{constructor(e){this.Qe=e}Ee(e){this.Qe.Ve(e)}pe(e){this.Qe.ke(e)}ye(e){this.Qe.Oe(e)}me(){this.Qe.Le()}}class v2{constructor(e){this.Qe=e}Ee(e){this.Qe.Ce(e)}pe(e){this.Qe.Me(e)}ye(e){this.Qe.Be(e)}me(){this.Qe.Ue()}}class bw{constructor(){this.Qe=new _2,this.je=new y2(this.Qe),this.ze=new v2(this.Qe)}seed(e){this.Qe.seed(e)}We(e){return 0===e?this.je:this.ze}Ge(){return this.Qe.Ge()}reset(){this.Qe.reset()}}class km{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}He(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new km(this.indexId,this.documentKey,this.arrayValue,i)}}function Zh(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=mO(n.arrayValue,e.arrayValue),0!==t?t:(t=mO(n.directionalValue,e.directionalValue),0!==t?t:Ye.comparator(n.documentKey,e.documentKey)))}function mO(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class b2{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Je=e.orderBy,this.Ye=[];for(const t of e.filters){const i=t;i.isInequality()?this.Xe=i:this.Ye.push(i)}}Ze(e){vt(e.collectionGroup===this.collectionId);const t=Oy(e);if(void 0!==t&&!this.tn(t))return!1;const i=xc(e);let r=0,a=0;for(;r<i.length&&this.tn(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Xe){const u=i[r];if(!this.en(this.Xe,u)||!this.nn(this.Je[a++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(a>=this.Je.length||!this.nn(this.Je[a++],u))return!1}return!0}tn(e){for(const t of this.Ye)if(this.en(t,e))return!0;return!1}en(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}nn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function gO(n){var e,t;if(vt(n instanceof un||n instanceof Ln),n instanceof un){if(n instanceof g1){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(a=>un.create(n.field,"==",a)))||[];return Ln.create(r,"or")}return n}const i=n.filters.map(r=>gO(r));return Ln.create(i,n.op)}function w2(n){if(0===n.getFilters().length)return[];const e=HM(gO(n));return vt(_O(e)),BM(e)||UM(e)?[e]:e.getFilters()}function BM(n){return n instanceof un}function UM(n){return n instanceof Ln&&yM(n)}function _O(n){return BM(n)||UM(n)||function(e){if(e instanceof Ln&&_M(e)){for(const t of e.getFilters())if(!BM(t)&&!UM(t))return!1;return!0}return!1}(n)}function HM(n){if(vt(n instanceof un||n instanceof Ln),n instanceof un)return n;if(1===n.filters.length)return HM(n.filters[0]);const e=n.filters.map(i=>HM(i));let t=Ln.create(e,n.op);return t=mD(t),_O(t)?t:(vt(t instanceof Ln),vt(zy(t)),vt(t.filters.length>1),t.filters.reduce((i,r)=>jM(i,r)))}function jM(n,e){let t;return vt(n instanceof un||n instanceof Ln),vt(e instanceof un||e instanceof Ln),t=n instanceof un?e instanceof un?Ln.create([n,e],"and"):yO(n,e):e instanceof un?yO(e,n):function(i,r){if(vt(i.filters.length>0&&r.filters.length>0),zy(i)&&zy(r))return f1(i,r.getFilters());const a=_M(i)?i:r,u=_M(i)?r:i,f=a.filters.map(_=>jM(_,u));return Ln.create(f,"or")}(n,e),mD(t)}function yO(n,e){if(zy(e))return f1(e,n.getFilters());{const t=e.filters.map(i=>jM(n,i));return Ln.create(t,"or")}}function mD(n){if(vt(n instanceof un||n instanceof Ln),n instanceof un)return n;const e=n.getFilters();if(1===e.length)return mD(e[0]);if(d1(n))return n;const t=e.map(r=>mD(r)),i=[];return t.forEach(r=>{r instanceof un?i.push(r):r instanceof Ln&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Ln.create(i,n.op)}class E2{constructor(){this.sn=new $M}addToCollectionParentIndex(e,t){return this.sn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.sn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(Hs.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(Hs.min())}updateCollectionGroup(e,t,i){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class $M{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new ri(ln.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new ri(ln.comparator)).toArray()}}const gD=new Uint8Array(0);class C2{constructor(e,t){this.user=e,this.databaseId=t,this.rn=new $M,this.on=new Xu(i=>Im(i),(i,r)=>sw(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.rn.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.rn.add(t)});const a={collectionId:i,parent:Jr(r)};return vO(e).put(a)}return se.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[Q0(t),""],!1,!0);return vO(e).j(r).next(a=>{for(const u of a){if(u.collectionId!==t)break;i.push(Ia(u.parent))}return i})}addFieldIndex(e,t){const i=_D(e),r={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var u;delete r.indexId;const a=i.add(r);if(t.indexState){const u=Ew(e);return a.next(f=>{u.put(dO(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const i=_D(e),r=Ew(e),a=ww(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=ww(e);let r=!0;const a=new Map;return se.forEach(this.un(t),u=>this.cn(e,u).next(f=>{r&&(r=!!f),a.set(u,f)})).next(()=>{if(r){let u=Jt();const f=[];return se.forEach(a,(_,w)=>{var D;Fe("IndexedDbIndexManager",`Using index ${D=_,`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(Je=>`${Je.fieldPath}:${Je.kind}`).join(",")}`} to execute ${Im(t)}`);const A=function(Je,It){const jt=Oy(It);if(void 0===jt)return null;for(const qt of sD(Je,jt.fieldPath))switch(qt.op){case"array-contains-any":return qt.value.arrayValue.values||[];case"array-contains":return[qt.value]}return null}(w,_),F=function(Je,It){const jt=new Map;for(const qt of xc(It))for(const An of sD(Je,qt.fieldPath))switch(An.op){case"==":case"in":jt.set(qt.fieldPath.canonicalString(),An.value);break;case"not-in":case"!=":return jt.set(qt.fieldPath.canonicalString(),An.value),Array.from(jt.values())}return null}(w,_),B=function(Je,It){const jt=[];let qt=!0;for(const An of xc(It)){const Or=0===An.kind?_1(Je,An.fieldPath,Je.startAt):y1(Je,An.fieldPath,Je.startAt);jt.push(Or.value),qt&&(qt=Or.inclusive)}return new Gh(jt,qt)}(w,_),Z=function(Je,It){const jt=[];let qt=!0;for(const An of xc(It)){const Or=0===An.kind?y1(Je,An.fieldPath,Je.endAt):_1(Je,An.fieldPath,Je.endAt);jt.push(Or.value),qt&&(qt=Or.inclusive)}return new Gh(jt,qt)}(w,_),ie=this.an(_,w,B),ye=this.an(_,w,Z),$e=this.hn(_,w,F),st=this.ln(_.indexId,A,ie,B.inclusive,ye,Z.inclusive,$e);return se.forEach(st,Je=>i.H(Je,t.limit).next(It=>{It.forEach(jt=>{const qt=Ye.fromSegments(jt.documentKey);u.has(qt)||(u=u.add(qt),f.push(qt))})}))}).next(()=>f)}return se.resolve(null)})}un(e){let t=this.on.get(e);return t||(t=0===e.filters.length?[e]:w2(Ln.create(e.filters,"and")).map(i=>bM(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.on.set(e,t),t)}ln(e,t,i,r,a,u,f){const _=(null!=t?t.length:1)*Math.max(i.length,a.length),w=_/(null!=t?t.length:1),D=[];for(let A=0;A<_;++A){const F=t?this.fn(t[A/w]):gD,B=this.dn(e,F,i[A%w],r),Z=this._n(e,F,a[A%w],u),ie=f.map(ye=>this.dn(e,F,ye,!0));D.push(...this.createRange(B,Z,ie))}return D}dn(e,t,i,r){const a=new km(e,Ye.empty(),t,i);return r?a:a.He()}_n(e,t,i,r){const a=new km(e,Ye.empty(),t,i);return r?a.He():a}cn(e,t){const i=new b2(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(a=>{let u=null;for(const f of a)i.Ze(f)&&(!u||f.fields.length>u.fields.length)&&(u=f);return u})}getIndexType(e,t){let i=2;const r=this.un(t);return se.forEach(r,a=>this.cn(e,a).next(u=>{u?0!==i&&u.fields.length<function(f){let _=new ri(Yn.comparator),w=!1;for(const D of f.filters)for(const A of D.getFlattenedFilters())A.field.isKeyField()||("array-contains"===A.op||"array-contains-any"===A.op?w=!0:_=_.add(A.field));for(const D of f.orderBy)D.field.isKeyField()||(_=_.add(D.field));return _.size+(w?1:0)}(a)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}wn(e,t){const i=new bw;for(const r of xc(e)){const a=t.data.field(r.fieldPath);if(null==a)return null;const u=i.We(r.kind);Rm.be._e(a,u)}return i.Ge()}fn(e){const t=new bw;return Rm.be._e(e,t.We(0)),t.Ge()}mn(e,t){const i=new bw;return Rm.be._e(Tl(this.databaseId,t),i.We(function(r){const a=xc(r);return 0===a.length?0:a[a.length-1].kind}(e))),i.Ge()}hn(e,t,i){if(null===i)return[];let r=[];r.push(new bw);let a=0;for(const u of xc(e)){const f=i[a++];for(const _ of r)if(this.gn(t,u.fieldPath)&&Ku(f))r=this.yn(r,u,f);else{const w=_.We(u.kind);Rm.be._e(f,w)}}return this.pn(r)}an(e,t,i){return this.hn(e,t,i.position)}pn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Ge();return t}yn(e,t,i){const r=[...e],a=[];for(const u of i.arrayValue.values||[])for(const f of r){const _=new bw;_.seed(f.Ge()),Rm.be._e(u,_.We(t.kind)),a.push(_)}return a}gn(e,t){return!!e.filters.find(i=>i instanceof un&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=_D(e),r=Ew(e);return(t?i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.j()).next(a=>{const u=[];return se.forEach(a,f=>r.get([f.indexId,this.uid]).next(_=>{u.push(function(w,D){const A=D?new Ny(D.sequenceNumber,new Hs(Mm(D.readTime),new Ye(Ia(D.documentKey)),D.largestBatchId)):Ny.empty(),F=w.fields.map(([B,Z])=>new Py(Yn.fromServerFormat(B),Z));return new ky(w.indexId,w.collectionGroup,F,A)}(f,_))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const a=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==a?a:Ht(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=_D(e),a=Ew(e);return this.In(e).next(u=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>se.forEach(f,_=>a.put(dO(_.indexId,this.user,u,i)))))}updateIndexEntries(e,t){const i=new Map;return se.forEach(t,(r,a)=>{const u=i.get(r.collectionGroup);return(u?se.resolve(u):this.getFieldIndexes(e,r.collectionGroup)).next(f=>(i.set(r.collectionGroup,f),se.forEach(f,_=>this.Tn(e,r,_).next(w=>{const D=this.En(a,_);return w.isEqual(D)?se.resolve():this.An(e,a,_,w,D)}))))})}Rn(e,t,i,r){return ww(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.mn(i,t.key),documentKey:t.key.path.toArray()})}vn(e,t,i,r){return ww(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.mn(i,t.key),t.key.path.toArray()])}Tn(e,t,i){const r=ww(e);let a=new ri(Zh);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.mn(i,t)])},(u,f)=>{a=a.add(new km(i.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}En(e,t){let i=new ri(Zh);const r=this.wn(t,e);if(null==r)return i;const a=Oy(t);if(null!=a){const u=e.data.field(a.fieldPath);if(Ku(u))for(const f of u.arrayValue.values||[])i=i.add(new km(t.indexId,e.key,this.fn(f),r))}else i=i.add(new km(t.indexId,e.key,gD,r));return i}An(e,t,i,r,a){Fe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(f,_,w,D,A){const F=f.getIterator(),B=_.getIterator();let Z=o(F),ie=o(B);for(;Z||ie;){let ye=!1,$e=!1;if(Z&&ie){const st=w(Z,ie);st<0?$e=!0:st>0&&(ye=!0)}else null!=Z?$e=!0:ye=!0;ye?(D(ie),ie=o(B)):$e?(A(Z),Z=o(F)):(Z=o(F),ie=o(B))}}(r,a,Zh,f=>{u.push(this.Rn(e,t,i,f))},f=>{u.push(this.vn(e,t,i,f))}),se.waitFor(u)}In(e){let t=1;return Ew(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,a)=>{a.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((u,f)=>Zh(u,f)).filter((u,f,_)=>!f||0!==Zh(u,_[f-1]));const r=[];r.push(e);for(const u of i){const f=Zh(u,e),_=Zh(u,t);if(0===f)r[0]=e.He();else if(f>0&&_<0)r.push(u),r.push(u.He());else if(_>0)break}r.push(t);const a=[];for(let u=0;u<r.length;u+=2){if(this.Pn(r[u],r[u+1]))return[];a.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,gD,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,gD,[]]))}return a}Pn(e,t){return Zh(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(bO)}getMinOffset(e,t){return se.mapArray(this.un(t),i=>this.cn(e,i).next(r=>r||rt())).next(bO)}}function vO(n){return mr(n,"collectionParents")}function ww(n){return mr(n,"indexEntries")}function _D(n){return mr(n,"indexConfiguration")}function Ew(n){return mr(n,"indexState")}function bO(n){vt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;J0(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new Hs(e.readTime,e.documentKey,t)}const wO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Cs{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Cs(e,Cs.DEFAULT_COLLECTION_PERCENTILE,Cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function EO(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),a=[],u=IDBKeyRange.only(t.batchId);let f=0;const _=i.X({range:u},(D,A,F)=>(f++,F.delete()));a.push(_.next(()=>{vt(1===f)}));const w=[];for(const D of t.mutations){const A=KI(e,D.key.path,t.batchId);a.push(r.delete(A)),w.push(D.key)}return se.waitFor(a).next(()=>w)}function yD(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw rt();e=n.noDocument}return JSON.stringify(e).length}Cs.DEFAULT_COLLECTION_PERCENTILE=10,Cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cs.DEFAULT=new Cs(41943040,Cs.DEFAULT_COLLECTION_PERCENTILE,Cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cs.DISABLED=new Cs(-1,0,0);class vD{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.bn={}}static fe(e,t,i,r){vt(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new vD(a,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Wh(e).X({index:"userMutationsIndex",range:i},(r,a,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const a=Xy(e),u=Wh(e);return u.add({}).next(f=>{vt("number"==typeof f);const _=new SM(f,t,i,r),w=function(F,B,Z){const ie=Z.baseMutations.map($e=>_w(F.le,$e)),ye=Z.mutations.map($e=>_w(F.le,$e));return{userId:B,batchId:Z.batchId,localWriteTimeMs:Z.localWriteTime.toMillis(),baseMutations:ie,mutations:ye}}(this.serializer,this.userId,_),D=[];let A=new ri((F,B)=>Ht(F.canonicalString(),B.canonicalString()));for(const F of r){const B=KI(this.userId,F.key.path,f);A=A.add(F.key.path.popLast()),D.push(u.put(w)),D.push(a.put(B,YI))}return A.forEach(F=>{D.push(this.indexManager.addToCollectionParentIndex(e,F))}),e.addOnCommittedListener(()=>{this.bn[f]=_.keys()}),se.waitFor(D).next(()=>_)})}lookupMutationBatch(e,t){return Wh(e).get(t).next(i=>i?(vt(i.userId===this.userId),xm(this.serializer,i)):null)}Vn(e,t){return this.bn[t]?se.resolve(this.bn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.bn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let a=null;return Wh(e).X({index:"userMutationsIndex",range:r},(u,f,_)=>{f.userId===this.userId&&(vt(f.batchId>=i),a=xm(this.serializer,f)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Wh(e).X({index:"userMutationsIndex",range:t,reverse:!0},(r,a,u)=>{i=a.batchId,u.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Wh(e).j("userMutationsIndex",t).next(i=>i.map(r=>xm(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=By(this.userId,t.path),r=IDBKeyRange.lowerBound(i),a=[];return Xy(e).X({range:r},(u,f,_)=>{const[w,D,A]=u,F=Ia(D);if(w===this.userId&&t.path.isEqual(F))return Wh(e).get(A).next(B=>{if(!B)throw rt();vt(B.userId===this.userId),a.push(xm(this.serializer,B))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new ri(Ht);const r=[];return t.forEach(a=>{const u=By(this.userId,a.path),f=IDBKeyRange.lowerBound(u),_=Xy(e).X({range:f},(w,D,A)=>{const[F,B,Z]=w,ie=Ia(B);F===this.userId&&a.path.isEqual(ie)?i=i.add(Z):A.done()});r.push(_)}),se.waitFor(r).next(()=>this.Sn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,a=By(this.userId,i),u=IDBKeyRange.lowerBound(a);let f=new ri(Ht);return Xy(e).X({range:u},(_,w,D)=>{const[A,F,B]=_,Z=Ia(F);A===this.userId&&i.isPrefixOf(Z)?Z.length===r&&(f=f.add(B)):D.done()}).next(()=>this.Sn(e,f))}Sn(e,t){const i=[],r=[];return t.forEach(a=>{r.push(Wh(e).get(a).next(u=>{if(null===u)throw rt();vt(u.userId===this.userId),i.push(xm(this.serializer,u))}))}),se.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return EO(e.at,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Dn(t.batchId)}),se.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Dn(e){delete this.bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return se.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Xy(e).X({range:i},(a,u,f)=>{if(a[0]===this.userId){const _=Ia(a[1]);r.push(_)}else f.done()}).next(()=>{vt(0===r.length)})})}containsKey(e,t){return CO(e,this.userId,t)}Cn(e){return IO(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function CO(n,e,t){const i=By(e,t.path),r=i[1],a=IDBKeyRange.lowerBound(i);let u=!1;return Xy(n).X({range:a,Y:!0},(f,_,w)=>{const[D,A,F]=f;D===e&&A===r&&(u=!0),w.done()}).next(()=>u)}function Wh(n){return mr(n,"mutations")}function Xy(n){return mr(n,"documentMutations")}function IO(n){return mr(n,"mutationQueues")}class Om{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static Nn(){return new Om(0)}static kn(){return new Om(-1)}}class I2{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Mn(e).next(t=>{const i=new Om(t.highestTargetId);return t.highestTargetId=i.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Mn(e).next(t=>bt.fromTimestamp(new Kn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Mn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Mn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r)))}addTargetData(e,t){return this.$n(e,t).next(()=>this.Mn(e).next(i=>(i.targetCount+=1,this.Fn(t,i),this.On(e,i))))}updateTargetData(e,t){return this.$n(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Jy(e).delete(t.targetId)).next(()=>this.Mn(e)).next(i=>(vt(i.targetCount>0),i.targetCount-=1,this.On(e,i)))}removeTargets(e,t,i){let r=0;const a=[];return Jy(e).X((u,f)=>{const _=yw(f);_.sequenceNumber<=t&&null===i.get(_.targetId)&&(r++,a.push(this.removeTargetData(e,_)))}).next(()=>se.waitFor(a)).next(()=>r)}forEachTarget(e,t){return Jy(e).X((i,r)=>{const a=yw(r);t(a)})}Mn(e){return DO(e).get("targetGlobalKey").next(t=>(vt(null!==t),t))}On(e,t){return DO(e).put("targetGlobalKey",t)}$n(e,t){return Jy(e).put(cO(this.serializer,t))}Fn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Mn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Im(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let a=null;return Jy(e).X({range:r,index:"queryTargetsIndex"},(u,f,_)=>{const w=yw(f);sw(t,w.target)&&(a=w,_.done())}).next(()=>a)}addMatchingKeys(e,t,i){const r=[],a=Kh(e);return t.forEach(u=>{const f=Jr(u.path);r.push(a.put({targetId:i,path:f})),r.push(this.referenceDelegate.addReference(e,i,u))}),se.waitFor(r)}removeMatchingKeys(e,t,i){const r=Kh(e);return se.forEach(t,a=>{const u=Jr(a.path);return se.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(e,i,a)])})}removeMatchingKeysForTargetId(e,t){const i=Kh(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Kh(e);let a=Jt();return r.X({range:i,Y:!0},(u,f,_)=>{const w=Ia(u[1]),D=new Ye(w);a=a.add(D)}).next(()=>a)}containsKey(e,t){const i=Jr(t.path),r=IDBKeyRange.bound([i],[Q0(i)],!1,!0);let a=0;return Kh(e).X({index:"documentTargetsIndex",Y:!0,range:r},([u,f],_,w)=>{0!==u&&(a++,w.done())}).next(()=>a>0)}he(e,t){return Jy(e).get(t).next(i=>i?yw(i):null)}}function Jy(n){return mr(n,"targets")}function DO(n){return mr(n,"targetGlobal")}function Kh(n){return mr(n,"targetDocuments")}function TO([n,e],[t,i]){const r=Ht(n,t);return 0===r?Ht(e,i):r}class D2{constructor(e){this.Bn=e,this.buffer=new ri(TO),this.Ln=0}qn(){return++this.Ln}Un(e){const t=[e,this.qn()];if(this.buffer.size<this.Bn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();TO(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class SO{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Kn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Kn&&(this.Kn.cancel(),this.Kn=null)}get started(){return null!==this.Kn}Gn(e){var t=this;Fe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Kn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,be.Z)(function*(){t.Kn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Il(i)?Fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield qu(i)}yield t.Gn(3e5)}))}}class T2{constructor(e,t){this.Qn=e,this.params=t}calculateTargetCount(e,t){return this.Qn.jn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return se.resolve(Xr.ct);const i=new D2(t);return this.Qn.forEachTarget(e,r=>i.Un(r.sequenceNumber)).next(()=>this.Qn.zn(e,r=>i.Un(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Qn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Qn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(wO)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wO):this.Wn(e,t))}getCacheSize(e){return this.Qn.getCacheSize(e)}Wn(e,t){let i,r,a,u,f,_,w;const D=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),r=this.params.maximumSequenceNumbersToCollect):r=A,u=Date.now(),this.nthSequenceNumber(e,r))).next(A=>(i=A,f=Date.now(),this.removeTargets(e,i,t))).next(A=>(a=A,_=Date.now(),this.removeOrphanedDocuments(e,i))).next(A=>(w=Date.now(),xy()<=wl.in.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-D}ms\n\tDetermined least recently used ${r} in `+(f-u)+`ms\n\tRemoved ${a} targets in `+(_-f)+`ms\n\tRemoved ${A} documents in `+(w-_)+`ms\nTotal Duration: ${w-D}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:A})))}}class S2{constructor(e,t){this.db=e,this.garbageCollector=function AO(n,e){return new T2(n,e)}(this,t)}jn(e){const t=this.Hn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Hn(e){let t=0;return this.zn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}zn(e,t){return this.Jn(e,(i,r)=>t(r))}addReference(e,t,i){return bD(e,i)}removeReference(e,t,i){return bD(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return bD(e,t)}Yn(e,t){return function(i,r){let a=!1;return IO(i).Z(u=>CO(i,u,r).next(f=>(f&&(a=!0),se.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let a=0;return this.Jn(e,(u,f)=>{if(f<=t){const _=this.Yn(e,u).next(w=>{if(!w)return a++,i.getEntry(e,u).next(()=>(i.removeEntry(u,bt.min()),Kh(e).delete([0,Jr(u.path)])))});r.push(_)}}).next(()=>se.waitFor(r)).next(()=>i.apply(e)).next(()=>a)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return bD(e,t)}Jn(e,t){const i=Kh(e);let r,a=Xr.ct;return i.X({index:"documentTargetsIndex"},([u,f],{path:_,sequenceNumber:w})=>{0===u?(a!==Xr.ct&&t(new Ye(Ia(r)),a),a=w,r=_):a=Xr.ct}).next(()=>{a!==Xr.ct&&t(new Ye(Ia(r)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function bD(n,e){return Kh(n).put((i=n.currentSequenceNumber,{targetId:0,path:Jr(e.path),sequenceNumber:i}));var i}class MO{constructor(){this.changes=new Xu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ai.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?se.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class A2{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Pm(e).put(i)}removeEntry(e,t,i){return Pm(e).delete(function(r,a){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],fD(a),u[u.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Xn(e,i)))}getEntry(e,t){let i=ai.newInvalidDocument(t);return Pm(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Cw(t))},(r,a)=>{i=this.Zn(t,a)}).next(()=>i)}ts(e,t){let i={size:0,document:ai.newInvalidDocument(t)};return Pm(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Cw(t))},(r,a)=>{i={document:this.Zn(t,a),size:yD(a)}}).next(()=>i)}getEntries(e,t){let i=po();return this.es(e,t,(r,a)=>{const u=this.Zn(r,a);i=i.insert(r,u)}).next(()=>i)}ns(e,t){let i=po(),r=new Qn(Ye.comparator);return this.es(e,t,(a,u)=>{const f=this.Zn(a,u);i=i.insert(a,f),r=r.insert(a,yD(u))}).next(()=>({documents:i,ss:r}))}es(e,t,i){if(t.isEmpty())return se.resolve();let r=new ri(OO);t.forEach(_=>r=r.add(_));const a=IDBKeyRange.bound(Cw(r.first()),Cw(r.last())),u=r.getIterator();let f=u.getNext();return Pm(e).X({index:"documentKeyIndex",range:a},(_,w,D)=>{const A=Ye.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;f&&OO(f,A)<0;)i(f,null),f=u.getNext();f&&f.isEqual(A)&&(i(f,w),f=u.hasNext()?u.getNext():null),f?D.G(Cw(f)):D.done()}).next(()=>{for(;f;)i(f,null),f=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,i,r){const a=t.path,u=[a.popLast().toArray(),a.lastSegment(),fD(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],f=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Pm(e).j(IDBKeyRange.bound(u,f,!0)).next(_=>{let w=po();for(const D of _){const A=this.Zn(Ye.fromSegments(D.prefixPath.concat(D.collectionGroup,D.documentId)),D);A.isFoundDocument()&&(aw(t,A)||r.has(A.key))&&(w=w.insert(A.key,A))}return w})}getAllFromCollectionGroup(e,t,i,r){let a=po();const u=kO(t,i),f=kO(t,Hs.max());return Pm(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,f,!0)},(_,w,D)=>{const A=this.Zn(Ye.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);a=a.insert(A.key,A),a.size===r&&D.done()}).next(()=>a)}newChangeBuffer(e){return new M2(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return RO(e).get("remoteDocumentGlobalKey").next(t=>(vt(!!t),t))}Xn(e,t){return RO(e).put("remoteDocumentGlobalKey",t)}Zn(e,t){if(t){const i=function p2(n,e){let t;if(e.document)t=tO(n.le,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=Ye.fromSegments(e.noDocument.path),r=Mm(e.noDocument.readTime);t=ai.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return rt();{const i=Ye.fromSegments(e.unknownDocument.path),r=Mm(e.unknownDocument.version);t=ai.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new Kn(i[0],i[1]);return bt.fromTimestamp(r)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(bt.min()))return i}return ai.newInvalidDocument(e)}}function xO(n){return new A2(n)}class M2 extends MO{constructor(e,t){super(),this.rs=e,this.trackRemovals=t,this.os=new Xu(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new ri((a,u)=>Ht(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const f=this.os.get(a);if(t.push(this.rs.removeEntry(e,a,f.readTime)),u.isValidDocument()){const _=lO(this.rs.serializer,u);r=r.add(a.path.popLast()),i+=yD(_)-f.size,t.push(this.rs.addEntry(e,a,_))}else if(i-=f.size,this.trackRemovals){const _=lO(this.rs.serializer,u.convertToNoDocument(bt.min()));t.push(this.rs.addEntry(e,a,_))}}),r.forEach(a=>{t.push(this.rs.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.rs.updateMetadata(e,i)),se.waitFor(t)}getFromCache(e,t){return this.rs.ts(e,t).next(i=>(this.os.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.rs.ns(e,t).next(({documents:i,ss:r})=>(r.forEach((a,u)=>{this.os.set(a,{size:u,readTime:i.get(a).readTime})}),i))}}function RO(n){return mr(n,"remoteDocumentGlobal")}function Pm(n){return mr(n,"remoteDocumentsV14")}function Cw(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function kO(n,e){const t=e.documentKey.path.toArray();return[n,fD(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function OO(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let a=0;a<t.length-2&&a<i.length-2;++a)if(r=Ht(t[a],i[a]),r)return r;return r=Ht(t.length,i.length),r||(r=Ht(t[t.length-2],i[i.length-2]),r||Ht(t[t.length-1],i[i.length-1]))}class x2{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class PO{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&dw(i.mutation,r,c.empty(),Kn.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Jt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Jt()){const r=Oc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(a=>{let u=lw();return a.forEach((f,_)=>{u=u.insert(f,_.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=Oc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Jt()))}populateOverlays(e,t,i){const r=[];return i.forEach(a=>{t.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,i,r){let a=po();const u=cw(),f=cw();return t.forEach((_,w)=>{const D=i.get(w.key);r.has(w.key)&&(void 0===D||D.mutation instanceof Ju)?a=a.insert(w.key,w):void 0!==D?(u.set(w.key,D.mutation.getFieldMask()),dw(D.mutation,w,D.mutation.getFieldMask(),Kn.now())):u.set(w.key,c.empty())}),this.recalculateAndSaveOverlays(e,a).next(_=>(_.forEach((w,D)=>u.set(w,D)),t.forEach((w,D)=>{var A;return f.set(w,new x2(D,null!==(A=u.get(w))&&void 0!==A?A:null))}),f))}recalculateAndSaveOverlays(e,t){const i=cw();let r=new Qn((u,f)=>u-f),a=Jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(_=>{const w=t.get(_);if(null===w)return;let D=i.get(_)||c.empty();D=f.applyToLocalView(w,D),i.set(_,D);const A=(r.get(f.batchId)||Jt()).add(_);r=r.insert(f.batchId,A)})}).next(()=>{const u=[],f=r.getReverseIterator();for(;f.hasNext();){const _=f.getNext(),w=_.key,D=_.value,A=T1();D.forEach(F=>{if(!a.has(F)){const B=N1(t.get(F),i.get(F));null!==B&&A.set(F,B),a=a.add(F)}}),u.push(this.documentOverlayCache.saveOverlays(e,w,A))}return se.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return Ye.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):EM(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(a=>{const u=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-a.size):se.resolve(Oc());let f=-1,_=a;return u.next(w=>se.forEach(w,(D,A)=>(f<A.largestBatchId&&(f=A.largestBatchId),a.get(D)?se.resolve():this.remoteDocumentCache.getEntry(e,D).next(F=>{_=_.insert(D,F)}))).next(()=>this.populateOverlays(e,w,a)).next(()=>this.computeViews(e,_,w,Jt())).next(D=>({batchId:f,changes:D1(D)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ye(t)).next(i=>{let r=lw();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let a=lw();return this.indexManager.getCollectionParents(e,r).next(u=>se.forEach(u,f=>{const _=(w=t,D=f.child(r),new Qu(D,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,D;return this.getDocumentsMatchingCollectionQuery(e,_,i).next(w=>{w.forEach((D,A)=>{a=a.insert(D,A)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(a=>{r.forEach((f,_)=>{const w=_.getKey();null===a.get(w)&&(a=a.insert(w,ai.newInvalidDocument(w)))});let u=lw();return a.forEach((f,_)=>{const w=r.get(f);void 0!==w&&dw(w.mutation,_,c.empty(),Kn.now()),aw(t,_)&&(u=u.insert(f,_))}),u})}}class R2{constructor(e){this.serializer=e,this.us=new Map,this.cs=new Map}getBundleMetadata(e,t){return se.resolve(this.us.get(t))}saveBundleMetadata(e,t){var i;return this.us.set(t.id,{id:(i=t).id,version:i.version,createTime:zi(i.createTime)}),se.resolve()}getNamedQuery(e,t){return se.resolve(this.cs.get(t))}saveNamedQuery(e,t){return this.cs.set(t.name,{name:(i=t).name,query:LM(i.bundledQuery),readTime:zi(i.readTime)}),se.resolve();var i}}class k2{constructor(){this.overlays=new Qn(Ye.comparator),this.hs=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Oc();return se.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,a)=>{this.de(e,t,a)}),se.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.hs.get(i);return void 0!==r&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.hs.delete(i)),se.resolve()}getOverlaysForCollection(e,t,i){const r=Oc(),a=t.length+1,u=new Ye(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const _=f.getNext().value,w=_.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===a&&_.largestBatchId>i&&r.set(_.getKey(),_)}return se.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new Qn((w,D)=>w-D);const u=this.overlays.getIterator();for(;u.hasNext();){const w=u.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>i){let D=a.get(w.largestBatchId);null===D&&(D=Oc(),a=a.insert(w.largestBatchId,D)),D.set(w.getKey(),w)}}const f=Oc(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((w,D)=>f.set(w,D)),!(f.size()>=r)););return se.resolve(f)}de(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.hs.get(r.largestBatchId).delete(i.key);this.hs.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new MM(t,i));let a=this.hs.get(t);void 0===a&&(a=Jt(),this.hs.set(t,a)),this.hs.set(t,a.add(i.key))}}class zM{constructor(){this.ls=new ri(kr.fs),this.ds=new ri(kr._s)}isEmpty(){return this.ls.isEmpty()}addReference(e,t){const i=new kr(e,t);this.ls=this.ls.add(i),this.ds=this.ds.add(i)}ws(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gs(new kr(e,t))}ys(e,t){e.forEach(i=>this.removeReference(i,t))}ps(e){const t=new Ye(new ln([])),i=new kr(t,e),r=new kr(t,e+1),a=[];return this.ds.forEachInRange([i,r],u=>{this.gs(u),a.push(u.key)}),a}Is(){this.ls.forEach(e=>this.gs(e))}gs(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}Ts(e){const t=new Ye(new ln([])),i=new kr(t,e),r=new kr(t,e+1);let a=Jt();return this.ds.forEachInRange([i,r],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new kr(e,0),i=this.ls.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class kr{constructor(e,t){this.key=e,this.Es=t}static fs(e,t){return Ye.comparator(e.key,t.key)||Ht(e.Es,t.Es)}static _s(e,t){return Ht(e.Es,t.Es)||Ye.comparator(e.key,t.key)}}class O2{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.As=1,this.Rs=new ri(kr.fs)}checkEmpty(e){return se.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const a=this.As;this.As++;const u=new SM(a,t,i,r);this.mutationQueue.push(u);for(const f of r)this.Rs=this.Rs.add(new kr(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return se.resolve(u)}lookupMutationBatch(e,t){return se.resolve(this.vs(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.Ps(t+1),a=r<0?0:r;return se.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(0===this.mutationQueue.length?-1:this.As-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new kr(t,0),r=new kr(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([i,r],u=>{const f=this.vs(u.Es);a.push(f)}),se.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new ri(Ht);return t.forEach(r=>{const a=new kr(r,0),u=new kr(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([a,u],f=>{i=i.add(f.Es)})}),se.resolve(this.bs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;Ye.isDocumentKey(a)||(a=a.child(""));const u=new kr(new Ye(a),0);let f=new ri(Ht);return this.Rs.forEachWhile(_=>{const w=_.key.path;return!!i.isPrefixOf(w)&&(w.length===r&&(f=f.add(_.Es)),!0)},u),se.resolve(this.bs(f))}bs(e){const t=[];return e.forEach(i=>{const r=this.vs(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){vt(0===this.Vs(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return se.forEach(t.mutations,r=>{const a=new kr(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Dn(e){}containsKey(e,t){const i=new kr(t,0),r=this.Rs.firstAfterOrEqual(i);return se.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return se.resolve()}Vs(e,t){return this.Ps(e)}Ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}vs(e){const t=this.Ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class P2{constructor(e){this.Ss=e,this.docs=new Qn(Ye.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,u=this.Ss(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return se.resolve(i?i.document.mutableCopy():ai.newInvalidDocument(t))}getEntries(e,t){let i=po();return t.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():ai.newInvalidDocument(r))}),se.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let a=po();const u=t.path,f=new Ye(u.child("")),_=this.docs.getIteratorFrom(f);for(;_.hasNext();){const{key:w,value:{document:D}}=_.getNext();if(!u.isPrefixOf(w.path))break;w.path.length>u.length+1||J0(qI(D),i)<=0||(r.has(D.key)||aw(t,D))&&(a=a.insert(D.key,D.mutableCopy()))}return se.resolve(a)}getAllFromCollectionGroup(e,t,i,r){rt()}Ds(e,t){return se.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new N2(this)}getSize(e){return se.resolve(this.size)}}class N2 extends MO{constructor(e){super(),this.rs=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.rs.addEntry(e,r)):this.rs.removeEntry(i)}),se.waitFor(t)}getFromCache(e,t){return this.rs.getEntry(e,t)}getAllFromCache(e,t){return this.rs.getEntries(e,t)}}class F2{constructor(e){this.persistence=e,this.Cs=new Xu(t=>Im(t),sw),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.xs=0,this.Ns=new zM,this.targetCount=0,this.ks=Om.Nn()}forEachTarget(e,t){return this.Cs.forEach((i,r)=>t(r)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.xs)}allocateTargetId(e){return this.highestTargetId=this.ks.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.xs&&(this.xs=t),se.resolve()}$n(e){this.Cs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ks=new Om(t),this.highestTargetId=t),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}addTargetData(e,t){return this.$n(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.$n(t),se.resolve()}removeTargetData(e,t){return this.Cs.delete(t.target),this.Ns.ps(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.Cs.forEach((u,f)=>{f.sequenceNumber<=t&&null===i.get(f.targetId)&&(this.Cs.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),r++)}),se.waitFor(a).next(()=>r)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const i=this.Cs.get(t)||null;return se.resolve(i)}addMatchingKeys(e,t,i){return this.Ns.ws(t,i),se.resolve()}removeMatchingKeys(e,t,i){this.Ns.ys(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(u=>{a.push(r.markPotentiallyOrphaned(e,u))}),se.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ns.ps(t),se.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ns.Ts(t);return se.resolve(i)}containsKey(e,t){return se.resolve(this.Ns.containsKey(t))}}class GM{constructor(e,t){this.Ms={},this.overlays={},this.Os=new Xr(0),this.$s=!1,this.$s=!0,this.referenceDelegate=e(this),this.Fs=new F2(this),this.indexManager=new E2,this.remoteDocumentCache=new P2(i=>this.referenceDelegate.Bs(i)),this.serializer=new aO(t),this.Ls=new R2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new k2,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Ms[e.toKey()];return i||(i=new O2(t,this.referenceDelegate),this.Ms[e.toKey()]=i),i}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(e,t,i){Fe("MemoryPersistence","Starting transaction:",e);const r=new L2(this.Os.next());return this.referenceDelegate.qs(),i(r).next(a=>this.referenceDelegate.Us(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Ks(e,t){return se.or(Object.values(this.Ms).map(i=>()=>i.containsKey(e,t)))}}class L2 extends rM{constructor(e){super(),this.currentSequenceNumber=e}}class wD{constructor(e){this.persistence=e,this.Gs=new zM,this.Qs=null}static js(e){return new wD(e)}get zs(){if(this.Qs)return this.Qs;throw rt()}addReference(e,t,i){return this.Gs.addReference(i,t),this.zs.delete(i.toString()),se.resolve()}removeReference(e,t,i){return this.Gs.removeReference(i,t),this.zs.add(i.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.zs.add(t.toString()),se.resolve()}removeTarget(e,t){this.Gs.ps(t.targetId).forEach(r=>this.zs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(a=>this.zs.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}qs(){this.Qs=new Set}Us(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.zs,i=>{const r=Ye.fromPath(i);return this.Ws(e,r).next(a=>{a||t.removeEntry(r,bt.min())})}).next(()=>(this.Qs=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ws(e,t).next(i=>{i?this.zs.delete(t.toString()):this.zs.add(t.toString())})}Bs(e){return 0}Ws(e,t){return se.or([()=>se.resolve(this.Gs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ks(e,t)])}}class V2{constructor(e){this.serializer=e}$(e,t,i,r){const a=new Fy("createOrUpgrade",t);var f;i<1&&r>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",WI,{unique:!0}),f.createObjectStore("documentMutations"),NO(e),function(f){f.createObjectStore("remoteDocuments")}(e));let u=se.resolve();return i<3&&r>=3&&(0!==i&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),NO(e)),u=u.next(()=>function(f){const _=f.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:bt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",w)}(a))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(f,_){return _.store("mutations").j().next(w=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",WI,{unique:!0});const D=_.store("mutations"),A=w.map(F=>D.put(F));return se.waitFor(A)})}(e,a))),u=u.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(u=u.next(()=>this.Js(a))),i<6&&r>=6&&(u=u.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Ys(a)))),i<7&&r>=7&&(u=u.next(()=>this.Xs(a))),i<8&&r>=8&&(u=u.next(()=>this.Zs(e,a))),i<9&&r>=9&&(u=u.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(u=u.next(()=>this.ti(a))),i<11&&r>=11&&(u=u.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(u=u.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:t1});_.createIndex("collectionPathOverlayIndex",n1,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",hM,{unique:!1})}(e)})),i<13&&r>=13&&(u=u.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:QI});_.createIndex("documentKeyIndex",XI),_.createIndex("collectionGroupIndex",lM)}(e)).next(()=>this.ei(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.ni(e,a))),i<15&&r>=15&&(u=u.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:eD}).createIndex("sequenceNumberIndex",iw,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:uM}).createIndex("documentKeyIndex",dM,{unique:!1})}(e))),u}Ys(e){let t=0;return e.store("remoteDocuments").X((i,r)=>{t+=yD(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Js(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.j().next(r=>se.forEach(r,a=>{const u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",u).next(f=>se.forEach(f,_=>{vt(_.userId===a.userId);const w=xm(this.serializer,_);return EO(e,a.userId,w).next(()=>{})}))}))}Xs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const a=[];return i.X((u,f)=>{const _=new ln(u),w=[0,Jr(_)];a.push(t.get(w).next(D=>D?se.resolve():t.put({targetId:0,path:Jr(_),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>se.waitFor(a))})}Zs(e,t){e.createObjectStore("collectionParents",{keyPath:e1});const i=t.store("collectionParents"),r=new $M,a=u=>{if(r.add(u)){const f=u.lastSegment(),_=u.popLast();return i.put({collectionId:f,parent:Jr(_)})}};return t.store("remoteDocuments").X({Y:!0},(u,f)=>{const _=new ln(u);return a(_.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([u,f,_],w)=>{const D=Ia(f);return a(D.popLast())}))}ti(e){const t=e.store("targets");return t.X((i,r)=>{const a=yw(r),u=cO(this.serializer,a);return t.put(u)})}ei(e,t){const i=t.store("remoteDocuments"),r=[];return i.X((a,u)=>{const f=t.store("remoteDocumentsV14"),_=(w=u,w.document?new Ye(ln.fromString(w.document.name).popFirst(5)):w.noDocument?Ye.fromSegments(w.noDocument.path):w.unknownDocument?Ye.fromSegments(w.unknownDocument.path):rt()).path.toArray();var w;const D={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(f.put(D))}).next(()=>se.waitFor(r))}ni(e,t){const i=t.store("mutations"),r=xO(this.serializer),a=new GM(wD.js,this.serializer.le);return i.j().next(u=>{const f=new Map;return u.forEach(_=>{var w;let D=null!==(w=f.get(_.userId))&&void 0!==w?w:Jt();xm(this.serializer,_).keys().forEach(A=>D=D.add(A)),f.set(_.userId,D)}),se.forEach(f,(_,w)=>{const D=new tr(w),A=pD.fe(this.serializer,D),F=a.getIndexManager(D),B=vD.fe(D,this.serializer,F,a.referenceDelegate);return new PO(r,B,A,F).recalculateAndSaveOverlaysForDocumentKeys(new nD(t,Xr.ct),_).next()})})}}function NO(n){n.createObjectStore("targetDocuments",{keyPath:JI}).createIndex("documentTargetsIndex",nw,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",cM,{unique:!0}),n.createObjectStore("targetGlobal")}const qM="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ZM{constructor(e,t,i,r,a,u,f,_,w,D,A=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.si=a,this.window=u,this.document=f,this.ii=w,this.ri=D,this.oi=A,this.Os=null,this.$s=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.ai=null,this.hi=Number.NEGATIVE_INFINITY,this.li=F=>Promise.resolve(),!ZM.D())throw new Me(ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new S2(this,r),this.fi=t+"main",this.serializer=new aO(_),this.di=new Es(this.fi,this.oi,new V2(this.serializer)),this.Fs=new I2(this.referenceDelegate,this.serializer),this.remoteDocumentCache=xO(this.serializer),this.Ls=new m2,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===D&&mi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Me(ce.FAILED_PRECONDITION,qM);return this.mi(),this.gi(),this.yi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Fs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Xr(e,this.ii)}).then(()=>{this.$s=!0}).catch(e=>(this.di&&this.di.close(),Promise.reject(e)))}pi(e){var t=this;return this.li=function(){var i=(0,be.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.di.B(function(){var t=(0,be.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,be.Z)(function*(){t.started&&(yield t.wi())})))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>CD(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ii(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)))})}).next(()=>this.Ti(e)).next(t=>this.isPrimary&&!t?this.Ei(e).next(()=>!1):!!t&&this.Ai(e).next(()=>!0))).catch(e=>{if(Il(e))return Fe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Fe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.li(e)),this.isPrimary=e})}Ii(e){return Iw(e).get("owner").next(t=>se.resolve(this.Ri(t)))}vi(e){return CD(e).delete(this.clientId)}Pi(){var e=this;return(0,be.Z)(function*(){if(e.isPrimary&&!e.bi(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=mr(i,"clientMetadata");return r.j().next(a=>{const u=e.Vi(a,18e5),f=a.filter(_=>-1===u.indexOf(_));return se.forEach(f,_=>r.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e._i)for(const i of t)e._i.removeItem(e.Si(i.clientId))}})()}yi(){this.ai=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Pi()).then(()=>this.yi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ti(e){return this.ri?se.resolve(!0):Iw(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Me(ce.FAILED_PRECONDITION,qM);return!1}}return!(!this.networkEnabled||!this.inForeground)||CD(e).j().next(i=>void 0===this.Vi(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,f=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Fe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,be.Z)(function*(){e.$s=!1,e.Ci(),e.ai&&(e.ai.cancel(),e.ai=null),e.xi(),e.Ni(),yield e.di.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new nD(t,Xr.ct);return e.Ei(i).next(()=>e.vi(i))}),e.di.close(),e.ki()})()}Vi(e,t){return e.filter(i=>this.bi(i.updateTimeMs,t)&&!this.Di(i.clientId))}Mi(){return this.runTransaction("getActiveClients","readonly",e=>CD(e).j().next(t=>this.Vi(t,18e5).map(i=>i.clientId)))}get started(){return this.$s}getMutationQueue(e,t){return vD.fe(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new C2(e,this.serializer.le.databaseId)}getDocumentOverlayCache(e){return pD.fe(this.serializer,e)}getBundleCache(){return this.Ls}runTransaction(e,t,i){Fe("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",a=15===(u=this.oi)?r1:14===u?mM:13===u?pM:12===u?fM:11===u?tD:void rt();var u;let f;return this.di.runTransaction(e,r,a,_=>(f=new nD(_,this.Os?this.Os.next():Xr.ct),"readwrite-primary"===t?this.Ii(f).next(w=>!!w||this.Ti(f)).next(w=>{if(!w)throw mi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)),new Me(ce.FAILED_PRECONDITION,iM);return i(f)}).next(w=>this.Ai(f).next(()=>w)):this.Oi(f).next(()=>i(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}Oi(e){return Iw(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)&&!this.Ri(t)&&!(this.ri||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Me(ce.FAILED_PRECONDITION,qM)})}Ai(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Iw(e).put("owner",t)}static D(){return Es.D()}Ei(e){const t=Iw(e);return t.get("owner").next(i=>this.Ri(i)?(Fe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):se.resolve())}bi(e,t){const i=Date.now();return!(e<i-t||e>i&&(mi(`Detected an update time that is in the future: ${e} > ${i}`),1))}mi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.wi()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Ci();const t=/(?:Version|Mobile)\/1[456]/;(0,gn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Ni(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Di(e){var t;try{const i=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Si(e)));return Fe("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return mi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ci(){if(this._i)try{this._i.setItem(this.Si(this.clientId),String(Date.now()))}catch(e){mi("Failed to set zombie client id.",e)}}ki(){if(this._i)try{this._i.removeItem(this.Si(this.clientId))}catch{}}Si(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Iw(n){return mr(n,"owner")}function CD(n){return mr(n,"clientMetadata")}function WM(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class KM{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.$i=i,this.Fi=r}static Bi(e,t){let i=Jt(),r=Jt();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new KM(e,t.fromCache,i,r)}}class FO{constructor(){this.Li=!1}initialize(e,t){this.qi=e,this.indexManager=t,this.Li=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ui(e,t).next(a=>a||this.Ki(e,t,r,i)).next(a=>a||this.Gi(e,t))}Ui(e,t){if(b1(t))return se.resolve(null);let i=js(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=aD(t,null,"F"),i=js(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const u=Jt(...a);return this.qi.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,i).next(_=>{const w=this.Qi(t,f);return this.ji(t,w,u,_.readTime)?this.Ui(e,aD(t,null,"F")):this.zi(e,w,t,_)}))})))}Ki(e,t,i,r){return b1(t)||r.isEqual(bt.min())?this.Gi(e,t):this.qi.getDocuments(e,i).next(a=>{const u=this.Qi(t,a);return this.ji(t,u,i,r)?this.Gi(e,t):(xy()<=wl.in.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),IM(t)),this.zi(e,u,t,X0(r,-1)))})}Qi(e,t){let i=new ri(C1(e));return t.forEach((r,a)=>{aw(e,a)&&(i=i.add(a))}),i}ji(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Gi(e,t){return xy()<=wl.in.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",IM(t)),this.qi.getDocumentsMatchingQuery(e,t,Hs.min())}zi(e,t,i,r){return this.qi.getDocumentsMatchingQuery(e,i,r).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}class B2{constructor(e,t,i,r){this.persistence=e,this.Wi=t,this.serializer=r,this.Hi=new Qn(Ht),this.Ji=new Xu(a=>Im(a),sw),this.Yi=new Map,this.Xi=e.getRemoteDocumentCache(),this.Fs=e.getTargetCache(),this.Ls=e.getBundleCache(),this.Zi(i)}Zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PO(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Hi))}}function LO(n,e,t,i){return new B2(n,e,t,i)}function VO(n,e){return YM.apply(this,arguments)}function YM(){return YM=(0,be.Z)(function*(n,e){const t=Ze(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,t.Zi(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const u=[],f=[];let _=Jt();for(const w of r){u.push(w.batchId);for(const D of w.mutations)_=_.add(D.key)}for(const w of a){f.push(w.batchId);for(const D of w.mutations)_=_.add(D.key)}return t.localDocuments.getDocuments(i,_).next(w=>({tr:w,removedBatchIds:u,addedBatchIds:f}))})})}),YM.apply(this,arguments)}function U2(n,e){const t=Ze(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),a=t.Xi.newChangeBuffer({trackRemovals:!0});return function(u,f,_,w){const D=_.batch,A=D.keys();let F=se.resolve();return A.forEach(B=>{F=F.next(()=>w.getEntry(f,B)).next(Z=>{const ie=_.docVersions.get(B);vt(null!==ie),Z.version.compareTo(ie)<0&&(D.applyToRemoteDocument(Z,_),Z.isValidDocument()&&(Z.setReadTime(_.commitVersion),w.addEntry(Z)))})}),F.next(()=>u.mutationQueue.removeMutationBatch(f,D))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let f=Jt();for(let _=0;_<u.mutationResults.length;++_)u.mutationResults[_].transformResults.length>0&&(f=f.add(u.batch.mutations[_].key));return f}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function BO(n){const e=Ze(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Fs.getLastRemoteSnapshotVersion(t))}function H2(n,e){const t=Ze(n),i=e.snapshotVersion;let r=t.Hi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Xi.newChangeBuffer({trackRemovals:!0});r=t.Hi;const f=[];e.targetChanges.forEach((D,A)=>{const F=r.get(A);if(!F)return;f.push(t.Fs.removeMatchingKeys(a,D.removedDocuments,A).next(()=>t.Fs.addMatchingKeys(a,D.addedDocuments,A)));let B=F.withSequenceNumber(a.currentSequenceNumber);var Z,ie,ye;null!==e.targetMismatches.get(A)?B=B.withResumeToken(g.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):D.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(D.resumeToken,i)),r=r.insert(A,B),ie=B,ye=D,(0===(Z=F).resumeToken.approximateByteSize()||ie.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=3e8||ye.addedDocuments.size+ye.modifiedDocuments.size+ye.removedDocuments.size>0)&&f.push(t.Fs.updateTargetData(a,B))});let _=po(),w=Jt();if(e.documentUpdates.forEach(D=>{e.resolvedLimboDocuments.has(D)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,D))}),f.push(UO(a,u,e.documentUpdates).next(D=>{_=D.er,w=D.nr})),!i.isEqual(bt.min())){const D=t.Fs.getLastRemoteSnapshotVersion(a).next(A=>t.Fs.setTargetsMetadata(a,a.currentSequenceNumber,i));f.push(D)}return se.waitFor(f).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,_,w)).next(()=>_)}).then(a=>(t.Hi=r,a))}function UO(n,e,t){let i=Jt(),r=Jt();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let u=po();return t.forEach((f,_)=>{const w=a.get(f);_.isFoundDocument()!==w.isFoundDocument()&&(r=r.add(f)),_.isNoDocument()&&_.version.isEqual(bt.min())?(e.removeEntry(f,_.readTime),u=u.insert(f,_)):!w.isValidDocument()||_.version.compareTo(w.version)>0||0===_.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(_),u=u.insert(f,_)):Fe("LocalStore","Ignoring outdated watch update for ",f,". Current version:",w.version," Watch version:",_.version)}),{er:u,nr:r}})}function j2(n,e){const t=Ze(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function ev(n,e){const t=Ze(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Fs.getTargetData(i,e).next(a=>a?(r=a,se.resolve(r)):t.Fs.allocateTargetId(i).next(u=>(r=new ed(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Fs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Hi.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Hi=t.Hi.insert(i.targetId,i),t.Ji.set(e,i.targetId)),i})}function tv(n,e,t){return QM.apply(this,arguments)}function QM(){return QM=(0,be.Z)(function*(n,e,t){const i=Ze(n),r=i.Hi.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!Il(u))throw u;Fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.Hi=i.Hi.remove(e),i.Ji.delete(r.target)}),QM.apply(this,arguments)}function ID(n,e,t){const i=Ze(n);let r=bt.min(),a=Jt();return i.persistence.runTransaction("Execute query","readonly",u=>function(f,_,w){const D=Ze(f),A=D.Ji.get(w);return void 0!==A?se.resolve(D.Hi.get(A)):D.Fs.getTargetData(_,w)}(i,u,js(e)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.Fs.getMatchingKeysForTargetId(u,f.targetId).next(_=>{a=_})}).next(()=>i.Wi.getDocumentsMatchingQuery(u,e,t?r:bt.min(),t?a:Jt())).next(f=>($O(i,E1(e),f),{documents:f,sr:a})))}function HO(n,e){const t=Ze(n),i=Ze(t.Fs),r=t.Hi.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",a=>i.he(a,e).next(u=>u?u.target:null))}function jO(n,e){const t=Ze(n),i=t.Yi.get(e)||bt.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Xi.getAllFromCollectionGroup(r,e,X0(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>($O(t,e,r),r))}function $O(n,e,t){let i=n.Yi.get(e)||bt.min();t.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Yi.set(e,i)}function XM(){return XM=(0,be.Z)(function*(n,e,t,i){const r=Ze(n);let a=Jt(),u=po();for(const w of t){const D=e.ir(w.metadata.name);w.document&&(a=a.add(D));const A=e.rr(w);A.setReadTime(e.ur(w.metadata.readTime)),u=u.insert(D,A)}const f=r.Xi.newChangeBuffer({trackRemovals:!0}),_=yield ev(r,(w=i,js(Gy(ln.fromString(`__bundle__/docs/${w}`)))));var w;return r.persistence.runTransaction("Apply bundle documents","readwrite",w=>UO(w,f,u).next(D=>(f.apply(w),D)).next(D=>r.Fs.removeMatchingKeysForTargetId(w,_.targetId).next(()=>r.Fs.addMatchingKeys(w,a,_.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(w,D.er,D.nr)).next(()=>D.er)))}),XM.apply(this,arguments)}function z2(n,e){return JM.apply(this,arguments)}function JM(){return JM=(0,be.Z)(function*(n,e,t=Jt()){const i=yield ev(n,js(LM(e.bundledQuery))),r=Ze(n);return r.persistence.runTransaction("Save named query","readwrite",a=>{const u=zi(e.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.Ls.saveNamedQuery(a,e);const f=i.withResumeToken(g.EMPTY_BYTE_STRING,u);return r.Hi=r.Hi.insert(f.targetId,f),r.Fs.updateTargetData(a,f).next(()=>r.Fs.removeMatchingKeysForTargetId(a,i.targetId)).next(()=>r.Fs.addMatchingKeys(a,t,i.targetId)).next(()=>r.Ls.saveNamedQuery(a,e))})}),JM.apply(this,arguments)}function zO(n,e){return`firestore_clients_${n}_${e}`}function GO(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function ex(n,e){return`firestore_targets_${n}_${e}`}class DD{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static cr(e,t,i){const r=JSON.parse(i);let a,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(a=new Me(r.error.code,r.error.message))),u?new DD(e,t,r.state,a):(mi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Dw{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static cr(e,t){const i=JSON.parse(t);let r,a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new Me(i.error.code,i.error.message))),a?new Dw(e,i.state,r):(mi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class TD{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static cr(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,a=DM();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=aM(i.activeTargetIds[u]),a=a.add(i.activeTargetIds[u]);return r?new TD(e,a):(mi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class tx{constructor(e,t){this.clientId=e,this.onlineState=t}static cr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new tx(t.clientId,t.onlineState):(mi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class nx{constructor(){this.activeTargetIds=DM()}hr(e){this.activeTargetIds=this.activeTargetIds.add(e)}lr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ar(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ix{constructor(e,t,i,r,a){this.window=e,this.si=t,this.persistenceKey=i,this.dr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.wr.bind(this),this.mr=new Qn(Ht),this.started=!1,this.gr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.yr=zO(this.persistenceKey,this.dr),this.pr=`firestore_sequence_number_${this.persistenceKey}`,this.mr=this.mr.insert(this.dr,new nx),this.Ir=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.Tr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.Er=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.Ar=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,be.Z)(function*(){const t=yield e.syncEngine.Mi();for(const r of t){if(r===e.dr)continue;const a=e.getItem(zO(e.persistenceKey,r));if(a){const u=TD.cr(r,a);u&&(e.mr=e.mr.insert(u.clientId,u))}}e.vr();const i=e.storage.getItem(e.Ar);if(i){const r=e.Pr(i);r&&e.br(r)}for(const r of e.gr)e.wr(r);e.gr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.pr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Vr(this.mr)}isActiveQueryTarget(e){let t=!1;return this.mr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Sr(e,"pending")}updateMutationState(e,t,i){this.Sr(e,t,i),this.Dr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(ex(this.persistenceKey,e));if(i){const r=Dw.cr(e,i);r&&(t=r.state)}}return this.Cr.hr(e),this.vr(),t}removeLocalQueryTarget(e){this.Cr.lr(e),this.vr()}isLocalQueryTarget(e){return this.Cr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ex(this.persistenceKey,e))}updateQueryState(e,t,i){this.Nr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Dr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.kr(e)}notifyBundleLoaded(e){this.Mr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.yr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Fe("SharedClientState","READ",e,t),t}setItem(e,t){Fe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Fe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}wr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Fe("SharedClientState","EVENT",i.key,i.newValue),i.key===this.yr)return void mi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,be.Z)(function*(){if(t.started){if(null!==i.key)if(t.Ir.test(i.key)){if(null==i.newValue){const r=t.Or(i.key);return t.$r(r,null)}{const r=t.Fr(i.key,i.newValue);if(r)return t.$r(r.clientId,r)}}else if(t.Tr.test(i.key)){if(null!==i.newValue){const r=t.Br(i.key,i.newValue);if(r)return t.Lr(r)}}else if(t.Er.test(i.key)){if(null!==i.newValue){const r=t.qr(i.key,i.newValue);if(r)return t.Ur(r)}}else if(i.key===t.Ar){if(null!==i.newValue){const r=t.Pr(i.newValue);if(r)return t.br(r)}}else if(i.key===t.pr){const r=function(a){let u=Xr.ct;if(null!=a)try{const f=JSON.parse(a);vt("number"==typeof f),u=f}catch(f){mi("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(i.newValue);r!==Xr.ct&&t.sequenceNumberHandler(r)}else if(i.key===t.Rr){const r=t.Kr(i.newValue);yield Promise.all(r.map(a=>t.syncEngine.Gr(a)))}}else t.gr.push(i)}))}}get Cr(){return this.mr.get(this.dr)}vr(){this.setItem(this.yr,this.Cr.ar())}Sr(e,t,i){const r=new DD(this.currentUser,e,t,i),a=GO(this.persistenceKey,this.currentUser,e);this.setItem(a,r.ar())}Dr(e){const t=GO(this.persistenceKey,this.currentUser,e);this.removeItem(t)}kr(e){this.storage.setItem(this.Ar,JSON.stringify({clientId:this.dr,onlineState:e}))}Nr(e,t,i){const r=ex(this.persistenceKey,e),a=new Dw(e,t,i);this.setItem(r,a.ar())}Mr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Ir.exec(e);return t?t[1]:null}Fr(e,t){const i=this.Or(e);return TD.cr(i,t)}Br(e,t){const i=this.Tr.exec(e),r=Number(i[1]);return DD.cr(new tr(void 0!==i[2]?i[2]:null),r,t)}qr(e,t){const i=this.Er.exec(e),r=Number(i[1]);return Dw.cr(r,t)}Pr(e){return tx.cr(e)}Kr(e){return JSON.parse(e)}Lr(e){var t=this;return(0,be.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Qr(e.batchId,e.state,e.error);Fe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Ur(e){return this.syncEngine.jr(e.targetId,e.state,e.error)}$r(e,t){const i=t?this.mr.insert(e,t):this.mr.remove(e),r=this.Vr(this.mr),a=this.Vr(i),u=[],f=[];return a.forEach(_=>{r.has(_)||u.push(_)}),r.forEach(_=>{a.has(_)||f.push(_)}),this.syncEngine.zr(u,f).then(()=>{this.mr=i})}br(e){this.mr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Vr(e){let t=DM();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class qO{constructor(){this.Wr=new nx,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}updateQueryState(e,t,i){this.Hr[e]=t}removeLocalQueryTarget(e){this.Wr.lr(e)}isLocalQueryTarget(e){return this.Wr.activeTargetIds.has(e)}clearQueryState(e){delete this.Hr[e]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(e){return this.Wr.activeTargetIds.has(e)}start(){return this.Wr=new nx,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class G2{Jr(e){}shutdown(){}}class ZO{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(e){this.no.push(e)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.no)e(0)}eo(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.no)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let SD=null;function rx(){return null===SD?SD=268435456+Math.round(2147483648*Math.random()):SD++,"0x"+SD.toString(16)}const q2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Z2{constructor(e){this.io=e.io,this.ro=e.ro}oo(e){this.uo=e}co(e){this.ao=e}onMessage(e){this.ho=e}close(){this.ro()}send(e){this.io(e)}lo(){this.uo()}fo(e){this.ao(e)}_o(e){this.ho(e)}}const Is="WebChannelConnection";class W2 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.wo=(e.ssl?"https":"http")+"://"+e.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(e,t,i,r,a){const u=rx(),f=this.Io(e,t);Fe("RestConnection",`Sending RPC '${e}' ${u}:`,f,i);const _={};return this.To(_,r,a),this.Eo(e,f,_,i).then(w=>(Fe("RestConnection",`Received RPC '${e}' ${u}: `,w),w),w=>{throw Us("RestConnection",`RPC '${e}' ${u} failed with error: `,w,"url: ",f,"request:",i),w})}Ao(e,t,i,r,a,u){return this.po(e,t,i,r,a)}To(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Hh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,a)=>e[a]=r),i&&i.headers.forEach((r,a)=>e[a]=r)}Io(e,t){return`${this.wo}/v1/${t}:${q2[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Eo(e,t,i,r){const a=rx();return new Promise((u,f)=>{const _=new KA;_.setWithCredentials(!0),_.listenOnce($I.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Ay.NO_ERROR:const D=_.getResponseJson();Fe(Is,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(D)),u(D);break;case Ay.TIMEOUT:Fe(Is,`RPC '${e}' ${a} timed out`),f(new Me(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Ay.HTTP_ERROR:const A=_.getStatus();if(Fe(Is,`RPC '${e}' ${a} failed with status:`,A,"response text:",_.getResponseText()),A>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const B=F?.error;if(B&&B.status&&B.message){const Z=function(ie){const ye=ie.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(ye)>=0?ye:ce.UNKNOWN}(B.status);f(new Me(Z,B.message))}else f(new Me(ce.UNKNOWN,"Server responded with status "+_.getStatus()))}else f(new Me(ce.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{Fe(Is,`RPC '${e}' ${a} completed.`)}});const w=JSON.stringify(r);Fe(Is,`RPC '${e}' ${a} sending request:`,r),_.send(t,"POST",w,i,15)})}Ro(e,t,i){const r=rx(),a=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Wk(),f=ZA(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(_.xmlHttpFactory=new WA({})),this.To(_.initMessageHeaders,t,i),_.encodeInitMessageHeaders=!0;const w=a.join("");Fe(Is,`Creating RPC '${e}' stream ${r}: ${w}`,_);const D=u.createWebChannel(w,_);let A=!1,F=!1;const B=new Z2({io:ie=>{F?Fe(Is,`Not sending because RPC '${e}' stream ${r} is closed:`,ie):(A||(Fe(Is,`Opening RPC '${e}' stream ${r} transport.`),D.open(),A=!0),Fe(Is,`RPC '${e}' stream ${r} sending:`,ie),D.send(ie))},ro:()=>D.close()}),Z=(ie,ye,$e)=>{ie.listen(ye,st=>{try{$e(st)}catch(Je){setTimeout(()=>{throw Je},0)}})};return Z(D,Bh.EventType.OPEN,()=>{F||Fe(Is,`RPC '${e}' stream ${r} transport opened.`)}),Z(D,Bh.EventType.CLOSE,()=>{F||(F=!0,Fe(Is,`RPC '${e}' stream ${r} transport closed`),B.fo())}),Z(D,Bh.EventType.ERROR,ie=>{F||(F=!0,Us(Is,`RPC '${e}' stream ${r} transport errored:`,ie),B.fo(new Me(ce.UNAVAILABLE,"The operation could not be completed")))}),Z(D,Bh.EventType.MESSAGE,ie=>{var ye;if(!F){const $e=ie.data[0];vt(!!$e);const st=$e,Je=st.error||(null===(ye=st[0])||void 0===ye?void 0:ye.error);if(Je){Fe(Is,`RPC '${e}' stream ${r} received error:`,Je);const It=Je.status;let jt=function(An){const Or=nr[An];if(void 0!==Or)return H1(Or)}(It),qt=Je.message;void 0===jt&&(jt=ce.INTERNAL,qt="Unknown error status: "+It+" with message "+Je.message),F=!0,B.fo(new Me(jt,qt)),D.close()}else Fe(Is,`RPC '${e}' stream ${r} received:`,$e),B._o($e)}}),Z(f,Kk.STAT_EVENT,ie=>{ie.stat===ho.PROXY?Fe(Is,`RPC '${e}' stream ${r} detected buffering proxy`):ie.stat===ho.NOPROXY&&Fe(Is,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{B.lo()},0),B}}function WO(){return typeof window<"u"?window:null}function AD(){return typeof document<"u"?document:null}function Tw(n){return new r2(n,!0)}class sx{constructor(e,t,i=1e3,r=1.5,a=6e4){this.si=e,this.timerId=t,this.vo=i,this.Po=r,this.bo=a,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();const t=Math.floor(this.Vo+this.No()),i=Math.max(0,Date.now()-this.Do),r=Math.max(0,t-i);r>0&&Fe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Vo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Do=Date.now(),e())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){null!==this.So&&(this.So.skipDelay(),this.So=null)}cancel(){null!==this.So&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}class KO{constructor(e,t,i,r,a,u,f,_){this.si=e,this.Mo=i,this.Oo=r,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new sx(e,t)}qo(){return 1===this.state||5===this.state||this.Uo()}Uo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Ko()}stop(){var e=this;return(0,be.Z)(function*(){e.qo()&&(yield e.close(0))})()}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(e){this.Wo(),this.stream.send(e)}jo(){var e=this;return(0,be.Z)(function*(){if(e.Uo())return e.close(0)})()}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}close(e,t){var i=this;return(0,be.Z)(function*(){i.Wo(),i.Ho(),i.Lo.cancel(),i.$o++,4!==e?i.Lo.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(mi(t.toString()),mi("Using maximum backoff delay to prevent overloading the backend."),i.Lo.Co()):t&&t.code===ce.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Jo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.co(t)})()}Jo(){}auth(){this.state=1;const e=this.Yo(this.$o),t=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.$o===t&&this.Xo(i,r)},i=>{e(()=>{const r=new Me(ce.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Zo(r)})})}Xo(e,t){const i=this.Yo(this.$o);this.stream=this.tu(e,t),this.stream.oo(()=>{i(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(r=>{i(()=>this.Zo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Ko(){var e=this;this.state=5,this.Lo.xo((0,be.Z)(function*(){e.state=0,e.start()}))}Zo(e){return Fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Yo(e){return t=>{this.si.enqueueAndForget(()=>this.$o===e?t():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class K2 extends KO{constructor(e,t,i,r,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,u),this.serializer=a}tu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.Lo.reset();const t=function a2(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:rt(),r=e.targetChange.targetIds||[],a=function(_,w){return _.useProto3Json?(vt(void 0===w||"string"==typeof w),g.fromBase64String(w||"")):(vt(void 0===w||w instanceof Uint8Array),g.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(_){const w=void 0===_.code?ce.UNKNOWN:H1(_.code);return new Me(w,_.message||"")}(u);t=new q1(i,r,a,f||null)}else if("documentChange"in e){const i=e.documentChange,r=Pc(n,i.document.name),a=zi(i.document.updateTime),u=i.document.createTime?zi(i.document.createTime):bt.min(),f=new es({mapValue:{fields:i.document.fields}}),_=ai.newFoundDocument(r,a,u,f);t=new hD(i.targetIds||[],i.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const i=e.documentDelete,r=Pc(n,i.document),a=i.readTime?zi(i.readTime):bt.min(),u=ai.newNoDocument(r,a);t=new hD([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const i=e.documentRemove,r=Pc(n,i.document);t=new hD([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return rt();{const i=e.filter,{count:r=0,unchangedNames:a}=i,u=new QL(r,a);t=new G1(i.targetId,u)}}var _;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return bt.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?bt.min():a.readTime?zi(a.readTime):bt.min()}(e);return this.listener.eu(t,i)}nu(e){const t={};t.database=gw(this.serializer),t.addTarget=function(r,a){let u;const f=a.target;if(u=rD(f)?{documents:nO(r,f)}:{query:FM(r,f)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){u.resumeToken=Y1(r,a.resumeToken);const _=kM(r,a.expectedCount);null!==_&&(u.expectedCount=_)}else if(a.snapshotVersion.compareTo(bt.min())>0){u.readTime=Yy(r,a.snapshotVersion.toTimestamp());const _=kM(r,a.expectedCount);null!==_&&(u.expectedCount=_)}return u}(this.serializer,e);const i=function c2(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return rt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.zo(t)}su(e){const t={};t.database=gw(this.serializer),t.removeTarget=e,this.zo(t)}}class Y2 extends KO{constructor(e,t,i,r,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,u),this.serializer=a,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(vt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();const t=function l2(n,e){return n&&n.length>0?(vt(void 0!==e),n.map(t=>function(i,r){let a=zi(i.updateTime?i.updateTime:r);return a.isEqual(bt.min())&&(a=zi(r)),new ZL(a,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=zi(e.commitTime);return this.listener.uu(i,t)}return vt(!e.writeResults||0===e.writeResults.length),this.iu=!0,this.listener.cu()}au(){const e={};e.database=gw(this.serializer),this.zo(e)}ou(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>_w(this.serializer,i))};this.zo(t)}}class Q2 extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.hu=!1}lu(){if(this.hu)throw new Me(ce.FAILED_PRECONDITION,"The client has already been terminated.")}po(e,t,i){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.po(e,t,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Me(ce.UNKNOWN,r.toString())})}Ao(e,t,i,r){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Ao(e,t,i,a,u,r)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Me(ce.UNKNOWN,a.toString())})}terminate(){this.hu=!0}}class J2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(e){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.gu("Offline")))}set(e){this.Iu(),this.du=0,"Online"===e&&(this.wu=!1),this.gu(e)}gu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}yu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(mi(t),this.wu=!1):Fe("OnlineStateTracker",t)}Iu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class eV{constructor(e,t,i,r,a){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=a,this.vu.Jr(f=>{i.enqueueAndForget((0,be.Z)(function*(){var _;Yh(u)&&(Fe("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,be.Z)(function*(w){const D=Ze(w);D.Au.add(4),yield nv(D),D.Pu.set("Unknown"),D.Au.delete(4),yield Sw(D)}),function(w){return _.apply(this,arguments)})(u))}))}),this.Pu=new J2(i,r)}}function Sw(n){return ax.apply(this,arguments)}function ax(){return ax=(0,be.Z)(function*(n){if(Yh(n))for(const e of n.Ru)yield e(!0)}),ax.apply(this,arguments)}function nv(n){return lx.apply(this,arguments)}function lx(){return lx=(0,be.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),lx.apply(this,arguments)}function MD(n,e){const t=Ze(n);t.Eu.has(e.targetId)||(t.Eu.set(e.targetId,e),dx(t)?ux(t):rv(t).Uo()&&cx(t,e))}function Aw(n,e){const t=Ze(n),i=rv(t);t.Eu.delete(e),i.Uo()&&YO(t,e),0===t.Eu.size&&(i.Uo()?i.Qo():Yh(t)&&t.Pu.set("Unknown"))}function cx(n,e){if(n.bu.Lt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(bt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}rv(n).nu(e)}function YO(n,e){n.bu.Lt(e),rv(n).su(e)}function ux(n){n.bu=new JL({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),he:e=>n.Eu.get(e)||null,oe:()=>n.datastore.serializer.databaseId}),rv(n).start(),n.Pu.mu()}function dx(n){return Yh(n)&&!rv(n).qo()&&n.Eu.size>0}function Yh(n){return 0===Ze(n).Au.size}function QO(n){n.bu=void 0}function tV(n){return hx.apply(this,arguments)}function hx(){return hx=(0,be.Z)(function*(n){n.Eu.forEach((e,t)=>{cx(n,e)})}),hx.apply(this,arguments)}function nV(n,e){return fx.apply(this,arguments)}function fx(){return fx=(0,be.Z)(function*(n,e){QO(n),dx(n)?(n.Pu.pu(e),ux(n)):n.Pu.set("Unknown")}),fx.apply(this,arguments)}function iV(n,e,t){return px.apply(this,arguments)}function px(){return px=(0,be.Z)(function*(n,e,t){if(n.Pu.set("Online"),e instanceof q1&&2===e.state&&e.cause)try{yield(i=(0,be.Z)(function*(r,a){const u=a.cause;for(const f of a.targetIds)r.Eu.has(f)&&(yield r.remoteSyncer.rejectListen(f,u),r.Eu.delete(f),r.bu.removeTarget(f))}),function(r,a){return i.apply(this,arguments)})(n,e)}catch(i){Fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield xD(n,i)}else if(e instanceof hD?n.bu.Wt(e):e instanceof G1?n.bu.ee(e):n.bu.Yt(e),!t.isEqual(bt.min()))try{const i=yield BO(n.localStore);t.compareTo(i)>=0&&(yield function(r,a){const u=r.bu.ue(a);return u.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const w=r.Eu.get(_);w&&r.Eu.set(_,w.withResumeToken(f.resumeToken,a))}}),u.targetMismatches.forEach((f,_)=>{const w=r.Eu.get(f);if(!w)return;r.Eu.set(f,w.withResumeToken(g.EMPTY_BYTE_STRING,w.snapshotVersion)),YO(r,f);const D=new ed(w.target,f,_,w.sequenceNumber);cx(r,D)}),r.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(i){Fe("RemoteStore","Failed to raise snapshot:",i),yield xD(n,i)}var i}),px.apply(this,arguments)}function xD(n,e,t){return mx.apply(this,arguments)}function mx(){return mx=(0,be.Z)(function*(n,e,t){if(!Il(e))throw e;n.Au.add(1),yield nv(n),n.Pu.set("Offline"),t||(t=()=>BO(n.localStore)),n.asyncQueue.enqueueRetryable((0,be.Z)(function*(){Fe("RemoteStore","Retrying IndexedDB access"),yield t(),n.Au.delete(1),yield Sw(n)}))}),mx.apply(this,arguments)}function XO(n,e){return e().catch(t=>xD(n,t,e))}function iv(n){return gx.apply(this,arguments)}function gx(){return gx=(0,be.Z)(function*(n){const e=Ze(n),t=Qh(e);let i=e.Tu.length>0?e.Tu[e.Tu.length-1].batchId:-1;for(;rV(e);)try{const r=yield j2(e.localStore,i);if(null===r){0===e.Tu.length&&t.Qo();break}i=r.batchId,sV(e,r)}catch(r){yield xD(e,r)}JO(e)&&eP(e)}),gx.apply(this,arguments)}function rV(n){return Yh(n)&&n.Tu.length<10}function sV(n,e){n.Tu.push(e);const t=Qh(n);t.Uo()&&t.ru&&t.ou(e.mutations)}function JO(n){return Yh(n)&&!Qh(n).qo()&&n.Tu.length>0}function eP(n){Qh(n).start()}function oV(n){return _x.apply(this,arguments)}function _x(){return _x=(0,be.Z)(function*(n){Qh(n).au()}),_x.apply(this,arguments)}function aV(n){return yx.apply(this,arguments)}function yx(){return yx=(0,be.Z)(function*(n){const e=Qh(n);for(const t of n.Tu)e.ou(t.mutations)}),yx.apply(this,arguments)}function lV(n,e,t){return vx.apply(this,arguments)}function vx(){return vx=(0,be.Z)(function*(n,e,t){const i=n.Tu.shift(),r=AM.from(i,e,t);yield XO(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield iv(n)}),vx.apply(this,arguments)}function cV(n,e){return bx.apply(this,arguments)}function bx(){return bx=(0,be.Z)(function*(n,e){var t;e&&Qh(n).ru&&(yield(t=(0,be.Z)(function*(i,r){if(U1(a=r.code)&&a!==ce.ABORTED){const u=i.Tu.shift();Qh(i).Go(),yield XO(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield iv(i)}var a}),function(i,r){return t.apply(this,arguments)})(n,e)),JO(n)&&eP(n)}),bx.apply(this,arguments)}function tP(n,e){return wx.apply(this,arguments)}function wx(){return wx=(0,be.Z)(function*(n,e){const t=Ze(n);t.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");const i=Yh(t);t.Au.add(3),yield nv(t),i&&t.Pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Au.delete(3),yield Sw(t)}),wx.apply(this,arguments)}function Ex(n,e){return Cx.apply(this,arguments)}function Cx(){return Cx=(0,be.Z)(function*(n,e){const t=Ze(n);e?(t.Au.delete(2),yield Sw(t)):e||(t.Au.add(2),yield nv(t),t.Pu.set("Unknown"))}),Cx.apply(this,arguments)}function rv(n){return n.Vu||(n.Vu=function(e,t,i){const r=Ze(e);return r.lu(),new K2(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{oo:tV.bind(null,n),co:nV.bind(null,n),eu:iV.bind(null,n)}),n.Ru.push(function(){var e=(0,be.Z)(function*(t){t?(n.Vu.Go(),dx(n)?ux(n):n.Pu.set("Unknown")):(yield n.Vu.stop(),QO(n))});return function(t){return e.apply(this,arguments)}}())),n.Vu}function Qh(n){return n.Su||(n.Su=function(e,t,i){const r=Ze(e);return r.lu(),new Y2(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{oo:oV.bind(null,n),co:cV.bind(null,n),cu:aV.bind(null,n),uu:lV.bind(null,n)}),n.Ru.push(function(){var e=(0,be.Z)(function*(t){t?(n.Su.Go(),yield iv(n)):(yield n.Su.stop(),n.Tu.length>0&&(Fe("RemoteStore",`Stopping write stream with ${n.Tu.length} pending writes`),n.Tu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Su}class Ix{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new Fn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,i,r,a){const u=Date.now()+i,f=new Ix(e,t,u,r,a);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Me(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sv(n,e){if(mi("AsyncQueue",`${e}: ${n}`),Il(n))return new Me(ce.UNAVAILABLE,`${e}: ${n}`);throw n}class ov{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ye.comparator(t.key,i.key):(t,i)=>Ye.comparator(t.key,i.key),this.keyedMap=lw(),this.sortedSet=new Qn(this.comparator)}static emptySet(e){return new ov(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ov)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new ov;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class nP{constructor(){this.Du=new Qn(Ye.comparator)}track(e){const t=e.doc.key,i=this.Du.get(t);i?0!==e.type&&3===i.type?this.Du=this.Du.insert(t,e):3===e.type&&1!==i.type?this.Du=this.Du.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Du=this.Du.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Du=this.Du.remove(t):1===e.type&&2===i.type?this.Du=this.Du.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):rt():this.Du=this.Du.insert(t,e)}Cu(){const e=[];return this.Du.inorderTraversal((t,i)=>{e.push(i)}),e}}class av{constructor(e,t,i,r,a,u,f,_,w){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=_,this.hasCachedResults=w}static fromInitialDocuments(e,t,i,r,a){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new av(e,t,ov.emptySet(t),u,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ow(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class uV{constructor(){this.xu=void 0,this.listeners=[]}}class dV{constructor(){this.queries=new Xu(e=>w1(e),ow),this.onlineState="Unknown",this.Nu=new Set}}function Dx(n,e){return Tx.apply(this,arguments)}function Tx(){return Tx=(0,be.Z)(function*(n,e){const t=Ze(n),i=e.query;let r=!1,a=t.queries.get(i);if(a||(r=!0,a=new uV),r)try{a.xu=yield t.onListen(i)}catch(u){const f=sv(u,`Initialization of query '${IM(e.query)}' failed`);return void e.onError(f)}t.queries.set(i,a),a.listeners.push(e),e.ku(t.onlineState),a.xu&&e.Mu(a.xu)&&Mx(t)}),Tx.apply(this,arguments)}function Sx(n,e){return Ax.apply(this,arguments)}function Ax(){return Ax=(0,be.Z)(function*(n,e){const t=Ze(n),i=e.query;let r=!1;const a=t.queries.get(i);if(a){const u=a.listeners.indexOf(e);u>=0&&(a.listeners.splice(u,1),r=0===a.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),Ax.apply(this,arguments)}function hV(n,e){const t=Ze(n);let i=!1;for(const r of e){const u=t.queries.get(r.query);if(u){for(const f of u.listeners)f.Mu(r)&&(i=!0);u.xu=r}}i&&Mx(t)}function fV(n,e,t){const i=Ze(n),r=i.queries.get(e);if(r)for(const a of r.listeners)a.onError(t);i.queries.delete(e)}function Mx(n){n.Nu.forEach(e=>{e.next()})}class xx{constructor(e,t,i){this.query=e,this.Ou=t,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=i||{}}Mu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new av(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),t=!0):this.Lu(e,this.onlineState)&&(this.qu(e),t=!0),this.Fu=e,t}onError(e){this.Ou.error(e)}ku(e){this.onlineState=e;let t=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),t=!0),t}Lu(e,t){return!e.fromCache||(!this.options.Uu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Bu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}qu(e){e=av.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}class pV{constructor(e,t){this.Ku=e,this.byteLength=t}Gu(){return"metadata"in this.Ku}}class iP{constructor(e){this.serializer=e}ir(e){return Pc(this.serializer,e)}rr(e){return e.metadata.exists?tO(this.serializer,e.document,!1):ai.newNoDocument(this.ir(e.metadata.name),this.ur(e.metadata.readTime))}ur(e){return zi(e)}}class mV{constructor(e,t,i){this.Qu=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=rP(e)}ju(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ku.namedQuery)this.queries.push(e.Ku.namedQuery);else if(e.Ku.documentMetadata){this.documents.push({metadata:e.Ku.documentMetadata}),e.Ku.documentMetadata.exists||++t;const i=ln.fromString(e.Ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Ku.document&&(this.documents[this.documents.length-1].document=e.Ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}zu(e){const t=new Map,i=new iP(this.serializer);for(const r of e)if(r.metadata.queries){const a=i.ir(r.metadata.name);for(const u of r.metadata.queries){const f=(t.get(u)||Jt()).add(a);t.set(u,f)}}return t}complete(){var e=this;return(0,be.Z)(function*(){const t=yield function $2(n,e,t,i){return XM.apply(this,arguments)}(e.localStore,new iP(e.serializer),e.documents,e.Qu.id),i=e.zu(e.documents);for(const r of e.queries)yield z2(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Wu:e.collectionGroups,Hu:t}})()}}function rP(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class sP{constructor(e){this.key=e}}class oP{constructor(e){this.key=e}}class aP{constructor(e,t){this.query=e,this.Ju=t,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=Jt(),this.mutatedKeys=Jt(),this.Zu=C1(e),this.tc=new ov(this.Zu)}get ec(){return this.Ju}nc(e,t){const i=t?t.sc:new nP,r=t?t.tc:this.tc;let a=t?t.mutatedKeys:this.mutatedKeys,u=r,f=!1;const _="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,w="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((D,A)=>{const F=r.get(D),B=aw(this.query,A)?A:null,Z=!!F&&this.mutatedKeys.has(F.key),ie=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let ye=!1;F&&B?F.data.isEqual(B.data)?Z!==ie&&(i.track({type:3,doc:B}),ye=!0):this.ic(F,B)||(i.track({type:2,doc:B}),ye=!0,(_&&this.Zu(B,_)>0||w&&this.Zu(B,w)<0)&&(f=!0)):!F&&B?(i.track({type:0,doc:B}),ye=!0):F&&!B&&(i.track({type:1,doc:F}),ye=!0,(_||w)&&(f=!0)),ye&&(B?(u=u.add(B),a=ie?a.add(D):a.delete(D)):(u=u.delete(D),a=a.delete(D)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const D="F"===this.query.limitType?u.last():u.first();u=u.delete(D.key),a=a.delete(D.key),i.track({type:1,doc:D})}return{tc:u,sc:i,ji:f,mutatedKeys:a}}ic(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;const a=e.sc.Cu();a.sort((w,D)=>function(A,F){const B=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return B(A)-B(F)}(w.type,D.type)||this.Zu(w.doc,D.doc)),this.rc(i);const u=t?this.oc():[],f=0===this.Xu.size&&this.current?1:0,_=f!==this.Yu;return this.Yu=f,0!==a.length||_?{snapshot:new av(this.query,e.tc,r,a,e.mutatedKeys,0===f,_,!1,!!i&&i.resumeToken.approximateByteSize()>0),uc:u}:{uc:u}}ku(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tc:this.tc,sc:new nP,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}rc(e){e&&(e.addedDocuments.forEach(t=>this.Ju=this.Ju.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ju=this.Ju.delete(t)),this.current=e.current)}oc(){if(!this.current)return[];const e=this.Xu;this.Xu=Jt(),this.tc.forEach(i=>{this.cc(i.key)&&(this.Xu=this.Xu.add(i.key))});const t=[];return e.forEach(i=>{this.Xu.has(i)||t.push(new oP(i))}),this.Xu.forEach(i=>{e.has(i)||t.push(new sP(i))}),t}ac(e){this.Ju=e.sr,this.Xu=Jt();const t=this.nc(e.documents);return this.applyChanges(t,!0)}hc(){return av.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}class gV{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class _V{constructor(e){this.key=e,this.lc=!1}}class yV{constructor(e,t,i,r,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.fc={},this.dc=new Xu(f=>w1(f),ow),this._c=new Map,this.wc=new Set,this.mc=new Qn(Ye.comparator),this.gc=new Map,this.yc=new zM,this.Ic={},this.Tc=new Map,this.Ec=Om.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return!0===this.Ac}}function vV(n,e){return Rx.apply(this,arguments)}function Rx(){return Rx=(0,be.Z)(function*(n,e){const t=eR(n);let i,r;const a=t.dc.get(e);if(a)i=a.targetId,t.sharedClientState.addLocalQueryTarget(i),r=a.view.hc();else{const u=yield ev(t.localStore,js(e)),f=t.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield kx(t,e,i,"current"===f,u.resumeToken),t.isPrimaryClient&&MD(t.remoteStore,u)}return r}),Rx.apply(this,arguments)}function kx(n,e,t,i,r){return Ox.apply(this,arguments)}function Ox(){return Ox=(0,be.Z)(function*(n,e,t,i,r){n.Rc=(A,F,B)=>{return(Z=(0,be.Z)(function*(ie,ye,$e,st){let Je=ye.view.nc($e);Je.ji&&(Je=yield ID(ie.localStore,ye.query,!1).then(({documents:qt})=>ye.view.nc(qt,Je)));const It=st&&st.targetChanges.get(ye.targetId),jt=ye.view.applyChanges(Je,ie.isPrimaryClient,It);return $x(ie,ye.targetId,jt.uc),jt.snapshot}),function(ie,ye,$e,st){return Z.apply(this,arguments)})(n,A,F,B);var Z};const a=yield ID(n.localStore,e,!0),u=new aP(e,a.sr),f=u.nc(a.documents),_=pw.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),w=u.applyChanges(f,n.isPrimaryClient,_);$x(n,t,w.uc);const D=new gV(e,t,u);return n.dc.set(e,D),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),w.snapshot}),Ox.apply(this,arguments)}function bV(n,e){return Px.apply(this,arguments)}function Px(){return Px=(0,be.Z)(function*(n,e){const t=Ze(n),i=t.dc.get(e),r=t._c.get(i.targetId);if(r.length>1)return t._c.set(i.targetId,r.filter(a=>!ow(a,e))),void t.dc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield tv(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Aw(t.remoteStore,i.targetId),lv(t,i.targetId)}).catch(qu))):(lv(t,i.targetId),yield tv(t.localStore,i.targetId,!0))}),Px.apply(this,arguments)}function Nx(){return Nx=(0,be.Z)(function*(n,e,t){const i=tR(n);try{const r=yield function(a,u){const f=Ze(a),_=Kn.now(),w=u.reduce((F,B)=>F.add(B.key),Jt());let D,A;return f.persistence.runTransaction("Locally write mutations","readwrite",F=>{let B=po(),Z=Jt();return f.Xi.getEntries(F,w).next(ie=>{B=ie,B.forEach((ye,$e)=>{$e.isValidDocument()||(Z=Z.add(ye))})}).next(()=>f.localDocuments.getOverlayedDocuments(F,B)).next(ie=>{D=ie;const ye=[];for(const $e of u){const st=KL($e,D.get($e.key).overlayedDocument);null!=st&&ye.push(new Ju($e.key,st,a1(st.value.mapValue),gi.exists(!0)))}return f.mutationQueue.addMutationBatch(F,_,ye,u)}).next(ie=>{A=ie;const ye=ie.applyToLocalDocumentSet(D,Z);return f.documentOverlayCache.saveOverlays(F,ie.batchId,ye)})}).then(()=>({batchId:A.batchId,changes:D1(D)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,u,f){let _=a.Ic[a.currentUser.toKey()];_||(_=new Qn(Ht)),_=_.insert(u,f),a.Ic[a.currentUser.toKey()]=_}(i,r.batchId,t),yield td(i,r.changes),yield iv(i.remoteStore)}catch(r){const a=sv(r,"Failed to persist write");t.reject(a)}}),Nx.apply(this,arguments)}function lP(n,e){return Fx.apply(this,arguments)}function Fx(){return Fx=(0,be.Z)(function*(n,e){const t=Ze(n);try{const i=yield H2(t.localStore,e);e.targetChanges.forEach((r,a)=>{const u=t.gc.get(a);u&&(vt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.lc=!0:r.modifiedDocuments.size>0?vt(u.lc):r.removedDocuments.size>0&&(vt(u.lc),u.lc=!1))}),yield td(t,i,e)}catch(i){yield qu(i)}}),Fx.apply(this,arguments)}function cP(n,e,t){const i=Ze(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.dc.forEach((a,u)=>{const f=u.view.ku(e);f.snapshot&&r.push(f.snapshot)}),function(a,u){const f=Ze(a);f.onlineState=u;let _=!1;f.queries.forEach((w,D)=>{for(const A of D.listeners)A.ku(u)&&(_=!0)}),_&&Mx(f)}(i.eventManager,e),r.length&&i.fc.eu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function EV(n,e,t){return Lx.apply(this,arguments)}function Lx(){return Lx=(0,be.Z)(function*(n,e,t){const i=Ze(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.gc.get(e),a=r&&r.key;if(a){let u=new Qn(Ye.comparator);u=u.insert(a,ai.newNoDocument(a,bt.min()));const f=Jt().add(a),_=new fw(bt.min(),new Map,new Qn(Ht),u,f);yield lP(i,_),i.mc=i.mc.remove(a),i.gc.delete(e),zx(i)}else yield tv(i.localStore,e,!1).then(()=>lv(i,e,t)).catch(qu)}),Lx.apply(this,arguments)}function CV(n,e){return Vx.apply(this,arguments)}function Vx(){return Vx=(0,be.Z)(function*(n,e){const t=Ze(n),i=e.batch.batchId;try{const r=yield U2(t.localStore,e);jx(t,i,null),Hx(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield td(t,r)}catch(r){yield qu(r)}}),Vx.apply(this,arguments)}function IV(n,e,t){return Bx.apply(this,arguments)}function Bx(){return Bx=(0,be.Z)(function*(n,e,t){const i=Ze(n);try{const r=yield function(a,u){const f=Ze(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return f.mutationQueue.lookupMutationBatch(_,u).next(D=>(vt(null!==D),w=D.keys(),f.mutationQueue.removeMutationBatch(_,D))).next(()=>f.mutationQueue.performConsistencyCheck(_)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(_,w,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w)).next(()=>f.localDocuments.getDocuments(_,w))})}(i.localStore,e);jx(i,e,t),Hx(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield td(i,r)}catch(r){yield qu(r)}}),Bx.apply(this,arguments)}function Ux(){return Ux=(0,be.Z)(function*(n,e){const t=Ze(n);Yh(t.remoteStore)||Fe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(a){const u=Ze(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===i)return void e.resolve();const r=t.Tc.get(i)||[];r.push(e),t.Tc.set(i,r)}catch(i){const r=sv(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),Ux.apply(this,arguments)}function Hx(n,e){(n.Tc.get(e)||[]).forEach(t=>{t.resolve()}),n.Tc.delete(e)}function jx(n,e,t){const i=Ze(n);let r=i.Ic[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.Ic[i.currentUser.toKey()]=r}}function lv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.dc.delete(i),t&&n.fc.vc(i,t);n._c.delete(e),n.isPrimaryClient&&n.yc.ps(e).forEach(i=>{n.yc.containsKey(i)||uP(n,i)})}function uP(n,e){n.wc.delete(e.path.canonicalString());const t=n.mc.get(e);null!==t&&(Aw(n.remoteStore,t),n.mc=n.mc.remove(e),n.gc.delete(t),zx(n))}function $x(n,e,t){for(const i of t)i instanceof sP?(n.yc.addReference(i.key,e),TV(n,i)):i instanceof oP?(Fe("SyncEngine","Document no longer in limbo: "+i.key),n.yc.removeReference(i.key,e),n.yc.containsKey(i.key)||uP(n,i.key)):rt()}function TV(n,e){const t=e.key,i=t.path.canonicalString();n.mc.get(t)||n.wc.has(i)||(Fe("SyncEngine","New document in limbo: "+t),n.wc.add(i),zx(n))}function zx(n){for(;n.wc.size>0&&n.mc.size<n.maxConcurrentLimboResolutions;){const e=n.wc.values().next().value;n.wc.delete(e);const t=new Ye(ln.fromString(e)),i=n.Ec.next();n.gc.set(i,new _V(t)),n.mc=n.mc.insert(t,i),MD(n.remoteStore,new ed(js(Gy(t.path)),i,"TargetPurposeLimboResolution",Xr.ct))}}function td(n,e,t){return Gx.apply(this,arguments)}function Gx(){return Gx=(0,be.Z)(function*(n,e,t){const i=Ze(n),r=[],a=[],u=[];var f;i.dc.isEmpty()||(i.dc.forEach((f,_)=>{u.push(i.Rc(_,e,t).then(w=>{if((w||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,w?.fromCache?"not-current":"current"),w){r.push(w);const D=KM.Bi(_.targetId,w);a.push(D)}}))}),yield Promise.all(u),i.fc.eu(r),yield(f=(0,be.Z)(function*(_,w){const D=Ze(_);try{yield D.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>se.forEach(w,F=>se.forEach(F.$i,B=>D.persistence.referenceDelegate.addReference(A,F.targetId,B)).next(()=>se.forEach(F.Fi,B=>D.persistence.referenceDelegate.removeReference(A,F.targetId,B)))))}catch(A){if(!Il(A))throw A;Fe("LocalStore","Failed to update sequence numbers: "+A)}for(const A of w){const F=A.targetId;if(!A.fromCache){const B=D.Hi.get(F),ie=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);D.Hi=D.Hi.insert(F,ie)}}}),function(_,w){return f.apply(this,arguments)})(i.localStore,a))}),Gx.apply(this,arguments)}function SV(n,e){return qx.apply(this,arguments)}function qx(){return qx=(0,be.Z)(function*(n,e){const t=Ze(n);if(!t.currentUser.isEqual(e)){Fe("SyncEngine","User change. New user:",e.toKey());const i=yield VO(t.localStore,e);t.currentUser=e,(r=t).Tc.forEach(u=>{u.forEach(f=>{f.reject(new Me(ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Tc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield td(t,i.tr)}var r}),qx.apply(this,arguments)}function AV(n,e){const t=Ze(n),i=t.gc.get(e);if(i&&i.lc)return Jt().add(i.key);{let r=Jt();const a=t._c.get(e);if(!a)return r;for(const u of a){const f=t.dc.get(u);r=r.unionWith(f.view.ec)}return r}}function MV(n,e){return Zx.apply(this,arguments)}function Zx(){return Zx=(0,be.Z)(function*(n,e){const t=Ze(n),i=yield ID(t.localStore,e.query,!0),r=e.view.ac(i);return t.isPrimaryClient&&$x(t,e.targetId,r.uc),r}),Zx.apply(this,arguments)}function xV(n,e){return Wx.apply(this,arguments)}function Wx(){return Wx=(0,be.Z)(function*(n,e){const t=Ze(n);return jO(t.localStore,e).then(i=>td(t,i))}),Wx.apply(this,arguments)}function RV(n,e,t,i){return Kx.apply(this,arguments)}function Kx(){return Kx=(0,be.Z)(function*(n,e,t,i){const r=Ze(n),a=yield function(u,f){const _=Ze(u),w=Ze(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",D=>w.Vn(D,f).next(A=>A?_.localDocuments.getDocuments(D,A):se.resolve(null)))}(r.localStore,e);var f;null!==a?("pending"===t?yield iv(r.remoteStore):"acknowledged"===t||"rejected"===t?(jx(r,e,i||null),Hx(r,e),f=e,Ze(Ze(r.localStore).mutationQueue).Dn(f)):rt(),yield td(r,a)):Fe("SyncEngine","Cannot apply mutation batch with id: "+e)}),Kx.apply(this,arguments)}function Yx(){return Yx=(0,be.Z)(function*(n,e){const t=Ze(n);if(eR(t),tR(t),!0===e&&!0!==t.Ac){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield dP(t,i.toArray());t.Ac=!0,yield Ex(t.remoteStore,!0);for(const a of r)MD(t.remoteStore,a)}else if(!1===e&&!1!==t.Ac){const i=[];let r=Promise.resolve();t._c.forEach((a,u)=>{t.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(lv(t,u),tv(t.localStore,u,!0))),Aw(t.remoteStore,u)}),yield r,yield dP(t,i),function(a){const u=Ze(a);u.gc.forEach((f,_)=>{Aw(u.remoteStore,_)}),u.yc.Is(),u.gc=new Map,u.mc=new Qn(Ye.comparator)}(t),t.Ac=!1,yield Ex(t.remoteStore,!1)}}),Yx.apply(this,arguments)}function dP(n,e,t){return Qx.apply(this,arguments)}function Qx(){return Qx=(0,be.Z)(function*(n,e,t){const i=Ze(n),r=[],a=[];for(const u of e){let f;const _=i._c.get(u);if(_&&0!==_.length){f=yield ev(i.localStore,js(_[0]));for(const w of _){const D=i.dc.get(w),A=yield MV(i,D);A.snapshot&&a.push(A.snapshot)}}else{const w=yield HO(i.localStore,u);f=yield ev(i.localStore,w),yield kx(i,hP(w),u,!1,f.resumeToken)}r.push(f)}return i.fc.eu(a),r}),Qx.apply(this,arguments)}function hP(n){return v1(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function OV(n){const e=Ze(n);return Ze(Ze(e.localStore).persistence).Mi()}function PV(n,e,t,i){return Xx.apply(this,arguments)}function Xx(){return Xx=(0,be.Z)(function*(n,e,t,i){const r=Ze(n);if(r.Ac)return void Fe("SyncEngine","Ignoring unexpected query state notification.");const a=r._c.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const u=yield jO(r.localStore,E1(a[0])),f=fw.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,g.EMPTY_BYTE_STRING);yield td(r,u,f);break}case"rejected":yield tv(r.localStore,e,!0),lv(r,e,i);break;default:rt()}}),Xx.apply(this,arguments)}function NV(n,e,t){return Jx.apply(this,arguments)}function Jx(){return Jx=(0,be.Z)(function*(n,e,t){const i=eR(n);if(i.Ac){for(const r of e){if(i._c.has(r)){Fe("SyncEngine","Adding an already active target "+r);continue}const a=yield HO(i.localStore,r),u=yield ev(i.localStore,a);yield kx(i,hP(a),u.targetId,!1,u.resumeToken),MD(i.remoteStore,u)}for(const r of t)i._c.has(r)&&(yield tv(i.localStore,r,!1).then(()=>{Aw(i.remoteStore,r),lv(i,r)}).catch(qu))}}),Jx.apply(this,arguments)}function eR(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=lP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EV.bind(null,e),e.fc.eu=hV.bind(null,e.eventManager),e.fc.vc=fV.bind(null,e.eventManager),e}function tR(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IV.bind(null,e),e}class Mw{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,be.Z)(function*(){t.serializer=Tw(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return LO(this.persistence,new FO,e.initialUser,this.serializer)}createPersistence(e){return new GM(wD.js,this.serializer)}createSharedClientState(e){return new qO}terminate(){var e=this;return(0,be.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class nR extends Mw{constructor(e,t,i){super(),this.bc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,be.Z)(function*(){yield t().call(i,e),yield i.bc.initialize(i,e),yield tR(i.bc.syncEngine),yield iv(i.bc.remoteStore),yield i.persistence.pi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return LO(this.persistence,new FO,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new SO(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new ew(t,this.persistence);return new oM(e.asyncQueue,i)}createPersistence(e){const t=WM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Cs.withCacheSize(this.cacheSizeBytes):Cs.DEFAULT;return new ZM(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,WO(),AD(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new qO}}class fP extends nR{constructor(e,t){super(e,t,!1),this.bc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,be.Z)(function*(){yield t().call(i,e);const r=i.bc.syncEngine;i.sharedClientState instanceof ix&&(i.sharedClientState.syncEngine={Qr:RV.bind(null,r),jr:PV.bind(null,r),zr:NV.bind(null,r),Mi:OV.bind(null,r),Gr:xV.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.pi(function(){var a=(0,be.Z)(function*(u){yield function kV(n,e){return Yx.apply(this,arguments)}(i.bc.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return a.apply(this,arguments)}}())})()}createSharedClientState(e){const t=WO();if(!ix.D(t))throw new Me(ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=WM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ix(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class cv{initialize(e,t){var i=this;return(0,be.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>cP(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=SV.bind(null,i.syncEngine),yield Ex(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new dV}createDatastore(e){const t=Tw(e.databaseInfo.databaseId),i=new W2(e.databaseInfo);return new Q2(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,a=f=>cP(this.syncEngine,f,0),u=ZO.D()?new ZO:new G2,new eV(t,i,r,a,u);var t,i,r,a,u}createSyncEngine(e,t){return function(i,r,a,u,f,_,w){const D=new yV(i,r,a,u,f,_);return w&&(D.Ac=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,be.Z)(function*(t){const i=Ze(t);Fe("RemoteStore","RemoteStore shutting down."),i.Au.add(5),yield nv(i),i.vu.shutdown(),i.Pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function pP(n,e=10240){let t=0;return{read:()=>(0,be.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,be.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class RD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Vc(this.observer.next,e)}error(e){this.observer.error?this.Vc(this.observer.error,e):mi("Uncaught Error in snapshot listener:",e.toString())}Sc(){this.muted=!0}Vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class VV{constructor(e,t){this.Dc=e,this.serializer=t,this.metadata=new Fn,this.buffer=new Uint8Array,this.Cc=new TextDecoder("utf-8"),this.xc().then(i=>{i&&i.Gu()?this.metadata.resolve(i.Ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Ku)}`))},i=>this.metadata.reject(i))}close(){return this.Dc.cancel()}getMetadata(){var e=this;return(0,be.Z)(function*(){return e.metadata.promise})()}Pc(){var e=this;return(0,be.Z)(function*(){return yield e.getMetadata(),e.xc()})()}xc(){var e=this;return(0,be.Z)(function*(){const t=yield e.Nc();if(null===t)return null;const i=e.Cc.decode(t),r=Number(i);isNaN(r)&&e.kc(`length string (${i}) is not valid number`);const a=yield e.Mc(r);return new pV(JSON.parse(a),t.length+r)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Nc(){var e=this;return(0,be.Z)(function*(){for(;e.Oc()<0&&!(yield e.$c()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.kc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Mc(e){var t=this;return(0,be.Z)(function*(){for(;t.buffer.length<e;)(yield t.$c())&&t.kc("Reached the end of bundle when more is expected.");const i=t.Cc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}kc(e){throw this.Dc.cancel(),new Error(`Invalid bundle format: ${e}`)}$c(){var e=this;return(0,be.Z)(function*(){const t=yield e.Dc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class BV{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,be.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Me(ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,be.Z)(function*(a,u){const f=Ze(a),_=gw(f.serializer)+"/documents",w={documents:u.map(B=>mw(f.serializer,B))},D=yield f.Ao("BatchGetDocuments",_,w,u.length),A=new Map;D.forEach(B=>{const Z=function o2(n,e){return"found"in e?function(t,i){vt(!!i.found);const r=Pc(t,i.found.name),a=zi(i.found.updateTime),u=i.found.createTime?zi(i.found.createTime):bt.min(),f=new es({mapValue:{fields:i.found.fields}});return ai.newFoundDocument(r,a,u,f)}(n,e):"missing"in e?function(t,i){vt(!!i.missing),vt(!!i.readTime);const r=Pc(t,i.missing),a=zi(i.readTime);return ai.newNoDocument(r,a)}(n,e):rt()}(f.serializer,B);A.set(Z.key.toString(),Z)});const F=[];return u.forEach(B=>{const Z=A.get(B.toString());vt(!!Z),F.push(Z)}),F}),function(a,u){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ky(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,be.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const a=Ye.fromPath(r);e.mutations.push(new TM(a,e.precondition(a)))}),yield(i=(0,be.Z)(function*(r,a){const u=Ze(r),f=gw(u.serializer)+"/documents",_={writes:a.map(w=>_w(u.serializer,w))};yield u.po("Commit",f,_)}),function(r,a){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw rt();t=bt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Me(ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(bt.min())?gi.exists(!1):gi.updateTime(t):gi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(bt.min()))throw new Me(ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return gi.updateTime(t)}return gi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class UV{constructor(e,t,i,r,a){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=a,this.Fc=i.maxAttempts,this.Lo=new sx(this.asyncQueue,"transaction_retry")}run(){this.Fc-=1,this.Bc()}Bc(){var e=this;this.Lo.xo((0,be.Z)(function*(){const t=new BV(e.datastore),i=e.Lc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(a=>{e.qc(a)}))}).catch(r=>{e.qc(r)})}))}Lc(e){try{const t=this.updateFunction(e);return!kc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}qc(e){this.Fc>0&&this.Uc(e)?(this.Fc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Bc(),Promise.resolve()))):this.deferred.reject(e)}Uc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!U1(t)}return!1}}class HV{constructor(e,t,i,r){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=tr.UNAUTHENTICATED,this.clientId=Y0.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,be.Z)(function*(f){Fe("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Fe("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,be.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Me(ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Fn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=sv(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function kD(n,e){return iR.apply(this,arguments)}function iR(){return iR=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,be.Z)(function*(a){i.isEqual(a)||(yield VO(e.localStore,a),i=a)});return function(a){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),iR.apply(this,arguments)}function rR(n,e){return sR.apply(this,arguments)}function sR(){return sR=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield oR(n);Fe("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>tP(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>tP(e.remoteStore,a)),n._onlineComponents=e}),sR.apply(this,arguments)}function mP(n){return"FirebaseError"===n.name?n.code===ce.FAILED_PRECONDITION||n.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function oR(n){return aR.apply(this,arguments)}function aR(){return aR=(0,be.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Fe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield kD(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!mP(t))throw t;Us("Error using user provided cache. Falling back to memory cache: "+t),yield kD(n,new Mw)}}else Fe("FirestoreClient","Using default OfflineComponentProvider"),yield kD(n,new Mw);return n._offlineComponents}),aR.apply(this,arguments)}function OD(n){return lR.apply(this,arguments)}function lR(){return lR=(0,be.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Fe("FirestoreClient","Using user provided OnlineComponentProvider"),yield rR(n,n._uninitializedComponentsProvider._online)):(Fe("FirestoreClient","Using default OnlineComponentProvider"),yield rR(n,new cv))),n._onlineComponents}),lR.apply(this,arguments)}function gP(n){return oR(n).then(e=>e.persistence)}function PD(n){return oR(n).then(e=>e.localStore)}function _P(n){return OD(n).then(e=>e.remoteStore)}function cR(n){return OD(n).then(e=>e.syncEngine)}function uv(n){return uR.apply(this,arguments)}function uR(){return uR=(0,be.Z)(function*(n){const e=yield OD(n),t=e.eventManager;return t.onListen=vV.bind(null,e.syncEngine),t.onUnlisten=bV.bind(null,e.syncEngine),t}),uR.apply(this,arguments)}function vP(n,e,t={}){const i=new Fn;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(r,a,u,f,_){const w=new RD({next:A=>{a.enqueueAndForget(()=>Sx(r,D));const F=A.docs.has(u);!F&&A.fromCache?_.reject(new Me(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&A.fromCache&&f&&"server"===f.source?_.reject(new Me(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(A)},error:A=>_.reject(A)}),D=new xx(Gy(u.path),w,{includeMetadataChanges:!0,Uu:!0});return Dx(r,D)}(yield uv(n),n.asyncQueue,e,t,i)})),i.promise}function bP(n,e,t={}){const i=new Fn;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(r,a,u,f,_){const w=new RD({next:A=>{a.enqueueAndForget(()=>Sx(r,D)),A.fromCache&&"server"===f.source?_.reject(new Me(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(A)},error:A=>_.reject(A)}),D=new xx(u,w,{includeMetadataChanges:!0,Uu:!0});return Dx(r,D)}(yield uv(n),n.asyncQueue,e,t,i)})),i.promise}const wP=new Map;function dR(n,e,t){if(!t)throw new Me(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function EP(n,e,t,i){if(!0===e&&!0===i)throw new Me(ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function CP(n){if(!Ye.isDocumentKey(n))throw new Me(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function IP(n){if(Ye.isDocumentKey(n))throw new Me(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ND(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":rt()}function dn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Me(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ND(n);throw new Me(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function DP(n,e){if(e<=0)throw new Me(ce.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class TP{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Me(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Me(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}EP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!this.experimentalForceLongPolling&&void 0!==e.experimentalAutoDetectLongPolling&&!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xw{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TP({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Me(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Me(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TP(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Yk;switch(t.type){case"firstParty":return new JA(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Me(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=wP.get(e);t&&(Fe("ComponentProvider","Removing Datastore"),wP.delete(e),t.terminate())}(this),Promise.resolve()}}class li{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new li(this.firestore,e,this._key)}}class ts{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ts(this.firestore,e,this._query)}}class Nc extends ts{constructor(e,t,i){super(e,t,Gy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new li(this.firestore,null,new Ye(e))}withConverter(e){return new Nc(this.firestore,e,this._path)}}function AP(n,e,...t){if(n=(0,gn.m9)(n),dR("collection","path",e),n instanceof xw){const i=ln.fromString(e,...t);return IP(i),new Nc(n,null,i)}{if(!(n instanceof li||n instanceof Nc))throw new Me(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ln.fromString(e,...t));return IP(i),new Nc(n.firestore,null,i)}}function FD(n,e,...t){if(n=(0,gn.m9)(n),1===arguments.length&&(e=Y0.A()),dR("doc","path",e),n instanceof xw){const i=ln.fromString(e,...t);return CP(i),new li(n,null,new Ye(i))}{if(!(n instanceof li||n instanceof Nc))throw new Me(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ln.fromString(e,...t));return CP(i),new li(n.firestore,n instanceof Nc?n.converter:null,new Ye(i))}}function MP(n,e){return n=(0,gn.m9)(n),e=(0,gn.m9)(e),(n instanceof li||n instanceof Nc)&&(e instanceof li||e instanceof Nc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function hR(n,e){return n=(0,gn.m9)(n),e=(0,gn.m9)(e),n instanceof ts&&e instanceof ts&&n.firestore===e.firestore&&ow(n._query,e._query)&&n.converter===e.converter}class QV{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new sx(this,"async_queue_retry"),this.Yc=()=>{const t=AD();t&&Fe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Lo.ko()};const e=AD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;const t=AD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise(()=>{});const t=new Fn;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Gc.push(e),this.ta()))}ta(){var e=this;return(0,be.Z)(function*(){if(0!==e.Gc.length){try{yield e.Gc[0](),e.Gc.shift(),e.Lo.reset()}catch(t){if(!Il(t))throw t;Fe("AsyncQueue","Operation failed with retryable error: "+t)}e.Gc.length>0&&e.Lo.xo(()=>e.ta())}})()}Zc(e){const t=this.Kc.then(()=>(this.Wc=!0,e().catch(i=>{throw this.zc=i,this.Wc=!1,mi("INTERNAL UNHANDLED ERROR: ",function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),u}(i)),i}).then(i=>(this.Wc=!1,i))));return this.Kc=t,t}enqueueAfterDelay(e,t,i){this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);const r=Ix.createAndSchedule(this,e,t,i,a=>this.ea(a));return this.jc.push(r),r}Xc(){this.zc&&rt()}verifyOperationInProgress(){}na(){var e=this;return(0,be.Z)(function*(){let t;do{t=e.Kc,yield t}while(t!==e.Kc)})()}sa(e){for(const t of this.jc)if(t.timerId===e)return!0;return!1}ia(e){return this.na().then(()=>{this.jc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.jc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.na()})}ra(e){this.Jc.push(e)}ea(e){const t=this.jc.indexOf(e);this.jc.splice(t,1)}}function fR(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class XV{constructor(){this._progressObserver={},this._taskCompletionResolver=new Fn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ci extends xw{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new QV,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||xP(this),this._firestoreClient.terminate()}}function Gi(n){return n._firestoreClient||xP(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function xP(n){var e,t,i;const r=n._freezeSettings(),a=(f=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new J(n._databaseId,f,n._persistenceKey,(w=r).host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,w.useFetchStreams));var f,w;n._firestoreClient=new HV(n._authCredentials,n._appCheckCredentials,n._queue,a),(null===(t=r.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(i=r.cache)||void 0===i?void 0:i._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function RP(n,e,t){const i=new Fn;return n.asyncQueue.enqueue((0,be.Z)(function*(){try{yield kD(n,t),yield rR(n,e),i.resolve()}catch(r){const a=r;if(!mP(a))throw a;Us("Error enabling indexeddb cache. Falling back to memory cache: "+a),i.reject(a)}})).then(()=>i.promise)}function kP(n){if(n._initialized||n._terminated)throw new Me(ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Fc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fc(g.fromBase64String(e))}catch(t){throw new Me(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Fc(g.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class nd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Me(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Nm{constructor(e){this._methodName=e}}class LD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Me(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Me(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ht(this._lat,e._lat)||Ht(this._long,e._long)}}const cB=/^__.*__$/;class uB{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Ju(e,this.data,this.fieldMask,t,this.fieldTransforms):new Wy(e,this.data,t,this.fieldTransforms)}}class OP{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ju(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function PP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt()}}class VD{constructor(e,t,i,r,a,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===a&&this.oa(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(e){return new VD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ca({path:i,ha:!1});return r.la(e),r}fa(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ca({path:i,ha:!1});return r.oa(),r}da(e){return this.ca({path:void 0,ha:!0})}_a(e){return HD(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}oa(){if(this.path)for(let e=0;e<this.path.length;e++)this.la(this.path.get(e))}la(e){if(0===e.length)throw this._a("Document fields must not be empty");if(PP(this.ua)&&cB.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class dB{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Tw(e)}ga(e,t,i,r=!1){return new VD({ua:e,methodName:t,ma:i,path:Yn.emptyPath(),ha:!1,wa:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fm(n){const e=n._freezeSettings(),t=Tw(n._databaseId);return new dB(n._databaseId,!!e.ignoreUndefinedProperties,t)}function BD(n,e,t,i,r,a={}){const u=n.ga(a.merge||a.mergeFields?2:0,e,t,r);_R("Data must be an object, but it was:",u,i);const f=LP(i,u);let _,w;if(a.merge)_=new c(u.fieldMask),w=u.fieldTransforms;else if(a.mergeFields){const D=[];for(const A of a.mergeFields){const F=Ow(e,A,t);if(!u.contains(F))throw new Me(ce.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);BP(D,F)||D.push(F)}_=new c(D),w=u.fieldTransforms.filter(A=>_.covers(A.field))}else _=null,w=u.fieldTransforms;return new uB(new es(f),_,w)}class kw extends Nm{_toFieldTransform(e){if(2!==e.ua)throw e._a(1===e.ua?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kw}}function NP(n,e,t){return new VD({ua:3,ma:e.settings.ma,methodName:n._methodName,ha:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class pR extends Nm{_toFieldTransform(e){return new uw(e.path,new qy)}isEqual(e){return e instanceof pR}}class hB extends Nm{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=NP(this,e,!0),i=this.ya.map(a=>Lm(a,t)),r=new Tm(i);return new uw(e.path,r)}isEqual(e){return this===e}}class fB extends Nm{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=NP(this,e,!0),i=this.ya.map(a=>Lm(a,t)),r=new Sm(i);return new uw(e.path,r)}isEqual(e){return this===e}}class pB extends Nm{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=new Zy(e.serializer,M1(e.serializer,this.pa));return new uw(e.path,t)}isEqual(e){return this===e}}function mR(n,e,t,i){const r=n.ga(1,e,t);_R("Data must be an object, but it was:",r,i);const a=[],u=es.empty();Wu(i,(_,w)=>{const D=UD(e,_,t);w=(0,gn.m9)(w);const A=r.fa(D);if(w instanceof kw)a.push(D);else{const F=Lm(w,A);null!=F&&(a.push(D),u.set(D,F))}});const f=new c(a);return new OP(u,f,r.fieldTransforms)}function gR(n,e,t,i,r,a){const u=n.ga(1,e,t),f=[Ow(e,i,t)],_=[r];if(a.length%2!=0)throw new Me(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<a.length;F+=2)f.push(Ow(e,a[F])),_.push(a[F+1]);const w=[],D=es.empty();for(let F=f.length-1;F>=0;--F)if(!BP(w,f[F])){const B=f[F];let Z=_[F];Z=(0,gn.m9)(Z);const ie=u.fa(B);if(Z instanceof kw)w.push(B);else{const ye=Lm(Z,ie);null!=ye&&(w.push(B),D.set(B,ye))}}const A=new c(w);return new OP(D,A,u.fieldTransforms)}function FP(n,e,t,i=!1){return Lm(t,n.ga(i?4:3,e))}function Lm(n,e){if(VP(n=(0,gn.m9)(n)))return _R("Unsupported field value:",e,n),LP(n,e);if(n instanceof Nm)return function(t,i){if(!PP(i.ua))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ha&&4!==e.ua)throw e._a("Nested arrays are not supported");return function(t,i){const r=[];let a=0;for(const u of t){let f=Lm(u,i.da(a));null==f&&(f={nullValue:"NULL_VALUE"}),r.push(f),a++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,gn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return M1(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Kn.fromDate(t);return{timestampValue:Yy(i.serializer,r)}}if(t instanceof Kn){const r=new Kn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Yy(i.serializer,r)}}if(t instanceof LD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Fc)return{bytesValue:Y1(i.serializer,t._byteString)};if(t instanceof li){const r=i.databaseId,a=t.firestore._databaseId;if(!a.isEqual(r))throw i._a(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:OM(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${ND(t)}`)}(n,e)}function LP(n,e){const t={};return gM(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wu(n,(i,r)=>{const a=Lm(r,e.aa(i));null!=a&&(t[i]=a)}),{mapValue:{fields:t}}}function VP(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Kn||n instanceof LD||n instanceof Fc||n instanceof li||n instanceof Nm)}function _R(n,e,t){if(!VP(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=ND(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function Ow(n,e,t){if((e=(0,gn.m9)(e))instanceof nd)return e._internalPath;if("string"==typeof e)return UD(n,e);throw HD("Field path arguments must be of type string or ",n,!1,void 0,t)}const mB=new RegExp("[~\\*/\\[\\]]");function UD(n,e,t){if(e.search(mB)>=0)throw HD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new nd(...e.split("."))._internalPath}catch{throw HD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function HD(n,e,t,i,r){const a=i&&!i.isEmpty(),u=void 0!==r;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(a||u)&&(_+=" (found",a&&(_+=` in field ${i}`),u&&(_+=` in document ${r}`),_+=")"),new Me(ce.INVALID_ARGUMENT,f+n+_)}function BP(n,e){return n.some(t=>t.isEqual(e))}class Pw{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new li(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new gB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(jD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class gB extends Pw{data(){return super.data()}}function jD(n,e){return"string"==typeof e?UD(n,e):e instanceof nd?e._internalPath:e._delegate._internalPath}function UP(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Me(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yR{}class Nw extends yR{}function Xh(n,e,...t){let i=[];e instanceof yR&&i.push(e),i=i.concat(t),function(r){const a=r.filter(f=>f instanceof dv).length,u=r.filter(f=>f instanceof Fw).length;if(a>1||a>0&&u>0)throw new Me(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Fw extends Nw{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Fw(e,t,i)}_apply(e){const t=this._parse(e);return zP(e._query,t),new ts(e.firestore,e.converter,CM(e._query,t))}_parse(e){const t=Fm(e.firestore);return function(r,a,u,f,_,w,D){let A;if(_.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Me(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){$P(D,w);const F=[];for(const B of D)F.push(jP(f,r,B));A={arrayValue:{values:F}}}else A=jP(f,r,D)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||$P(D,w),A=FP(u,"where",D,"in"===w||"not-in"===w);return un.create(_,w,A)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class dv extends yR{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new dv(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Ln.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let a=i;const u=r.getFlattenedFilters();for(const f of u)zP(a,f),a=CM(a,f)}(e._query,t),new ts(e.firestore,e.converter,CM(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class vR extends Nw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new vR(e,t)}_apply(e){const t=function(i,r,a){if(null!==i.startAt)throw new Me(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Me(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new $y(r,a);return function(f,_){if(null===wM(f)){const w=oD(f);null!==w&&GP(0,w,_.field)}}(i,u),u}(e._query,this._field,this._direction);return new ts(e.firestore,e.converter,function(i,r){const a=i.explicitOrderBy.concat([r]);return new Qu(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class $D extends Nw{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new $D(e,t,i)}_apply(e){return new ts(e.firestore,e.converter,aD(e._query,this._limit,this._limitType))}}class zD extends Nw{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new zD(e,t,i)}_apply(e){const t=HP(e,this.type,this._docOrFields,this._inclusive);return new ts(e.firestore,e.converter,(r=t,new Qu((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class GD extends Nw{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new GD(e,t,i)}_apply(e){const t=HP(e,this.type,this._docOrFields,this._inclusive);return new ts(e.firestore,e.converter,(r=t,new Qu((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function HP(n,e,t,i){if(t[0]=(0,gn.m9)(t[0]),t[0]instanceof Pw)return function(r,a,u,f,_){if(!f)throw new Me(ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const w=[];for(const D of Dm(r))if(D.field.isKeyField())w.push(Tl(a,f.key));else{const A=f.data.field(D.field);if(k(A))throw new Me(ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+D.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===A){const F=D.field.canonicalString();throw new Me(ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}w.push(A)}return new Gh(w,_)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Fm(n.firestore);return function(a,u,f,_,w,D){const A=a.explicitOrderBy;if(w.length>A.length)throw new Me(ce.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let B=0;B<w.length;B++){const Z=w[B];if(A[B].field.isKeyField()){if("string"!=typeof Z)throw new Me(ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof Z}`);if(!EM(a)&&-1!==Z.indexOf("/"))throw new Me(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${Z}' contains a slash.`);const ie=a.path.child(ln.fromString(Z));if(!Ye.isDocumentKey(ie))throw new Me(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${ie}' is not because it contains an odd number of segments.`);const ye=new Ye(ie);F.push(Tl(u,ye))}else{const ie=FP(f,_,Z);F.push(ie)}}return new Gh(F,D)}(n._query,n.firestore._databaseId,r,e,t,i)}}function jP(n,e,t){if("string"==typeof(t=(0,gn.m9)(t))){if(""===t)throw new Me(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!EM(e)&&-1!==t.indexOf("/"))throw new Me(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ln.fromString(t));if(!Ye.isDocumentKey(i))throw new Me(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Tl(n,new Ye(i))}if(t instanceof li)return Tl(n,t._key);throw new Me(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ND(t)}.`)}function $P(n,e){if(!Array.isArray(n)||0===n.length)throw new Me(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zP(n,e){if(e.isInequality()){const i=oD(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new Me(ce.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const a=wM(n);null!==a&&GP(0,r,a)}const t=function(i,r){for(const a of i)for(const u of a.getFlattenedFilters())if(r.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Me(ce.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function GP(n,e,t){if(!t.isEqual(e))throw new Me(ce.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class bR{convertValue(e,t="none"){switch(nt(e)){case 0:return null;case 1:return e.booleanValue;case 2:return I(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(M(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw rt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Wu(e,(r,a)=>{i[r]=this.convertValue(a,t)}),i}convertGeoPoint(e){return new LD(I(e.latitude),I(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=P(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(j(e));default:return null}}convertTimestamp(e){const t=E(e);return new Kn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ln.fromString(e);vt(oO(i));const r=new me(i.get(1),i.get(3)),a=new Ye(i.popFirst(5));return r.isEqual(t)||mi(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function qD(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class DB extends bR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new li(this.firestore,null,t)}}class Vm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class id extends Pw{constructor(e,t,i,r,a,u){super(e,t,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Lw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(jD("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Lw extends id{data(e={}){return super.data(e)}}class Jh{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Vm(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Lw(this._firestore,this._userDataWriter,i.key,i,new Vm(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Me(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new Lw(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Vm(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const f=new Lw(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Vm(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,w=-1;return 0!==u.type&&(_=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),1!==u.type&&(a=a.add(u.doc),w=a.indexOf(u.doc.key)),{type:SB(u.type),doc:f,oldIndex:_,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function SB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt()}}function ZP(n,e){return n instanceof id&&e instanceof id?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Jh&&e instanceof Jh&&n._firestore===e._firestore&&hR(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class ef extends bR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new li(this.firestore,null,t)}}function WP(n,e,t){n=dn(n,li);const i=dn(n.firestore,ci),r=qD(n.converter,e,t);return hv(i,[BD(Fm(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,gi.none())])}function KP(n,e,t,...i){n=dn(n,li);const r=dn(n.firestore,ci),a=Fm(r);let u;return u="string"==typeof(e=(0,gn.m9)(e))||e instanceof nd?gR(a,"updateDoc",n._key,e,t,i):mR(a,"updateDoc",n._key,e),hv(r,[u.toMutation(n._key,gi.exists(!0))])}function YP(n,...e){var t,i,r;n=(0,gn.m9)(n);let a={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||fR(e[u])||(a=e[u],u++);const f={includeMetadataChanges:a.includeMetadataChanges};if(fR(e[u])){const A=e[u];e[u]=null===(t=A.next)||void 0===t?void 0:t.bind(A),e[u+1]=null===(i=A.error)||void 0===i?void 0:i.bind(A),e[u+2]=null===(r=A.complete)||void 0===r?void 0:r.bind(A)}let _,w,D;if(n instanceof li)w=dn(n.firestore,ci),D=Gy(n._key.path),_={next:A=>{e[u]&&e[u](wR(w,n,A))},error:e[u+1],complete:e[u+2]};else{const A=dn(n,ts);w=dn(A.firestore,ci),D=A._query;const F=new ef(w);_={next:B=>{e[u]&&e[u](new Jh(w,F,A,B))},error:e[u+1],complete:e[u+2]},UP(n._query)}return function(A,F,B,Z){const ie=new RD(Z),ye=new xx(F,ie,B);return A.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return Dx(yield uv(A),ye)})),()=>{ie.Sc(),A.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return Sx(yield uv(A),ye)}))}}(Gi(w),D,f,_)}function hv(n,e){return function(t,i){const r=new Fn;return t.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function wV(n,e,t){return Nx.apply(this,arguments)}(yield cR(t),i,r)})),r.promise}(Gi(n),e)}function wR(n,e,t){const i=t.docs.get(e._key),r=new ef(n);return new id(n,r,e._key,i,new Vm(t.hasPendingWrites,t.fromCache),e.converter)}const GB={maxAttempts:5};class QP{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Fm(e)}set(e,t,i){this._verifyNotCommitted();const r=tf(e,this._firestore),a=qD(r.converter,t,i),u=BD(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,gi.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const a=tf(e,this._firestore);let u;return u="string"==typeof(t=(0,gn.m9)(t))||t instanceof nd?gR(this._dataReader,"WriteBatch.update",a._key,t,i,r):mR(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(u.toMutation(a._key,gi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=tf(e,this._firestore);return this._mutations=this._mutations.concat(new Ky(t._key,gi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Me(ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function tf(n,e){if((n=(0,gn.m9)(n)).firestore!==e)throw new Me(ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class qB extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Fm(e)}get(e){const t=tf(e,this._firestore),i=new DB(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return rt();const a=r[0];if(a.isFoundDocument())return new Pw(this._firestore,i,a.key,a,t.converter);if(a.isNoDocument())return new Pw(this._firestore,i,t._key,null,t.converter);throw rt()})}set(e,t,i){const r=tf(e,this._firestore),a=qD(r.converter,t,i),u=BD(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(e,t,i,...r){const a=tf(e,this._firestore);let u;return u="string"==typeof(t=(0,gn.m9)(t))||t instanceof nd?gR(this._dataReader,"Transaction.update",a._key,t,i,r):mR(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,u),this}delete(e){const t=tf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=tf(e,this._firestore),i=new ef(this._firestore);return super.get(e).then(r=>new id(this._firestore,i,t._key,r._document,new Vm(!1,!1),t.converter))}}function ER(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Me("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function JP(){if(typeof Uint8Array>"u")throw new Me("unimplemented","Uint8Arrays are not available in this environment.")}function eN(){if(!function h(){return typeof atob<"u"}())throw new Me("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Hh=Cc.SDK_VERSION,(0,Cc._registerComponent)(new Bp.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const a=t.getProvider("app").getImmediate(),u=new ci(new QA(t.getProvider("auth-internal")),new Qk(t.getProvider("app-check-internal")),function(f,_){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Me(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new me(f.options.projectId,_)}(a,i),a);return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC").setMultipleInstances(!0)),(0,Cc.registerVersion)(My,"3.11.0",n),(0,Cc.registerVersion)(My,"3.11.0","esm2017")}();class Vw{constructor(e){this._delegate=e}static fromBase64String(e){return eN(),new Vw(Fc.fromBase64String(e))}static fromUint8Array(e){return JP(),new Vw(Fc.fromUint8Array(e))}toBase64(){return eN(),this._delegate.toBase64()}toUint8Array(){return JP(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function CR(n){return function tU(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class nU{enableIndexedDbPersistence(e,t){return function eB(n,e){kP(n=dn(n,ci));const t=Gi(n);if(t._uninitializedComponentsProvider)throw new Me(ce.FAILED_PRECONDITION,"SDK cache is already specified.");Us("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new cv;return RP(t,r,new nR(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function tB(n){kP(n=dn(n,ci));const e=Gi(n);if(e._uninitializedComponentsProvider)throw new Me(ce.FAILED_PRECONDITION,"SDK cache is already specified.");Us("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new cv;return RP(e,i,new fP(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function nB(n){if(n._initialized&&!n._terminated)throw new Me(ce.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Fn;return n._queue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{yield(t=(0,be.Z)(function*(i){if(!Es.D())return Promise.resolve();const r=i+"main";yield Es.delete(r)}),function(i){return t.apply(this,arguments)})(WM(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class tN{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof me||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Us("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function SP(n,e,t,i={}){var r;const a=(n=dn(n,xw))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&Us("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let u,f;if("string"==typeof i.mockUserToken)u=i.mockUserToken,f=tr.MOCK_USER;else{u=(0,gn.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new Me(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new tr(_)}n._authCredentials=new YA(new GI(u,f))}}(this._delegate,e,t,i)}enableNetwork(){return function rB(n){return function jV(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield gP(n),t=yield _P(n);return e.setNetworkEnabled(!0),function(i){const r=Ze(i);return r.Au.delete(0),Sw(r)}(t)}))}(Gi(n=dn(n,ci)))}(this._delegate)}disableNetwork(){return function sB(n){return function $V(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield gP(n),t=yield _P(n);return e.setNetworkEnabled(!1),(i=(0,be.Z)(function*(r){const a=Ze(r);a.Au.add(0),yield nv(a),a.Pu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(Gi(n=dn(n,ci)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,EP("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function iB(n){return function(e){const t=new Fn;return e.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function DV(n,e){return Ux.apply(this,arguments)}(yield cR(e),t)})),t.promise}(Gi(n=dn(n,ci)))}(this._delegate)}onSnapshotsInSync(e){return function FB(n,e){return function qV(n,e){const t=new RD(e);return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return i=yield uv(n),r=t,Ze(i).Nu.add(r),void r.next();var i,r})),()=>{t.Sc(),n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return i=yield uv(n),r=t,void Ze(i).Nu.delete(r);var i,r}))}}(Gi(n=dn(n,ci)),fR(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Me("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new fv(this,AP(this._delegate,e))}catch(t){throw $s(t,"collection()","Firestore.collection()")}}doc(e){try{return new Da(this,FD(this._delegate,e))}catch(t){throw $s(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new zs(this,function YV(n,e){if(n=dn(n,xw),dR("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Me(ce.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ts(n,null,(t=e,new Qu(ln.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw $s(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function ZB(n,e,t){n=dn(n,ci);const i=Object.assign(Object.assign({},GB),t);return function(r){if(r.maxAttempts<1)throw new Me(ce.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,a,u){const f=new Fn;return r.asyncQueue.enqueueAndForget((0,be.Z)(function*(){const _=yield function yP(n){return OD(n).then(e=>e.datastore)}(r);new UV(r.asyncQueue,_,u,a,f).run()})),f.promise}(Gi(n),r=>e(new qB(n,r)),i)}(this._delegate,t=>e(new nN(this,t)))}batch(){return Gi(this._delegate),new iN(new QP(this._delegate,e=>hv(this._delegate,e)))}loadBundle(e){return function oB(n,e){const t=Gi(n=dn(n,ci)),i=new XV;return function ZV(n,e,t,i){const r=function(a,u){let f;return f="string"==typeof a?j1().encode(a):a,_=function(_,w){if(_ instanceof Uint8Array)return pP(_,w);if(_ instanceof ArrayBuffer)return pP(new Uint8Array(_),w);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new VV(_,u);var _}(t,Tw(e));n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){!function FV(n,e,t){const i=Ze(n);var r;(r=(0,be.Z)(function*(a,u,f){try{const _=yield u.getMetadata();if(yield function(F,B){const Z=Ze(F),ie=zi(B.createTime);return Z.persistence.runTransaction("hasNewerBundle","readonly",ye=>Z.Ls.getBundleMetadata(ye,B.id)).then(ye=>!!ye&&ye.createTime.compareTo(ie)>=0)}(a.localStore,_))return yield u.close(),f._completeWith({taskState:"Success",documentsLoaded:(F=_).totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}),Promise.resolve(new Set);f._updateProgress(rP(_));const w=new mV(_,a.localStore,u.serializer);let D=yield u.Pc();for(;D;){const F=yield w.ju(D);F&&f._updateProgress(F),D=yield u.Pc()}const A=yield w.complete();return yield td(a,A.Hu,void 0),yield function(F,B){const Z=Ze(F);return Z.persistence.runTransaction("Save bundle","readwrite",ie=>Z.Ls.saveBundleMetadata(ie,B))}(a.localStore,_),f._completeWith(A.progress),Promise.resolve(A.Wu)}catch(_){return Us("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var F}),function(a,u,f){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield cR(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function aB(n,e){return function WV(n,e){return n.asyncQueue.enqueue((0,be.Z)(function*(){return function(t,i){const r=Ze(t);return r.persistence.runTransaction("Get named query","readonly",a=>r.Ls.getNamedQuery(a,i))}(yield PD(n),e)}))}(Gi(n=dn(n,ci)),e).then(t=>t?new ts(n,null,t.query):null)}(this._delegate,e).then(t=>t?new zs(this,t):null)}}class ZD extends bR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vw(new Fc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Da.forKey(t,this.firestore,null)}}class nN{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new ZD(e)}get(e){const t=Um(e);return this._delegate.get(t).then(i=>new Bw(this._firestore,new id(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=Um(e);return i?(ER("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=Um(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=Um(e);return this._delegate.delete(t),this}}class iN{constructor(e){this._delegate=e}set(e,t,i){const r=Um(e);return i?(ER("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=Um(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=Um(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Bm{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Lw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Uw(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Bm.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let a=r.get(t);return a||(a=new Bm(e,new ZD(e),t),r.set(t,a)),a}}Bm.INSTANCES=new WeakMap;class Da{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ZD(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Me("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Da(t,new li(t._delegate,i,new Ye(e)))}static forKey(e,t,i){return new Da(t,new li(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new fv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new fv(this.firestore,AP(this._delegate,e))}catch(t){throw $s(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,gn.m9)(e))instanceof li&&MP(this._delegate,e)}set(e,t){t=ER("DocumentReference.set",t);try{return t?WP(this._delegate,e,t):WP(this._delegate,e)}catch(i){throw $s(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?KP(this._delegate,e):KP(this._delegate,e,t,...i)}catch(r){throw $s(r,"updateDoc()","DocumentReference.update()")}}delete(){return function PB(n){return hv(dn(n.firestore,ci),[new Ky(n._key,gi.none())])}(this._delegate)}onSnapshot(...e){const t=rN(e),i=sN(e,r=>new Bw(this.firestore,new id(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return YP(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function MB(n){n=dn(n,li);const e=dn(n.firestore,ci),t=Gi(e),i=new ef(e);return function zV(n,e){const t=new Fn;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(i=(0,be.Z)(function*(r,a,u){try{const f=yield function(_,w){const D=Ze(_);return D.persistence.runTransaction("read document","readonly",A=>D.localDocuments.getDocument(A,w))}(r,a);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new Me(ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=sv(f,`Failed to get document '${a} from cache`);u.reject(_)}}),function(r,a,u){return i.apply(this,arguments)})(yield PD(n),e,t);var i})),t.promise}(t,n._key).then(r=>new id(e,i,n._key,r,new Vm(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function xB(n){n=dn(n,li);const e=dn(n.firestore,ci);return vP(Gi(e),n._key,{source:"server"}).then(t=>wR(e,n,t))}(this._delegate):function AB(n){n=dn(n,li);const e=dn(n.firestore,ci);return vP(Gi(e),n._key).then(t=>wR(e,n,t))}(this._delegate),t.then(i=>new Bw(this.firestore,new id(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Da(this.firestore,this._delegate.withConverter(e?Bm.getInstance(this.firestore,e):null))}}function $s(n,e,t){return n.message=n.message.replace(e,t),n}function rN(n){for(const e of n)if("object"==typeof e&&!CR(e))return e;return{}}function sN(n,e){var t,i;let r;return r=CR(n[0])?n[0]:CR(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{r.next&&r.next(e(a))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Bw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Da(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return ZP(this._delegate,e._delegate)}}class Uw extends Bw{data(e){const t=this._delegate.data(e);return function W0(n,e){n||rt()}(void 0!==t),t}}class zs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ZD(e)}where(e,t,i){try{return new zs(this.firestore,Xh(this._delegate,function _B(n,e,t){const i=e,r=jD("where",n);return Fw._create(r,i,t)}(e,t,i)))}catch(r){throw $s(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new zs(this.firestore,Xh(this._delegate,function yB(n,e="asc"){const t=e,i=jD("orderBy",n);return vR._create(i,t)}(e,t)))}catch(i){throw $s(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new zs(this.firestore,Xh(this._delegate,function vB(n){return DP("limit",n),$D._create("limit",n,"F")}(e)))}catch(t){throw $s(t,"limit()","Query.limit()")}}limitToLast(e){try{return new zs(this.firestore,Xh(this._delegate,function bB(n){return DP("limitToLast",n),$D._create("limitToLast",n,"L")}(e)))}catch(t){throw $s(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new zs(this.firestore,Xh(this._delegate,function wB(...n){return zD._create("startAt",n,!0)}(...e)))}catch(t){throw $s(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new zs(this.firestore,Xh(this._delegate,function EB(...n){return zD._create("startAfter",n,!1)}(...e)))}catch(t){throw $s(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new zs(this.firestore,Xh(this._delegate,function CB(...n){return GD._create("endBefore",n,!1)}(...e)))}catch(t){throw $s(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new zs(this.firestore,Xh(this._delegate,function IB(...n){return GD._create("endAt",n,!0)}(...e)))}catch(t){throw $s(t,"endAt()","Query.endAt()")}}isEqual(e){return hR(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function kB(n){n=dn(n,ts);const e=dn(n.firestore,ci),t=Gi(e),i=new ef(e);return function GV(n,e){const t=new Fn;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(i=(0,be.Z)(function*(r,a,u){try{const f=yield ID(r,a,!0),_=new aP(a,f.sr),w=_.nc(f.documents),D=_.applyChanges(w,!1);u.resolve(D.snapshot)}catch(f){const _=sv(f,`Failed to execute query '${a} against cache`);u.reject(_)}}),function(r,a,u){return i.apply(this,arguments)})(yield PD(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Jh(e,i,n,r))}(this._delegate):"server"===e?.source?function OB(n){n=dn(n,ts);const e=dn(n.firestore,ci),t=Gi(e),i=new ef(e);return bP(t,n._query,{source:"server"}).then(r=>new Jh(e,i,n,r))}(this._delegate):function RB(n){n=dn(n,ts);const e=dn(n.firestore,ci),t=Gi(e),i=new ef(e);return UP(n._query),bP(t,n._query).then(r=>new Jh(e,i,n,r))}(this._delegate),t.then(i=>new IR(this.firestore,new Jh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=rN(e),i=sN(e,r=>new IR(this.firestore,new Jh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return YP(this._delegate,t,i)}withConverter(e){return new zs(this.firestore,this._delegate.withConverter(e?Bm.getInstance(this.firestore,e):null))}}class rU{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Uw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class IR{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new zs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Uw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new rU(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Uw(this._firestore,i))})}isEqual(e){return ZP(this._delegate,e._delegate)}}class fv extends zs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Da(this.firestore,e):null}doc(e){try{return new Da(this.firestore,void 0===e?FD(this._delegate):FD(this._delegate,e))}catch(t){throw $s(t,"doc()","CollectionReference.doc()")}}add(e){return function NB(n,e){const t=dn(n.firestore,ci),i=FD(n),r=qD(n.converter,e);return hv(t,[BD(Fm(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,gi.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Da(this.firestore,t))}isEqual(e){return MP(this._delegate,e._delegate)}withConverter(e){return new fv(this.firestore,this._delegate.withConverter(e?Bm.getInstance(this.firestore,e):null))}}function Um(n){return dn(n,li)}class DR{constructor(...e){this._delegate=new nd(...e)}static documentId(){return new DR(Yn.keyField().canonicalString())}isEqual(e){return(e=(0,gn.m9)(e))instanceof nd&&this._delegate._internalPath.isEqual(e._internalPath)}}class Hm{constructor(e){this._delegate=e}static serverTimestamp(){const e=function KB(){return new pR("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Hm(e)}static delete(){const e=function WB(){return new kw("deleteField")}();return e._methodName="FieldValue.delete",new Hm(e)}static arrayUnion(...e){const t=function YB(...n){return new hB("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Hm(t)}static arrayRemove(...e){const t=function QB(...n){return new fB("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Hm(t)}static increment(e){const t=function XB(n){return new pB("increment",n)}(e);return t._methodName="FieldValue.increment",new Hm(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const sU={Firestore:tN,GeoPoint:LD,Timestamp:Kn,Blob:Vw,Transaction:nN,WriteBatch:iN,DocumentReference:Da,DocumentSnapshot:Bw,Query:zs,QueryDocumentSnapshot:Uw,QuerySnapshot:IR,CollectionReference:fv,FieldPath:DR,FieldValue:Hm,setLogLevel:function iU(n){!function zI(n){Ca.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function oN(n,e){return function lU(n,e=Gp.z){return new Jn.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function TR(n,e){return oN(n,e).pipe((0,ft.U)(t=>({payload:t,type:"query"})))}function WD(n,e){return TR(n,e).pipe(ya(void 0),H_(),(0,ft.U)(([t,i])=>{const r=i.payload.docChanges(),a=r.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,f)=>{const _=r.find(D=>D.doc.ref.isEqual(u.ref)),w=t?.payload.docs.find(D=>D.ref.isEqual(u.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(u.metadata)||!_&&w&&JSON.stringify(w.metadata)===JSON.stringify(u.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:u}})}),a}))}function aN(n,e,t){return WD(n,t).pipe(up((i,r)=>function uU(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function dU(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return SR(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return SR(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return SR(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(a=>a.payload),e),[]),Gb(),(0,ft.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function SR(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function lN(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function aU(n){(function oU(n,e){n.INTERNAL.registerComponent(new Bp.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},sU)))})(n,(e,t)=>new tN(e,t,new nU)),n.registerVersion("@firebase/firestore-compat","0.3.8")}(dA.Z);class cN{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=WD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ft.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(ya(void 0),H_(),ni(([i,r])=>r.length>0||!i),(0,ft.U)(([i,r])=>r),Hi.iC)}auditTrail(e){return this.stateChanges(e).pipe(up((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=lN(e);return aN(this.query,t,this.afs.schedulers.outsideAngular).pipe(Hi.iC)}valueChanges(e={}){return TR(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),Hi.iC)}get(e){return(0,nn.D)(this.query.get(e)).pipe(Hi.iC)}add(e){return this.ref.add(e)}doc(e){return new uN(this.ref.doc(e),this.afs)}}class uN{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:a}=dN(i,t);return new cN(r,a,this.afs)}snapshotChanges(){return function cU(n,e){return oN(n,e).pipe(ya(void 0),H_(),(0,ft.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Hi.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ft.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,nn.D)(this.ref.get(e)).pipe(Hi.iC)}}class hU{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?WD(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),ni(t=>t.length>0),Hi.iC):WD(this.query,this.afs.schedulers.outsideAngular).pipe(Hi.iC)}auditTrail(e){return this.stateChanges(e).pipe(up((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=lN(e);return aN(this.query,t,this.afs.schedulers.outsideAngular).pipe(Hi.iC)}valueChanges(e={}){return TR(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),Hi.iC)}get(e){return(0,nn.D)(this.query.get(e)).pipe(Hi.iC)}}const fU=new l.OlP("angularfire2.enableFirestorePersistence"),pU=new l.OlP("angularfire2.firestore.persistenceSettings"),mU=new l.OlP("angularfire2.firestore.settings"),gU=new l.OlP("angularfire2.firestore.use-emulator");function dN(n,e=(t=>t)){return{query:e(n),ref:n}}let hN=(()=>{class n{constructor(t,i,r,a,u,f,_,w,D,A,F,B,Z,ie,ye,$e,st){this.schedulers=_;const Je=(0,xo.on)(t,f,i),It=D;A&&iI(Je,f,F,Z,ie,ye,B,$e),[this.firestore,this.persistenceEnabled$]=(0,xo.cc)(`${Je.name}.firestore`,"AngularFirestore",Je.name,()=>{const jt=f.runOutsideAngular(()=>Je.firestore());if(a&&jt.settings(a),It&&jt.useEmulator(...It),r&&!Pl(u)){const qt=()=>{try{return(0,nn.D)(jt.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(An){return typeof console<"u"&&console.warn(An),ut(!1)}};return[jt,f.runOutsideAngular(qt)]}return[jt,ut(!1)]},[a,It,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:u}=dN(r,i),f=this.schedulers.ngZone.run(()=>a);return new cN(f,u,this)}collectionGroup(t,i){const r=i||(u=>u),a=this.firestore.collectionGroup(t);return new hU(r(a),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new uN(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(xo.Dh),l.LFG(xo.xv,8),l.LFG(fU,8),l.LFG(mU,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Hi.HU),l.LFG(pU,8),l.LFG(gU,8),l.LFG(Fo,8),l.LFG(XC,8),l.LFG(JC,8),l.LFG(eI,8),l.LFG(Dh,8),l.LFG(tI,8),l.LFG(nI,8),l.LFG(YC,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Hw=(()=>{class n{constructor(t){this.firestore=t}getProducts(){return this.firestore.collection("productos",t=>t.orderBy("nombre","asc")).snapshotChanges()}getProducto(t){return this.firestore.collection("productos").doc(t).snapshotChanges()}agregarproducto(t){return this.firestore.collection("productos").add(t)}deleteProducts(t){return this.firestore.collection("productos").doc(t).delete()}update(t,i){return this.firestore.collection("productos").doc(t).update(i)}updateProducts(t){const i=this.firestore.firestore.batch();return t.forEach(r=>{const a=this.firestore.collection("productos").doc(r.id);i.update(a.ref,r)}),i.commit()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(hN))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fN=(()=>{class n{constructor(t){this.firestore=t}addReport(t){return this.firestore.collection("reportes").add(t)}obtReports(){return this.firestore.collection("reportes",t=>t.orderBy("fechaCreacion","desc")).snapshotChanges()}deleteProducts(t){return this.firestore.collection("reportes").doc(t).delete()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(hN))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class pN{}const rd="*";function KD(n,e){return{type:7,name:n,definitions:e,options:{}}}function jm(n,e=null){return{type:4,styles:e,timings:n}}function mN(n,e=null){return{type:2,steps:n,options:e}}function Ta(n){return{type:6,styles:n,offset:null}}function $m(n,e,t){return{type:0,name:n,styles:e,options:t}}function zm(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function gN(n){Promise.resolve().then(n)}class jw{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){gN(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class _N{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const a=this.players.length;0==a?gN(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==a&&this._onFinish()}),u.onDestroy(()=>{++i==a&&this._onDestroy()}),u.onStart(()=>{++r==a&&this._onStart()})}),this.totalTime=this.players.reduce((u,f)=>Math.max(u,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const yN=["toast-component",""];function yU(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",5),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.remove())}),l.TgZ(1,"span",6),l._uU(2,"\xd7"),l.qZA()()}}function vU(n,e){if(1&n&&(l.ynx(0),l._uU(1),l.BQk()),2&n){const t=l.oxw(2);l.xp6(1),l.hij("[",t.duplicatesCount+1,"]")}}function bU(n,e){if(1&n&&(l.TgZ(0,"div"),l._uU(1),l.YNc(2,vU,2,1,"ng-container",4),l.qZA()),2&n){const t=l.oxw();l.Tol(t.options.titleClass),l.uIk("aria-label",t.title),l.xp6(1),l.hij(" ",t.title," "),l.xp6(1),l.Q6J("ngIf",t.duplicatesCount)}}function wU(n,e){if(1&n&&l._UZ(0,"div",7),2&n){const t=l.oxw();l.Tol(t.options.messageClass),l.Q6J("innerHTML",t.message,l.oJD)}}function EU(n,e){if(1&n&&(l.TgZ(0,"div",8),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.Tol(t.options.messageClass),l.uIk("aria-label",t.message),l.xp6(1),l.hij(" ",t.message," ")}}function CU(n,e){if(1&n&&(l.TgZ(0,"div"),l._UZ(1,"div",9),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Udp("width",t.width+"%")}}class xU{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class YD{constructor(e,t,i,r,a,u){this.toastId=e,this.config=t,this.message=i,this.title=r,this.toastType=a,this.toastRef=u,this._onTap=new Yt.x,this._onAction=new Yt.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const bN=new l.OlP("ToastConfig");class kU{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new Yt.x,this._activate=new Yt.x,this._manualClose=new Yt.x,this._resetTimeout=new Yt.x,this._countDuplicate=new Yt.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class OU{constructor(e,t){this._toastPackage=e,this._parentInjector=t}get(e,t,i){return e===YD?this._toastPackage:this._parentInjector.get(e,t,i)}}class PU extends class RU{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,i){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=i}attachComponentPortal(e,t){const i=this._componentFactoryResolver.resolveComponentFactory(e.component);let r;return r=i.create(e.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class NU{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let FU=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),LU=(()=>{class n{constructor(t,i,r,a){this._overlayContainer=t,this._componentFactoryResolver=i,this._appRef=r,this._document=a,this._paneElements=new Map}create(t,i){return this._createOverlayRef(this.getPaneElement(t,i))}getPaneElement(t="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[t]||(this._paneElements.get(i)[t]=this._createPaneElement(t,i)),this._paneElements.get(i)[t]}_createPaneElement(t,i){const r=this._document.createElement("div");return r.id="toast-container",r.classList.add(t),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(t){return new PU(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new NU(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(FU),l.LFG(l._Vd),l.LFG(l.z2F),l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Sa=(()=>{class n{constructor(t,i,r,a,u){this.overlay=i,this._injector=r,this.sanitizer=a,this.ngZone=u,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,i,r={},a=""){return this._preBuildNotification(a,t,i,this.applyConfig(r))}success(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,i,this.applyConfig(r))}error(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,i,this.applyConfig(r))}info(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,i,this.applyConfig(r))}warning(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,i,this.applyConfig(r))}clear(t){for(const i of this.toasts)if(void 0!==t){if(i.toastId===t)return void i.toastRef.manualClose()}else i.toastRef.manualClose()}remove(t){const i=this._findToast(t);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(t="",i="",r,a){const{includeTitleDuplicates:u}=this.toastrConfig;for(const f of this.toasts){const _=u&&f.title===t;if((!u||_)&&f.message===i)return f.toastRef.onDuplicate(r,a),f}return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===t)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(t,i,r,a){return a.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,i,r,a)):this._buildNotification(t,i,r,a)}_buildNotification(t,i,r,a){if(!a.toastComponent)throw new Error("toastComponent required");const u=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&a.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&null!==u)return u;this.previousToastMessage=i;let f=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(f=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const _=this.overlay.create(a.positionClass,this.overlayContainer);this.index=this.index+1;let w=i;i&&a.enableHtml&&(w=this.sanitizer.sanitize(l.q3G.HTML,i));const D=new kU(_),A=new YD(this.index,a,w,r,t,D),F=new OU(A,this._injector),B=new xU(a.toastComponent,F),Z=_.attach(B,this.toastrConfig.newestOnTop);D.componentInstance=Z.instance;const ie={toastId:this.index,title:r||"",message:i||"",toastRef:D,onShown:D.afterActivate(),onHidden:D.afterClosed(),onTap:A.onTap(),onAction:A.onAction(),portal:Z};return f||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{ie.toastRef.activate()})),this.toasts.push(ie),ie}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(bN),l.LFG(LU),l.LFG(l.zs3),l.LFG(Ja),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const VU={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class n{constructor(t,i,r){this.toastrService=t,this.toastPackage=i,this.ngZone=r,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(a=>{this.duplicatesCount=a})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),i)):this.timeout=setTimeout(()=>t(),i)}outsideInterval(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),i)):this.intervalId=setInterval(()=>t(),i)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Sa),l.Y36(YD),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,i){1&t&&l.NdJ("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&t&&(l.d8E("@flyInOut",i.state),l.Tol(i.toastClasses),l.Udp("display",i.displayStyle))},attrs:yN,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,i){1&t&&(l.YNc(0,yU,3,0,"button",0),l.YNc(1,bU,3,5,"div",1),l.YNc(2,wU,1,3,"div",2),l.YNc(3,EU,2,4,"div",3),l.YNc(4,CU,2,2,"div",4)),2&t&&(l.Q6J("ngIf",i.options.closeButton),l.xp6(1),l.Q6J("ngIf",i.title),l.xp6(1),l.Q6J("ngIf",i.message&&i.options.enableHtml),l.xp6(1),l.Q6J("ngIf",i.message&&!i.options.enableHtml),l.xp6(1),l.Q6J("ngIf",i.options.progressBar))},dependencies:[pn],encapsulation:2,data:{animation:[KD("flyInOut",[$m("inactive",Ta({opacity:0})),$m("active",Ta({opacity:1})),$m("removed",Ta({opacity:0})),zm("inactive => active",jm("{{ easeTime }}ms {{ easing }}")),zm("active => removed",jm("{{ easeTime }}ms {{ easing }}"))])]}}),n})()};let MR,BU=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:bN,useValue:{default:VU,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[_o]]}),n})();try{MR=typeof Intl<"u"&&Intl.v8BreakIterator}catch{MR=!1}let $w,XD,Gm,xR,Aa=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function gf(n){return n===Ol}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!MR)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function QD(n){return function UU(){if(null==$w&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>$w=!0}))}finally{$w=$w||!1}return $w}()?n:!!n.capture}function EN(){if(null==Gm){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Gm=!1,Gm;if("scrollBehavior"in document.documentElement.style)Gm=!0;else{const n=Element.prototype.scrollTo;Gm=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Gm}function zw(){if("object"!=typeof document||!document)return 0;if(null==XD){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),XD=0,0===n.scrollLeft&&(n.scrollLeft=1,XD=0===n.scrollLeft?1:2),n.remove()}return XD}function qm(n){return n.composedPath?n.composedPath()[0]:n.target}function RR(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var oH=N(5032);function ns(n){return(0,ti.e)((e,t)=>{(0,Dr.Xf)(n).subscribe((0,$t.x)(t,()=>t.complete(),oH.Z)),!t.closed&&e.subscribe(t)})}function mo(n){return null!=n&&"false"!=`${n}`}function SN(n,e=0){return function aH(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function AN(n){return Array.isArray(n)?n:[n]}function ir(n){return null==n?"":"string"==typeof n?n:`${n}px`}function mv(n){return n instanceof l.SBq?n.nativeElement:n}let RN=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function fH(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function hH(n){try{return n.frameElement}catch{return null}}(function wH(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===ON(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),a=ON(t);return t.hasAttribute("contenteditable")?-1!==a:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function vH(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==a:"video"===r?-1!==a&&(null!==a||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function bH(n){return!function mH(n){return function _H(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function pH(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function gH(n){return function yH(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||kN(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Aa))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function kN(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function ON(n){if(!kN(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class EH{constructor(e,t,i,r,a=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(_a(1)).subscribe(e)}}let CH=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new EH(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(RN),l.LFG(l.R0b),l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function PN(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function NN(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const IH=new l.OlP("cdk-input-modality-detector-options"),DH={ignoreKeys:[18,17,224,91,16]},gv=QD({passive:!0,capture:!0});let TH=(()=>{class n{constructor(t,i,r,a){this._platform=t,this._mostRecentTarget=null,this._modality=new oo(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(f=>f===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=qm(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(PN(u)?"keyboard":"mouse"),this._mostRecentTarget=qm(u))},this._onTouchstart=u=>{NN(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=qm(u))},this._options={...DH,...a},this.modalityDetected=this._modality.pipe(function sH(n){return ni((e,t)=>n<=t)}(1)),this.modalityChanged=this.modalityDetected.pipe(Gb()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,gv),r.addEventListener("mousedown",this._onMousedown,gv),r.addEventListener("touchstart",this._onTouchstart,gv)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,gv),document.removeEventListener("mousedown",this._onMousedown,gv),document.removeEventListener("touchstart",this._onTouchstart,gv))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Aa),l.LFG(l.R0b),l.LFG(ne),l.LFG(IH,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const AH=new l.OlP("cdk-focus-monitor-default-options"),eT=QD({passive:!0,capture:!0});let LN=(()=>{class n{constructor(t,i,r,a,u){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Yt.x,this._rootNodeFocusAndBlurListener=f=>{const _=qm(f),w="focus"===f.type?this._onFocus:this._onBlur;for(let D=_;D;D=D.parentElement)w.call(this,f,D)},this._document=a,this._detectionMode=u?.detectionMode||0}monitor(t,i=!1){const r=mv(t);if(!this._platform.isBrowser||1!==r.nodeType)return ut(null);const a=function jU(n){if(function HU(){if(null==xR){const n=typeof document<"u"?document.head:null;xR=!(!n||!n.createShadowRoot&&!n.attachShadow)}return xR}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const f={checkChildren:i,subject:new Yt.x,rootNode:a};return this._elementInfo.set(r,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const i=mv(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const a=mv(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([f,_])=>this._originChanged(f,i,_)):(this._setOrigin(i),"function"==typeof a.focus&&a.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),a=qm(t);!r||!r.checkChildren&&i!==a||this._originChanged(i,this._getFocusOrigin(a),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(t,i){this._ngZone.run(()=>t.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,eT),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,eT)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ns(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,eT),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,eT),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,a)=>{(a===t||r.checkChildren&&a.contains(t))&&i.push([a,r])}),i}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(Aa),l.LFG(TH),l.LFG(ne,8),l.LFG(AH,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const VN="cdk-high-contrast-black-on-white",BN="cdk-high-contrast-white-on-black",kR="cdk-high-contrast-active";let MH=(()=>{class n{constructor(t,i){this._platform=t,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,a=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(kR),t.remove(VN),t.remove(BN),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(t.add(kR),t.add(VN)):2===i&&(t.add(kR),t.add(BN))}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Aa),l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xH=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function RH(){return(0,l.f3M)(ne)}}),kH=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let OR=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new l.vpe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function OH(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?kH.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(xH,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Gw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const NH=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function PH(){return!0}});let is=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!RR()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(MH),l.LFG(NH,8),l.LFG(ne))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Gw],Gw]}),n})();function FH(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=mo(e)}}}function jN(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function tT(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=mo(e)}}}let $N=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function qw(n,e,t){n.nativeElement.classList.toggle(e,t)}let GN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[is],is]}),n})();class VH{constructor(e,t,i){this._renderer=e,this.element=t,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const qN={enterDuration:225,exitDuration:150},PR=QD({passive:!0}),ZN=["mousedown","touchstart"],WN=["mouseup","mouseleave","touchend","touchcancel"];class UH{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=mv(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...qN,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const u=i.radius||function jH(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),f=e-r.left,_=t-r.top,w=a.enterDuration,D=document.createElement("div");D.classList.add("mat-ripple-element"),D.style.left=f-u+"px",D.style.top=_-u+"px",D.style.height=2*u+"px",D.style.width=2*u+"px",null!=i.color&&(D.style.backgroundColor=i.color),D.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(D),function HH(n){window.getComputedStyle(n).getPropertyValue("opacity")}(D),D.style.transform="scale(1)";const A=new VH(this,D,i);return A.state=0,this._activeRipples.add(A),i.persistent||(this._mostRecentTransientRipple=A),this._runTimeoutOutsideZone(()=>{const F=A===this._mostRecentTransientRipple;A.state=1,!i.persistent&&(!F||!this._isPointerDown)&&A.fadeOut()},w),A}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const i=e.element,r={...qN,...e.config.animation};i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=mv(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(ZN))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(WN),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=PN(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!NN(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,PR)})})}_removeTriggerEvents(){this._triggerElement&&(ZN.forEach(e=>{this._triggerElement.removeEventListener(e,this,PR)}),this._pointerUpEventsRegistered&&WN.forEach(e=>{this._triggerElement.removeEventListener(e,this,PR)}))}}const $H=new l.OlP("mat-ripple-global-options");let KN=(()=>{class n{constructor(t,i,r,a,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new UH(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(Aa),l.Y36($H,8),l.Y36(l.QbO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),YN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[is],is]}),n})(),QN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[is]]}),n})();const GH=["*",[["mat-toolbar-row"]]],qH=["*","mat-toolbar-row"],ZH=jN(class{constructor(n){this._elementRef=n}});let WH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),KH=(()=>{class n extends ZH{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(Aa),l.Y36(ne))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(1&t&&l.Suo(r,WH,5),2&t){let a;l.iGM(a=l.CRH())&&(i._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&l.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[l.qOj],ngContentSelectors:qH,decls:2,vars:0,template:function(t,i){1&t&&(l.F$t(GH),l.Hsn(0),l.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),XN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[is],is]}),n})();class YH{}class nf{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),a=r.toLowerCase(),u=t.slice(i+1).trim();this.maybeSetNormalizedName(r,a),this.headers.has(a)?this.headers.get(a).push(u):this.headers.set(a,[u])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof nf?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new nf;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof nf?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const a=e.value;if(a){let u=this.headers.get(t);if(!u)return;u=u.filter(f=>-1===a.indexOf(f)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class QH{encodeKey(e){return JN(e)}encodeValue(e){return JN(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const JH=/%(\d[a-f0-9])/gi,ej={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function JN(n){return encodeURIComponent(n).replace(JH,(e,t)=>ej[t]??e)}function nT(n){return`${n}`}class rf{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new QH,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function XH(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const a=r.indexOf("="),[u,f]=-1==a?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,a)),e.decodeValue(r.slice(a+1))],_=t.get(u)||[];_.push(f),t.set(u,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(nT):[nT(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(a=>{t.push({param:i,value:a,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new rf({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(nT(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(nT(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class tj{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function eF(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function tF(n){return typeof Blob<"u"&&n instanceof Blob}function nF(n){return typeof FormData<"u"&&n instanceof FormData}class Zw{constructor(e,t,i,r){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function nj(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,a=r):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new nf),this.context||(this.context=new tj),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+u}}else this.params=new rf,this.urlWithParams=t}serializeBody(){return null===this.body?null:eF(this.body)||tF(this.body)||nF(this.body)||function ij(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof rf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||nF(this.body)?null:tF(this.body)?this.body.type||null:eF(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof rf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let _=e.headers||this.headers,w=e.params||this.params;const D=e.context??this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((A,F)=>A.set(F,e.setHeaders[F]),_)),e.setParams&&(w=Object.keys(e.setParams).reduce((A,F)=>A.set(F,e.setParams[F]),w)),new Zw(t,i,a,{params:w,headers:_,context:D,reportProgress:f,responseType:r,withCredentials:u})}}var rs=(()=>((rs=rs||{})[rs.Sent=0]="Sent",rs[rs.UploadProgress=1]="UploadProgress",rs[rs.ResponseHeader=2]="ResponseHeader",rs[rs.DownloadProgress=3]="DownloadProgress",rs[rs.Response=4]="Response",rs[rs.User=5]="User",rs))();class NR extends class rj{constructor(e,t=200,i="OK"){this.headers=e.headers||new nf,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=rs.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new NR({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function FR(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let rF=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let a;if(t instanceof Zw)a=t;else{let _,w;_=r.headers instanceof nf?r.headers:new nf(r.headers),r.params&&(w=r.params instanceof rf?r.params:new rf({fromObject:r.params})),a=new Zw(t,i,void 0!==r.body?r.body:null,{headers:_,context:r.context,params:w,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=ut(a).pipe(ml(_=>this.handler.handle(_)));if(t instanceof Zw||"events"===r.observe)return u;const f=u.pipe(ni(_=>_ instanceof NR));switch(r.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,ft.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return f.pipe((0,ft.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return f.pipe((0,ft.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return f.pipe((0,ft.U)(_=>_.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new rf).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,FR(r,i))}post(t,i,r={}){return this.request("POST",t,FR(r,i))}put(t,i,r={}){return this.request("PUT",t,FR(r,i))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(YH))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const oj=["*"];let iT;function Ww(n){return function aj(){if(void 0===iT&&(iT=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(iT=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return iT}()?.createHTML(n)||n}function sF(n){return Error(`Unable to find icon with the name "${n}"`)}function oF(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function aF(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Zm{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let rT=(()=>{class n{constructor(t,i,r,a){this._httpClient=t,this._sanitizer=i,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,a){return this._addSvgIconConfig(t,i,new Zm(r,null,a))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,a){const u=this._sanitizer.sanitize(l.q3G.HTML,r);if(!u)throw aF(r);const f=Ww(u);return this._addSvgIconConfig(t,i,new Zm("",f,a))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new Zm(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const a=this._sanitizer.sanitize(l.q3G.HTML,i);if(!a)throw aF(i);const u=Ww(a);return this._addSvgIconSetConfig(t,new Zm("",u,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,t);if(!i)throw oF(t);const r=this._cachedIconsByUrl.get(i);return r?ut(sT(r)):this._loadSvgIconFromConfig(new Zm(t,null)).pipe((0,Wn.b)(a=>this._cachedIconsByUrl.set(i,a)),(0,ft.U)(a=>sT(a)))}getNamedSvgIcon(t,i=""){const r=lF(i,t);let a=this._svgIconConfigs.get(r);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(i,t),a)return this._svgIconConfigs.set(r,a),this._getSvgFromConfig(a);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(t,u):dc(sF(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?ut(sT(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,ft.U)(i=>sT(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?ut(r):ic(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(gl(f=>{const w=`Loading icon set URL: ${this._sanitizer.sanitize(l.q3G.RESOURCE_URL,u.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(w)),ut(null)})))).pipe((0,ft.U)(()=>{const u=this._extractIconWithNameFromAnySet(t,i);if(!u)throw sF(t);return u}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const a=i[r];if(a.svgText&&a.svgText.toString().indexOf(t)>-1){const u=this._svgElementFromConfig(a),f=this._extractSvgIconFromSet(u,t,a.options);if(f)return f}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,Wn.b)(i=>t.svgText=i),(0,ft.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?ut(null):this._fetchIcon(t).pipe((0,Wn.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const a=t.querySelector(`[id="${i}"]`);if(!a)return null;const u=a.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const f=this._svgElementFromString(Ww("<svg></svg>"));return f.appendChild(u),this._setSvgAttributes(f,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(Ww("<svg></svg>")),r=t.attributes;for(let a=0;a<r.length;a++){const{name:u,value:f}=r[a];"id"!==u&&i.setAttribute(u,f)}for(let a=0;a<t.childNodes.length;a++)t.childNodes[a].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[a].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,a=r?.withCredentials??!1;if(!this._httpClient)throw function lj(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const u=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,i);if(!u)throw oF(i);const f=this._inProgressUrlFetches.get(u);if(f)return f;const _=this._httpClient.get(u,{responseType:"text",withCredentials:a}).pipe((0,ft.U)(w=>Ww(w)),Lg(()=>this._inProgressUrlFetches.delete(u)),(0,Np.B)());return this._inProgressUrlFetches.set(u,_),_}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(lF(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const a=this._resolvers[r](i,t);if(a)return uj(a)?new Zm(a.url,null,a.options):new Zm(a,null)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(rF,8),l.LFG(Ja),l.LFG(ne,8),l.LFG(l.qLn))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sT(n){return n.cloneNode(!0)}function lF(n,e){return n+":"+e}function uj(n){return!(!n.url||!n.options)}const dj=jN(class{constructor(n){this._elementRef=n}}),hj=new l.OlP("mat-icon-location",{providedIn:"root",factory:function fj(){const n=(0,l.f3M)(ne),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),cF=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],pj=cF.map(n=>`[${n}]`).join(", "),mj=/^url\(['"]?#(.*?)['"]?\)$/;let gj=(()=>{class n extends dj{constructor(t,i,r,a,u){super(t),this._iconRegistry=i,this._location=a,this._errorHandler=u,this._inline=!1,this._currentIconFetch=fc.w0.EMPTY,r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=mo(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),i&&t.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,a)=>{r.forEach(u=>{a.setAttribute(u.name,`url('${t}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(pj),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<i.length;a++)cF.forEach(u=>{const f=i[a],_=f.getAttribute(u),w=_?_.match(mj):null;if(w){let D=r.get(f);D||(D=[],r.set(f,D)),D.push({name:u,value:w[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(_a(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${a.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(rT),l.$8M("aria-hidden"),l.Y36(hj),l.Y36(l.qLn))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,i){2&t&&(l.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),l.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[l.qOj],ngContentSelectors:oj,decls:1,vars:0,template:function(t,i){1&t&&(l.F$t(),l.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),_j=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[is],is]}),n})();var yj=N(1144);const vj=["addListener","removeListener"],bj=["addEventListener","removeEventListener"],wj=["on","off"];function Kw(n,e,t,i){if((0,ga.m)(t)&&(i=t,t=void 0),i)return Kw(n,e,t).pipe(Ns(i));const[r,a]=function Ij(n){return(0,ga.m)(n.addEventListener)&&(0,ga.m)(n.removeEventListener)}(n)?bj.map(u=>f=>n[u](e,f,t)):function Ej(n){return(0,ga.m)(n.addListener)&&(0,ga.m)(n.removeListener)}(n)?vj.map(uF(n,e)):function Cj(n){return(0,ga.m)(n.on)&&(0,ga.m)(n.off)}(n)?wj.map(uF(n,e)):[];if(!r&&(0,yj.z)(n))return(0,pi.z)(u=>Kw(u,e,t))((0,Dr.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Jn.y(u=>{const f=(..._)=>u.next(1<_.length?_:_[0]);return r(f),()=>a(f)})}function uF(n,e){return t=>i=>n[t](e,i)}var dF=N(4408);const Yw={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=Yw;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(a=>{t=void 0,n(a)});return new fc.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=Yw;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Yw;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var hF=N(7565);new class Tj extends hF.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class Dj extends dF.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Yw.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:a}=e;null!=t&&(null===(r=a[a.length-1])||void 0===r?void 0:r.id)!==t&&(Yw.cancelAnimationFrame(t),e._scheduled=void 0)}});let LR,Aj=1;const oT={};function fF(n){return n in oT&&(delete oT[n],!0)}const Mj={setImmediate(n){const e=Aj++;return oT[e]=!0,LR||(LR=Promise.resolve()),LR.then(()=>fF(e)&&n()),e},clearImmediate(n){fF(n)}},{setImmediate:xj,clearImmediate:Rj}=Mj,aT={setImmediate(...n){const{delegate:e}=aT;return(e?.setImmediate||xj)(...n)},clearImmediate(n){const{delegate:e}=aT;return(e?.clearImmediate||Rj)(n)},delegate:void 0};new class Oj extends hF.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class kj extends dF.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=aT.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:a}=e;null!=t&&(null===(r=a[a.length-1])||void 0===r?void 0:r.id)!==t&&(aT.clearImmediate(t),e._scheduled=void 0)}});var Fj=N(3532);function pF(n,e=Gp.z){return function Nj(n){return(0,ti.e)((e,t)=>{let i=!1,r=null,a=null,u=!1;const f=()=>{if(a?.unsubscribe(),a=null,i){i=!1;const w=r;r=null,t.next(w)}u&&t.complete()},_=()=>{a=null,u&&t.complete()};e.subscribe((0,$t.x)(t,w=>{i=!0,r=w,a||(0,Dr.Xf)(n(w)).subscribe(a=(0,$t.x)(t,f,_))},()=>{u=!0,(!i||!a||a.closed)&&t.complete()}))})}(()=>function Vj(n=0,e,t=Gp.P){let i=-1;return null!=e&&((0,Fj.K)(e)?t=e:i=e),new Jn.y(r=>{let a=function Lj(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let u=0;return t.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},a)})}(n,e))}let lT=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Yt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Jn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(pF(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ut()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(ni(a=>!a||r.indexOf(a)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,a)=>{this._scrollableContainsElement(a,t)&&i.push(a)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=mv(i),a=t.getElementRef().nativeElement;do{if(r==a)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Kw(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(Aa),l.LFG(ne,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Qw=(()=>{class n{constructor(t,i,r,a){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=a,this._destroyed=new Yt.x,this._elementScrolled=new Jn.y(u=>this.ngZone.runOutsideAngular(()=>Kw(this.elementRef.nativeElement,"scroll").pipe(ns(this._destroyed)).subscribe(u)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=zw()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==zw()?t.left=t.right:1==zw()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;EN()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",r="right",a=this.elementRef.nativeElement;if("top"==t)return a.scrollTop;if("bottom"==t)return a.scrollHeight-a.clientHeight-a.scrollTop;const u=this.dir&&"rtl"==this.dir.value;return"start"==t?t=u?r:i:"end"==t&&(t=u?i:r),u&&2==zw()?t==i?a.scrollWidth-a.clientWidth-a.scrollLeft:a.scrollLeft:u&&1==zw()?t==i?a.scrollLeft+a.scrollWidth-a.clientWidth:-a.scrollLeft:t==i?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(lT),l.Y36(l.R0b),l.Y36(OR,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),VR=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Yt.x,this._changeListener=a=>{this._change.next(a)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,a=r.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-a.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(pF(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Aa),l.LFG(l.R0b),l.LFG(ne,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),mF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Gw,Xw],Gw,Xw]}),n})();const cT=["*"],Hj=["content"];function jj(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",2),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r._onBackdropClicked())}),l.qZA()}if(2&n){const t=l.oxw();l.ekj("mat-drawer-shown",t._isShowingBackdrop())}}function $j(n,e){1&n&&(l.TgZ(0,"mat-drawer-content"),l.Hsn(1,2),l.qZA())}const zj=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Gj=["mat-drawer","mat-drawer-content","*"];function qj(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",2),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r._onBackdropClicked())}),l.qZA()}if(2&n){const t=l.oxw();l.ekj("mat-drawer-shown",t._isShowingBackdrop())}}function Zj(n,e){1&n&&(l.TgZ(0,"mat-sidenav-content"),l.Hsn(1,2),l.qZA())}const Wj=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],Kj=["mat-sidenav","mat-sidenav-content","*"],gF={transformDrawer:KD("transform",[$m("open, open-instant",Ta({transform:"none",visibility:"visible"})),$m("void",Ta({"box-shadow":"none",visibility:"hidden"})),zm("void => open-instant",jm("0ms")),zm("void <=> open, open-instant => void",jm("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Qj=new l.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function Xj(){return!1}}),BR=new l.OlP("MAT_DRAWER_CONTAINER");let uT=(()=>{class n extends Qw{constructor(t,i,r,a,u){super(r,a,u),this._changeDetectorRef=t,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO),l.Y36((0,l.Gpc)(()=>yF)),l.Y36(l.SBq),l.Y36(lT),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,i){2&t&&l.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[l._Bn([{provide:Qw,useExisting:n}]),l.qOj],ngContentSelectors:cT,decls:1,vars:0,template:function(t,i){1&t&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),_F=(()=>{class n{constructor(t,i,r,a,u,f,_,w){this._elementRef=t,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=a,this._ngZone=u,this._interactivityChecker=f,this._doc=_,this._container=w,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Yt.x,this._animationEnd=new Yt.x,this._animationState="void",this.openedChange=new l.vpe(!0),this._openedStream=this.openedChange.pipe(ni(D=>D),(0,ft.U)(()=>{})),this.openedStart=this._animationStarted.pipe(ni(D=>D.fromState!==D.toState&&0===D.toState.indexOf("open")),Fg(void 0)),this._closedStream=this.openedChange.pipe(ni(D=>!D),(0,ft.U)(()=>{})),this.closedStart=this._animationStarted.pipe(ni(D=>D.fromState!==D.toState&&"void"===D.toState),Fg(void 0)),this._destroyed=new Yt.x,this.onPositionChanged=new l.vpe,this._modeChanged=new Yt.x,this.openedChange.subscribe(D=>{D?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Kw(this._elementRef.nativeElement,"keydown").pipe(ni(D=>27===D.keyCode&&!this.disableClose&&!function JD(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(D)),ns(this._destroyed)).subscribe(D=>this._ngZone.run(()=>{this.close(),D.stopPropagation(),D.preventDefault()}))}),this._animationEnd.pipe(Gb((D,A)=>D.fromState===A.fromState&&D.toState===A.toState)).subscribe(D=>{const{fromState:A,toState:F}=D;(0===F.indexOf("open")&&"void"===A||"void"===F&&0===A.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=mo(t)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=mo(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(mo(t))}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,i){t&&i&&(this._openedVia=i);const r=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),r}_setOpen(t,i,r){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(a=>{this.openedChange.pipe(_a(1)).subscribe(u=>a(u?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(t){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(CH),l.Y36(LN),l.Y36(Aa),l.Y36(l.R0b),l.Y36(RN),l.Y36(ne,8),l.Y36(BR,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(t,i){if(1&t&&l.Gf(Hj,5),2&t){let r;l.iGM(r=l.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,i){1&t&&l.WFA("@transform.start",function(a){return i._animationStarted.next(a)})("@transform.done",function(a){return i._animationEnd.next(a)}),2&t&&(l.uIk("align",null),l.d8E("@transform",i._animationState),l.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:cT,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"div",0,1),l.Hsn(2),l.qZA())},dependencies:[Qw],encapsulation:2,data:{animation:[gF.transformDrawer]},changeDetection:0}),n})(),yF=(()=>{class n{constructor(t,i,r,a,u,f=!1,_){this._dir=t,this._element=i,this._ngZone=r,this._changeDetectorRef=a,this._animationMode=_,this._drawers=new l.n_E,this.backdropClick=new l.vpe,this._destroyed=new Yt.x,this._doCheckSubject=new Yt.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Yt.x,t&&t.change.pipe(ns(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),u.change().pipe(ns(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=f}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=mo(t)}get hasBackdrop(){return this._backdropOverride??(!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode)}set hasBackdrop(t){this._backdropOverride=null==t?null:mo(t)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(ya(this._allDrawers),ns(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(ya(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(function TN(n,e=Gp.z){return(0,ti.e)((t,i)=>{let r=null,a=null,u=null;const f=()=>{if(r){r.unsubscribe(),r=null;const w=a;a=null,i.next(w)}};function _(){const w=u+n,D=e.now();if(D<w)return r=this.schedule(void 0,w-D),void i.add(r);f()}t.subscribe((0,$t.x)(i,w=>{a=w,u=e.now(),r||(r=e.schedule(_,n),i.add(r))},()=>{f(),i.complete()},void 0,()=>{a=r=null}))})}(10),ns(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();t+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,t-=r}t=t||null,i=i||null,(t!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:t,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(ni(i=>i.fromState!==i.toState),ns(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(ns(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){!t||t.onPositionChanged.pipe(ns(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(_a(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(ns((0,__.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";t?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(OR,8),l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(l.sBO),l.Y36(VR),l.Y36(Qj),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,uT,5),l.Suo(r,_F,5)),2&t){let a;l.iGM(a=l.CRH())&&(i._content=a.first),l.iGM(a=l.CRH())&&(i._allDrawers=a)}},viewQuery:function(t,i){if(1&t&&l.Gf(uT,5),2&t){let r;l.iGM(r=l.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[l._Bn([{provide:BR,useExisting:n}])],ngContentSelectors:Gj,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){1&t&&(l.F$t(zj),l.YNc(0,jj,1,2,"div",0),l.Hsn(1),l.Hsn(2,1),l.YNc(3,$j,2,0,"mat-drawer-content",1)),2&t&&(l.Q6J("ngIf",i.hasBackdrop),l.xp6(3),l.Q6J("ngIf",!i._content))},dependencies:[uT,pn],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),n})(),vF=(()=>{class n extends uT{constructor(t,i,r,a,u){super(t,i,r,a,u)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO),l.Y36((0,l.Gpc)(()=>wF)),l.Y36(l.SBq),l.Y36(lT),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(t,i){2&t&&l.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[l._Bn([{provide:Qw,useExisting:n}]),l.qOj],ngContentSelectors:cT,decls:1,vars:0,template:function(t,i){1&t&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),bF=(()=>{class n extends _F{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=mo(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=SN(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=SN(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(t,i){2&t&&(l.uIk("align",null),l.Udp("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),l.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[l.qOj],ngContentSelectors:cT,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"div",0,1),l.Hsn(2),l.qZA())},dependencies:[Qw],encapsulation:2,data:{animation:[gF.transformDrawer]},changeDetection:0}),n})(),wF=(()=>{class n extends yF{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,vF,5),l.Suo(r,bF,5)),2&t){let a;l.iGM(a=l.CRH())&&(i._content=a.first),l.iGM(a=l.CRH())&&(i._allDrawers=a)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[l._Bn([{provide:BR,useExisting:n}]),l.qOj],ngContentSelectors:Kj,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){1&t&&(l.F$t(Wj),l.YNc(0,qj,1,2,"div",0),l.Hsn(1),l.Hsn(2,1),l.YNc(3,Zj,2,0,"mat-sidenav-content",1)),2&t&&(l.Q6J("ngIf",i.hasBackdrop),l.xp6(3),l.Q6J("ngIf",!i._content))},dependencies:[vF,pn],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),n})(),Jj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[_o,is,Xw],Xw,is]}),n})(),e3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[is],is]}),n})();const CF=["*"],n3=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],r3=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],c3=FH(tT(class{})),u3=tT(class{}),d3=new l.OlP("MatList"),IF=new l.OlP("MatNavList");let h3=(()=>{class n extends c3{constructor(){super(...arguments),this._stateChanges=new Yt.x}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[l._Bn([{provide:IF,useExisting:n}]),l.qOj,l.TTD],ngContentSelectors:CF,decls:1,vars:0,template:function(t,i){1&t&&(l.F$t(),l.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),n})(),DF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),TF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})(),f3=(()=>{class n extends u3{constructor(t,i,r,a){super(),this._element=t,this._isInteractiveList=!1,this._destroyed=new Yt.x,this._disabled=!1,this._isInteractiveList=!!(r||a&&"action-list"===a._getListType()),this._list=r||a;const u=this._getHostElement();"button"===u.nodeName.toLowerCase()&&!u.hasAttribute("type")&&u.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(ns(this._destroyed)).subscribe(()=>{i.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(t){this._disabled=mo(t)}ngAfterContentInit(){!function zN(n,e,t="mat"){n.changes.pipe(ya(n)).subscribe(({length:i})=>{qw(e,`${t}-2-line`,!1),qw(e,`${t}-3-line`,!1),qw(e,`${t}-multi-line`,!1),2===i||3===i?qw(e,`${t}-${i}-line`,!0):i>3&&qw(e,`${t}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(IF,8),l.Y36(d3,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,DF,5),l.Suo(r,TF,5),l.Suo(r,$N,5)),2&t){let a;l.iGM(a=l.CRH())&&(i._avatar=a.first),l.iGM(a=l.CRH())&&(i._icon=a.first),l.iGM(a=l.CRH())&&(i._lines=a)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(t,i){2&t&&l.ekj("mat-list-item-disabled",i.disabled)("mat-list-item-avatar",i._avatar||i._icon)("mat-list-item-with-avatar",i._avatar||i._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[l.qOj],ngContentSelectors:r3,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(t,i){1&t&&(l.F$t(n3),l.TgZ(0,"span",0),l._UZ(1,"span",1),l.Hsn(2),l.TgZ(3,"span",2),l.Hsn(4,1),l.qZA(),l.Hsn(5,2),l.qZA()),2&t&&(l.xp6(1),l.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i._isRippleDisabled()))},dependencies:[KN],encapsulation:2,changeDetection:0}),n})(),v3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[GN,YN,is,QN,_o],GN,is,QN,e3]}),n})();const b3=["drawer"];function w3(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",18)(1,"div",19)(2,"p"),l._uU(3,"App created by Edwin"),l.qZA(),l.TgZ(4,"p"),l._uU(5,"Todos los derechos reservados | \xa9 2023"),l.qZA(),l.TgZ(6,"button",20),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.cerrar())}),l._uU(7,"cerrar"),l.qZA()()()}}let Jw=(()=>{class n{constructor(t,i,r){this.afAuth=t,this.router=i,this.toastr=r,this.modal=!1,this.today=new Date}ngOnInit(){setInterval(()=>{this.today=new Date},1e3),this.afAuth.currentUser.then(t=>{if(t)switch(t.email){case"dlaleja10@hotmail.com":this.dataUser="Alejandra";break;case"administrador.sistema@gmail.com":this.dataUser="Administrador";break;case"brahianriver99@gmail.com":this.dataUser="Brahian";break;case"edwinkaycut@gmail.com":this.dataUser="EdwinK"}else this.router.navigate(["/login"])})}logout(){this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}abrir(){this.modal=!0}cerrar(){this.modal=!1}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Fo),l.Y36(ii),l.Y36(Sa))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-navbar"]],viewQuery:function(t,i){if(1&t&&l.Gf(b3,5),2&t){let r;l.iGM(r=l.CRH())&&(i.drawer=r.first)}},decls:33,vars:6,consts:[["color","warn",2,"display","flex","justify-content","space-between"],[2,"display","flex"],[2,"display","flex","align-items","center"],["mat-icon-button","",2,"width","40px","height","38px",3,"click"],[2,"display","grid","font-size","26px","justify-content","center"],["routerLink","/list-products",1,"logout","elH2",2,"padding-left","8px","cursor","pointer"],[2,"margin-left","10%"],[1,"welcome"],[1,"logout",3,"click"],[2,"position","unset"],["mode","over"],["drawer",""],["mat-list-item","","routerLink","/list-products"],["mat-list-item","","routerLink","/info-product"],["mat-list-item","","routerLink","/reportes"],["mat-list-item","","routerLink","/estadisticas"],["mat-list-item","",3,"click"],["class","modal",4,"ngIf"],[1,"modal"],[1,"contenido-modal"],[3,"click"]],template:function(t,i){if(1&t){const r=l.EpF();l.TgZ(0,"mat-toolbar",0)(1,"div",1)(2,"div",2)(3,"button",3),l.NdJ("click",function(){l.CHM(r);const u=l.MAs(20);return l.KtG(u.toggle())}),l.TgZ(4,"mat-icon",4),l._uU(5,"menu"),l.qZA()()(),l.TgZ(6,"div")(7,"span",5),l._uU(8,"LicorMania"),l.qZA(),l.TgZ(9,"span",6),l._uU(10),l.ALo(11,"date"),l.qZA()()(),l.TgZ(12,"div")(13,"h3",7),l._uU(14),l.qZA()(),l.TgZ(15,"div")(16,"span",8),l.NdJ("click",function(){return i.logout()}),l._uU(17,"Cerrar Sesion"),l.qZA()()(),l.TgZ(18,"mat-sidenav-container",9)(19,"mat-sidenav",10,11)(21,"mat-nav-list")(22,"a",12),l._uU(23,"Pagina principal"),l.qZA(),l.TgZ(24,"a",13),l._uU(25,"Productos Info"),l.qZA(),l.TgZ(26,"a",14),l._uU(27,"Reportes"),l.qZA(),l.TgZ(28,"a",15),l._uU(29,"Estadisticas"),l.qZA(),l.TgZ(30,"a",16),l.NdJ("click",function(){return i.abrir()}),l._uU(31,"Acerca de"),l.qZA()()(),l.YNc(32,w3,8,0,"div",17),l.qZA()}2&t&&(l.xp6(10),l.Oqu(l.xi3(11,3,i.today,"d MMM y, EEEE h:mm:ss a")),l.xp6(4),l.hij("Hola!! ",i.dataUser,""),l.xp6(18),l.Q6J("ngIf",i.modal))},dependencies:[pn,vl,kp,KH,gj,bF,wF,h3,f3,jc],styles:['.navbar[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 2px 4px #0000001a;padding:1rem}.navbar-brand[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.navbar-toggler[_ngcontent-%COMP%]{border:none;padding:.25rem .5rem}.navbar-toggler-icon[_ngcontent-%COMP%]{display:inline-block;width:1.5rem;height:1.5rem;background-repeat:no-repeat;background-position:center;background-size:cover;background-image:url(\'data:image/svg+xml;charset=UTF-8,%3Csvg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"%3E%3Cpath stroke="%23333" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M1 1h14M1 8h14M1 15h14"/%3E%3C/svg%3E\')}.navbar-nav[_ngcontent-%COMP%]{flex-direction:column;padding-top:1rem}.nav-item[_ngcontent-%COMP%]{margin-bottom:.5rem}@media (min-width: 768px){.navbar-nav[_ngcontent-%COMP%]{flex-direction:row}.nav-item[_ngcontent-%COMP%]{margin:0 .5rem}}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0003;display:flex;justify-content:center;align-items:center;z-index:100}.contenido-modal[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0003;display:flex;flex-direction:column;align-items:center}.logout[_ngcontent-%COMP%]{cursor:pointer}.logout[_ngcontent-%COMP%]:hover{color:#d7d2d2}.elH2[_ngcontent-%COMP%]{font-size:32px;font-family:Arial,sans-serif;color:#505cfb;text-align:center;text-shadow:2px 2px #f3f0f0}']}),n})();function E3(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div")(1,"div",8),l.NdJ("click",function(){const a=l.CHM(t).$implicit,u=l.oxw();return l.KtG(u.abrirModal(a))}),l._UZ(2,"img",9),l.TgZ(3,"h3",10),l._uU(4),l.qZA(),l.TgZ(5,"p"),l._uU(6),l.ALo(7,"currency"),l.qZA(),l.TgZ(8,"p",10),l._uU(9),l.qZA(),l.TgZ(10,"p"),l._uU(11),l.qZA(),l.TgZ(12,"p",11),l._uU(13),l.qZA()()()}if(2&n){const t=e.$implicit,i=l.oxw();l.xp6(2),l.Q6J("src",t.imagenes,l.LSH),l.xp6(2),l.Oqu(t.nombre),l.xp6(2),l.hij("$",l.gM2(7,6,t.precio," ","symbol","1.0"),""),l.xp6(3),l.Oqu(t.descripcion),l.xp6(2),l.hij(" Disponible: ",t.disponible?t.disponible:"No disponible"," "),l.xp6(2),l.Oqu(t.disponible?"":i.message)}}function C3(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",12)(1,"div",13),l._UZ(2,"img",14),l.TgZ(3,"h3"),l._uU(4),l.qZA(),l.TgZ(5,"p"),l._uU(6),l.qZA(),l.TgZ(7,"p",10),l._uU(8,"Precio: "),l.TgZ(9,"input",15),l.NdJ("ngModelChange",function(r){l.CHM(t);const a=l.oxw();return l.KtG(a.productoSeleccionado.precio=r)})("input",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.actualizarPrecioTotal())}),l.qZA()(),l.TgZ(10,"p"),l._uU(11),l.qZA(),l.TgZ(12,"div",16)(13,"button",17),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.decrementarCantidad())}),l._uU(14," - "),l.qZA(),l.TgZ(15,"input",18),l.NdJ("ngModelChange",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.onInputChange())})("ngModelChange",function(r){l.CHM(t);const a=l.oxw();return l.KtG(a.productoSeleccionado.cantidad=r)})("input",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.actualizarPrecioTotal())}),l.qZA(),l.TgZ(16,"button",19),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.incrementarCantidad())}),l._uU(17," + "),l.qZA()(),l.TgZ(18,"p"),l._uU(19),l.ALo(20,"currency"),l.qZA(),l.TgZ(21,"div",20)(22,"button",21),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.cerrarModal())}),l._uU(23," Cerrar "),l.qZA(),l.TgZ(24,"button",22),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.registrarProducto())}),l._uU(25," Agregar "),l.qZA()()()()}if(2&n){const t=l.oxw();l.xp6(2),l.Q6J("src",t.productoSeleccionado.imagenes,l.LSH),l.xp6(2),l.Oqu(t.productoSeleccionado.nombre),l.xp6(2),l.hij("Descripci\xf3n: ",t.productoSeleccionado.descripcion,""),l.xp6(3),l.Q6J("ngModel",t.productoSeleccionado.precio),l.xp6(2),l.hij(" Disponible: ",t.productoSeleccionado.disponible?t.productoSeleccionado.disponible:"No disponible"," "),l.xp6(4),l.Q6J("ngModel",t.productoSeleccionado.cantidad),l.xp6(1),l.Q6J("disabled",t.enabledButton),l.xp6(3),l.hij("Precio Total: $",l.gM2(20,9,t.productoSeleccionado.precioTotal," ","symbol","1.0"),""),l.xp6(5),l.Q6J("disabled",t.habilitar)}}function I3(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"tr")(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.ALo(7,"currency"),l.qZA(),l.TgZ(8,"td")(9,"button",23),l.NdJ("click",function(){const a=l.CHM(t).$implicit,u=l.oxw();return l.KtG(u.eliminarProducto(a))}),l._uU(10," Eliminar "),l.qZA()()()}if(2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.nombre),l.xp6(2),l.Oqu(t.cantidad),l.xp6(2),l.hij("$ ",l.gM2(7,3,t.precioTotal," ","symbol","1.0"),"")}}function D3(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",12)(1,"div",13)(2,"span",26),l._uU(3,"Agregar nuevo reporte"),l.qZA(),l.TgZ(4,"div",27)(5,"span"),l._uU(6,"Total a pagar: "),l.qZA(),l.TgZ(7,"p"),l._uU(8),l.ALo(9,"currency"),l.qZA(),l.TgZ(10,"p"),l._uU(11),l.qZA(),l.TgZ(12,"label")(13,"input",28),l.NdJ("ngModelChange",function(r){l.CHM(t);const a=l.oxw(2);return l.KtG(a.valorRestado=r)})("ngModelChange",function(){l.CHM(t);const r=l.oxw(2);return l.KtG(r.restarValor())}),l.qZA()()(),l.TgZ(14,"div",29)(15,"button",30),l.NdJ("click",function(){l.CHM(t);const r=l.oxw(2);return l.KtG(r.cerrarModal())}),l._uU(16," Cerrar "),l.qZA(),l.TgZ(17,"button",31),l.NdJ("click",function(){l.CHM(t);const r=l.oxw(2);return l.KtG(r.agregarReporte())}),l._uU(18," Crear "),l.qZA()()()()}if(2&n){const t=l.oxw(2);l.xp6(8),l.hij(" $",l.gM2(9,3,t.calcularTotal()," ","symbol","1.0")," "),l.xp6(3),l.hij("Devuelta: $",t.resultado,""),l.xp6(2),l.Q6J("ngModel",t.valorRestado)}}function T3(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"tfoot")(1,"tr",24)(2,"th"),l._uU(3,"Total:"),l.qZA(),l.TgZ(4,"th"),l._uU(5),l.qZA(),l.TgZ(6,"th")(7,"button",25),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.modalRegistrar())}),l._uU(8," Agregar Reporte "),l.qZA(),l.YNc(9,D3,19,8,"div",3),l.qZA(),l.TgZ(10,"th")(11,"button",23),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.borrarTabla())}),l._uU(12," Borrar todo "),l.qZA()()()()}if(2&n){const t=l.oxw();l.xp6(5),l.hij("$ ",t.calcularTotal(),""),l.xp6(4),l.Q6J("ngIf",t.registrarActivo)}}function S3(n,e){1&n&&(l.TgZ(0,"p",32),l._uU(1," No hay productos seleccionados "),l.qZA())}let A3=(()=>{class n{constructor(t,i,r,a,u){this.afAuth=t,this._productService=i,this._reportes=r,this.toastr=a,this.router=u,this.productoSeleccionado=null,this.modalActivo=!1,this.productosRegistrados=[],this.message="",this.enabledButton=!1,this.habilitar=!0,this.products=[],this.registrarActivo=!1,this.resultado=0,this.esPoker=!1}ngOnInit(){this.getProducts(),this.afAuth.currentUser.then(t=>{t?this.dataUser=t:this.router.navigate(["/login"])})}getProducts(){this._productService.getProducts().subscribe(t=>{this.products=[],t.forEach(i=>{this.products.push({id:i.payload.doc.id,...i.payload.doc.data()})})})}actualizarPrecioTotal(){this.productoSeleccionado.precioTotal=this.productoSeleccionado.precio*this.productoSeleccionado.cantidad,this.enabledButton=!1,this.habilitar=!(this.productoSeleccionado.cantidad<=this.productoSeleccionado.disponible),(0==this.productoSeleccionado.cantidad||null==this.productoSeleccionado.cantidad||null==this.productoSeleccionado.cantidad)&&(this.habilitar=!0)}onInputChange(){this.habilitar=!1}calcularPrecioTotal(t){return this.productoSeleccionado.precio*t}abrirModal(t){this.habilitar=!0,this.productoSeleccionado=t,this.productoSeleccionado.cantidad=0;const i=this.products.find(r=>r.nombre==this.productoSeleccionado.nombre);Number.isNaN(i?.disponible)||0==i?.disponible?(this.modalActivo=!1,this.message="* Producto agotado!!",setTimeout(()=>{this.message=""},2e3)):this.modalActivo=!0}cerrarModal(){this.registrarActivo=!1,this.enabledButton=!1,this.modalActivo=!1,this.productoSeleccionado.cantidad=0,this.valorRestado=null,this.resultado=0,this.productoSeleccionado.precioTotal=0}incrementarCantidad(){this.habilitar=!1,this.maxCantidad=this.productoSeleccionado.cantidad,this.enabledButton=this.maxCantidad+1==this.productoSeleccionado.disponible,this.productoSeleccionado.cantidad++,this.productoSeleccionado.precioTotal=this.productoSeleccionado.cantidad*this.productoSeleccionado.precio}decrementarCantidad(){this.enabledButton=!1,this.productoSeleccionado.cantidad>0&&(this.productoSeleccionado.cantidad--,this.productoSeleccionado.precioTotal=this.productoSeleccionado.cantidad*this.productoSeleccionado.precio),0==this.productoSeleccionado.cantidad&&(this.habilitar=!0)}registrarProducto(){let{id:t,nombre:i,cantidad:r,descripcion:a,disponible:u,imagenes:f,precio:_,precioCompra:w,precioTotal:D}=this.productoSeleccionado;const A=this.products.find(F=>F.nombre===i);A&&(A.disponible-=r,u=A.disponible),this.productosRegistrados.push({id:t,nombre:i,cantidad:r,descripcion:a,disponible:u,imagenes:f,precio:_,precioCompra:w,precioTotal:D}),this.modalActivo=!1,this.enabledButton=!1,this.productoSeleccionado.cantidad=0,this.productoSeleccionado.precioTotal=0}eliminarProducto(t){const i=this.productosRegistrados.indexOf(t);i>-1&&(this.productosRegistrados.splice(i,1),this.toastr.error("El producto fue eliminado con exito","Producto eliminado"));const r=this.products.find(a=>a.nombre===this.productoSeleccionado.nombre);r&&(r.disponible+=t.cantidad)}borrarTabla(){this.getProducts(),this.productosRegistrados=[],this.toastr.error("Todos los productos fueron eliminados","Eliminados"),this.valorRestado=null,this.resultado=0}calcularTotal(){let t=0;return this.productosRegistrados.forEach(i=>{t+=i.precioTotal}),t}modalRegistrar(){this.registrarActivo=!0}restarValor(){this.resultado=this.valorRestado>=this.calcularTotal()?Math.abs(this.calcularTotal()-this.valorRestado):0}agregarReporte(){this._productService.updateProducts(this.productosRegistrados).then(()=>{}),this.productosRegistrados.map(A=>A.id);const i=this.productosRegistrados.map(A=>A.nombre),r=this.productosRegistrados.map(A=>A.cantidad),a=this.productosRegistrados.map(A=>A.disponible),D={nombre:i,cantidad:r,descripcion:this.productosRegistrados.map(A=>A.descripcion),disponible:a,precio:this.productosRegistrados.map(A=>A.precio),precioCompra:this.productosRegistrados.map(A=>A.precioCompra),precioTotal:this.productosRegistrados.map(A=>A.precioTotal),total:this.calcularTotal(),fechaCreacion:new Date};this._reportes.addReport(D).then(()=>{this.toastr.success("Registrado con exito","Reporte Registrado!!"),this.productosRegistrados=[],this.registrarActivo=!1}),this.getProducts(),this.productoSeleccionado=null}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Fo),l.Y36(Hw),l.Y36(fN),l.Y36(Sa),l.Y36(ii))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-list-products"]],decls:20,vars:5,consts:[[1,"table-responsive"],[2,"display","flex","flex-wrap","wrap","justify-content","space-evenly"],[4,"ngFor","ngForOf"],["class","modal",4,"ngIf"],[1,"table","table-striped"],["scope","col"],[4,"ngIf"],["style","margin: 6px",4,"ngIf"],[1,"producto",2,"border","1px solid #8080802e","border-radius","6px","margin","2px",3,"click"],["alt","Imagen no disponible","width","100","height","100",3,"src"],[2,"text-align","center"],[2,"color","red"],[1,"modal"],[1,"contenido-modal"],["alt","Imagen no disponible","width","200","height","200",3,"src"],["type","number",2,"text-align","center",3,"ngModel","ngModelChange","input"],[1,"input-group"],[1,"btn-cantidad","btn-decrementar",3,"click"],["id","cantidad","type","number","min","0",3,"ngModel","ngModelChange","input"],[1,"btn-cantidad","btn-incrementar",3,"disabled","click"],[1,"botones"],[2,"background-color","red",3,"click"],["type","button",1,"btn","btn-success",2,"background-color","green",3,"disabled","click"],[1,"btn","btn-danger",3,"click"],[2,"background-color","#0014ff2b"],[1,"btn","btn-success",3,"click"],[2,"margin-bottom","14px"],[2,"display","contents"],["type","number",3,"ngModel","ngModelChange"],[2,"gap","7px","display","flex"],[1,"btn","btn-danger",2,"background-color","blue",3,"click"],["type","button",1,"btn","btn-success",2,"background-color","green",3,"click"],[2,"margin","6px"]],template:function(t,i){1&t&&(l._UZ(0,"app-navbar"),l.TgZ(1,"div",0)(2,"div",1),l.YNc(3,E3,14,11,"div",2),l.YNc(4,C3,26,14,"div",3),l.qZA(),l.TgZ(5,"table",4)(6,"thead")(7,"tr")(8,"th",5),l._uU(9,"Nombre"),l.qZA(),l.TgZ(10,"th",5),l._uU(11,"Cantidad"),l.qZA(),l.TgZ(12,"th",5),l._uU(13,"SubTotal"),l.qZA(),l.TgZ(14,"th",5),l._uU(15,"Acciones"),l.qZA()()(),l.TgZ(16,"tbody"),l.YNc(17,I3,11,8,"tr",2),l.qZA(),l.YNc(18,T3,13,2,"tfoot",6),l.YNc(19,S3,2,0,"p",7),l.qZA()()),2&t&&(l.xp6(3),l.Q6J("ngForOf",i.products),l.xp6(1),l.Q6J("ngIf",i.modalActivo),l.xp6(13),l.Q6J("ngForOf",i.productosRegistrados),l.xp6(1),l.Q6J("ngIf",0!==i.productosRegistrados.length),l.xp6(1),l.Q6J("ngIf",0==i.productosRegistrados.length))},dependencies:[fn,pn,qr,cc,rc,S,Eu,Jw,Yo],styles:[".producto[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;cursor:pointer;margin:10px}.producto[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:10px}.producto[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:5px}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:100}.contenido-modal[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #00000080;display:flex;flex-direction:column;align-items:center}.contenido-modal[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:10px}.contenido-modal[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:10px}.contenido-modal[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.contenido-modal[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:10px;padding:5px;width:100%;box-sizing:border-box;border:1px solid #ccc;border-radius:5px}.contenido-modal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px 10px;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer}.btn-cantidad[_ngcontent-%COMP%]{padding:5px;border:none;background-color:#eee;cursor:pointer}.btn-decrementar[_ngcontent-%COMP%]{border-radius:5px 0 0 5px}.btn-incrementar[_ngcontent-%COMP%]{border-radius:0 5px 5px 0}.input-group[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}#cantidad[_ngcontent-%COMP%]{width:40px;text-align:center}.btn-decrementar[_ngcontent-%COMP%]{height:32px;order:1}#cantidad[_ngcontent-%COMP%]{order:2}.btn-incrementar[_ngcontent-%COMP%]{height:32px;order:3}.input-group[_ngcontent-%COMP%]{display:flex;align-items:flex-start;margin-bottom:10px;justify-content:space-between;width:100px}.botones[_ngcontent-%COMP%]{display:flex;gap:12px}"]}),n})();function M3(n,e){1&n&&(l.TgZ(0,"div",14),l._uU(1," Los campos con * son obligatorios "),l.qZA())}let AF=(()=>{class n{constructor(t,i,r,a,u){this._productService=t,this.toastr=i,this.fb=r,this.router=a,this.aRouter=u,this.subbmited=!1,this.titleChange="Agregar Producto",this.urlImagen="https://media.istockphoto.com/id/1162198273/es/vector/dise%C3%B1o-de-ilustraci%C3%B3n-vectorial-plana-icono-de-signo-de-interrogaci%C3%B3n.jpg?s=1024x1024&w=is&k=20&c=pZBCbPrSZDpGfF0OzRN78BeLUIJbiWaRxeKVO2TG7sA=",this.createProduct=this.fb.group({nombre:["",Zn.required],descripcion:[""],precioCompra:["",Zn.required],precio:["",Zn.required],imagenes:[""],disponible:["",Zn.required]}),this.id=this.aRouter.snapshot.paramMap.get("id")}ngOnInit(){this.EXeditProducto()}verificar(){return!!this.createProduct.valid||(this.subbmited=!0,setTimeout(()=>{this.subbmited=!1},4e3),!1)}agregarEditarProducto(){this.subbmited=!0,!this.createProduct.invalid&&(null===this.id?this.agregarProducto():this.editarProducto(this.id))}agregarProducto(){this._productService.agregarproducto({nombre:this.createProduct.value.nombre,descripcion:this.createProduct.value.descripcion,precioCompra:this.createProduct.value.precioCompra,precio:this.createProduct.value.precio,cantidad:0,precioTotal:0,imagenes:this.createProduct.value.imagenes,disponible:this.createProduct.value.disponible}).then(()=>{this.toastr.success("Agregado con exito!!","Producto Agregado"),this.router.navigate(["/info-product"])})}editarProducto(t){this._productService.update(t,{nombre:this.createProduct.value.nombre,descripcion:this.createProduct.value.descripcion,precioCompra:this.createProduct.value.precioCompra,precio:this.createProduct.value.precio,imagenes:this.createProduct.value.imagenes,disponible:this.createProduct.value.disponible}).then(()=>{this.toastr.info("Producto modificado con exito","Actualizacion Exitosa"),this.router.navigate(["/info-product"])})}EXeditProducto(){null!==this.id&&(this.titleChange="Editar Producto",this._productService.getProducto(this.id).subscribe(t=>{this.createProduct.setValue({nombre:t.payload.data().nombre,descripcion:t.payload.data().descripcion,precioCompra:t.payload.data().precioCompra,precio:t.payload.data().precio,imagenes:t.payload.data().imagenes,disponible:t.payload.data().disponible})}))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Hw),l.Y36(Sa),l.Y36(ap),l.Y36(ii),l.Y36(yl))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-create-product"]],decls:40,vars:4,consts:[[2,"display","flex","flex-direction","column","align-items","center"],[3,"formGroup","ngSubmit"],[1,"container-form"],[1,"container-element"],["type","text","placeholder","Nombre del producto","formControlName","nombre",1,"form-control","mt-2","text-center"],["type","text","placeholder","Descripci\xf3n","formControlName","descripcion",1,"form-control","mt-2","text-center"],["type","number","placeholder","precio de compra","formControlName","precioCompra",1,"form-control","mt-2","text-center"],["type","number","placeholder","precio de venta","formControlName","precio",1,"form-control","mt-2","text-center"],["type","text","placeholder","url de imagen","formControlName","imagenes",1,"form-control","mt-2","text-center",3,"ngModel","ngModelChange"],["type","number","placeholder","Disponible","formControlName","disponible",1,"form-control","mt-2","text-center"],[2,"display","flex","gap","11px","margin","14px 0 0 0","justify-content","center"],["routerLink","/info-product",1,"btn","btn-danger"],["type","submit",1,"btn","btn-success",3,"click"],["style","color: red",4,"ngIf"],[2,"color","red"]],template:function(t,i){1&t&&(l._UZ(0,"app-navbar"),l.TgZ(1,"div",0)(2,"div")(3,"h2"),l._uU(4),l.qZA()(),l.TgZ(5,"div")(6,"form",1),l.NdJ("ngSubmit",function(){return i.agregarEditarProducto()}),l.TgZ(7,"div",2)(8,"div",3)(9,"label"),l._uU(10,"* Nombre "),l._UZ(11,"input",4),l.qZA()(),l.TgZ(12,"div",3)(13,"label"),l._uU(14,"Descripci\xf3n "),l._UZ(15,"input",5),l.qZA()(),l.TgZ(16,"div",3)(17,"label"),l._uU(18,"* Precio de compra "),l._UZ(19,"input",6),l.qZA()(),l.TgZ(20,"div",3)(21,"label"),l._uU(22,"* Precio de venta "),l._UZ(23,"input",7),l.qZA()(),l.TgZ(24,"div",3)(25,"label"),l._uU(26,"Imagen "),l.TgZ(27,"input",8),l.NdJ("ngModelChange",function(a){return i.urlImagen=a}),l.qZA()()(),l.TgZ(28,"div",3)(29,"label"),l._uU(30,"* Disponible "),l._UZ(31,"input",9),l.qZA()(),l.TgZ(32,"div",10)(33,"div",3)(34,"button",11),l._uU(35," Volver "),l.qZA()(),l.TgZ(36,"div",3)(37,"button",12),l.NdJ("click",function(){return i.verificar()}),l._uU(38," Aceptar "),l.qZA()()(),l.YNc(39,M3,2,0,"div",13),l.qZA()()()()),2&t&&(l.xp6(4),l.Oqu(i.titleChange),l.xp6(2),l.Q6J("formGroup",i.createProduct),l.xp6(21),l.Q6J("ngModel",i.urlImagen),l.xp6(12),l.Q6J("ngIf",i.subbmited&&i.createProduct.invalid))},dependencies:[pn,vl,dl,qr,cc,rc,sl,io,Ci,Jw]}),n})();function x3(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",15)(1,"div",16)(2,"p"),l._uU(3,"\xbfestas seguro que deseas eliminar este producto?"),l.qZA(),l.TgZ(4,"div",17)(5,"button",18),l.NdJ("click",function(){l.CHM(t);const r=l.oxw(2);return l.KtG(r.cerrarModalEliminar())}),l._uU(6," Cerrar "),l.qZA(),l.TgZ(7,"button",19),l.NdJ("click",function(){l.CHM(t);const r=l.oxw(2);return l.KtG(r.eliminarProducto2())}),l._uU(8," Eliminar "),l.qZA()()()()}}const R3=function(n){return["/edit-product/",n]};function k3(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"tr")(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l._UZ(8,"img",9),l.qZA(),l.TgZ(9,"td"),l._uU(10),l.ALo(11,"currency"),l.qZA(),l.TgZ(12,"td"),l._uU(13),l.ALo(14,"currency"),l.qZA(),l.TgZ(15,"td",10)(16,"div",11)(17,"div"),l._UZ(18,"i",12),l.qZA(),l.TgZ(19,"div")(20,"i",13),l.NdJ("click",function(){const a=l.CHM(t).$implicit,u=l.oxw();return l.KtG(u.abrirModalEliminar(a.id))}),l.qZA(),l.YNc(21,x3,9,0,"div",14),l.qZA()()()()}if(2&n){const t=e.$implicit,i=l.oxw();l.xp6(2),l.Oqu(t.nombre),l.xp6(2),l.Oqu(t.descripcion),l.xp6(2),l.Oqu(t.disponible),l.xp6(2),l.Q6J("src",t.imagenes,l.LSH),l.xp6(2),l.hij("$",l.gM2(11,8,t.precioCompra," ","symbol","1.0"),""),l.xp6(3),l.hij("$",l.gM2(14,13,t.precio," ","symbol","1.0"),""),l.xp6(5),l.Q6J("routerLink",l.VKq(18,R3,t.id)),l.xp6(3),l.Q6J("ngIf",i.modalActivoEliminar)}}function O3(n,e){1&n&&(l.TgZ(0,"p"),l._uU(1,"No hay productos seleccionados"),l.qZA())}let P3=(()=>{class n{constructor(t,i){this._productService=t,this.toastr=i,this.products=[],this.modalActivoEliminar=!1}ngOnInit(){this.getProducts()}getProducts(){this._productService.getProducts().subscribe(t=>{this.products=[],t.forEach(i=>{this.products.push({id:i.payload.doc.id,...i.payload.doc.data()})})})}abrirModalEliminar(t){this.idObtenido=t,this.modalActivoEliminar=!0}cerrarModalEliminar(){this.modalActivoEliminar=!1}eliminarProducto2(){this._productService.deleteProducts(this.idObtenido).then(()=>{this.modalActivoEliminar=!1,this.toastr.error("El producto fue eliminado con exito","Producto eliminado")})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Hw),l.Y36(Sa))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-info-product"]],decls:32,vars:2,consts:[[2,"margin","6px 6px 12px 6px"],[2,"display","flex","justify-content","space-between"],[1,"float"],["routerLink","/create-product",1,"btn","btn-dark","btn-lg"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[4,"ngIf"],["routerLink","/list-products",1,"btn","btn-danger"],["width","50","height","50","alt","url no valida",3,"src"],[2,"width","85px"],[2,"display","flex","justify-content","space-evenly"],[1,"fas","fa-edit","fa-lg","text-info",2,"cursor","pointer",3,"routerLink"],[1,"fas","fa-trash-alt","fa-lg","text-danger",2,"cursor","pointer",3,"click"],["class","modal",4,"ngIf"],[1,"modal"],[1,"contenido-modal"],[1,"botones",2,"display","flex","gap","8px","justify-content","center"],[1,"btn","btn-danger",2,"background-color","blue",3,"click"],["type","button",1,"btn","btn-success",2,"background-color","red",3,"click"]],template:function(t,i){1&t&&(l._UZ(0,"app-navbar"),l.TgZ(1,"div",0)(2,"div",1)(3,"div")(4,"H3"),l._uU(5,"LISTA DE PRODUCTOS"),l.qZA()(),l.TgZ(6,"div",2)(7,"button",3),l._uU(8," Agregar nuevo producto "),l.qZA()()()(),l.TgZ(9,"table",4)(10,"thead")(11,"tr")(12,"th",5),l._uU(13,"Nombre"),l.qZA(),l.TgZ(14,"th",5),l._uU(15,"Descripcion"),l.qZA(),l.TgZ(16,"th",5),l._uU(17,"Disponible"),l.qZA(),l.TgZ(18,"th",5),l._uU(19,"URL imagen"),l.qZA(),l.TgZ(20,"th",5),l._uU(21,"Precio compra"),l.qZA(),l.TgZ(22,"th",5),l._uU(23,"Precio venta"),l.qZA(),l.TgZ(24,"th",5),l._uU(25,"Acciones"),l.qZA()()(),l.TgZ(26,"tbody"),l.YNc(27,k3,22,20,"tr",6),l.qZA(),l.YNc(28,O3,2,0,"p",7),l.qZA(),l.TgZ(29,"div",0)(30,"button",8),l._uU(31,"Volver"),l.qZA()()),2&t&&(l.xp6(27),l.Q6J("ngForOf",i.products),l.xp6(1),l.Q6J("ngIf",0==i.products.length))},dependencies:[fn,pn,vl,Jw,Yo],styles:[".modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0000001a;display:flex;justify-content:center;align-items:center;z-index:100}.contenido-modal[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a;display:flex;flex-direction:column;align-items:center}"]}),n})();function N3(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",6)(1,"div",7)(2,"p"),l._uU(3,"\xbfestas seguro que deseas eliminar este producto?"),l.qZA(),l.TgZ(4,"div",8)(5,"button",9),l.NdJ("click",function(){l.CHM(t);const r=l.oxw(2);return l.KtG(r.cerrarModalEliminar())}),l._uU(6," Cerrar "),l.qZA(),l.TgZ(7,"button",10),l.NdJ("click",function(){l.CHM(t);const r=l.oxw(2);return l.KtG(r.eliminarProducto2())}),l._uU(8," Eliminar "),l.qZA()()()()}}function F3(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"tr")(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.ALo(7,"currency"),l.qZA(),l.TgZ(8,"td")(9,"div")(10,"i",4),l.NdJ("click",function(){const a=l.CHM(t).$implicit,u=l.oxw();return l.KtG(u.abrirModalEliminar(a.id))}),l.qZA(),l.YNc(11,N3,9,0,"div",5),l.qZA()()()}if(2&n){const t=e.$implicit,i=l.oxw();l.xp6(2),l.hij(" ",t.fechaCreacion," "),l.xp6(2),l.hij(" ",i.countOccurrences(t.nombre).join(", ")," "),l.xp6(2),l.hij(" $",l.gM2(7,4,t.total," ","symbol","1.0")," "),l.xp6(5),l.Q6J("ngIf",i.modalActivoEliminar)}}let L3=(()=>{class n{constructor(t,i,r){this._products=t,this._reportes=i,this.toastr=r,this.reportes=[],this.products=[],this.reports=[],this.totalVentas=0,this.gananciaObtenida=0,this.modalActivoEliminar=!1}ngOnInit(){this.obtReportes()}obtReportes(){this._reportes.obtReports().subscribe(t=>{t.forEach(u=>{this.reportes.push({id:u.payload.doc.id,...u.payload.doc.data()})});let i=this.reportes.reduce((u,f)=>u+f.total,0);this.totalVentas=i;const a=this.reportes.map(u=>u.precioCompra).reduce((u,f)=>u.concat(f),[]).reduce((u,f)=>u+f,0);this.gananciaObtenida=i-a;for(const u of this.reportes){const f=u.fechaCreacion,w=new Date(1e3*f.seconds+f.nanoseconds/1e6),D=new Intl.DateTimeFormat("en-US",{timeZone:"UTC",dateStyle:"medium",timeStyle:"medium"}).format(w);u.fechaCreacion=D}})}joinArray(t,i){return t.join(i)}countOccurrences(t){const i=[],r={};for(const a of t)a in r?r[a]+=1:r[a]=1;for(const[a,u]of Object.entries(r))i.push(`${a}${u>1?" x"+u:""}`);return i}abrirModalEliminar(t){this.idObtenido=t,this.modalActivoEliminar=!0}cerrarModalEliminar(){this.modalActivoEliminar=!1}eliminarProducto2(){this._reportes.deleteProducts(this.idObtenido).then(()=>{this.modalActivoEliminar=!1,this.toastr.error("El producto fue eliminado con exito","Producto eliminado"),window.location.reload()})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Hw),l.Y36(fN),l.Y36(Sa))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-reportes"]],decls:31,vars:13,consts:[[2,"margin","6px"],[1,"table","table-striped"],[1,"col"],[4,"ngFor","ngForOf"],[1,"fas","fa-trash-alt","fa-lg","text-danger",2,"cursor","pointer",3,"click"],["class","modal",4,"ngIf"],[1,"modal"],[1,"contenido-modal"],[1,"botones",2,"display","flex","gap","8px","justify-content","center"],[1,"btn","btn-danger",2,"background-color","blue",3,"click"],["type","button",1,"btn","btn-success",2,"background-color","red",3,"click"]],template:function(t,i){1&t&&(l._UZ(0,"app-navbar"),l.TgZ(1,"div",0)(2,"div")(3,"h3"),l._uU(4,"REPORTES"),l.qZA()(),l.TgZ(5,"table",1)(6,"thead")(7,"th",2),l._uU(8,"Fecha"),l.qZA(),l.TgZ(9,"th",2),l._uU(10,"Nombre"),l.qZA(),l.TgZ(11,"th",2),l._uU(12,"Total"),l.qZA(),l.TgZ(13,"th",2),l._uU(14,"borrar"),l.qZA()(),l.TgZ(15,"tbody"),l.YNc(16,F3,12,9,"tr",3),l.qZA()(),l.TgZ(17,"table",1)(18,"thead")(19,"th",2),l._uU(20,"Ganacia Obtenida"),l.qZA(),l.TgZ(21,"th",2),l._uU(22,"Total ventas"),l.qZA()(),l.TgZ(23,"tbody")(24,"tr")(25,"td"),l._uU(26),l.ALo(27,"currency"),l.qZA(),l.TgZ(28,"td"),l._uU(29),l.ALo(30,"currency"),l.qZA()()()()()),2&t&&(l.xp6(16),l.Q6J("ngForOf",i.reportes),l.xp6(10),l.hij("$",l.gM2(27,3,i.gananciaObtenida," ","symbol","1.0"),""),l.xp6(3),l.hij("$",l.gM2(30,8,i.totalVentas," ","symbol","1.0"),""))},dependencies:[fn,pn,Jw,Yo],styles:[".modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0000000d;display:flex;justify-content:center;align-items:center;z-index:100}.contenido-modal[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000000d;display:flex;flex-direction:column;align-items:center}"]}),n})(),MF=(()=>{class n{constructor(t){this.toastr=t}errorFirebase(t){switch(t){case"auth/user-not-found":case"auth/wrong-password":this.toastr.error("Usuario/Contrase\xf1a invalida","Error");break;case"auth/invalid-email":this.toastr.error("No hay correo valido o llena todos los campos","Error");break;case"auth/email-already-in-use":this.toastr.error("Usuario ya registrado","Error");break;case"auth/weak-password":this.toastr.error("Contrase\xf1a Debil","Error");break;case"auth/internal-error":this.toastr.error("Correo no valido","Error")}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Sa))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UR=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-spinner"]],decls:3,vars:0,consts:[["role","status",1,"spinner-border","text-primary","posicion"],[1,"visually-hidden"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"span",1),l._uU(2,"Loading..."),l.qZA()())}}),n})();function V3(n,e){1&n&&(l.TgZ(0,"span",18),l._uU(1,"El "),l.TgZ(2,"strong"),l._uU(3,"correo "),l.qZA(),l._uU(4,"es requerido"),l.qZA())}function B3(n,e){1&n&&(l.TgZ(0,"span",18),l._uU(1,"El "),l.TgZ(2,"strong"),l._uU(3,"correo "),l.qZA(),l._uU(4,"es invalido"),l.qZA())}function U3(n,e){1&n&&(l.TgZ(0,"span",18),l._uU(1,"La "),l.TgZ(2,"strong"),l._uU(3,"contrase\xf1a "),l.qZA(),l._uU(4,"debe contener mas de 6 caracteres"),l.qZA())}function H3(n,e){if(1&n&&(l.TgZ(0,"span",19),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Oqu(t.message)}}function j3(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",3)(1,"form",4),l.NdJ("ngSubmit",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.login())}),l.TgZ(2,"h2",5),l._uU(3,"LicorMania"),l.qZA(),l.TgZ(4,"h2",6),l._uU(5,"Iniciar sesi\xf3n"),l.qZA(),l.TgZ(6,"div",7)(7,"label",8),l._uU(8,"Correo electr\xf3nico"),l.qZA(),l._UZ(9,"input",9),l.YNc(10,V3,5,0,"span",10),l.YNc(11,B3,5,0,"span",10),l.qZA(),l.TgZ(12,"div",7)(13,"label",11),l._uU(14,"Contrase\xf1a"),l.qZA(),l._UZ(15,"input",12),l.YNc(16,U3,5,0,"span",10),l.qZA(),l.TgZ(17,"div",13)(18,"a",14),l._uU(19,"\xbfOlvidaste tu contrase\xf1a?"),l.qZA(),l.TgZ(20,"a",15),l._uU(21,"Registrarse"),l.qZA()(),l.TgZ(22,"button",16),l._uU(23,"Iniciar sesi\xf3n"),l.qZA(),l.YNc(24,H3,2,1,"span",17),l.qZA()()}if(2&n){const t=l.oxw();let i,r,a;l.xp6(1),l.Q6J("formGroup",t.loginUsuario),l.xp6(9),l.Q6J("ngIf",(null==(i=t.loginUsuario.get("email"))?null:i.hasError("required"))&&(null==(i=t.loginUsuario.get("email"))?null:i.touched)),l.xp6(1),l.Q6J("ngIf",(null==(r=t.loginUsuario.get("email"))?null:r.hasError("email"))&&(null==(r=t.loginUsuario.get("email"))?null:r.touched)),l.xp6(5),l.Q6J("ngIf",(null==(a=t.loginUsuario.get("password"))?null:a.hasError("required"))&&(null==(a=t.loginUsuario.get("password"))?null:a.touched)),l.xp6(6),l.Q6J("disabled",t.loginUsuario.invalid),l.xp6(2),l.Q6J("ngIf",t.verificar)}}function $3(n,e){1&n&&(l.TgZ(0,"div",20)(1,"h2",5),l._uU(2,"LicorMania"),l.qZA(),l.TgZ(3,"span",21),l._uU(4,"Iniciando sesion..."),l.qZA(),l._UZ(5,"app-spinner"),l.qZA())}let z3=(()=>{class n{constructor(t,i,r,a,u){this.firebaseError=t,this.fb=i,this.afAuth=r,this.toastr=a,this.router=u,this.loading=!1,this.verificar=!1,this.message="",this.loginUsuario=this.fb.group({email:["",[Zn.required,Zn.email]],password:["",Zn.required]})}ngOnInit(){}login(){const t=this.loginUsuario.value.email,i=this.loginUsuario.value.password;"administrador.sistema@gmail.com"===t||"dlaleja10@hotmail.com"===t||"brahianriver99@gmail.com"===t||"edwinkaycut@gmail.com"===t?(this.loading=!0,this.afAuth.signInWithEmailAndPassword(t,i).then(r=>{this.router.navigate(["/list-products"]),console.log(r)}).catch(r=>{this.firebaseError.errorFirebase(r.code),this.loading=!1})):(this.verificar=!0,this.message="No estas Autorizado, comunicate con el administrador del sistema,",setTimeout(()=>{this.message=""},2e3))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(MF),l.Y36(ap),l.Y36(Fo),l.Y36(Sa),l.Y36(ii))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-login-form"]],decls:3,vars:2,consts:[[2,"display","flex","justify-content","center"],["style","margin-top: 8%; width: 30%;",4,"ngIf"],["style","    display: flex;\n    position: absolute;\n    top: 42%;\n    flex-direction: column;\n    align-items: center;",4,"ngIf"],[2,"margin-top","8%","width","30%"],[1,"form-contenedor",3,"formGroup","ngSubmit"],[1,"elH2"],[1,"form-title"],[1,"form-group"],["for","email"],["type","email","name","email","placeholder","correo electronico","formControlName","email"],["class","text-danger errorLabel",4,"ngIf"],["for","password"],["type","password","id","password","name","password","placeholder","Contrase\xf1a","formControlName","password"],[1,"form-group","form-links"],["href","#","routerLink","/recuperar",1,"forgot-password"],["href","#","routerLink","/registrar",1,"register-link"],["type","submit",1,"submit-button",3,"disabled"],["style","color: red;",4,"ngIf"],[1,"text-danger","errorLabel"],[2,"color","red"],[2,"display","flex","position","absolute","top","42%","flex-direction","column","align-items","center"],[2,"margin-bottom","18px"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0),l.YNc(1,j3,25,6,"div",1),l.YNc(2,$3,6,0,"div",2),l.qZA()),2&t&&(l.xp6(1),l.Q6J("ngIf",!i.loading),l.xp6(1),l.Q6J("ngIf",i.loading))},dependencies:[pn,kp,dl,qr,rc,sl,io,Ci,UR],styles:[".login-form[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a}.form-title[_ngcontent-%COMP%]{font-size:24px;text-align:center;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;font-size:16px;font-weight:700;margin-bottom:5px}input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{display:block;width:100%;padding:10px;font-size:16px;border-radius:5px;border:1px solid #ccc}.submit-button[_ngcontent-%COMP%]{display:block;width:100%;padding:10px;font-size:16px;background-color:#f43a3a;color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease-in-out}.submit-button[_ngcontent-%COMP%]:hover{background-color:#d40e0e;color:#fffefe}.form-links[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.forgot-password[_ngcontent-%COMP%], .register-link[_ngcontent-%COMP%]{font-size:14px;text-decoration:none;color:#007bff;transition:color .3s ease-in-out}.forgot-password[_ngcontent-%COMP%]:hover, .register-link[_ngcontent-%COMP%]:hover{color:#0056b3}.elH2[_ngcontent-%COMP%]{font-size:36px;font-family:Arial,sans-serif;color:#ff6f61;text-align:center;text-shadow:2px 2px #000}"]}),n})();function G3(n,e){1&n&&(l.TgZ(0,"span",12),l._uU(1,"El "),l.TgZ(2,"strong"),l._uU(3,"correo "),l.qZA(),l._uU(4,"es requerido"),l.qZA())}function q3(n,e){1&n&&(l.TgZ(0,"span",12),l._uU(1,"El "),l.TgZ(2,"strong"),l._uU(3,"correo "),l.qZA(),l._uU(4,"es invalido"),l.qZA())}function Z3(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",2)(1,"form",3),l.NdJ("ngSubmit",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.recuperar())}),l.TgZ(2,"h2",4),l._uU(3,"LicorMania"),l.qZA(),l.TgZ(4,"h2",5),l._uU(5,"RECUPERAR CUENTA"),l.qZA(),l.TgZ(6,"div",6),l._UZ(7,"input",7),l.YNc(8,G3,5,0,"span",8),l.YNc(9,q3,5,0,"span",8),l.qZA(),l.TgZ(10,"div",9)(11,"button",10),l._uU(12," Volver "),l.qZA(),l.TgZ(13,"button",11),l._uU(14,"Aceptar"),l.qZA()()()()}if(2&n){const t=l.oxw();let i,r;l.xp6(1),l.Q6J("formGroup",t.recuperarUsuario),l.xp6(7),l.Q6J("ngIf",(null==(i=t.recuperarUsuario.get("email"))?null:i.hasError("required"))&&(null==(i=t.recuperarUsuario.get("email"))?null:i.touched)),l.xp6(1),l.Q6J("ngIf",(null==(r=t.recuperarUsuario.get("email"))?null:r.hasError("email"))&&(null==(r=t.recuperarUsuario.get("email"))?null:r.touched)),l.xp6(4),l.Q6J("disabled",t.recuperarUsuario.invalid)}}function W3(n,e){1&n&&(l.TgZ(0,"div",13)(1,"h2",4),l._uU(2,"LicorMania"),l.qZA(),l.TgZ(3,"span",14),l._uU(4,"Enviando peticion..."),l.qZA(),l._UZ(5,"app-spinner"),l.qZA())}let K3=(()=>{class n{constructor(t,i,r,a){this.fb=t,this.afAuth=i,this.toastr=r,this.router=a,this.loading=!1,this.recuperarUsuario=this.fb.group({email:["",[Zn.required,Zn.email]]})}ngOnInit(){}recuperar(){const t=this.recuperarUsuario.value.email;this.loading=!0,this.afAuth.sendPasswordResetEmail(t).then(()=>{this.router.navigate(["/login"]),this.toastr.info("Revisa tu correo para restablecer tu contrase\xf1a","Peticion Aceptada")}).catch(i=>{this.loading=!1,this.firebaseError(i.code)})}firebaseError(t){switch(t){case"auth/user-not-found":this.toastr.error("Este correo no es valido","Error");break;case"auth/missing-email":this.toastr.error("Inserta un correo","Error")}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ap),l.Y36(Fo),l.Y36(Sa),l.Y36(ii))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-recuperar-contrasena"]],decls:3,vars:2,consts:[["style","margin-top: 8%",4,"ngIf"],["style","display: flex;\n    position: absolute;\n    left: 44%;\n    top: 42%;\n    flex-direction: column;\n    align-items: center;",4,"ngIf"],[2,"margin-top","8%"],[1,"login-form",3,"formGroup","ngSubmit"],[1,"elH2"],[1,"form-title"],[1,"form-group"],["type","email","name","email","placeholder","Correo electr\xf3nico","formControlName","email"],["class","text-danger errorLabel",4,"ngIf"],[2,"display","flex","gap","2px"],["type","button","routerLink","/login",1,"submit-button",2,"background-color","blue"],["type","submit",1,"submit-button",3,"disabled"],[1,"text-danger","errorLabel"],[2,"display","flex","position","absolute","left","44%","top","42%","flex-direction","column","align-items","center"],[2,"margin-bottom","18px"]],template:function(t,i){1&t&&(l.TgZ(0,"div"),l.YNc(1,Z3,15,4,"div",0),l.YNc(2,W3,6,0,"div",1),l.qZA()),2&t&&(l.xp6(1),l.Q6J("ngIf",!i.loading),l.xp6(1),l.Q6J("ngIf",i.loading))},dependencies:[pn,vl,dl,qr,rc,sl,io,Ci,UR],styles:[".login-form[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a}.form-title[_ngcontent-%COMP%]{font-size:24px;text-align:center;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;font-size:16px;font-weight:700;margin-bottom:5px}input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{display:block;width:100%;padding:10px;font-size:16px;border-radius:5px;border:1px solid #ccc}.submit-button[_ngcontent-%COMP%]{display:block;width:100%;padding:10px;font-size:16px;background-color:red;color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease-in-out}.submit-button[_ngcontent-%COMP%]:hover{background-color:red}.form-links[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.forgot-password[_ngcontent-%COMP%], .register-link[_ngcontent-%COMP%]{font-size:14px;text-decoration:none;color:#007bff;transition:color .3s ease-in-out}.forgot-password[_ngcontent-%COMP%]:hover, .register-link[_ngcontent-%COMP%]:hover{color:#0056b3}.elH2[_ngcontent-%COMP%]{font-size:36px;font-family:Arial,sans-serif;color:#ff6f61;text-align:center;text-shadow:2px 2px #000}"]}),n})();function Y3(n,e){1&n&&(l.TgZ(0,"span",17),l._uU(1,"El "),l.TgZ(2,"strong"),l._uU(3,"correo "),l.qZA(),l._uU(4,"es requerido"),l.qZA())}function Q3(n,e){1&n&&(l.TgZ(0,"span",17),l._uU(1,"El "),l.TgZ(2,"strong"),l._uU(3,"correo "),l.qZA(),l._uU(4,"es invalido"),l.qZA())}function X3(n,e){1&n&&(l.TgZ(0,"span",17),l._uU(1,"La "),l.TgZ(2,"strong"),l._uU(3,"contrase\xf1a "),l.qZA(),l._uU(4,"debe contener mas de 6 caracteres"),l.qZA())}function J3(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",2)(1,"form",3,4),l.NdJ("ngSubmit",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.registrar())}),l.TgZ(3,"h2",5),l._uU(4,"LicorMania"),l.qZA(),l.TgZ(5,"h2",6),l._uU(6,"REGISTRARSE"),l.qZA(),l.TgZ(7,"div",7)(8,"label",8),l._uU(9,"Correo electr\xf3nico"),l.qZA(),l._UZ(10,"input",9),l.YNc(11,Y3,5,0,"span",10),l.YNc(12,Q3,5,0,"span",10),l.qZA(),l.TgZ(13,"div",7)(14,"label",11),l._uU(15,"Contrase\xf1a"),l.qZA(),l._UZ(16,"input",12),l.YNc(17,X3,5,0,"span",10),l.qZA(),l.TgZ(18,"div",7),l._UZ(19,"input",13),l.qZA(),l.TgZ(20,"div",14)(21,"button",15),l._uU(22," Volver "),l.qZA(),l.TgZ(23,"button",16),l._uU(24,"Registrar"),l.qZA()()()()}if(2&n){const t=l.oxw();let i,r,a;l.xp6(1),l.Q6J("formGroup",t.registrarUsuario),l.xp6(10),l.Q6J("ngIf",(null==(i=t.registrarUsuario.get("email"))?null:i.hasError("required"))&&(null==(i=t.registrarUsuario.get("email"))?null:i.touched)),l.xp6(1),l.Q6J("ngIf",(null==(r=t.registrarUsuario.get("email"))?null:r.hasError("email"))&&(null==(r=t.registrarUsuario.get("email"))?null:r.touched)),l.xp6(5),l.Q6J("ngIf",(null==(a=t.registrarUsuario.get("password"))?null:a.hasError("required"))&&(null==(a=t.registrarUsuario.get("password"))?null:a.touched)),l.xp6(6),l.Q6J("disabled",t.registrarUsuario.invalid)}}function e$(n,e){1&n&&(l.TgZ(0,"div",18)(1,"h2",5),l._uU(2,"LicorMania"),l.qZA(),l.TgZ(3,"span",19),l._uU(4,"Registrando..."),l.qZA(),l._UZ(5,"app-spinner"),l.qZA())}let t$=(()=>{class n{constructor(t,i,r,a,u){this.firebaseError=t,this.fb=i,this.afAuth=r,this.toastr=a,this.router=u,this.loading=!1,this.registrarUsuario=this.fb.group({email:["",[Zn.required,Zn.email]],password:["",[Zn.required,Zn.minLength(6)]],repetirPassword:["",Zn.required]})}ngOnInit(){}registrar(){const t=this.registrarUsuario.value.email,i=this.registrarUsuario.value.password;i===this.registrarUsuario.value.repetirPassword?(this.loading=!0,this.afAuth.createUserWithEmailAndPassword(t,i).then(a=>{this.toastr.success("El usuario fue registrado con exito!!","Usuario Registrado"),this.router.navigate(["/login"])}).catch(a=>{this.loading=!1,console.log(a),this.firebaseError.errorFirebase(a.code)})):this.toastr.error("Las contrase\xf1as no coinciden","Error")}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(MF),l.Y36(ap),l.Y36(Fo),l.Y36(Sa),l.Y36(ii))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-registrar-usuario"]],decls:3,vars:2,consts:[["style","margin-top: 8%",4,"ngIf"],["style","display: flex;\n    position: absolute;\n    left: 44%;\n    top: 42%;\n    flex-direction: column;\n    align-items: center;",4,"ngIf"],[2,"margin-top","8%"],[1,"login-form",3,"formGroup","ngSubmit"],["loginForm","ngForm"],[1,"elH2"],[1,"form-title"],[1,"form-group"],["for","email"],["type","email","name","email","placeholder","Correo electr\xf3nico","formControlName","email"],["class","text-danger errorLabel",4,"ngIf"],["for","password"],["type","password","name","password","placeholder","Contrase\xf1a","formControlName","password"],["type","password","name","password","placeholder","Repetir contrase\xf1a","formControlName","repetirPassword"],[2,"display","flex","gap","2px"],["type","button","routerLink","/login",1,"submit-button",2,"background-color","blue"],["type","submit",1,"submit-button",3,"disabled"],[1,"text-danger","errorLabel"],[2,"display","flex","position","absolute","left","44%","top","42%","flex-direction","column","align-items","center"],[2,"margin-bottom","18px"]],template:function(t,i){1&t&&(l.TgZ(0,"div"),l.YNc(1,J3,25,5,"div",0),l.YNc(2,e$,6,0,"div",1),l.qZA()),2&t&&(l.xp6(1),l.Q6J("ngIf",!i.loading),l.xp6(1),l.Q6J("ngIf",i.loading))},dependencies:[pn,vl,dl,qr,rc,sl,io,Ci,UR],styles:[".login-form[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a}.form-title[_ngcontent-%COMP%]{font-size:24px;text-align:center;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;font-size:16px;font-weight:700;margin-bottom:5px}input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{display:block;width:100%;padding:10px;font-size:16px;border-radius:5px;border:1px solid #ccc}.submit-button[_ngcontent-%COMP%]{display:block;width:100%;padding:10px;font-size:16px;background-color:red;color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease-in-out}.submit-button[_ngcontent-%COMP%]:hover{background-color:red}.form-links[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.forgot-password[_ngcontent-%COMP%], .register-link[_ngcontent-%COMP%]{font-size:14px;text-decoration:none;color:#007bff;transition:color .3s ease-in-out}.forgot-password[_ngcontent-%COMP%]:hover, .register-link[_ngcontent-%COMP%]:hover{color:#0056b3}.elH2[_ngcontent-%COMP%]{font-size:36px;font-family:Arial,sans-serif;color:#ff6f61;text-align:center;text-shadow:2px 2px #000}"]}),n})(),n$=(()=>{class n{constructor(t){this.afAuth=t}isLoggedIn(){return this.afAuth.authState.pipe((0,ft.U)(t=>!!t))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Fo))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_v=(()=>{class n{constructor(t,i){this.authService=t,this.router=i}canActivate(t,i){return this.authService.isLoggedIn().pipe((0,ft.U)(r=>!!r||(this.router.navigate(["/login"]),!1)))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(n$),l.LFG(ii))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const i$=function(n){return["/edit-product/",n]};function r$(n,e){if(1&n&&(l.TgZ(0,"tr")(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l._uU(8),l.ALo(9,"currency"),l.qZA(),l.TgZ(10,"td"),l._uU(11),l.ALo(12,"currency"),l.qZA(),l.TgZ(13,"td"),l._uU(14),l.ALo(15,"currency"),l.qZA(),l.TgZ(16,"td"),l._uU(17),l.ALo(18,"currency"),l.qZA(),l.TgZ(19,"td"),l._uU(20),l.ALo(21,"currency"),l.qZA(),l.TgZ(22,"td"),l._UZ(23,"i",7),l.qZA()()),2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.nombre),l.xp6(2),l.Oqu(t.descripcion),l.xp6(2),l.Oqu(t.disponible),l.xp6(2),l.hij("$",l.gM2(9,9,t.precioCompra," ","symbol","1.0"),""),l.xp6(3),l.hij("$",l.gM2(12,14,t.precio," ","symbol","1.0"),""),l.xp6(3),l.hij("$",l.gM2(15,19,t.venta," ","symbol","1.0"),""),l.xp6(3),l.hij("$",l.gM2(18,24,t.invertido," ","symbol","1.0"),""),l.xp6(3),l.hij("$",l.gM2(21,29,t.ganancia," ","symbol","1.0"),""),l.xp6(3),l.Q6J("routerLink",l.VKq(34,i$,t.id))}}function s$(n,e){1&n&&(l.TgZ(0,"p"),l._uU(1,"No hay productos seleccionados"),l.qZA())}const o$=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"list-products",component:A3,canActivate:[_v]},{path:"create-product",component:AF,canActivate:[_v]},{path:"edit-product/:id",component:AF,canActivate:[_v]},{path:"info-product",component:P3,canActivate:[_v]},{path:"reportes",component:L3,canActivate:[_v]},{path:"estadisticas",component:(()=>{class n{constructor(t,i){this._productService=t,this.toastr=i,this.products=[],this.modalActivoEliminar=!1}ngOnInit(){this.getProducts()}getProducts(){this._productService.getProducts().subscribe(t=>{this.products=[],t.forEach(a=>{this.products.push({id:a.payload.doc.id,...a.payload.doc.data()})});for(const a of this.products){const f=a.disponible,w=a.precioCompra*f,D=a.precio*f,A=D-w;a.invertido=w,a.venta=D,a.ganancia=A}console.log(this.products);const i=this.products.reduce((a,u)=>a+u.invertido,0);this.invertido=i;const r=this.products.reduce((a,u)=>a+u.ganancia,0);this.ganancia=r})}abrirModalEliminar(t){this.idObtenido=t,this.modalActivoEliminar=!0}cerrarModalEliminar(){this.modalActivoEliminar=!1}eliminarProducto2(){console.log(this.idObtenido),this._productService.deleteProducts(this.idObtenido).then(()=>{this.modalActivoEliminar=!1,this.toastr.error("El producto fue eliminado con exito","Producto eliminado"),console.log("deleted...")})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Hw),l.Y36(Sa))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-ganancia"]],decls:48,vars:14,consts:[[2,"margin","6px 6px 12px 6px"],[2,"display","flex","justify-content","space-between"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[4,"ngIf"],["routerLink","/list-products",1,"btn","btn-danger"],[1,"fas","fa-edit","fa-lg","text-info",2,"cursor","pointer",3,"routerLink"]],template:function(t,i){1&t&&(l._UZ(0,"app-navbar"),l.TgZ(1,"div",0)(2,"div",1)(3,"div")(4,"H3"),l._uU(5,"Balance General"),l.qZA()()()(),l.TgZ(6,"table",2)(7,"thead")(8,"tr")(9,"th",3),l._uU(10,"Nombre"),l.qZA(),l.TgZ(11,"th",3),l._uU(12,"Descripcion"),l.qZA(),l.TgZ(13,"th",3),l._uU(14,"Disponible"),l.qZA(),l.TgZ(15,"th",3),l._uU(16,"Precio compra"),l.qZA(),l.TgZ(17,"th",3),l._uU(18,"Precio venta"),l.qZA(),l.TgZ(19,"th",3),l._uU(20,"total venta"),l.qZA(),l.TgZ(21,"th",3),l._uU(22,"Invertido"),l.qZA(),l.TgZ(23,"th",3),l._uU(24,"Ganancia"),l.qZA(),l.TgZ(25,"th",3),l._uU(26,"Acc"),l.qZA()()(),l.TgZ(27,"tbody"),l.YNc(28,r$,24,36,"tr",4),l.qZA(),l.YNc(29,s$,2,0,"p",5),l.qZA(),l.TgZ(30,"table",2)(31,"thead")(32,"tr")(33,"th",3),l._uU(34,"Invertido Total"),l.qZA(),l.TgZ(35,"th",3),l._uU(36,"Ganacia Total"),l.qZA()()(),l.TgZ(37,"tbody")(38,"tr")(39,"td"),l._uU(40),l.ALo(41,"currency"),l.qZA(),l.TgZ(42,"td"),l._uU(43),l.ALo(44,"currency"),l.qZA()()()(),l.TgZ(45,"div",0)(46,"button",6),l._uU(47,"Volver"),l.qZA()()),2&t&&(l.xp6(28),l.Q6J("ngForOf",i.products),l.xp6(1),l.Q6J("ngIf",0==i.products.length),l.xp6(11),l.hij("$",l.gM2(41,4,i.invertido," ","symbol","1.0"),""),l.xp6(3),l.hij("$",l.gM2(44,9,i.ganancia," ","symbol","1.0"),""))},dependencies:[fn,pn,vl,Jw,Yo]}),n})(),canActivate:[_v]},{path:"login",component:z3},{path:"recuperar",component:K3},{path:"registrar",component:t$},{path:"**",redirectTo:"login",pathMatch:"full"}];let a$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Tb.forRoot(o$),Tb]}),n})(),l$=(()=>{class n{constructor(){this.title="licorApp"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,i){1&t&&l._UZ(0,"router-outlet")},dependencies:[LE]}),n})();function xF(n){return new l.vHH(3e3,!1)}function $$(){return typeof window<"u"&&typeof window.document<"u"}function HR(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function sf(n){switch(n.length){case 0:return new jw;case 1:return n[0];default:return new _N(n)}}function RF(n,e,t,i,r=new Map,a=new Map){const u=[],f=[];let _=-1,w=null;if(i.forEach(D=>{const A=D.get("offset"),F=A==_,B=F&&w||new Map;D.forEach((Z,ie)=>{let ye=ie,$e=Z;if("offset"!==ie)switch(ye=e.normalizePropertyName(ye,u),$e){case"!":$e=r.get(ie);break;case rd:$e=a.get(ie);break;default:$e=e.normalizeStyleValue(ie,ye,$e,u)}B.set(ye,$e)}),F||f.push(B),w=B,_=A}),u.length)throw function R$(n){return new l.vHH(3502,!1)}();return f}function jR(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&$R(t,"start",n)));break;case"done":n.onDone(()=>i(t&&$R(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&$R(t,"destroy",n)))}}function $R(n,e,t){const a=zR(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),u=n._data;return null!=u&&(a._data=u),a}function zR(n,e,t,i,r="",a=0,u){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:a,disabled:!!u}}function Uo(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function kF(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let GR=(n,e)=>!1,OF=(n,e,t)=>[],PF=null;function qR(n){const e=n.parentNode||n.host;return e===PF?null:e}(HR()||typeof Element<"u")&&($$()?(PF=(()=>document.documentElement)(),GR=(n,e)=>{for(;e;){if(e===n)return!0;e=qR(e)}return!1}):GR=(n,e)=>n.contains(e),OF=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let Wm=null,NF=!1;const FF=GR,LF=OF;let VF=(()=>{class n{validateStyleProperty(t){return function G$(n){Wm||(Wm=function q$(){return typeof document<"u"?document.body:null}()||{},NF=!!Wm.style&&"WebkitAppearance"in Wm.style);let e=!0;return Wm.style&&!function z$(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Wm.style,!e&&NF&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Wm.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return FF(t,i)}getParentElement(t){return qR(t)}query(t,i,r){return LF(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,a,u,f=[],_){return new jw(r,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),ZR=(()=>{class n{}return n.NOOP=new VF,n})();const WR="ng-enter",dT="ng-leave",hT="ng-trigger",fT=".ng-trigger",UF="ng-animating",KR=".ng-animating";function sd(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:YR(parseFloat(e[1]),e[2])}function YR(n,e){return"s"===e?1e3*n:n}function pT(n,e,t){return n.hasOwnProperty("duration")?n:function K$(n,e,t){let r,a=0,u="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(xF()),{duration:0,delay:0,easing:""};r=YR(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(a=YR(parseFloat(_),f[4]));const w=f[5];w&&(u=w)}else r=n;if(!t){let f=!1,_=e.length;r<0&&(e.push(function c$(){return new l.vHH(3100,!1)}()),f=!0),a<0&&(e.push(function u$(){return new l.vHH(3101,!1)}()),f=!0),f&&e.splice(_,0,xF())}return{duration:r,delay:a,easing:u}}(n,e,t)}function eE(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function HF(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function af(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function $F(n,e,t){return t?e+":"+t+";":""}function zF(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=$F(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=$F(0,J$(t),n.style[t]));n.setAttribute("style",e)}function Lc(n,e,t){n.style&&(e.forEach((i,r)=>{const a=XR(r);t&&!t.has(r)&&t.set(r,n.style[a]),n.style[a]=i}),HR()&&zF(n))}function Km(n,e){n.style&&(e.forEach((t,i)=>{const r=XR(i);n.style[r]=""}),HR()&&zF(n))}function tE(n){return Array.isArray(n)?1==n.length?n[0]:mN(n):n}const QR=new RegExp("{{\\s*(.+?)\\s*}}","g");function GF(n){let e=[];if("string"==typeof n){let t;for(;t=QR.exec(n);)e.push(t[1]);QR.lastIndex=0}return e}function nE(n,e,t){const i=n.toString(),r=i.replace(QR,(a,u)=>{let f=e[u];return null==f&&(t.push(function h$(n){return new l.vHH(3003,!1)}()),f=""),f.toString()});return r==i?n:r}function mT(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const X$=/-+([a-z0-9])/g;function XR(n){return n.replace(X$,(...e)=>e[1].toUpperCase())}function J$(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ho(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function f$(n){return new l.vHH(3004,!1)}()}}function qF(n,e){return window.getComputedStyle(n)[e]}function s6(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function o6(n,e,t){if(":"==n[0]){const _=function a6(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function S$(n){return new l.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function T$(n){return new l.vHH(3015,!1)}()),e;const r=i[1],a=i[2],u=i[3];e.push(ZF(r,u));"<"==a[0]&&!("*"==r&&"*"==u)&&e.push(ZF(u,r))}(i,t,e)):t.push(n),t}const vT=new Set(["true","1"]),bT=new Set(["false","0"]);function ZF(n,e){const t=vT.has(n)||bT.has(n),i=vT.has(e)||bT.has(e);return(r,a)=>{let u="*"==n||n==r,f="*"==e||e==a;return!u&&t&&"boolean"==typeof r&&(u=r?vT.has(n):bT.has(n)),!f&&i&&"boolean"==typeof a&&(f=a?vT.has(e):bT.has(e)),u&&f}}const l6=new RegExp("s*:selfs*,?","g");function JR(n,e,t,i){return new c6(n).build(e,t,i)}class c6{constructor(e){this._driver=e}build(e,t,i){const r=new h6(t);return this._resetContextStyleTimingState(r),Ho(this,tE(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const a=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function m$(){return new l.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,w=_.name;w.toString().split(/\s*,\s*/).forEach(D=>{_.name=D,a.push(this.visitState(_,t))}),_.name=w}else if(1==f.type){const _=this.visitTransition(f,t);i+=_.queryCount,r+=_.depCount,u.push(_)}else t.errors.push(function g$(){return new l.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:u,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const a=new Set,u=r||{};i.styles.forEach(f=>{f instanceof Map&&f.forEach(_=>{GF(_).forEach(w=>{u.hasOwnProperty(w)||a.add(w)})})}),a.size&&(mT(a.values()),t.errors.push(function _$(n,e){return new l.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Ho(this,tE(e.animation),t);return{type:1,matchers:s6(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Ym(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Ho(this,i,t)),options:Ym(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const a=e.steps.map(u=>{t.currentTime=i;const f=Ho(this,u,t);return r=Math.max(r,t.currentTime),f});return t.currentTime=r,{type:3,steps:a,options:Ym(e.options)}}visitAnimate(e,t){const i=function p6(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return ek(pT(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=ek(0,0,"");return a.dynamic=!0,a.strValue=t,a}const r=pT(t,e);return ek(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,a=e.styles?e.styles:Ta({});if(5==a.type)r=this.visitKeyframes(a,t);else{let u=e.styles,f=!1;if(!u){f=!0;const w={};i.easing&&(w.easing=i.easing),u=Ta(w)}t.currentTime+=i.duration+i.delay;const _=this.visitStyle(u,t);_.isEmptyStep=f,r=_}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of r)"string"==typeof f?f===rd?i.push(f):t.errors.push(new l.vHH(3002,!1)):i.push(HF(f));let a=!1,u=null;return i.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(u=f.get("easing"),f.delete("easing")),!a))for(let _ of f.values())if(_.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:i,easing:u,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,a=t.currentTime;i&&a>0&&(a-=i.duration+i.delay),e.styles.forEach(u=>{"string"!=typeof u&&u.forEach((f,_)=>{const w=t.collectedStyles.get(t.currentQuerySelector),D=w.get(_);let A=!0;D&&(a!=r&&a>=D.startTime&&r<=D.endTime&&(t.errors.push(function v$(n,e,t,i,r){return new l.vHH(3010,!1)}()),A=!1),a=D.startTime),A&&w.set(_,{startTime:a,endTime:r}),t.options&&function Q$(n,e,t){const i=e.params||{},r=GF(n);r.length&&r.forEach(a=>{i.hasOwnProperty(a)||t.push(function d$(n){return new l.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function b$(){return new l.vHH(3011,!1)}()),i;let a=0;const u=[];let f=!1,_=!1,w=0;const D=e.steps.map($e=>{const st=this._makeStyleAst($e,t);let Je=null!=st.offset?st.offset:function f6(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(st.styles),It=0;return null!=Je&&(a++,It=st.offset=Je),_=_||It<0||It>1,f=f||It<w,w=It,u.push(It),st});_&&t.errors.push(function w$(){return new l.vHH(3012,!1)}()),f&&t.errors.push(function E$(){return new l.vHH(3200,!1)}());const A=e.steps.length;let F=0;a>0&&a<A?t.errors.push(function C$(){return new l.vHH(3202,!1)}()):0==a&&(F=1/(A-1));const B=A-1,Z=t.currentTime,ie=t.currentAnimateTimings,ye=ie.duration;return D.forEach(($e,st)=>{const Je=F>0?st==B?1:F*st:u[st],It=Je*ye;t.currentTime=Z+ie.delay+It,ie.duration=It,this._validateStyleAst($e,t),$e.offset=Je,i.styles.push($e)}),i}visitReference(e,t){return{type:8,animation:Ho(this,tE(e.animation),t),options:Ym(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Ym(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Ym(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[a,u]=function u6(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(l6,"")),n=n.replace(/@\*/g,fT).replace(/@\w+/g,t=>fT+"-"+t.slice(1)).replace(/:animating/g,KR),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+a:a,Uo(t.collectedStyles,t.currentQuerySelector,new Map);const f=Ho(this,tE(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:f,originalSelector:e.selector,options:Ym(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function I$(){return new l.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:pT(e.timings,t.errors,!0);return{type:12,animation:Ho(this,tE(e.animation),t),timings:i,options:null}}}class h6{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ym(n){return n?(n=eE(n)).params&&(n.params=function d6(n){return n?eE(n):null}(n.params)):n={},n}function ek(n,e,t){return{duration:n,delay:e,easing:t}}function tk(n,e,t,i,r,a,u=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:u,subTimeline:f}}class wT{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const _6=new RegExp(":enter","g"),v6=new RegExp(":leave","g");function nk(n,e,t,i,r,a=new Map,u=new Map,f,_,w=[]){return(new b6).buildKeyframes(n,e,t,i,r,a,u,f,_,w)}class b6{buildKeyframes(e,t,i,r,a,u,f,_,w,D=[]){w=w||new wT;const A=new ik(e,t,w,r,a,D,[]);A.options=_;const F=_.delay?sd(_.delay):0;A.currentTimeline.delayNextStep(F),A.currentTimeline.setStyles([u],null,A.errors,_),Ho(this,i,A);const B=A.timelines.filter(Z=>Z.containsAnimation());if(B.length&&f.size){let Z;for(let ie=B.length-1;ie>=0;ie--){const ye=B[ie];if(ye.element===t){Z=ye;break}}Z&&!Z.allowOnlyTimelineStyles()&&Z.setStyles([f],null,A.errors,_)}return B.length?B.map(Z=>Z.buildKeyframes()):[tk(t,[],[],[],0,F,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),a=t.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);a!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const a=r?.delay;if(a){const u="number"==typeof a?a:sd(nE(a,r?.params??{},t.errors));i.delayNextStep(u)}}}_visitSubInstructions(e,t,i){let a=t.currentTimeline.currentTime;const u=null!=i.duration?sd(i.duration):null,f=null!=i.delay?sd(i.delay):null;return 0!==u&&e.forEach(_=>{const w=t.appendInstructionToTimeline(_,u,f);a=Math.max(a,w.duration+w.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),Ho(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const a=e.options;if(a&&(a.params||a.delay)&&(r=t.createSubContext(a),r.transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=ET);const u=sd(a.delay);r.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>Ho(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?sd(e.options.delay):0;e.steps.forEach(u=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),Ho(this,u,f),r=Math.max(r,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return pT(t.params?nE(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(i.duration),this.visitStyle(a,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const a=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(a):i.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,a=i.duration,f=t.createSubContext().currentTimeline;f.easing=i.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*a),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(r+a),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},a=r.delay?sd(r.delay):0;a&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=ET);let u=i;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((w,D)=>{t.currentQueryIndex=D;const A=t.createSubContext(e.options,w);a&&A.delayNextStep(a),w===t.element&&(_=A.currentTimeline),Ho(this,e.animation,A),A.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,A.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,a=e.timings,u=Math.abs(a.duration),f=u*(t.currentQueryTotal-1);let _=u*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=f-_;break;case"full":_=i.currentStaggerTime}const D=t.currentTimeline;_&&D.delayNextStep(_);const A=D.currentTime;Ho(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-A+(r.startTime-i.currentTimeline.startTime)}}const ET={};class ik{constructor(e,t,i,r,a,u,f,_){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=a,this.errors=u,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ET,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new CT(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=sd(i.duration)),null!=i.delay&&(r.delay=sd(i.delay));const a=i.params;if(a){let u=r.params;u||(u=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!u.hasOwnProperty(f))&&(u[f]=nE(a[f],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,a=new ik(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=ET,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},a=new w6(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(a),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,a,u){let f=[];if(r&&f.push(this.element),e.length>0){e=(e=e.replace(_6,"."+this._enterClassName)).replace(v6,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=i);0!==i&&(w=i<0?w.slice(w.length+i,w.length):w.slice(0,i)),f.push(...w)}return!a&&0==f.length&&u.push(function D$(n){return new l.vHH(3014,!1)}()),f}}class CT{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new CT(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||rd),this._currentKeyframe.set(t,rd);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const a=r&&r.params||{},u=function E6(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let a of i)t.set(a,rd)}else af(r,t)}),t}(e,this._globalTimelineStyles);for(let[f,_]of u){const w=nE(_,a,i);this._pendingStyles.set(f,w),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??rd),this._updateStyle(f,w)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((f,_)=>{const w=af(f,new Map,this._backFill);w.forEach((D,A)=>{"!"===D?e.add(A):D===rd&&t.add(A)}),i||w.set("offset",_/this.duration),r.push(w)});const a=e.size?mT(e.values()):[],u=t.size?mT(t.values()):[];if(i){const f=r[0],_=new Map(f);f.set("offset",0),_.set("offset",1),r=[f,_]}return tk(this.element,r,a,u,this.duration,this.startTime,this.easing,!1)}}class w6 extends CT{constructor(e,t,i,r,a,u,f=!1){super(e,t,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],u=i+t,f=t/u,_=af(e[0]);_.set("offset",0),a.push(_);const w=af(e[0]);w.set("offset",YF(f)),a.push(w);const D=e.length-1;for(let A=1;A<=D;A++){let F=af(e[A]);const B=F.get("offset");F.set("offset",YF((t+B*i)/u)),a.push(F)}i=u,t=0,r="",e=a}return tk(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function YF(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class rk{}const C6=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class I6 extends rk{normalizePropertyName(e,t){return XR(e)}normalizeStyleValue(e,t,i,r){let a="";const u=i.toString().trim();if(C6.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&r.push(function p$(n,e){return new l.vHH(3005,!1)}())}return u+a}}function QF(n,e,t,i,r,a,u,f,_,w,D,A,F){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:a,toState:i,toStyles:u,timelines:f,queriedElements:_,preStyleProps:w,postStyleProps:D,totalTime:A,errors:F}}const sk={};class XF{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function D6(n,e,t,i,r){return n.some(a=>a(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,a,u,f,_,w,D){const A=[],F=this.ast.options&&this.ast.options.params||sk,Z=this.buildStyles(i,f&&f.params||sk,A),ie=_&&_.params||sk,ye=this.buildStyles(r,ie,A),$e=new Set,st=new Map,Je=new Map,It="void"===r,jt={params:T6(ie,F),delay:this.ast.options?.delay},qt=D?[]:nk(e,t,this.ast.animation,a,u,Z,ye,jt,w,A);let An=0;if(qt.forEach(od=>{An=Math.max(od.duration+od.delay,An)}),A.length)return QF(t,this._triggerName,i,r,It,Z,ye,[],[],st,Je,An,A);qt.forEach(od=>{const ad=od.element,CL=Uo(st,ad,new Set);od.preStyleProps.forEach(Xm=>CL.add(Xm));const rE=Uo(Je,ad,new Set);od.postStyleProps.forEach(Xm=>rE.add(Xm)),ad!==t&&$e.add(ad)});const Or=mT($e.values());return QF(t,this._triggerName,i,r,It,Z,ye,qt,Or,st,Je,An)}}function T6(n,e){const t=eE(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class S6{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=eE(this.defaultParams);return Object.keys(e).forEach(a=>{const u=e[a];null!==u&&(r[a]=u)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((u,f)=>{u&&(u=nE(u,r,t));const _=this.normalizer.normalizePropertyName(f,t);u=this.normalizer.normalizeStyleValue(f,_,u,t),i.set(_,u)})}),i}}class M6{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new S6(r.style,r.options&&r.options.params||{},i))}),JF(this.states,"true","1"),JF(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new XF(e,r,this.states))}),this.fallbackTransition=function x6(n,e,t){return new XF(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(u=>u.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function JF(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const R6=new wT;class k6{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],a=JR(this._driver,t,i,[]);if(i.length)throw function k$(n){return new l.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,i){const r=e.element,a=RF(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],a=this._animations.get(e);let u;const f=new Map;if(a?(u=nk(this._driver,t,a,WR,dT,new Map,new Map,i,R6,r),u.forEach(D=>{const A=Uo(f,D.element,new Map);D.postStyleProps.forEach(F=>A.set(F,null))})):(r.push(function O$(){return new l.vHH(3300,!1)}()),u=[]),r.length)throw function P$(n){return new l.vHH(3504,!1)}();f.forEach((D,A)=>{D.forEach((F,B)=>{D.set(B,this._driver.computeStyle(A,B,rd))})});const w=sf(u.map(D=>{const A=f.get(D.element);return this._buildPlayer(D,new Map,A)}));return this._playersById.set(e,w),w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function N$(n){return new l.vHH(3301,!1)}();return t}listen(e,t,i,r){const a=zR(t,"","","");return jR(this._getPlayer(e),i,a,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const a=this._getPlayer(e);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const eL="ng-animate-queued",ok="ng-animate-disabled",L6=[],tL={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},V6={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ma="__ng_removed";class ak{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function j6(n){return n??null}(i?e.value:e),i){const a=eE(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const iE="void",lk=new ak(iE);class B6{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,xa(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function F$(n,e){return new l.vHH(3302,!1)}();if(null==i||0==i.length)throw function L$(n){return new l.vHH(3303,!1)}();if(!function $6(n){return"start"==n||"done"==n}(i))throw function V$(n,e){return new l.vHH(3400,!1)}();const a=Uo(this._elementListeners,e,[]),u={name:t,phase:i,callback:r};a.push(u);const f=Uo(this._engine.statesByElement,e,new Map);return f.has(t)||(xa(e,hT),xa(e,hT+"-"+t),f.set(t,lk)),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(u);_>=0&&a.splice(_,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function B$(n){return new l.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const a=this._getTrigger(t),u=new ck(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(xa(e,hT),xa(e,hT+"-"+t),this._engine.statesByElement.set(e,f=new Map));let _=f.get(t);const w=new ak(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&w.absorbOptions(_.options),f.set(t,w),_||(_=lk),w.value!==iE&&_.value===w.value){if(!function q6(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const a=t[r];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,w.params)){const ie=[],ye=a.matchStyles(_.value,_.params,ie),$e=a.matchStyles(w.value,w.params,ie);ie.length?this._engine.reportError(ie):this._engine.afterFlush(()=>{Km(e,ye),Lc(e,$e)})}return}const F=Uo(this._engine.playersByElement,e,[]);F.forEach(ie=>{ie.namespaceId==this.id&&ie.triggerName==t&&ie.queued&&ie.destroy()});let B=a.matchTransition(_.value,w.value,e,w.params),Z=!1;if(!B){if(!r)return;B=a.fallbackTransition,Z=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:B,fromState:_,toState:w,player:u,isFallbackTransition:Z}),Z||(xa(e,eL),u.onStart(()=>{yv(e,eL)})),u.onDone(()=>{let ie=this.players.indexOf(u);ie>=0&&this.players.splice(ie,1);const ye=this._engine.playersByElement.get(e);if(ye){let $e=ye.indexOf(u);$e>=0&&ye.splice($e,1)}}),this.players.push(u),F.push(u),u}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,fT,!0);i.forEach(r=>{if(r[Ma])return;const a=this._engine.fetchNamespacesByElement(r);a.size?a.forEach(u=>u.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const a=this._engine.statesByElement.get(e),u=new Map;if(a){const f=[];if(a.forEach((_,w)=>{if(u.set(w,_.value),this._triggers.has(w)){const D=this.trigger(e,w,iE,r);D&&f.push(D)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),i&&sf(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(a=>{const u=a.name;if(r.has(u))return;r.add(u);const _=this._triggers.get(u).fallbackTransition,w=i.get(u)||lk,D=new ak(iE),A=new ck(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:_,fromState:w,toState:D,player:A,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(e):[];if(a&&a.length)r=!0;else{let u=e;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Ma];(!a||a===tL)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){xa(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const a=i.element,u=this._elementListeners.get(a);u&&u.forEach(f=>{if(f.name==i.triggerName){const _=zR(a,i.triggerName,i.fromState.value,i.toState.value);_._data=e,jR(i.player,f.phase,_,f.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const a=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==a||0==u?a-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class U6{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new B6(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,f=this.driver.getParentElement(t);for(;f;){const _=r.get(f);if(_){const w=i.indexOf(_);i.splice(w+1,0,e),u=!0;break}f=this.driver.getParentElement(f)}u||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const a=this._fetchNamespace(r.namespaceId);a&&t.add(a)}return t}trigger(e,t,i,r){if(IT(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!IT(t))return;const a=t[Ma];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),xa(e,ok)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),yv(e,ok))}removeNode(e,t,i,r){if(IT(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,a){this.collectedLeaveElements.push(t),t[Ma]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,i,r,a){return IT(t)?this._fetchNamespace(e).listen(t,i,r,a):()=>{}}_buildInstruction(e,t,i,r,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,fT,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,KR,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return sf(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Ma];if(t&&t.setForRemoval){if(e[Ma]=tL,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(ok)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)xa(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?sf(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function U$(n){return new l.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new wT,r=[],a=new Map,u=[],f=new Map,_=new Map,w=new Map,D=new Set;this.disabledNodes.forEach(wt=>{D.add(wt);const Pt=this.driver.query(wt,".ng-animate-queued",!0);for(let Bt=0;Bt<Pt.length;Bt++)D.add(Pt[Bt])});const A=this.bodyNode,F=Array.from(this.statesByElement.keys()),B=rL(F,this.collectedEnterElements),Z=new Map;let ie=0;B.forEach((wt,Pt)=>{const Bt=WR+ie++;Z.set(Pt,Bt),wt.forEach(In=>xa(In,Bt))});const ye=[],$e=new Set,st=new Set;for(let wt=0;wt<this.collectedLeaveElements.length;wt++){const Pt=this.collectedLeaveElements[wt],Bt=Pt[Ma];Bt&&Bt.setForRemoval&&(ye.push(Pt),$e.add(Pt),Bt.hasAnimation?this.driver.query(Pt,".ng-star-inserted",!0).forEach(In=>$e.add(In)):st.add(Pt))}const Je=new Map,It=rL(F,Array.from($e));It.forEach((wt,Pt)=>{const Bt=dT+ie++;Je.set(Pt,Bt),wt.forEach(In=>xa(In,Bt))}),e.push(()=>{B.forEach((wt,Pt)=>{const Bt=Z.get(Pt);wt.forEach(In=>yv(In,Bt))}),It.forEach((wt,Pt)=>{const Bt=Je.get(Pt);wt.forEach(In=>yv(In,Bt))}),ye.forEach(wt=>{this.processLeaveNode(wt)})});const jt=[],qt=[];for(let wt=this._namespaceList.length-1;wt>=0;wt--)this._namespaceList[wt].drainQueuedTransitions(t).forEach(Bt=>{const In=Bt.player,Pr=Bt.element;if(jt.push(In),this.collectedEnterElements.length){const Ds=Pr[Ma];if(Ds&&Ds.setForMove){if(Ds.previousTriggersValues&&Ds.previousTriggersValues.has(Bt.triggerName)){const Jm=Ds.previousTriggersValues.get(Bt.triggerName),Ra=this.statesByElement.get(Bt.element);if(Ra&&Ra.has(Bt.triggerName)){const ST=Ra.get(Bt.triggerName);ST.value=Jm,Ra.set(Bt.triggerName,ST)}}return void In.destroy()}}const Vc=!A||!this.driver.containsElement(A,Pr),jo=Je.get(Pr),lf=Z.get(Pr),Mi=this._buildInstruction(Bt,i,lf,jo,Vc);if(Mi.errors&&Mi.errors.length)return void qt.push(Mi);if(Vc)return In.onStart(()=>Km(Pr,Mi.fromStyles)),In.onDestroy(()=>Lc(Pr,Mi.toStyles)),void r.push(In);if(Bt.isFallbackTransition)return In.onStart(()=>Km(Pr,Mi.fromStyles)),In.onDestroy(()=>Lc(Pr,Mi.toStyles)),void r.push(In);const TL=[];Mi.timelines.forEach(Ds=>{Ds.stretchStartingKeyframe=!0,this.disabledNodes.has(Ds.element)||TL.push(Ds)}),Mi.timelines=TL,i.append(Pr,Mi.timelines),u.push({instruction:Mi,player:In,element:Pr}),Mi.queriedElements.forEach(Ds=>Uo(f,Ds,[]).push(In)),Mi.preStyleProps.forEach((Ds,Jm)=>{if(Ds.size){let Ra=_.get(Jm);Ra||_.set(Jm,Ra=new Set),Ds.forEach((ST,mk)=>Ra.add(mk))}}),Mi.postStyleProps.forEach((Ds,Jm)=>{let Ra=w.get(Jm);Ra||w.set(Jm,Ra=new Set),Ds.forEach((ST,mk)=>Ra.add(mk))})});if(qt.length){const wt=[];qt.forEach(Pt=>{wt.push(function H$(n,e){return new l.vHH(3505,!1)}())}),jt.forEach(Pt=>Pt.destroy()),this.reportError(wt)}const An=new Map,Or=new Map;u.forEach(wt=>{const Pt=wt.element;i.has(Pt)&&(Or.set(Pt,Pt),this._beforeAnimationBuild(wt.player.namespaceId,wt.instruction,An))}),r.forEach(wt=>{const Pt=wt.element;this._getPreviousPlayers(Pt,!1,wt.namespaceId,wt.triggerName,null).forEach(In=>{Uo(An,Pt,[]).push(In),In.destroy()})});const od=ye.filter(wt=>oL(wt,_,w)),ad=new Map;iL(ad,this.driver,st,w,rd).forEach(wt=>{oL(wt,_,w)&&od.push(wt)});const rE=new Map;B.forEach((wt,Pt)=>{iL(rE,this.driver,new Set(wt),_,"!")}),od.forEach(wt=>{const Pt=ad.get(wt),Bt=rE.get(wt);ad.set(wt,new Map([...Array.from(Pt?.entries()??[]),...Array.from(Bt?.entries()??[])]))});const Xm=[],IL=[],DL={};u.forEach(wt=>{const{element:Pt,player:Bt,instruction:In}=wt;if(i.has(Pt)){if(D.has(Pt))return Bt.onDestroy(()=>Lc(Pt,In.toStyles)),Bt.disabled=!0,Bt.overrideTotalTime(In.totalTime),void r.push(Bt);let Pr=DL;if(Or.size>1){let jo=Pt;const lf=[];for(;jo=jo.parentNode;){const Mi=Or.get(jo);if(Mi){Pr=Mi;break}lf.push(jo)}lf.forEach(Mi=>Or.set(Mi,Pr))}const Vc=this._buildAnimation(Bt.namespaceId,In,An,a,rE,ad);if(Bt.setRealPlayer(Vc),Pr===DL)Xm.push(Bt);else{const jo=this.playersByElement.get(Pr);jo&&jo.length&&(Bt.parentPlayer=sf(jo)),r.push(Bt)}}else Km(Pt,In.fromStyles),Bt.onDestroy(()=>Lc(Pt,In.toStyles)),IL.push(Bt),D.has(Pt)&&r.push(Bt)}),IL.forEach(wt=>{const Pt=a.get(wt.element);if(Pt&&Pt.length){const Bt=sf(Pt);wt.setRealPlayer(Bt)}}),r.forEach(wt=>{wt.parentPlayer?wt.syncPlayerEvents(wt.parentPlayer):wt.destroy()});for(let wt=0;wt<ye.length;wt++){const Pt=ye[wt],Bt=Pt[Ma];if(yv(Pt,dT),Bt&&Bt.hasAnimation)continue;let In=[];if(f.size){let Vc=f.get(Pt);Vc&&Vc.length&&In.push(...Vc);let jo=this.driver.query(Pt,KR,!0);for(let lf=0;lf<jo.length;lf++){let Mi=f.get(jo[lf]);Mi&&Mi.length&&In.push(...Mi)}}const Pr=In.filter(Vc=>!Vc.destroyed);Pr.length?z6(this,Pt,Pr):this.processLeaveNode(Pt)}return ye.length=0,Xm.forEach(wt=>{this.players.push(wt),wt.onDone(()=>{wt.destroy();const Pt=this.players.indexOf(wt);this.players.splice(Pt,1)}),wt.play()}),Xm}elementContainsData(e,t){let i=!1;const r=t[Ma];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,a){let u=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(u=f)}else{const f=this.playersByElement.get(e);if(f){const _=!a||a==iE;f.forEach(w=>{w.queued||!_&&w.triggerName!=r||u.push(w)})}}return(i||r)&&(u=u.filter(f=>!(i&&i!=f.namespaceId||r&&r!=f.triggerName))),u}_beforeAnimationBuild(e,t,i){const a=t.element,u=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const w=_.element,D=w!==a,A=Uo(i,w,[]);this._getPreviousPlayers(w,D,u,f,t.toState).forEach(B=>{const Z=B.getRealPlayer();Z.beforeDestroy&&Z.beforeDestroy(),B.destroy(),A.push(B)})}Km(a,t.fromStyles)}_buildAnimation(e,t,i,r,a,u){const f=t.triggerName,_=t.element,w=[],D=new Set,A=new Set,F=t.timelines.map(Z=>{const ie=Z.element;D.add(ie);const ye=ie[Ma];if(ye&&ye.removedBeforeQueried)return new jw(Z.duration,Z.delay);const $e=ie!==_,st=function G6(n){const e=[];return sL(n,e),e}((i.get(ie)||L6).map(An=>An.getRealPlayer())).filter(An=>!!An.element&&An.element===ie),Je=a.get(ie),It=u.get(ie),jt=RF(0,this._normalizer,0,Z.keyframes,Je,It),qt=this._buildPlayer(Z,jt,st);if(Z.subTimeline&&r&&A.add(ie),$e){const An=new ck(e,f,ie);An.setRealPlayer(qt),w.push(An)}return qt});w.forEach(Z=>{Uo(this.playersByQueriedElement,Z.element,[]).push(Z),Z.onDone(()=>function H6(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,Z.element,Z))}),D.forEach(Z=>xa(Z,UF));const B=sf(F);return B.onDestroy(()=>{D.forEach(Z=>yv(Z,UF)),Lc(_,t.toStyles)}),A.forEach(Z=>{Uo(r,Z,[]).push(B)}),B}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new jw(e.duration,e.delay)}}class ck{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new jw,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>jR(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Uo(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function IT(n){return n&&1===n.nodeType}function nL(n,e){const t=n.style.display;return n.style.display=e??"none",t}function iL(n,e,t,i,r){const a=[];t.forEach(_=>a.push(nL(_)));const u=[];i.forEach((_,w)=>{const D=new Map;_.forEach(A=>{const F=e.computeStyle(w,A,r);D.set(A,F),(!F||0==F.length)&&(w[Ma]=V6,u.push(w))}),n.set(w,D)});let f=0;return t.forEach(_=>nL(_,a[f++])),u}function rL(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const r=new Set(e),a=new Map;function u(f){if(!f)return 1;let _=a.get(f);if(_)return _;const w=f.parentNode;return _=t.has(w)?w:r.has(w)?1:u(w),a.set(f,_),_}return e.forEach(f=>{const _=u(f);1!==_&&t.get(_).push(f)}),t}function xa(n,e){n.classList?.add(e)}function yv(n,e){n.classList?.remove(e)}function z6(n,e,t){sf(t).onDone(()=>n.processLeaveNode(e))}function sL(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof _N?sL(i.players,e):e.push(i)}}function oL(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(a=>r.add(a)):e.set(n,i),t.delete(n),!0}class DT{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,a)=>{},this._transitionEngine=new U6(e,t,i),this._timelineEngine=new k6(e,t,i),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(e,t,i,r,a){const u=e+"-"+r;let f=this._triggerCache[u];if(!f){const _=[],D=JR(this._driver,a,_,[]);if(_.length)throw function x$(n,e){return new l.vHH(3404,!1)}();f=function A6(n,e,t){return new M6(n,e,t)}(r,D,this._normalizer),this._triggerCache[u]=f}this._transitionEngine.registerTrigger(t,r,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[a,u]=kF(i);this._timelineEngine.command(a,t,u,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,a){if("@"==i.charAt(0)){const[u,f]=kF(i);return this._timelineEngine.listen(u,t,f,a)}return this._transitionEngine.listen(e,t,i,r,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let W6=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Lc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Lc(this._element,this._initialStyles),this._endStyles&&(Lc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Km(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Km(this._element,this._endStyles),this._endStyles=null),Lc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function uk(n){let e=null;return n.forEach((t,i)=>{(function K6(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class aL{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:qF(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Y6{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return FF(e,t)}getParentElement(e){return qR(e)}query(e,t,i){return LF(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,a,u=[]){const _={duration:i,delay:r,fill:0==r?"both":"forwards"};a&&(_.easing=a);const w=new Map,D=u.filter(B=>B instanceof aL);(function e6(n,e){return 0===n||0===e})(i,r)&&D.forEach(B=>{B.currentSnapshot.forEach((Z,ie)=>w.set(ie,Z))});let A=function Y$(n){return n.length?n[0]instanceof Map?n:n.map(e=>HF(e)):[]}(t).map(B=>af(B));A=function t6(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((a,u)=>{i.has(u)||r.push(u),i.set(u,a)}),r.length)for(let a=1;a<e.length;a++){let u=e[a];r.forEach(f=>u.set(f,qF(n,f)))}}return e}(e,A,w);const F=function Z6(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=uk(e[0]),e.length>1&&(i=uk(e[e.length-1]))):e instanceof Map&&(t=uk(e)),t||i?new W6(n,t,i):null}(e,A);return new aL(e,A,_,F)}}let Q6=(()=>{class n extends pN{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?mN(t):t;return lL(this._renderer,null,i,"register",[r]),new X6(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class X6 extends class _U{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new J6(this._id,e,t||{},this._renderer)}}class J6{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return lL(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function lL(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const cL="@.disabled";let ez=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(a,u)=>{const f=u?.parentNode(a);f&&u.removeChild(f,a)}}createRenderer(t,i){const a=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let D=this._rendererCache.get(a);return D||(D=new uL("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,D)),D}const u=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=D=>{Array.isArray(D)?D.forEach(_):this.engine.registerTrigger(u,f,t,D.name,D)};return i.data.animation.forEach(_),new tz(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[u,f]=a;u(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(DT),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class uL{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==cL?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class tz extends uL{constructor(e,t,i,r,a){super(t,i,r,a),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==cL?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function nz(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),u="";return"@"!=a.charAt(0)&&([a,u]=function iz(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,r,a,u,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(e,t,i)}}let rz=(()=>{class n extends DT{constructor(t,i,r,a){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ne),l.LFG(ZR),l.LFG(rk),l.LFG(l.z2F))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const dL=[{provide:pN,useClass:Q6},{provide:rk,useFactory:function sz(){return new I6}},{provide:DT,useClass:rz},{provide:l.FYo,useFactory:function oz(n,e,t){return new ez(n,e,t)},deps:[Za,DT,l.R0b]}],dk=[{provide:ZR,useFactory:()=>new Y6},{provide:l.QbO,useValue:"BrowserAnimations"},...dL],hL=[{provide:ZR,useClass:VF},{provide:l.QbO,useValue:"NoopAnimations"},...dL];let az=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?hL:dk}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:dk,imports:[Jl]}),n})();class hk{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class lz extends hk{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class cz extends hk{constructor(e,t,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class uz extends hk{constructor(e){super(),this.element=e instanceof l.SBq?e.nativeElement:e}}class hz extends class dz{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof lz?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof cz?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof uz?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(e,t,i,r,a){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const f=u.element,_=this._document.createComment("dom-portal");f.parentNode.insertBefore(_,f),this.outletElement.appendChild(f),this._attachedPortal=u,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(f,_)})},this._document=a}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||l.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let fz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const fL=EN();class pz{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=ir(-this._previousScrollPosition.left),e.style.top=ir(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,a=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),fL&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),fL&&(i.scrollBehavior=a,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class mz{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class pL{enable(){}disable(){}attach(){}}function fk(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function mL(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class gz{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();fk(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let _z=(()=>{class n{constructor(t,i,r,a){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new pL,this.close=u=>new mz(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new pz(this._viewportRuler,this._document),this.reposition=u=>new gz(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=a}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(lT),l.LFG(VR),l.LFG(l.R0b),l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class yz{constructor(e){if(this.scrollStrategy=new pL,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class vz{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let gL=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bz=(()=>{class n extends gL{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const a=this._attachedOverlays;for(let u=a.length-1;u>-1;u--)if(a[u]._keydownEvents.observers.length>0){const f=a[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(r)):f.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ne),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wz=(()=>{class n extends gL{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=qm(a)},this._clickListener=a=>{const u=qm(a),f="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let w=_.length-1;w>-1;w--){const D=_[w];if(D._outsidePointerEvents.observers.length<1||!D.hasAttached())continue;if(D.overlayElement.contains(u)||D.overlayElement.contains(f))break;const A=D._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>A.next(a)):A.next(a)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ne),l.LFG(Aa),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_L=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||RR()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<r.length;a++)r[a].remove()}const i=this._document.createElement("div");i.classList.add(t),RR()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ne),l.LFG(Aa))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Ez{constructor(e,t,i,r,a,u,f,_,w){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=a,this._keyboardDispatcher=u,this._document=f,this._location=_,this._outsideClickDispatcher=w,this._backdropElement=null,this._backdropClick=new Yt.x,this._attachments=new Yt.x,this._detachments=new Yt.x,this._locationChanges=fc.w0.EMPTY,this._backdropClickHandler=D=>this._backdropClick.next(D),this._backdropTransitionendHandler=D=>{this._disposeBackdrop(D.target)},this._keydownEvents=new Yt.x,this._outsidePointerEvents=new Yt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(_a(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=ir(this._config.width),e.height=ir(this._config.height),e.minWidth=ir(this._config.minWidth),e.minHeight=ir(this._config.minHeight),e.maxWidth=ir(this._config.maxWidth),e.maxHeight=ir(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;!e||(e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500)))}_toggleClasses(e,t,i){const r=AN(t||[]).filter(a=>!!a);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(ns((0,__.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const yL="cdk-overlay-connected-position-bounding-box",Cz=/([A-Za-z%]+)$/;class Iz{constructor(e,t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Yt.x,this._resizeSubscription=fc.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(yL),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,a=[];let u;for(let f of this._preferredPositions){let _=this._getOriginPoint(e,r,f),w=this._getOverlayPoint(_,t,f),D=this._getOverlayFit(w,t,i,f);if(D.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,_);this._canFitWithFlexibleDimensions(D,w,i)?a.push({position:f,origin:_,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(_,f)}):(!u||u.overlayFit.visibleArea<D.visibleArea)&&(u={overlayFit:D,overlayPoint:w,originPoint:_,position:f,overlayRect:t})}if(a.length){let f=null,_=-1;for(const w of a){const D=w.boundingBoxRect.width*w.boundingBoxRect.height*(w.position.weight||1);D>_&&(_=D,f=w)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Qm(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(yL),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,a;if("center"==i.originX)r=e.left+e.width/2;else{const u=this._isRtl()?e.right:e.left,f=this._isRtl()?e.left:e.right;r="start"==i.originX?u:f}return t.left<0&&(r-=t.left),a="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(a-=t.top),{x:r,y:a}}_getOverlayPoint(e,t,i){let r,a;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+a}}_getOverlayFit(e,t,i,r){const a=bL(t);let{x:u,y:f}=e,_=this._getOffset(r,"x"),w=this._getOffset(r,"y");_&&(u+=_),w&&(f+=w);let F=0-f,B=f+a.height-i.height,Z=this._subtractOverflows(a.width,0-u,u+a.width-i.width),ie=this._subtractOverflows(a.height,F,B),ye=Z*ie;return{visibleArea:ye,isCompletelyWithinViewport:a.width*a.height===ye,fitsInViewportVertically:ie===a.height,fitsInViewportHorizontally:Z==a.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,a=i.right-t.x,u=vL(this._overlayRef.getConfig().minHeight),f=vL(this._overlayRef.getConfig().minWidth),w=e.fitsInViewportHorizontally||null!=f&&f<=a;return(e.fitsInViewportVertically||null!=u&&u<=r)&&w}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=bL(t),a=this._viewportRect,u=Math.max(e.x+r.width-a.width,0),f=Math.max(e.y+r.height-a.height,0),_=Math.max(a.top-i.top-e.y,0),w=Math.max(a.left-i.left-e.x,0);let D=0,A=0;return D=r.width<=a.width?w||-u:e.x<this._viewportMargin?a.left-i.left-e.x:0,A=r.height<=a.height?_||-f:e.y<this._viewportMargin?a.top-i.top-e.y:0,this._previousPushAmount={x:D,y:A},{x:e.x+D,y:e.y+A}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new vz(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let a,u,f,D,A,F;if("top"===t.overlayY)u=e.y,a=i.height-u+this._viewportMargin;else if("bottom"===t.overlayY)f=i.height-e.y+2*this._viewportMargin,a=i.height-f+this._viewportMargin;else{const B=Math.min(i.bottom-e.y+i.top,e.y),Z=this._lastBoundingBoxSize.height;a=2*B,u=e.y-B,a>Z&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-Z/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)F=i.width-e.x+this._viewportMargin,D=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)A=e.x,D=i.right-e.x;else{const B=Math.min(i.right-e.x+i.left,e.x),Z=this._lastBoundingBoxSize.width;D=2*B,A=e.x-B,D>Z&&!this._isInitialRender&&!this._growAfterOpen&&(A=e.x-Z/2)}return{top:u,left:A,bottom:f,right:F,width:D,height:a}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=ir(i.height),r.top=ir(i.top),r.bottom=ir(i.bottom),r.width=ir(i.width),r.left=ir(i.left),r.right=ir(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(r.maxHeight=ir(a)),u&&(r.maxWidth=ir(u))}this._lastBoundingBoxSize=i,Qm(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Qm(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Qm(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),a=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const D=this._viewportRuler.getViewportScrollPosition();Qm(i,this._getExactOverlayY(t,e,D)),Qm(i,this._getExactOverlayX(t,e,D))}else i.position="static";let f="",_=this._getOffset(t,"x"),w=this._getOffset(t,"y");_&&(f+=`translateX(${_}px) `),w&&(f+=`translateY(${w}px)`),i.transform=f.trim(),u.maxHeight&&(r?i.maxHeight=ir(u.maxHeight):a&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=ir(u.maxWidth):a&&(i.maxWidth="")),Qm(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":r.top=ir(a.y),r}_getExactOverlayX(e,t,i){let u,r={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),u=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":r.left=ir(a.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:mL(e,i),isOriginOutsideView:fk(e,i),isOverlayClipped:mL(t,i),isOverlayOutsideView:fk(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?e.offsetX??this._offsetX:e.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&AN(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof l.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Qm(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function vL(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Cz);return t&&"px"!==t?null:parseFloat(e)}return n||null}function bL(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const wL="cdk-global-overlay-wrapper";class Dz{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(wL),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:a,maxWidth:u,maxHeight:f}=i,_=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),w=!("100%"!==a&&"100vh"!==a||f&&"100%"!==f&&"100vh"!==f);e.position=this._cssPosition,e.marginLeft=_?"0":this._leftOffset,e.marginTop=w?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,_?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=w?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(wL),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Tz=(()=>{class n{constructor(t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a}global(){return new Dz}flexibleConnectedTo(t){return new Iz(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(VR),l.LFG(ne),l.LFG(Aa),l.LFG(_L))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Sz=0,pk=(()=>{class n{constructor(t,i,r,a,u,f,_,w,D,A,F){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=a,this._keyboardDispatcher=u,this._injector=f,this._ngZone=_,this._document=w,this._directionality=D,this._location=A,this._outsideClickDispatcher=F}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),a=this._createPortalOutlet(r),u=new yz(t);return u.direction=u.direction||this._directionality.value,new Ez(a,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Sz++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(l.z2F)),new hz(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(_z),l.LFG(_L),l.LFG(l._Vd),l.LFG(Tz),l.LFG(bz),l.LFG(l.zs3),l.LFG(l.R0b),l.LFG(ne),l.LFG(OR),l.LFG(Pe),l.LFG(wz))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const xz={provide:new l.OlP("cdk-connected-overlay-scroll-strategy"),deps:[pk],useFactory:function Mz(n){return()=>n.scrollStrategies.reposition()}};let Rz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[pk,xz],imports:[[Gw,fz,mF],mF]}),n})();const Nz={provide:new l.OlP("mat-menu-scroll-strategy"),deps:[pk],useFactory:function Pz(n){return()=>n.scrollStrategies.reposition()}};let Fz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Nz],imports:[[_o,is,YN,Rz],Xw,is]}),n})();!function qo(n,e,t){(0,l.dwT)(n,e,t)}(Rf);let Lz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[l$]}),n.\u0275inj=l.cJS({providers:[{provide:l.soG,useValue:"es"}],imports:[Jl,a$,az,op,XN,_j,Fz,Jj,v3,hl,xo.hO.initializeApp(uE_firebase),BU.forRoot({timeOut:4e3,positionClass:"toast-bottom-right",preventDuplicates:!0}),XN]}),n})();(0,l.G48)(),ra().bootstrapModule(Lz).catch(n=>console.error(n))},9751:(gt,De,N)=>{N.d(De,{y:()=>we});var l=N(930),X=N(727),O=N(8822),ae=N(9635),oe=N(2416),ue=N(576),ne=N(2806);let we=(()=>{class W{constructor(xe){xe&&(this._subscribe=xe)}lift(xe){const Ce=new W;return Ce.source=this,Ce.operator=xe,Ce}subscribe(xe,Ce,ot){const _e=function $(W){return W&&W instanceof l.Lv||function z(W){return W&&(0,ue.m)(W.next)&&(0,ue.m)(W.error)&&(0,ue.m)(W.complete)}(W)&&(0,X.Nn)(W)}(xe)?xe:new l.Hp(xe,Ce,ot);return(0,ne.x)(()=>{const{operator:ge,source:_t}=this;_e.add(ge?ge.call(_e,_t):_t?this._subscribe(_e):this._trySubscribe(_e))}),_e}_trySubscribe(xe){try{return this._subscribe(xe)}catch(Ce){xe.error(Ce)}}forEach(xe,Ce){return new(Ce=he(Ce))((ot,_e)=>{const ge=new l.Hp({next:_t=>{try{xe(_t)}catch(Dt){_e(Dt),ge.unsubscribe()}},error:_e,complete:ot});this.subscribe(ge)})}_subscribe(xe){var Ce;return null===(Ce=this.source)||void 0===Ce?void 0:Ce.subscribe(xe)}[O.L](){return this}pipe(...xe){return(0,ae.U)(xe)(this)}toPromise(xe){return new(xe=he(xe))((Ce,ot)=>{let _e;this.subscribe(ge=>_e=ge,ge=>ot(ge),()=>Ce(_e))})}}return W.create=ze=>new W(ze),W})();function he(W){var ze;return null!==(ze=W??oe.v.Promise)&&void 0!==ze?ze:Promise}},7579:(gt,De,N)=>{N.d(De,{x:()=>ne});var l=N(9751),X=N(727);const ae=(0,N(3888).d)(he=>function(){he(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=N(8737),ue=N(2806);let ne=(()=>{class he extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const W=new we(this,this);return W.operator=$,W}_throwIfClosed(){if(this.closed)throw new ae}next($){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const W of this.currentObservers)W.next($)}})}error($){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:W}=this;for(;W.length;)W.shift().error($)}})}complete(){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:W,isStopped:ze,observers:xe}=this;return W||ze?X.Lc:(this.currentObservers=null,xe.push($),new X.w0(()=>{this.currentObservers=null,(0,oe.P)(xe,$)}))}_checkFinalizedStatuses($){const{hasError:W,thrownError:ze,isStopped:xe}=this;W?$.error(ze):xe&&$.complete()}asObservable(){const $=new l.y;return $.source=this,$}}return he.create=(z,$)=>new we(z,$),he})();class we extends ne{constructor(z,$){super(),this.destination=z,this.source=$}next(z){var $,W;null===(W=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===W||W.call($,z)}error(z){var $,W;null===(W=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===W||W.call($,z)}complete(){var z,$;null===($=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===$||$.call(z)}_subscribe(z){var $,W;return null!==(W=null===($=this.source)||void 0===$?void 0:$.subscribe(z))&&void 0!==W?W:X.Lc}}},930:(gt,De,N)=>{N.d(De,{Hp:()=>ot,Lv:()=>W});var l=N(576),X=N(727),O=N(2416),ae=N(7849),oe=N(5032);const ue=he("C",void 0,void 0);function he(Pe,Ee,fe){return{kind:Pe,value:Ee,error:fe}}var z=N(3410),$=N(2806);class W extends X.w0{constructor(Ee){super(),this.isStopped=!1,Ee?(this.destination=Ee,(0,X.Nn)(Ee)&&Ee.add(this)):this.destination=Dt}static create(Ee,fe,Ge){return new ot(Ee,fe,Ge)}next(Ee){this.isStopped?_t(function we(Pe){return he("N",Pe,void 0)}(Ee),this):this._next(Ee)}error(Ee){this.isStopped?_t(function ne(Pe){return he("E",void 0,Pe)}(Ee),this):(this.isStopped=!0,this._error(Ee))}complete(){this.isStopped?_t(ue,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ee){this.destination.next(Ee)}_error(Ee){try{this.destination.error(Ee)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function xe(Pe,Ee){return ze.call(Pe,Ee)}class Ce{constructor(Ee){this.partialObserver=Ee}next(Ee){const{partialObserver:fe}=this;if(fe.next)try{fe.next(Ee)}catch(Ge){_e(Ge)}}error(Ee){const{partialObserver:fe}=this;if(fe.error)try{fe.error(Ee)}catch(Ge){_e(Ge)}else _e(Ee)}complete(){const{partialObserver:Ee}=this;if(Ee.complete)try{Ee.complete()}catch(fe){_e(fe)}}}class ot extends W{constructor(Ee,fe,Ge){let He;if(super(),(0,l.m)(Ee)||!Ee)He={next:Ee??void 0,error:fe??void 0,complete:Ge??void 0};else{let et;this&&O.v.useDeprecatedNextContext?(et=Object.create(Ee),et.unsubscribe=()=>this.unsubscribe(),He={next:Ee.next&&xe(Ee.next,et),error:Ee.error&&xe(Ee.error,et),complete:Ee.complete&&xe(Ee.complete,et)}):He=Ee}this.destination=new Ce(He)}}function _e(Pe){O.v.useDeprecatedSynchronousErrorHandling?(0,$.O)(Pe):(0,ae.h)(Pe)}function _t(Pe,Ee){const{onStoppedNotification:fe}=O.v;fe&&z.z.setTimeout(()=>fe(Pe,Ee))}const Dt={closed:!0,next:oe.Z,error:function ge(Pe){throw Pe},complete:oe.Z}},727:(gt,De,N)=>{N.d(De,{Lc:()=>ue,w0:()=>oe,Nn:()=>ne});var l=N(576);const O=(0,N(3888).d)(he=>function($){he(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((W,ze)=>`${ze+1}) ${W.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var ae=N(8737);class oe{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const xe of $)xe.remove(this);else $.remove(this);const{initialTeardown:W}=this;if((0,l.m)(W))try{W()}catch(xe){z=xe instanceof O?xe.errors:[xe]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const xe of ze)try{we(xe)}catch(Ce){z=z??[],Ce instanceof O?z=[...z,...Ce.errors]:z.push(Ce)}}if(z)throw new O(z)}}add(z){var $;if(z&&z!==this)if(this.closed)we(z);else{if(z instanceof oe){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(z)}}_hasParent(z){const{_parentage:$}=this;return $===z||Array.isArray($)&&$.includes(z)}_addParent(z){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(z),$):$?[$,z]:z}_removeParent(z){const{_parentage:$}=this;$===z?this._parentage=null:Array.isArray($)&&(0,ae.P)($,z)}remove(z){const{_finalizers:$}=this;$&&(0,ae.P)($,z),z instanceof oe&&z._removeParent(this)}}oe.EMPTY=(()=>{const he=new oe;return he.closed=!0,he})();const ue=oe.EMPTY;function ne(he){return he instanceof oe||he&&"closed"in he&&(0,l.m)(he.remove)&&(0,l.m)(he.add)&&(0,l.m)(he.unsubscribe)}function we(he){(0,l.m)(he)?he():he.unsubscribe()}},2416:(gt,De,N)=>{N.d(De,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(gt,De,N)=>{N.d(De,{E:()=>X});const X=new(N(9751).y)(oe=>oe.complete())},8996:(gt,De,N)=>{N.d(De,{D:()=>Ee});var l=N(8421),X=N(5363),O=N(9468),ue=N(9751),we=N(2202),he=N(576),z=N(9672);function W(fe,Ge){if(!fe)throw new Error("Iterable cannot be null");return new ue.y(He=>{(0,z.f)(He,Ge,()=>{const et=fe[Symbol.asyncIterator]();(0,z.f)(He,Ge,()=>{et.next().then(ee=>{ee.done?He.complete():He.next(ee.value)})},0,!0)})})}var ze=N(3670),xe=N(8239),Ce=N(1144),ot=N(6495),_e=N(2206),ge=N(4532),_t=N(3260);function Ee(fe,Ge){return Ge?function Pe(fe,Ge){if(null!=fe){if((0,ze.c)(fe))return function ae(fe,Ge){return(0,l.Xf)(fe).pipe((0,O.R)(Ge),(0,X.Q)(Ge))}(fe,Ge);if((0,Ce.z)(fe))return function ne(fe,Ge){return new ue.y(He=>{let et=0;return Ge.schedule(function(){et===fe.length?He.complete():(He.next(fe[et++]),He.closed||this.schedule())})})}(fe,Ge);if((0,xe.t)(fe))return function oe(fe,Ge){return(0,l.Xf)(fe).pipe((0,O.R)(Ge),(0,X.Q)(Ge))}(fe,Ge);if((0,_e.D)(fe))return W(fe,Ge);if((0,ot.T)(fe))return function $(fe,Ge){return new ue.y(He=>{let et;return(0,z.f)(He,Ge,()=>{et=fe[we.h](),(0,z.f)(He,Ge,()=>{let ee,xt;try{({value:ee,done:xt}=et.next())}catch(dt){return void He.error(dt)}xt?He.complete():He.next(ee)},0,!0)}),()=>(0,he.m)(et?.return)&&et.return()})}(fe,Ge);if((0,_t.L)(fe))return function Dt(fe,Ge){return W((0,_t.Q)(fe),Ge)}(fe,Ge)}throw(0,ge.z)(fe)}(fe,Ge):(0,l.Xf)(fe)}},8421:(gt,De,N)=>{N.d(De,{Xf:()=>ze});var l=N(655),X=N(1144),O=N(8239),ae=N(9751),oe=N(3670),ue=N(2206),ne=N(4532),we=N(6495),he=N(3260),z=N(576),$=N(7849),W=N(8822);function ze(Pe){if(Pe instanceof ae.y)return Pe;if(null!=Pe){if((0,oe.c)(Pe))return function xe(Pe){return new ae.y(Ee=>{const fe=Pe[W.L]();if((0,z.m)(fe.subscribe))return fe.subscribe(Ee);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Pe);if((0,X.z)(Pe))return function Ce(Pe){return new ae.y(Ee=>{for(let fe=0;fe<Pe.length&&!Ee.closed;fe++)Ee.next(Pe[fe]);Ee.complete()})}(Pe);if((0,O.t)(Pe))return function ot(Pe){return new ae.y(Ee=>{Pe.then(fe=>{Ee.closed||(Ee.next(fe),Ee.complete())},fe=>Ee.error(fe)).then(null,$.h)})}(Pe);if((0,ue.D)(Pe))return ge(Pe);if((0,we.T)(Pe))return function _e(Pe){return new ae.y(Ee=>{for(const fe of Pe)if(Ee.next(fe),Ee.closed)return;Ee.complete()})}(Pe);if((0,he.L)(Pe))return function _t(Pe){return ge((0,he.Q)(Pe))}(Pe)}throw(0,ne.z)(Pe)}function ge(Pe){return new ae.y(Ee=>{(function Dt(Pe,Ee){var fe,Ge,He,et;return(0,l.mG)(this,void 0,void 0,function*(){try{for(fe=(0,l.KL)(Pe);!(Ge=yield fe.next()).done;)if(Ee.next(Ge.value),Ee.closed)return}catch(ee){He={error:ee}}finally{try{Ge&&!Ge.done&&(et=fe.return)&&(yield et.call(fe))}finally{if(He)throw He.error}}Ee.complete()})})(Pe,Ee).catch(fe=>Ee.error(fe))})}},6451:(gt,De,N)=>{N.d(De,{T:()=>ue});var l=N(8189),X=N(8421),O=N(515),ae=N(3269),oe=N(8996);function ue(...ne){const we=(0,ae.yG)(ne),he=(0,ae._6)(ne,1/0),z=ne;return z.length?1===z.length?(0,X.Xf)(z[0]):(0,l.J)(he)((0,oe.D)(z,we)):O.E}},5403:(gt,De,N)=>{N.d(De,{x:()=>X});var l=N(930);function X(ae,oe,ue,ne,we){return new O(ae,oe,ue,ne,we)}class O extends l.Lv{constructor(oe,ue,ne,we,he,z){super(oe),this.onFinalize=he,this.shouldUnsubscribe=z,this._next=ue?function($){try{ue($)}catch(W){oe.error(W)}}:super._next,this._error=we?function($){try{we($)}catch(W){oe.error(W)}finally{this.unsubscribe()}}:super._error,this._complete=ne?function(){try{ne()}catch($){oe.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ue}=this;super.unsubscribe(),!ue&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}}},4004:(gt,De,N)=>{N.d(De,{U:()=>O});var l=N(4482),X=N(5403);function O(ae,oe){return(0,l.e)((ue,ne)=>{let we=0;ue.subscribe((0,X.x)(ne,he=>{ne.next(ae.call(oe,he,we++))}))})}},8189:(gt,De,N)=>{N.d(De,{J:()=>O});var l=N(5577),X=N(4671);function O(ae=1/0){return(0,l.z)(X.y,ae)}},5577:(gt,De,N)=>{N.d(De,{z:()=>we});var l=N(4004),X=N(8421),O=N(4482),ae=N(9672),oe=N(5403),ne=N(576);function we(he,z,$=1/0){return(0,ne.m)(z)?we((W,ze)=>(0,l.U)((xe,Ce)=>z(W,xe,ze,Ce))((0,X.Xf)(he(W,ze))),$):("number"==typeof z&&($=z),(0,O.e)((W,ze)=>function ue(he,z,$,W,ze,xe,Ce,ot){const _e=[];let ge=0,_t=0,Dt=!1;const Pe=()=>{Dt&&!_e.length&&!ge&&z.complete()},Ee=Ge=>ge<W?fe(Ge):_e.push(Ge),fe=Ge=>{xe&&z.next(Ge),ge++;let He=!1;(0,X.Xf)($(Ge,_t++)).subscribe((0,oe.x)(z,et=>{ze?.(et),xe?Ee(et):z.next(et)},()=>{He=!0},void 0,()=>{if(He)try{for(ge--;_e.length&&ge<W;){const et=_e.shift();Ce?(0,ae.f)(z,Ce,()=>fe(et)):fe(et)}Pe()}catch(et){z.error(et)}}))};return he.subscribe((0,oe.x)(z,Ee,()=>{Dt=!0,Pe()})),()=>{ot?.()}}(W,ze,he,$)))}},5363:(gt,De,N)=>{N.d(De,{Q:()=>ae});var l=N(9672),X=N(4482),O=N(5403);function ae(oe,ue=0){return(0,X.e)((ne,we)=>{ne.subscribe((0,O.x)(we,he=>(0,l.f)(we,oe,()=>we.next(he),ue),()=>(0,l.f)(we,oe,()=>we.complete(),ue),he=>(0,l.f)(we,oe,()=>we.error(he),ue)))})}},3099:(gt,De,N)=>{N.d(De,{B:()=>oe});var l=N(8421),X=N(7579),O=N(930),ae=N(4482);function oe(ne={}){const{connector:we=(()=>new X.x),resetOnError:he=!0,resetOnComplete:z=!0,resetOnRefCountZero:$=!0}=ne;return W=>{let ze,xe,Ce,ot=0,_e=!1,ge=!1;const _t=()=>{xe?.unsubscribe(),xe=void 0},Dt=()=>{_t(),ze=Ce=void 0,_e=ge=!1},Pe=()=>{const Ee=ze;Dt(),Ee?.unsubscribe()};return(0,ae.e)((Ee,fe)=>{ot++,!ge&&!_e&&_t();const Ge=Ce=Ce??we();fe.add(()=>{ot--,0===ot&&!ge&&!_e&&(xe=ue(Pe,$))}),Ge.subscribe(fe),!ze&&ot>0&&(ze=new O.Hp({next:He=>Ge.next(He),error:He=>{ge=!0,_t(),xe=ue(Dt,he,He),Ge.error(He)},complete:()=>{_e=!0,_t(),xe=ue(Dt,z),Ge.complete()}}),(0,l.Xf)(Ee).subscribe(ze))})(W)}}function ue(ne,we,...he){if(!0===we)return void ne();if(!1===we)return;const z=new O.Hp({next:()=>{z.unsubscribe(),ne()}});return we(...he).subscribe(z)}},9468:(gt,De,N)=>{N.d(De,{R:()=>X});var l=N(4482);function X(O,ae=0){return(0,l.e)((oe,ue)=>{ue.add(O.schedule(()=>oe.subscribe(ue),ae))})}},8505:(gt,De,N)=>{N.d(De,{b:()=>oe});var l=N(576),X=N(4482),O=N(5403),ae=N(4671);function oe(ue,ne,we){const he=(0,l.m)(ue)||ne||we?{next:ue,error:ne,complete:we}:ue;return he?(0,X.e)((z,$)=>{var W;null===(W=he.subscribe)||void 0===W||W.call(he);let ze=!0;z.subscribe((0,O.x)($,xe=>{var Ce;null===(Ce=he.next)||void 0===Ce||Ce.call(he,xe),$.next(xe)},()=>{var xe;ze=!1,null===(xe=he.complete)||void 0===xe||xe.call(he),$.complete()},xe=>{var Ce;ze=!1,null===(Ce=he.error)||void 0===Ce||Ce.call(he,xe),$.error(xe)},()=>{var xe,Ce;ze&&(null===(xe=he.unsubscribe)||void 0===xe||xe.call(he)),null===(Ce=he.finalize)||void 0===Ce||Ce.call(he)}))}):ae.y}},4408:(gt,De,N)=>{N.d(De,{o:()=>oe});var l=N(727);class X extends l.w0{constructor(ne,we){super()}schedule(ne,we=0){return this}}const O={setInterval(ue,ne,...we){const{delegate:he}=O;return he?.setInterval?he.setInterval(ue,ne,...we):setInterval(ue,ne,...we)},clearInterval(ue){const{delegate:ne}=O;return(ne?.clearInterval||clearInterval)(ue)},delegate:void 0};var ae=N(8737);class oe extends X{constructor(ne,we){super(ne,we),this.scheduler=ne,this.work=we,this.pending=!1}schedule(ne,we=0){var he;if(this.closed)return this;this.state=ne;const z=this.id,$=this.scheduler;return null!=z&&(this.id=this.recycleAsyncId($,z,we)),this.pending=!0,this.delay=we,this.id=null!==(he=this.id)&&void 0!==he?he:this.requestAsyncId($,this.id,we),this}requestAsyncId(ne,we,he=0){return O.setInterval(ne.flush.bind(ne,this),he)}recycleAsyncId(ne,we,he=0){if(null!=he&&this.delay===he&&!1===this.pending)return we;null!=we&&O.clearInterval(we)}execute(ne,we){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const he=this._execute(ne,we);if(he)return he;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ne,we){let z,he=!1;try{this.work(ne)}catch($){he=!0,z=$||new Error("Scheduled action threw falsy error")}if(he)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:ne,scheduler:we}=this,{actions:he}=we;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(he,this),null!=ne&&(this.id=this.recycleAsyncId(we,ne,null)),this.delay=null,super.unsubscribe()}}}},7565:(gt,De,N)=>{N.d(De,{v:()=>O});var l=N(6063);class X{constructor(oe,ue=X.now){this.schedulerActionCtor=oe,this.now=ue}schedule(oe,ue=0,ne){return new this.schedulerActionCtor(this,oe).schedule(ne,ue)}}X.now=l.l.now;class O extends X{constructor(oe,ue=X.now){super(oe,ue),this.actions=[],this._active=!1}flush(oe){const{actions:ue}=this;if(this._active)return void ue.push(oe);let ne;this._active=!0;do{if(ne=oe.execute(oe.state,oe.delay))break}while(oe=ue.shift());if(this._active=!1,ne){for(;oe=ue.shift();)oe.unsubscribe();throw ne}}}},4986:(gt,De,N)=>{N.d(De,{P:()=>ae,z:()=>O});var l=N(4408);const O=new(N(7565).v)(l.o),ae=O},6063:(gt,De,N)=>{N.d(De,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(gt,De,N)=>{N.d(De,{z:()=>l});const l={setTimeout(X,O,...ae){const{delegate:oe}=l;return oe?.setTimeout?oe.setTimeout(X,O,...ae):setTimeout(X,O,...ae)},clearTimeout(X){const{delegate:O}=l;return(O?.clearTimeout||clearTimeout)(X)},delegate:void 0}},2202:(gt,De,N)=>{N.d(De,{h:()=>X});const X=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(gt,De,N)=>{N.d(De,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(gt,De,N)=>{N.d(De,{_6:()=>ue,jO:()=>ae,yG:()=>oe});var l=N(576),X=N(3532);function O(ne){return ne[ne.length-1]}function ae(ne){return(0,l.m)(O(ne))?ne.pop():void 0}function oe(ne){return(0,X.K)(O(ne))?ne.pop():void 0}function ue(ne,we){return"number"==typeof O(ne)?ne.pop():we}},8737:(gt,De,N)=>{function l(X,O){if(X){const ae=X.indexOf(O);0<=ae&&X.splice(ae,1)}}N.d(De,{P:()=>l})},3888:(gt,De,N)=>{function l(X){const ae=X(oe=>{Error.call(oe),oe.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}N.d(De,{d:()=>l})},2806:(gt,De,N)=>{N.d(De,{O:()=>ae,x:()=>O});var l=N(2416);let X=null;function O(oe){if(l.v.useDeprecatedSynchronousErrorHandling){const ue=!X;if(ue&&(X={errorThrown:!1,error:null}),oe(),ue){const{errorThrown:ne,error:we}=X;if(X=null,ne)throw we}}else oe()}function ae(oe){l.v.useDeprecatedSynchronousErrorHandling&&X&&(X.errorThrown=!0,X.error=oe)}},9672:(gt,De,N)=>{function l(X,O,ae,oe=0,ue=!1){const ne=O.schedule(function(){ae(),ue?X.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(X.add(ne),!ue)return ne}N.d(De,{f:()=>l})},4671:(gt,De,N)=>{function l(X){return X}N.d(De,{y:()=>l})},1144:(gt,De,N)=>{N.d(De,{z:()=>l});const l=X=>X&&"number"==typeof X.length&&"function"!=typeof X},2206:(gt,De,N)=>{N.d(De,{D:()=>X});var l=N(576);function X(O){return Symbol.asyncIterator&&(0,l.m)(O?.[Symbol.asyncIterator])}},576:(gt,De,N)=>{function l(X){return"function"==typeof X}N.d(De,{m:()=>l})},3670:(gt,De,N)=>{N.d(De,{c:()=>O});var l=N(8822),X=N(576);function O(ae){return(0,X.m)(ae[l.L])}},6495:(gt,De,N)=>{N.d(De,{T:()=>O});var l=N(2202),X=N(576);function O(ae){return(0,X.m)(ae?.[l.h])}},8239:(gt,De,N)=>{N.d(De,{t:()=>X});var l=N(576);function X(O){return(0,l.m)(O?.then)}},3260:(gt,De,N)=>{N.d(De,{L:()=>ae,Q:()=>O});var l=N(655),X=N(576);function O(oe){return(0,l.FC)(this,arguments,function*(){const ne=oe.getReader();try{for(;;){const{value:we,done:he}=yield(0,l.qq)(ne.read());if(he)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(we)}}finally{ne.releaseLock()}})}function ae(oe){return(0,X.m)(oe?.getReader)}},3532:(gt,De,N)=>{N.d(De,{K:()=>X});var l=N(576);function X(O){return O&&(0,l.m)(O.schedule)}},4482:(gt,De,N)=>{N.d(De,{A:()=>X,e:()=>O});var l=N(576);function X(ae){return(0,l.m)(ae?.lift)}function O(ae){return oe=>{if(X(oe))return oe.lift(function(ue){try{return ae(ue,this)}catch(ne){this.error(ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(gt,De,N)=>{function l(){}N.d(De,{Z:()=>l})},9635:(gt,De,N)=>{N.d(De,{U:()=>O,z:()=>X});var l=N(4671);function X(...ae){return O(ae)}function O(ae){return 0===ae.length?l.y:1===ae.length?ae[0]:function(ue){return ae.reduce((ne,we)=>we(ne),ue)}}},7849:(gt,De,N)=>{N.d(De,{h:()=>O});var l=N(2416),X=N(3410);function O(ae){X.z.setTimeout(()=>{const{onUnhandledError:oe}=l.v;if(!oe)throw ae;oe(ae)})}},4532:(gt,De,N)=>{function l(X){return new TypeError(`You provided ${null!==X&&"object"==typeof X?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(De,{z:()=>l})},655:(gt,De,N)=>{function ae(de,pe){var Te={};for(var ke in de)Object.prototype.hasOwnProperty.call(de,ke)&&pe.indexOf(ke)<0&&(Te[ke]=de[ke]);if(null!=de&&"function"==typeof Object.getOwnPropertySymbols){var Ve=0;for(ke=Object.getOwnPropertySymbols(de);Ve<ke.length;Ve++)pe.indexOf(ke[Ve])<0&&Object.prototype.propertyIsEnumerable.call(de,ke[Ve])&&(Te[ke[Ve]]=de[ke[Ve]])}return Te}function W(de,pe,Te,ke){return new(Te||(Te=Promise))(function(Ie,Rt){function rn(Gt){try{Ue(ke.next(Gt))}catch(Wt){Rt(Wt)}}function Ft(Gt){try{Ue(ke.throw(Gt))}catch(Wt){Rt(Wt)}}function Ue(Gt){Gt.done?Ie(Gt.value):function Ve(Ie){return Ie instanceof Te?Ie:new Te(function(Rt){Rt(Ie)})}(Gt.value).then(rn,Ft)}Ue((ke=ke.apply(de,pe||[])).next())})}function Pe(de){return this instanceof Pe?(this.v=de,this):new Pe(de)}function Ee(de,pe,Te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,ke=Te.apply(de,pe||[]),Ie=[];return Ve={},Rt("next"),Rt("throw"),Rt("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve;function Rt(en){ke[en]&&(Ve[en]=function(On){return new Promise(function($n,Vi){Ie.push([en,On,$n,Vi])>1||rn(en,On)})})}function rn(en,On){try{!function Ft(en){en.value instanceof Pe?Promise.resolve(en.value.v).then(Ue,Gt):Wt(Ie[0][2],en)}(ke[en](On))}catch($n){Wt(Ie[0][3],$n)}}function Ue(en){rn("next",en)}function Gt(en){rn("throw",en)}function Wt(en,On){en(On),Ie.shift(),Ie.length&&rn(Ie[0][0],Ie[0][1])}}function Ge(de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Te,pe=de[Symbol.asyncIterator];return pe?pe.call(de):(de=function ot(de){var pe="function"==typeof Symbol&&Symbol.iterator,Te=pe&&de[pe],ke=0;if(Te)return Te.call(de);if(de&&"number"==typeof de.length)return{next:function(){return de&&ke>=de.length&&(de=void 0),{value:de&&de[ke++],done:!de}}};throw new TypeError(pe?"Object is not iterable.":"Symbol.iterator is not defined.")}(de),Te={},ke("next"),ke("throw"),ke("return"),Te[Symbol.asyncIterator]=function(){return this},Te);function ke(Ie){Te[Ie]=de[Ie]&&function(Rt){return new Promise(function(rn,Ft){!function Ve(Ie,Rt,rn,Ft){Promise.resolve(Ft).then(function(Ue){Ie({value:Ue,done:rn})},Rt)}(rn,Ft,(Rt=de[Ie](Rt)).done,Rt.value)})}}}N.d(De,{FC:()=>Ee,KL:()=>Ge,_T:()=>ae,mG:()=>W,qq:()=>Pe})},4650:(gt,De,N)=>{N.d(De,{$8M:()=>Xl,$Z:()=>ku,AFp:()=>Iy,ALo:()=>_0,AaK:()=>we,BQk:()=>Lp,CHM:()=>us,CRH:()=>kh,CZH:()=>ws,CqO:()=>v_,D6c:()=>fM,EJc:()=>pr,EiD:()=>sh,EpF:()=>wC,F$t:()=>PS,F4k:()=>CC,FYo:()=>Gv,FiY:()=>vi,G48:()=>Py,Gf:()=>SI,GfV:()=>Bg,Gpc:()=>$,Hsn:()=>NS,JOm:()=>Mo,JVY:()=>np,KtG:()=>La,L6k:()=>Pv,LAX:()=>ip,LFG:()=>$t,LSH:()=>cE,Lbi:()=>UI,Lck:()=>er,MAs:()=>__,MMx:()=>d0,NdJ:()=>IC,OlP:()=>cn,Oqu:()=>Hp,PXZ:()=>QA,Q6J:()=>bh,QGY:()=>EC,QP$:()=>Mt,QbO:()=>z0,Qsj:()=>vk,R0b:()=>fo,RDi:()=>Eg,Rgc:()=>Mh,SBq:()=>gs,Sil:()=>jI,Suo:()=>AI,TTD:()=>yr,TgZ:()=>Np,Tol:()=>wh,Udp:()=>kb,VKq:()=>Uu,WFA:()=>DC,X6Q:()=>nM,XFs:()=>ht,Xpm:()=>Vn,Xts:()=>Uv,Y36:()=>_s,YKP:()=>iy,YNc:()=>bC,Yjl:()=>q,Yz7:()=>Ue,Z0I:()=>On,ZZ4:()=>nw,_Bn:()=>ny,_UZ:()=>y_,_Vd:()=>va,_c5:()=>hM,_uU:()=>R_,aQg:()=>iw,c2e:()=>HI,cJS:()=>Wt,cg1:()=>V_,d8E:()=>KC,dDg:()=>Z0,dqk:()=>bn,dwT:()=>nA,eBb:()=>Tg,eFA:()=>eM,ekj:()=>D_,eoX:()=>rt,f3M:()=>tc,g9A:()=>Bo,gM2:()=>im,h0i:()=>Dc,hGG:()=>tD,hij:()=>k_,iGM:()=>TI,ifc:()=>Et,ip1:()=>BI,jDz:()=>pI,kL8:()=>jb,lG2:()=>V,lqb:()=>pi,lri:()=>mi,mCW:()=>b,n5z:()=>Hn,n_E:()=>om,oAB:()=>or,oJD:()=>ap,oxw:()=>OS,pB0:()=>Nv,q3G:()=>ei,q4F:()=>pE,qLn:()=>ah,qOj:()=>Cb,qZA:()=>Fp,qzn:()=>so,rWj:()=>Us,sBO:()=>qI,sIi:()=>p_,s_b:()=>ju,soG:()=>Qr,tb:()=>Dy,tp0:()=>ms,uIk:()=>g_,vHH:()=>Ce,vpe:()=>Bs,wAp:()=>Ot,xi3:()=>hy,xp6:()=>mc,ynx:()=>Hi,z2F:()=>Ry,z3N:()=>Ii,zSh:()=>Og,zs3:()=>xu});var l=N(7579),X=N(727),O=N(9751),ae=N(6451),oe=N(3099);function ue(s){for(let o in s)if(s[o]===ue)return o;throw Error("Could not find renamed property on target object.")}function ne(s,o){for(const c in o)o.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=o[c])}function we(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(we).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const c=o.indexOf("\n");return-1===c?o:o.substring(0,c)}function he(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const z=ue({__forward_ref__:ue});function $(s){return s.__forward_ref__=$,s.toString=function(){return we(this())},s}function W(s){return ze(s)?s():s}function ze(s){return"function"==typeof s&&s.hasOwnProperty(z)&&s.__forward_ref__===$}class Ce extends Error{constructor(o,c){super(function ot(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,c)),this.code=o}}function _e(s){return"string"==typeof s?s:null==s?"":String(s)}function Ee(s,o){throw new Ce(-201,!1)}function Ve(s,o){null==s&&function Ie(s,o,c,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${c} ${d} ${o} <=Actual]`))}(o,s,null,"!=")}function Ue(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Wt(s){return{providers:s.providers||[],imports:s.imports||[]}}function en(s){return $n(s,ss)||$n(s,ka)}function On(s){return null!==en(s)}function $n(s,o){return s.hasOwnProperty(o)?s[o]:null}function xi(s){return s&&(s.hasOwnProperty(Nr)||s.hasOwnProperty($o))?s[Nr]:null}const ss=ue({\u0275prov:ue}),Nr=ue({\u0275inj:ue}),ka=ue({ngInjectableDef:ue}),$o=ue({ngInjectorDef:ue});var ht=(()=>((ht=ht||{})[ht.Default=0]="Default",ht[ht.Host=1]="Host",ht[ht.Self=2]="Self",ht[ht.SkipSelf=4]="SkipSelf",ht[ht.Optional=8]="Optional",ht))();let qi;function Zi(s){const o=qi;return qi=s,o}function zo(s,o,c){const d=en(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&ht.Optional?null:void 0!==o?o:void Ee(we(s))}function ui(s){return{toString:s}.toString()}var Mn=(()=>((Mn=Mn||{})[Mn.OnPush=0]="OnPush",Mn[Mn.Default=1]="Default",Mn))(),Et=(()=>{return(s=Et||(Et={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Et;var s})();const bn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),si={},At=[],Ri=ue({\u0275cmp:ue}),_n=ue({\u0275dir:ue}),Go=ue({\u0275pipe:ue}),on=ue({\u0275mod:ue}),di=ue({\u0275fac:ue}),ki=ue({__NG_ELEMENT_ID__:ue});let Lr=0;function Vn(s){return ui(()=>{const c=!0===s.standalone,d={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Mn.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||At,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Et.Emulated,id:"c"+Lr++,styles:s.styles||At,_:null,setInput:null,schemas:s.schemas||null,tView:null},g=s.dependencies,v=s.features;return h.inputs=U(s.inputs,d),h.outputs=U(s.outputs),v&&v.forEach(E=>E(h)),h.directiveDefs=g?()=>("function"==typeof g?g():g).map(as).filter(zn):null,h.pipeDefs=g?()=>("function"==typeof g?g():g).map(qe).filter(zn):null,h})}function as(s){return le(s)||Y(s)}function zn(s){return null!==s}function or(s){return ui(()=>({type:s.type,bootstrap:s.bootstrap||At,declarations:s.declarations||At,imports:s.imports||At,exports:s.exports||At,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function U(s,o){if(null==s)return si;const c={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),c[h]=d,o&&(o[h]=g)}return c}const V=Vn;function q(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function le(s){return s[Ri]||null}function Y(s){return s[_n]||null}function qe(s){return s[Go]||null}function Mt(s){const o=le(s)||Y(s)||qe(s);return null!==o&&o.standalone}function Lt(s,o){const c=s[on]||null;if(!c&&!0===o)throw new Error(`Type ${we(s)} does not have '\u0275mod' property.`);return c}function hi(s){return Array.isArray(s)&&"object"==typeof s[1]}function Ki(s){return Array.isArray(s)&&!0===s[1]}function Wo(s){return 0!=(8&s.flags)}function Ml(s){return 2==(2&s.flags)}function Ts(s){return 1==(1&s.flags)}function Br(s){return null!==s.template}function Ko(s){return 0!=(256&s[2])}function Ss(s,o){return s.hasOwnProperty(di)?s[di]:null}class ff{constructor(o,c,d){this.previousValue=o,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function yr(){return Yo}function Yo(s){return s.type.prototype.ngOnChanges&&(s.setInput=Gc),Oa}function Oa(){const s=pf(this),o=s?.current;if(o){const c=s.previous;if(c===si)s.previous=o;else for(let d in o)c[d]=o[d];s.current=null,this.ngOnChanges(o)}}function Gc(s,o,c,d){const h=pf(s)||function _o(s,o){return s[kl]=o}(s,{previous:si,current:null}),g=h.current||(h.current={}),v=h.previous,E=this.declaredInputs[c],I=v[E];g[E]=new ff(I&&I.currentValue,o,v===si),s[d]=o}yr.ngInherit=!0;const kl="__ngSimpleChanges__";function pf(s){return s[kl]||null}function Gn(s){for(;Array.isArray(s);)s=s[0];return s}function vr(s,o){return Gn(o[s])}function Yi(s,o){return Gn(o[s.index])}function Ll(s,o){return s.data[o]}function Pa(s,o){return s[o]}function qn(s,o){const c=o[s];return hi(c)?c:c[0]}function qs(s){return 64==(64&s[2])}function Hr(s,o){return null==o?null:s[o]}function yo(s){s[18]=0}function lr(s,o){s[5]+=o;let c=s,d=s[3];for(;null!==d&&(1===o&&1===c[5]||-1===o&&0===c[5]);)d[5]+=o,c=d,d=d[3]}const Ct={lFrame:Id(null),bindingsEnabled:!0};function bd(){return Ct.bindingsEnabled}function Se(){return Ct.lFrame.lView}function Kt(){return Ct.lFrame.tView}function us(s){return Ct.lFrame.contextLView=s,s[8]}function La(s){return Ct.lFrame.contextLView=null,s}function Bn(){let s=Vl();for(;null!==s&&64===s.type;)s=s.parent;return s}function Vl(){return Ct.lFrame.currentTNode}function Ui(s,o){const c=Ct.lFrame;c.currentTNode=s,c.isParent=o}function vo(){return Ct.lFrame.isParent}function Wc(){Ct.lFrame.isParent=!1}function Fi(){const s=Ct.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function jr(){return Ct.lFrame.bindingIndex++}function br(s){const o=Ct.lFrame,c=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,c}function Ed(s,o){const c=Ct.lFrame;c.bindingIndex=c.bindingRootIndex=s,Hl(o)}function Hl(s){Ct.lFrame.currentDirectiveIndex=s}function Va(s){const o=Ct.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function jl(){return Ct.lFrame.currentQueryIndex}function $r(s){Ct.lFrame.currentQueryIndex=s}function Cd(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Ba(s,o,c){if(c&ht.SkipSelf){let h=o,g=s;for(;!(h=h.parent,null!==h||c&ht.Host||(h=Cd(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;o=h,s=g}const d=Ct.lFrame=bo();return d.currentTNode=o,d.lView=s,!0}function $l(s){const o=bo(),c=s[1];Ct.lFrame=o,o.currentTNode=c.firstChild,o.lView=s,o.tView=c,o.contextLView=s,o.bindingIndex=c.bindingStartIndex,o.inI18n=!1}function bo(){const s=Ct.lFrame,o=null===s?null:s.child;return null===o?Id(s):o}function Id(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Ua(){const s=Ct.lFrame;return Ct.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Dd=Ua;function Xo(){const s=Ua();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Qi(){return Ct.lFrame.selectedIndex}function xs(s){Ct.lFrame.selectedIndex=s}function Un(){const s=Ct.lFrame;return Ll(s.tView,s.selectedIndex)}function wo(s,o){for(let c=o.directiveStart,d=o.directiveEnd;c<d;c++){const g=s.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:I,ngAfterViewChecked:M,ngOnDestroy:k}=g;v&&(s.contentHooks||(s.contentHooks=[])).push(-c,v),E&&((s.contentHooks||(s.contentHooks=[])).push(c,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(c,E)),I&&(s.viewHooks||(s.viewHooks=[])).push(-c,I),M&&((s.viewHooks||(s.viewHooks=[])).push(c,M),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(c,M)),null!=k&&(s.destroyHooks||(s.destroyHooks=[])).push(c,k)}}function zl(s,o,c){Ha(s,o,3,c)}function Ws(s,o,c,d){(3&s[2])===c&&Ha(s,o,c,d)}function kd(s,o){let c=s[2];(3&c)===o&&(c&=2047,c+=1,s[2]=c)}function Ha(s,o,c,d){const g=d??-1,v=o.length-1;let E=0;for(let I=void 0!==d?65535&s[18]:0;I<v;I++)if("number"==typeof o[I+1]){if(E=o[I],null!=d&&E>=d)break}else o[I]<0&&(s[18]+=65536),(E<g||-1==g)&&(bf(s,c,o,I),s[18]=(4294901760&s[18])+I+2),I++}function bf(s,o,c,d){const h=c[d]<0,g=c[d+1],E=s[h?-c[d]:c[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(E)}finally{}}}else try{g.call(E)}finally{}}class ja{constructor(o,c,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function Zl(s,o,c){let d=0;for(;d<c.length;){const h=c[d];if("number"==typeof h){if(0!==h)break;d++;const g=c[d++],v=c[d++],E=c[d++];s.setAttribute(o,v,E,g)}else{const g=h,v=c[++d];Yc(g)?s.setProperty(o,g,v):s.setAttribute(o,g,v),d++}}return d}function za(s){return 3===s||4===s||6===s}function Yc(s){return 64===s.charCodeAt(0)}function Ga(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let c=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?c=h:0===c||Wl(s,c,h,null,-1===c||2===c?o[++d]:null)}}return s}function Wl(s,o,c,d,h){let g=0,v=s.length;if(-1===o)v=-1;else for(;g<s.length;){const E=s[g++];if("number"==typeof E){if(E===o){v=-1;break}if(E>o){v=g-1;break}}}for(;g<s.length;){const E=s[g];if("number"==typeof E)break;if(E===c){if(null===d)return void(null!==h&&(s[g+1]=h));if(d===s[g+1])return void(s[g+2]=h)}g++,null!==d&&g++,null!==h&&g++}-1!==v&&(s.splice(v,0,o),g=v+1),s.splice(g++,0,c),null!==d&&s.splice(g++,0,d),null!==h&&s.splice(g++,0,h)}function Ef(s){return-1!==s}function Kl(s){return 32767&s}function hs(s,o){let c=function vv(s){return s>>16}(s),d=o;for(;c>0;)d=d[15],c--;return d}let Yl=!0;function Jo(s){const o=Yl;return Yl=s,o}let Xc=0;const wr={};function Nn(s,o){const c=oi(s,o);if(-1!==c)return c;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,eu(d.data,s),eu(o,null),eu(d.blueprint,null));const h=ea(s,o),g=s.injectorIndex;if(Ef(h)){const v=Kl(h),E=hs(h,o),I=E[1].data;for(let M=0;M<8;M++)o[g+M]=E[v+M]|I[v+M]}return o[g+8]=h,g}function eu(s,o){s.push(0,0,0,0,0,0,0,0,o)}function oi(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function ea(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,d=null,h=o;for(;null!==h;){if(d=nu(h),null===d)return-1;if(c++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function qa(s,o,c){!function Jc(s,o,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(ki)&&(d=c[ki]),null==d&&(d=c[ki]=Xc++);const h=255&d;o.data[s+(h>>5)]|=1<<h}(s,o,c)}function Ql(s,o,c){if(c&ht.Optional||void 0!==s)return s;Ee()}function Cf(s,o,c,d){if(c&ht.Optional&&void 0===d&&(d=null),0==(c&(ht.Self|ht.Host))){const h=s[9],g=Zi(void 0);try{return h?h.get(o,d,c&ht.Optional):zo(o,d,c&ht.Optional)}finally{Zi(g)}}return Ql(d,0,c)}function Za(s,o,c,d=ht.Default,h){if(null!==s){if(1024&o[2]){const v=function Ka(s,o,c,d,h){let g=s,v=o;for(;null!==g&&null!==v&&1024&v[2]&&!(256&v[2]);){const E=ta(g,v,c,d|ht.Self,wr);if(E!==wr)return E;let I=g.parent;if(!I){const M=v[21];if(M){const k=M.get(c,wr,d);if(k!==wr)return k}I=nu(v),v=v[15]}g=I}return h}(s,o,c,d,wr);if(v!==wr)return v}const g=ta(s,o,c,d,wr);if(g!==wr)return g}return Cf(o,c,d,h)}function ta(s,o,c,d,h){const g=function Ys(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(ki)?s[ki]:void 0;return"number"==typeof o?o>=0?255&o:If:o}(c);if("function"==typeof g){if(!Ba(o,s,d))return d&ht.Host?Ql(h,0,d):Cf(o,c,d,h);try{const v=g(d);if(null!=v||d&ht.Optional)return v;Ee()}finally{Dd()}}else if("number"==typeof g){let v=null,E=oi(s,o),I=-1,M=d&ht.Host?o[16][6]:null;for((-1===E||d&ht.SkipSelf)&&(I=-1===E?ea(s,o):o[E+8],-1!==I&&Fd(d,!1)?(v=o[1],E=Kl(I),o=hs(I,o)):E=-1);-1!==E;){const k=o[1];if(Nd(g,E,k.data)){const P=ig(E,o,c,v,d,M);if(P!==wr)return P}I=o[E+8],-1!==I&&Fd(d,o[1].data[E+8]===M)&&Nd(g,E,o)?(v=k,E=Kl(I),o=hs(I,o)):E=-1}}return h}function ig(s,o,c,d,h,g){const v=o[1],E=v.data[s+8],k=ps(E,v,c,null==d?Ml(E)&&Yl:d!=v&&0!=(3&E.type),h&ht.Host&&g===E);return null!==k?Wa(o,v,k,E):wr}function ps(s,o,c,d,h){const g=s.providerIndexes,v=o.data,E=1048575&g,I=s.directiveStart,k=g>>20,j=h?E+k:s.directiveEnd;for(let J=d?E:E+k;J<j;J++){const me=v[J];if(J<I&&c===me||J>=I&&me.type===c)return J}if(h){const J=v[I];if(J&&Br(J)&&J.type===c)return I}return null}function Wa(s,o,c,d){let h=s[c];const g=o.data;if(function Gl(s){return s instanceof ja}(h)){const v=h;v.resolving&&function _t(s,o){const c=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Ce(-200,`Circular dependency in DI detected for ${s}${c}`)}(function ge(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():_e(s)}(g[c]));const E=Jo(v.canSeeViewProviders);v.resolving=!0;const I=v.injectImpl?Zi(v.injectImpl):null;Ba(s,d,ht.Default);try{h=s[c]=v.factory(void 0,g,s,d),o.firstCreatePass&&c>=d.directiveStart&&function Rd(s,o,c){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(d){const v=Yo(o);(c.preOrderHooks||(c.preOrderHooks=[])).push(s,v),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,v)}h&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-s,h),g&&((c.preOrderHooks||(c.preOrderHooks=[])).push(s,g),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,g))}(c,g[c],o)}finally{null!==I&&Zi(I),Jo(E),v.resolving=!1,Dd()}}return h}function Nd(s,o,c){return!!(c[o+(s>>5)]&1<<s)}function Fd(s,o){return!(s&ht.Self||s&ht.Host&&o)}class zr{constructor(o,c){this._tNode=o,this._lView=c}get(o,c,d){return Za(this._tNode,this._lView,o,d,c)}}function If(){return new zr(Bn(),Se())}function Hn(s){return ui(()=>{const o=s.prototype.constructor,c=o[di]||tu(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const g=h[di]||tu(h);if(g&&g!==c)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function tu(s){return ze(s)?()=>{const o=tu(W(s));return o&&o()}:Ss(s)}function nu(s){const o=s[1],c=o.type;return 2===c?o.declTNode:1===c?s[6]:null}function Xl(s){return function Eo(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const c=s.attrs;if(c){const d=c.length;let h=0;for(;h<d;){const g=c[h];if(za(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<d&&"string"==typeof c[h];)h++;else{if(g===o)return c[h+1];h+=2}}}return null}(Bn(),s)}const na="__parameters__";function Qs(s,o,c){return ui(()=>{const d=function ia(s){return function(...c){if(s){const d=s(...c);for(const h in d)this[h]=d[h]}}}(o);function h(...g){if(this instanceof h)return d.apply(this,g),this;const v=new h(...g);return E.annotation=v,E;function E(I,M,k){const P=I.hasOwnProperty(na)?I[na]:Object.defineProperty(I,na,{value:[]})[na];for(;P.length<=k;)P.push(null);return(P[k]=P[k]||[]).push(v),I}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class cn{constructor(o,c){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=Ue({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function fi(s,o){void 0===o&&(o=s);for(let c=0;c<s.length;c++){let d=s[c];Array.isArray(d)?(o===s&&(o=s.slice(0,c)),fi(d,o)):o!==s&&o.push(d)}return o}function Er(s,o){s.forEach(c=>Array.isArray(c)?Er(c,o):o(c))}function Af(s,o,c){o>=s.length?s.push(c):s.splice(o,0,c)}function Cr(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Io(s,o){const c=[];for(let d=0;d<s;d++)c.push(o);return c}function Ir(s,o,c){let d=Xa(s,o);return d>=0?s[1|d]=c:(d=~d,function Mf(s,o,c,d){let h=s.length;if(h==o)s.push(c,d);else if(1===h)s.push(d,s[0]),s[0]=c;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=c,s[o+1]=d}}(s,d,o,c)),d}function Bd(s,o){const c=Xa(s,o);if(c>=0)return s[1|c]}function Xa(s,o){return function xf(s,o,c){let d=0,h=s.length>>c;for(;h!==d;){const g=d+(h-d>>1),v=s[g<<c];if(o===v)return g<<c;v>o?h=g:d=g+1}return~(h<<c)}(s,o,1)}const nn={},Jn="__NG_DI_FLAG__",Do="ngTempTokenPath",kf=/\n/gm,el="__source";let aa;function Dr(s){const o=aa;return aa=s,o}function la(s,o=ht.Default){if(void 0===aa)throw new Ce(-203,!1);return null===aa?zo(s,void 0,o):aa.get(s,o&ht.Optional?null:void 0,o)}function $t(s,o=ht.Default){return(function Fr(){return qi}()||la)(W(s),o)}function tc(s,o=ht.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),$t(s,o)}function cu(s){const o=[];for(let c=0;c<s.length;c++){const d=W(s[c]);if(Array.isArray(d)){if(0===d.length)throw new Ce(900,!1);let h,g=ht.Default;for(let v=0;v<d.length;v++){const E=d[v],I=nc(E);"number"==typeof I?-1===I?h=E.token:g|=I:h=E}o.push($t(h,g))}else o.push($t(d))}return o}function Ns(s,o){return s[Jn]=o,s.prototype[Jn]=o,s}function nc(s){return s[Jn]}const vi=Ns(Qs("Optional"),8),ms=Ns(Qs("SkipSelf"),4);var Mo=(()=>((Mo=Mo||{})[Mo.Important=1]="Important",Mo[Mo.DashCase=2]="DashCase",Mo))();const sc=new Map;let wv=0;const qd="__ngContext__";function Li(s,o){hi(o)?(s[qd]=o[20],function Ev(s){sc.set(s[20],s)}(o)):s[qd]=o}function gu(s,o){return undefined(s,o)}function fa(s){const o=s[3];return Ki(o)?o[3]:o}function hg(s){return al(s[13])}function Uf(s){return al(s[4])}function al(s){for(;null!==s&&!Ki(s);)s=s[4];return s}function no(s,o,c,d,h){if(null!=d){let g,v=!1;Ki(d)?g=d:hi(d)&&(v=!0,d=d[0]);const E=Gn(d);0===s&&null!==c?null==h?Jd(o,c,E):Ls(o,c,E,h||null,!0):1===s&&null!==c?Ls(o,c,E,h||null,!0):2===s?function Qf(s,o,c){const d=lc(s,o);d&&function Mv(s,o,c,d){s.removeChild(o,c,d)}(s,d,o,c)}(o,E,v):3===s&&o.destroyNode(E),null!=g&&function dl(s,o,c,d,h){const g=c[7];g!==Gn(c)&&no(o,s,d,g,h);for(let E=10;E<c.length;E++){const I=c[E];wu(I[1],I,s,o,d,g)}}(o,s,g,c,h)}}function vu(s,o,c){return s.createElement(o,c)}function mg(s,o){const c=s[9],d=c.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,lr(h,-1)),c.splice(d,1)}function gg(s,o){if(s.length<=10)return;const c=10+o,d=s[c];if(d){const h=d[17];null!==h&&h!==s&&mg(h,d),o>0&&(s[c-1][4]=d[4]);const g=Cr(s,10+o);!function Qd(s,o){wu(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const v=g[19];null!==v&&v.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function _g(s,o){if(!(128&o[2])){const c=o[11];c.destroyNode&&wu(s,o,c,3,null,null),function fg(s){let o=s[13];if(!o)return Xd(s[1],s);for(;o;){let c=null;if(hi(o))c=o[13];else{const d=o[10];d&&(c=d)}if(!c){for(;o&&!o[4]&&o!==s;)hi(o)&&Xd(o[1],o),o=o[3];null===o&&(o=s),hi(o)&&Xd(o[1],o),c=o&&o[4]}o=c}}(o)}}function Xd(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function bu(s,o){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let d=0;d<c.length;d+=2){const h=o[c[d]];if(!(h instanceof ja)){const g=c[d+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const E=h[g[v]],I=g[v+1];try{I.call(E)}finally{}}else try{g.call(h)}finally{}}}}(s,o),function Sv(s,o){const c=s.cleanup,d=o[7];let h=-1;if(null!==c)for(let g=0;g<c.length-1;g+=2)if("string"==typeof c[g]){const v=c[g+1],E="function"==typeof v?v(o):Gn(o[v]),I=d[h=c[g+2]],M=c[g+3];"boolean"==typeof M?E.removeEventListener(c[g],I,M):M>=0?d[h=M]():d[h=-M].unsubscribe(),g+=2}else{const v=d[h=c[g+1]];c[g].call(v)}if(null!==d){for(let g=h+1;g<d.length;g++)(0,d[g])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const c=o[17];if(null!==c&&Ki(o[3])){c!==o[3]&&mg(c,o);const d=o[19];null!==d&&d.detachView(s)}!function aE(s){sc.delete(s[20])}(o)}}function yg(s,o,c){return function Gf(s,o,c){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return c[0];if(2&d.flags){const h=s.data[d.directiveStart].encapsulation;if(h===Et.None||h===Et.Emulated)return null}return Yi(d,c)}(s,o.parent,c)}function Ls(s,o,c,d,h){s.insertBefore(o,c,d,h)}function Jd(s,o,c){s.appendChild(o,c)}function Av(s,o,c,d,h){null!==d?Ls(s,o,c,d,h):Jd(s,o,c)}function lc(s,o){return s.parentNode(o)}function qf(s,o,c){return xv(s,o,c)}let Cu,Du,io,xv=function cl(s,o,c){return 40&s.type?Yi(s,c):null};function Kf(s,o,c,d){const h=yg(s,d,o),g=o[11],E=qf(d.parent||o[6],d,o);if(null!=h)if(Array.isArray(c))for(let I=0;I<c.length;I++)Av(g,h,c[I],E,!1);else Av(g,h,c,E,!1)}function ul(s,o){if(null!==o){const c=o.type;if(3&c)return Yi(o,s);if(4&c)return Yf(-1,s[o.index]);if(8&c){const d=o.child;if(null!==d)return ul(s,d);{const h=s[o.index];return Ki(h)?Yf(-1,h):Gn(h)}}if(32&c)return gu(o,s)()||Gn(s[o.index]);{const d=Rv(s,o);return null!==d?Array.isArray(d)?d[0]:ul(fa(s[16]),d):ul(s,o.next)}}return null}function Rv(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Yf(s,o){const c=10+s+1;if(c<o.length){const d=o[c],h=d[1].firstChild;if(null!==h)return ul(d,h)}return o[7]}function eh(s,o,c,d,h,g,v){for(;null!=c;){const E=d[c.index],I=c.type;if(v&&0===o&&(E&&Li(Gn(E),d),c.flags|=4),64!=(64&c.flags))if(8&I)eh(s,o,c.child,d,h,g,!1),no(o,s,h,E,g);else if(32&I){const M=gu(c,d);let k;for(;k=M();)no(o,s,h,k,g);no(o,s,h,E,g)}else 16&I?Eu(s,o,d,c,h,g):no(o,s,h,E,g);c=v?c.projectionNext:c.next}}function wu(s,o,c,d,h,g){eh(c,d,s.firstChild,o,h,g,!1)}function Eu(s,o,c,d,h,g){const v=c[16],I=v[6].projection[d.projection];if(Array.isArray(I))for(let M=0;M<I.length;M++)no(o,s,h,I[M],g);else eh(s,o,I,v[3],h,g,!0)}function cc(s,o,c){s.setAttribute(o,"style",c)}function Jf(s,o,c){""===c?s.removeAttribute(o,"class"):s.setAttribute(o,"class",c)}function Ei(s){return function th(){if(void 0===Cu&&(Cu=null,bn.trustedTypes))try{Cu=bn.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Cu}()?.createHTML(s)||s}function Eg(s){Du=s}function Tu(s){return function ro(){if(void 0===io&&(io=null,bn.trustedTypes))try{io=bn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return io}()?.createHTML(s)||s}class ma{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ig extends ma{getTypeName(){return"HTML"}}class Ci extends ma{getTypeName(){return"Style"}}class tp extends ma{getTypeName(){return"Script"}}class ih extends ma{getTypeName(){return"URL"}}class Ov extends ma{getTypeName(){return"ResourceURL"}}function Ii(s){return s instanceof ma?s.changingThisBreaksApplicationSecurity:s}function so(s,o){const c=function Dg(s){return s instanceof ma&&s.getTypeName()||null}(s);if(null!=c&&c!==o){if("ResourceURL"===c&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===o}function np(s){return new Ig(s)}function Pv(s){return new Ci(s)}function Tg(s){return new tp(s)}function ip(s){return new ih(s)}function Nv(s){return new Ov(s)}class Sg{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const c=(new window.DOMParser).parseFromString(Ei(o),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(o):(c.removeChild(c.firstChild),c)}catch{return null}}}class y{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(o){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=Ei(o),c;const d=this.inertDocument.createElement("body");return d.innerHTML=Ei(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(o){const c=o.attributes;for(let h=c.length-1;0<h;h--){const v=c.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let d=o.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const m=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function b(s){return(s=String(s)).match(m)?s:"unsafe:"+s}function S(s){const o={};for(const c of s.split(","))o[c]=!0;return o}function R(...s){const o={};for(const c of s)for(const d in c)c.hasOwnProperty(d)&&(o[d]=!0);return o}const H=S("area,br,col,hr,img,wbr"),K=S("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Re=S("rp,rt"),kn=R(H,R(K,S("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),R(Re,S("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),R(Re,K)),Wr=S("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Su=R(Wr,S("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),S("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Lv=S("script,style,template");class Vv{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let c=o.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let h=this.checkClobberedElement(c,c.nextSibling);if(h){c=h;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(o){const c=o.nodeName.toLowerCase();if(!kn.hasOwnProperty(c))return this.sanitizedSomething=!0,!Lv.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=o.attributes;for(let h=0;h<d.length;h++){const g=d.item(h),v=g.name,E=v.toLowerCase();if(!Su.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let I=g.value;Wr[E]&&(I=b(I)),this.buf.push(" ",v,'="',op(I),'"')}return this.buf.push(">"),!0}endElement(o){const c=o.nodeName.toLowerCase();kn.hasOwnProperty(c)&&!H.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(o){this.buf.push(op(o))}checkClobberedElement(o,c){if(c&&(o.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return c}}const Ag=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,sp=/([^\#-~ |!])/g;function op(s){return s.replace(/&/g,"&amp;").replace(Ag,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(sp,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let hl;function sh(s,o){let c=null;try{hl=hl||function rp(s){const o=new y(s);return function p(){try{return!!(new window.DOMParser).parseFromString(Ei(""),"text/html")}catch{return!1}}()?new Sg(o):o}(s);let d=o?String(o):"";c=hl.getInertBodyElement(d);let h=5,g=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=g,g=c.innerHTML,c=hl.getInertBodyElement(d)}while(d!==g);return Ei((new Vv).sanitizeChildren(Mg(c)||c))}finally{if(c){const d=Mg(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Mg(s){return"content"in s&&function xg(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var ei=(()=>((ei=ei||{})[ei.NONE=0]="NONE",ei[ei.HTML=1]="HTML",ei[ei.STYLE=2]="STYLE",ei[ei.SCRIPT=3]="SCRIPT",ei[ei.URL=4]="URL",ei[ei.RESOURCE_URL=5]="RESOURCE_URL",ei))();function ap(s){const o=fl();return o?Tu(o.sanitize(ei.HTML,s)||""):so(s,"HTML")?Tu(Ii(s)):sh(function ep(){return void 0!==Du?Du:typeof document<"u"?document:void 0}(),_e(s))}function cE(s){const o=fl();return o?o.sanitize(ei.URL,s)||"":so(s,"URL")?Ii(s):b(_e(s))}function fl(){const s=Se();return s&&s[12]}const Uv=new cn("ENVIRONMENT_INITIALIZER"),Hv=new cn("INJECTOR",-1),dE=new cn("INJECTOR_DEF_TYPES");class jv{get(o,c=nn){if(c===nn){const d=new Error(`NullInjectorError: No provider for ${we(o)}!`);throw d.name="NullInjectorError",d}return c}}function lp(...s){return{\u0275providers:hE(0,s)}}function hE(s,...o){const c=[],d=new Set;let h;return Er(o,g=>{const v=g;kg(v,c,[],d)&&(h||(h=[]),h.push(v))}),void 0!==h&&Rg(h,c),c}function Rg(s,o){for(let c=0;c<s.length;c++){const{providers:h}=s[c];Er(h,g=>{o.push(g)})}}function kg(s,o,c,d){if(!(s=W(s)))return!1;let h=null,g=xi(s);const v=!g&&le(s);if(g||v){if(v&&!v.standalone)return!1;h=s}else{const I=s.ngModule;if(g=xi(I),!g)return!1;h=I}const E=d.has(h);if(v){if(E)return!1;if(d.add(h),v.dependencies){const I="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const M of I)kg(M,o,c,d)}}else{if(!g)return!1;{if(null!=g.imports&&!E){let M;d.add(h);try{Er(g.imports,k=>{kg(k,o,c,d)&&(M||(M=[]),M.push(k))})}finally{}void 0!==M&&Rg(M,o)}if(!E){const M=Ss(h)||(()=>new h);o.push({provide:h,useFactory:M,deps:At},{provide:dE,useValue:h,multi:!0},{provide:Uv,useValue:()=>$t(h),multi:!0})}const I=g.providers;null==I||E||Er(I,k=>{o.push(k)})}}return h!==s&&void 0!==s.providers}const ga=ue({provide:String,useValue:ue});function dc(s){return null!==s&&"object"==typeof s&&ga in s}function ti(s){return"function"==typeof s}const Og=new cn("Set Injector scope."),Di={},_a={};let ya;function ni(){return void 0===ya&&(ya=new jv),ya}class pi{}class cp extends pi{constructor(o,c,d,h){super(),this.parent=c,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ng(o,v=>this.processProvider(v)),this.records.set(Hv,Wn(void 0,this)),h.has("environment")&&this.records.set(pi,Wn(void 0,this));const g=this.records.get(Og);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(dE.multi,At,ht.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const c=Dr(this),d=Zi(void 0);try{return o()}finally{Dr(c),Zi(d)}}get(o,c=nn,d=ht.Default){this.assertNotDestroyed();const h=Dr(this),g=Zi(void 0);try{if(!(d&ht.SkipSelf)){let E=this.records.get(o);if(void 0===E){const I=function up(s){return"function"==typeof s||"object"==typeof s&&s instanceof cn}(o)&&en(o);E=I&&this.injectableDefInScope(I)?Wn(Pg(o),Di):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(d&ht.Self?ni():this.parent).get(o,c=d&ht.Optional&&c===nn?null:c)}catch(v){if("NullInjectorError"===v.name){if((v[Do]=v[Do]||[]).unshift(we(o)),h)throw v;return function ic(s,o,c,d){const h=s[Do];throw o[el]&&h.unshift(o[el]),s.message=function Js(s,o,c,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=we(o);if(Array.isArray(o))h=o.map(we).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let E=o[v];g.push(v+":"+("string"==typeof E?JSON.stringify(E):we(E)))}h=`{${g.join(", ")}}`}return`${c}${d?"("+d+")":""}[${h}]: ${s.replace(kf,"\n  ")}`}("\n"+s.message,h,c,d),s.ngTokenPath=h,s[Do]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{Zi(g),Dr(h)}}resolveInjectorInitializers(){const o=Dr(this),c=Zi(void 0);try{const d=this.get(Uv.multi,At,ht.Self);for(const h of d)h()}finally{Dr(o),Zi(c)}}toString(){const o=[],c=this.records;for(const d of c.keys())o.push(we(d));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ce(205,!1)}processProvider(o){let c=ti(o=W(o))?o:W(o&&o.provide);const d=function pl(s){return dc(s)?Wn(void 0,s.useValue):Wn(ml(s),Di)}(o);if(ti(o)||!0!==o.multi)this.records.get(c);else{let h=this.records.get(c);h||(h=Wn(void 0,Di,!0),h.factory=()=>cu(h.multi),this.records.set(c,h)),c=o,h.multi.push(o)}this.records.set(c,d)}hydrate(o,c){return c.value===Di&&(c.value=_a,c.value=c.factory()),"object"==typeof c.value&&c.value&&function xT(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(o){if(!o.providedIn)return!1;const c=W(o.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function Pg(s){const o=en(s),c=null!==o?o.factory:Ss(s);if(null!==c)return c;if(s instanceof cn)throw new Ce(204,!1);if(s instanceof Function)return function MT(s){const o=s.length;if(o>0)throw Io(o,"?"),new Ce(204,!1);const c=function Vi(s){const o=s&&(s[ss]||s[ka]);if(o){const c=function rr(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),o}return null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new Ce(204,!1)}function ml(s,o,c){let d;if(ti(s)){const h=W(s);return Ss(h)||Pg(h)}if(dc(s))d=()=>W(s.useValue);else if(function fc(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...cu(s.deps||[]));else if(function hc(s){return!(!s||!s.useExisting)}(s))d=()=>$t(W(s.useExisting));else{const h=W(s&&(s.useClass||s.provide));if(!function gl(s){return!!s.deps}(s))return Ss(h)||Pg(h);d=()=>new h(...cu(s.deps))}return d}function Wn(s,o,c=!1){return{factory:s,value:o,multi:c?[]:void 0}}function zv(s){return!!s.\u0275providers}function Ng(s,o){for(const c of s)Array.isArray(c)?Ng(c,o):zv(c)?Ng(c.\u0275providers,o):o(c)}class Fg{}class kT{resolveComponentFactory(o){throw function Lg(s){const o=Error(`No component factory found for ${we(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let va=(()=>{class s{}return s.NULL=new kT,s})();function OT(){return oh(Bn(),Se())}function oh(s,o){return new gs(Yi(s,o))}let gs=(()=>{class s{constructor(c){this.nativeElement=c}}return s.__NG_ELEMENT_ID__=OT,s})();function fE(s){return s instanceof gs?s.nativeElement:s}class Gv{}let vk=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function dr(){const s=Se(),c=qn(Bn().index,s);return(hi(c)?c:s)[11]}(),s})(),pc=(()=>{class s{}return s.\u0275prov=Ue({token:s,providedIn:"root",factory:()=>null}),s})();class Bg{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const pE=new Bg("14.3.0"),qv={};function Zv(s){return s.ngOriginalError}class ah{constructor(){this._console=console}handleError(o){const c=this._findOriginalError(o);this._console.error("ERROR",o),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(o){let c=o&&Zv(o);for(;c&&Zv(c);)c=Zv(c);return c||null}}function Kr(s){return s instanceof Function?s():s}function Wv(s,o,c){let d=s.length;for(;;){const h=s.indexOf(o,c);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=o.length;if(h+g===d||s.charCodeAt(h+g)<=32)return h}c=h+1}}const bE="ng-template";function Yv(s,o,c){let d=0;for(;d<s.length;){let h=s[d++];if(c&&"class"===h){if(h=s[d],-1!==Wv(h.toLowerCase(),o,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function fp(s){return 4===s.type&&s.value!==bE}function wE(s,o,c){return o===(4!==s.type||c?s.value:bE)}function EE(s,o,c){let d=4;const h=s.attrs||[],g=function VT(s){for(let o=0;o<s.length;o++)if(za(s[o]))return o;return s.length}(h);let v=!1;for(let E=0;E<o.length;E++){const I=o[E];if("number"!=typeof I){if(!v)if(4&d){if(d=2|1&d,""!==I&&!wE(s,I,c)||""===I&&1===o.length){if(Ro(d))return!1;v=!0}}else{const M=8&d?I:o[++E];if(8&d&&null!==s.attrs){if(!Yv(s.attrs,M,c)){if(Ro(d))return!1;v=!0}continue}const P=LT(8&d?"class":I,h,fp(s),c);if(-1===P){if(Ro(d))return!1;v=!0;continue}if(""!==M){let j;j=P>g?"":h[P+1].toLowerCase();const J=8&d?j:null;if(J&&-1!==Wv(J,M,0)||2&d&&M!==j){if(Ro(d))return!1;v=!0}}}}else{if(!v&&!Ro(d)&&!Ro(I))return!1;if(v&&Ro(I))continue;v=!1,d=I|1&d}}return Ro(d)||v}function Ro(s){return 0==(1&s)}function LT(s,o,c,d){if(null===o)return-1;let h=0;if(d||!c){let g=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)g=!0;else{if(1===v||2===v){let E=o[++h];for(;"string"==typeof E;)E=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=g?1:2}return-1}return function BT(s,o){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const d=s[c];if("number"==typeof d)return-1;if(d===o)return c;c++}return-1}(o,s)}function CE(s,o,c=!1){for(let d=0;d<o.length;d++)if(EE(s,o[d],c))return!0;return!1}function UT(s,o){e:for(let c=0;c<o.length;c++){const d=o[c];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function IE(s,o){return s?":not("+o.trim()+")":o}function HT(s){let o=s[0],c=1,d=2,h="",g=!1;for(;c<s.length;){let v=s[c];if("string"==typeof v)if(2&d){const E=s[++c];h+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&d?h+="."+v:4&d&&(h+=" "+v);else""!==h&&!Ro(v)&&(o+=IE(g,h),h=""),d=v,g=g||!Ro(d);c++}return""!==h&&(o+=IE(g,h)),o}const zt={};function mc(s){Gg(Kt(),Se(),Qi()+s,!1)}function Gg(s,o,c,d){if(!d)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&zl(o,g,c)}else{const g=s.preOrderHooks;null!==g&&Ws(o,g,0,c)}xs(c)}function Xv(s,o=null,c=null,d){const h=Mu(s,o,c,d);return h.resolveInjectorInitializers(),h}function Mu(s,o=null,c=null,d,h=new Set){const g=[c||At,lp(s)];return d=d||("object"==typeof s?void 0:we(s)),new cp(g,o||ni(),d||null,h)}let xu=(()=>{class s{static create(c,d){if(Array.isArray(c))return Xv({name:""},d,c,"");{const h=c.name??"";return Xv({name:h},c.parent,c.providers,h)}}}return s.THROW_IF_NOT_FOUND=nn,s.NULL=new jv,s.\u0275prov=Ue({token:s,providedIn:"any",factory:()=>$t(Hv)}),s.__NG_ELEMENT_ID__=-1,s})();function _s(s,o=ht.Default){const c=Se();return null===c?$t(s,o):Za(Bn(),c,W(s),o)}function ku(){throw new Error("invalid")}function _p(s,o){return s<<17|o<<2}function ko(s){return s>>17&32767}function rb(s){return 2|s}function ao(s){return(131068&s)>>2}function Yg(s,o){return-131069&s|o<<2}function Xg(s){return 1|s}function zE(s,o){const c=s.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const h=c[d],g=c[d+1];if(-1!==g){const v=s.data[g];$r(h),v.contentQueries(2,o[g],g)}}}function r_(s,o,c,d,h,g,v,E,I,M,k){const P=o.blueprint.slice();return P[0]=h,P[2]=76|d,(null!==k||s&&1024&s[2])&&(P[2]|=1024),yo(P),P[3]=P[15]=s,P[8]=c,P[10]=v||s&&s[10],P[11]=E||s&&s[11],P[12]=I||s&&s[12]||null,P[9]=M||s&&s[9]||null,P[6]=g,P[20]=function Vf(){return wv++}(),P[21]=k,P[16]=2==o.type?s[16]:P,P}function dh(s,o,c,d,h){let g=s.data[o];if(null===g)g=function cb(s,o,c,d,h){const g=Vl(),v=vo(),I=s.data[o]=function uS(s,o,c,d,h,g){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,c,o,d,h);return null===s.firstChild&&(s.firstChild=I),null!==g&&(v?null==g.child&&null!==I.parent&&(g.child=I):null===g.next&&(g.next=I)),I}(s,o,c,d,h),function Ul(){return Ct.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=c,g.value=d,g.attrs=h;const v=function Ms(){const s=Ct.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return Ui(g,!0),g}function Dp(s,o,c,d){if(0===c)return-1;const h=o.length;for(let g=0;g<c;g++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function ub(s,o,c){$l(o);try{const d=s.viewQuery;null!==d&&d_(1,d,c);const h=s.template;null!==h&&Tp(s,o,h,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&zE(s,o),s.staticViewQueries&&d_(2,s.viewQuery,c);const g=s.components;null!==g&&function aS(s,o){for(let c=0;c<o.length;c++)tC(s,o[c])}(o,g)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,Xo()}}function hh(s,o,c,d){const h=o[2];if(128!=(128&h)){$l(o);try{yo(o),function Kc(s){return Ct.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&Tp(s,o,c,2,d);const v=3==(3&h);if(v){const M=s.preOrderCheckHooks;null!==M&&zl(o,M,null)}else{const M=s.preOrderHooks;null!==M&&Ws(o,M,0,null),kd(o,0)}if(function mS(s){for(let o=hg(s);null!==o;o=Uf(o)){if(!o[2])continue;const c=o[9];for(let d=0;d<c.length;d++){const h=c[d],g=h[3];0==(512&h[2])&&lr(g,1),h[2]|=512}}}(o),function pS(s){for(let o=hg(s);null!==o;o=Uf(o))for(let c=10;c<o.length;c++){const d=o[c],h=d[1];qs(d)&&hh(h,d,h.template,d[8])}}(o),null!==s.contentQueries&&zE(s,o),v){const M=s.contentCheckHooks;null!==M&&zl(o,M)}else{const M=s.contentHooks;null!==M&&Ws(o,M,1),kd(o,1)}!function Ip(s,o){const c=s.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const h=c[d];if(h<0)xs(~h);else{const g=h,v=c[++d],E=c[++d];Ed(v,g),E(2,o[g])}}}finally{xs(-1)}}(s,o);const E=s.components;null!==E&&function oS(s,o){for(let c=0;c<o.length;c++)gS(s,o[c])}(o,E);const I=s.viewQuery;if(null!==I&&d_(2,I,d),v){const M=s.viewCheckHooks;null!==M&&zl(o,M)}else{const M=s.viewHooks;null!==M&&Ws(o,M,2),kd(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,lr(o[3],-1))}finally{Xo()}}}function Tp(s,o,c,d,h){const g=Qi(),v=2&d;try{xs(-1),v&&o.length>22&&Gg(s,o,22,!1),c(d,h)}finally{xs(g)}}function Ou(s,o,c){if(Wo(o)){const h=o.directiveEnd;for(let g=o.directiveStart;g<h;g++){const v=s.data[g];v.contentQueries&&v.contentQueries(1,c[g],g)}}}function db(s,o,c){!bd()||(function KE(s,o,c,d){const h=c.directiveStart,g=c.directiveEnd;s.firstCreatePass||Nn(c,o),Li(d,o);const v=c.initialInputs;for(let E=h;E<g;E++){const I=s.data[E],M=Br(I);M&&hS(o,c,I);const k=Wa(o,s,E,c);Li(k,o),null!==v&&c_(0,E-h,k,I,0,v),M&&(qn(c.index,o)[8]=k)}}(s,o,c,Yi(c,o)),128==(128&c.flags)&&function YE(s,o,c){const d=c.directiveStart,h=c.directiveEnd,g=c.index,v=function Qo(){return Ct.lFrame.currentDirectiveIndex}();try{xs(g);for(let E=d;E<h;E++){const I=s.data[E],M=o[E];Hl(E),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&Sp(I,M)}}finally{xs(-1),Hl(v)}}(s,o,c))}function hb(s,o,c=Yi){const d=o.localNames;if(null!==d){let h=o.index+1;for(let g=0;g<d.length;g+=2){const v=d[g+1],E=-1===v?c(o,s):s[v];s[h++]=E}}}function GE(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=fb(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function fb(s,o,c,d,h,g,v,E,I,M){const k=22+d,P=k+h,j=function lS(s,o){const c=[];for(let d=0;d<o;d++)c.push(d<s?null:zt);return c}(k,P),J="function"==typeof M?M():M;return j[1]={type:s,blueprint:j,template:c,queries:null,viewQuery:E,declTNode:o,data:j.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:I,consts:J,incompleteFirstPass:!1}}function qE(s,o,c,d){const h=nC(o);null===c?h.push(d):(h.push(c),s.firstCreatePass&&iC(s).push(d,h.length-1))}function pb(s,o,c){for(let d in s)if(s.hasOwnProperty(d)){const h=s[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(o,h):c[d]=[o,h]}return c}function ZE(s,o){const d=o.directiveEnd,h=s.data,g=o.attrs,v=[];let E=null,I=null;for(let M=o.directiveStart;M<d;M++){const k=h[M],P=k.inputs,j=null===g||fp(o)?null:fS(P,g);v.push(j),E=pb(P,M,E),I=pb(k.outputs,M,I)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=16),E.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=E,o.outputs=I}function ys(s,o,c,d,h,g,v,E){const I=Yi(o,c);let k,M=o.inputs;!E&&null!=M&&(k=M[d])?(bb(s,c,k,d,h),Ml(o)&&s_(c,o.index)):3&o.type&&(d=function mb(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=v?v(h,o.value||"",d):h,g.setProperty(I,d,h))}function s_(s,o){const c=qn(o,s);16&c[2]||(c[2]|=32)}function gb(s,o,c,d){let h=!1;if(bd()){const g=function l_(s,o,c){const d=s.directiveRegistry;let h=null;if(d)for(let g=0;g<d.length;g++){const v=d[g];CE(c,v.selectors,!1)&&(h||(h=[]),qa(Nn(c,o),s,v.type),Br(v)?(_b(s,c),h.unshift(v)):h.push(v))}return h}(s,o,c),v=null===d?null:{"":-1};if(null!==g){h=!0,XE(c,s.data.length,g.length);for(let k=0;k<g.length;k++){const P=g[k];P.providersResolver&&P.providersResolver(P)}let E=!1,I=!1,M=Dp(s,o,g.length,null);for(let k=0;k<g.length;k++){const P=g[k];c.mergedAttrs=Ga(c.mergedAttrs,P.hostAttrs),JE(s,c,o,M,P),QE(M,P,v),null!==P.contentQueries&&(c.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(c.flags|=128);const j=P.type.prototype;!E&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(c.index),E=!0),!I&&(j.ngOnChanges||j.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(c.index),I=!0),M++}ZE(s,c)}v&&function Ap(s,o,c){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const g=c[o[h+1]];if(null==g)throw new Ce(-301,!1);d.push(o[h],g)}}}(c,d,v)}return c.mergedAttrs=Ga(c.mergedAttrs,c.attrs),h}function WE(s,o,c,d,h,g){const v=g.hostBindings;if(v){let E=s.hostBindingOpCodes;null===E&&(E=s.hostBindingOpCodes=[]);const I=~o.index;(function a_(s){let o=s.length;for(;o>0;){const c=s[--o];if("number"==typeof c&&c<0)return c}return 0})(E)!=I&&E.push(I),E.push(d,h,v)}}function Sp(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function _b(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function QE(s,o,c){if(c){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)c[o.exportAs[d]]=s;Br(o)&&(c[""]=s)}}function XE(s,o,c){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+c,s.providerIndexes=o}function JE(s,o,c,d,h){s.data[d]=h;const g=h.factory||(h.factory=Ss(h.type)),v=new ja(g,Br(h),_s);s.blueprint[d]=v,c[d]=v,WE(s,o,0,d,Dp(s,c,h.hostVars,zt),h)}function hS(s,o,c){const d=Yi(o,s),h=GE(c),g=s[10],v=Mp(s,r_(s,h,null,c.onPush?32:16,d,o,g,g.createRenderer(d,c),null,null,null));s[o.index]=v}function ba(s,o,c,d,h,g){const v=Yi(s,o);!function yb(s,o,c,d,h,g,v){if(null==g)s.removeAttribute(o,h,c);else{const E=null==v?_e(g):v(g,d||"",h);s.setAttribute(o,h,E,c)}}(o[11],v,g,s.value,c,d,h)}function c_(s,o,c,d,h,g){const v=g[o];if(null!==v){const E=d.setInput;for(let I=0;I<v.length;){const M=v[I++],k=v[I++],P=v[I++];null!==E?d.setInput(c,P,M,k):c[k]=P}}}function fS(s,o){let c=null,d=0;for(;d<o.length;){const h=o[d];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===c&&(c=[]),c.push(h,s[h],o[d+1])),d+=2}else d+=2;else d+=4}return c}function eC(s,o,c,d){return new Array(s,!0,!1,o,null,0,d,c,null,null)}function gS(s,o){const c=qn(o,s);if(qs(c)){const d=c[1];48&c[2]?hh(d,c,d.template,c[8]):c[5]>0&&vb(c)}}function vb(s){for(let d=hg(s);null!==d;d=Uf(d))for(let h=10;h<d.length;h++){const g=d[h];if(qs(g))if(512&g[2]){const v=g[1];hh(v,g,v.template,g[8])}else g[5]>0&&vb(g)}const c=s[1].components;if(null!==c)for(let d=0;d<c.length;d++){const h=qn(c[d],s);qs(h)&&h[5]>0&&vb(h)}}function tC(s,o){const c=qn(o,s),d=c[1];(function _S(s,o){for(let c=o.length;c<s.blueprint.length;c++)o.push(s.blueprint[c])})(d,c),ub(d,c,c[8])}function Mp(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function u_(s){for(;s;){s[2]|=32;const o=fa(s);if(Ko(s)&&!o)return s;s=o}return null}function xp(s,o,c,d=!0){const h=o[10];h.begin&&h.begin();try{hh(s,o,s.template,c)}catch(v){throw d&&sC(o,v),v}finally{h.end&&h.end()}}function d_(s,o,c){$r(0),o(s,c)}function nC(s){return s[7]||(s[7]=[])}function iC(s){return s.cleanup||(s.cleanup=[])}function rC(s,o,c){return(null===s||Br(s))&&(c=function As(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(c[o.index])),c[11]}function sC(s,o){const c=s[9],d=c?c.get(ah,null):null;d&&d.handleError(o)}function bb(s,o,c,d,h){for(let g=0;g<c.length;){const v=c[g++],E=c[g++],I=o[v],M=s.data[v];null!==M.setInput?M.setInput(I,h,d,E):I[E]=h}}function fh(s,o,c){let d=c?s.styles:null,h=c?s.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const E=o[v];"number"==typeof E?g=E:1==g?h=he(h,E):2==g&&(d=he(d,E+": "+o[++v]+";"))}c?s.styles=d:s.stylesWithoutHost=d,c?s.classes=h:s.classesWithoutHost=h}function Rp(s,o,c,d,h=!1){for(;null!==c;){const g=o[c.index];if(null!==g&&d.push(Gn(g)),Ki(g))for(let E=10;E<g.length;E++){const I=g[E],M=I[1].firstChild;null!==M&&Rp(I[1],I,M,d)}const v=c.type;if(8&v)Rp(s,o,c.child,d);else if(32&v){const E=gu(c,o);let I;for(;I=E();)d.push(I)}else if(16&v){const E=Rv(o,c);if(Array.isArray(E))d.push(...E);else{const I=fa(o[16]);Rp(I[1],I,E,d,!0)}}c=h?c.projectionNext:c.next}return d}class ph{constructor(o,c){this._lView=o,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,c=o[1];return Rp(c,o,c.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Ki(o)){const c=o[8],d=c?c.indexOf(this):-1;d>-1&&(gg(o,d),Cr(c,d))}this._attachedToViewContainer=!1}_g(this._lView[1],this._lView)}onDestroy(o){qE(this._lView[1],this._lView,null,o)}markForCheck(){u_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){xp(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Tv(s,o){wu(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Ce(902,!1);this._appRef=o}}class Ok extends ph{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;xp(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class wb extends va{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const c=le(o);return new wc(c,this.ngModule)}}function oC(s){const o=[];for(let c in s)s.hasOwnProperty(c)&&o.push({propName:s[c],templateName:c});return o}class bS{constructor(o,c){this.injector=o,this.parentInjector=c}get(o,c,d){const h=this.injector.get(o,qv,d);return h!==qv||c===qv?h:this.parentInjector.get(o,c,d)}}class wc extends Fg{constructor(o,c){super(),this.componentDef=o,this.ngModule=c,this.componentType=o.type,this.selector=function Qv(s){return s.map(HT).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return oC(this.componentDef.inputs)}get outputs(){return oC(this.componentDef.outputs)}create(o,c,d,h){let g=(h=h||this.ngModule)instanceof pi?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new bS(o,g):o,E=v.get(Gv,null);if(null===E)throw new Ce(407,!1);const I=v.get(pc,null),M=E.createRenderer(null,this.componentDef),k=this.componentDef.selectors[0][0]||"div",P=d?function cS(s,o,c){return s.selectRootElement(o,c===Et.ShadowDom)}(M,d,this.componentDef.encapsulation):vu(M,k,function vS(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(k)),j=this.componentDef.onPush?288:272,J=fb(0,null,null,1,0,null,null,null,null,null),me=r_(null,J,null,j,null,null,E,M,I,v,null);let Le,We;$l(me);try{const nt=function wS(s,o,c,d,h,g){const v=c[1];c[22]=s;const I=dh(v,22,2,"#host",null),M=I.mergedAttrs=o.hostAttrs;null!==M&&(fh(I,M,!0),null!==s&&(Zl(h,s,M),null!==I.classes&&Jf(h,s,I.classes),null!==I.styles&&cc(h,s,I.styles)));const k=d.createRenderer(s,o),P=r_(c,GE(o),null,o.onPush?32:16,c[22],I,d,k,g||null,null,null);return v.firstCreatePass&&(qa(Nn(I,c),v,o.type),_b(v,I),XE(I,c.length,1)),Mp(c,P),c[22]=P}(P,this.componentDef,me,E,M);if(P)if(d)Zl(M,P,["ng-version",pE.full]);else{const{attrs:mt,classes:Ae}=function zg(s){const o=[],c=[];let d=1,h=2;for(;d<s.length;){let g=s[d];if("string"==typeof g)2===h?""!==g&&o.push(g,s[++d]):8===h&&c.push(g);else{if(!Ro(h))break;h=g}d++}return{attrs:o,classes:c}}(this.componentDef.selectors[0]);mt&&Zl(M,P,mt),Ae&&Ae.length>0&&Jf(M,P,Ae.join(" "))}if(We=Ll(J,22),void 0!==c){const mt=We.projection=[];for(let Ae=0;Ae<this.ngContentSelectors.length;Ae++){const St=c[Ae];mt.push(null!=St?Array.from(St):null)}}Le=function h_(s,o,c,d){const h=c[1],g=function dS(s,o,c){const d=Bn();s.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),JE(s,d,o,Dp(s,o,1,null),c),ZE(s,d));const h=Wa(o,s,d.directiveStart,d);Li(h,o);const g=Yi(d,o);return g&&Li(g,o),h}(h,c,o);if(s[8]=c[8]=g,null!==d)for(const E of d)E(g,o);if(o.contentQueries){const E=Bn();o.contentQueries(1,g,E.directiveStart)}const v=Bn();return!h.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(xs(v.index),WE(c[1],v,0,v.directiveStart,v.directiveEnd,o),Sp(o,g)),g}(nt,this.componentDef,me,[ES]),ub(J,me,null)}finally{Xo()}return new Eb(this.componentType,Le,oh(We,me),me,We)}}class Eb extends class RT{}{constructor(o,c,d,h,g){super(),this.location=d,this._rootLView=h,this._tNode=g,this.instance=c,this.hostView=this.changeDetectorRef=new Ok(h),this.componentType=o}setInput(o,c){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[o])){const g=this._rootLView;bb(g[1],g,h,o,c),s_(g,this._tNode.index)}}get injector(){return new zr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function ES(){const s=Bn();wo(Se()[1],s)}function Cb(s){let o=function cC(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const d=[s];for(;o;){let h;if(Br(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Ce(903,!1);h=o.\u0275dir}if(h){if(c){d.push(h);const v=s;v.inputs=Ib(s.inputs),v.declaredInputs=Ib(s.declaredInputs),v.outputs=Ib(s.outputs);const E=h.hostBindings;E&&IS(s,E);const I=h.viewQuery,M=h.contentQueries;if(I&&uC(s,I),M&&ii(s,M),ne(s.inputs,h.inputs),ne(s.declaredInputs,h.declaredInputs),ne(s.outputs,h.outputs),Br(h)&&h.data.animation){const k=s.data;k.animation=(k.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let v=0;v<g.length;v++){const E=g[v];E&&E.ngInherit&&E(s),E===Cb&&(c=!1)}}o=Object.getPrototypeOf(o)}!function CS(s){let o=0,c=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=Ga(h.hostAttrs,c=Ga(c,h.hostAttrs))}}(d)}function Ib(s){return s===si?{}:s===At?[]:s}function uC(s,o){const c=s.viewQuery;s.viewQuery=c?(d,h)=>{o(d,h),c(d,h)}:o}function ii(s,o){const c=s.contentQueries;s.contentQueries=c?(d,h,g)=>{o(d,h,g),c(d,h,g)}:o}function IS(s,o){const c=s.hostBindings;s.hostBindings=c?(d,h)=>{o(d,h),c(d,h)}:o}let f_=null;function Pu(){if(!f_){const s=bn.Symbol;if(s&&s.iterator)f_=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<o.length;++c){const d=o[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(f_=d)}}}return f_}function p_(s){return!!Op(s)&&(Array.isArray(s)||!(s instanceof Map)&&Pu()in s)}function Op(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Vs(s,o,c){return s[o]=c}function hr(s,o,c){return!Object.is(s[o],c)&&(s[o]=c,!0)}function lo(s,o,c,d){const h=hr(s,o,c);return hr(s,o+1,d)||h}function g_(s,o,c,d){const h=Se();return hr(h,jr(),o)&&(Kt(),ba(Un(),h,s,o,c,d)),g_}function bC(s,o,c,d,h,g,v,E){const I=Se(),M=Kt(),k=s+22,P=M.firstCreatePass?function vC(s,o,c,d,h,g,v,E,I){const M=o.consts,k=dh(o,s,4,v||null,Hr(M,E));gb(o,c,k,Hr(M,I)),wo(o,k);const P=k.tViews=fb(2,k,d,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,M);return null!==o.queries&&(o.queries.template(o,k),P.queries=o.queries.embeddedTView(k)),k}(k,M,I,o,c,d,h,g,v):M.data[k];Ui(P,!1);const j=I[11].createComment("");Kf(M,I,j,P),Li(j,I),Mp(I,I[k]=eC(j,I,j,P)),Ts(P)&&db(M,I,P),null!=v&&hb(I,P,E)}function __(s){return Pa(function xn(){return Ct.lFrame.contextLView}(),22+s)}function bh(s,o,c){const d=Se();return hr(d,jr(),o)&&ys(Kt(),Un(),d,s,o,d[11],c,!1),bh}function Sb(s,o,c,d,h){const v=h?"class":"style";bb(s,c,o.inputs[v],v,d)}function Np(s,o,c,d){const h=Se(),g=Kt(),v=22+s,E=h[11],I=h[v]=vu(E,o,function xd(){return Ct.lFrame.currentNamespace}()),M=g.firstCreatePass?function MS(s,o,c,d,h,g,v){const E=o.consts,M=dh(o,s,2,h,Hr(E,g));return gb(o,c,M,Hr(E,v)),null!==M.attrs&&fh(M,M.attrs,!1),null!==M.mergedAttrs&&fh(M,M.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,M),M}(v,g,h,0,o,c,d):g.data[v];Ui(M,!0);const k=M.mergedAttrs;null!==k&&Zl(E,I,k);const P=M.classes;null!==P&&Jf(E,I,P);const j=M.styles;return null!==j&&cc(E,I,j),64!=(64&M.flags)&&Kf(g,h,I,M),0===function Na(){return Ct.lFrame.elementDepthCount}()&&Li(I,h),function vd(){Ct.lFrame.elementDepthCount++}(),Ts(M)&&(db(g,h,M),Ou(g,M,h)),null!==d&&hb(h,M),Np}function Fp(){let s=Bn();vo()?Wc():(s=s.parent,Ui(s,!1));const o=s;!function Zc(){Ct.lFrame.elementDepthCount--}();const c=Kt();return c.firstCreatePass&&(wo(c,s),Wo(s)&&c.queries.elementEnd(s)),null!=o.classesWithoutHost&&function wf(s){return 0!=(16&s.flags)}(o)&&Sb(c,o,Se(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Od(s){return 0!=(32&s.flags)}(o)&&Sb(c,o,Se(),o.stylesWithoutHost,!1),Fp}function y_(s,o,c,d){return Np(s,o,c,d),Fp(),y_}function Hi(s,o,c){const d=Se(),h=Kt(),g=s+22,v=h.firstCreatePass?function Ab(s,o,c,d,h){const g=o.consts,v=Hr(g,d),E=dh(o,s,8,"ng-container",v);return null!==v&&fh(E,v,!0),gb(o,c,E,Hr(g,h)),null!==o.queries&&o.queries.elementStart(o,E),E}(g,h,d,o,c):h.data[g];Ui(v,!0);const E=d[g]=d[11].createComment("");return Kf(h,d,E,v),Li(E,d),Ts(v)&&(db(h,d,v),Ou(h,v,d)),null!=c&&hb(d,v),Hi}function Lp(){let s=Bn();const o=Kt();return vo()?Wc():(s=s.parent,Ui(s,!1)),o.firstCreatePass&&(wo(o,s),Wo(s)&&o.queries.elementEnd(s)),Lp}function wC(){return Se()}function EC(s){return!!s&&"function"==typeof s.then}function CC(s){return!!s&&"function"==typeof s.subscribe}const v_=CC;function IC(s,o,c,d){const h=Se(),g=Kt(),v=Bn();return TC(g,h,h[11],v,s,o,0,d),IC}function DC(s,o){const c=Bn(),d=Se(),h=Kt();return TC(h,d,rC(Va(h.data),c,d),c,s,o),DC}function TC(s,o,c,d,h,g,v,E){const I=Ts(d),k=s.firstCreatePass&&iC(s),P=o[8],j=nC(o);let J=!0;if(3&d.type||E){const We=Yi(d,o),nt=E?E(We):We,mt=j.length,Ae=E?yn=>E(Gn(yn[d.index])):d.index;let St=null;if(!E&&I&&(St=function xS(s,o,c,d){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const v=h[g];if(v===c&&h[g+1]===d){const E=o[7],I=h[g+2];return E.length>I?E[I]:null}"string"==typeof v&&(g+=2)}return null}(s,o,h,d.index)),null!==St)(St.__ngLastListenerFn__||St).__ngNextListenerFn__=g,St.__ngLastListenerFn__=g,J=!1;else{g=kS(d,o,P,g,!1);const yn=c.listen(nt,h,g);j.push(g,yn),k&&k.push(h,Ae,mt,mt+1)}}else g=kS(d,o,P,g,!1);const me=d.outputs;let Le;if(J&&null!==me&&(Le=me[h])){const We=Le.length;if(We)for(let nt=0;nt<We;nt+=2){const Sn=o[Le[nt]][Le[nt+1]].subscribe(g),Dl=j.length;j.push(g,Sn),k&&k.push(h,d.index,Dl,-(Dl+1))}}}function RS(s,o,c,d){try{return!1!==c(d)}catch(h){return sC(s,h),!1}}function kS(s,o,c,d,h){return function g(v){if(v===Function)return d;u_(2&s.flags?qn(s.index,o):o);let I=RS(o,0,d,v),M=g.__ngNextListenerFn__;for(;M;)I=RS(o,0,M,v)&&I,M=M.__ngNextListenerFn__;return h&&!1===I&&(v.preventDefault(),v.returnValue=!1),I}}function OS(s=1){return function Td(s){return(Ct.lFrame.contextLView=function yf(s,o){for(;s>0;)o=o[15],s--;return o}(s,Ct.lFrame.contextLView))[8]}(s)}function Lk(s,o){let c=null;const d=function $g(s){const o=s.attrs;if(null!=o){const c=o.indexOf(5);if(0==(1&c))return o[c+1]}return null}(s);for(let h=0;h<o.length;h++){const g=o[h];if("*"!==g){if(null===d?CE(s,g,!0):UT(d,g))return h}else c=h}return c}function PS(s){const o=Se()[16][6];if(!o.projection){const d=o.projection=Io(s?s.length:1,null),h=d.slice();let g=o.child;for(;null!==g;){const v=s?Lk(g,s):0;null!==v&&(h[v]?h[v].projectionNext=g:d[v]=g,h[v]=g),g=g.next}}}function NS(s,o=0,c){const d=Se(),h=Kt(),g=dh(h,22+s,16,null,c||null);null===g.projection&&(g.projection=o),Wc(),64!=(64&g.flags)&&function bg(s,o,c){Eu(o[11],0,o,c,yg(s,c,o),qf(c.parent||o[6],c,o))}(h,d,g)}function E_(s,o,c,d,h){const g=s[c+1],v=null===o;let E=d?ko(g):ao(g),I=!1;for(;0!==E&&(!1===I||v);){const k=s[E+1];VS(s[E],o)&&(I=!0,s[E+1]=d?Xg(k):rb(k)),E=d?ko(k):ao(k)}I&&(s[c+1]=d?rb(g):Xg(g))}function VS(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Xa(s,o)>=0}const ji={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function MC(s){return s.substring(ji.key,ji.keyEnd)}function RC(s,o){const c=ji.textEnd;return c===o?-1:(o=ji.keyEnd=function xb(s,o,c){for(;o<c&&s.charCodeAt(o)>32;)o++;return o}(s,ji.key=o,c),El(s,o,c))}function El(s,o,c){for(;o<c&&s.charCodeAt(o)<=32;)o++;return o}function kb(s,o,c){return vs(s,o,c,!1),kb}function D_(s,o){return vs(s,o,null,!0),D_}function wh(s){!function co(s,o,c,d){const h=Kt(),g=br(2);h.firstUpdatePass&&PC(h,null,g,d);const v=Se();if(c!==zt&&hr(v,g,c)){const E=h.data[Qi()];if(x_(E,d)&&!OC(h,g)){let I=d?E.classesWithoutHost:E.stylesWithoutHost;null!==I&&(c=he(I,c||"")),Sb(h,E,v,c,d)}else!function zS(s,o,c,d,h,g,v,E){h===zt&&(h=At);let I=0,M=0,k=0<h.length?h[0]:null,P=0<g.length?g[0]:null;for(;null!==k||null!==P;){const j=I<h.length?h[I+1]:void 0,J=M<g.length?g[M+1]:void 0;let Le,me=null;k===P?(I+=2,M+=2,j!==J&&(me=P,Le=J)):null===P||null!==k&&k<P?(I+=2,me=k):(M+=2,me=P,Le=J),null!==me&&S_(s,o,c,d,me,Le,v,E),k=I<h.length?h[I]:null,P=M<g.length?g[M]:null}}(h,E,v,v[11],v[g+1],v[g+1]=function FC(s,o,c){if(null==c||""===c)return At;const d=[],h=Ii(c);if(Array.isArray(h))for(let g=0;g<h.length;g++)s(d,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&s(d,g,h[g]);else"string"==typeof h&&o(d,h);return d}(s,o,c),d,g)}}(Ir,No,s,!0)}function No(s,o){for(let c=function BS(s){return function Xi(s){ji.key=0,ji.keyEnd=0,ji.value=0,ji.valueEnd=0,ji.textEnd=s.length}(s),RC(s,El(s,0,ji.textEnd))}(o);c>=0;c=RC(o,c))Ir(s,MC(o),!0)}function vs(s,o,c,d){const h=Se(),g=Kt(),v=br(2);g.firstUpdatePass&&PC(g,s,v,d),o!==zt&&hr(h,v,o)&&S_(g,g.data[Qi()],h,h[11],s,h[v+1]=function Pb(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=we(Ii(s)))),s}(o,c),d,v)}function OC(s,o){return o>=s.expandoStartIndex}function PC(s,o,c,d){const h=s.data;if(null===h[c+1]){const g=h[Qi()],v=OC(s,c);x_(g,d)&&null===o&&!v&&(o=!1),o=function jS(s,o,c,d){const h=Va(s);let g=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(c=Lu(c=T_(null,s,o,c,d),o.attrs,d),g=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(c=T_(h,s,o,c,d),null===g){let I=function $S(s,o,c){const d=c?o.classBindings:o.styleBindings;if(0!==ao(d))return s[ko(d)]}(s,o,d);void 0!==I&&Array.isArray(I)&&(I=T_(null,s,o,I[1],d),I=Lu(I,o.attrs,d),function NC(s,o,c,d){s[ko(c?o.classBindings:o.styleBindings)]=d}(s,o,d,I))}else g=function Ob(s,o,c){let d;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)d=Lu(d,s[g].hostAttrs,c);return Lu(d,o.attrs,c)}(s,o,d)}return void 0!==g&&(d?o.residualClasses=g:o.residualStyles=g),c}(h,g,o,d),function LS(s,o,c,d,h,g){let v=g?o.classBindings:o.styleBindings,E=ko(v),I=ao(v);s[d]=c;let k,M=!1;if(Array.isArray(c)){const P=c;k=P[1],(null===k||Xa(P,k)>0)&&(M=!0)}else k=c;if(h)if(0!==I){const j=ko(s[E+1]);s[d+1]=_p(j,E),0!==j&&(s[j+1]=Yg(s[j+1],d)),s[E+1]=function OE(s,o){return 131071&s|o<<17}(s[E+1],d)}else s[d+1]=_p(E,0),0!==E&&(s[E+1]=Yg(s[E+1],d)),E=d;else s[d+1]=_p(I,0),0===E?E=d:s[I+1]=Yg(s[I+1],d),I=d;M&&(s[d+1]=rb(s[d+1])),E_(s,k,d,!0),E_(s,k,d,!1),function w_(s,o,c,d,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&Xa(g,o)>=0&&(c[d+1]=Xg(c[d+1]))}(o,k,s,d,g),v=_p(E,I),g?o.classBindings=v:o.styleBindings=v}(h,g,o,c,v,d)}}function T_(s,o,c,d,h){let g=null;const v=c.directiveEnd;let E=c.directiveStylingLast;for(-1===E?E=c.directiveStart:E++;E<v&&(g=o[E],d=Lu(d,g.hostAttrs,h),g!==s);)E++;return null!==s&&(c.directiveStylingLast=E),d}function Lu(s,o,c){const d=c?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?h=v:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Ir(s,v,!!c||o[++g]))}return void 0===s?null:s}function S_(s,o,c,d,h,g,v,E){if(!(3&o.type))return;const I=s.data,M=I[E+1];M_(function Qg(s){return 1==(1&s)}(M)?A_(I,o,c,h,ao(M),v):void 0)||(M_(g)||function yl(s){return 2==(2&s)}(M)&&(g=A_(I,null,c,h,E,v)),function Xf(s,o,c,d,h){if(o)h?s.addClass(c,d):s.removeClass(c,d);else{let g=-1===d.indexOf("-")?void 0:Mo.DashCase;null==h?s.removeStyle(c,d,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=Mo.Important),s.setStyle(c,d,h,g))}}(d,v,vr(Qi(),c),h,g))}function A_(s,o,c,d,h,g){const v=null===o;let E;for(;h>0;){const I=s[h],M=Array.isArray(I),k=M?I[1]:I,P=null===k;let j=c[h+1];j===zt&&(j=P?At:void 0);let J=P?Bd(j,d):k===d?j:void 0;if(M&&!M_(J)&&(J=Bd(I,d)),M_(J)&&(E=J,v))return E;const me=s[h+1];h=v?ko(me):ao(me)}if(null!==o){let I=g?o.residualClasses:o.residualStyles;null!=I&&(E=Bd(I,d))}return E}function M_(s){return void 0!==s}function x_(s,o){return 0!=(s.flags&(o?16:32))}function R_(s,o=""){const c=Se(),d=Kt(),h=s+22,g=d.firstCreatePass?dh(d,h,1,o,null):d.data[h],v=c[h]=function pa(s,o){return s.createText(o)}(c[11],o);Kf(d,c,v,g),Ui(g,!1)}function Hp(s){return k_("",s,""),Hp}function k_(s,o,c){const d=Se(),h=function Ec(s,o,c,d){return hr(s,jr(),c)?o+_e(c)+d:zt}(d,s,o,c);return h!==zt&&function wa(s,o,c){const d=vr(o,s);!function yu(s,o,c){s.setValue(o,c)}(s[11],d,c)}(d,Qi(),h),k_}function KC(s,o,c){const d=Se();if(hr(d,jr(),o)){const g=Kt(),v=Un();ys(g,v,d,s,o,rC(Va(g.data),v,d),c,!0)}return KC}const Ih=void 0;var Bk=["en",[["a","p"],["AM","PM"],Ih],[["AM","PM"],Ih,Ih],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ih,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ih,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ih,"{1} 'at' {0}",Ih],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Hb(s){const c=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let $p={};function nA(s,o,c){"string"!=typeof o&&(c=o,o=s[Ot.LocaleId]),o=o.toLowerCase().replace(/_/g,"-"),$p[o]=s,c&&($p[o][Ot.ExtraData]=c)}function V_(s){const o=function $b(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=B_(o);if(c)return c;const d=o.split("-")[0];if(c=B_(d),c)return c;if("en"===d)return Bk;throw new Ce(701,!1)}function jb(s){return V_(s)[Ot.PluralCase]}function B_(s){return s in $p||($p[s]=bn.ng&&bn.ng.common&&bn.ng.common.locales&&bn.ng.common.locales[s]),$p[s]}var Ot=(()=>((Ot=Ot||{})[Ot.LocaleId=0]="LocaleId",Ot[Ot.DayPeriodsFormat=1]="DayPeriodsFormat",Ot[Ot.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ot[Ot.DaysFormat=3]="DaysFormat",Ot[Ot.DaysStandalone=4]="DaysStandalone",Ot[Ot.MonthsFormat=5]="MonthsFormat",Ot[Ot.MonthsStandalone=6]="MonthsStandalone",Ot[Ot.Eras=7]="Eras",Ot[Ot.FirstDayOfWeek=8]="FirstDayOfWeek",Ot[Ot.WeekendRange=9]="WeekendRange",Ot[Ot.DateFormat=10]="DateFormat",Ot[Ot.TimeFormat=11]="TimeFormat",Ot[Ot.DateTimeFormat=12]="DateTimeFormat",Ot[Ot.NumberSymbols=13]="NumberSymbols",Ot[Ot.NumberFormats=14]="NumberFormats",Ot[Ot.CurrencyCode=15]="CurrencyCode",Ot[Ot.CurrencySymbol=16]="CurrencySymbol",Ot[Ot.CurrencyName=17]="CurrencyName",Ot[Ot.Currencies=18]="Currencies",Ot[Ot.Directionality=19]="Directionality",Ot[Ot.PluralCase=20]="PluralCase",Ot[Ot.ExtraData=21]="ExtraData",Ot))();const zp="en-US";let sA=zp;function X_(s,o,c,d,h){if(s=W(s),Array.isArray(s))for(let g=0;g<s.length;g++)X_(s[g],o,c,d,h);else{const g=Kt(),v=Se();let E=ti(s)?s:W(s.provide),I=ml(s);const M=Bn(),k=1048575&M.providerIndexes,P=M.directiveStart,j=M.providerIndexes>>20;if(ti(s)||!s.multi){const J=new ja(I,h,_s),me=ey(E,o,h?k:k+j,P);-1===me?(qa(Nn(M,v),g,E),J_(g,s,o.length),o.push(E),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),c.push(J),v.push(J)):(c[me]=J,v[me]=J)}else{const J=ey(E,o,k+j,P),me=ey(E,o,k,k+j),Le=J>=0&&c[J],We=me>=0&&c[me];if(h&&!We||!h&&!Le){qa(Nn(M,v),g,E);const nt=function wA(s,o,c,d,h){const g=new ja(s,c,_s);return g.multi=[],g.index=o,g.componentProviders=0,dI(g,h,d&&!c),g}(h?u0:hI,c.length,h,d,I);!h&&We&&(c[me].providerFactory=nt),J_(g,s,o.length,0),o.push(E),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),c.push(nt),v.push(nt)}else J_(g,s,J>-1?J:me,dI(c[h?me:J],I,!h&&d));!h&&d&&We&&c[me].componentProviders++}}}function J_(s,o,c,d){const h=ti(o),g=function $v(s){return!!s.useClass}(o);if(h||g){const I=(g?W(o.useClass):o).prototype.ngOnDestroy;if(I){const M=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const k=M.indexOf(c);-1===k?M.push(c,[d,I]):M[k+1].push(d,I)}else M.push(c,I)}}}function dI(s,o,c){return c&&s.componentProviders++,s.multi.push(o)-1}function ey(s,o,c,d){for(let h=c;h<d;h++)if(o[h]===s)return h;return-1}function hI(s,o,c,d){return ty(this.multi,[])}function u0(s,o,c,d){const h=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=Wa(c,c[1],this.providerFactory.index,d);g=E.slice(0,v),ty(h,g);for(let I=v;I<E.length;I++)g.push(E[I])}else g=[],ty(h,g);return g}function ty(s,o){for(let c=0;c<s.length;c++)o.push((0,s[c])());return o}function ny(s,o=[]){return c=>{c.providersResolver=(d,h)=>function c0(s,o,c){const d=Kt();if(d.firstCreatePass){const h=Br(s);X_(c,d.data,d.blueprint,h,!0),X_(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class Dc{}class iy{}function er(s,o){return new Xp(s,o??null)}class Xp extends Dc{constructor(o,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new wb(this);const d=Lt(o);this._bootstrapComponents=Kr(d.bootstrap),this._r3Injector=Mu(o,c,[{provide:Dc,useValue:this},{provide:va,useValue:this.componentFactoryResolver}],we(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Jp extends iy{constructor(o){super(),this.moduleType=o}create(o){return new Xp(this.moduleType,o)}}class EA extends Dc{constructor(o,c,d){super(),this.componentFactoryResolver=new wb(this),this.instance=null;const h=new cp([...o,{provide:Dc,useValue:this},{provide:va,useValue:this.componentFactoryResolver}],c||ni(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function d0(s,o,c=null){return new EA(s,o,c).injector}let fI=(()=>{class s{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const d=hE(0,c.type),h=d.length>0?d0([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,h)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=Ue({token:s,providedIn:"environment",factory:()=>new s($t(pi))}),s})();function pI(s){s.getStandaloneInjector=o=>o.get(fI).getOrCreateStandaloneInjector(s)}function Uu(s,o,c,d){return function m0(s,o,c,d,h,g){const v=o+c;return hr(s,v,h)?Vs(s,v+1,g?d.call(g,h):d(h)):$i(s,v+1)}(Se(),Fi(),s,o,c,d)}function $i(s,o){const c=s[o];return c===zt?void 0:c}function g0(s,o,c,d,h,g,v,E,I){const M=o+c;return function Po(s,o,c,d,h,g){const v=lo(s,o,c,d);return lo(s,o+2,h,g)||v}(s,M,h,g,v,E)?Vs(s,M+4,I?d.call(I,h,g,v,E):d(h,g,v,E)):$i(s,M+4)}function _0(s,o){const c=Kt();let d;const h=s+22;c.firstCreatePass?(d=function EI(s,o){if(o)for(let c=o.length-1;c>=0;c--){const d=o[c];if(s===d.name)return d}}(o,c.pipeRegistry),c.data[h]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(h,d.onDestroy)):d=c.data[h];const g=d.factory||(d.factory=Ss(d.type)),v=Zi(_s);try{const E=Jo(!1),I=g();return Jo(E),function Fk(s,o,c,d){c>=s.data.length&&(s.data[c]=null,s.blueprint[c]=null),o[c]=d}(c,Se(),h,I),I}finally{Zi(v)}}function hy(s,o,c,d){const h=s+22,g=Se(),v=Pa(g,h);return Ah(g,h)?function Sh(s,o,c,d,h,g,v){const E=o+c;return lo(s,E,h,g)?Vs(s,E+2,v?d.call(v,h,g):d(h,g)):$i(s,E+2)}(g,Fi(),o,v.transform,c,d,v):v.transform(c,d)}function im(s,o,c,d,h,g){const v=s+22,E=Se(),I=Pa(E,v);return Ah(E,v)?g0(E,Fi(),o,I.transform,c,d,h,g,I):I.transform(c,d,h,g)}function Ah(s,o){return s[1].data[o].pure}function sm(s){return o=>{setTimeout(s,void 0,o)}}const Bs=class RA extends l.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,c,d){let h=o,g=c||(()=>null),v=d;if(o&&"object"==typeof o){const I=o;h=I.next?.bind(I),g=I.error?.bind(I),v=I.complete?.bind(I)}this.__isAsync&&(g=sm(g),h&&(h=sm(h)),v&&(v=sm(v)));const E=super.subscribe({next:h,error:g,complete:v});return o instanceof X.w0&&o.add(E),E}};function b0(){return this._results[Pu()]()}class om{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Pu(),d=om.prototype;d[c]||(d[c]=b0)}get changes(){return this._changes||(this._changes=new Bs)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,c){return this._results.reduce(o,c)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,c){const d=this;d.dirty=!1;const h=fi(o);(this._changesDetected=!function su(s,o,c){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],g=o[d];if(c&&(h=c(h),g=c(g)),g!==h)return!1}return!0}(d._results,h,c))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Mh=(()=>{class s{}return s.__NG_ELEMENT_ID__=am,s})();const CI=Mh,kA=class extends CI{constructor(o,c,d){super(),this._declarationLView=o,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(o,c){const d=this._declarationTContainer.tViews,h=r_(this._declarationLView,d,o,16,null,d.declTNode,null,null,null,null,c||null);h[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(h[19]=v.createEmbeddedView(d)),ub(d,h,o),new ph(h)}};function am(){return lm(Bn(),Se())}function lm(s,o){return 4&s.type?new kA(o,s,oh(s,o)):null}let ju=(()=>{class s{}return s.__NG_ELEMENT_ID__=cm,s})();function cm(){return E0(Bn(),Se())}const $u=ju,fy=class extends $u{constructor(o,c,d){super(),this._lContainer=o,this._hostTNode=c,this._hostLView=d}get element(){return oh(this._hostTNode,this._hostLView)}get injector(){return new zr(this._hostTNode,this._hostLView)}get parentInjector(){const o=ea(this._hostTNode,this._hostLView);if(Ef(o)){const c=hs(o,this._hostLView),d=Kl(o);return new zr(c[1].data[d+8],c)}return new zr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const c=II(this._lContainer);return null!==c&&c[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,c,d){let h,g;"number"==typeof d?h=d:null!=d&&(h=d.index,g=d.injector);const v=o.createEmbeddedView(c||{},g);return this.insert(v,h),v}createComponent(o,c,d,h,g){const v=o&&!function cr(s){return"function"==typeof s}(o);let E;if(v)E=c;else{const P=c||{};E=P.index,d=P.injector,h=P.projectableNodes,g=P.environmentInjector||P.ngModuleRef}const I=v?o:new wc(le(o)),M=d||this.parentInjector;if(!g&&null==I.ngModule){const j=(v?M:this.parentInjector).get(pi,null);j&&(g=j)}const k=I.create(M,h,void 0,g);return this.insert(k.hostView,E),k}insert(o,c){const d=o._lView,h=d[1];if(function _d(s){return Ki(s[3])}(d)){const k=this.indexOf(o);if(-1!==k)this.detach(k);else{const P=d[3],j=new fy(P,P[6],P[3]);j.detach(j.indexOf(o))}}const g=this._adjustIndex(c),v=this._lContainer;!function zf(s,o,c,d){const h=10+d,g=c.length;d>0&&(c[h-1][4]=o),d<g-10?(o[4]=c[h],Af(c,10+d,o)):(c.push(o),o[4]=null),o[3]=c;const v=o[17];null!==v&&c!==v&&function pg(s,o){const c=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===c?s[9]=[o]:c.push(o)}(v,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=64}(h,d,v,g);const E=Yf(g,v),I=d[11],M=lc(I,v[7]);return null!==M&&function $f(s,o,c,d,h,g){d[0]=h,d[6]=o,wu(s,d,c,1,h,g)}(h,v[6],I,d,M,E),o.attachToViewContainerRef(),Af(w0(v),g,o),o}move(o,c){return this.insert(o,c)}indexOf(o){const c=II(this._lContainer);return null!==c?c.indexOf(o):-1}remove(o){const c=this._adjustIndex(o,-1),d=gg(this._lContainer,c);d&&(Cr(w0(this._lContainer),c),_g(d[1],d))}detach(o){const c=this._adjustIndex(o,-1),d=gg(this._lContainer,c);return d&&null!=Cr(w0(this._lContainer),c)?new ph(d):null}_adjustIndex(o,c=0){return o??this.length+c}};function II(s){return s[8]}function w0(s){return s[8]||(s[8]=[])}function E0(s,o){let c;const d=o[s.index];if(Ki(d))c=d;else{let h;if(8&s.type)h=Gn(d);else{const g=o[11];h=g.createComment("");const v=Yi(s,o);Ls(g,lc(g,v),h,function vg(s,o){return s.nextSibling(o)}(g,v),!1)}o[s.index]=c=eC(d,o,h,s),Mp(o,c)}return new fy(c,s,o)}class Vo{constructor(o){this.queryList=o,this.matches=null}clone(){return new Vo(this.queryList)}setDirty(){this.queryList.setDirty()}}class Rh{constructor(o=[]){this.queries=o}createEmbeddedView(o){const c=o.queries;if(null!==c){const d=null!==o.contentQueries?o.contentQueries[0]:c.length,h=[];for(let g=0;g<d;g++){const v=c.getByIndex(g);h.push(this.queries[v.indexInDeclarationView].clone())}return new Rh(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let c=0;c<this.queries.length;c++)null!==zu(o,c).matches&&this.queries[c].setDirty()}}class um{constructor(o,c,d=null){this.predicate=o,this.flags=c,this.read=d}}class py{constructor(o=[]){this.queries=o}elementStart(o,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,c)}elementEnd(o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(o)}embeddedTView(o){let c=null;for(let d=0;d<this.length;d++){const h=null!==c?c.length:0,g=this.getByIndex(d).embeddedTView(o,h);g&&(g.indexInDeclarationView=d,null!==c?c.push(g):c=[g])}return null!==c?new py(c):null}template(o,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,c)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class jn{constructor(o,c=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(o,c){this.isApplyingToNode(c)&&this.matchTNode(o,c)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,c){this.elementStart(o,c)}embeddedTView(o,c){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,c),new jn(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const g=d[h];this.matchTNodeWithReadOption(o,c,my(c,g)),this.matchTNodeWithReadOption(o,c,ps(c,o,g,!1,!1))}else d===Mh?4&c.type&&this.matchTNodeWithReadOption(o,c,-1):this.matchTNodeWithReadOption(o,c,ps(c,o,d,!1,!1))}matchTNodeWithReadOption(o,c,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===gs||h===ju||h===Mh&&4&c.type)this.addMatch(c.index,-2);else{const g=ps(c,o,h,!1,!1);null!==g&&this.addMatch(c.index,g)}else this.addMatch(c.index,d)}}addMatch(o,c){null===this.matches?this.matches=[o,c]:this.matches.push(o,c)}}function my(s,o){const c=s.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===o)return c[d+1];return null}function hm(s,o,c,d){return-1===c?function dm(s,o){return 11&s.type?oh(s,o):4&s.type?lm(s,o):null}(o,s):-2===c?function PA(s,o,c){return c===gs?oh(o,s):c===Mh?lm(o,s):c===ju?E0(o,s):void 0}(s,o,d):Wa(s,s[1],c,o)}function C0(s,o,c,d){const h=o[19].queries[d];if(null===h.matches){const g=s.data,v=c.matches,E=[];for(let I=0;I<v.length;I+=2){const M=v[I];E.push(M<0?null:hm(o,g[M],v[I+1],c.metadata.read))}h.matches=E}return h.matches}function I0(s,o,c,d){const h=s.queries.getByIndex(c),g=h.matches;if(null!==g){const v=C0(s,o,h,c);for(let E=0;E<g.length;E+=2){const I=g[E];if(I>0)d.push(v[E/2]);else{const M=g[E+1],k=o[-I];for(let P=10;P<k.length;P++){const j=k[P];j[17]===j[3]&&I0(j[1],j,M,d)}if(null!==k[9]){const P=k[9];for(let j=0;j<P.length;j++){const J=P[j];I0(J[1],J,M,d)}}}}}return d}function TI(s){const o=Se(),c=Kt(),d=jl();$r(d+1);const h=zu(c,d);if(s.dirty&&function tg(s){return 4==(4&s[2])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?I0(c,o,d,[]):C0(c,o,h,d);s.reset(g,fE),s.notifyOnChanges()}return!0}return!1}function SI(s,o,c){const d=Kt();d.firstCreatePass&&(T0(d,new um(s,o,c),-1),2==(2&o)&&(d.staticViewQueries=!0)),D0(d,Se(),o)}function AI(s,o,c,d){const h=Kt();if(h.firstCreatePass){const g=Bn();T0(h,new um(o,c,d),g.index),function MI(s,o){const c=s.contentQueries||(s.contentQueries=[]);o!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,o)}(h,s),2==(2&c)&&(h.staticContentQueries=!0)}D0(h,Se(),c)}function kh(){return function Tc(s,o){return s[19].queries[o].queryList}(Se(),jl())}function D0(s,o,c){const d=new om(4==(4&c));qE(s,o,d,d.destroy),null===o[19]&&(o[19]=new Rh),o[19].queries.push(new Vo(d))}function T0(s,o,c){null===s.queries&&(s.queries=new py),s.queries.track(new jn(o,c))}function zu(s,o){return s.queries.getByIndex(o)}function _m(...s){}const BI=new cn("Application Initializer");let ws=(()=>{class s{constructor(c){this.appInits=c,this.resolve=_m,this.reject=_m,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(EC(g))c.push(g);else if(v_(g)){const v=new Promise((E,I)=>{g.subscribe({complete:E,error:I})});c.push(v)}}Promise.all(c).then(()=>{d()}).catch(h=>{this.reject(h)}),0===c.length&&d(),this.initialized=!0}}return s.\u0275fac=function(c){return new(c||s)($t(BI,8))},s.\u0275prov=Ue({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Iy=new cn("AppId",{providedIn:"root",factory:function Dn(){return`${vm()}${vm()}${vm()}`}});function vm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Bo=new cn("Platform Initializer"),UI=new cn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Dy=new cn("appBootstrapListener"),z0=new cn("AnimationModuleType");let HI=(()=>{class s{log(c){console.log(c)}warn(c){console.warn(c)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=Ue({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Qr=new cn("LocaleId",{providedIn:"root",factory:()=>tc(Qr,ht.Optional|ht.SkipSelf)||function Cl(){return typeof $localize<"u"&&$localize.locale||zp}()}),pr=new cn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Sy{constructor(o,c){this.ngModuleFactory=o,this.componentFactories=c}}let jI=(()=>{class s{compileModuleSync(c){return new Jp(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),g=Kr(Lt(c).declarations).reduce((v,E)=>{const I=le(E);return I&&v.push(new wc(I)),v},[]);return new Sy(d,g)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=Ue({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const WA=(()=>Promise.resolve(0))();function Bh(s){typeof Zone>"u"?WA.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class fo{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Bs(!1),this.onMicrotaskEmpty=new Bs(!1),this.onStable=new Bs(!1),this.onError=new Bs(!1),typeof Zone>"u")throw new Ce(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&c,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function KA(){let s=bn.requestAnimationFrame,o=bn.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Hh(s){const o=()=>{!function tr(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(bn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Ca(s),s.isCheckStableRunning=!0,My(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Ca(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,h,g,v,E)=>{try{return xy(s),c.invokeTask(h,g,v,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),zI(s)}},onInvoke:(c,d,h,g,v,E,I)=>{try{return xy(s),c.invoke(h,g,v,E,I)}finally{s.shouldCoalesceRunChangeDetection&&o(),zI(s)}},onHasTask:(c,d,h,g)=>{c.hasTask(h,g),d===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,Ca(s),My(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(c,d,h,g)=>(c.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!fo.isInAngularZone())throw new Ce(909,!1)}static assertNotInAngularZone(){if(fo.isInAngularZone())throw new Ce(909,!1)}run(o,c,d){return this._inner.run(o,c,d)}runTask(o,c,d,h){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+h,o,Uh,_m,_m);try{return g.runTask(v,c,d)}finally{g.cancelTask(v)}}runGuarded(o,c,d){return this._inner.runGuarded(o,c,d)}runOutsideAngular(o){return this._outer.run(o)}}const Uh={};function My(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Ca(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function xy(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function zI(s){s._nesting--,My(s)}class Fe{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Bs,this.onMicrotaskEmpty=new Bs,this.onStable=new Bs,this.onError=new Bs}run(o,c,d){return o.apply(c,d)}runGuarded(o,c,d){return o.apply(c,d)}runOutsideAngular(o){return o()}runTask(o,c,d,h){return o.apply(c,d)}}const mi=new cn(""),Us=new cn("");let W0,Z0=(()=>{class s{constructor(c,d,h){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,W0||(function vt(s){W0=s}(h),h.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{fo.assertNotInAngularZone(),Bh(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Bh(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,h){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:g,updateCb:h})}whenStable(c,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,h){return[]}}return s.\u0275fac=function(c){return new(c||s)($t(fo),$t(rt),$t(Us))},s.\u0275prov=Ue({token:s,factory:s.\u0275fac}),s})(),rt=(()=>{class s{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return W0?.findTestabilityInTree(this,c,d)??null}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=Ue({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Ze=null;const ce=new cn("AllowMultipleToken"),Me=new cn("PlatformDestroyListeners");class QA{constructor(o,c){this.name=o,this.token=c}}function eM(s,o,c=[]){const d=`Platform: ${o}`,h=new cn(d);return(g=[])=>{let v=Mc();if(!v||v.injector.get(ce,!1)){const E=[...c,...g,{provide:h,useValue:!0}];s?s(E):function XA(s){if(Ze&&!Ze.get(ce,!1))throw new Ce(400,!1);Ze=s;const o=s.get(Q0);(function K0(s){const o=s.get(Bo,null);o&&o.forEach(c=>c())})(s)}(function Y0(s=[],o){return xu.create({name:o,providers:[{provide:Og,useValue:"platform"},{provide:Me,useValue:new Set([()=>Ze=null])},...s]})}(E,d))}return function tM(s){const o=Mc();if(!o)throw new Ce(401,!1);return o}()}}function Mc(){return Ze?.get(Q0)??null}let Q0=(()=>{class s{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const h=function bt(s,o){let c;return c="noop"===s?new Fe:("zone.js"===s?void 0:s)||new fo(o),c}(d?.ngZone,function Kn(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),g=[{provide:fo,useValue:h}];return h.run(()=>{const v=xu.create({providers:g,parent:this.injector,name:c.moduleType.name}),E=c.create(v),I=E.injector.get(ah,null);if(!I)throw new Ce(402,!1);return h.runOutsideAngular(()=>{const M=h.onError.subscribe({next:k=>{I.handleError(k)}});E.onDestroy(()=>{Yn(this._modules,E),M.unsubscribe()})}),function jh(s,o,c){try{const d=c();return EC(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(I,h,()=>{const M=E.injector.get(ws);return M.runInitializers(),M.donePromise.then(()=>(function oA(s){Ve(s,"Expected localeId to be defined"),"string"==typeof s&&(sA=s.toLowerCase().replace(/_/g,"-"))}(E.injector.get(Qr,zp)||zp),this._moduleDoBootstrap(E),E))})})}bootstrapModule(c,d=[]){const h=ln({},d);return function GI(s,o,c){const d=new Jp(c);return Promise.resolve(d)}(0,0,c).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(c){const d=c.injector.get(Ry);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new Ce(403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ce(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(Me,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(c){return new(c||s)($t(xu))},s.\u0275prov=Ue({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function ln(s,o){return Array.isArray(o)?o.reduce(ln,s):{...s,...o}}let Ry=(()=>{class s{constructor(c,d,h){this._zone=c,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new O.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),v=new O.y(E=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{fo.assertNotInAngularZone(),Bh(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{fo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{I.unsubscribe(),M.unsubscribe()}});this.isStable=(0,ae.T)(g,v.pipe((0,oe.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,d){const h=c instanceof Fg;if(!this._injector.get(ws).done)throw!h&&Mt(c),new Ce(405,false);let v;v=h?c:this._injector.get(va).resolveComponentFactory(c),this.componentTypes.push(v.componentType);const E=function YA(s){return s.isBoundToModule}(v)?void 0:this._injector.get(Dc),M=v.create(xu.NULL,[],d||v.selector,E),k=M.location.nativeElement,P=M.injector.get(mi,null);return P?.registerApplication(k),M.onDestroy(()=>{this.detachView(M.hostView),Yn(this.components,M),P?.unregisterApplication(k)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new Ce(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;Yn(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(Dy,[]).concat(this._bootstrapListeners).forEach(h=>h(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>Yn(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new Ce(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(c){return new(c||s)($t(fo),$t(pi),$t(ah))},s.\u0275prov=Ue({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Yn(s,o){const c=s.indexOf(o);c>-1&&s.splice(c,1)}let Oy=!0,xc=!1;function nM(){return xc=!0,Oy}function Py(){if(xc)throw new Error("Cannot enable prod mode after platform setup.");Oy=!1}let qI=(()=>{class s{}return s.__NG_ELEMENT_ID__=Hs,s})();function Hs(s){return function J0(s,o,c){if(Ml(s)&&!c){const d=qn(s.index,o);return new ph(d,d)}return 47&s.type?new ph(o[16],o):null}(Bn(),Se(),16==(16&s))}class tw{constructor(){}supports(o){return p_(o)}create(o){return new WI(o)}}const Ia=(s,o)=>o;class WI{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Ia}forEachItem(o){let c;for(c=this._itHead;null!==c;c=c._next)o(c)}forEachOperation(o){let c=this._itHead,d=this._removalsHead,h=0,g=null;for(;c||d;){const v=!d||c&&c.currentIndex<QI(d,h,g)?c:d,E=QI(v,h,g),I=v.currentIndex;if(v===d)h--,d=d._nextRemoved;else if(c=c._next,null==v.previousIndex)h++;else{g||(g=[]);const M=E-h,k=I-h;if(M!=k){for(let j=0;j<M;j++){const J=j<g.length?g[j]:g[j]=0,me=J+j;k<=me&&me<M&&(g[j]=J+1)}g[v.previousIndex]=k-M}}E!==I&&o(v,E,I)}}forEachPreviousItem(o){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachMovedItem(o){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}forEachIdentityChange(o){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)o(c)}diff(o){if(null==o&&(o=[]),!p_(o))throw new Ce(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,v,c=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)g=o[E],v=this._trackByFn(E,g),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,g,v,E)),Object.is(c.item,g)||this._addIdentityChange(c,g)):(c=this._mismatch(c,g,v,E),d=!0),c=c._next}else h=0,function TS(s,o){if(Array.isArray(s))for(let c=0;c<s.length;c++)o(s[c]);else{const c=s[Pu()]();let d;for(;!(d=c.next()).done;)o(d.value)}}(o,E=>{v=this._trackByFn(h,E),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,E,v,h)),Object.is(c.item,E)||this._addIdentityChange(c,E)):(c=this._mismatch(c,E,v,h),d=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,c,d,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._moveAfter(o,g,h)):o=this._addAfter(new By(c,d),g,h),o}_verifyReinsertion(o,c,d,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const c=o._next;this._addToRemovals(this._unlink(o)),o=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,c,d),this._addToMoves(o,d),o}_moveAfter(o,c,d){return this._unlink(o),this._insertAfter(o,c,d),this._addToMoves(o,d),o}_addAfter(o,c,d){return this._insertAfter(o,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,c,d){const h=null===c?this._itHead:c._next;return o._next=h,o._prev=c,null===h?this._itTail=o:h._prev=o,null===c?this._itHead=o:c._next=o,null===this._linkedRecords&&(this._linkedRecords=new YI),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const c=o._prev,d=o._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,o}_addToMoves(o,c){return o.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new YI),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,c){return o.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class By{constructor(o,c){this.item=o,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class KI{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const c=o._prevDup,d=o._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class YI{constructor(){this.map=new Map}put(o){const c=o.trackById;let d=this.map.get(c);d||(d=new KI,this.map.set(c,d)),d.add(o)}get(o,c){const h=this.map.get(o);return h?h.get(o,c):null}remove(o){const c=o.trackById;return this.map.get(c).remove(o)&&this.map.delete(c),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function QI(s,o,c){const d=s.previousIndex;if(null===d)return d;let h=0;return c&&d<c.length&&(h=c[d]),d+o+h}class XI{constructor(){}supports(o){return o instanceof Map||Op(o)}create(){return new lM}}class lM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let c;for(c=this._mapHead;null!==c;c=c._next)o(c)}forEachPreviousItem(o){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)o(c)}forEachChangedItem(o){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}diff(o){if(o){if(!(o instanceof Map||Op(o)))throw new Ce(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const g=this._getOrCreateRecordForKey(h,d);c=this._insertBeforeOrAppend(c,g)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,c){if(o){const d=o._prev;return c._next=o,c._prev=d,o._prev=c,d&&(d._next=c),o===this._mapHead&&(this._mapHead=c),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(o,c){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,c);const g=h._prev,v=h._next;return g&&(g._next=v),v&&(v._prev=g),h._next=null,h._prev=null,h}const d=new cM(o);return this._records.set(o,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,c){Object.is(c,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=c,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,c){o instanceof Map?o.forEach(c):Object.keys(o).forEach(d=>c(o[d],d))}}class cM{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function JI(){return new nw([new tw])}let nw=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(null!=d){const h=d.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||JI()),deps:[[s,new ms,new vi]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(null!=d)return d;throw new Ce(901,!1)}}return s.\u0275prov=Ue({token:s,providedIn:"root",factory:JI}),s})();function eD(){return new iw([new XI])}let iw=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(d){const h=d.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||eD()),deps:[[s,new ms,new vi]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(d)return d;throw new Ce(901,!1)}}return s.\u0275prov=Ue({token:s,providedIn:"root",factory:eD}),s})();const hM=eM(null,"core",[]);let tD=(()=>{class s{constructor(c){}}return s.\u0275fac=function(c){return new(c||s)($t(Ry))},s.\u0275mod=or({type:s}),s.\u0275inj=Wt({}),s})();function fM(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(gt,De,N)=>{N.d(De,{Z:()=>Ce});var l=N(2090),X=N(4859),O=N(2951),ae=N(1877);class oe{constructor(_e,ge){this._delegate=_e,this.firebase=ge,(0,O._addComponent)(_e,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=_e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this._delegate.automaticDataCollectionEnabled=_e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(_e=>{this._delegate.checkDestroyed(),_e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(_e,ge=O._DEFAULT_ENTRY_NAME){var _t;this._delegate.checkDestroyed();const Dt=this._delegate.container.getProvider(_e);return!Dt.isInitialized()&&"EXPLICIT"===(null===(_t=Dt.getComponent())||void 0===_t?void 0:_t.instantiationMode)&&Dt.initialize(),Dt.getImmediate({identifier:ge})}_removeServiceInstance(_e,ge=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(_e).clearInstance(ge)}_addComponent(_e){(0,O._addComponent)(this._delegate,_e)}_addOrOverwriteComponent(_e){(0,O._addOrOverwriteComponent)(this._delegate,_e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ne=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function he(){const ot=function we(ot){const _e={},ge={__esModule:!0,initializeApp:function Pe(He,et={}){const ee=O.initializeApp(He,et);if((0,l.r3)(_e,ee.name))return _e[ee.name];const xt=new ot(ee,ge);return _e[ee.name]=xt,xt},app:Dt,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function fe(He){const et=He.name,ee=et.replace("-compat","");if(O._registerComponent(He)&&"PUBLIC"===He.type){const xt=(dt=Dt())=>{if("function"!=typeof dt[ee])throw ne.create("invalid-app-argument",{appName:et});return dt[ee]()};void 0!==He.serviceProps&&(0,l.ZB)(xt,He.serviceProps),ge[ee]=xt,ot.prototype[ee]=function(...dt){return this._getService.bind(this,et).apply(this,He.multipleInstances?dt:[])}}return"PUBLIC"===He.type?ge[ee]:null},removeApp:function _t(He){delete _e[He]},useAsService:function Ge(He,et){return"serverAuth"===et?null:et},modularAPIs:O}};function Dt(He){if(!(0,l.r3)(_e,He=He||O._DEFAULT_ENTRY_NAME))throw ne.create("no-app",{appName:He});return _e[He]}return ge.default=ge,Object.defineProperty(ge,"apps",{get:function Ee(){return Object.keys(_e).map(He=>_e[He])}}),Dt.App=ot,ge}(oe);return ot.INTERNAL=Object.assign(Object.assign({},ot.INTERNAL),{createFirebaseNamespace:he,extendNamespace:function _e(ge){(0,l.ZB)(ot,ge)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),ot}(),$=new ae.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ot=self.firebase.SDK_VERSION;ot&&ot.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ce=z;!function xe(ot){(0,O.registerVersion)("@firebase/app-compat","0.2.9",ot)}()},2951:(gt,De,N)=>{N.r(De),N.d(De,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>Go,_DEFAULT_ENTRY_NAME:()=>gr,_addComponent:()=>it,_addOrOverwriteComponent:()=>Et,_apps:()=>Mn,_clearComponents:()=>si,_components:()=>sn,_getProvider:()=>os,_registerComponent:()=>bn,_removeServiceInstance:()=>sr,deleteApp:()=>Lr,getApp:()=>di,getApps:()=>ki,initializeApp:()=>on,onLog:()=>as,registerVersion:()=>Oi,setLogLevel:()=>zn});var l=N(5861),X=N(4859),O=N(1877),ae=N(2090);let ue,ne;const z=new WeakMap,$=new WeakMap,W=new WeakMap,ze=new WeakMap,xe=new WeakMap;let _e={get(re,te,Oe){if(re instanceof IDBTransaction){if("done"===te)return $.get(re);if("objectStoreNames"===te)return re.objectStoreNames||W.get(re);if("store"===te)return Oe.objectStoreNames[1]?void 0:Oe.objectStore(Oe.objectStoreNames[0])}return Pe(re[te])},set:(re,te,Oe)=>(re[te]=Oe,!0),has:(re,te)=>re instanceof IDBTransaction&&("done"===te||"store"===te)||te in re};function Dt(re){return"function"==typeof re?function _t(re){return re!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function he(){return ne||(ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(re)?function(...te){return re.apply(Ee(this),te),Pe(z.get(this))}:function(...te){return Pe(re.apply(Ee(this),te))}:function(te,...Oe){const Ne=re.call(Ee(this),te,...Oe);return W.set(Ne,te.sort?te.sort():[te]),Pe(Ne)}}(re):(re instanceof IDBTransaction&&function ot(re){if($.has(re))return;const te=new Promise((Oe,Ne)=>{const Tt=()=>{re.removeEventListener("complete",Vt),re.removeEventListener("error",an),re.removeEventListener("abort",an)},Vt=()=>{Oe(),Tt()},an=()=>{Ne(re.error||new DOMException("AbortError","AbortError")),Tt()};re.addEventListener("complete",Vt),re.addEventListener("error",an),re.addEventListener("abort",an)});$.set(re,te)}(re),((re,te)=>te.some(Oe=>re instanceof Oe))(re,function we(){return ue||(ue=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(re,_e):re)}function Pe(re){if(re instanceof IDBRequest)return function Ce(re){const te=new Promise((Oe,Ne)=>{const Tt=()=>{re.removeEventListener("success",Vt),re.removeEventListener("error",an)},Vt=()=>{Oe(Pe(re.result)),Tt()},an=()=>{Ne(re.error),Tt()};re.addEventListener("success",Vt),re.addEventListener("error",an)});return te.then(Oe=>{Oe instanceof IDBCursor&&z.set(Oe,re)}).catch(()=>{}),xe.set(te,re),te}(re);if(ze.has(re))return ze.get(re);const te=Dt(re);return te!==re&&(ze.set(re,te),xe.set(te,re)),te}const Ee=re=>xe.get(re),He=["get","getKey","getAll","getAllKeys","count"],et=["put","add","delete","clear"],ee=new Map;function xt(re,te){if(!(re instanceof IDBDatabase)||te in re||"string"!=typeof te)return;if(ee.get(te))return ee.get(te);const Oe=te.replace(/FromIndex$/,""),Ne=te!==Oe,Tt=et.includes(Oe);if(!(Oe in(Ne?IDBIndex:IDBObjectStore).prototype)||!Tt&&!He.includes(Oe))return;const Vt=function(){var an=(0,l.Z)(function*(Pn,...Qt){const Ni=this.transaction(Pn,Tt?"readwrite":"readonly");let _r=Ni.store;return Ne&&(_r=_r.index(Qt.shift())),(yield Promise.all([_r[Oe](...Qt),Tt&&Ni.done]))[0]});return function(Qt){return an.apply(this,arguments)}}();return ee.set(te,Vt),Vt}!function ge(re){_e=re(_e)}(re=>({...re,get:(te,Oe,Ne)=>xt(te,Oe)||re.get(te,Oe,Ne),has:(te,Oe)=>!!xt(te,Oe)||re.has(te,Oe)}));class dt{constructor(te){this.container=te}getPlatformInfoString(){return this.container.getProviders().map(Oe=>{if(function Zt(re){return"VERSION"===re.getComponent()?.type}(Oe)){const Ne=Oe.getImmediate();return`${Ne.library}/${Ne.version}`}return null}).filter(Oe=>Oe).join(" ")}}const lt="@firebase/app",pe=new O.Yd("@firebase/app"),gr="[DEFAULT]",ui={[lt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Mn=new Map,sn=new Map;function it(re,te){try{re.container.addComponent(te)}catch(Oe){pe.debug(`Component ${te.name} failed to register with FirebaseApp ${re.name}`,Oe)}}function Et(re,te){re.container.addOrOverwriteComponent(te)}function bn(re){const te=re.name;if(sn.has(te))return pe.debug(`There were multiple attempts to register component ${te}.`),!1;sn.set(te,re);for(const Oe of Mn.values())it(Oe,re);return!0}function os(re,te){const Oe=re.container.getProvider("heartbeat").getImmediate({optional:!0});return Oe&&Oe.triggerHeartbeat(),re.container.getProvider(te)}function sr(re,te,Oe=gr){os(re,te).clearInstance(Oe)}function si(){sn.clear()}const Ri=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class _n{constructor(te,Oe,Ne){this._isDeleted=!1,this._options=Object.assign({},te),this._config=Object.assign({},Oe),this._name=Oe.name,this._automaticDataCollectionEnabled=Oe.automaticDataCollectionEnabled,this._container=Ne,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(te){this.checkDestroyed(),this._automaticDataCollectionEnabled=te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(te){this._isDeleted=te}checkDestroyed(){if(this.isDeleted)throw Ri.create("app-deleted",{appName:this._name})}}const Go="9.21.0";function on(re,te={}){let Oe=re;"object"!=typeof te&&(te={name:te});const Ne=Object.assign({name:gr,automaticDataCollectionEnabled:!1},te),Tt=Ne.name;if("string"!=typeof Tt||!Tt)throw Ri.create("bad-app-name",{appName:String(Tt)});if(Oe||(Oe=(0,ae.aH)()),!Oe)throw Ri.create("no-options");const Vt=Mn.get(Tt);if(Vt){if((0,ae.vZ)(Oe,Vt.options)&&(0,ae.vZ)(Ne,Vt.config))return Vt;throw Ri.create("duplicate-app",{appName:Tt})}const an=new X.H0(Tt);for(const Qt of sn.values())an.addComponent(Qt);const Pn=new _n(Oe,Ne,an);return Mn.set(Tt,Pn),Pn}function di(re=gr){const te=Mn.get(re);if(!te&&re===gr)return on();if(!te)throw Ri.create("no-app",{appName:re});return te}function ki(){return Array.from(Mn.values())}function Lr(re){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,l.Z)(function*(re){const te=re.name;Mn.has(te)&&(Mn.delete(te),yield Promise.all(re.container.getProviders().map(Oe=>Oe.delete())),re.isDeleted=!0)})).apply(this,arguments)}function Oi(re,te,Oe){var Ne;let Tt=null!==(Ne=ui[re])&&void 0!==Ne?Ne:re;Oe&&(Tt+=`-${Oe}`);const Vt=Tt.match(/\s|\//),an=te.match(/\s|\//);if(Vt||an){const Pn=[`Unable to register library "${Tt}" with version "${te}":`];return Vt&&Pn.push(`library name "${Tt}" contains illegal characters (whitespace or "/")`),Vt&&an&&Pn.push("and"),an&&Pn.push(`version name "${te}" contains illegal characters (whitespace or "/")`),void pe.warn(Pn.join(" "))}bn(new X.wA(`${Tt}-version`,()=>({library:Tt,version:te}),"VERSION"))}function as(re,te){if(null!==re&&"function"!=typeof re)throw Ri.create("invalid-log-argument");(0,O.Am)(re,te)}function zn(re){(0,O.Ub)(re)}const U="firebase-heartbeat-store";let V=null;function q(){return V||(V=function fe(re,te,{blocked:Oe,upgrade:Ne,blocking:Tt,terminated:Vt}={}){const an=indexedDB.open(re,te),Pn=Pe(an);return Ne&&an.addEventListener("upgradeneeded",Qt=>{Ne(Pe(an.result),Qt.oldVersion,Qt.newVersion,Pe(an.transaction),Qt)}),Oe&&an.addEventListener("blocked",Qt=>Oe(Qt.oldVersion,Qt.newVersion,Qt)),Pn.then(Qt=>{Vt&&Qt.addEventListener("close",()=>Vt()),Tt&&Qt.addEventListener("versionchange",Ni=>Tt(Ni.oldVersion,Ni.newVersion,Ni))}).catch(()=>{}),Pn}("firebase-heartbeat-database",1,{upgrade:(re,te)=>{0===te&&re.createObjectStore(U)}}).catch(re=>{throw Ri.create("idb-open",{originalErrorMessage:re.message})})),V}function Y(){return(Y=(0,l.Z)(function*(re){try{return(yield q()).transaction(U).objectStore(U).get(Lt(re))}catch(te){if(te instanceof ae.ZR)pe.warn(te.message);else{const Oe=Ri.create("idb-get",{originalErrorMessage:te?.message});pe.warn(Oe.message)}}})).apply(this,arguments)}function qe(re,te){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,l.Z)(function*(re,te){try{const Ne=(yield q()).transaction(U,"readwrite");return yield Ne.objectStore(U).put(te,Lt(re)),Ne.done}catch(Oe){if(Oe instanceof ae.ZR)pe.warn(Oe.message);else{const Ne=Ri.create("idb-set",{originalErrorMessage:Oe?.message});pe.warn(Ne.message)}}})).apply(this,arguments)}function Lt(re){return`${re.name}!${re.options.appId}`}class ct{constructor(te){this.container=te,this._heartbeatsCache=null;const Oe=this.container.getProvider("app").getImmediate();this._storage=new Pi(Oe),this._heartbeatsCachePromise=this._storage.read().then(Ne=>(this._heartbeatsCache=Ne,Ne))}triggerHeartbeat(){var te=this;return(0,l.Z)(function*(){const Ne=te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Tt=yt();if(null===te._heartbeatsCache&&(te._heartbeatsCache=yield te._heartbeatsCachePromise),te._heartbeatsCache.lastSentHeartbeatDate!==Tt&&!te._heartbeatsCache.heartbeats.some(Vt=>Vt.date===Tt))return te._heartbeatsCache.heartbeats.push({date:Tt,agent:Ne}),te._heartbeatsCache.heartbeats=te._heartbeatsCache.heartbeats.filter(Vt=>{const an=new Date(Vt.date).valueOf();return Date.now()-an<=2592e6}),te._storage.overwrite(te._heartbeatsCache)})()}getHeartbeatsHeader(){var te=this;return(0,l.Z)(function*(){if(null===te._heartbeatsCache&&(yield te._heartbeatsCachePromise),null===te._heartbeatsCache||0===te._heartbeatsCache.heartbeats.length)return"";const Oe=yt(),{heartbeatsToSend:Ne,unsentEntries:Tt}=function wn(re,te=1024){const Oe=[];let Ne=re.slice();for(const Tt of re){const Vt=Oe.find(an=>an.agent===Tt.agent);if(Vt){if(Vt.dates.push(Tt.date),En(Oe)>te){Vt.dates.pop();break}}else if(Oe.push({agent:Tt.agent,dates:[Tt.date]}),En(Oe)>te){Oe.pop();break}Ne=Ne.slice(1)}return{heartbeatsToSend:Oe,unsentEntries:Ne}}(te._heartbeatsCache.heartbeats),Vt=(0,ae.L)(JSON.stringify({version:2,heartbeats:Ne}));return te._heartbeatsCache.lastSentHeartbeatDate=Oe,Tt.length>0?(te._heartbeatsCache.heartbeats=Tt,yield te._storage.overwrite(te._heartbeatsCache)):(te._heartbeatsCache.heartbeats=[],te._storage.overwrite(te._heartbeatsCache)),Vt})()}}function yt(){return(new Date).toISOString().substring(0,10)}class Pi{constructor(te){this.app=te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var te=this;return(0,l.Z)(function*(){return(yield te._canUseIndexedDBPromise)&&(yield function le(re){return Y.apply(this,arguments)}(te.app))||{heartbeats:[]}})()}overwrite(te){var Oe=this;return(0,l.Z)(function*(){var Ne;if(yield Oe._canUseIndexedDBPromise){const Vt=yield Oe.read();return qe(Oe.app,{lastSentHeartbeatDate:null!==(Ne=te.lastSentHeartbeatDate)&&void 0!==Ne?Ne:Vt.lastSentHeartbeatDate,heartbeats:te.heartbeats})}})()}add(te){var Oe=this;return(0,l.Z)(function*(){var Ne;if(yield Oe._canUseIndexedDBPromise){const Vt=yield Oe.read();return qe(Oe.app,{lastSentHeartbeatDate:null!==(Ne=te.lastSentHeartbeatDate)&&void 0!==Ne?Ne:Vt.lastSentHeartbeatDate,heartbeats:[...Vt.heartbeats,...te.heartbeats]})}})()}}function En(re){return(0,ae.L)(JSON.stringify({version:2,heartbeats:re})).length}!function Vr(re){bn(new X.wA("platform-logger",te=>new dt(te),"PRIVATE")),bn(new X.wA("heartbeat",te=>new ct(te),"PRIVATE")),Oi(lt,"0.9.9",re),Oi(lt,"0.9.9","esm2017"),Oi("fire-js","")}("")},4859:(gt,De,N)=>{N.d(De,{H0:()=>we,wA:()=>O});var l=N(5861),X=N(2090);class O{constructor(z,$,W){this.name=z,this.instanceFactory=$,this.type=W,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const ae="[DEFAULT]";class oe{constructor(z,$){this.name=z,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const $=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has($)){const W=new X.BH;if(this.instancesDeferred.set($,W),this.isInitialized($)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:$});ze&&W.resolve(ze)}catch{}}return this.instancesDeferred.get($).promise}getImmediate(z){var $;const W=this.normalizeInstanceIdentifier(z?.identifier),ze=null!==($=z?.optional)&&void 0!==$&&$;if(!this.isInitialized(W)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:W})}catch(xe){if(ze)return null;throw xe}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function ne(he){return"EAGER"===he.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:ae})}catch{}for(const[$,W]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier($);try{const xe=this.getOrInitializeService({instanceIdentifier:ze});W.resolve(xe)}catch{}}}}clearInstance(z=ae){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,l.Z)(function*(){const $=Array.from(z.instances.values());yield Promise.all([...$.filter(W=>"INTERNAL"in W).map(W=>W.INTERNAL.delete()),...$.filter(W=>"_delete"in W).map(W=>W._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=ae){return this.instances.has(z)}getOptions(z=ae){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:$={}}=z,W=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(W))throw Error(`${this.name}(${W}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:W,options:$});for(const[xe,Ce]of this.instancesDeferred.entries())W===this.normalizeInstanceIdentifier(xe)&&Ce.resolve(ze);return ze}onInit(z,$){var W;const ze=this.normalizeInstanceIdentifier($),xe=null!==(W=this.onInitCallbacks.get(ze))&&void 0!==W?W:new Set;xe.add(z),this.onInitCallbacks.set(ze,xe);const Ce=this.instances.get(ze);return Ce&&z(Ce,ze),()=>{xe.delete(z)}}invokeOnInitCallbacks(z,$){const W=this.onInitCallbacks.get($);if(W)for(const ze of W)try{ze(z,$)}catch{}}getOrInitializeService({instanceIdentifier:z,options:$={}}){let W=this.instances.get(z);if(!W&&this.component&&(W=this.component.instanceFactory(this.container,{instanceIdentifier:(he=z,he===ae?void 0:he),options:$}),this.instances.set(z,W),this.instancesOptions.set(z,$),this.invokeOnInitCallbacks(W,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,W)}catch{}var he;return W||null}normalizeInstanceIdentifier(z=ae){return this.component?this.component.multipleInstances?z:ae:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class we{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const $=this.getProvider(z.name);if($.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);$.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const $=new oe(z,this);return this.providers.set(z,$),$}getProviders(){return Array.from(this.providers.values())}}},1877:(gt,De,N)=>{N.d(De,{Am:()=>he,Ub:()=>we,Yd:()=>ne,in:()=>X});const l=[];var X=(()=>{return(z=X||(X={}))[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",X;var z})();const O={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},ae=X.INFO,oe={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},ue=(z,$,...W)=>{if($<z.logLevel)return;const ze=(new Date).toISOString(),xe=oe[$];if(!xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[xe](`[${ze}]  ${z.name}:`,...W)};class ne{constructor($){this.name=$,this._logLevel=ae,this._logHandler=ue,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in X))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?O[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...$),this._logHandler(this,X.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...$),this._logHandler(this,X.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,X.INFO,...$),this._logHandler(this,X.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,X.WARN,...$),this._logHandler(this,X.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...$),this._logHandler(this,X.ERROR,...$)}}function we(z){l.forEach($=>{$.setLogLevel(z)})}function he(z,$){for(const W of l){let ze=null;$&&$.level&&(ze=O[$.level]),W.userLogHandler=null===z?null:(xe,Ce,...ot)=>{const _e=ot.map(ge=>{if(null==ge)return null;if("string"==typeof ge)return ge;if("number"==typeof ge||"boolean"==typeof ge)return ge.toString();if(ge instanceof Error)return ge.message;try{return JSON.stringify(ge)}catch{return null}}).filter(ge=>ge).join(" ");Ce>=(ze??xe.logLevel)&&z({level:X[Ce].toLowerCase(),message:_e,args:ot,type:xe.name})}}}},259:(gt,De,N)=>{N.d(De,{C6:()=>l.getApps,Mq:()=>l.getApp});var l=N(2951);(0,l.registerVersion)("firebase","9.21.0","app")},9260:(gt,De,N)=>{N.d(De,{Z:()=>l.Z});var l=N(3942);l.Z.registerVersion("firebase","9.21.0","app-compat")},3042:(gt,De,N)=>{N.r(De);var l=N(5861),X=N(3942),O=N(2090),ae=N(2951),oe=N(655),ue=N(1877),ne=N(4859);const Ce=function ze(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},ot=function xe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},_e=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),_t=new ue.Yd("@firebase/auth");function Pe(y,...p){_t.logLevel<=ue.in.ERROR&&_t.error(`Auth (${ae.SDK_VERSION}): ${y}`,...p)}function Ee(y,...p){throw et(y,...p)}function fe(y,...p){return et(y,...p)}function Ge(y,p,m){const b=Object.assign(Object.assign({},ot()),{[p]:m});return new O.LL("auth","Firebase",b).create(p,{appName:y.name})}function He(y,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Ee(y,"argument-error"),Ge(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function et(y,...p){if("string"!=typeof y){const m=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(m,...b)}return _e.create(y,...p)}function ee(y,p,...m){if(!y)throw et(p,...m)}function xt(y){const p="INTERNAL ASSERTION FAILED: "+y;throw Pe(p),new Error(p)}function dt(y,p){y||xt(p)}function Zt(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function lt(){return"http:"===de()||"https:"===de()}function de(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class ke{constructor(p,m){this.shortDelay=p,this.longDelay=m,dt(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function pe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(lt()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ve(y,p){dt(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class Ie{static initialize(p,m,b){this.fetchImpl=p,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void xt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void xt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void xt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Rt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},rn=new ke(3e4,6e4);function Ft(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function Ue(y,p,m,b){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,l.Z)(function*(y,p,m,b,S={}){return Wt(y,S,(0,l.Z)(function*(){let R={},H={};b&&("GET"===p?H=b:R={body:JSON.stringify(b)});const K=(0,O.xO)(Object.assign({key:y.config.apiKey},H)).slice(1),Re=yield y._getAdditionalHeaders();return Re["Content-Type"]="application/json",y.languageCode&&(Re["X-Firebase-Locale"]=y.languageCode),Ie.fetch()(Vi(y,y.config.apiHost,m,K),Object.assign({method:p,headers:Re,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function Wt(y,p,m){return en.apply(this,arguments)}function en(){return(en=(0,l.Z)(function*(y,p,m){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},Rt),p);try{const S=new rr(y),R=yield Promise.race([m(),S.promise]);S.clearNetworkTimeout();const H=yield R.json();if("needConfirmation"in H)throw xi(y,"account-exists-with-different-credential",H);if(R.ok&&!("errorMessage"in H))return H;{const K=R.ok?H.errorMessage:H.error.message,[Re,je]=K.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Re)throw xi(y,"credential-already-in-use",H);if("EMAIL_EXISTS"===Re)throw xi(y,"email-already-in-use",H);if("USER_DISABLED"===Re)throw xi(y,"user-disabled",H);const tt=b[Re]||Re.toLowerCase().replace(/[_\s]+/g,"-");if(je)throw Ge(y,tt,je);Ee(y,tt)}}catch(S){if(S instanceof O.ZR)throw S;Ee(y,"network-request-failed",{message:String(S)})}})).apply(this,arguments)}function On(y,p,m,b){return $n.apply(this,arguments)}function $n(){return($n=(0,l.Z)(function*(y,p,m,b,S={}){const R=yield Ue(y,p,m,b,S);return"mfaPendingCredential"in R&&Ee(y,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function Vi(y,p,m,b){const S=`${p}${m}?${b}`;return y.config.emulator?Ve(y.config,S):`${y.config.apiScheme}://${S}`}class rr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(fe(this.auth,"network-request-failed")),rn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xi(y,p,m){const b={appName:y.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const S=fe(y,p,b);return S.customData._tokenResponse=m,S}function Nr(){return(Nr=(0,l.Z)(function*(y,p){return Ue(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function ka(y,p){return $o.apply(this,arguments)}function $o(){return($o=(0,l.Z)(function*(y,p){return Ue(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ht(y,p){return qi.apply(this,arguments)}function qi(){return(qi=(0,l.Z)(function*(y,p){return Ue(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Fr(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function gr(){return(gr=(0,l.Z)(function*(y,p=!1){const m=(0,O.m9)(y),b=yield m.getIdToken(p),S=Mn(b);ee(S&&S.exp&&S.auth_time&&S.iat,m.auth,"internal-error");const R="object"==typeof S.firebase?S.firebase:void 0,H=R?.sign_in_provider;return{claims:S,token:b,authTime:Fr(ui(S.auth_time)),issuedAtTime:Fr(ui(S.iat)),expirationTime:Fr(ui(S.exp)),signInProvider:H||null,signInSecondFactor:R?.sign_in_second_factor||null}})).apply(this,arguments)}function ui(y){return 1e3*Number(y)}function Mn(y){const[p,m,b]=y.split(".");if(void 0===p||void 0===m||void 0===b)return Pe("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,O.tV)(m);return S?JSON.parse(S):(Pe("Failed to decode base64 JWT payload"),null)}catch(S){return Pe("Caught error parsing JWT payload as JSON",S?.toString()),null}}function it(y,p){return Et.apply(this,arguments)}function Et(){return(Et=(0,l.Z)(function*(y,p,m=!1){if(m)return p;try{return yield p}catch(b){throw b instanceof O.ZR&&bn(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}function bn({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class os{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const S=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,l.Z)(function*(){yield m.iteration()}),b)}iteration(){var p=this;return(0,l.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&p.schedule(!0))}p.schedule()})()}}class sr{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fr(this.lastLoginAt),this.creationTime=Fr(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function si(y){return At.apply(this,arguments)}function At(){return(At=(0,l.Z)(function*(y){var p;const m=y.auth,b=yield y.getIdToken(),S=yield it(y,ht(m,{idToken:b}));ee(S?.users.length,m,"internal-error");const R=S.users[0];y._notifyReloadListener(R);const H=null!==(p=R.providerUserInfo)&&void 0!==p&&p.length?on(R.providerUserInfo):[],K=Go(y.providerData,H),tt=!!y.isAnonymous&&!(y.email&&R.passwordHash||K?.length),at={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:K,metadata:new sr(R.createdAt,R.lastLoginAt),isAnonymous:tt};Object.assign(y,at)})).apply(this,arguments)}function _n(){return(_n=(0,l.Z)(function*(y){const p=(0,O.m9)(y);yield si(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Go(y,p){return[...y.filter(b=>!p.some(S=>S.providerId===b.providerId)),...p]}function on(y){return y.map(p=>{var{providerId:m}=p,b=(0,oe._T)(p,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function ki(){return(ki=(0,l.Z)(function*(y,p){const m=yield Wt(y,{},(0,l.Z)(function*(){const b=(0,O.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:S,apiKey:R}=y.config,H=Vi(y,S,"/v1/token",`key=${R}`),K=yield y._getAdditionalHeaders();return K["Content-Type"]="application/x-www-form-urlencoded",Ie.fetch()(H,{method:"POST",headers:K,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Lr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){ee(p.idToken,"internal-error"),ee(typeof p.idToken<"u","internal-error"),ee(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function sn(y){const p=Mn(y);return ee(p,"internal-error"),ee(typeof p.exp<"u","internal-error"),ee(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var b=this;return(0,l.Z)(function*(){return ee(!b.accessToken||b.refreshToken,p,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var b=this;return(0,l.Z)(function*(){const{accessToken:S,refreshToken:R,expiresIn:H}=yield function di(y,p){return ki.apply(this,arguments)}(p,m);b.updateTokensAndExpiration(S,R,Number(H))})()}updateTokensAndExpiration(p,m,b){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,m){const{refreshToken:b,accessToken:S,expirationTime:R}=m,H=new Lr;return b&&(ee("string"==typeof b,"internal-error",{appName:p}),H.refreshToken=b),S&&(ee("string"==typeof S,"internal-error",{appName:p}),H.accessToken=S),R&&(ee("number"==typeof R,"internal-error",{appName:p}),H.expirationTime=R),H}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Lr,this.toJSON())}_performRefresh(){return xt("not implemented")}}function Vn(y,p){ee("string"==typeof y||typeof y>"u","internal-error",{appName:p})}class Oi{constructor(p){var{uid:m,auth:b,stsTokenManager:S}=p,R=(0,oe._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new os(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new sr(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,l.Z)(function*(){const b=yield it(m,m.stsTokenManager.getToken(m.auth,p));return ee(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(p){return function zo(y){return gr.apply(this,arguments)}(this,p)}reload(){return function Ri(y){return _n.apply(this,arguments)}(this)}_assign(p){this!==p&&(ee(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const m=new Oi(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(p){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var b=this;return(0,l.Z)(function*(){let S=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),S=!0),m&&(yield si(b)),yield b.auth._persistUserIfCurrent(b),S&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,l.Z)(function*(){const m=yield p.getIdToken();return yield it(p,function ss(y,p){return Nr.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var b,S,R,H,K,Re,je,tt;const at=null!==(b=m.displayName)&&void 0!==b?b:void 0,kn=null!==(S=m.email)&&void 0!==S?S:void 0,Wr=null!==(R=m.phoneNumber)&&void 0!==R?R:void 0,rh=null!==(H=m.photoURL)&&void 0!==H?H:void 0,Fv=null!==(K=m.tenantId)&&void 0!==K?K:void 0,Su=null!==(Re=m._redirectEventId)&&void 0!==Re?Re:void 0,Lv=null!==(je=m.createdAt)&&void 0!==je?je:void 0,Vv=null!==(tt=m.lastLoginAt)&&void 0!==tt?tt:void 0,{uid:Ag,emailVerified:sp,isAnonymous:op,providerData:hl,stsTokenManager:sh}=m;ee(Ag&&sh,p,"internal-error");const Mg=Lr.fromJSON(this.name,sh);ee("string"==typeof Ag,p,"internal-error"),Vn(at,p.name),Vn(kn,p.name),ee("boolean"==typeof sp,p,"internal-error"),ee("boolean"==typeof op,p,"internal-error"),Vn(Wr,p.name),Vn(rh,p.name),Vn(Fv,p.name),Vn(Su,p.name),Vn(Lv,p.name),Vn(Vv,p.name);const xg=new Oi({uid:Ag,auth:p,email:kn,emailVerified:sp,displayName:at,isAnonymous:op,photoURL:rh,phoneNumber:Wr,tenantId:Fv,stsTokenManager:Mg,createdAt:Lv,lastLoginAt:Vv});return hl&&Array.isArray(hl)&&(xg.providerData=hl.map(ei=>Object.assign({},ei))),Su&&(xg._redirectEventId=Su),xg}static _fromIdTokenResponse(p,m,b=!1){return(0,l.Z)(function*(){const S=new Lr;S.updateFromServerResponse(m);const R=new Oi({uid:m.localId,auth:p,stsTokenManager:S,isAnonymous:b});return yield si(R),R})()}}const as=new Map;function zn(y){dt(y instanceof Function,"Expected a class definition");let p=as.get(y);return p?(dt(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,as.set(y,p),p)}const Wi=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(m,b){var S=this;return(0,l.Z)(function*(){S.storage[m]=b})()}_get(m){var b=this;return(0,l.Z)(function*(){const S=b.storage[m];return void 0===S?null:S})()}_remove(m){var b=this;return(0,l.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return y.type="NONE",y})();function U(y,p,m){return`firebase:${y}:${p}:${m}`}class V{constructor(p,m,b){this.persistence=p,this.auth=m,this.userKey=b;const{config:S,name:R}=this.auth;this.fullUserKey=U(this.userKey,S.apiKey,R),this.fullPersistenceKey=U("persistence",S.apiKey,R),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,l.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?Oi._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,l.Z)(function*(){if(m.persistence===p)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,b="authUser"){return(0,l.Z)(function*(){if(!m.length)return new V(zn(Wi),p,b);const S=(yield Promise.all(m.map(function(){var je=(0,l.Z)(function*(tt){if(yield tt._isAvailable())return tt});return function(tt){return je.apply(this,arguments)}}()))).filter(je=>je);let R=S[0]||zn(Wi);const H=U(b,p.config.apiKey,p.name);let K=null;for(const je of m)try{const tt=yield je._get(H);if(tt){const at=Oi._fromJSON(p,tt);je!==R&&(K=at),R=je;break}}catch{}const Re=S.filter(je=>je._shouldAllowMigration);return R._shouldAllowMigration&&Re.length?(R=Re[0],K&&(yield R._set(H,K.toJSON())),yield Promise.all(m.map(function(){var je=(0,l.Z)(function*(tt){if(tt!==R)try{yield tt._remove(H)}catch{}});return function(tt){return je.apply(this,arguments)}}())),new V(R,p,b)):new V(R,p,b)})()}}function q(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Mt(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(le(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(hn(p))return"Blackberry";if(Be(p))return"Webos";if(Y(p))return"Safari";if((p.includes("chrome/")||qe(p))&&!p.includes("edge/"))return"Chrome";if(Lt(p))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function le(y=(0,O.z$)()){return/firefox\//i.test(y)}function Y(y=(0,O.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function qe(y=(0,O.z$)()){return/crios\//i.test(y)}function Mt(y=(0,O.z$)()){return/iemobile/i.test(y)}function Lt(y=(0,O.z$)()){return/android/i.test(y)}function hn(y=(0,O.z$)()){return/blackberry/i.test(y)}function Be(y=(0,O.z$)()){return/webos/i.test(y)}function ct(y=(0,O.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function En(y=(0,O.z$)()){return ct(y)||Lt(y)||Be(y)||hn(y)||/windows phone/i.test(y)||Mt(y)}function re(y,p=[]){let m;switch(y){case"Browser":m=q((0,O.z$)());break;case"Worker":m=`${q((0,O.z$)())}-${y}`;break;default:m=y}const b=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${ae.SDK_VERSION}/${b}`}function Oe(){return(Oe=(0,l.Z)(function*(y){return(yield Ue(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ne(y,p){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,l.Z)(function*(y,p){return Ue(y,"GET","/v2/recaptchaConfig",Ft(y,p))})).apply(this,arguments)}function Vt(y){return void 0!==y&&void 0!==y.getResponse}function an(y){return void 0!==y&&void 0!==y.enterprise}class Pn{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(m=>"EMAIL_PASSWORD_PROVIDER"===m.provider&&"OFF"!==m.enforcementState)}}function Ni(y){return new Promise((p,m)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=p,b.onerror=S=>{const R=fe("internal-error");R.customData=S,m(R)},b.type="text/javascript",b.charset="UTF-8",function Qt(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(b)})}function _r(y){return`__${y}${Math.floor(1e6*Math.random())}`}class Cn{constructor(p){this.type="recaptcha-enterprise",this.auth=fn(p)}verify(p="verify",m=!1){var b=this;return(0,l.Z)(function*(){function R(){return R=(0,l.Z)(function*(K){if(!m){if(null==K.tenantId&&null!=K._agentRecaptchaConfig)return K._agentRecaptchaConfig.siteKey;if(null!=K.tenantId&&void 0!==K._tenantRecaptchaConfigs[K.tenantId])return K._tenantRecaptchaConfigs[K.tenantId].siteKey}return new Promise(function(){var Re=(0,l.Z)(function*(je,tt){Ne(K,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(at=>{if(void 0!==at.recaptchaKey){const kn=new Pn(at);return null==K.tenantId?K._agentRecaptchaConfig=kn:K._tenantRecaptchaConfigs[K.tenantId]=kn,je(kn.siteKey)}tt(new Error("recaptcha Enterprise site key undefined"))}).catch(at=>{tt(at)})});return function(je,tt){return Re.apply(this,arguments)}}())}),R.apply(this,arguments)}function H(K,Re,je){const tt=window.grecaptcha;an(tt)?tt.enterprise.ready(()=>{tt.enterprise.execute(K,{action:p}).then(at=>{Re(at)}).catch(()=>{Re("NO_RECAPTCHA")})}):je(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((K,Re)=>{(function S(K){return R.apply(this,arguments)})(b.auth).then(je=>{if(!m&&an(window.grecaptcha))H(je,K,Re);else{if(typeof window>"u")return void Re(new Error("RecaptchaVerifier is only supported in browser"));Ni("https://www.google.com/recaptcha/enterprise.js?render="+je).then(()=>{H(je,K,Re)}).catch(tt=>{Re(tt)})}}).catch(je=>{Re(je)})})})()}}function ls(y,p,m){return Al.apply(this,arguments)}function Al(){return(Al=(0,l.Z)(function*(y,p,m,b=!1){const S=new Cn(y);let R;try{R=yield S.verify(m)}catch{R=yield S.verify(m,!0)}const H=Object.assign({},p);return Object.assign(H,b?{captchaResp:R}:{captchaResponse:R}),Object.assign(H,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(H,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),H})).apply(this,arguments)}class go{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const b=R=>new Promise((H,K)=>{try{H(p(R))}catch(Re){K(Re)}});b.onAbort=m,this.queue.push(b);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,l.Z)(function*(){if(m.auth.currentUser===p)return;const b=[];try{for(const S of m.queue)yield S(p),S.onAbort&&b.push(S.onAbort)}catch(S){b.reverse();for(const R of b)try{R()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:S?.message})}})()}}class Bc{constructor(p,m,b,S){this.app=p,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=b,this.config=S,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gs(this),this.idTokenSubscription=new Gs(this),this.beforeStateQueue=new go(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_e,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=S.sdkClientVersion}_initializeWithPersistence(p,m){var b=this;return m&&(this._popupRedirectResolver=zn(m)),this._initializationPromise=this.queue((0,l.Z)(function*(){var S,R;if(!b._deleted&&(b.persistenceManager=yield V.create(b,p),!b._deleted)){if(null!==(S=b._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(R=b.currentUser)||void 0===R?void 0:R.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,l.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,l.Z)(function*(){var b;const S=yield m.assertedPersistence.getCurrentUser();let R=S,H=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const K=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,Re=R?._redirectEventId,je=yield m.tryRedirectSignIn(p);(!K||K===Re)&&je?.user&&(R=je.user,H=!0)}if(!R)return m.directlySetCurrentUser(null);if(!R._redirectEventId){if(H)try{yield m.beforeStateQueue.runMiddleware(R)}catch(K){R=S,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(K))}return R?m.reloadAndSetCurrentUserOrClear(R):m.directlySetCurrentUser(null)}return ee(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===R._redirectEventId?m.directlySetCurrentUser(R):m.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(p){var m=this;return(0,l.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,l.Z)(function*(){try{yield si(p)}catch(b){if("auth/network-request-failed"!==b?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Te(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,l.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,l.Z)(function*(){const b=p?(0,O.m9)(p):null;return b&&ee(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(p,m=!1){var b=this;return(0,l.Z)(function*(){if(!b._deleted)return p&&ee(b.tenantId===p.tenantId,b,"tenant-id-mismatch"),m||(yield b.beforeStateQueue.runMiddleware(p)),b.queue((0,l.Z)(function*(){yield b.directlySetCurrentUser(p),b.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,l.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,l.Z)(function*(){yield m.assertedPersistence.setPersistence(zn(p))}))}initializeRecaptchaConfig(){var p=this;return(0,l.Z)(function*(){const m=yield Ne(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),b=new Pn(m);null==p.tenantId?p._agentRecaptchaConfig=b:p._tenantRecaptchaConfigs[p.tenantId]=b,b.emailPasswordEnabled&&new Cn(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new O.LL("auth","Firebase",p())}onAuthStateChanged(p,m,b){return this.registerStateListener(this.authStateSubscription,p,m,b)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,b){return this.registerStateListener(this.idTokenSubscription,p,m,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var b=this;return(0,l.Z)(function*(){const S=yield b.getOrInitRedirectPersistenceManager(m);return null===p?S.removeCurrentUser():S.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,l.Z)(function*(){if(!m.redirectPersistenceManager){const b=p&&zn(p)||m._popupRedirectResolver;ee(b,m,"argument-error"),m.redirectPersistenceManager=yield V.create(m,[zn(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,l.Z)(function*(){var b,S;return m._isInitialized&&(yield m.queue((0,l.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===p?m._currentUser:(null===(S=m.redirectUser)||void 0===S?void 0:S._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,l.Z)(function*(){if(p===m.currentUser)return m.queue((0,l.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,b,S){if(this._deleted)return()=>{};const R="function"==typeof m?m:m.next.bind(m),H=this._isInitialized?Promise.resolve():this._initializationPromise;return ee(H,this,"internal-error"),H.then(()=>R(this.currentUser)),"function"==typeof m?p.addObserver(m,b,S):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,l.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=re(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,l.Z)(function*(){var m;const b={"X-Client-Version":p.clientVersion};p.app.options.appId&&(b["X-Firebase-gmpid"]=p.app.options.appId);const S=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();S&&(b["X-Firebase-Client"]=S);const R=yield p._getAppCheckToken();return R&&(b["X-Firebase-AppCheck"]=R),b})()}_getAppCheckToken(){var p=this;return(0,l.Z)(function*(){var m;const b=yield null===(m=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return b?.error&&function Dt(y,...p){_t.logLevel<=ue.in.WARN&&_t.warn(`Auth (${ae.SDK_VERSION}): ${y}`,...p)}(`Error while retrieving App Check token: ${b.error}`),b?.token})()}}function fn(y){return(0,O.m9)(y)}class Gs{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,O.ne)(m=>this.observer=m)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function hi(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function Wo(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class Ts{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return xt("not implemented")}_getIdTokenResponse(p){return xt("not implemented")}_linkToIdToken(p,m){return xt("not implemented")}_getReauthenticationResolver(p){return xt("not implemented")}}function Br(y,p){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,l.Z)(function*(y,p){return Ue(y,"POST","/v1/accounts:resetPassword",Ft(y,p))})).apply(this,arguments)}function cd(y,p){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,l.Z)(function*(y,p){return Ue(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ud(y,p){return cf.apply(this,arguments)}function cf(){return(cf=(0,l.Z)(function*(y,p){return Ue(y,"POST","/v1/accounts:update",Ft(y,p))})).apply(this,arguments)}function Tn(y,p){return dd.apply(this,arguments)}function dd(){return(dd=(0,l.Z)(function*(y,p){return On(y,"POST","/v1/accounts:signInWithPassword",Ft(y,p))})).apply(this,arguments)}function Hc(y,p){return hd.apply(this,arguments)}function hd(){return(hd=(0,l.Z)(function*(y,p){return Ue(y,"POST","/v1/accounts:sendOobCode",Ft(y,p))})).apply(this,arguments)}function uf(y,p){return fd.apply(this,arguments)}function fd(){return(fd=(0,l.Z)(function*(y,p){return Hc(y,p)})).apply(this,arguments)}function xl(y,p){return df.apply(this,arguments)}function df(){return(df=(0,l.Z)(function*(y,p){return Hc(y,p)})).apply(this,arguments)}function pd(y,p){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,l.Z)(function*(y,p){return Hc(y,p)})).apply(this,arguments)}function eg(y,p){return jc.apply(this,arguments)}function jc(){return(jc=(0,l.Z)(function*(y,p){return Hc(y,p)})).apply(this,arguments)}function $c(){return($c=(0,l.Z)(function*(y,p){return On(y,"POST","/v1/accounts:signInWithEmailLink",Ft(y,p))})).apply(this,arguments)}function hf(){return(hf=(0,l.Z)(function*(y,p){return On(y,"POST","/v1/accounts:signInWithEmailLink",Ft(y,p))})).apply(this,arguments)}class zc extends Ts{constructor(p,m,b,S=null){super("password",b),this._email=p,this._password=m,this._tenantId=S}static _fromEmailAndPassword(p,m){return new zc(p,m,"password")}static _fromEmailAndCode(p,m,b=null){return new zc(p,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,l.Z)(function*(){var b;switch(m.signInMethod){case"password":const S={returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(b=p._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const R=yield ls(p,S,"signInWithPassword");return Tn(p,R)}return Tn(p,S).catch(function(){var R=(0,l.Z)(function*(H){if("auth/missing-recaptcha-token"===H.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const K=yield ls(p,S,"signInWithPassword");return Tn(p,K)}return Promise.reject(H)});return function(H){return R.apply(this,arguments)}}());case"emailLink":return function md(y,p){return $c.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Ee(p,"internal-error")}})()}_linkToIdToken(p,m){var b=this;return(0,l.Z)(function*(){switch(b.signInMethod){case"password":return cd(p,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function gd(y,p){return hf.apply(this,arguments)}(p,{idToken:m,email:b._email,oobCode:b._password});default:Ee(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Ur(y,p){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,l.Z)(function*(y,p){return On(y,"POST","/v1/accounts:signInWithIdp",Ft(y,p))})).apply(this,arguments)}class yr extends Ts{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new yr(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Ee("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:S}=m,R=(0,oe._T)(m,["providerId","signInMethod"]);if(!b||!S)return null;const H=new yr(b,S);return H.idToken=R.idToken||void 0,H.accessToken=R.accessToken||void 0,H.secret=R.secret,H.nonce=R.nonce,H.pendingToken=R.pendingToken||null,H}_getIdTokenResponse(p){return Ur(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,Ur(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Ur(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,O.xO)(m)}return p}}function Yo(y,p){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,l.Z)(function*(y,p){return Ue(y,"POST","/v1/accounts:sendVerificationCode",Ft(y,p))})).apply(this,arguments)}function kl(){return(kl=(0,l.Z)(function*(y,p){return On(y,"POST","/v1/accounts:signInWithPhoneNumber",Ft(y,p))})).apply(this,arguments)}function _o(){return(_o=(0,l.Z)(function*(y,p){const m=yield On(y,"POST","/v1/accounts:signInWithPhoneNumber",Ft(y,p));if(m.temporaryProof)throw xi(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Ol={USER_NOT_FOUND:"user-not-found"};function _i(){return(_i=(0,l.Z)(function*(y,p){return On(y,"POST","/v1/accounts:signInWithPhoneNumber",Ft(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Ol)})).apply(this,arguments)}class Bi extends Ts{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new Bi({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new Bi({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function Gc(y,p){return kl.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function pf(y,p){return _o.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function mf(y,p){return _i.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:b,verificationCode:S}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:b,code:S}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:b,phoneNumber:S,temporaryProof:R}=p;return b||m||S||R?new Bi({verificationId:m,verificationCode:b,phoneNumber:S,temporaryProof:R}):null}}class Nl{constructor(p){var m,b,S,R,H,K;const Re=(0,O.zd)((0,O.pd)(p)),je=null!==(m=Re.apiKey)&&void 0!==m?m:null,tt=null!==(b=Re.oobCode)&&void 0!==b?b:null,at=function gf(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Re.mode)&&void 0!==S?S:null);ee(je&&tt&&at,"argument-error"),this.apiKey=je,this.operation=at,this.code=tt,this.continueUrl=null!==(R=Re.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(H=Re.languageCode)&&void 0!==H?H:null,this.tenantId=null!==(K=Re.tenantId)&&void 0!==K?K:null}static parseLink(p){const m=function Pl(y){const p=(0,O.zd)((0,O.pd)(y)).link,m=p?(0,O.zd)((0,O.pd)(p)).deep_link_id:null,b=(0,O.zd)((0,O.pd)(y)).deep_link_id;return(b?(0,O.zd)((0,O.pd)(b)).link:null)||b||m||p||y}(p);try{return new Nl(m)}catch{return null}}}let Gn=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,b){return zc._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const S=Nl.parseLink(b);return ee(S,"argument-error"),zc._fromEmailAndCode(m,S.code,S.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class As{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Fl extends As{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class vr extends Fl{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return ee("providerId"in m&&"signInMethod"in m,"argument-error"),yr._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return ee(p.idToken||p.accessToken,"argument-error"),yr._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return vr.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return vr.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:S,pendingToken:R,nonce:H,providerId:K}=p;if(!b&&!S&&!m&&!R||!K)return null;try{return new vr(K)._credential({idToken:m,accessToken:b,nonce:H,pendingToken:R})}catch{return null}}}let Yi=(()=>{class y extends Fl{constructor(){super("facebook.com")}static credential(m){return yr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),qc=(()=>{class y extends Fl{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return yr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:S}=m;if(!b&&!S)return null;try{return y.credential(b,S)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Ll=(()=>{class y extends Fl{constructor(){super("github.com")}static credential(m){return yr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class qn extends Ts{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return Ur(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,Ur(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Ur(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:S,pendingToken:R}=m;return b&&S&&R&&b===S?new qn(b,R):null}static _create(p,m){return new qn(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class qs extends As{constructor(p){ee(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return qs.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return qs.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=qn.fromJSON(p);return ee(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:b}=p;if(!m||!b)return null;try{return qn._create(b,m)}catch{return null}}}let _d=(()=>{class y extends Fl{constructor(){super("twitter.com")}static credential(m,b){return yr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:S}=m;if(!b||!S)return null;try{return y.credential(b,S)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Hr(y,p){return yo.apply(this,arguments)}function yo(){return(yo=(0,l.Z)(function*(y,p){return On(y,"POST","/v1/accounts:signUp",Ft(y,p))})).apply(this,arguments)}class lr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,b,S=!1){return(0,l.Z)(function*(){const R=yield Oi._fromIdTokenResponse(p,b,S),H=Ct(b);return new lr({user:R,providerId:H,_tokenResponse:b,operationType:m})})()}static _forOperation(p,m,b){return(0,l.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const S=Ct(b);return new lr({user:p,providerId:S,_tokenResponse:b,operationType:m})})()}}function Ct(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function yd(){return(yd=(0,l.Z)(function*(y){var p;const m=fn(y);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new lr({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield Hr(m,{returnSecureToken:!0}),S=yield lr._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class Na extends O.ZR{constructor(p,m,b,S){var R;super(m.code,m.message),this.operationType=b,this.user=S,Object.setPrototypeOf(this,Na.prototype),this.customData={appName:p.name,tenantId:null!==(R=p.tenantId)&&void 0!==R?R:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,m,b,S){return new Na(p,m,b,S)}}function vd(y,p,m,b){return("reauthenticate"===p?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?Na._fromErrorAndOperation(y,R,p,b):R})}function Zc(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function Fa(){return(Fa=(0,l.Z)(function*(y,p){const m=(0,O.m9)(y);yield Kt(!0,m,p);const{providerUserInfo:b}=yield ka(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),S=Zc(b||[]);return m.providerData=m.providerData.filter(R=>S.has(R.providerId)),S.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function wd(y,p){return Se.apply(this,arguments)}function Se(){return(Se=(0,l.Z)(function*(y,p,m=!1){const b=yield it(y,p._linkToIdToken(y.auth,yield y.getIdToken()),m);return lr._forOperation(y,"link",b)})).apply(this,arguments)}function Kt(y,p,m){return us.apply(this,arguments)}function us(){return(us=(0,l.Z)(function*(y,p,m){yield si(p);const S=!1===y?"provider-already-linked":"no-such-provider";ee(Zc(p.providerData).has(m)===y,p.auth,S)})).apply(this,arguments)}function La(y,p){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,l.Z)(function*(y,p,m=!1){const{auth:b}=y,S="reauthenticate";try{const R=yield it(y,vd(b,S,p,y),m);ee(R.idToken,b,"internal-error");const H=Mn(R.idToken);ee(H,b,"internal-error");const{sub:K}=H;return ee(y.uid===K,b,"user-mismatch"),lr._forOperation(y,S,R)}catch(R){throw"auth/user-not-found"===R?.code&&Ee(b,"user-mismatch"),R}})).apply(this,arguments)}function Vl(y,p){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,l.Z)(function*(y,p,m=!1){const b="signIn",S=yield vd(y,b,p),R=yield lr._fromIdTokenResponse(y,b,S);return m||(yield y._updateCurrentUser(R.user)),R})).apply(this,arguments)}function Ui(y,p){return vo.apply(this,arguments)}function vo(){return(vo=(0,l.Z)(function*(y,p){return Vl(fn(y),p)})).apply(this,arguments)}function Wc(y,p){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,l.Z)(function*(y,p){const m=(0,O.m9)(y);return yield Kt(!1,m,p.providerId),wd(m,p)})).apply(this,arguments)}function xn(y,p){return _f.apply(this,arguments)}function _f(){return(_f=(0,l.Z)(function*(y,p){return La((0,O.m9)(y),p)})).apply(this,arguments)}function yi(y,p){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,l.Z)(function*(y,p){return On(y,"POST","/v1/accounts:signInWithCustomToken",Ft(y,p))})).apply(this,arguments)}function Kc(){return(Kc=(0,l.Z)(function*(y,p){const m=fn(y),b=yield yi(m,{token:p,returnSecureToken:!0}),S=yield lr._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class jr{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?br._fromServerResponse(p,m):"totpInfo"in m?Ul._fromServerResponse(p,m):Ee(p,"internal-error")}}class br extends jr{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new br(m)}}class Ul extends jr{constructor(p){super("totp",p)}static _fromServerResponse(p,m){return new Ul(m)}}function Zs(y,p,m){var b;ee((null===(b=m.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),ee(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(ee(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(ee(m.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function Qo(){return Qo=(0,l.Z)(function*(y,p,m){var b;const S=fn(y),R={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(b=S._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const H=yield ls(S,R,"getOobCode",!0);m&&Zs(S,H,m),yield xl(S,H)}else m&&Zs(S,R,m),yield xl(S,R).catch(function(){var H=(0,l.Z)(function*(K){if("auth/missing-recaptcha-token"!==K.code)return Promise.reject(K);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Re=yield ls(S,R,"getOobCode",!0);m&&Zs(S,Re,m),yield xl(S,Re)}});return function(K){return H.apply(this,arguments)}}())}),Qo.apply(this,arguments)}function Va(){return(Va=(0,l.Z)(function*(y,p,m){yield Br((0,O.m9)(y),{oobCode:p,newPassword:m})})).apply(this,arguments)}function $r(){return($r=(0,l.Z)(function*(y,p){yield ud((0,O.m9)(y),{oobCode:p})})).apply(this,arguments)}function Cd(y,p){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,l.Z)(function*(y,p){const m=(0,O.m9)(y),b=yield Br(m,{oobCode:p}),S=b.requestType;switch(ee(S,m,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ee(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ee(b.mfaInfo,m,"internal-error");default:ee(b.email,m,"internal-error")}let R=null;return b.mfaInfo&&(R=jr._fromServerResponse(fn(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:R},operation:S}})).apply(this,arguments)}function bo(){return(bo=(0,l.Z)(function*(y,p){const{data:m}=yield Cd((0,O.m9)(y),p);return m.email})).apply(this,arguments)}function Ua(){return Ua=(0,l.Z)(function*(y,p,m){var b;const S=fn(y),R={returnSecureToken:!0,email:p,password:m,clientType:"CLIENT_TYPE_WEB"};let H;if(null!==(b=S._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const je=yield ls(S,R,"signUpPassword");H=Hr(S,je)}else H=Hr(S,R).catch(function(){var je=(0,l.Z)(function*(tt){if("auth/missing-recaptcha-token"===tt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const at=yield ls(S,R,"signUpPassword");return Hr(S,at)}return Promise.reject(tt)});return function(tt){return je.apply(this,arguments)}}());const K=yield H.catch(je=>Promise.reject(je)),Re=yield lr._fromIdTokenResponse(S,"signIn",K);return yield S._updateCurrentUser(Re.user),Re}),Ua.apply(this,arguments)}function Td(){return Td=(0,l.Z)(function*(y,p,m){var b;const S=fn(y),R={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function H(K,Re){ee(Re.handleCodeInApp,S,"argument-error"),Re&&Zs(S,K,Re)}if(null!==(b=S._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const K=yield ls(S,R,"getOobCode",!0);H(K,m),yield pd(S,K)}else H(R,m),yield pd(S,R).catch(function(){var K=(0,l.Z)(function*(Re){if("auth/missing-recaptcha-token"!==Re.code)return Promise.reject(Re);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const je=yield ls(S,R,"getOobCode",!0);H(je,m),yield pd(S,je)}});return function(Re){return K.apply(this,arguments)}}())}),Td.apply(this,arguments)}function xs(){return(xs=(0,l.Z)(function*(y,p,m){const b=(0,O.m9)(y),S=Gn.credentialWithLink(p,m||Zt());return ee(S._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Ui(b,S)})).apply(this,arguments)}function Un(y,p){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,l.Z)(function*(y,p){return Ue(y,"POST","/v1/accounts:createAuthUri",Ft(y,p))})).apply(this,arguments)}function Ad(){return(Ad=(0,l.Z)(function*(y,p){const b={identifier:p,continueUri:lt()?Zt():"http://localhost"},{signinMethods:S}=yield Un((0,O.m9)(y),b);return S||[]})).apply(this,arguments)}function xd(){return(xd=(0,l.Z)(function*(y,p){const m=(0,O.m9)(y),S={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&Zs(m.auth,S,p);const{email:R}=yield uf(m.auth,S);R!==y.email&&(yield y.reload())})).apply(this,arguments)}function wo(){return(wo=(0,l.Z)(function*(y,p,m){const b=(0,O.m9)(y),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};m&&Zs(b.auth,R,m);const{email:H}=yield eg(b.auth,R);H!==y.email&&(yield y.reload())})).apply(this,arguments)}function zl(y,p){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,l.Z)(function*(y,p){return Ue(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ha(){return(Ha=(0,l.Z)(function*(y,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const b=(0,O.m9)(y),R={idToken:yield b.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},H=yield it(b,zl(b.auth,R));b.displayName=H.displayName||null,b.photoURL=H.photoUrl||null;const K=b.providerData.find(({providerId:Re})=>"password"===Re);K&&(K.displayName=b.displayName,K.photoURL=b.photoURL),yield b._updateTokensIfNecessary(H)})).apply(this,arguments)}function ja(y,p,m){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,l.Z)(function*(y,p,m){const{auth:b}=y,R={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(R.email=p),m&&(R.password=m);const H=yield it(y,cd(b,R));yield y._updateTokensIfNecessary(H,!0)})).apply(this,arguments)}class ks{constructor(p,m,b={}){this.isNewUser=p,this.providerId=m,this.profile=b}}class $a extends ks{constructor(p,m,b,S){super(p,m,b),this.username=S}}class wf extends ks{constructor(p,m){super(p,"facebook.com",m)}}class Od extends $a{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Pd extends ks{constructor(p,m){super(p,"google.com",m)}}class ql extends $a{constructor(p,m,b){super(p,"twitter.com",m,b)}}function Zl(y){const{user:p,_tokenResponse:m}=y;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function ng(y){var p,m;if(!y)return null;const{providerId:b}=y,S=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},R=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&y?.idToken){const H=null===(m=null===(p=Mn(y.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(H)return new ks(R,"anonymous"!==H&&"custom"!==H?H:null)}if(!b)return null;switch(b){case"facebook.com":return new wf(R,S);case"github.com":return new Od(R,S);case"google.com":return new Pd(R,S);case"twitter.com":return new ql(R,S,y.screenName||null);case"custom":case"anonymous":return new ks(R,null);default:return new ks(R,b,S)}}(m)}class fs{constructor(p,m,b){this.type=p,this.credential=m,this.auth=b}static _fromIdtoken(p,m){return new fs("enroll",p,m)}static _fromMfaPendingCredential(p){return new fs("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,b;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return fs._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(b=p.multiFactorSession)&&void 0!==b&&b.idToken)return fs._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Ks{constructor(p,m,b){this.session=p,this.hints=m,this.signInResolver=b}static _fromError(p,m){const b=fn(p),S=m.customData._serverResponse,R=(S.mfaInfo||[]).map(K=>jr._fromServerResponse(b,K));ee(S.mfaPendingCredential,b,"internal-error");const H=fs._fromMfaPendingCredential(S.mfaPendingCredential);return new Ks(H,R,function(){var K=(0,l.Z)(function*(Re){const je=yield Re._process(b,H);delete S.mfaInfo,delete S.mfaPendingCredential;const tt=Object.assign(Object.assign({},S),{idToken:je.idToken,refreshToken:je.refreshToken});switch(m.operationType){case"signIn":const at=yield lr._fromIdTokenResponse(b,m.operationType,tt);return yield b._updateCurrentUser(at.user),at;case"reauthenticate":return ee(m.user,b,"internal-error"),lr._forOperation(m.user,m.operationType,tt);default:Ee(b,"internal-error")}});return function(Re){return K.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,l.Z)(function*(){return m.signInResolver(p)})()}}function Xc(y,p){return Ue(y,"POST","/v2/accounts/mfaEnrollment:start",Ft(y,p))}class oi{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>jr._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new oi(p)}getSession(){var p=this;return(0,l.Z)(function*(){return fs._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var b=this;return(0,l.Z)(function*(){const S=p,R=yield b.getSession(),H=yield it(b.user,S._process(b.user.auth,R,m));return yield b.user._updateTokensIfNecessary(H),b.user.reload()})()}unenroll(p){var m=this;return(0,l.Z)(function*(){const b="string"==typeof p?p:p.uid,S=yield m.user.getIdToken();try{const R=yield it(m.user,function eu(y,p){return Ue(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Ft(y,p))}(m.user.auth,{idToken:S,mfaEnrollmentId:b}));m.enrolledFactors=m.enrolledFactors.filter(({uid:H})=>H!==b),yield m.user._updateTokensIfNecessary(R),yield m.user.reload()}catch(R){throw R}})()}}const ea=new WeakMap,Eo="__sak";class Ql{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Eo,"1"),this.storage.removeItem(Eo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const ps=(()=>{class y extends Ql{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Cf(){const y=(0,O.z$)();return Y(y)||ct(y)}()&&function Vr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=En(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const S=this.storage.getItem(b),R=this.localCache[b];S!==R&&m(b,R,S)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((K,Re,je)=>{this.notifyListeners(K,je)});const S=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const K=this.storage.getItem(S);if(m.newValue!==K)null!==m.newValue?this.storage.setItem(S,m.newValue):this.storage.removeItem(S);else if(this.localCache[S]===m.newValue&&!b)return}const R=()=>{const K=this.storage.getItem(S);!b&&this.localCache[S]===K||this.notifyListeners(S,K)},H=this.storage.getItem(S);!function Pi(){return(0,O.w1)()&&10===document.documentMode}()||H===m.newValue||m.newValue===m.oldValue?R():setTimeout(R,10)}notifyListeners(m,b){this.localCache[m]=b;const S=this.listeners[m];if(S)for(const R of Array.from(S))R(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var S=()=>super._set,R=this;return(0,l.Z)(function*(){yield S().call(R,m,b),R.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,S=this;return(0,l.Z)(function*(){const R=yield b().call(S,m);return S.localCache[m]=JSON.stringify(R),R})()}_remove(m){var b=()=>super._remove,S=this;return(0,l.Z)(function*(){yield b().call(S,m),delete S.localCache[m]})()}}return y.type="LOCAL",y})(),Ys=(()=>{class y extends Ql{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return y.type="SESSION",y})();let Fd=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(R=>R.isListeningto(m));if(b)return b;const S=new y(m);return this.receivers.push(S),S}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,l.Z)(function*(){const S=m,{eventId:R,eventType:H,data:K}=S.data,Re=b.handlersMap[H];if(!Re?.size)return;S.ports[0].postMessage({status:"ack",eventId:R,eventType:H});const je=Array.from(Re).map(function(){var at=(0,l.Z)(function*(kn){return kn(S.origin,K)});return function(kn){return at.apply(this,arguments)}}()),tt=yield function Nd(y){return Promise.all(y.map(function(){var p=(0,l.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return p.apply(this,arguments)}}()))}(je);S.ports[0].postMessage({status:"done",eventId:R,eventType:H,response:tt})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function zr(y="",p=10){let m="";for(let b=0;b<p;b++)m+=Math.floor(10*Math.random());return y+m}class If{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,b=50){var S=this;return(0,l.Z)(function*(){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let H,K;return new Promise((Re,je)=>{const tt=zr("",20);R.port1.start();const at=setTimeout(()=>{je(new Error("unsupported_event"))},b);K={messageChannel:R,onMessage(kn){const Wr=kn;if(Wr.data.eventId===tt)switch(Wr.data.status){case"ack":clearTimeout(at),H=setTimeout(()=>{je(new Error("timeout"))},3e3);break;case"done":clearTimeout(H),Re(Wr.data.response);break;default:clearTimeout(at),clearTimeout(H),je(new Error("invalid_response"))}}},S.handlers.add(K),R.port1.addEventListener("message",K.onMessage),S.target.postMessage({eventType:p,eventId:tt,data:m},[R.port2])}).finally(()=>{K&&S.removeMessageHandler(K)})})()}}function Hn(){return window}function Ka(){return typeof Hn().WorkerGlobalScope<"u"&&"function"==typeof Hn().importScripts}function Xl(){return(Xl=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ps="firebaseLocalStorageDb",ia="firebaseLocalStorage",Qs="fbase_key";class ra{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Ya(y,p){return y.transaction([ia],p?"readwrite":"readonly").objectStore(ia)}function iu(){const y=indexedDB.open(Ps,1);return new Promise((p,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore(ia,{keyPath:Qs})}catch(S){m(S)}}),y.addEventListener("success",(0,l.Z)(function*(){const b=y.result;b.objectStoreNames.contains(ia)?p(b):(b.close(),yield function cn(){const y=indexedDB.deleteDatabase(Ps);return new ra(y).toPromise()}(),p(yield iu()))}))})}function Jl(y,p,m){return Df.apply(this,arguments)}function Df(){return(Df=(0,l.Z)(function*(y,p,m){const b=Ya(y,!0).put({[Qs]:p,value:m});return new ra(b).toPromise()})).apply(this,arguments)}function Tf(){return(Tf=(0,l.Z)(function*(y,p){const m=Ya(y,!1).get(p),b=yield new ra(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function ru(y,p){const m=Ya(y,!0).delete(p);return new ra(m).toPromise()}const sa=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,l.Z)(function*(){return m.db||(m.db=yield iu()),m.db})()}_withRetries(m){var b=this;return(0,l.Z)(function*(){let S=0;for(;;)try{const R=yield b._openDb();return yield m(R)}catch(R){if(S++>3)throw R;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,l.Z)(function*(){return Ka()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,l.Z)(function*(){m.receiver=Fd._getInstance(function na(){return Ka()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,l.Z)(function*(S,R){return{keyProcessed:(yield m._poll()).includes(R.key)}});return function(S,R){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,l.Z)(function*(S,R){return["keyChanged"]});return function(S,R){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,l.Z)(function*(){var b,S;if(m.activeServiceWorker=yield function nu(){return Xl.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new If(m.activeServiceWorker);const R=yield m.sender._send("ping",{},800);!R||(null===(b=R[0])||void 0===b?void 0:b.fulfilled)&&(null===(S=R[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,l.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Os(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const m=yield iu();return yield Jl(m,Eo,"1"),yield ru(m,Eo),!0}catch{}return!1})()}_withPendingWrite(m){var b=this;return(0,l.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var S=this;return(0,l.Z)(function*(){return S._withPendingWrite((0,l.Z)(function*(){return yield S._withRetries(R=>Jl(R,m,b)),S.localCache[m]=b,S.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,l.Z)(function*(){const S=yield b._withRetries(R=>function Vd(y,p){return Tf.apply(this,arguments)}(R,m));return b.localCache[m]=S,S})()}_remove(m){var b=this;return(0,l.Z)(function*(){return b._withPendingWrite((0,l.Z)(function*(){return yield b._withRetries(S=>ru(S,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,l.Z)(function*(){const b=yield m._withRetries(H=>{const K=Ya(H,!1).getAll();return new ra(K).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const S=[],R=new Set;for(const{fbase_key:H,value:K}of b)R.add(H),JSON.stringify(m.localCache[H])!==JSON.stringify(K)&&(m.notifyListeners(H,K),S.push(H));for(const H of Object.keys(m.localCache))m.localCache[H]&&!R.has(H)&&(m.notifyListeners(H,null),S.push(H));return S})()}notifyListeners(m,b){this.localCache[m]=b;const S=this.listeners[m];if(S)for(const R of Array.from(S))R(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Xn(y,p){return Ue(y,"POST","/v2/accounts/mfaSignIn:start",Ft(y,p))}const fi=1e12;class Er{constructor(p){this.auth=p,this.counter=fi,this._widgets=new Map}render(p,m){const b=this.counter;return this._widgets.set(b,new Af(p,this.auth.name,m||{})),this.counter++,b}reset(p){var m;const b=p||fi;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(p){var m;return(null===(m=this._widgets.get(p||fi))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,l.Z)(function*(){var b;return null===(b=m._widgets.get(p||fi))||void 0===b||b.execute(),""})()}}class Af{constructor(p,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof p?document.getElementById(p):p;ee(S,"argument-error",{appName:m}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Cr(y){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<y;b++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Io=_r("rcb"),ou=new ke(3e4,6e4);class Mf{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Hn().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return ee(function sg(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),p,"argument-error"),this.shouldResolveImmediately(m)&&Vt(Hn().grecaptcha)?Promise.resolve(Hn().grecaptcha):new Promise((b,S)=>{const R=Hn().setTimeout(()=>{S(fe(p,"network-request-failed"))},ou.get());Hn()[Io]=()=>{Hn().clearTimeout(R),delete Hn()[Io];const K=Hn().grecaptcha;if(!K||!Vt(K))return void S(fe(p,"internal-error"));const Re=K.render;K.render=(je,tt)=>{const at=Re(je,tt);return this.counter++,at},this.hostLanguage=m,b(K)},Ni(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:Io,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(R),S(fe(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=Hn().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Xs{load(p){return(0,l.Z)(function*(){return new Er(p)})()}clearedOneInstance(){}}const ec="recaptcha",Ir={theme:"light",type:"image"};class Bd{constructor(p,m=Object.assign({},Ir),b){this.parameters=m,this.type=ec,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=fn(b),this.isInvisible="invisible"===this.parameters.size,ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof p?document.getElementById(p):p;ee(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Xs:new Mf,this.validateStartingState()}verify(){var p=this;return(0,l.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(m)||new Promise(R=>{const H=K=>{!K||(p.tokenChangeListeners.delete(H),R(K))};p.tokenChangeListeners.add(H),p.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){ee(!this.parameters.sitekey,this.auth,"argument-error"),ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof p)p(m);else if("string"==typeof p){const b=Hn()[p];"function"==typeof b&&b(m)}}}assertNotDestroyed(){ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,l.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,l.Z)(function*(){ee(lt()&&!Ka(),p.auth,"internal-error"),yield function Xa(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function te(y){return Oe.apply(this,arguments)}(p.auth);ee(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class og{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=Bi._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function Ud(){return(Ud=(0,l.Z)(function*(y,p,m){const b=fn(y),S=yield jd(b,p,(0,O.m9)(m));return new og(S,R=>Ui(b,R))})).apply(this,arguments)}function Ja(){return(Ja=(0,l.Z)(function*(y,p,m){const b=(0,O.m9)(y);yield Kt(!1,b,"phone");const S=yield jd(b.auth,p,(0,O.m9)(m));return new og(S,R=>Wc(b,R))})).apply(this,arguments)}function oa(){return(oa=(0,l.Z)(function*(y,p,m){const b=(0,O.m9)(y),S=yield jd(b.auth,p,(0,O.m9)(m));return new og(S,R=>xn(b,R))})).apply(this,arguments)}function jd(y,p,m){return mn.apply(this,arguments)}function mn(){return(mn=(0,l.Z)(function*(y,p,m){var b;const S=yield m.verify();try{let R;if(ee("string"==typeof S,y,"argument-error"),ee(m.type===ec,y,"argument-error"),R="string"==typeof p?{phoneNumber:p}:p,"session"in R){const H=R.session;if("phoneNumber"in R)return ee("enroll"===H.type,y,"internal-error"),(yield Xc(y,{idToken:H.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{ee("signin"===H.type,y,"internal-error");const K=(null===(b=R.multiFactorHint)||void 0===b?void 0:b.uid)||R.multiFactorUid;return ee(K,y,"missing-multi-factor-info"),(yield Xn(y,{mfaPendingCredential:H.credential,mfaEnrollmentId:K,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:H}=yield Yo(y,{phoneNumber:R.phoneNumber,recaptchaToken:S});return H}}finally{m._reset()}})).apply(this,arguments)}function Rf(){return(Rf=(0,l.Z)(function*(y,p){yield wd((0,O.m9)(y),p)})).apply(this,arguments)}let nn=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=fn(m)}verifyPhoneNumber(m,b){return jd(this.auth,m,(0,O.m9)(b))}static credential(m,b){return Bi._fromVerification(m,b)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:S}=m;return b&&S?Bi._fromTokenResponse(b,S):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Jn(y,p){return p?zn(p):(ee(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Do extends Ts{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Ur(p,this._buildIdpRequest())}_linkToIdToken(p,m){return Ur(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return Ur(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function $d(y){return Vl(y.auth,new Do(y),y.bypassAuthState)}function kf(y){const{auth:p,user:m}=y;return ee(m,p,"internal-error"),La(m,new Do(y),y.bypassAuthState)}function Of(y){return el.apply(this,arguments)}function el(){return(el=(0,l.Z)(function*(y){const{auth:p,user:m}=y;return ee(m,p,"internal-error"),wd(m,new Do(y),y.bypassAuthState)})).apply(this,arguments)}class aa{constructor(p,m,b,S,R=!1){this.auth=p,this.resolver=b,this.user=S,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,l.Z)(function*(b,S){p.pendingPromise={resolve:b,reject:S};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(R){p.reject(R)}});return function(b,S){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,l.Z)(function*(){const{urlResponse:b,sessionId:S,postBody:R,tenantId:H,error:K,type:Re}=p;if(K)return void m.reject(K);const je={auth:m.auth,requestUri:b,sessionId:S,tenantId:H||void 0,postBody:R||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Re)(je))}catch(tt){m.reject(tt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return $d;case"linkViaPopup":case"linkViaRedirect":return Of;case"reauthViaPopup":case"reauthViaRedirect":return kf;default:Ee(this.auth,"internal-error")}}resolve(p){dt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){dt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Dr=new ke(2e3,1e4);function $t(){return($t=(0,l.Z)(function*(y,p,m){const b=fn(y);He(y,p,As);const S=Jn(b,m);return new nc(b,"signInViaPopup",p,S).executeNotNull()})).apply(this,arguments)}function tc(){return(tc=(0,l.Z)(function*(y,p,m){const b=(0,O.m9)(y);He(b.auth,p,As);const S=Jn(b.auth,m);return new nc(b.auth,"reauthViaPopup",p,S,b).executeNotNull()})).apply(this,arguments)}function Ns(){return(Ns=(0,l.Z)(function*(y,p,m){const b=(0,O.m9)(y);He(b.auth,p,As);const S=Jn(b.auth,m);return new nc(b.auth,"linkViaPopup",p,S,b).executeNotNull()})).apply(this,arguments)}let nc=(()=>{class y extends aa{constructor(m,b,S,R,H){super(m,b,R,H),this.provider=S,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,l.Z)(function*(){const b=yield m.execute();return ee(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,l.Z)(function*(){dt(1===m.filter.length,"Popup operations only handle one event");const b=zr();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(S=>{m.reject(S)}),m.resolver._isIframeWebStorageSupported(m.auth,S=>{S||m.reject(fe(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(fe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,S;this.pollId=null!==(S=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(fe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,Dr.get())};m()}}return y.currentPopupAction=null,y})();const Js=new Map;class Gr extends aa{constructor(p,m,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,l.Z)(function*(){let b=Js.get(m.auth._key());if(!b){try{const R=(yield function vi(y,p){return ca.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;b=()=>Promise.resolve(R)}catch(S){b=()=>Promise.reject(S)}Js.set(m.auth._key(),b)}return m.bypassAuthState||Js.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,b=this;return(0,l.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(b,p);if("unknown"!==p.type){if(p.eventId){const S=yield b.auth._redirectUserForId(p.eventId);if(S)return b.user=S,m().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function ca(){return(ca=(0,l.Z)(function*(y,p){const m=uu(p),b=qr(y);if(!(yield b._isAvailable()))return!1;const S="true"===(yield b._get(m));return yield b._remove(m),S})).apply(this,arguments)}function ms(y,p){return tl.apply(this,arguments)}function tl(){return(tl=(0,l.Z)(function*(y,p){return qr(y)._set(uu(p),"true")})).apply(this,arguments)}function ua(y,p){Js.set(y._key(),p)}function qr(y){return zn(y._redirectPersistence)}function uu(y){return U("pendingRedirect",y.config.apiKey,y.name)}function Rn(){return(Rn=(0,l.Z)(function*(y,p,m){const b=fn(y);He(y,p,As),yield b._initializationPromise;const S=Jn(b,m);return yield ms(S,b),S._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function Zn(){return(Zn=(0,l.Z)(function*(y,p,m){const b=(0,O.m9)(y);He(b.auth,p,As),yield b.auth._initializationPromise;const S=Jn(b.auth,m);yield ms(S,b.auth);const R=yield hu(b);return S._openRedirect(b.auth,p,"reauthViaRedirect",R)})).apply(this,arguments)}function zd(){return(zd=(0,l.Z)(function*(y,p,m){const b=(0,O.m9)(y);He(b.auth,p,As),yield b.auth._initializationPromise;const S=Jn(b.auth,m);yield Kt(!1,b,p.providerId),yield ms(S,b.auth);const R=yield hu(b);return S._openRedirect(b.auth,p,"linkViaRedirect",R)})).apply(this,arguments)}function nl(){return(nl=(0,l.Z)(function*(y,p){return yield fn(y)._initializationPromise,il(y,p,!1)})).apply(this,arguments)}function il(y,p){return So.apply(this,arguments)}function So(){return(So=(0,l.Z)(function*(y,p,m=!1){const b=fn(y),S=Jn(b,p),H=yield new Gr(b,S,m).execute();return H&&!m&&(delete H.user._redirectEventId,yield b._persistUserIfCurrent(H.user),yield b._setRedirectUser(null,p)),H})).apply(this,arguments)}function hu(y){return C.apply(this,arguments)}function C(){return(C=(0,l.Z)(function*(y){const p=zr(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class x{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(m=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Q(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return G(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var b;if(p.error&&!G(p)){const S=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(fe(this.auth,S))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const b=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(L(p))}saveEventToCache(p){this.cachedEventUids.add(L(p)),this.lastProcessedEventTime=Date.now()}}function L(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function G({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===p?.code}function ve(y){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,l.Z)(function*(y,p={}){return Ue(y,"GET","/v1/projects",p)})).apply(this,arguments)}const Qe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pt=/^https?/;function kt(){return(kt=(0,l.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield ve(y);for(const m of p)try{if(Sr(m))return}catch{}Ee(y,"unauthorized-domain")})).apply(this,arguments)}function Sr(y){const p=Zt(),{protocol:m,hostname:b}=new URL(p);if(y.startsWith("chrome-extension://")){const H=new URL(y);return""===H.hostname&&""===b?"chrome-extension:"===m&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&H.hostname===b}if(!pt.test(m))return!1;if(Qe.test(y))return b===y;const S=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(b)}const bi=new ke(3e4,6e4);function da(){const y=Hn().___jsl;if(y?.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let Fs=null;function ur(y){return Fs=Fs||function rl(y){return new Promise((p,m)=>{var b,S,R;function H(){da(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{da(),m(fe(y,"network-request-failed"))},timeout:bi.get()})}if(null!==(S=null===(b=Hn().gapi)||void 0===b?void 0:b.iframes)&&void 0!==S&&S.Iframe)p(gapi.iframes.getContext());else{if(null===(R=Hn().gapi)||void 0===R||!R.load){const K=_r("iframefcb");return Hn()[K]=()=>{gapi.load?H():m(fe(y,"network-request-failed"))},Ni(`https://apis.google.com/js/api.js?onload=${K}`).catch(Re=>m(Re))}H()}}).catch(p=>{throw Fs=null,p})}(y),Fs}const Zr=new ke(5e3,15e3),Lf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Mo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oE(y){const p=y.config;ee(p.authDomain,y,"auth-domain-config-required");const m=p.emulator?Ve(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,b={apiKey:p.apiKey,appName:y.name,v:ae.SDK_VERSION},S=Mo.get(y.config.apiHost);S&&(b.eid=S);const R=y._getFrameworks();return R.length&&(b.fw=R.join(",")),`${m}?${(0,O.xO)(b).slice(1)}`}function sl(){return sl=(0,l.Z)(function*(y){const p=yield ur(y),m=Hn().gapi;return ee(m,y,"internal-error"),p.open({where:document.body,url:oE(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Lf,dontclear:!0},b=>new Promise(function(){var S=(0,l.Z)(function*(R,H){yield b.restyle({setHideOnLeave:!1});const K=fe(y,"network-request-failed"),Re=Hn().setTimeout(()=>{H(K)},Zr.get());function je(){Hn().clearTimeout(Re),R(b)}b.ping(je).then(je,()=>{H(K)})});return function(R,H){return S.apply(this,arguments)}}()))}),sl.apply(this,arguments)}const Gd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class lg{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Cv=encodeURIComponent("fac");function qd(y,p,m,b,S,R){return Li.apply(this,arguments)}function Li(){return(Li=(0,l.Z)(function*(y,p,m,b,S,R){ee(y.config.authDomain,y,"auth-domain-config-required"),ee(y.config.apiKey,y,"invalid-api-key");const H={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:b,v:ae.SDK_VERSION,eventId:S};if(p instanceof As){p.setDefaultLanguage(y.languageCode),H.providerId=p.providerId||"",(0,O.xb)(p.getCustomParameters())||(H.customParameters=JSON.stringify(p.getCustomParameters()));for(const[tt,at]of Object.entries(R||{}))H[tt]=at}if(p instanceof Fl){const tt=p.getScopes().filter(at=>""!==at);tt.length>0&&(H.scopes=tt.join(","))}y.tenantId&&(H.tid=y.tenantId);const K=H;for(const tt of Object.keys(K))void 0===K[tt]&&delete K[tt];const Re=yield y._getAppCheckToken(),je=Re?`#${Cv}=${encodeURIComponent(Re)}`:"";return`${oc(y)}?${(0,O.xO)(K).slice(1)}${je}`})).apply(this,arguments)}function oc({config:y}){return y.emulator?Ve(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}const Zd="webStorageSupport";class ol extends class Wd{constructor(p){this.factorId=p}_process(p,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,b);case"signin":return this._finalizeSignIn(p,m.credential);default:return xt("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new ol(p)}_finalizeEnroll(p,m,b){return function wr(y,p){return Ue(y,"POST","/v2/accounts/mfaEnrollment:finalize",Ft(y,p))}(p,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function Qa(y,p){return Ue(y,"POST","/v2/accounts/mfaSignIn:finalize",Ft(y,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let fu=(()=>{class y{constructor(){}static assertion(m){return ol._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var ac="@firebase/auth";class Yd{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,l.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(b=>{p(b?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function al(){return window}function pa(){return(pa=(0,l.Z)(function*(y,p,m){var b;const{BuildInfo:S}=al();dt(p.sessionId,"AuthEvent did not contain a session ID");const R=yield fg(p.sessionId),H={};return ct()?H.ibi=S.packageName:Lt()?H.apn=S.packageName:Ee(y,"operation-not-supported-in-this-environment"),S.displayName&&(H.appDisplayName=S.displayName),H.sessionId=R,qd(y,m,p.type,void 0,null!==(b=p.eventId)&&void 0!==b?b:void 0,H)})).apply(this,arguments)}function jf(){return(jf=(0,l.Z)(function*(y){const{BuildInfo:p}=al(),m={};ct()?m.iosBundleId=p.packageName:Lt()?m.androidPackageName=p.packageName:Ee(y,"operation-not-supported-in-this-environment"),yield ve(y,m)})).apply(this,arguments)}function $f(){return($f=(0,l.Z)(function*(y,p,m){const{cordova:b}=al();let S=()=>{};try{yield new Promise((R,H)=>{let K=null;function Re(){var at;R();const kn=null===(at=b.plugins.browsertab)||void 0===at?void 0:at.close;"function"==typeof kn&&kn(),"function"==typeof m?.close&&m.close()}function je(){K||(K=window.setTimeout(()=>{H(fe(y,"redirect-cancelled-by-user"))},2e3))}function tt(){"visible"===document?.visibilityState&&je()}p.addPassiveListener(Re),document.addEventListener("resume",je,!1),Lt()&&document.addEventListener("visibilitychange",tt,!1),S=()=>{p.removePassiveListener(Re),document.removeEventListener("resume",je,!1),document.removeEventListener("visibilitychange",tt,!1),K&&window.clearTimeout(K)}})}finally{S()}})).apply(this,arguments)}function fg(y){return zf.apply(this,arguments)}function zf(){return(zf=(0,l.Z)(function*(y){const p=pg(y),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function pg(y){if(dt(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),m=new Uint8Array(p);for(let b=0;b<y.length;b++)m[b]=y.charCodeAt(b);return m}(0,O.Pz)("authIdTokenMaxAge"),function dg(y){(0,ae._registerComponent)(new ne.wA("auth",(p,{options:m})=>{const b=p.getProvider("app").getImmediate(),S=p.getProvider("heartbeat"),R=p.getProvider("app-check-internal"),{apiKey:H,authDomain:K}=b.options;ee(H&&!H.includes(":"),"invalid-api-key",{appName:b.name}),ee(!K?.includes(":"),"argument-error",{appName:b.name});const Re={apiKey:H,authDomain:K,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:re(y)},je=new Bc(b,S,R,Re);return function pn(y,p){const m=p?.persistence||[],b=(Array.isArray(m)?m:[m]).map(zn);p?.errorMap&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(b,p?.popupRedirectResolver)}(je,m),je},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,b)=>{p.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new ne.wA("auth-internal",p=>{const m=fn(p.getProvider("auth").getImmediate());return new Yd(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(ac,"0.23.1",function Bf(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ae.registerVersion)(ac,"0.23.1","esm2017")}("Browser");class gg extends x{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,l.Z)(function*(){yield p.initPromise})()}}function Sv(y){return bu.apply(this,arguments)}function bu(){return(bu=(0,l.Z)(function*(y){const p=yield Ls()._get(Jd(y));return p&&(yield Ls()._remove(Jd(y))),p})).apply(this,arguments)}function Gf(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const b=Math.floor(Math.random()*p.length);y.push(p.charAt(b))}return y.join("")}function Ls(){return zn(ps)}function Jd(y){return U("authEvent",y.config.apiKey,y.name)}function ll(y){if(!y?.includes("?"))return{};const[p,...m]=y.split("?");return(0,O.zd)(m.join("?"))}function cl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:fe("no-auth-event")}}function ul(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function Yf(y=(0,O.z$)()){return!("file:"!==ul()&&"ionic:"!==ul()&&"capacitor:"!==ul()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Eu(){try{const y=self.localStorage,p=zr();if(y)return y.setItem(p,"1"),y.removeItem(p),!function bg(y=(0,O.z$)()){return function eh(){return(0,O.w1)()&&11===document?.documentMode}()||function wu(y=(0,O.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,O.hl)()}catch{return dl()&&(0,O.hl)()}return!1}function dl(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Xf(){return(function Rv(){return"http:"===ul()||"https:"===ul()}()||(0,O.ru)()||Yf())&&!function Qf(){return(0,O.b$)()||(0,O.UG)()}()&&Eu()&&!dl()}function cc(){return Yf()&&typeof document<"u"}function Cu(){return(Cu=(0,l.Z)(function*(){return!!cc()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const Ei={LOCAL:"local",NONE:"none",SESSION:"session"},uc=ee,wg="persistence";function Iu(y){return Du.apply(this,arguments)}function Du(){return(Du=(0,l.Z)(function*(y){yield y._initializationPromise;const p=ep(),m=U(wg,y.config.apiKey,y.name);p&&p.setItem(m,y._getPersistence())})).apply(this,arguments)}function ep(){var y;try{return(null===(y=function th(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const io=ee;class ro{constructor(){this.browserResolver=zn(class Iv{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ys,this._completeRedirectFn=il,this._overrideRedirectResult=ua}_openPopup(p,m,b,S){var R=this;return(0,l.Z)(function*(){var H;dt(null===(H=R.eventManagers[p._key()])||void 0===H?void 0:H.manager,"_initialize() not called before _openPopup()");const K=yield qd(p,m,b,Zt(),S);return function aE(y,p,m,b=500,S=600){const R=Math.max((window.screen.availHeight-S)/2,0).toString(),H=Math.max((window.screen.availWidth-b)/2,0).toString();let K="";const Re=Object.assign(Object.assign({},Gd),{width:b.toString(),height:S.toString(),top:R,left:H}),je=(0,O.z$)().toLowerCase();m&&(K=qe(je)?"_blank":m),le(je)&&(p=p||"http://localhost",Re.scrollbars="yes");const tt=Object.entries(Re).reduce((kn,[Wr,rh])=>`${kn}${Wr}=${rh},`,"");if(function wn(y=(0,O.z$)()){var p;return ct(y)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(je)&&"_self"!==K)return function lE(y,p){const m=document.createElement("a");m.href=y,m.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(p||"",K),new lg(null);const at=window.open(p||"",K,tt);ee(at,y,"popup-blocked");try{at.focus()}catch{}return new lg(at)}(p,K,zr())})()}_openRedirect(p,m,b,S){var R=this;return(0,l.Z)(function*(){return yield R._originValidation(p),function tu(y){Hn().location.href=y}(yield qd(p,m,b,Zt(),S)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:S,promise:R}=this.eventManagers[m];return S?Promise.resolve(S):(dt(R,"If manager is not set, promise should be"),R)}const b=this.initAndGetManager(p);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(p){var m=this;return(0,l.Z)(function*(){const b=yield function rc(y){return sl.apply(this,arguments)}(p),S=new x(p);return b.register("authEvent",R=>(ee(R?.authEvent,p,"invalid-auth-event"),{status:S.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:S},m.iframes[p._key()]=b,S})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(Zd,{type:Zd},S=>{var R;const H=null===(R=S?.[0])||void 0===R?void 0:R[Zd];void 0!==H&&m(!!H),Ee(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Nt(y){return kt.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return En()||Y()||ct()}}),this.cordovaResolver=zn(class vg{constructor(){this._redirectPersistence=Ys,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=il,this._overrideRedirectResult=ua}_initialize(p){var m=this;return(0,l.Z)(function*(){const b=p._key();let S=m.eventManagers.get(b);return S||(S=new gg(p),m.eventManagers.set(b,S),m.attachCallbackListeners(p,S)),S})()}_openPopup(p){Ee(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,b,S){var R=this;return(0,l.Z)(function*(){!function Tv(y){var p,m,b,S,R,H,K,Re,je,tt;const at=al();ee("function"==typeof(null===(p=at?.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ee(typeof(null===(m=at?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ee("function"==typeof(null===(R=null===(S=null===(b=at?.cordova)||void 0===b?void 0:b.plugins)||void 0===S?void 0:S.browsertab)||void 0===R?void 0:R.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee("function"==typeof(null===(Re=null===(K=null===(H=at?.cordova)||void 0===H?void 0:H.plugins)||void 0===K?void 0:K.browsertab)||void 0===Re?void 0:Re.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee("function"==typeof(null===(tt=null===(je=at?.cordova)||void 0===je?void 0:je.InAppBrowser)||void 0===tt?void 0:tt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const H=yield R._initialize(p);yield H.initialized(),H.resetRedirect(),function Pf(){Js.clear()}(),yield R._originValidation(p);const K=function _g(y,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:Gf(),postBody:null,tenantId:y.tenantId,error:fe(y,"no-auth-event")}}(p,b,S);yield function Xd(y,p){return Ls()._set(Jd(y),p)}(p,K);const Re=yield function no(y,p,m){return pa.apply(this,arguments)}(p,K,m),je=yield function vu(y){const{cordova:p}=al();return new Promise(m=>{p.plugins.browsertab.isAvailable(b=>{let S=null;b?p.plugins.browsertab.openUrl(y):S=p.InAppBrowser.open(y,function yt(y=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(S)})})}(Re);return function Qd(y,p,m){return $f.apply(this,arguments)}(p,H,je)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function yu(y){return jf.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:b,handleOpenURL:S,BuildInfo:R}=al(),H=setTimeout((0,l.Z)(function*(){yield Sv(p),m.onEvent(cl())}),500),K=function(){var tt=(0,l.Z)(function*(at){clearTimeout(H);const kn=yield Sv(p);let Wr=null;kn&&at?.url&&(Wr=function yg(y,p){var m,b;const S=function Mv(y){const p=ll(y),m=p.link?decodeURIComponent(p.link):void 0,b=ll(m).link,S=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return ll(S).link||S||b||m||y}(p);if(S.includes("/__/auth/callback")){const R=ll(S),H=R.firebaseError?function Av(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(R.firebaseError)):null,K=null===(b=null===(m=H?.code)||void 0===m?void 0:m.split("auth/"))||void 0===b?void 0:b[1],Re=K?fe(K):null;return Re?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Re,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:S,postBody:null}}return null}(kn,at.url)),m.onEvent(Wr||cl())});return function(kn){return tt.apply(this,arguments)}}();typeof b<"u"&&"function"==typeof b.subscribe&&b.subscribe(null,K);const Re=S,je=`${R.packageName.toLowerCase()}://`;al().handleOpenURL=function(){var tt=(0,l.Z)(function*(at){if(at.toLowerCase().startsWith(je)&&K({url:at}),"function"==typeof Re)try{Re(at)}catch(kn){console.error(kn)}});return function(at){return tt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Ys,this._completeRedirectFn=il,this._overrideRedirectResult=ua}_initialize(p){var m=this;return(0,l.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,b,S){var R=this;return(0,l.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(p,m,b,S)})()}_openRedirect(p,m,b,S){var R=this;return(0,l.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(p,m,b,S)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return cc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return io(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,l.Z)(function*(){if(p.underlyingResolver)return;const m=yield function Jf(){return Cu.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function Tu(y){return y.unwrap()}function nh(y){return Ig(y)}function Ig(y){const{_tokenResponse:p}=y instanceof O.ZR?y.customData:y;if(!p)return null;if(!(y instanceof O.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return nn.credentialFromResult(y);const m=p.providerId;if(!m||"password"===m)return null;let b;switch(m){case"google.com":b=qc;break;case"facebook.com":b=Yi;break;case"github.com":b=Ll;break;case"twitter.com":b=_d;break;default:const{oauthIdToken:S,oauthAccessToken:R,oauthTokenSecret:H,pendingToken:K,nonce:Re}=p;return R||H||S||K?K?m.startsWith("saml.")?qn._create(m,K):yr._fromParams({providerId:m,signInMethod:m,pendingToken:K,idToken:S,accessToken:R}):new vr(m).credential({idToken:S,accessToken:R,rawNonce:Re}):null}return y instanceof O.ZR?b.credentialFromError(y):b.credentialFromResult(y)}function Ci(y,p){return p.catch(m=>{throw m instanceof O.ZR&&function ma(y,p){var m;const b=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===p?.code)p.resolver=new Ov(y,function Qc(y,p){var m;const b=(0,O.m9)(y),S=p;return ee(p.customData.operationType,b,"argument-error"),ee(null===(m=S.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),Ks._fromError(b,S)}(y,p));else if(b){const S=Ig(p),R=p;S&&(R.credential=S,R.tenantId=b.tenantId||void 0,R.email=b.email||void 0,R.phoneNumber=b.phoneNumber||void 0)}}(y,m),m}).then(m=>{const S=m.user;return{operationType:m.operationType,credential:nh(m),additionalUserInfo:Zl(m),user:Ii.getOrCreate(S)}})}function tp(y,p){return ih.apply(this,arguments)}function ih(){return(ih=(0,l.Z)(function*(y,p){const m=yield p;return{verificationId:m.verificationId,confirm:b=>Ci(y,m.confirm(b))}})).apply(this,arguments)}class Ov{constructor(p,m){this.resolver=m,this.auth=function Cg(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Ci(Tu(this.auth),this.resolver.resolveSignIn(p))}}class Ii{constructor(p){this._delegate=p,this.multiFactor=function qa(y){const p=(0,O.m9)(y);return ea.has(p)||ea.set(p,oi._fromUser(p)),ea.get(p)}(p)}static getOrCreate(p){return Ii.USER_MAP.has(p)||Ii.USER_MAP.set(p,new Ii(p)),Ii.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,l.Z)(function*(){return Ci(m.auth,Wc(m._delegate,p))})()}linkWithPhoneNumber(p,m){var b=this;return(0,l.Z)(function*(){return tp(b.auth,function Hd(y,p,m){return Ja.apply(this,arguments)}(b._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,l.Z)(function*(){return Ci(m.auth,function cu(y,p,m){return Ns.apply(this,arguments)}(m._delegate,p,ro))})()}linkWithRedirect(p){var m=this;return(0,l.Z)(function*(){return yield Iu(fn(m.auth)),function du(y,p,m){return function to(y,p,m){return zd.apply(this,arguments)}(y,p,m)}(m._delegate,p,ro)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,l.Z)(function*(){return Ci(m.auth,xn(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return tp(this.auth,function ag(y,p,m){return oa.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return Ci(this.auth,function ft(y,p,m){return tc.apply(this,arguments)}(this._delegate,p,ro))}reauthenticateWithRedirect(p){var m=this;return(0,l.Z)(function*(){return yield Iu(fn(m.auth)),function Tr(y,p,m){return function Nf(y,p,m){return Zn.apply(this,arguments)}(y,p,m)}(m._delegate,p,ro)})()}sendEmailVerification(p){return function Md(y,p){return xd.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,l.Z)(function*(){return yield function bd(y,p){return Fa.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function bf(y,p){return ja((0,O.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function Rs(y,p){return ja((0,O.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function lu(y,p){return Rf.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function kd(y,p){return Ha.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function Rd(y,p,m){return wo.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ii.USER_MAP=new WeakMap;const so=ee;let Dg=(()=>{class y{constructor(m,b){if(this.app=m,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=m.options;so(S,"invalid-api-key",{appName:m.name}),so(S,"invalid-api-key",{appName:m.name});const R=typeof window<"u"?ro:void 0;this._delegate=b.initialize({options:{persistence:Pv(S,m.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(Ce),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ii.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,b){!function ld(y,p,m){const b=fn(y);ee(b._canInitEmulator,b,"emulator-config-failed"),ee(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const S=!!m?.disableWarnings,R=hi(p),{host:H,port:K}=function Ki(y){const p=hi(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(b);if(S){const R=S[1];return{host:R,port:Wo(b.substr(R.length+1))}}{const[R,H]=b.split(":");return{host:R,port:Wo(H)}}}(p);b.config.emulator={url:`${R}//${H}${null===K?"":`:${K}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:H,port:K,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function Ml(){function y(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,b)}applyActionCode(m){return function jl(y,p){return $r.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Cd(this._delegate,m)}confirmPasswordReset(m,b){return function Hl(y,p,m){return Va.apply(this,arguments)}(this._delegate,m,b)}createUserWithEmailAndPassword(m,b){var S=this;return(0,l.Z)(function*(){return Ci(S._delegate,function Id(y,p,m){return Ua.apply(this,arguments)}(S._delegate,m,b))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function vf(y,p){return Ad.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function yf(y,p){return"EMAIL_SIGNIN"===Nl.parseLink(p)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,l.Z)(function*(){so(Xf(),m._delegate,"operation-not-supported-in-this-environment");const b=yield function Ff(y,p){return nl.apply(this,arguments)}(m._delegate,ro);return b?Ci(m._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function xv(y,p){fn(y)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,b,S){const{next:R,error:H,complete:K}=np(m,b,S);return this._delegate.onAuthStateChanged(R,H,K)}onIdTokenChanged(m,b,S){const{next:R,error:H,complete:K}=np(m,b,S);return this._delegate.onIdTokenChanged(R,H,K)}sendSignInLinkToEmail(m,b){return function Xo(y,p,m){return Td.apply(this,arguments)}(this._delegate,m,b)}sendPasswordResetEmail(m,b){return function Ed(y,p,m){return Qo.apply(this,arguments)}(this._delegate,m,b||void 0)}setPersistence(m){var b=this;return(0,l.Z)(function*(){let S;switch(function kv(y,p){uc(Object.values(Ei).includes(p),y,"invalid-persistence-type"),(0,O.b$)()?uc(p!==Ei.SESSION,y,"unsupported-persistence-type"):(0,O.UG)()?uc(p===Ei.NONE,y,"unsupported-persistence-type"):dl()?uc(p===Ei.NONE||p===Ei.LOCAL&&(0,O.hl)(),y,"unsupported-persistence-type"):uc(p===Ei.NONE||Eu(),y,"unsupported-persistence-type")}(b._delegate,m),m){case Ei.SESSION:S=Ys;break;case Ei.LOCAL:S=(yield zn(sa)._isAvailable())?sa:ps;break;case Ei.NONE:S=Wi;break;default:return Ee("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Ci(this._delegate,function cs(y){return yd.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Ci(this._delegate,Ui(this._delegate,m))}signInWithCustomToken(m){return Ci(this._delegate,function ds(y,p){return Kc.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,b){return Ci(this._delegate,function Dd(y,p,m){return Ui((0,O.m9)(y),Gn.credential(p,m))}(this._delegate,m,b))}signInWithEmailLink(m,b){return Ci(this._delegate,function Qi(y,p,m){return xs.apply(this,arguments)}(this._delegate,m,b))}signInWithPhoneNumber(m,b){return tp(this._delegate,function xf(y,p,m){return Ud.apply(this,arguments)}(this._delegate,m,b))}signInWithPopup(m){var b=this;return(0,l.Z)(function*(){return so(Xf(),b._delegate,"operation-not-supported-in-this-environment"),Ci(b._delegate,function la(y,p,m){return $t.apply(this,arguments)}(b._delegate,m,ro))})()}signInWithRedirect(m){var b=this;return(0,l.Z)(function*(){return so(Xf(),b._delegate,"operation-not-supported-in-this-environment"),yield Iu(b._delegate),function eo(y,p,m){return function To(y,p,m){return Rn.apply(this,arguments)}(y,p,m)}(b._delegate,m,ro)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function $l(y,p){return bo.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Ei,y})();function np(y,p,m){let b=y;"function"!=typeof y&&({next:b,error:p,complete:m}=y);const S=b;return{next:H=>S(H&&Ii.getOrCreate(H)),error:p,complete:m}}function Pv(y,p){const m=function Eg(y,p){const m=ep();if(!m)return[];const b=U(wg,y,p);switch(m.getItem(b)){case Ei.NONE:return[Wi];case Ei.LOCAL:return[sa,Ys];case Ei.SESSION:return[Ys];default:return[]}}(y,p);if(typeof self<"u"&&!m.includes(sa)&&m.push(sa),typeof window<"u")for(const b of[ps,Ys])m.includes(b)||m.push(b);return m.includes(Wi)||m.push(Wi),m}class Tg{constructor(){this.providerId="phone",this._delegate=new nn(Tu(X.Z.auth()))}static credential(p,m){return nn.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}Tg.PHONE_SIGN_IN_METHOD=nn.PHONE_SIGN_IN_METHOD,Tg.PROVIDER_ID=nn.PROVIDER_ID;const ip=ee;class Nv{constructor(p,m,b=X.Z.app()){var S;ip(null===(S=b.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new Bd(p,m,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Sg(y){y.INTERNAL.registerComponent(new ne.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),b=p.getProvider("auth");return new Dg(m,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Gn,FacebookAuthProvider:Yi,GithubAuthProvider:Ll,GoogleAuthProvider:qc,OAuthProvider:vr,SAMLAuthProvider:qs,PhoneAuthProvider:Tg,PhoneMultiFactorGenerator:fu,RecaptchaVerifier:Nv,TwitterAuthProvider:_d,Auth:Dg,AuthCredential:Ts,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.4.1")}(X.Z)},5861:(gt,De,N)=>{function l(O,ae,oe,ue,ne,we,he){try{var z=O[we](he),$=z.value}catch(W){return void oe(W)}z.done?ae($):Promise.resolve($).then(ue,ne)}function X(O){return function(){var ae=this,oe=arguments;return new Promise(function(ue,ne){var we=O.apply(ae,oe);function he($){l(we,ue,ne,he,z,"next",$)}function z($){l(we,ue,ne,he,z,"throw",$)}he(void 0)})}}N.d(De,{Z:()=>X})}},gt=>{gt(gt.s=1323)}]);