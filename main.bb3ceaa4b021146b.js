"use strict";(self.webpackChunklicorApp=self.webpackChunklicorApp||[]).push([[179],{2011:(gt,De,N)=>{N.d(De,{Dh:()=>Ee,GT:()=>ue,cc:()=>xe,hO:()=>Ge,on:()=>z,pX:()=>oe,xv:()=>he});var l=N(4650),X=N(9260),O=N(8623);gt=N.hmd(gt);const ae=["ngOnDestroy"],oe=(ye,yt,Tt,Oe={})=>new Proxy(ye,{get:(Ce,pe)=>Tt.runOutsideAngular(()=>{var qe;if(ye[pe])return!(null===(qe=Oe?.spy)||void 0===qe)&&qe.get&&Oe.spy.get(pe,ye[pe]),ye[pe];if(ae.indexOf(pe)>-1)return()=>{};const je=yt.toPromise().then(Je=>{const ee=Je&&Je[pe];return"function"==typeof ee?ee.bind(Je):ee&&ee.then?ee.then(Mt=>Tt.run(()=>Mt)):Tt.run(()=>ee)});return new Proxy(()=>{},{get:(Je,ee)=>je[ee],apply:(Je,ee,Mt)=>je.then(ht=>{var Zt;const ct=ht&&ht(...Mt);return!(null===(Zt=Oe?.spy)||void 0===Zt)&&Zt.apply&&Oe.spy.apply(pe,Mt,ct),ct})})})}),ue=(ye,yt)=>{yt.forEach(Tt=>{Object.getOwnPropertyNames(Tt.prototype||Tt).forEach(Oe=>{Object.defineProperty(ye.prototype,Oe,Object.getOwnPropertyDescriptor(Tt.prototype||Tt,Oe))})})};class ie{constructor(yt){return yt}}const Ee=new l.OlP("angularfire2.app.options"),he=new l.OlP("angularfire2.app.name");function z(ye,yt,Tt){const Ce="object"==typeof Tt&&Tt||{};Ce.name=Ce.name||"string"==typeof Tt&&Tt||"[DEFAULT]";const qe=X.Z.apps.filter(je=>je&&je.name===Ce.name)[0]||yt.runOutsideAngular(()=>X.Z.initializeApp(ye,Ce));try{JSON.stringify(ye)!==JSON.stringify(qe.options)&&$("error",`${qe.name} Firebase App already initialized with different options${gt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ie(qe)}const $=(ye,...yt)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ye](...yt)},W={provide:ie,useFactory:z,deps:[Ee,l.R0b,[new l.FiY,he]]};let Ge=(()=>{class ye{constructor(Tt){X.Z.registerVersion("angularfire",O.q4.full,"core"),X.Z.registerVersion("angularfire",O.q4.full,"app-compat"),X.Z.registerVersion("angular",l.q4F.full,Tt.toString())}static initializeApp(Tt,Oe){return{ngModule:ye,providers:[{provide:Ee,useValue:Tt},{provide:he,useValue:Oe}]}}}return ye.\u0275fac=function(Tt){return new(Tt||ye)(l.LFG(l.Lbi))},ye.\u0275mod=l.oAB({type:ye}),ye.\u0275inj=l.cJS({providers:[W]}),ye})();function xe(ye,yt,Tt,Oe,Ce){const[,pe,qe]=globalThis.\u0275AngularfireInstanceCache.find(je=>je[0]===ye)||[];if(pe)return function Ie(ye,yt){try{return ye.toString()===yt.toString()}catch{return ye===yt}}(Ce,qe)||(ve("error",`${yt} was already initialized on the ${Tt} Firebase App with different settings.${ot?" You may need to reload as Firebase is not HMR aware.":""}`),ve("warn",{is:Ce,was:qe})),pe;{const je=Oe();return globalThis.\u0275AngularfireInstanceCache.push([ye,je,Ce]),je}}const ot=!!gt.hot,ve=(ye,...yt)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ye](...yt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8623:(gt,De,N)=>{N.d(De,{q4:()=>cc,iC:()=>cl,HU:()=>Wf,vb:()=>Ws,JM:()=>_u});var l=N(4650),X=N(259),O=N(5861),ae=N(2951),oe=N(2090),ue=N(4859),ie=N(1877);let he,z;const Ge=new WeakMap,xe=new WeakMap,Ie=new WeakMap,ot=new WeakMap,ve=new WeakMap;let Tt={get(C,D,x){if(C instanceof IDBTransaction){if("done"===D)return xe.get(C);if("objectStoreNames"===D)return C.objectStoreNames||Ie.get(C);if("store"===D)return x.objectStoreNames[1]?void 0:x.objectStore(x.objectStoreNames[0])}return qe(C[D])},set:(C,D,x)=>(C[D]=x,!0),has:(C,D)=>C instanceof IDBTransaction&&("done"===D||"store"===D)||D in C};function pe(C){return"function"==typeof C?function Ce(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function W(){return z||(z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...D){return C.apply(je(this),D),qe(Ge.get(this))}:function(...D){return qe(C.apply(je(this),D))}:function(D,...x){const L=C.call(je(this),D,...x);return Ie.set(L,D.sort?D.sort():[D]),qe(L)}}(C):(C instanceof IDBTransaction&&function yt(C){if(xe.has(C))return;const D=new Promise((x,L)=>{const G=()=>{C.removeEventListener("complete",Q),C.removeEventListener("error",be),C.removeEventListener("abort",be)},Q=()=>{x(),G()},be=()=>{L(C.error||new DOMException("AbortError","AbortError")),G()};C.addEventListener("complete",Q),C.addEventListener("error",be),C.addEventListener("abort",be)});xe.set(C,D)}(C),((C,D)=>D.some(x=>C instanceof x))(C,function $(){return he||(he=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,Tt):C)}function qe(C){if(C instanceof IDBRequest)return function ye(C){const D=new Promise((x,L)=>{const G=()=>{C.removeEventListener("success",Q),C.removeEventListener("error",be)},Q=()=>{x(qe(C.result)),G()},be=()=>{L(C.error),G()};C.addEventListener("success",Q),C.addEventListener("error",be)});return D.then(x=>{x instanceof IDBCursor&&Ge.set(x,C)}).catch(()=>{}),ve.set(D,C),D}(C);if(ot.has(C))return ot.get(C);const D=pe(C);return D!==C&&(ot.set(C,D),ve.set(D,C)),D}const je=C=>ve.get(C);function Je(C,D,{blocked:x,upgrade:L,blocking:G,terminated:Q}={}){const be=indexedDB.open(C,D),We=qe(be);return L&&be.addEventListener("upgradeneeded",Ye=>{L(qe(be.result),Ye.oldVersion,Ye.newVersion,qe(be.transaction))}),x&&be.addEventListener("blocked",()=>x()),We.then(Ye=>{Q&&Ye.addEventListener("close",()=>Q()),G&&Ye.addEventListener("versionchange",()=>G())}).catch(()=>{}),We}function ee(C,{blocked:D}={}){const x=indexedDB.deleteDatabase(C);return D&&x.addEventListener("blocked",()=>D()),qe(x).then(()=>{})}const Mt=["get","getKey","getAll","getAllKeys","count"],ht=["put","add","delete","clear"],Zt=new Map;function ct(C,D){if(!(C instanceof IDBDatabase)||D in C||"string"!=typeof D)return;if(Zt.get(D))return Zt.get(D);const x=D.replace(/FromIndex$/,""),L=D!==x,G=ht.includes(x);if(!(x in(L?IDBIndex:IDBObjectStore).prototype)||!G&&!Mt.includes(x))return;const Q=function(){var be=(0,O.Z)(function*(We,...Ye){const mt=this.transaction(We,G?"readwrite":"readonly");let Nt=mt.store;return L&&(Nt=Nt.index(Ye.shift())),(yield Promise.all([Nt[x](...Ye),G&&mt.done]))[0]});return function(Ye){return be.apply(this,arguments)}}();return Zt.set(D,Q),Q}!function Oe(C){Tt=C(Tt)}(C=>({...C,get:(D,x,L)=>ct(D,x)||C.get(D,x,L),has:(D,x)=>!!ct(D,x)||C.has(D,x)}));const de="@firebase/installations",ke="w:0.6.4",Ve="FIS_v2",Gt=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Wt(C){return C instanceof oe.ZR&&C.code.includes("request-failed")}function en({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function On(C){return{token:C.token,requestStatus:2,expiresIn:Va(C.expiresIn),creationTime:Date.now()}}function jn(C,D){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,O.Z)(function*(C,D){const L=(yield D.json()).error;return Gt.create("request-failed",{requestName:C,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function rr({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function xi(C,{refreshToken:D}){const x=rr(C);return x.append("Authorization",function Wo(C){return`${Ve} ${C}`}(D)),x}function rs(C){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,O.Z)(function*(C){const D=yield C();return D.status>=500&&D.status<600?C():D})).apply(this,arguments)}function Va(C){return Number(C.replace("s","000"))}function ft(C,D){return qi.apply(this,arguments)}function qi(){return(qi=(0,O.Z)(function*({appConfig:C,heartbeatServiceProvider:D},{fid:x}){const L=en(C),G=rr(C),Q=D.getImmediate({optional:!0});if(Q){const mt=yield Q.getHeartbeatsHeader();mt&&G.append("x-firebase-client",mt)}const We={method:"POST",headers:G,body:JSON.stringify({fid:x,authVersion:Ve,appId:C.appId,sdkVersion:ke})},Ye=yield rs(()=>fetch(L,We));if(Ye.ok){const mt=yield Ye.json();return{fid:mt.fid||x,registrationStatus:2,refreshToken:mt.refreshToken,authToken:On(mt.authToken)}}throw yield jn("Create Installation",Ye)})).apply(this,arguments)}function Fr(C){return new Promise(D=>{setTimeout(D,C)})}const Ko=/^[cdef][\w-]{21}$/;function li(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const x=function Mn(C){return function Zi(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Ko.test(x)?x:""}catch{return""}}function an(C){return`${C.appName}!${C.appId}`}const it=new Map;function wt(C,D){const x=an(C);sr(x,D),function ni(C,D){const x=function Ri(){return!St&&"BroadcastChannel"in self&&(St=new BroadcastChannel("[Firebase] FID Change"),St.onmessage=C=>{sr(C.data.key,C.data.fid)}),St}();x&&x.postMessage({key:C,fid:D}),function yn(){0===it.size&&St&&(St.close(),St=null)}()}(x,D)}function sr(C,D){const x=it.get(C);if(x)for(const L of x)L(D)}let St=null;const ci="firebase-installations-store";let ki=null;function Lr(){return ki||(ki=Je("firebase-installations-database",1,{upgrade:(C,D)=>{0===D&&C.createObjectStore(ci)}})),ki}function Ln(C,D){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,O.Z)(function*(C,D){const x=an(C),G=(yield Lr()).transaction(ci,"readwrite"),Q=G.objectStore(ci),be=yield Q.get(x);return yield Q.put(D,x),yield G.done,(!be||be.fid!==D.fid)&&wt(C,D.fid),D})).apply(this,arguments)}function os(C){return $n.apply(this,arguments)}function $n(){return($n=(0,O.Z)(function*(C){const D=an(C),L=(yield Lr()).transaction(ci,"readwrite");yield L.objectStore(ci).delete(D),yield L.done})).apply(this,arguments)}function or(C,D){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,O.Z)(function*(C,D){const x=an(C),G=(yield Lr()).transaction(ci,"readwrite"),Q=G.objectStore(ci),be=yield Q.get(x),We=D(be);return void 0===We?yield Q.delete(x):yield Q.put(We,x),yield G.done,We&&(!be||be.fid!==We.fid)&&wt(C,We.fid),We})).apply(this,arguments)}function H(C){return U.apply(this,arguments)}function U(){return(U=(0,O.Z)(function*(C){let D;const x=yield or(C.appConfig,L=>{const G=Z(L),Q=le(C,G);return D=Q.registrationPromise,Q.installationEntry});return""===x.fid?{installationEntry:yield D}:{installationEntry:x,registrationPromise:D}})).apply(this,arguments)}function Z(C){return Ue(C||{fid:li(),registrationStatus:0})}function le(C,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(Gt.create("app-offline"))};const x={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},L=function Y(C,D){return Ze.apply(this,arguments)}(C,x);return{installationEntry:x,registrationPromise:L}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:At(C)}:{installationEntry:D}}function Ze(){return(Ze=(0,O.Z)(function*(C,D){try{const x=yield ft(C,D);return Ln(C.appConfig,x)}catch(x){throw Wt(x)&&409===x.customData.serverCode?yield os(C.appConfig):yield Ln(C.appConfig,{fid:D.fid,registrationStatus:0}),x}})).apply(this,arguments)}function At(C){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,O.Z)(function*(C){let D=yield gn(C.appConfig);for(;1===D.registrationStatus;)yield Fr(100),D=yield gn(C.appConfig);if(0===D.registrationStatus){const{installationEntry:x,registrationPromise:L}=yield H(C);return L||x}return D})).apply(this,arguments)}function gn(C){return or(C,D=>{if(!D)throw Gt.create("installation-not-found");return Ue(D)})}function Ue(C){return function ut(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function vt(C,D){return En.apply(this,arguments)}function En(){return(En=(0,O.Z)(function*({appConfig:C,heartbeatServiceProvider:D},x){const L=Pi(C,x),G=xi(C,x),Q=D.getImmediate({optional:!0});if(Q){const mt=yield Q.getHeartbeatsHeader();mt&&G.append("x-firebase-client",mt)}const We={method:"POST",headers:G,body:JSON.stringify({installation:{sdkVersion:ke,appId:C.appId}})},Ye=yield rs(()=>fetch(L,We));if(Ye.ok)return On(yield Ye.json());throw yield jn("Generate Auth Token",Ye)})).apply(this,arguments)}function Pi(C,{fid:D}){return`${en(C)}/${D}/authTokens:generate`}function Cn(C){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,O.Z)(function*(C,D=!1){let x;const L=yield or(C.appConfig,Q=>{if(!Vt(Q))throw Gt.create("not-registered");const be=Q.authToken;if(!D&&cn(be))return Q;if(1===be.requestStatus)return x=re(C,D),Q;{if(!navigator.onLine)throw Gt.create("app-offline");const We=Qt(Q);return x=Fe(C,We),We}});return x?yield x:L.authToken})).apply(this,arguments)}function re(C,D){return te.apply(this,arguments)}function te(){return(te=(0,O.Z)(function*(C,D){let x=yield Pe(C.appConfig);for(;1===x.authToken.requestStatus;)yield Fr(100),x=yield Pe(C.appConfig);const L=x.authToken;return 0===L.requestStatus?Cn(C,D):L})).apply(this,arguments)}function Pe(C){return or(C,D=>{if(!Vt(D))throw Gt.create("not-registered");return function Ni(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function Fe(C,D){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,O.Z)(function*(C,D){try{const x=yield vt(C,D),L=Object.assign(Object.assign({},D),{authToken:x});return yield Ln(C.appConfig,L),x}catch(x){if(!Wt(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const L=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield Ln(C.appConfig,L)}else yield os(C.appConfig);throw x}})).apply(this,arguments)}function Vt(C){return void 0!==C&&2===C.registrationStatus}function cn(C){return 2===C.requestStatus&&!function Pn(C){const D=Date.now();return D<C.creationTime||C.creationTime+C.expiresIn<D+36e5}(C)}function Qt(C){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:D})}function ar(){return(ar=(0,O.Z)(function*(C){const D=C,{installationEntry:x,registrationPromise:L}=yield H(D);return L?L.catch(console.error):Cn(D).catch(console.error),x.fid})).apply(this,arguments)}function Nl(){return(Nl=(0,O.Z)(function*(C,D=!1){const x=C;return yield In(x),(yield Cn(x,D)).token})).apply(this,arguments)}function In(C){return as.apply(this,arguments)}function as(){return(as=(0,O.Z)(function*(C){const{registrationPromise:D}=yield H(C);D&&(yield D)})).apply(this,arguments)}function ui(C){return Gt.create("missing-app-config-values",{valueName:C})}const Ki="installations",Ll=C=>{const D=C.getProvider("app").getImmediate(),x=function md(C){if(!C||!C.options)throw ui("App Configuration");if(!C.name)throw ui("App Name");const D=["projectId","apiKey","appId"];for(const x of D)if(!C.options[x])throw ui(x);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(D);return{app:D,appConfig:x,heartbeatServiceProvider:(0,ae._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},Es=C=>{const D=C.getProvider("app").getImmediate(),x=(0,ae._getProvider)(D,Ki).getImmediate();return{getId:()=>function vr(C){return ar.apply(this,arguments)}(x),getToken:G=>function Qo(C){return Nl.apply(this,arguments)}(x,G)}};(function Ur(){(0,ae._registerComponent)(new ue.wA(Ki,Ll,"PUBLIC")),(0,ae._registerComponent)(new ue.wA("installations-internal",Es,"PRIVATE"))})(),(0,ae.registerVersion)(de,"0.6.4"),(0,ae.registerVersion)(de,"0.6.4","esm2017");const ea="@firebase/remote-config",Sn=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class br{constructor(D,x,L,G){this.client=D,this.storage=x,this.storageCache=L,this.logger=G}isCachedDataFresh(D,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-x,G=L<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${G}.`),G}fetch(D){var x=this;return(0,O.Z)(function*(){const[L,G]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(G&&x.isCachedDataFresh(D.cacheMaxAgeMillis,L))return G;D.eTag=G&&G.eTag;const Q=yield x.client.fetch(D),be=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Q.status&&be.push(x.storage.setLastSuccessfulFetchResponse(Q)),yield Promise.all(be),Q})()}}function go(C=navigator){return C.languages&&C.languages[0]||C.language}class Ua{constructor(D,x,L,G,Q,be){this.firebaseInstallations=D,this.sdkVersion=x,this.namespace=L,this.projectId=G,this.apiKey=Q,this.appId=be}fetch(D){var x=this;return(0,O.Z)(function*(){const[L,G]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),be=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,We={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},Ye={sdk_version:x.sdkVersion,app_instance_id:L,app_instance_id_token:G,app_id:x.appId,language_code:go()},mt={method:"POST",headers:We,body:JSON.stringify(Ye)},Nt=fetch(be,mt),kt=new Promise((ur,Wr)=>{D.signal.addEventListener(()=>{const Ci=new Error("The operation was aborted.");Ci.name="AbortError",Wr(Ci)})});let Mr;try{yield Promise.race([Nt,kt]),Mr=yield Nt}catch(ur){let Wr="fetch-client-network";throw"AbortError"===ur?.name&&(Wr="fetch-timeout"),Sn.create(Wr,{originalErrorMessage:ur?.message})}let Ei=Mr.status;const ma=Mr.headers.get("ETag")||void 0;let dl,ks;if(200===Mr.status){let ur;try{ur=yield Mr.json()}catch(Wr){throw Sn.create("fetch-client-parse",{originalErrorMessage:Wr?.message})}dl=ur.entries,ks=ur.state}if("INSTANCE_STATE_UNSPECIFIED"===ks?Ei=500:"NO_CHANGE"===ks?Ei=304:("NO_TEMPLATE"===ks||"EMPTY_CONFIG"===ks)&&(dl={}),304!==Ei&&200!==Ei)throw Sn.create("fetch-status",{httpStatus:Ei});return{status:Ei,eTag:ma,config:dl}})()}}class Sf{constructor(D,x){this.client=D,this.storage=x}fetch(D){var x=this;return(0,O.Z)(function*(){const L=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(D,L)})()}attemptFetch(D,{throttleEndTimeMillis:x,backoffCount:L}){var G=this;return(0,O.Z)(function*(){yield function Xc(C,D){return new Promise((x,L)=>{const G=Math.max(D-Date.now(),0),Q=setTimeout(x,G);C.addEventListener(()=>{clearTimeout(Q),L(Sn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,x);try{const Q=yield G.client.fetch(D);return yield G.storage.deleteThrottleMetadata(),Q}catch(Q){if(!function Bl(C){if(!(C instanceof oe.ZR&&C.customData))return!1;const D=Number(C.customData.httpStatus);return 429===D||500===D||503===D||504===D}(Q))throw Q;const be={throttleEndTimeMillis:Date.now()+(0,oe.$s)(L),backoffCount:L+1};return yield G.storage.setThrottleMetadata(be),G.attemptFetch(D,be)}})()}}class Af{constructor(D,x,L,G,Q){this.app=D,this._client=x,this._storageCache=L,this._storage=G,this._logger=Q,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function vi(C,D){const x=C.target.error||void 0;return Sn.create(D,{originalErrorMessage:x&&x?.message})}const Hi="app_namespace_store";class aE{constructor(D,x,L,G=function $l(){return new Promise((C,D)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=L=>{D(vi(L,"storage-open"))},x.onsuccess=L=>{C(L.target.result)},x.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(Hi,{keyPath:"compositeKey"})}}catch(x){D(Sn.create("storage-open",{originalErrorMessage:x?.message}))}})}()){this.appId=D,this.appName=x,this.namespace=L,this.openDbPromise=G}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var x=this;return(0,O.Z)(function*(){const L=yield x.openDbPromise;return new Promise((G,Q)=>{const We=L.transaction([Hi],"readonly").objectStore(Hi),Ye=x.createCompositeKey(D);try{const mt=We.get(Ye);mt.onerror=Nt=>{Q(vi(Nt,"storage-get"))},mt.onsuccess=Nt=>{const kt=Nt.target.result;G(kt?kt.value:void 0)}}catch(mt){Q(Sn.create("storage-get",{originalErrorMessage:mt?.message}))}})})()}set(D,x){var L=this;return(0,O.Z)(function*(){const G=yield L.openDbPromise;return new Promise((Q,be)=>{const Ye=G.transaction([Hi],"readwrite").objectStore(Hi),mt=L.createCompositeKey(D);try{const Nt=Ye.put({compositeKey:mt,value:x});Nt.onerror=kt=>{be(vi(kt,"storage-set"))},Nt.onsuccess=()=>{Q()}}catch(Nt){be(Sn.create("storage-set",{originalErrorMessage:Nt?.message}))}})})()}delete(D){var x=this;return(0,O.Z)(function*(){const L=yield x.openDbPromise;return new Promise((G,Q)=>{const We=L.transaction([Hi],"readwrite").objectStore(Hi),Ye=x.createCompositeKey(D);try{const mt=We.delete(Ye);mt.onerror=Nt=>{Q(vi(Nt,"storage-delete"))},mt.onsuccess=()=>{G()}}catch(mt){Q(Sn.create("storage-delete",{originalErrorMessage:mt?.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class zn{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,O.Z)(function*(){const x=D.storage.getLastFetchStatus(),L=D.storage.getLastSuccessfulFetchTimestampMillis(),G=D.storage.getActiveConfig(),Q=yield x;Q&&(D.lastFetchStatus=Q);const be=yield L;be&&(D.lastSuccessfulFetchTimestampMillis=be);const We=yield G;We&&(D.activeConfig=We)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function Yi(){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,O.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}!function Is(){(0,ae._registerComponent)(new ue.wA("remote-config",function C(D,{instanceIdentifier:x}){const L=D.getProvider("app").getImmediate(),G=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Sn.create("registration-window");if(!(0,oe.hl)())throw Sn.create("indexed-db-unavailable");const{projectId:Q,apiKey:be,appId:We}=L.options;if(!Q)throw Sn.create("registration-project-id");if(!be)throw Sn.create("registration-api-key");if(!We)throw Sn.create("registration-app-id");const Ye=new aE(We,L.name,x=x||"firebase"),mt=new zn(Ye),Nt=new ie.Yd(ea);Nt.logLevel=ie.in.ERROR;const kt=new Ua(G,ae.SDK_VERSION,x,Q,be,We),Mr=new Sf(kt,Ye),Ei=new br(Mr,Ye,mt,Nt),ma=new Af(L,Ei,mt,Ye,Nt);return function cg(C){const D=(0,oe.m9)(C);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(ma),ma},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(ea,"0.4.4"),(0,ae.registerVersion)(ea,"0.4.4","esm2017")}();const Gl="/firebase-messaging-sw.js",Ba="/firebase-cloud-messaging-push-scope",Gn="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Bs="google.c.a.c_id",Id="google.c.a.c_l",Hr="google.c.a.ts",yo="google.c.a.e";var Et=(()=>{return(C=Et||(Et={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",Et;var C})();function ls(C){const D=new Uint8Array(C);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Td(C){const x=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(x),G=new Uint8Array(L.length);for(let Q=0;Q<L.length;++Q)G[Q]=L.charCodeAt(Q);return G}const Ha="fcm_token_details_db",eu="fcm_token_object_Store";function Sd(C){return ja.apply(this,arguments)}function ja(){return ja=(0,O.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Q=>Q.name).includes(Ha))return null;let D=null;return(yield Je(Ha,5,{upgrade:(L=(0,O.Z)(function*(G,Q,be,We){var Ye;if(Q<2||!G.objectStoreNames.contains(eu))return;const mt=We.objectStore(eu),Nt=yield mt.index("fcmSenderId").get(C);if(yield mt.clear(),Nt)if(2===Q){const kt=Nt;if(!kt.auth||!kt.p256dh||!kt.endpoint)return;D={token:kt.fcmToken,createTime:null!==(Ye=kt.createTime)&&void 0!==Ye?Ye:Date.now(),subscriptionOptions:{auth:kt.auth,p256dh:kt.p256dh,endpoint:kt.endpoint,swScope:kt.swScope,vapidKey:"string"==typeof kt.vapidKey?kt.vapidKey:ls(kt.vapidKey)}}}else if(3===Q){const kt=Nt;D={token:kt.fcmToken,createTime:kt.createTime,subscriptionOptions:{auth:ls(kt.auth),p256dh:ls(kt.p256dh),endpoint:kt.endpoint,swScope:kt.swScope,vapidKey:ls(kt.vapidKey)}}}else if(4===Q){const kt=Nt;D={token:kt.fcmToken,createTime:kt.createTime,subscriptionOptions:{auth:ls(kt.auth),p256dh:ls(kt.p256dh),endpoint:kt.endpoint,swScope:kt.swScope,vapidKey:ls(kt.vapidKey)}}}}),function(Q,be,We,Ye){return L.apply(this,arguments)})})).close(),yield ee(Ha),yield ee("fcm_vapid_details_db"),yield ee("undefined"),Ad(D)?D:null;var L}),ja.apply(this,arguments)}function Ad(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:D}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const cs="firebase-messaging-store";let $a=null;function Vn(){return $a||($a=Je("firebase-messaging-database",1,{upgrade:(C,D)=>{0===D&&C.createObjectStore(cs)}})),$a}function ql(C){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,O.Z)(function*(C){const D=xn(C),L=yield(yield Vn()).transaction(cs).objectStore(cs).get(D);if(L)return L;{const G=yield Sd(C.appConfig.senderId);if(G)return yield ji(C,G),G}})).apply(this,arguments)}function ji(C,D){return vo.apply(this,arguments)}function vo(){return(vo=(0,O.Z)(function*(C,D){const x=xn(C),G=(yield Vn()).transaction(cs,"readwrite");return yield G.objectStore(cs).put(D,x),yield G.done,D})).apply(this,arguments)}function tu(C){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,O.Z)(function*(C){const D=xn(C),L=(yield Vn()).transaction(cs,"readwrite");yield L.objectStore(cs).delete(D),yield L.done})).apply(this,arguments)}function xn({appConfig:C}){return C.appId}const bi=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Fi(C,D){return us.apply(this,arguments)}function us(){return(us=(0,O.Z)(function*(C,D){const x=yield Md(C),L=Kl(D),G={method:"POST",headers:x,body:JSON.stringify(L)};let Q;try{Q=yield(yield fetch(Hs(C.appConfig),G)).json()}catch(be){throw bi.create("token-subscribe-failed",{errorInfo:be?.toString()})}if(Q.error)throw bi.create("token-subscribe-failed",{errorInfo:Q.error.message});if(!Q.token)throw bi.create("token-subscribe-no-token");return Q.token})).apply(this,arguments)}function nu(C,D){return jr.apply(this,arguments)}function jr(){return(jr=(0,O.Z)(function*(C,D){const x=yield Md(C),L=Kl(D.subscriptionOptions),G={method:"PATCH",headers:x,body:JSON.stringify(L)};let Q;try{Q=yield(yield fetch(`${Hs(C.appConfig)}/${D.token}`,G)).json()}catch(be){throw bi.create("token-update-failed",{errorInfo:be?.toString()})}if(Q.error)throw bi.create("token-update-failed",{errorInfo:Q.error.message});if(!Q.token)throw bi.create("token-update-no-token");return Q.token})).apply(this,arguments)}function Er(C,D){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,O.Z)(function*(C,D){const L={method:"DELETE",headers:yield Md(C)};try{const Q=yield(yield fetch(`${Hs(C.appConfig)}/${D}`,L)).json();if(Q.error)throw bi.create("token-unsubscribe-failed",{errorInfo:Q.error.message})}catch(G){throw bi.create("token-unsubscribe-failed",{errorInfo:G?.toString()})}})).apply(this,arguments)}function Hs({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function Md(C){return ta.apply(this,arguments)}function ta(){return(ta=(0,O.Z)(function*({appConfig:C,installations:D}){const x=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function Kl({p256dh:C,auth:D,endpoint:x,vapidKey:L}){const G={web:{endpoint:x,auth:D,p256dh:C}};return L!==Gn&&(G.web.applicationPubKey=L),G}const za=6048e5;function Yl(C){return $r.apply(this,arguments)}function $r(){return($r=(0,O.Z)(function*(C){const D=yield kd(C.swRegistration,C.vapidKey),x={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:D.endpoint,auth:ls(D.getKey("auth")),p256dh:ls(D.getKey("p256dh"))},L=yield ql(C.firebaseDependencies);if(L){if(Od(L.subscriptionOptions,x))return Date.now()>=L.createTime+za?Ql(C,{token:L.token,createTime:Date.now(),subscriptionOptions:x}):L.token;try{yield Er(C.firebaseDependencies,L.token)}catch(G){console.warn(G)}return Rd(C.firebaseDependencies,x)}return Rd(C.firebaseDependencies,x)})).apply(this,arguments)}function xd(C){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,O.Z)(function*(C){const D=yield ql(C.firebaseDependencies);D&&(yield Er(C.firebaseDependencies,D.token),yield tu(C.firebaseDependencies));const x=yield C.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function Ql(C,D){return bo.apply(this,arguments)}function bo(){return(bo=(0,O.Z)(function*(C,D){try{const x=yield nu(C.firebaseDependencies,D),L=Object.assign(Object.assign({},D),{token:x,createTime:Date.now()});return yield ji(C.firebaseDependencies,L),x}catch(x){throw yield xd(C),x}})).apply(this,arguments)}function Rd(C,D){return qa.apply(this,arguments)}function qa(){return(qa=(0,O.Z)(function*(C,D){const L={token:yield Fi(C,D),createTime:Date.now(),subscriptionOptions:D};return yield ji(C,L),L.token})).apply(this,arguments)}function kd(C,D){return na.apply(this,arguments)}function na(){return(na=(0,O.Z)(function*(C,D){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Td(D)})})).apply(this,arguments)}function Od(C,D){return D.vapidKey===C.vapidKey&&D.endpoint===C.endpoint&&D.auth===C.auth&&D.p256dh===C.p256dh}function Rf(C){const D={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Qi(C,D){if(!D.notification)return;C.notification={};const x=D.notification.title;x&&(C.notification.title=x);const L=D.notification.body;L&&(C.notification.body=L);const G=D.notification.image;G&&(C.notification.image=G);const Q=D.notification.icon;Q&&(C.notification.icon=Q)}(D,C),function Ds(C,D){!D.data||(C.data=D.data)}(D,C),function Un(C,D){var x,L,G,Q,be;if(!(D.fcmOptions||null!==(x=D.notification)&&void 0!==x&&x.click_action))return;C.fcmOptions={};const We=null!==(G=null===(L=D.fcmOptions)||void 0===L?void 0:L.link)&&void 0!==G?G:null===(Q=D.notification)||void 0===Q?void 0:Q.click_action;We&&(C.fcmOptions.link=We);const Ye=null===(be=D.fcmOptions)||void 0===be?void 0:be.analytics_label;Ye&&(C.fcmOptions.analyticsLabel=Ye)}(D,C),D}function Pd(C){return"object"==typeof C&&!!C&&Bs in C}function kf(C,D){const x=[];for(let L=0;L<C.length;L++)x.push(C.charAt(L)),L<D.length&&x.push(D.charAt(L));return x.join("")}function Fd(C){return bi.create("missing-app-config-values",{valueName:C})}kf("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),kf("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ld{constructor(D,x,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const G=function Nd(C){if(!C||!C.options)throw Fd("App Configuration Object");if(!C.name)throw Fd("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:x}=C;for(const L of D)if(!x[L])throw Fd(L);return{appName:C.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:G,installations:x,analyticsProvider:L}}_delete(){return Promise.resolve()}}function Vd(C){return wo.apply(this,arguments)}function wo(){return(wo=(0,O.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(Gl,{scope:Ba}),C.swRegistration.update().catch(()=>{})}catch(D){throw bi.create("failed-service-worker-registration",{browserErrorMessage:D?.message})}})).apply(this,arguments)}function Xl(C,D){return js.apply(this,arguments)}function js(){return(js=(0,O.Z)(function*(C,D){if(!D&&!C.swRegistration&&(yield Vd(C)),D||!C.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw bi.create("invalid-sw-registration");C.swRegistration=D}})).apply(this,arguments)}function Ud(C,D){return Za.apply(this,arguments)}function Za(){return(Za=(0,O.Z)(function*(C,D){D?C.vapidKey=D:C.vapidKey||(C.vapidKey=Gn)})).apply(this,arguments)}function Ss(){return(Ss=(0,O.Z)(function*(C,D){if(!navigator)throw bi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw bi.create("permission-blocked");return yield Ud(C,D?.vapidKey),yield Xl(C,D?.serviceWorkerRegistration),Yl(C)})).apply(this,arguments)}function Wa(C,D,x){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,O.Z)(function*(C,D,x){const L=dg(D);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:x[Bs],message_name:x[Id],message_time:x[Hr],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function dg(C){switch(C){case Et.NOTIFICATION_CLICKED:return"notification_open";case Et.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ka(){return(Ka=(0,O.Z)(function*(C,D){const x=D.data;if(!x.isFirebaseMessaging)return;C.onMessageHandler&&x.messageType===Et.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(Rf(x)):C.onMessageHandler.next(Rf(x)));const L=x.data;Pd(L)&&"1"===L[yo]&&(yield Wa(C,x.messageType,L))})).apply(this,arguments)}const Pf="@firebase/messaging",Hd=C=>{const D=new Ld(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function As(C,D){return Ka.apply(this,arguments)}(D,x)),D},ec=C=>{const D=C.getProvider("messaging").getImmediate();return{getToken:L=>function Of(C,D){return Ss.apply(this,arguments)}(D,L)}};function Ya(){return iu.apply(this,arguments)}function iu(){return(iu=(0,O.Z)(function*(){try{yield(0,oe.eu)()}catch{return!1}return typeof window<"u"&&(0,oe.hl)()&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function tc(){(0,ae._registerComponent)(new ue.wA("messaging",Hd,"PUBLIC")),(0,ae._registerComponent)(new ue.wA("messaging-internal",ec,"PRIVATE")),(0,ae.registerVersion)(Pf,"0.12.4"),(0,ae.registerVersion)(Pf,"0.12.4","esm2017")}();const hs="analytics",$s="firebase_id",Cr="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ou="https://www.googletagmanager.com/gtag/js",Nn=new ie.Yd("@firebase/analytics"),ii=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ra(C){if(!C.startsWith(ou)){const D=ii.create("invalid-gtag-resource",{gtagURL:C});return Nn.warn(D.message),""}return C}function Xa(C){return Promise.all(C.map(D=>D.catch(x=>x)))}function sc(C,D){const x=function Eo(C,D){let x;return window.trustedTypes&&(x=window.trustedTypes.createPolicy(C,D)),x}("firebase-js-sdk-policy",{createScriptURL:ra}),L=document.createElement("script"),G=`${ou}?l=${C}&id=${D}`;L.src=x?x?.createScriptURL(G):G,L.async=!0,document.head.appendChild(L)}function Ja(C,D,x,L,G,Q){return sa.apply(this,arguments)}function sa(){return(sa=(0,O.Z)(function*(C,D,x,L,G,Q){const be=L[G];try{if(be)yield D[be];else{const Ye=(yield Xa(x)).find(mt=>mt.measurementId===G);Ye&&(yield D[Ye.appId])}}catch(We){Nn.error(We)}C("config",G,Q)})).apply(this,arguments)}function hg(C,D,x,L,G){return fs.apply(this,arguments)}function fs(){return(fs=(0,O.Z)(function*(C,D,x,L,G){try{let Q=[];if(G&&G.send_to){let be=G.send_to;Array.isArray(be)||(be=[be]);const We=yield Xa(x);for(const Ye of be){const mt=We.find(kt=>kt.measurementId===Ye),Nt=mt&&D[mt.appId];if(!Nt){Q=[];break}Q.push(Nt)}}0===Q.length&&(Q=Object.values(D)),yield Promise.all(Q),C("event",L,G||{})}catch(Q){Nn.error(Q)}})).apply(this,arguments)}function jd(C){const D=window.document.getElementsByTagName("script");for(const x of Object.values(D))if(x.src&&x.src.includes(ou)&&x.src.includes(C))return x;return null}const Bn=new class Lf{constructor(D={},x=1e3){this.throttleMetadata=D,this.intervalMillis=x}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,x){this.throttleMetadata[D]=x}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function lu(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function tl(C){return cu.apply(this,arguments)}function cu(){return(cu=(0,O.Z)(function*(C){var D;const{appId:x,apiKey:L}=C,G={method:"GET",headers:lu(L)},Q=Cr.replace("{app-id}",x),be=yield fetch(Q,G);if(200!==be.status&&304!==be.status){let We="";try{const Ye=yield be.json();null!==(D=Ye.error)&&void 0!==D&&D.message&&(We=Ye.error.message)}catch{}throw ii.create("config-fetch-failed",{httpStatus:be.status,responseMessage:We})}return be.json()})).apply(this,arguments)}function oc(C){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,O.Z)(function*(C,D=Bn,x){const{appId:L,apiKey:G,measurementId:Q}=C.options;if(!L)throw ii.create("no-app-id");if(!G){if(Q)return{measurementId:Q,appId:L};throw ii.create("no-api-key")}const be=D.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},We=new Gs;return setTimeout((0,O.Z)(function*(){We.abort()}),void 0!==x?x:6e4),oa({appId:L,apiKey:G,measurementId:Q},be,We,D)})).apply(this,arguments)}function oa(C,D,x){return xs.apply(this,arguments)}function xs(){return(xs=(0,O.Z)(function*(C,{throttleEndTimeMillis:D,backoffCount:x},L,G=Bn){var Q;const{appId:be,measurementId:We}=C;try{yield zd(L,D)}catch(Ye){if(We)return Nn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${We} provided in the "measurementId" field in the local Firebase config. [${Ye?.message}]`),{appId:be,measurementId:We};throw Ye}try{const Ye=yield tl(C);return G.deleteThrottleMetadata(be),Ye}catch(Ye){const mt=Ye;if(!aa(mt)){if(G.deleteThrottleMetadata(be),We)return Nn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${We} provided in the "measurementId" field in the local Firebase config. [${mt?.message}]`),{appId:be,measurementId:We};throw Ye}const Nt=503===Number(null===(Q=mt?.customData)||void 0===Q?void 0:Q.httpStatus)?(0,oe.$s)(x,G.intervalMillis,30):(0,oe.$s)(x,G.intervalMillis),kt={throttleEndTimeMillis:Date.now()+Nt,backoffCount:x+1};return G.setThrottleMetadata(be,kt),Nn.debug(`Calling attemptFetch again in ${Nt} millis`),oa(C,kt,L,G)}})).apply(this,arguments)}function zd(C,D){return new Promise((x,L)=>{const G=Math.max(D-Date.now(),0),Q=setTimeout(x,G);C.addEventListener(()=>{clearTimeout(Q),L(ii.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function aa(C){if(!(C instanceof oe.ZR&&C.customData))return!1;const D=Number(C.customData.httpStatus);return 429===D||500===D||503===D||504===D}class Gs{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let la,Zn;function hn(){return(hn=(0,O.Z)(function*(C,D,x,L,G){if(G&&G.global)C("event",x,L);else{const Q=yield D;C("event",x,Object.assign(Object.assign({},L),{send_to:Q}))}})).apply(this,arguments)}function rl(C){Zn=C}function cr(C){la=C}function fg(){return hu.apply(this,arguments)}function hu(){return(hu=(0,O.Z)(function*(){if(!(0,oe.hl)())return Nn.warn(ii.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(C){return Nn.warn(ii.create("indexeddb-unavailable",{errorInfo:C?.toString()}).message),!1}return!0})).apply(this,arguments)}function Ir(){return(Ir=(0,O.Z)(function*(C,D,x,L,G,Q,be){var We;const Ye=oc(C);Ye.then(Ei=>{x[Ei.measurementId]=Ei.appId,C.options.measurementId&&Ei.measurementId!==C.options.measurementId&&Nn.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${Ei.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ei=>Nn.error(Ei)),D.push(Ye);const mt=fg().then(Ei=>{if(Ei)return L.getId()}),[Nt,kt]=yield Promise.all([Ye,mt]);jd(Q)||sc(Q,Nt.measurementId),Zn&&(G("consent","default",Zn),rl(void 0)),G("js",new Date);const Mr=null!==(We=be?.config)&&void 0!==We?We:{};return Mr.origin="firebase",Mr.update=!0,null!=kt&&(Mr[$s]=kt),G("config",Nt.measurementId,Mr),la&&(G("set",la),cr(void 0)),Nt.measurementId})).apply(this,arguments)}class Hf{constructor(D){this.app=D}_delete(){return delete Tr[this.app.options.appId],Promise.resolve()}}let Tr={},Io=[];const fu={};let pg,qs,pu="dataLayer",ac=!1;function sl(C,D,x){!function qd(){const C=[];if((0,oe.ru)()&&C.push("This is a browser extension environment."),(0,oe.zI)()||C.push("Cookies are not available."),C.length>0){const D=C.map((L,G)=>`(${G+1}) ${L}`).join(" "),x=ii.create("invalid-analytics-context",{errorInfo:D});Nn.warn(x.message)}}();const L=C.options.appId;if(!L)throw ii.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw ii.create("no-api-key");Nn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Tr[L])throw ii.create("already-exists",{id:L});if(!ac){!function Ff(C){let D=[];Array.isArray(window[C])?D=window[C]:window[C]=D}(pu);const{wrappedGtag:Q,gtagCore:be}=function zs(C,D,x,L,G){let Q=function(...be){window[L].push(arguments)};return window[G]&&"function"==typeof window[G]&&(Q=window[G]),window[G]=function el(C,D,x,L){function Q(){return(Q=(0,O.Z)(function*(be,...We){try{if("event"===be){const[Ye,mt]=We;yield hg(C,D,x,Ye,mt)}else if("config"===be){const[Ye,mt]=We;yield Ja(C,D,x,L,Ye,mt)}else if("consent"===be){const[Ye]=We;C("consent","update",Ye)}else if("get"===be){const[Ye,mt,Nt]=We;C("get",Ye,mt,Nt)}else if("set"===be){const[Ye]=We;C("set",Ye)}else C(be,...We)}catch(Ye){Nn.error(Ye)}})).apply(this,arguments)}return function G(be){return Q.apply(this,arguments)}}(Q,C,D,x),{gtagCore:Q,wrappedGtag:window[G]}}(Tr,Io,fu,pu,"gtag");qs=Q,pg=be,ac=!0}return Tr[L]=function di(C,D,x,L,G,Q,be){return Ir.apply(this,arguments)}(C,Io,fu,D,pg,pu,x),new Hf(C)}function Zd(){return Wd.apply(this,arguments)}function Wd(){return(Wd=(0,O.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}const To="@firebase/analytics";!function Gf(){(0,ae._registerComponent)(new ue.wA(hs,(D,{options:x})=>sl(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,ae._registerComponent)(new ue.wA("analytics-internal",function C(D){try{const x=D.getProvider(hs).getImmediate();return{logEvent:(L,G,Q)=>function nn(C,D,x,L){C=(0,oe.m9)(C),function nl(C,D,x,L,G){return hn.apply(this,arguments)}(qs,Tr[C.app.options.appId],D,x,L).catch(G=>Nn.error(G))}(x,L,G,Q)}}catch(x){throw ii.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,ae.registerVersion)(To,"0.10.0"),(0,ae.registerVersion)(To,"0.10.0","esm2017")}();var qf=N(4408),da=N(7565);const ha=new class Sr extends da.v{}(class al extends qf.o{constructor(D,x){super(D,x),this.scheduler=D,this.work=x}schedule(D,x=0){return x>0?super.schedule(D,x):(this.delay=x,this.state=D,this.scheduler.flush(this),this)}execute(D,x){return x>0||this.closed?super.execute(D,x):this._execute(D,x)}requestAsyncId(D,x,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(D,x,L):(D.flush(this),0)}});var pt=N(4986),lc=N(8505),gu=N(9468),Rs=N(5363);const cc=new l.GfV("7.5.0"),uc="__angularfire_symbol__analyticsIsSupportedValue",Zs="__angularfire_symbol__analyticsIsSupported",Gr="__angularfire_symbol__remoteConfigIsSupportedValue",wi="__angularfire_symbol__remoteConfigIsSupported",fa="__angularfire_symbol__messagingIsSupportedValue",qr="__angularfire_symbol__messagingIsSupported";function _u(C,D,x){if(D){if(1===D.length)return D[0];const Q=D.filter(be=>be.app===x);if(1===Q.length)return Q[0]}return x.container.getProvider(C).getImmediate({optional:!0})}globalThis[Zs]||(globalThis[Zs]=Zd().then(C=>globalThis[uc]=C).catch(()=>globalThis[uc]=!1)),globalThis[qr]||(globalThis[qr]=Ya().then(C=>globalThis[fa]=C).catch(()=>globalThis[fa]=!1)),globalThis[wi]||(globalThis[wi]=Yi().then(C=>globalThis[Gr]=C).catch(()=>globalThis[Gr]=!1));const Ws=(C,D)=>{const x=D?[D]:(0,X.C6)(),L=[];return x.forEach(G=>{G.container.getProvider(C).instances.forEach(be=>{L.includes(be)||L.push(be)})}),L};function Do(){}class Rn{constructor(D,x=ha){this.zone=D,this.delegate=x}now(){return this.delegate.now()}schedule(D,x,L){const G=this.zone;return this.delegate.schedule(function(be){G.runGuarded(()=>{D.apply(this,[be])})},x,L)}}class Ar{constructor(D){this.zone=D,this.task=null}call(D,x){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Do,{},Do,Do)),x.pipe((0,lc.b)({next:L,complete:L,error:L})).subscribe(D).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Wf=(()=>{class C{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new Rn(Zone.current)),this.insideAngular=x.run(()=>new Rn(Zone.current,pt.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(x){return new(x||C)(l.LFG(l.R0b))},C.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function Hn(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function cl(C){return Hn(),function ul(C){return function(x){return(x=x.lift(new Ar(C.ngZone))).pipe((0,gu.R)(C.outsideAngular),(0,Rs.Q)(C.insideAngular))}}(Hn())(C)}},2090:(gt,De,N)=>{N.d(De,{$s:()=>os,BH:()=>pe,G6:()=>ke,L:()=>he,LL:()=>He,Pz:()=>Ce,Sg:()=>qe,UG:()=>ee,US:()=>ue,ZB:()=>W,ZR:()=>Ft,aH:()=>Oe,b$:()=>Zt,eu:()=>Te,hl:()=>Ve,jU:()=>Mt,m9:()=>Wi,ne:()=>an,pd:()=>li,r3:()=>Nr,ru:()=>ht,tV:()=>z,uI:()=>Je,vZ:()=>qi,w1:()=>de,xO:()=>Ko,xb:()=>Wo,z$:()=>je,zI:()=>xt,zd:()=>yr});const ae=function(H){const U=[];let Z=0;for(let le=0;le<H.length;le++){let Y=H.charCodeAt(le);Y<128?U[Z++]=Y:Y<2048?(U[Z++]=Y>>6|192,U[Z++]=63&Y|128):55296==(64512&Y)&&le+1<H.length&&56320==(64512&H.charCodeAt(le+1))?(Y=65536+((1023&Y)<<10)+(1023&H.charCodeAt(++le)),U[Z++]=Y>>18|240,U[Z++]=Y>>12&63|128,U[Z++]=Y>>6&63|128,U[Z++]=63&Y|128):(U[Z++]=Y>>12|224,U[Z++]=Y>>6&63|128,U[Z++]=63&Y|128)}return U},ue={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(H,U){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Z=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,le=[];for(let Y=0;Y<H.length;Y+=3){const Ze=H[Y],At=Y+1<H.length,Lt=At?H[Y+1]:0,gn=Y+2<H.length,Ue=gn?H[Y+2]:0;let En=(15&Lt)<<2|Ue>>6,Pi=63&Ue;gn||(Pi=64,At||(En=64)),le.push(Z[Ze>>2],Z[(3&Ze)<<4|Lt>>4],Z[En],Z[Pi])}return le.join("")},encodeString(H,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(H):this.encodeByteArray(ae(H),U)},decodeString(H,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(H):function(H){const U=[];let Z=0,le=0;for(;Z<H.length;){const Y=H[Z++];if(Y<128)U[le++]=String.fromCharCode(Y);else if(Y>191&&Y<224){const Ze=H[Z++];U[le++]=String.fromCharCode((31&Y)<<6|63&Ze)}else if(Y>239&&Y<365){const gn=((7&Y)<<18|(63&H[Z++])<<12|(63&H[Z++])<<6|63&H[Z++])-65536;U[le++]=String.fromCharCode(55296+(gn>>10)),U[le++]=String.fromCharCode(56320+(1023&gn))}else{const Ze=H[Z++],At=H[Z++];U[le++]=String.fromCharCode((15&Y)<<12|(63&Ze)<<6|63&At)}}return U.join("")}(this.decodeStringToByteArray(H,U))},decodeStringToByteArray(H,U){this.init_();const Z=U?this.charToByteMapWebSafe_:this.charToByteMap_,le=[];for(let Y=0;Y<H.length;){const Ze=Z[H.charAt(Y++)],Lt=Y<H.length?Z[H.charAt(Y)]:0;++Y;const Ue=Y<H.length?Z[H.charAt(Y)]:64;++Y;const vt=Y<H.length?Z[H.charAt(Y)]:64;if(++Y,null==Ze||null==Lt||null==Ue||null==vt)throw new ie;le.push(Ze<<2|Lt>>4),64!==Ue&&(le.push(Lt<<4&240|Ue>>2),64!==vt&&le.push(Ue<<6&192|vt))}return le},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}};class ie extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const he=function(H){return function(H){const U=ae(H);return ue.encodeByteArray(U,!0)}(H).replace(/\./g,"")},z=function(H){try{return ue.decodeString(H,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};function W(H,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===H&&(H={});break;case Array:H=[];break;default:return U}for(const Z in U)!U.hasOwnProperty(Z)||!Ge(Z)||(H[Z]=W(H[Z],U[Z]));return H}function Ge(H){return"__proto__"!==H}const ye=()=>{try{return function xe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const H=process.env.__FIREBASE_DEFAULTS__;return H?JSON.parse(H):void 0})()||(()=>{if(typeof document>"u")return;let H;try{H=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const U=H&&z(H[1]);return U&&JSON.parse(U)})()}catch(H){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${H}`)}},Oe=()=>{var H;return null===(H=ye())||void 0===H?void 0:H.config},Ce=H=>{var U;return null===(U=ye())||void 0===U?void 0:U[`_${H}`]};class pe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,Z)=>{this.resolve=U,this.reject=Z})}wrapCallback(U){return(Z,le)=>{Z?this.reject(Z):this.resolve(le),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(Z):U(Z,le))}}}function qe(H,U){if(H.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const le=U||"demo-project",Y=H.iat||0,Ze=H.sub||H.user_id;if(!Ze)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const At=Object.assign({iss:`https://securetoken.google.com/${le}`,aud:le,iat:Y,exp:Y+3600,auth_time:Y,sub:Ze,user_id:Ze,firebase:{sign_in_provider:"custom",identities:{}}},H);return[he(JSON.stringify({alg:"none",type:"JWT"})),he(JSON.stringify(At)),""].join(".")}function je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Je(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function ee(){var H;const U=null===(H=ye())||void 0===H?void 0:H.forceEnvironment;if("node"===U)return!0;if("browser"===U)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Mt(){return"object"==typeof self&&self.self===self}function ht(){const H="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof H&&void 0!==H.id}function Zt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function de(){const H=je();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function ke(){return!ee()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ve(){try{return"object"==typeof indexedDB}catch{return!1}}function Te(){return new Promise((H,U)=>{try{let Z=!0;const le="validate-browser-context-for-indexeddb-analytics-module",Y=self.indexedDB.open(le);Y.onsuccess=()=>{Y.result.close(),Z||self.indexedDB.deleteDatabase(le),H(!0)},Y.onupgradeneeded=()=>{Z=!1},Y.onerror=()=>{var Ze;U((null===(Ze=Y.error)||void 0===Ze?void 0:Ze.message)||"")}}catch(Z){U(Z)}})}function xt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ft extends Error{constructor(U,Z,le){super(Z),this.code=U,this.customData=le,this.name="FirebaseError",Object.setPrototypeOf(this,Ft.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,He.prototype.create)}}class He{constructor(U,Z,le){this.service=U,this.serviceName=Z,this.errors=le}create(U,...Z){const le=Z[0]||{},Y=`${this.service}/${U}`,Ze=this.errors[U],At=Ze?function Gt(H,U){return H.replace(Wt,(Z,le)=>{const Y=U[le];return null!=Y?String(Y):`<${le}?>`})}(Ze,le):"Error";return new Ft(Y,`${this.serviceName}: ${At} (${Y}).`,le)}}const Wt=/\{\$([^}]+)}/g;function Nr(H,U){return Object.prototype.hasOwnProperty.call(H,U)}function Wo(H){for(const U in H)if(Object.prototype.hasOwnProperty.call(H,U))return!1;return!0}function qi(H,U){if(H===U)return!0;const Z=Object.keys(H),le=Object.keys(U);for(const Y of Z){if(!le.includes(Y))return!1;const Ze=H[Y],At=U[Y];if(Fr(Ze)&&Fr(At)){if(!qi(Ze,At))return!1}else if(Ze!==At)return!1}for(const Y of le)if(!Z.includes(Y))return!1;return!0}function Fr(H){return null!==H&&"object"==typeof H}function Ko(H){const U=[];for(const[Z,le]of Object.entries(H))Array.isArray(le)?le.forEach(Y=>{U.push(encodeURIComponent(Z)+"="+encodeURIComponent(Y))}):U.push(encodeURIComponent(Z)+"="+encodeURIComponent(le));return U.length?"&"+U.join("&"):""}function yr(H){const U={};return H.replace(/^\?/,"").split("&").forEach(le=>{if(le){const[Y,Ze]=le.split("=");U[decodeURIComponent(Y)]=decodeURIComponent(Ze)}}),U}function li(H){const U=H.indexOf("?");if(!U)return"";const Z=H.indexOf("#",U);return H.substring(U,Z>0?Z:void 0)}function an(H,U){const Z=new it(H,U);return Z.subscribe.bind(Z)}class it{constructor(U,Z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then(()=>{U(this)}).catch(le=>{this.error(le)})}next(U){this.forEachObserver(Z=>{Z.next(U)})}error(U){this.forEachObserver(Z=>{Z.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,Z,le){let Y;if(void 0===U&&void 0===Z&&void 0===le)throw new Error("Missing Observer.");Y=function wn(H,U){if("object"!=typeof H||null===H)return!1;for(const Z of U)if(Z in H&&"function"==typeof H[Z])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:Z,complete:le},void 0===Y.next&&(Y.next=ss),void 0===Y.error&&(Y.error=ss),void 0===Y.complete&&(Y.complete=ss);const Ze=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Y.error(this.finalError):Y.complete()}catch{}}),this.observers.push(Y),Ze}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let Z=0;Z<this.observers.length;Z++)this.sendOne(Z,U)}sendOne(U,Z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{Z(this.observers[U])}catch(le){typeof console<"u"&&console.error&&console.error(le)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ss(){}function os(H,U=1e3,Z=2){const le=U*Math.pow(Z,H),Y=Math.round(.5*le*(Math.random()-.5)*2);return Math.min(144e5,le+Y)}function Wi(H){return H&&H._delegate?H._delegate:H}},5633:(gt,De,N)=>{var l=N(4650);let X=null;function O(){return X}const ie=new l.OlP("DocumentToken");let Ee=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function he(){return(0,l.LFG)($)}()},providedIn:"platform"}),n})();const z=new l.OlP("Location Initialized");let $=(()=>{class n extends Ee{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){W()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){W()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ge(){return new $((0,l.LFG)(ie))}()},providedIn:"platform"}),n})();function W(){return!!window.history.pushState}function xe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ie(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ot(n){return n&&"?"!==n[0]?"?"+n:n}let ve=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(yt)},providedIn:"root"}),n})();const ye=new l.OlP("appBaseHref");let yt=(()=>{class n extends ve{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return xe(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+ot(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,a){const u=this.prepareExternalUrl(r+ot(a));this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,a){const u=this.prepareExternalUrl(r+ot(a));this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ee),l.LFG(ye,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Tt=(()=>{class n extends ve{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=xe(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,a){let u=this.prepareExternalUrl(r+ot(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,a){let u=this.prepareExternalUrl(r+ot(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ee),l.LFG(ye,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Oe=(()=>{class n{constructor(t){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._baseHref=Ie(qe(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+ot(i))}normalize(t){return n.stripTrailingSlash(function pe(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,qe(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ot(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ot(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=ot,n.joinWithSlash=xe,n.stripTrailingSlash=Ie,n.\u0275fac=function(t){return new(t||n)(l.LFG(ve))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ce(){return new Oe((0,l.LFG)(ve))}()},providedIn:"root"}),n})();function qe(n){return n.replace(/\/index.html$/,"")}const je={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Je=(()=>((Je=Je||{})[Je.Decimal=0]="Decimal",Je[Je.Percent=1]="Percent",Je[Je.Currency=2]="Currency",Je[Je.Scientific=3]="Scientific",Je))(),Mt=(()=>((Mt=Mt||{})[Mt.Format=0]="Format",Mt[Mt.Standalone=1]="Standalone",Mt))(),ht=(()=>((ht=ht||{})[ht.Narrow=0]="Narrow",ht[ht.Abbreviated=1]="Abbreviated",ht[ht.Wide=2]="Wide",ht[ht.Short=3]="Short",ht))(),Zt=(()=>((Zt=Zt||{})[Zt.Short=0]="Short",Zt[Zt.Medium=1]="Medium",Zt[Zt.Long=2]="Long",Zt[Zt.Full=3]="Full",Zt))(),ct=(()=>((ct=ct||{})[ct.Decimal=0]="Decimal",ct[ct.Group=1]="Group",ct[ct.List=2]="List",ct[ct.PercentSign=3]="PercentSign",ct[ct.PlusSign=4]="PlusSign",ct[ct.MinusSign=5]="MinusSign",ct[ct.Exponential=6]="Exponential",ct[ct.SuperscriptingExponent=7]="SuperscriptingExponent",ct[ct.PerMille=8]="PerMille",ct[ct.Infinity=9]="Infinity",ct[ct.NaN=10]="NaN",ct[ct.TimeSeparator=11]="TimeSeparator",ct[ct.CurrencyDecimal=12]="CurrencyDecimal",ct[ct.CurrencyGroup=13]="CurrencyGroup",ct))();function Ft(n,e){return ft((0,l.cg1)(n)[l.wAp.DateFormat],e)}function He(n,e){return ft((0,l.cg1)(n)[l.wAp.TimeFormat],e)}function Gt(n,e){return ft((0,l.cg1)(n)[l.wAp.DateTimeFormat],e)}function Wt(n,e){const t=(0,l.cg1)(n),i=t[l.wAp.NumberSymbols][e];if(typeof i>"u"){if(e===ct.CurrencyDecimal)return t[l.wAp.NumberSymbols][ct.Decimal];if(e===ct.CurrencyGroup)return t[l.wAp.NumberSymbols][ct.Group]}return i}function rs(n){if(!n[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ft(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function qi(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const yr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,li={},Mn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var an=(()=>((an=an||{})[an.Short=0]="Short",an[an.ShortGMT=1]="ShortGMT",an[an.Long=2]="Long",an[an.Extended=3]="Extended",an))(),it=(()=>((it=it||{})[it.FullYear=0]="FullYear",it[it.Month=1]="Month",it[it.Date=2]="Date",it[it.Hours=3]="Hours",it[it.Minutes=4]="Minutes",it[it.Seconds=5]="Seconds",it[it.FractionalSeconds=6]="FractionalSeconds",it[it.Day=7]="Day",it))(),wt=(()=>((wt=wt||{})[wt.DayPeriods=0]="DayPeriods",wt[wt.Days=1]="Days",wt[wt.Months=2]="Months",wt[wt.Eras=3]="Eras",wt))();function wn(n,e,t,i){let r=function Y(n){if(At(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,a=1,u=1]=n.split("-").map(f=>+f);return ss(r,a-1,u)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(yr))return function Ze(n){const e=new Date(0);let t=0,i=0;const r=n[8]?e.setUTCFullYear:e.setFullYear,a=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const u=Number(n[4]||0)-t,f=Number(n[5]||0)-i,_=Number(n[6]||0),w=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return a.call(e,u,f,_,w),e}(i)}const e=new Date(n);if(!At(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=sr(t,e)||e;let f,u=[];for(;e;){if(f=Mn.exec(e),!f){u.push(e);break}{u=u.concat(f.slice(1));const I=u.pop();if(!I)break;e=I}}let _=r.getTimezoneOffset();i&&(_=U(i,_),r=function le(n,e,t){const i=t?-1:1,r=n.getTimezoneOffset();return function Z(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,i*(U(e,r)-r))}(r,i,!0));let w="";return u.forEach(I=>{const M=function H(n){if(Wi[n])return Wi[n];let e;switch(n){case"G":case"GG":case"GGG":e=ln(wt.Eras,ht.Abbreviated);break;case"GGGG":e=ln(wt.Eras,ht.Wide);break;case"GGGGG":e=ln(wt.Eras,ht.Narrow);break;case"y":e=yn(it.FullYear,1,0,!1,!0);break;case"yy":e=yn(it.FullYear,2,0,!0,!0);break;case"yyy":e=yn(it.FullYear,3,0,!1,!0);break;case"yyyy":e=yn(it.FullYear,4,0,!1,!0);break;case"Y":e=or(1);break;case"YY":e=or(2,!0);break;case"YYY":e=or(3);break;case"YYYY":e=or(4);break;case"M":case"L":e=yn(it.Month,1,1);break;case"MM":case"LL":e=yn(it.Month,2,1);break;case"MMM":e=ln(wt.Months,ht.Abbreviated);break;case"MMMM":e=ln(wt.Months,ht.Wide);break;case"MMMMM":e=ln(wt.Months,ht.Narrow);break;case"LLL":e=ln(wt.Months,ht.Abbreviated,Mt.Standalone);break;case"LLLL":e=ln(wt.Months,ht.Wide,Mt.Standalone);break;case"LLLLL":e=ln(wt.Months,ht.Narrow,Mt.Standalone);break;case"w":e=$n(1);break;case"ww":e=$n(2);break;case"W":e=$n(1,!0);break;case"d":e=yn(it.Date,1);break;case"dd":e=yn(it.Date,2);break;case"c":case"cc":e=yn(it.Day,1);break;case"ccc":e=ln(wt.Days,ht.Abbreviated,Mt.Standalone);break;case"cccc":e=ln(wt.Days,ht.Wide,Mt.Standalone);break;case"ccccc":e=ln(wt.Days,ht.Narrow,Mt.Standalone);break;case"cccccc":e=ln(wt.Days,ht.Short,Mt.Standalone);break;case"E":case"EE":case"EEE":e=ln(wt.Days,ht.Abbreviated);break;case"EEEE":e=ln(wt.Days,ht.Wide);break;case"EEEEE":e=ln(wt.Days,ht.Narrow);break;case"EEEEEE":e=ln(wt.Days,ht.Short);break;case"a":case"aa":case"aaa":e=ln(wt.DayPeriods,ht.Abbreviated);break;case"aaaa":e=ln(wt.DayPeriods,ht.Wide);break;case"aaaaa":e=ln(wt.DayPeriods,ht.Narrow);break;case"b":case"bb":case"bbb":e=ln(wt.DayPeriods,ht.Abbreviated,Mt.Standalone,!0);break;case"bbbb":e=ln(wt.DayPeriods,ht.Wide,Mt.Standalone,!0);break;case"bbbbb":e=ln(wt.DayPeriods,ht.Narrow,Mt.Standalone,!0);break;case"B":case"BB":case"BBB":e=ln(wt.DayPeriods,ht.Abbreviated,Mt.Format,!0);break;case"BBBB":e=ln(wt.DayPeriods,ht.Wide,Mt.Format,!0);break;case"BBBBB":e=ln(wt.DayPeriods,ht.Narrow,Mt.Format,!0);break;case"h":e=yn(it.Hours,1,-12);break;case"hh":e=yn(it.Hours,2,-12);break;case"H":e=yn(it.Hours,1);break;case"HH":e=yn(it.Hours,2);break;case"m":e=yn(it.Minutes,1);break;case"mm":e=yn(it.Minutes,2);break;case"s":e=yn(it.Seconds,1);break;case"ss":e=yn(it.Seconds,2);break;case"S":e=yn(it.FractionalSeconds,1);break;case"SS":e=yn(it.FractionalSeconds,2);break;case"SSS":e=yn(it.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=ki(an.Short);break;case"ZZZZZ":e=ki(an.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=ki(an.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=ki(an.Long);break;default:return null}return Wi[n]=e,e}(I);w+=M?M(r,t,_):"''"===I?"'":I.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),w}function ss(n,e,t){const i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function sr(n,e){const t=function me(n){return(0,l.cg1)(n)[l.wAp.LocaleId]}(n);if(li[t]=li[t]||{},li[t][e])return li[t][e];let i="";switch(e){case"shortDate":i=Ft(n,Zt.Short);break;case"mediumDate":i=Ft(n,Zt.Medium);break;case"longDate":i=Ft(n,Zt.Long);break;case"fullDate":i=Ft(n,Zt.Full);break;case"shortTime":i=He(n,Zt.Short);break;case"mediumTime":i=He(n,Zt.Medium);break;case"longTime":i=He(n,Zt.Long);break;case"fullTime":i=He(n,Zt.Full);break;case"short":const r=sr(n,"shortTime"),a=sr(n,"shortDate");i=ni(Gt(n,Zt.Short),[r,a]);break;case"medium":const u=sr(n,"mediumTime"),f=sr(n,"mediumDate");i=ni(Gt(n,Zt.Medium),[u,f]);break;case"long":const _=sr(n,"longTime"),w=sr(n,"longDate");i=ni(Gt(n,Zt.Long),[_,w]);break;case"full":const I=sr(n,"fullTime"),M=sr(n,"fullDate");i=ni(Gt(n,Zt.Full),[I,M])}return i&&(li[t][e]=i),i}function ni(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),n}function St(n,e,t="-",i,r){let a="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,a=t));let u=String(n);for(;u.length<e;)u="0"+u;return i&&(u=u.slice(u.length-e)),a+u}function yn(n,e,t=0,i=!1,r=!1){return function(a,u){let f=function Yo(n,e){switch(n){case it.FullYear:return e.getFullYear();case it.Month:return e.getMonth();case it.Date:return e.getDate();case it.Hours:return e.getHours();case it.Minutes:return e.getMinutes();case it.Seconds:return e.getSeconds();case it.FractionalSeconds:return e.getMilliseconds();case it.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,a);if((t>0||f>-t)&&(f+=t),n===it.Hours)0===f&&-12===t&&(f=12);else if(n===it.FractionalSeconds)return function Ri(n,e){return St(n,3).substring(0,e)}(f,e);const _=Wt(u,ct.MinusSign);return St(f,e,_,i,r)}}function ln(n,e,t=Mt.Format,i=!1){return function(r,a){return function ci(n,e,t,i,r,a){switch(t){case wt.Months:return function Ve(n,e,t){const i=(0,l.cg1)(n),a=ft([i[l.wAp.MonthsFormat],i[l.wAp.MonthsStandalone]],e);return ft(a,t)}(e,r,i)[n.getMonth()];case wt.Days:return function ke(n,e,t){const i=(0,l.cg1)(n),a=ft([i[l.wAp.DaysFormat],i[l.wAp.DaysStandalone]],e);return ft(a,t)}(e,r,i)[n.getDay()];case wt.DayPeriods:const u=n.getHours(),f=n.getMinutes();if(a){const w=function Nr(n){const e=(0,l.cg1)(n);return rs(e),(e[l.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?qi(i):[qi(i[0]),qi(i[1])])}(e),I=function Va(n,e,t){const i=(0,l.cg1)(n);rs(i);const a=ft([i[l.wAp.ExtraData][0],i[l.wAp.ExtraData][1]],e)||[];return ft(a,t)||[]}(e,r,i),M=w.findIndex(P=>{if(Array.isArray(P)){const[V,q]=P,ne=u>=V.hours&&f>=V.minutes,_e=u<q.hours||u===q.hours&&f<q.minutes;if(V.hours<q.hours){if(ne&&_e)return!0}else if(ne||_e)return!0}else if(P.hours===u&&P.minutes===f)return!0;return!1});if(-1!==M)return I[M]}return function Se(n,e,t){const i=(0,l.cg1)(n),a=ft([i[l.wAp.DayPeriodsFormat],i[l.wAp.DayPeriodsStandalone]],e);return ft(a,t)}(e,r,i)[u<12?0:1];case wt.Eras:return function Te(n,e){return ft((0,l.cg1)(n)[l.wAp.Eras],e)}(e,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,a,n,e,t,i)}}function ki(n){return function(e,t,i){const r=-1*i,a=Wt(t,ct.MinusSign),u=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case an.Short:return(r>=0?"+":"")+St(u,2,a)+St(Math.abs(r%60),2,a);case an.ShortGMT:return"GMT"+(r>=0?"+":"")+St(u,1,a);case an.Long:return"GMT"+(r>=0?"+":"")+St(u,2,a)+":"+St(Math.abs(r%60),2,a);case an.Extended:return 0===i?"Z":(r>=0?"+":"")+St(u,2,a)+":"+St(Math.abs(r%60),2,a);default:throw new Error(`Unknown zone width "${n}"`)}}}function os(n){return ss(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function $n(n,e=!1){return function(t,i){let r;if(e){const a=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,u=t.getDate();r=1+Math.floor((u+a)/7)}else{const a=os(t),u=function Oi(n){const e=ss(n,0,1).getDay();return ss(n,0,1+(e<=4?4:11)-e)}(a.getFullYear()),f=a.getTime()-u.getTime();r=1+Math.round(f/6048e5)}return St(r,n,Wt(i,ct.MinusSign))}}function or(n,e=!1){return function(t,i){return St(os(t).getFullYear(),n,Wt(i,ct.MinusSign),e)}}const Wi={};function U(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function At(n){return n instanceof Date&&!isNaN(n.valueOf())}const Lt=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function te(n,e,t,i,r){const u=function Dt(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),r=i[0],a=i[1],u=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],f=u[0],_=u[1]||"";t.posPre=f.substring(0,f.indexOf("#"));for(let I=0;I<_.length;I++){const M=_.charAt(I);"0"===M?t.minFrac=t.maxFrac=I+1:"#"===M?t.maxFrac=I+1:t.posSuf+=M}const w=f.split(",");if(t.gSize=w[1]?w[1].length:0,t.lgSize=w[2]||w[1]?(w[2]||w[1]).length:0,a){const I=r.length-t.posPre.length-t.posSuf.length,M=a.indexOf("#");t.negPre=a.substring(0,M).replace(/'/g,""),t.negSuf=a.slice(M+I).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function en(n,e){return(0,l.cg1)(n)[l.wAp.NumberFormats][e]}(e,Je.Currency),Wt(e,ct.MinusSign));return u.minFrac=function Ko(n){let e;const t=je[n];return t&&(e=t[2]),"number"==typeof e?e:2}(i),u.maxFrac=u.minFrac,function re(n,e,t,i,r,a,u=!1){let f="",_=!1;if(isFinite(n)){let w=function cn(n){let i,r,a,u,f,e=Math.abs(n)+"",t=0;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(a=e.search(/e/i))>0?(r<0&&(r=a),r+=+e.slice(a+1),e=e.substring(0,a)):r<0&&(r=e.length),a=0;"0"===e.charAt(a);a++);if(a===(f=e.length))i=[0],r=1;else{for(f--;"0"===e.charAt(f);)f--;for(r-=a,i=[],u=0;a<=f;a++,u++)i[u]=Number(e.charAt(a))}return r>22&&(i=i.splice(0,21),t=r-1,r=1),{digits:i,exponent:t,integerLen:r}}(n);u&&(w=function Vt(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(w));let I=e.minInt,M=e.minFrac,P=e.maxFrac;if(a){const nt=a.match(Lt);if(null===nt)throw new Error(`${a} is not a valid digit info`);const Xe=nt[1],It=nt[3],jt=nt[5];null!=Xe&&(I=Qt(Xe)),null!=It&&(M=Qt(It)),null!=jt?P=Qt(jt):null!=It&&M>P&&(P=M)}!function Pn(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let i=n.digits,r=i.length-n.integerLen;const a=Math.min(Math.max(e,r),t);let u=a+n.integerLen,f=i[u];if(u>0){i.splice(Math.max(n.integerLen,u));for(let M=u;M<i.length;M++)i[M]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,u=a+1),i[0]=0;for(let M=1;M<u;M++)i[M]=0}if(f>=5)if(u-1<0){for(let M=0;M>u;M--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[u-1]++;for(;r<Math.max(0,a);r++)i.push(0);let _=0!==a;const w=e+n.integerLen,I=i.reduceRight(function(M,P,V,q){return q[V]=(P+=M)<10?P:P-10,_&&(0===q[V]&&V>=w?q.pop():_=!1),P>=10?1:0},0);I&&(i.unshift(I),n.integerLen++)}(w,M,P);let V=w.digits,q=w.integerLen;const ne=w.exponent;let _e=[];for(_=V.every(nt=>!nt);q<I;q++)V.unshift(0);for(;q<0;q++)V.unshift(0);q>0?_e=V.splice(q,V.length):(_e=V,V=[0]);const $e=[];for(V.length>=e.lgSize&&$e.unshift(V.splice(-e.lgSize,V.length).join(""));V.length>e.gSize;)$e.unshift(V.splice(-e.gSize,V.length).join(""));V.length&&$e.unshift(V.join("")),f=$e.join(Wt(t,i)),_e.length&&(f+=Wt(t,r)+_e.join("")),ne&&(f+=Wt(t,ct.Exponential)+"+"+ne)}else f=Wt(t,ct.Infinity);return f=n<0&&!_?e.negPre+f+e.negSuf:e.posPre+f+e.posSuf,f}(n,u,e,ct.CurrencyGroup,ct.CurrencyDecimal,r).replace("\xa4",t).replace("\xa4","").trim()}function Qt(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}class qc{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let un=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,a,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new qc(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===a?void 0:a);else if(null!==a){const f=i.get(a);i.move(f,u),Us(f,r)}});for(let r=0,a=i.length;r<a;r++){const f=i.get(r).context;f.index=r,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{Us(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Us(n,e){n.context.$implicit=e.item}let dn=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new md,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ui("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ui("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class md{constructor(){this.$implicit=null,this.ngIf=null}}function ui(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}function Sn(n,e){return new l.vHH(2100,!1)}const cg=new l.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Kc=(()=>{class n{constructor(t,i){this.locale=t,this.defaultTimezone=i}transform(t,i="mediumDate",r,a){if(null==t||""===t||t!=t)return null;try{return wn(t,i,a||this.locale,r??this.defaultTimezone??void 0)}catch(u){throw Sn()}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.soG,16),l.Y36(cg,24))},n.\u0275pipe=l.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),go=(()=>{class n{constructor(t,i="USD"){this._locale=t,this._defaultCurrencyCode=i}transform(t,i=this._defaultCurrencyCode,r="symbol",a,u){if(!function Ua(n){return!(null==n||""===n||n!=n)}(t))return null;u=u||this._locale,"boolean"==typeof r&&(r=r?"symbol":"code");let f=i||this._defaultCurrencyCode;"code"!==r&&(f="symbol"===r||"symbol-narrow"===r?function Fr(n,e,t="en"){const i=function rr(n){return(0,l.cg1)(n)[l.wAp.Currencies]}(t)[n]||je[n]||[],r=i[1];return"narrow"===e&&"string"==typeof r?r:i[0]||n}(f,"symbol"===r?"wide":"narrow",u):r);try{return te(function Xc(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),u,f,i,a)}catch(_){throw Sn()}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.soG,16),l.Y36(l.EJc,16))},n.\u0275pipe=l.Yjl({name:"currency",type:n,pure:!0,standalone:!0}),n})();let _o=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const Hl="browser";function jl(n){return"server"===n}let Is=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new zl((0,l.LFG)(ie),window)}),n})();class zl{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Yi(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const a=r.shadowRoot;if(a){const u=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],r-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=wr(this.window.history)||wr(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function wr(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Hd extends class Bd extends class ue{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function oe(n){X||(X=n)}(new Hd)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function tc(){return ec=ec||document.querySelector("base"),ec?ec.getAttribute("href"):null}();return null==t?null:function iu(n){Ya=Ya||document.createElement("a"),Ya.setAttribute("href",n);const e=Ya.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ec=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Nl(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,a]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let Ya,ec=null;const Qa=new l.OlP("TRANSITION_ID"),Nf=[{provide:l.ip1,useFactory:function nc(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const i=O(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<r.length;a++)i.remove(r[a])})}},deps:[Qa,ie,l.zs3],multi:!0}];let sv=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const ds=new l.OlP("EventManagerPlugins");let rc=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let a=0;a<r.length;a++){const u=r[a];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ds),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class ia{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=O().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let hs=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),$s=(()=>{class n extends hs{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(a=>{const u=this._doc.createElement("style");u.textContent=a,r.push(i.appendChild(u))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(ru),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(ru))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function ru(n){O().remove(n)}const su={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Cr=/%COMP%/g;function Eo(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?Eo(n,r,t):(r=r.replace(Cr,n),t.push(r))}return t}function sc(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ja=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new sa(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case l.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new zs(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case l.ifc.ShadowDom:return new jd(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=Eo(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(rc),l.LFG($s),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class sa{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(su[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(el(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(el(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const a=su[r];a?e.setAttributeNS(a,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=su[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,i,r&l.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,sc(i)):this.eventManager.addEventListener(e,t,sc(i))}}function el(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class zs extends sa{constructor(e,t,i,r){super(e),this.component=i;const a=Eo(r+"-"+i.id,i.styles,[]);t.addStyles(a),this.contentAttr=function ra(n){return"_ngcontent-%COMP%".replace(Cr,n)}(r+"-"+i.id),this.hostAttr=function Xa(n){return"_nghost-%COMP%".replace(Cr,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class jd extends sa{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Eo(r.id,r.styles,[]);for(let u=0;u<a.length;u++){const f=document.createElement("style");f.textContent=a[u],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let $d=(()=>{class n extends ia{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const zr=["alt","control","meta","shift"],Lf={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Bn={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let lu=(()=>{class n extends ia{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const a=n.parseEventName(i),u=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,a.domEventName,u))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const a=n._normalizeKey(i.pop());let u="",f=i.indexOf("code");if(f>-1&&(i.splice(f,1),u="code."),zr.forEach(w=>{const I=i.indexOf(w);I>-1&&(i.splice(I,1),u+=w+".")}),u+=a,0!=i.length||0===a.length)return null;const _={};return _.domEventName=r,_.fullKey=u,_}static matchEventFullKeyCode(t,i){let r=Lf[t.key]||t.key,a="";return i.indexOf("code.")>-1&&(r=t.code,a="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),zr.forEach(u=>{u!==r&&(0,Bn[u])(t)&&(a+=u+".")}),a+=r,a===i)}static eventCallback(t,i,r){return a=>{n.matchEventFullKeyCode(a,t)&&r.runGuarded(()=>i(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const la=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:Hl},{provide:l.g9A,useValue:function xs(){Hd.makeCurrent()},multi:!0},{provide:ie,useFactory:function aa(){return(0,l.RDi)(document),document},deps:[]}]),nl=new l.OlP(""),hn=[{provide:l.rWj,useClass:class ic{addToWindow(e){l.dqk.getAngularTestability=(i,r=!0)=>{const a=e.findTestabilityInTree(i,r);if(null==a)throw new Error("Could not find testability for element.");return a},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(i=>{const r=l.dqk.getAllAngularTestabilities();let a=r.length,u=!1;const f=function(_){u=u||_,a--,0==a&&i(u)};r.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],uu=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function zd(){return new l.qLn},deps:[]},{provide:ds,useClass:$d,multi:!0,deps:[ie,l.R0b,l.Lbi]},{provide:ds,useClass:lu,multi:!0,deps:[ie]},{provide:Ja,useClass:Ja,deps:[rc,$s,l.AFp]},{provide:l.FYo,useExisting:Ja},{provide:hs,useExisting:$s},{provide:$s,useClass:$s,deps:[ie]},{provide:rc,useClass:rc,deps:[ds,l.R0b]},{provide:class Gl{},useClass:sv,deps:[]},[]];let il=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:Qa,useExisting:l.AFp},Nf]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(nl,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...uu,...hn],imports:[_o,l.hGG]}),n})(),Bf=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function du(){return new Bf((0,l.LFG)(ie))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let ol=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):l.LFG(ua),i},providedIn:"root"}),n})(),ua=(()=>{class n extends ol{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case l.q3G.NONE:return i;case l.q3G.HTML:return(0,l.qzn)(i,"HTML")?(0,l.z3N)(i):(0,l.EiD)(this._doc,String(i)).toString();case l.q3G.STYLE:return(0,l.qzn)(i,"Style")?(0,l.z3N)(i):i;case l.q3G.SCRIPT:if((0,l.qzn)(i,"Script"))return(0,l.z3N)(i);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.qzn)(i,"URL")?(0,l.z3N)(i):(0,l.mCW)(String(i));case l.q3G.RESOURCE_URL:if((0,l.qzn)(i,"ResourceURL"))return(0,l.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,l.JVY)(t)}bypassSecurityTrustStyle(t){return(0,l.L6k)(t)}bypassSecurityTrustScript(t){return(0,l.eBb)(t)}bypassSecurityTrustUrl(t){return(0,l.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,l.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function gg(n){return new ua(n.get(ie))}(l.LFG(l.zs3)),i},providedIn:"root"}),n})();const _n=void 0,zf=["es",[["a.\xa0m.","p.\xa0m."],_n,_n],_n,[["D","L","M","X","J","V","S"],["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],_n,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene","feb","mar","abr","may","jun","jul","ago","sept","oct","nov","dic"],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],_n,[["a. C.","d. C."],_n,["antes de Cristo","despu\xe9s de Cristo"]],1,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1}, {0}",_n,_n,_n],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{AUD:[_n,"$"],BRL:[_n,"R$"],BYN:[_n,"\u0440."],CAD:[_n,"$"],CNY:[_n,"\xa5"],EGP:[],ESP:["\u20a7"],GBP:[_n,"\xa3"],HKD:[_n,"$"],ILS:[_n,"\u20aa"],INR:[_n,"\u20b9"],JPY:[_n,"\xa5"],KRW:[_n,"\u20a9"],MXN:[_n,"$"],NZD:[_n,"$"],PHP:[_n,"\u20b1"],RON:[_n,"L"],THB:["\u0e3f"],TWD:[_n,"NT$"],USD:["US$","$"],XAF:[],XCD:[_n,"$"],XOF:[]},"ltr",function mu(n){const e=n,t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length,r=parseInt(n.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 1===e?1:0===r&&0!==t&&t%1e6==0&&0===i||!(r>=0&&r<=5)?4:5}];var nn=N(8996),Wn=N(9751);const{isArray:To}=Array,{getPrototypeOf:Yd,prototype:Gf,keys:qf}=Object;function al(n){if(1===n.length){const e=n[0];if(To(e))return{args:e,keys:null};if(function da(n){return n&&"object"==typeof n&&Yd(n)===Gf}(e)){const t=qf(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var Sr=N(8421),ha=N(3269),$t=N(5403),pt=N(4004);const{isArray:lc}=Array;function Rs(n){return(0,pt.U)(e=>function gu(n,e){return lc(e)?n(...e):n(e)}(n,e))}function cc(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function uc(...n){const e=(0,ha.jO)(n),{args:t,keys:i}=al(n),r=new Wn.y(a=>{const{length:u}=t;if(!u)return void a.complete();const f=new Array(u);let _=u,w=u;for(let I=0;I<u;I++){let M=!1;(0,Sr.Xf)(t[I]).subscribe((0,$t.x)(a,P=>{M||(M=!0,w--),f[I]=P},()=>_--,void 0,()=>{(!_||!M)&&(w||a.next(i?cc(i,f):f),a.complete())}))}});return e?r.pipe(Rs(e)):r}let Zs=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),Gr=(()=>{class n extends Zs{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const wi=new l.OlP("NgValueAccessor"),fa={provide:wi,useExisting:(0,l.Gpc)(()=>qr),multi:!0};let qr=(()=>{class n extends Gr{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,i){1&t&&l.NdJ("change",function(a){return i.onChange(a.target.checked)})("blur",function(){return i.onTouched()})},features:[l._Bn([fa]),l.qOj]}),n})();const ll={provide:wi,useExisting:(0,l.Gpc)(()=>Zr),multi:!0},pa=new l.OlP("CompositionEventMode");let Zr=(()=>{class n extends Zs{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Zf(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(pa,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&l.NdJ("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[l._Bn([ll]),l.qOj]}),n})();function Ws(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Do(n){return null!=n&&"number"==typeof n.length}const Rn=new l.OlP("NgValidators"),Ar=new l.OlP("NgAsyncValidators"),Wf=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Hn{static min(e){return yu(e)}static max(e){return function Ks(n){return e=>{if(Ws(e.value)||Ws(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function Qd(n){return Ws(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function Kf(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function cl(n){return Ws(n.value)||Wf.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function ul(n){return e=>Ws(e.value)||!Do(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function So(n){return e=>Do(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function vu(n){if(!n)return C;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Ws(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return We(e)}static composeAsync(e){return mt(e)}}function yu(n){return e=>{if(Ws(e.value)||Ws(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function C(n){return null}function D(n){return null!=n}function x(n){return(0,l.QGY)(n)?(0,nn.D)(n):n}function L(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function G(n,e){return e.map(t=>t(n))}function be(n){return n.map(e=>function Q(n){return!n.validate}(e)?e:t=>e.validate(t))}function We(n){if(!n)return null;const e=n.filter(D);return 0==e.length?null:function(t){return L(G(t,e))}}function Ye(n){return null!=n?We(be(n)):null}function mt(n){if(!n)return null;const e=n.filter(D);return 0==e.length?null:function(t){return uc(G(t,e).map(x)).pipe((0,pt.U)(L))}}function Nt(n){return null!=n?mt(be(n)):null}function kt(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Mr(n){return n._rawValidators}function Ei(n){return n._rawAsyncValidators}function ma(n){return n?Array.isArray(n)?n:[n]:[]}function dl(n,e){return Array.isArray(n)?n.includes(e):n===e}function ks(n,e){const t=ma(e);return ma(n).forEach(r=>{dl(t,r)||t.push(r)}),t}function ur(n,e){return ma(e).filter(t=>!dl(n,t))}class Wr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Ye(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Nt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ci extends Wr{get formDirective(){return null}get path(){return null}}class Ao extends Wr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Yf{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let dc=(()=>{class n extends Yf{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ao,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&l.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[l.qOj]}),n})(),hl=(()=>{class n extends Yf{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ci,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&l.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[l.qOj]}),n})();const fl="VALID",bu="INVALID",wu="PENDING",ga="DISABLED";function nh(n){return(ih(n)?n.validators:n)||null}function Eu(n){return Array.isArray(n)?Ye(n):n||null}function pc(n,e){return(ih(e)?e.asyncValidators:n)||null}function Cu(n){return Array.isArray(n)?Nt(n):n||null}function ih(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Xf(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new l.vHH(1e3,"");if(!i[t])throw new l.vHH(1001,"")}function bg(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new l.vHH(1002,"")})}class _a{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Eu(this._rawValidators),this._composedAsyncValidatorFn=Cu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===fl}get invalid(){return this.status===bu}get pending(){return this.status==wu}get disabled(){return this.status===ga}get enabled(){return this.status!==ga}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Eu(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Cu(e)}addValidators(e){this.setValidators(ks(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ks(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ur(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ur(e,this._rawAsyncValidators))}hasValidator(e){return dl(this._rawValidators,e)}hasAsyncValidator(e){return dl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=wu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ga,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=fl,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===fl||this.status===wu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ga:fl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=wu,this._hasOwnPendingAsyncValidator=!0;const t=x(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?ga:this.errors?bu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wu)?wu:this._anyControlsHaveStatus(bu)?bu:fl}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ih(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class Iu extends _a{constructor(e,t,i){super(nh(t),pc(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){bg(this,0,e),Object.keys(e).forEach(i=>{Xf(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,a)=>{i=t(i,r,a)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class Jf extends Iu{}function ep(n,e){return[...e.path,n]}function Ys(n,e){Du(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function np(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Eg(n,e)})}(n,e),function ip(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function hv(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Eg(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function tp(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function ya(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),rh(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Tu(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Du(n,e){const t=Mr(n);null!==e.validator?n.setValidators(kt(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=Ei(n);null!==e.asyncValidator?n.setAsyncValidators(kt(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Tu(e._rawValidators,r),Tu(e._rawAsyncValidators,r)}function rh(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=Mr(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==e.validator);a.length!==r.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const r=Ei(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==e.asyncValidator);a.length!==r.length&&(t=!0,n.setAsyncValidators(a))}}}const i=()=>{};return Tu(e._rawValidators,i),Tu(e._rawAsyncValidators,i),t}function Eg(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Su(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Os(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(a=>{a.constructor===Zr?t=a:function Sg(n){return Object.getPrototypeOf(n.constructor)===Gr}(a)?i=a:r=a}),r||i||t||null}function Ag(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function sp(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const gl=class extends _a{constructor(e=null,t,i){super(nh(t),pc(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ih(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=sp(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Ag(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Ag(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){sp(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Au={provide:Ao,useExisting:(0,l.Gpc)(()=>Mu)},Mg=(()=>Promise.resolve())();let Mu=(()=>{class n extends Ao{constructor(t,i,r,a,u){super(),this._changeDetectorRef=u,this.control=new gl,this._registered=!1,this.update=new l.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Os(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Su(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ys(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Mg.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&(0,l.D6c)(i);Mg.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?ep(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ci,9),l.Y36(Rn,10),l.Y36(Ar,10),l.Y36(wi,10),l.Y36(l.sBO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([Au]),l.qOj,l.TTD]}),n})(),yl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const dp={provide:wi,useExisting:(0,l.Gpc)(()=>gc),multi:!0};let gc=(()=>{class n extends Gr{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=i=>{t(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,i){1&t&&l.NdJ("input",function(a){return i.onChange(a.target.value)})("blur",function(){return i.onTouched()})},features:[l._Bn([dp]),l.qOj]}),n})(),lh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const Ru=new l.OlP("NgModelWithFormControlWarning"),fp={provide:Ci,useExisting:(0,l.Gpc)(()=>Qs)};let Qs=(()=>{class n extends Ci{constructor(t,i){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(rh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return Ys(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){ya(t.control||null,t,!1),function oh(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,function rp(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(ya(i||null,t),(n=>n instanceof gl)(r)&&(Ys(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);(function Cg(n,e){Du(n,e)})(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function Ig(n,e){return rh(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Du(this.form,this),this._oldForm&&rh(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Rn,10),l.Y36(Ar,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&l.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([fp]),l.qOj,l.TTD]}),n})();const Og={provide:Ao,useExisting:(0,l.Gpc)(()=>Ti)};let Ti=(()=>{class n extends Ao{constructor(t,i,r,a,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Os(0,a)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),Su(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return ep(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(l.Y36(Ci,13),l.Y36(Rn,10),l.Y36(Ar,10),l.Y36(wi,10),l.Y36(Ru,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([Og]),l.qOj,l.TTD]}),n})();let y=(()=>{class n{constructor(){this._validator=C}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):C,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();const b={provide:Rn,useExisting:(0,l.Gpc)(()=>S),multi:!0};let S=(()=>{class n extends y{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>function Fg(n){return"number"==typeof n?n:parseFloat(n)}(t),this.createValidator=t=>yu(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(t,i){2&t&&l.uIk("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[l._Bn([b]),l.qOj]}),n})(),yp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[lh]}),n})(),vp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[yp]}),n})(),vl=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Ru,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[yp]}),n})();class hh extends _a{constructor(e,t,i){super(nh(t),pc(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){bg(this,0,e),e.forEach((i,r)=>{Xf(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function Kn(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let bp=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,i=null){const r=this._reduceControls(t);let a={};return Kn(i)?a=i:null!==i&&(a.validators=i.validator,a.asyncValidators=i.asyncValidator),new Iu(r,a)}record(t,i=null){const r=this._reduceControls(t);return new Jf(r,i)}control(t,i,r){let a={};return this.useNonNullable?(Kn(i)?a=i:(a.validators=i,a.asyncValidators=r),new gl(t,{...a,nonNullable:!0})):new gl(t,i,r)}array(t,i,r){const a=t.map(u=>this._createControl(u));return new hh(a,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return t instanceof gl||t instanceof _a?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:vl}),n})();var xo=N(2011);const hE_firebase={apiKey:"AIzaSyCPokL3VPOIn4_CcjSJ_WwZq6LFZdreb4s",authDomain:"licorapp-d94de.firebaseapp.com",projectId:"licorapp-d94de",storageBucket:"licorapp-d94de.appspot.com",messagingSenderId:"197141046042",appId:"1:197141046042:web:5f04c3a5f904602ef982a3"};function dt(...n){const e=(0,ha.yG)(n);return(0,nn.D)(n,e)}var Yt=N(7579);class eo extends Yt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const Tv=(0,N(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var bl=N(4671),Dv=N(9672);function Sv(...n){const e=(0,ha.yG)(n),t=(0,ha.jO)(n),{args:i,keys:r}=al(n);if(0===i.length)return(0,nn.D)([],e);const a=new Wn.y(function fE(n,e,t=bl.y){return i=>{Av(e,()=>{const{length:r}=n,a=new Array(r);let u=r,f=r;for(let _=0;_<r;_++)Av(e,()=>{const w=(0,nn.D)(n[_],e);let I=!1;w.subscribe((0,$t.x)(i,M=>{a[_]=M,I||(I=!0,f--),f||i.next(t(a.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,e,r?u=>cc(r,u):bl.y));return t?a.pipe(Rs(t)):a}function Av(n,e,t){n?(0,Dv.f)(t,n,e):e()}var wp=N(8189);function Bg(...n){return function pE(){return(0,wp.J)(1)}()((0,nn.D)(n,(0,ha.yG)(n)))}function Hg(n){return new Wn.y(e=>{(0,Sr.Xf)(n()).subscribe(e)})}var E1=N(9635),ba=N(576);function yc(n,e){const t=(0,ba.m)(n)?n:()=>n,i=r=>r.error(t());return new Wn.y(e?r=>e.schedule(i,0,r):i)}var vc=N(515),bc=N(727),Yn=N(4482);function Mv(){return(0,Yn.e)((n,e)=>{let t=null;n._refCount++;const i=(0,$t.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,a=t;t=null,r&&(!a||r===a)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class jg extends Wn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Yn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new bc.w0;const t=this.getSubject();e.add(this.source.subscribe((0,$t.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=bc.w0.EMPTY)}return e}refCount(){return Mv()(this)}}function Si(n,e){return(0,Yn.e)((t,i)=>{let r=null,a=0,u=!1;const f=()=>u&&!r&&i.complete();t.subscribe((0,$t.x)(i,_=>{r?.unsubscribe();let w=0;const I=a++;(0,Sr.Xf)(n(_,I)).subscribe(r=(0,$t.x)(i,M=>i.next(e?e(_,M,I,w++):M),()=>{r=null,f()}))},()=>{u=!0,f()}))})}function wa(n){return n<=0?()=>vc.E:(0,Yn.e)((e,t)=>{let i=0;e.subscribe((0,$t.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Ea(...n){const e=(0,ha.yG)(n);return(0,Yn.e)((t,i)=>{(e?Bg(n,t,e):Bg(n,t)).subscribe(i)})}function Qn(n,e){return(0,Yn.e)((t,i)=>{let r=0;t.subscribe((0,$t.x)(i,a=>n.call(e,a,r++)&&i.next(a)))})}var hi=N(5577);function Ep(n){return(0,Yn.e)((e,t)=>{let i=!1;e.subscribe((0,$t.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function $g(n=VD){return(0,Yn.e)((e,t)=>{let i=!1;e.subscribe((0,$t.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function VD(){return new Tv}function wl(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Qn((r,a)=>n(r,a,i)):bl.y,wa(1),t?Ep(e):$g(()=>new Tv))}function El(n,e){return(0,ba.m)(e)?(0,hi.z)(n,e,1):(0,hi.z)(n,1)}var qn=N(8505);function Cl(n){return(0,Yn.e)((e,t)=>{let a,i=null,r=!1;i=e.subscribe((0,$t.x)(t,void 0,void 0,u=>{a=(0,Sr.Xf)(n(u,Cl(n)(e))),i?(i.unsubscribe(),i=null,a.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,a.subscribe(t))})}function UD(n,e,t,i,r){return(a,u)=>{let f=t,_=e,w=0;a.subscribe((0,$t.x)(u,I=>{const M=w++;_=f?n(_,I,M):(f=!0,I),i&&u.next(_)},r&&(()=>{f&&u.next(_),u.complete()})))}}function Cp(n,e){return(0,Yn.e)(UD(n,e,arguments.length>=2,!0))}function xv(n){return n<=0?()=>vc.E:(0,Yn.e)((e,t)=>{let i=[];e.subscribe((0,$t.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function zg(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Qn((r,a)=>n(r,a,i)):bl.y,xv(1),t?Ep(e):$g(()=>new Tv))}function Gg(n){return(0,pt.U)(()=>n)}function qg(n){return(0,Yn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Xt="primary",Zg=Symbol("RouteTitle");class HD{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ca(n){return new HD(n)}function jD(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let a=0;a<i.length;a++){const u=i[a],f=n[a];if(u.startsWith(":"))r[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function ps(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let a=0;a<t.length;a++)if(r=t[a],!mE(n[r],e[r]))return!1;return!0}function mE(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,a)=>i[a]===r)}return n===e}function $D(n){return Array.prototype.concat.apply([],n)}function Rv(n){return n.length>0?n[n.length-1]:null}function dr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function wc(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,nn.D)(Promise.resolve(n)):dt(n)}const kv={exact:function ph(n,e,t){if(!Yr(n.segments,e.segments)||!Yg(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!ph(n.children[i],e.children[i],t))return!1;return!0},subset:yE},Kg={exact:function Ov(n,e){return ps(n,e)},subset:function zD(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>mE(n[t],e[t]))},ignored:()=>!0};function _E(n,e,t){return kv[t.paths](n.root,e.root,t.matrixParams)&&Kg[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function yE(n,e,t){return vE(n,e,e.segments,t)}function vE(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Yr(r,t)||e.hasChildren()||!Yg(r,t,i))}if(n.segments.length===t.length){if(!Yr(n.segments,t)||!Yg(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!yE(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Yr(n.segments,r)&&Yg(n.segments,r,i)&&n.children[Xt])&&vE(n.children[Xt],e,a,i)}}function Yg(n,e,t){return e.every((i,r)=>Kg[t](n[r].parameters,i.parameters))}class Nu{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ca(this.queryParams)),this._queryParamMap}toString(){return I1.serialize(this)}}class tn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,dr(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tp(this)}}class Ip{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ca(this.parameters)),this._parameterMap}toString(){return IE(this)}}function Yr(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let bE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new wE},providedIn:"root"}),n})();class wE{parse(e){const t=new YD(e);return new Nu(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Qg(e.root,!0)}`,i=function qD(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Nv(t)}=${Nv(r)}`).join("&"):`${Nv(t)}=${Nv(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function EE(n){return encodeURI(n)}(e.fragment)}`:""}`}}const I1=new wE;function Tp(n){return n.segments.map(e=>IE(e)).join("/")}function Qg(n,e){if(!n.hasChildren())return Tp(n);if(e){const t=n.children[Xt]?Qg(n.children[Xt],!1):"",i=[];return dr(n.children,(r,a)=>{a!==Xt&&i.push(`${a}:${Qg(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function GD(n,e){let t=[];return dr(n.children,(i,r)=>{r===Xt&&(t=t.concat(e(i,r)))}),dr(n.children,(i,r)=>{r!==Xt&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===Xt?[Qg(n.children[Xt],!1)]:[`${r}:${Qg(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Xt]?`${Tp(n)}/${t[0]}`:`${Tp(n)}/(${t.join("//")})`}}function Pv(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nv(n){return Pv(n).replace(/%3B/gi,";")}function Fv(n){return Pv(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Dp(n){return decodeURIComponent(n)}function CE(n){return Dp(n.replace(/\+/g,"%20"))}function IE(n){return`${Fv(n.path)}${function Ro(n){return Object.keys(n).map(e=>`;${Fv(e)}=${Fv(n[e])}`).join("")}(n.parameters)}`}const TE=/^[^\/()?;=#]+/;function Xg(n){const e=n.match(TE);return e?e[0]:""}const ZD=/^[^=?&#]+/,KD=/^[^&#]+/;class YD{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new tn([],{}):new tn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Xt]=new tn(e,t)),i}parseSegment(){const e=Xg(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(e),new Ip(Dp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Xg(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Xg(this.remaining);r&&(i=r,this.capture(i))}e[Dp(t)]=Dp(i)}parseQueryParam(e){const t=function WD(n){const e=n.match(ZD);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const u=function DE(n){const e=n.match(KD);return e?e[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=CE(t),a=CE(i);if(e.hasOwnProperty(r)){let u=e[r];Array.isArray(u)||(u=[u],e[r]=u),u.push(a)}else e[r]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Xg(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new l.vHH(4010,!1);let a;i.indexOf(":")>-1?(a=i.slice(0,i.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Xt);const u=this.parseChildren();t[a]=1===Object.keys(u).length?u[Xt]:new tn([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new l.vHH(4011,!1)}}function Lv(n){return n.segments.length>0?new tn([],{[Xt]:n}):n}function Jg(n){const e={};for(const i of Object.keys(n.children)){const a=Jg(n.children[i]);(a.segments.length>0||a.hasChildren())&&(e[i]=a)}return function zt(n){if(1===n.numberOfChildren&&n.children[Xt]){const e=n.children[Xt];return new tn(n.segments.concat(e.segments),e.children)}return n}(new tn(n.segments,e))}function Ec(n){return n instanceof Nu}function SE(n,e,t,i,r){if(0===t.length)return _h(e.root,e.root,e.root,i,r);const a=function Vv(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new eS(!0,0,n);let e=0,t=!1;const i=n.reduce((r,a,u)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return dr(a.outlets,(_,w)=>{f[w]="string"==typeof _?_.split("/"):_}),[...r,{outlets:f}]}if(a.segmentPath)return[...r,a.segmentPath]}return"string"!=typeof a?[...r,a]:0===u?(a.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&r.push(f))}),r):[...r,a]},[]);return new eS(t,e,i)}(t);return a.toRoot()?_h(e.root,e.root,new tn([],{}),i,r):function u(_){const w=function tS(n,e,t,i){if(n.isAbsolute)return new Fu(e.root,!0,0);if(-1===i)return new Fu(t,t===e.root,0);return function t_(n,e,t){let i=n,r=e,a=t;for(;a>r;){if(a-=r,i=i.parent,!i)throw new l.vHH(4005,!1);r=i.segments.length}return new Fu(i,!1,r-a)}(t,i+(Sp(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,_),I=w.processChildren?n_(w.segmentGroup,w.index,a.commands):Bv(w.segmentGroup,w.index,a.commands);return _h(e.root,w.segmentGroup,I,i,r)}(n.snapshot?._lastPathIndex)}function Sp(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function gh(n){return"object"==typeof n&&null!=n&&n.outlets}function _h(n,e,t,i,r){let u,a={};i&&dr(i,(_,w)=>{a[w]=Array.isArray(_)?_.map(I=>`${I}`):`${_}`}),u=n===e?t:AE(n,e,t);const f=Lv(Jg(u));return new Nu(f,a,r)}function AE(n,e,t){const i={};return dr(n.children,(r,a)=>{i[a]=r===e?t:AE(r,e,t)}),new tn(n.segments,i)}class eS{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Sp(i[0]))throw new l.vHH(4003,!1);const r=i.find(gh);if(r&&r!==Rv(i))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Fu{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function Bv(n,e,t){if(n||(n=new tn([],{})),0===n.segments.length&&n.hasChildren())return n_(n,e,t);const i=function T1(n,e,t){let i=0,r=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return a;const u=n.segments[r],f=t[i];if(gh(f))break;const _=`${f}`,w=i<t.length-1?t[i+1]:null;if(r>0&&void 0===_)break;if(_&&w&&"object"==typeof w&&void 0===w.outlets){if(!iS(_,w,u))return a;i+=2}else{if(!iS(_,{},u))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const a=new tn(n.segments.slice(0,i.pathIndex),{});return a.children[Xt]=new tn(n.segments.slice(i.pathIndex),n.children),n_(a,0,r)}return i.match&&0===r.length?new tn(n.segments,{}):i.match&&!n.hasChildren()?ME(n,e,t):i.match?n_(n,0,r):ME(n,e,t)}function n_(n,e,t){if(0===t.length)return new tn(n.segments,{});{const i=function Uv(n){return gh(n[0])?n[0].outlets:{[Xt]:n}}(t),r={};return dr(i,(a,u)=>{"string"==typeof a&&(a=[a]),null!==a&&(r[u]=Bv(n.children[u],e,a))}),dr(n.children,(a,u)=>{void 0===i[u]&&(r[u]=a)}),new tn(n.segments,r)}}function ME(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const a=t[r];if(gh(a)){const _=nS(a.outlets);return new tn(i,_)}if(0===r&&Sp(t[0])){i.push(new Ip(n.segments[e].path,Hv(t[0]))),r++;continue}const u=gh(a)?a.outlets[Xt]:`${a}`,f=r<t.length-1?t[r+1]:null;u&&f&&Sp(f)?(i.push(new Ip(u,Hv(f))),r+=2):(i.push(new Ip(u,{})),r++)}return new tn(i,{})}function nS(n){const e={};return dr(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=ME(new tn([],{}),0,t))}),e}function Hv(n){const e={};return dr(n,(t,i)=>e[i]=`${t}`),e}function iS(n,e,t){return n==t.path&&ps(e,t.parameters)}class Il{constructor(e,t){this.id=e,this.url=t}}class Cc extends Il{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vu extends Il{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ap extends Il{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Mp extends Il{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class rS extends Il{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xE extends Il{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sS extends Il{constructor(e,t,i,r,a){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class oS extends Il{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aS extends Il{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lS{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class cS{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class RE{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uS{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kE{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class OE{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class i_{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class r_{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=jv(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=jv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=PE(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return PE(e,this._root).map(t=>t.value)}}function jv(n,e){if(n===e.value)return e;for(const t of e.children){const i=jv(n,t);if(i)return i}return null}function PE(n,e){if(n===e.value)return[e];for(const t of e.children){const i=PE(n,t);if(i.length)return i.unshift(e),i}return[]}class ms{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Uu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class $v extends r_{constructor(e,t){super(e),this.snapshot=t,o_(this,e)}toString(){return this.snapshot.toString()}}function xp(n,e){const t=function ko(n,e){const u=new to([],{},{},"",{},Xt,e,null,n.root,-1,{});return new s_("",new ms(u,[]))}(n,e),i=new eo([new Ip("",{})]),r=new eo({}),a=new eo({}),u=new eo({}),f=new eo(""),_=new Tl(i,r,u,f,a,Xt,e,t.root);return _.snapshot=t.root,new $v(new ms(_,[]),t)}class Tl{constructor(e,t,i,r,a,u,f,_){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=f,this.title=this.data?.pipe((0,pt.U)(w=>w[Zg]))??dt(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,pt.U)(e=>Ca(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,pt.U)(e=>Ca(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function NE(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],a=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return function zv(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class to{constructor(e,t,i,r,a,u,f,_,w,I,M,P){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=f,this.title=this.data?.[Zg],this.routeConfig=_,this._urlSegment=w,this._lastPathIndex=I,this._correctedLastPathIndex=P??I,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ca(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ca(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class s_ extends r_{constructor(e,t){super(t),this.url=e,o_(this,t)}toString(){return a_(this._root)}}function o_(n,e){e.value._routerState=n,e.children.forEach(t=>o_(n,t))}function a_(n){const e=n.children.length>0?` { ${n.children.map(a_).join(", ")} } `:"";return`${n.value}${e}`}function FE(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ps(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),ps(e.params,t.params)||n.params.next(t.params),function fh(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ps(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),ps(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function l_(n,e){const t=ps(n.params,e.params)&&function mh(n,e){return Yr(n,e)&&n.every((t,i)=>ps(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||l_(n.parent,e.parent))}function Ic(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function c_(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Ic(n,i,r);return Ic(n,i)})}(n,e,t);return new ms(i,r)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const u=a.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(f=>Ic(n,f)),u}}const i=function Gv(n){return new Tl(new eo(n.url),new eo(n.params),new eo(n.queryParams),new eo(n.fragment),new eo(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(a=>Ic(n,a));return new ms(i,r)}}const Rp="ngNavigationCancelingError";function u_(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=Ec(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=dS(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function dS(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[Rp]=!0,i.cancellationCode=e,t&&(i.url=t),i}function LE(n){return VE(n)&&Ec(n.url)}function VE(n){return n&&n[Rp]}class hS{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new kp,this.attachRef=null}}let kp=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new hS,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Op=!1;let UE=(()=>{class n{constructor(t,i,r,a,u){this.parentContexts=t,this.location=i,this.changeDetector=a,this.environmentInjector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=r||Xt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,Op);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,Op);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,Op);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new l.vHH(4013,Op);this._activatedRoute=t;const r=this.location,u=t._futureSnapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,_=new fS(t,f,r.injector);if(i&&function A1(n){return!!n.resolveComponentFactory}(i)){const w=i.resolveComponentFactory(u);this.activated=r.createComponent(w,r.length,_)}else this.activated=r.createComponent(u,{index:r.length,injector:_,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(kp),l.Y36(l.s_b),l.$8M("name"),l.Y36(l.sBO),l.Y36(l.lqb))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class fS{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Tl?this.route:e===kp?this.childContexts:this.parent.get(e,t)}}let d_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(t,i){1&t&&l._UZ(0,"router-outlet")},dependencies:[UE],encapsulation:2}),n})();function qv(n,e){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function jE(n){const e=n.children&&n.children.map(jE),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Xt&&(t.component=d_),t}function Oo(n){return n.outlet||Xt}function pS(n,e){const t=n.filter(i=>Oo(i)===e);return t.push(...n.filter(i=>Oo(i)!==e)),t}function h_(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Zv{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),FE(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Uu(t);e.children.forEach(a=>{const u=a.value.outlet;this.deactivateRoutes(a,r[u],i),delete r[u]}),dr(r,(a,u)=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(r===a)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,i);else a&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=Uu(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);if(i&&i.outlet){const u=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=Uu(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=Uu(t);e.children.forEach(a=>{this.activateRoutes(a,r[a.value.outlet],i),this.forwardEvent(new OE(a.value.snapshot))}),e.children.length&&this.forwardEvent(new uS(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(FE(r),r===a)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const f=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),FE(f.route.value),this.activateChildRoutes(e,null,u.children)}else{const f=h_(r.snapshot),_=f?.get(l._Vd)??null;u.attachRef=null,u.route=r,u.resolver=_,u.injector=f,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,i)}}class $E{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Pp{constructor(e,t){this.component=e,this.route=t}}function Wv(n,e,t){const i=n._root;return Np(i,e?e._root:null,t,[i.value])}function Dc(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,l.Z0I)(n)?e.get(n):n:i}function Np(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=Uu(e);return n.children.forEach(u=>{(function Sc(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,u=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){const _=function GE(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Yr(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Yr(n.url,e.url)||!ps(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!l_(n,e)||!ps(n.queryParams,e.queryParams);default:return!l_(n,e)}}(u,a,a.routeConfig.runGuardsAndResolvers);_?r.canActivateChecks.push(new $E(i)):(a.data=u.data,a._resolvedData=u._resolvedData),Np(n,e,a.component?f?f.children:null:t,i,r),_&&f&&f.outlet&&f.outlet.isActivated&&r.canDeactivateChecks.push(new Pp(f.outlet.component,u))}else u&&Fp(e,f,r),r.canActivateChecks.push(new $E(i)),Np(n,null,a.component?f?f.children:null:t,i,r)})(u,a[u.value.outlet],t,i.concat([u.value]),r),delete a[u.value.outlet]}),dr(a,(u,f)=>Fp(u,t.getContext(f),r)),r}function Fp(n,e,t){const i=Uu(n),r=n.value;dr(i,(a,u)=>{Fp(a,r.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new Pp(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Lp(n){return"function"==typeof n}function vh(n){return n instanceof Tv||"EmptyError"===n?.name}const Up=Symbol("INITIAL_VALUE");function Bu(){return Si(n=>Sv(n.map(e=>e.pipe(wa(1),Ea(Up)))).pipe((0,pt.U)(e=>{for(const t of e)if(!0!==t){if(t===Up)return Up;if(!1===t||t instanceof Nu)return t}return!0}),Qn(e=>e!==Up),wa(1)))}function eb(n){return(0,E1.z)((0,qn.b)(e=>{if(Ec(e))throw u_(0,e)}),(0,pt.U)(e=>!0===e))}const tb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function gs(n,e,t,i,r){const a=p_(n,e,t);return a.matched?function KE(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?dt(r.map(u=>{const f=Dc(u,n);return wc(function Kv(n){return n&&Lp(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(Bu(),eb()):dt(!0)}(i=qv(e,i),e,t).pipe((0,pt.U)(u=>!0===u?a:{...tb})):dt(a)}function p_(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...tb}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||jD)(t,n,e);if(!r)return{...tb};const a={};dr(r.posParams,(f,_)=>{a[_]=f.path});const u=r.consumed.length>0?{...a,...r.consumed[r.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function m_(n,e,t,i,r="corrected"){if(t.length>0&&function nb(n,e,t){return t.some(i=>g_(n,e,i)&&Oo(i)!==Xt)}(n,t,i)){const u=new tn(e,function bS(n,e,t,i){const r={};r[Xt]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&Oo(a)!==Xt){const u=new tn([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,r[Oo(a)]=u}return r}(n,e,i,new tn(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function YE(n,e,t){return t.some(i=>g_(n,e,i))}(n,t,i)){const u=new tn(n.segments,function P1(n,e,t,i,r,a){const u={};for(const f of i)if(g_(n,t,f)&&!r[Oo(f)]){const _=new tn([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===a?n.segments.length:e.length,u[Oo(f)]=_}return{...r,...u}}(n,e,t,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const a=new tn(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function g_(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function QE(n,e,t,i){return!!(Oo(n)===i||i!==Xt&&g_(e,t,n))&&("**"===n.path||p_(e,n,t).matched)}function XE(n,e,t){return 0===e.length&&!n.children[t]}const Bp=!1;class __{constructor(e){this.segmentGroup=e||null}}class ib{constructor(e){this.urlTree=e}}function Hp(n){return yc(new __(n))}function JE(n){return yc(new ib(n))}class Ia{constructor(e,t,i,r,a){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=a,this.allowRedirects=!0}apply(){const e=m_(this.urlTree.root,[],[],this.config).segmentGroup,t=new tn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Xt).pipe((0,pt.U)(a=>this.createUrlTree(Jg(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Cl(a=>{if(a instanceof ib)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof __?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Xt).pipe((0,pt.U)(r=>this.createUrlTree(Jg(r),e.queryParams,e.fragment))).pipe(Cl(r=>{throw r instanceof __?this.noMatchError(r):r}))}noMatchError(e){return new l.vHH(4002,Bp)}createUrlTree(e,t,i){const r=Lv(e);return new Nu(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,pt.U)(a=>new tn([],a))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const a of Object.keys(i.children))"primary"===a?r.unshift(a):r.push(a);return(0,nn.D)(r).pipe(El(a=>{const u=i.children[a],f=pS(t,a);return this.expandSegmentGroup(e,f,u,a).pipe((0,pt.U)(_=>({segment:_,outlet:a})))}),Cp((a,u)=>(a[u.outlet]=u.segment,a),{}),zg())}expandSegment(e,t,i,r,a,u){return(0,nn.D)(i).pipe(El(f=>this.expandSegmentAgainstRoute(e,t,i,f,r,a,u).pipe(Cl(w=>{if(w instanceof __)return dt(null);throw w}))),wl(f=>!!f),Cl((f,_)=>{if(vh(f))return XE(t,r,a)?dt(new tn([],{})):Hp(t);throw f}))}expandSegmentAgainstRoute(e,t,i,r,a,u,f){return QE(r,t,a,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,a,u):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u):Hp(t):Hp(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const a=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?JE(a):this.lineralizeSegments(i,a).pipe((0,hi.z)(u=>{const f=new tn(u,{});return this.expandSegment(e,f,t,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u){const{matched:f,consumedSegments:_,remainingSegments:w,positionalParamSegments:I}=p_(t,r,a);if(!f)return Hp(t);const M=this.applyRedirectCommands(_,r.redirectTo,I);return r.redirectTo.startsWith("/")?JE(M):this.lineralizeSegments(r,M).pipe((0,hi.z)(P=>this.expandSegment(e,t,i,P.concat(w),u,!1)))}matchSegmentAgainstRoute(e,t,i,r,a){return"**"===i.path?(e=qv(i,e),i.loadChildren?(i._loadedRoutes?dt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,pt.U)(f=>(i._loadedRoutes=f.routes,i._loadedInjector=f.injector,new tn(r,{})))):dt(new tn(r,{}))):gs(t,i,r,e).pipe(Si(({matched:u,consumedSegments:f,remainingSegments:_})=>u?this.getChildConfig(e=i._injector??e,i,r).pipe((0,hi.z)(I=>{const M=I.injector??e,P=I.routes,{segmentGroup:V,slicedSegments:q}=m_(t,f,_,P),ne=new tn(V.segments,V.children);if(0===q.length&&ne.hasChildren())return this.expandChildren(M,P,ne).pipe((0,pt.U)(Xe=>new tn(f,Xe)));if(0===P.length&&0===q.length)return dt(new tn(f,{}));const _e=Oo(i)===a;return this.expandSegment(M,ne,P,q,_e?Xt:a,!0).pipe((0,pt.U)(nt=>new tn(f.concat(nt.segments),nt.children)))})):Hp(t)))}getChildConfig(e,t,i){return t.children?dt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?dt({routes:t._loadedRoutes,injector:t._loadedInjector}):function vS(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?dt(!0):dt(r.map(u=>{const f=Dc(u,n);return wc(function mS(n){return n&&Lp(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(Bu(),eb())}(e,t,i).pipe((0,hi.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,qn.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function tC(n){return yc(dS(Bp,3))}())):dt({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return dt(i);if(r.numberOfChildren>1||!r.children[Xt])return yc(new l.vHH(4e3,Bp));r=r.children[Xt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const a=this.createSegmentGroup(e,t.root,i,r);return new Nu(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return dr(e,(r,a)=>{if("string"==typeof r&&r.startsWith(":")){const f=r.substring(1);i[a]=t[f]}else i[a]=r}),i}createSegmentGroup(e,t,i,r){const a=this.createSegments(e,t.segments,i,r);let u={};return dr(t.children,(f,_)=>{u[_]=this.createSegmentGroup(e,f,i,r)}),new tn(a,u)}createSegments(e,t,i,r){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,r):this.findOrReturn(a,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new l.vHH(4001,Bp);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class ES{}class CS{constructor(e,t,i,r,a,u,f,_){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=f,this.urlSerializer=_}recognize(){const e=m_(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Xt).pipe((0,pt.U)(t=>{if(null===t)return null;const i=new to([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Xt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new ms(i,t),a=new s_(this.url,r);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,i=NE(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,nn.D)(Object.keys(i.children)).pipe(El(r=>{const a=i.children[r],u=pS(t,r);return this.processSegmentGroup(e,u,a,r)}),Cp((r,a)=>r&&a?(r.push(...a),r):null),function BD(n,e=!1){return(0,Yn.e)((t,i)=>{let r=0;t.subscribe((0,$t.x)(i,a=>{const u=n(a,r++);(u||e)&&i.next(a),!u&&i.complete()}))})}(r=>null!==r),Ep(null),zg(),(0,pt.U)(r=>{if(null===r)return null;const a=iC(r);return function IS(n){n.sort((e,t)=>e.value.outlet===Xt?-1:t.value.outlet===Xt?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,i,r,a){return(0,nn.D)(t).pipe(El(u=>this.processSegmentAgainstRoute(u._injector??e,u,i,r,a)),wl(u=>!!u),Cl(u=>{if(vh(u))return XE(i,r,a)?dt([]):dt(null);throw u}))}processSegmentAgainstRoute(e,t,i,r,a){if(t.redirectTo||!QE(t,i,r,a))return dt(null);let u;if("**"===t.path){const f=r.length>0?Rv(r).parameters:{},_=v_(i)+r.length;u=dt({snapshot:new to(r,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,SS(t),Oo(t),t.component??t._loadedComponent??null,t,jp(i),_,b_(t),_),consumedSegments:[],remainingSegments:[]})}else u=gs(i,t,r,e).pipe((0,pt.U)(({matched:f,consumedSegments:_,remainingSegments:w,parameters:I})=>{if(!f)return null;const M=v_(i)+_.length;return{snapshot:new to(_,I,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,SS(t),Oo(t),t.component??t._loadedComponent??null,t,jp(i),M,b_(t),M),consumedSegments:_,remainingSegments:w}}));return u.pipe(Si(f=>{if(null===f)return dt(null);const{snapshot:_,consumedSegments:w,remainingSegments:I}=f;e=t._injector??e;const M=t._loadedInjector??e,P=function TS(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:V,slicedSegments:q}=m_(i,w,I,P.filter(_e=>void 0===_e.redirectTo),this.relativeLinkResolution);if(0===q.length&&V.hasChildren())return this.processChildren(M,P,V).pipe((0,pt.U)(_e=>null===_e?null:[new ms(_,_e)]));if(0===P.length&&0===q.length)return dt([new ms(_,[])]);const ne=Oo(t)===a;return this.processSegment(M,P,V,q,ne?Xt:a).pipe((0,pt.U)(_e=>null===_e?null:[new ms(_,_e)]))}))}}function sb(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function iC(n){const e=[],t=new Set;for(const i of n){if(!sb(i)){e.push(i);continue}const r=e.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=iC(i.children);e.push(new ms(i.value,r))}return e.filter(i=>!t.has(i))}function jp(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function v_(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function SS(n){return n.data||{}}function b_(n){return n.resolve||{}}function Ta(n){return"string"==typeof n.title||null===n.title}function bh(n){return Si(e=>{const t=n(e);return t?(0,nn.D)(t).pipe((0,pt.U)(()=>e)):dt(e)})}let zp=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(a=>a.outlet===Xt);return i}getResolvedTitleForRoute(t){return t.data[Zg]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(wh)},providedIn:"root"}),n})(),wh=(()=>{class n extends zp{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Bf))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ab{}class AS extends class lC{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Ac=new l.OlP("",{providedIn:"root",factory:()=>({})}),uC=new l.OlP("ROUTES");let lb=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return dt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=wc(t.loadComponent()).pipe((0,qn.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),qg(()=>{this.componentLoaders.delete(t)})),r=new jg(i,()=>new Yt.x).pipe(Mv());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return dt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const a=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,pt.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(i);let _,w,I=!1;Array.isArray(f)?w=f:(_=f.create(t).injector,w=$D(_.get(uC,[],l.XFs.Self|l.XFs.Optional)));return{routes:w.map(jE),injector:_}}),qg(()=>{this.childrenLoaders.delete(i)})),u=new jg(a,()=>new Yt.x).pipe(Mv());return this.childrenLoaders.set(i,u),u}loadModuleFactoryOrRoutes(t){return wc(t()).pipe((0,hi.z)(i=>i instanceof l.YKP||Array.isArray(i)?dt(i):(0,nn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(l.Sil))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class V1{}class xS{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function RS(n){throw n}function dC(n,e,t){return e.parse("/")}const cb={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function hC(){const n=(0,l.f3M)(bE),e=(0,l.f3M)(kp),t=(0,l.f3M)(Oe),i=(0,l.f3M)(l.zs3),r=(0,l.f3M)(l.Sil),a=(0,l.f3M)(uC,{optional:!0})??[],u=(0,l.f3M)(Ac,{optional:!0})??{},f=(0,l.f3M)(wh),_=(0,l.f3M)(zp,{optional:!0}),w=(0,l.f3M)(V1,{optional:!0}),I=(0,l.f3M)(ab,{optional:!0}),M=new Xn(null,n,e,t,i,r,$D(a));return w&&(M.urlHandlingStrategy=w),I&&(M.routeReuseStrategy=I),M.titleStrategy=_??f,function ub(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,M),M}let Xn=(()=>{class n{constructor(t,i,r,a,u,f,_){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=a,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Yt.x,this.errorHandler=RS,this.malformedUriErrorHandler=dC,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>dt(void 0),this.urlHandlingStrategy=new xS,this.routeReuseStrategy=new AS,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=u.get(lb),this.configLoader.onLoadEndListener=P=>this.triggerEvent(new cS(P)),this.configLoader.onLoadStartListener=P=>this.triggerEvent(new lS(P)),this.ngModule=u.get(l.h0i),this.console=u.get(l.c2e);const M=u.get(l.R0b);this.isNgZoneEnabled=M instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function gE(){return new Nu(new tn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=xp(this.currentUrlTree,this.rootComponentType),this.transitions=new eo({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(Qn(r=>0!==r.id),(0,pt.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Si(r=>{let a=!1,u=!1;return dt(r).pipe((0,qn.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Si(f=>{const _=this.browserUrlTree.toString(),w=!this.navigated||f.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return fC(f.source)&&(this.browserUrlTree=f.extractedUrl),dt(f).pipe(Si(M=>{const P=this.transitions.getValue();return i.next(new Cc(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),P!==this.transitions.getValue()?vc.E:Promise.resolve(M)}),function rb(n,e,t,i){return Si(r=>function wS(n,e,t,i,r){return new Ia(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,pt.U)(a=>({...r,urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,qn.b)(M=>{this.currentNavigation={...this.currentNavigation,finalUrl:M.urlAfterRedirects},r.urlAfterRedirects=M.urlAfterRedirects}),function F1(n,e,t,i,r,a){return(0,hi.z)(u=>function nC(n,e,t,i,r,a,u="emptyOnly",f="legacy"){return new CS(n,e,t,i,r,u,f,a).recognize().pipe(Si(_=>null===_?function N1(n){return new Wn.y(e=>e.error(n))}(new ES):dt(_)))}(n,e,t,u.urlAfterRedirects,i.serialize(u.urlAfterRedirects),i,r,a).pipe((0,pt.U)(f=>({...u,targetSnapshot:f}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,qn.b)(M=>{if(r.targetSnapshot=M.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!M.extras.skipLocationChange){const V=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);this.setBrowserUrl(V,M)}this.browserUrlTree=M.urlAfterRedirects}const P=new rS(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);i.next(P)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:P,extractedUrl:V,source:q,restoredState:ne,extras:_e}=f,$e=new Cc(P,this.serializeUrl(V),q,ne);i.next($e);const nt=xp(V,this.rootComponentType).snapshot;return dt(r={...f,targetSnapshot:nt,urlAfterRedirects:V,extras:{..._e,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=f.rawUrl,f.resolve(null),vc.E}),(0,qn.b)(f=>{const _=new xE(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}),(0,pt.U)(f=>r={...f,guards:Wv(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),function Qv(n,e){return(0,hi.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:u}}=t;return 0===u.length&&0===a.length?dt({...t,guardsResult:!0}):function Xv(n,e,t,i){return(0,nn.D)(n).pipe((0,hi.z)(r=>function WE(n,e,t,i,r){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?dt(a.map(f=>{const _=h_(e)??r,w=Dc(f,_);return wc(function yh(n){return n&&Lp(n.canDeactivate)}(w)?w.canDeactivate(n,e,t,i):_.runInContext(()=>w(n,e,t,i))).pipe(wl())})).pipe(Bu()):dt(!0)}(r.component,r.route,t,e,i)),wl(r=>!0!==r,!0))}(u,i,r,n).pipe((0,hi.z)(f=>f&&function qE(n){return"boolean"==typeof n}(f)?function ZE(n,e,t,i){return(0,nn.D)(e).pipe(El(r=>Bg(function _S(n,e){return null!==n&&e&&e(new RE(n)),dt(!0)}(r.route.parent,i),function Jv(n,e){return null!==n&&e&&e(new kE(n)),dt(!0)}(r.route,i),function yS(n,e,t){const i=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(u=>function zE(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>Hg(()=>dt(u.guards.map(_=>{const w=h_(u.node)??t,I=Dc(_,w);return wc(function f_(n){return n&&Lp(n.canActivateChild)}(I)?I.canActivateChild(i,n):w.runInContext(()=>I(i,n))).pipe(wl())})).pipe(Bu())));return dt(a).pipe(Bu())}(n,r.path,t),function O1(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return dt(!0);const r=i.map(a=>Hg(()=>{const u=h_(e)??t,f=Dc(a,u);return wc(function gS(n){return n&&Lp(n.canActivate)}(f)?f.canActivate(e,n):u.runInContext(()=>f(e,n))).pipe(wl())}));return dt(r).pipe(Bu())}(n,r.route,t))),wl(r=>!0!==r,!0))}(i,a,n,e):dt(f)),(0,pt.U)(f=>({...t,guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,qn.b)(f=>{if(r.guardsResult=f.guardsResult,Ec(f.guardsResult))throw u_(0,f.guardsResult);const _=new sS(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(_)}),Qn(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",3),!1)),bh(f=>{if(f.guards.canActivateChecks.length)return dt(f).pipe((0,qn.b)(_=>{const w=new oS(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}),Si(_=>{let w=!1;return dt(_).pipe(function rC(n,e){return(0,hi.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return dt(t);let a=0;return(0,nn.D)(r).pipe(El(u=>function sC(n,e,t,i){const r=n.routeConfig,a=n._resolve;return void 0!==r?.title&&!Ta(r)&&(a[Zg]=r.title),function oC(n,e,t,i){const r=function aC(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return dt({});const a={};return(0,nn.D)(r).pipe((0,hi.z)(u=>function ob(n,e,t,i){const r=h_(e)??i,a=Dc(n,r);return wc(a.resolve?a.resolve(e,t):r.runInContext(()=>a(e,t)))}(n[u],e,t,i).pipe(wl(),(0,qn.b)(f=>{a[u]=f}))),xv(1),Gg(a),Cl(u=>vh(u)?vc.E:yc(u)))}(a,n,e,i).pipe((0,pt.U)(u=>(n._resolvedData=u,n.data=NE(n,t).resolve,r&&Ta(r)&&(n.data[Zg]=r.title),null)))}(u.route,i,n,e)),(0,qn.b)(()=>a++),xv(1),(0,hi.z)(u=>a===r.length?dt(t):vc.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,qn.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(_),this.cancelNavigationTransition(_,"",2))}}))}),(0,qn.b)(_=>{const w=new aS(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}))}),bh(f=>{const _=w=>{const I=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&I.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,qn.b)(M=>{w.component=M}),(0,pt.U)(()=>{})));for(const M of w.children)I.push(..._(M));return I};return Sv(_(f.targetSnapshot.root)).pipe(Ep(),wa(1))}),bh(()=>this.afterPreactivation()),(0,pt.U)(f=>{const _=function S1(n,e,t){const i=Ic(n,e._root,t?t._root:void 0);return new $v(i,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return r={...f,targetRouterState:_}}),(0,qn.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,pt.U)(i=>(new Zv(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,qn.b)({next(){a=!0},complete(){a=!0}}),qg(()=>{a||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Cl(f=>{if(u=!0,VE(f)){LE(f)||(this.navigated=!0,this.restoreHistory(r,!0));const _=new Ap(r.id,this.serializeUrl(r.extractedUrl),f.message,f.cancellationCode);if(i.next(_),LE(f)){const w=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),I={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||fC(r.source)};this.scheduleNavigation(w,"imperative",null,I,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const _=new Mp(r.id,this.serializeUrl(r.extractedUrl),f,r.targetSnapshot??void 0);i.next(_);try{r.resolve(this.errorHandler(f))}catch(w){r.reject(w)}}return vc.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},a=t.state?.navigationId?t.state:null;if(a){const f={...a};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(r.state=f)}const u=this.parseUrl(t.url);this.scheduleNavigation(u,i,a,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(jE),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:a,fragment:u,queryParamsHandling:f,preserveFragment:_}=i,w=r||this.routerState.root,I=_?this.currentUrlTree.fragment:u;let M=null;switch(f){case"merge":M={...this.currentUrlTree.queryParams,...a};break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=a||null}return null!==M&&(M=this.removeEmptyProps(M)),SE(w,this.currentUrlTree,t,M,I??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Ec(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function OS(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new l.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...cb}:!1===i?{...kS}:i,Ec(t))return _E(this.currentUrlTree,t,r);const a=this.parseUrl(t);return _E(this.currentUrlTree,a,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const a=t[r];return null!=a&&(i[r]=a),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Vu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,a,u){if(this.disposed)return Promise.resolve(!1);let f,_,w;u?(f=u.resolve,_=u.reject,w=u.promise):w=new Promise((P,V)=>{f=P,_=V});const I=++this.navigationId;let M;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),M=r&&r.\u0275routerPageId?r.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):M=0,this.setTransition({id:I,targetPageId:M,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:f,reject:_,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(P=>Promise.reject(P))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),a={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",a):this.location.go(r,"",a)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i,r){const a=new Ap(t.id,this.serializeUrl(t.extractedUrl),i,r);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:function(){return hC()},providedIn:"root"}),n})();function fC(n){return"imperative"!==n}let Po=(()=>{class n{constructor(t,i,r,a,u){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=a,this.el=u,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Yt.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,l.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,l.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,l.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==t?i.setAttribute(r,"tabindex",t):i.removeAttribute(r,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Xn),l.Y36(Tl),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&l.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})(),Gp=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Yt.x,this.subscription=t.events.subscribe(a=>{a instanceof Vu&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,l.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,l.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,l.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,a,u){return!!(0!==t||i||r||a||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Xn),l.Y36(Tl),l.Y36(ve))},n.\u0275dir=l.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&l.NdJ("click",function(a){return i.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&l.uIk("target",i.target)("href",i.href,l.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})();class PS{}let NS=(()=>{class n{constructor(t,i,r,a,u){this.router=t,this.injector=r,this.preloadingStrategy=a,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(Qn(t=>t instanceof Vu),El(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const a of i){a.providers&&!a._injector&&(a._injector=(0,l.MMx)(a.providers,t,`Route: ${a.path}`));const u=a._injector??t,f=a._loadedInjector??u;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?r.push(this.preloadConfig(u,a)):(a.children||a._loadedRoutes)&&r.push(this.processRoutes(f,a.children??a._loadedRoutes))}return(0,nn.D)(r).pipe((0,wp.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):dt(null);const a=r.pipe((0,hi.z)(u=>null===u?dt(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,nn.D)([a,u]).pipe((0,wp.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Xn),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(PS),l.LFG(lb))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qp=new l.OlP("");let pC=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Cc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Vu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof i_&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new i_(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function no(n,e){return{\u0275kind:n,\u0275providers:e}}function Eh(n){return[{provide:uC,multi:!0,useValue:n}]}function T_(){const n=(0,l.f3M)(l.zs3);return e=>{const t=n.get(l.z2F);if(e!==t.components[0])return;const i=n.get(Xn),r=n.get(ju);1===n.get(Mc)&&i.initialNavigation(),n.get($u,null,l.XFs.Optional)?.setUpPreloading(),n.get(qp,null,l.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const ju=new l.OlP("",{factory:()=>new Yt.x}),Mc=new l.OlP("",{providedIn:"root",factory:()=>1});const $u=new l.OlP("");function Dh(n){return no(0,[{provide:$u,useExisting:NS},{provide:PS,useExisting:n}])}const db=new l.OlP("ROUTER_FORROOT_GUARD"),mC=[Oe,{provide:bE,useClass:wE},{provide:Xn,useFactory:hC},kp,{provide:Tl,useFactory:function hr(n){return n.routerState.root},deps:[Xn]},lb];function gC(){return new l.PXZ("Router",Xn)}let hb=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[mC,[],Eh(t),{provide:db,useFactory:bC,deps:[[Xn,new l.FiY,new l.tp0]]},{provide:Ac,useValue:i||{}},i?.useHash?{provide:ve,useClass:Tt}:{provide:ve,useClass:yt},{provide:qp,useFactory:()=>{const n=(0,l.f3M)(Xn),e=(0,l.f3M)(Is),t=(0,l.f3M)(Ac);return t.scrollOffset&&e.setOffset(t.scrollOffset),new pC(n,e,t)}},i?.preloadingStrategy?Dh(i.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:gC},i?.initialNavigation?LS(i):[],[{provide:wC,useFactory:T_},{provide:l.tb,multi:!0,useExisting:wC}]]}}static forChild(t){return{ngModule:n,providers:[Eh(t)]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(db,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[d_]}),n})();function bC(n){return"guarded"}function LS(n){return["disabled"===n.initialNavigation?no(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const e=(0,l.f3M)(Xn);return()=>{e.setUpLocationChangeListener()}}},{provide:Mc,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?no(2,[{provide:Mc,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:e=>{const t=e.get(z,Promise.resolve());let i=!1;return()=>t.then(()=>new Promise(a=>{const u=e.get(Xn),f=e.get(ju);(function r(a){e.get(Xn).events.pipe(Qn(f=>f instanceof Vu||f instanceof Ap||f instanceof Mp),(0,pt.U)(f=>f instanceof Vu||f instanceof Ap&&(0===f.code||1===f.code)&&null),Qn(f=>null!==f),wa(1)).subscribe(()=>{a()})})(()=>{a(!0),i=!0}),u.afterPreactivation=()=>(a(!0),i||f.closed?dt(void 0):f),u.initialNavigation()}))}}]).\u0275providers:[]]}const wC=new l.OlP("");class fb{}const Fo="*";function Wp(n,e){return{type:7,name:n,definitions:e,options:{}}}function io(n,e=null){return{type:4,styles:e,timings:n}}function D_(n,e=null){return{type:2,steps:n,options:e}}function _s(n){return{type:6,styles:n,offset:null}}function ro(n,e,t){return{type:0,name:n,styles:e,options:t}}function Da(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function S_(n){Promise.resolve().then(n)}class Kp{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){S_(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class _b{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const a=this.players.length;0==a?S_(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==a&&this._onFinish()}),u.onDestroy(()=>{++i==a&&this._onDestroy()}),u.onStart(()=>{++r==a&&this._onStart()})}),this.totalTime=this.players.reduce((u,f)=>Math.max(u,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}var M_=N(6451),Yp=N(5363),HS=N(6063);class TC extends Yt.x{constructor(e=1/0,t=1/0,i=HS.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:a,_windowTime:u}=this;t||(i.push(e),!r&&i.push(a.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,a=r.slice();for(let u=0;u<a.length&&!e.closed;u+=i?1:2)e.next(a[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,a=(r?1:2)*e;if(e<1/0&&a<i.length&&i.splice(0,i.length-a),!r){const u=t.now();let f=0;for(let _=1;_<i.length&&i[_]<=u;_+=2)f=_;f&&i.splice(0,f+1)}}}var yb=N(3099);function vb(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,yb.B)({connector:()=>new TC(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function x_(n,e){return(0,ba.m)(e)?Si(()=>n,e):Si(()=>n)}var R_=N(9468),fr=N(8623);N(259);var we=N(5861),so=N(2951),O_=N(4859),vn=N(2090),Sl=N(1877);const wb=new Map,Eb={activated:!1,tokenObservers:[]},q1={initialized:!1,enabled:!1};function Jn(n){return wb.get(n)||Object.assign({},Eb)}function Ns(){return q1}class RC{constructor(e,t,i,r,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,we.Z)(function*(){t.stop();try{t.pending=new vn.BH,yield function ZS(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new vn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const pr=new vn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Xp(n){if(!Jn(n).activated)throw pr.create("use-before-activation",{appName:n.name})}function Jp(n,e){return Tb.apply(this,arguments)}function Tb(){return(Tb=(0,we.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const M=yield r.getHeartbeatsHeader();M&&(i["X-Firebase-Client"]=M)}const a={method:"POST",body:JSON.stringify(e),headers:i};let u,f;try{u=yield fetch(n,a)}catch(M){throw pr.create("fetch-network-error",{originalErrorMessage:M?.message})}if(200!==u.status)throw pr.create("fetch-status-error",{httpStatus:u.status});try{f=yield u.json()}catch(M){throw pr.create("fetch-parse-error",{originalErrorMessage:M?.message})}const _=f.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw pr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const w=1e3*Number(_[1]),I=Date.now();return{token:f.token,expireTimeMillis:I+w,issuedAtTimeMillis:I}})).apply(this,arguments)}function em(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const Sh="firebase-app-check-store";let Gu=null;function Db(){return Gu||(Gu=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(pr.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Sh,{keyPath:"compositeKey"})}}catch(t){e(pr.create("storage-open",{originalErrorMessage:t?.message}))}}),Gu)}function L_(){return(L_=(0,we.Z)(function*(n,e){const i=(yield Db()).transaction(Sh,"readwrite"),a=i.objectStore(Sh).put({compositeKey:n,value:e});return new Promise((u,f)=>{a.onsuccess=_=>{u()},i.onerror=_=>{var w;f(pr.create("storage-set",{originalErrorMessage:null===(w=_.target.error)||void 0===w?void 0:w.message}))}})})).apply(this,arguments)}const tm=new Sl.Yd("@firebase/app-check");function Rb(n,e){return(0,vn.hl)()?function FC(n,e){return function Sb(n,e){return L_.apply(this,arguments)}(function UC(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{tm.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Ob(){return Ns().enabled}function Pb(){return Nb.apply(this,arguments)}function Nb(){return(Nb=(0,we.Z)(function*(){const n=Ns();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const JS={error:"UNKNOWN_ERROR"};function eA(n){return vn.US.encodeString(JSON.stringify(n),!1)}function V_(n){return Fb.apply(this,arguments)}function Fb(){return(Fb=(0,we.Z)(function*(n,e=!1){const t=n.app;Xp(t);const i=Jn(t);let a,r=i.token;if(r&&!qu(r)&&(i.token=void 0,r=void 0),!r){const _=yield i.cachedTokenPromise;_&&(qu(_)?r=_:yield Rb(t,void 0))}if(!e&&r&&qu(r))return{token:r.token};let f,u=!1;if(Ob()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Jp(em(t,yield Pb()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),u=!0);const _=yield i.exchangeTokenPromise;return yield Rb(t,_),i.token=_,{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),u=!0),r=yield Jn(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?tm.warn(_.message):tm.error(_),a=_}return r?a?f=qu(r)?{token:r.token,internalError:a}:Bb(a):(f={token:r.token},i.token=r,yield Rb(t,r)):f=Bb(a),u&&Ub(t,f),f})).apply(this,arguments)}function B_(n,e){const t=Jn(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function Vb(n){const{app:e}=n,t=Jn(e);let i=t.tokenRefresher;i||(i=function BC(n){const{app:e}=n;return new RC((0,we.Z)(function*(){let i;if(i=Jn(e).token?yield V_(n,!0):yield V_(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=Jn(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function Ub(n,e){const t=Jn(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}function qu(n){return n.expireTimeMillis-Date.now()>0}function Bb(n){return{token:eA(JS),error:n}}class HC{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Jn(this.app);for(const t of e)B_(this.app,t.next);return Promise.resolve()}}const zb="app-check-internal";!function WC(){(0,so._registerComponent)(new O_.wA("app-check",n=>function jC(n,e){return new HC(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(zb).initialize()})),(0,so._registerComponent)(new O_.wA(zb,n=>function $C(n){return{getToken:e=>V_(n,e),addTokenListener:e=>function U_(n,e,t,i){const{app:r}=n,a=Jn(r);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:i,type:e}],a.token&&qu(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),Vb(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>Vb(n))}(n,"INTERNAL",e),removeTokenListener:e=>B_(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,so.registerVersion)("@firebase/app-check","0.7.0")}();class qb{constructor(){return(0,fr.vb)("app-check")}}typeof window<"u"&&window,N(9260);const JC=new l.OlP("angularfire2.auth.use-emulator"),Kb=new l.OlP("angularfire2.auth.settings"),eI=new l.OlP("angularfire2.auth.tenant-id"),tI=new l.OlP("angularfire2.auth.langugage-code"),fA=new l.OlP("angularfire2.auth.use-device-language"),pA=new l.OlP("angularfire.auth.persistence"),mA=(n,e,t,i,r,a,u,f)=>(0,xo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),i&&(_.tenantId=i),_.languageCode=r,a&&_.useDeviceLanguage(),u)for(const[w,I]of Object.entries(u))_.settings[w]=I;return f&&_.setPersistence(f),_},[t,i,r,a,u,f]);let Ku=(()=>{class n{constructor(t,i,r,a,u,f,_,w,I,M,P,V){const q=new Yt.x,ne=dt(void 0).pipe((0,Yp.Q)(u.outsideAngular),Si(()=>a.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,3042)))),(0,pt.U)(()=>(0,xo.on)(t,a,i)),(0,pt.U)(_e=>mA(_e,a,f,w,I,M,_,P)),vb({bufferSize:1,refCount:!1}));if(jl(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=dt(null);else{ne.pipe(wl()).subscribe();const $e=ne.pipe(Si(It=>It.getRedirectResult().then(jt=>jt,()=>null)),fr.iC,vb({bufferSize:1,refCount:!1})),nt=ne.pipe(Si(It=>new Wn.y(jt=>({unsubscribe:a.runOutsideAngular(()=>It.onAuthStateChanged(qt=>jt.next(qt),qt=>jt.error(qt),()=>jt.complete()))})))),Xe=ne.pipe(Si(It=>new Wn.y(jt=>({unsubscribe:a.runOutsideAngular(()=>It.onIdTokenChanged(qt=>jt.next(qt),qt=>jt.error(qt),()=>jt.complete()))}))));this.authState=$e.pipe(x_(nt),(0,R_.R)(u.outsideAngular),(0,Yp.Q)(u.insideAngular)),this.user=$e.pipe(x_(Xe),(0,R_.R)(u.outsideAngular),(0,Yp.Q)(u.insideAngular)),this.idToken=this.user.pipe(Si(It=>It?(0,nn.D)(It.getIdToken()):dt(null))),this.idTokenResult=this.user.pipe(Si(It=>It?(0,nn.D)(It.getIdTokenResult()):dt(null))),this.credential=(0,M_.T)($e,q,this.authState.pipe(Qn(It=>!It))).pipe((0,pt.U)(It=>It?.user?It:null),(0,R_.R)(u.outsideAngular),(0,Yp.Q)(u.insideAngular))}return(0,xo.pX)(this,ne,a,{spy:{apply:(_e,$e,nt)=>{(_e.startsWith("signIn")||_e.startsWith("createUser"))&&nt.then(Xe=>q.next(Xe))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(xo.Dh),l.LFG(xo.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(fr.HU),l.LFG(JC,8),l.LFG(Kb,8),l.LFG(eI,8),l.LFG(tI,8),l.LFG(fA,8),l.LFG(pA,8),l.LFG(qb,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();var Yu=N(4986);function Yb(){return(0,Yn.e)((n,e)=>{let t,i=!1;n.subscribe((0,$t.x)(e,r=>{const a=t;t=r,i&&e.next([a,r]),i=!0}))})}function Qb(n,e=bl.y){return n=n??nI,(0,Yn.e)((t,i)=>{let r,a=!0;t.subscribe((0,$t.x)(i,u=>{const f=e(u);(a||!n(r,f))&&(a=!1,r=f,i.next(u))}))})}function nI(n,e){return n===e}N(3042);var tt,_A=N(3942),yA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Vo={},Xb=Xb||{},Bt=yA||self;function q_(){}function Z_(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Al(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var W_="closure_uid_"+(1e9*Math.random()>>>0),bA=0;function iI(n,e,t){return n.call.apply(n.bind,arguments)}function wA(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function mr(n,e,t){return(mr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?iI:wA).apply(null,arguments)}function K_(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Vi(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,a){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return e.prototype[r].apply(i,u)}}function xc(){this.s=this.s,this.o=this.o}xc.prototype.s=!1,xc.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function vA(n){Object.prototype.hasOwnProperty.call(n,W_)&&n[W_]||(n[W_]=++bA)}(this)},xc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Jb=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function e0(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function sI(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Z_(i)){const r=n.length||0,a=i.length||0;n.length=r+a;for(let u=0;u<a;u++)n[r+u]=i[u]}else n.push(i)}}function Rr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Rr.prototype.h=function(){this.defaultPrevented=!0};var t0=function(){if(!Bt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Bt.addEventListener("test",q_,e),Bt.removeEventListener("test",q_,e)}catch{}return n}();function Y_(n){return/^[\s\xa0]*$/.test(n)}var n0=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function r0(n,e){return n<e?-1:n>e?1:0}function Q_(){var n=Bt.navigator;return n&&(n=n.userAgent)?n:""}function Aa(n){return-1!=Q_().indexOf(n)}function s0(n){return s0[" "](n),n}function oI(n,e,t){return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}s0[" "]=q_;var rm,n,EA=Aa("Opera"),xh=Aa("Trident")||Aa("MSIE"),aI=Aa("Edge"),X_=aI||xh,o0=Aa("Gecko")&&!(-1!=Q_().toLowerCase().indexOf("webkit")&&!Aa("Edge"))&&!(Aa("Trident")||Aa("MSIE"))&&!Aa("Edge"),CA=-1!=Q_().toLowerCase().indexOf("webkit")&&!Aa("Edge");function lI(){var n=Bt.document;return n?n.documentMode:void 0}e:{var a0="",l0=(n=Q_(),o0?/rv:([^\);]+)(\)|;)/.exec(n):aI?/Edge\/([\d\.]+)/.exec(n):xh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):CA?/WebKit\/(\S+)/.exec(n):EA?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(l0&&(a0=l0?l0[1]:""),xh){var c0=lI();if(null!=c0&&c0>parseFloat(a0)){rm=String(c0);break e}}rm=a0}var u0={},IA=Bt.document&&xh&&(lI()||parseInt(rm,10))||void 0;function sm(n,e){if(Rr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(o0){e:{try{s0(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:h0[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&sm.$.h.call(this)}}Vi(sm,Rr);var h0={2:"touch",3:"pen",4:"mouse"};sm.prototype.h=function(){sm.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var om="closure_listenable_"+(1e6*Math.random()|0),cI=0;function Rh(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++cI,this.fa=this.ia=!1}function am(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function f0(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function TA(n){const e={};for(const t in n)e[t]=n[t];return e}const p0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ty(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let a=0;a<p0.length;a++)t=p0[a],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function ny(n){this.src=n,this.g={},this.h=0}function lm(n,e){var t=e.type;if(t in n.g){var a,i=n.g[t],r=Jb(i,e);(a=0<=r)&&Array.prototype.splice.call(i,r,1),a&&(am(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function m0(n,e,t,i){for(var r=0;r<n.length;++r){var a=n[r];if(!a.fa&&a.listener==e&&a.capture==!!t&&a.la==i)return r}return-1}ny.prototype.add=function(n,e,t,i,r){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var u=m0(n,e,i,r);return-1<u?(e=n[u],t||(e.ia=!1)):((e=new Rh(e,this.src,a,!!i,r)).ia=t,n.push(e)),e};var iy="closure_lm_"+(1e6*Math.random()|0),cm={};function g0(n,e,t,i,r){if(i&&i.once)return y0(n,e,t,i,r);if(Array.isArray(e)){for(var a=0;a<e.length;a++)g0(n,e[a],t,i,r);return null}return t=sy(t),n&&n[om]?n.O(e,t,Al(i)?!!i.capture:!!i,r):_0(n,e,t,!1,i,r)}function _0(n,e,t,i,r,a){if(!e)throw Error("Invalid event type");var u=Al(r)?!!r.capture:!!r,f=ry(n);if(f||(n[iy]=f=new ny(n)),(t=f.add(e,t,i,u,a)).proxy)return t;if(i=function uI(){const e=DA;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)t0||(r=u),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(hI(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function y0(n,e,t,i,r){if(Array.isArray(e)){for(var a=0;a<e.length;a++)y0(n,e[a],t,i,r);return null}return t=sy(t),n&&n[om]?n.P(e,t,Al(i)?!!i.capture:!!i,r):_0(n,e,t,!0,i,r)}function dI(n,e,t,i,r){if(Array.isArray(e))for(var a=0;a<e.length;a++)dI(n,e[a],t,i,r);else i=Al(i)?!!i.capture:!!i,t=sy(t),n&&n[om]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=m0(a=n.g[e],t,i,r))&&(am(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=ry(n))&&(e=n.g[e.toString()],n=-1,e&&(n=m0(e,t,i,r)),(t=-1<n?e[n]:null)&&v0(t))}function v0(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[om])lm(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(hI(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=ry(e))?(lm(t,n),0==t.h&&(t.src=null,e[iy]=null)):am(n)}}}function hI(n){return n in cm?cm[n]:cm[n]="on"+n}function DA(n,e){if(n.fa)n=!0;else{e=new sm(e,this);var t=n.listener,i=n.la||n.src;n.ia&&v0(n),n=t.call(i,e)}return n}function ry(n){return(n=n[iy])instanceof ny?n:null}var fI="__closure_events_fn_"+(1e9*Math.random()>>>0);function sy(n){return"function"==typeof n?n:(n[fI]||(n[fI]=function(e){return n.handleEvent(e)}),n[fI])}function Ji(){xc.call(this),this.i=new ny(this),this.S=this,this.J=null}function gr(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new Rr(e,n);else if(e instanceof Rr)e.target=e.target||n;else{var r=e;ty(e=new Rr(i,n),r)}if(r=!0,t)for(var a=t.length-1;0<=a;a--){var u=e.g=t[a];r=b0(u,i,!0,e)&&r}if(r=b0(u=e.g=n,i,!0,e)&&r,r=b0(u,i,!1,e)&&r,t)for(a=0;a<t.length;a++)r=b0(u=e.g=t[a],i,!1,e)&&r}function b0(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,a=0;a<e.length;++a){var u=e[a];if(u&&!u.fa&&u.capture==t){var f=u.listener,_=u.la||u.src;u.ia&&lm(n.i,u),r=!1!==f.call(_,i)&&r}}return r&&!i.defaultPrevented}Vi(Ji,xc),Ji.prototype[om]=!0,Ji.prototype.removeEventListener=function(n,e,t,i){dI(this,n,e,t,i)},Ji.prototype.N=function(){if(Ji.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)am(t[i]);delete n.g[e],n.h--}}this.J=null},Ji.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Ji.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var pI=Bt.JSON.stringify;function SA(){var n=yI;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var w0,mI=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new gI,n=>n.reset());class gI{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function MA(n){Bt.setTimeout(()=>{throw n},0)}function _I(n,e){w0||function xA(){var n=Bt.Promise.resolve(void 0);w0=function(){n.then(RA)}}(),E0||(w0(),E0=!0),yI.add(n,e)}var E0=!1,yI=new class AA{constructor(){this.h=this.g=null}add(e,t){const i=mI.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function RA(){for(var n;n=SA();){try{n.h.call(n.g)}catch(t){MA(t)}var e=mI;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}E0=!1}function oy(n,e){Ji.call(this),this.h=n||1,this.g=e||Bt,this.j=mr(this.qb,this),this.l=Date.now()}function Qu(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function ay(n,e,t){if("function"==typeof n)t&&(n=mr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=mr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Bt.setTimeout(n,e||0)}function C0(n){n.g=ay(()=>{n.g=null,n.i&&(n.i=!1,C0(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Vi(oy,Ji),(tt=oy.prototype).ga=!1,tt.T=null,tt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),gr(this,"tick"),this.ga&&(Qu(this),this.start()))}},tt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},tt.N=function(){oy.$.N.call(this),Qu(this),delete this.g};class vI extends xc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:C0(this)}N(){super.N(),this.g&&(Bt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kh(n){xc.call(this),this.h=n,this.g={}}Vi(kh,xc);var I0=[];function T0(n,e,t,i){Array.isArray(t)||(t&&(I0[0]=t.toString()),t=I0);for(var r=0;r<t.length;r++){var a=g0(e,t[r],i||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function bI(n){f0(n.g,function(e,t){this.g.hasOwnProperty(t)&&v0(e)},n),n.g={}}function D0(){this.g=!0}function Oh(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function OA(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<r.length;u++)r[u]=""}}}return pI(t)}catch{return e}}(n,t)+(i?" "+i:"")})}kh.prototype.N=function(){kh.$.N.call(this),bI(this)},kh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},D0.prototype.Ea=function(){this.g=!1},D0.prototype.info=function(){};var Uo={},CI=null;function Ph(){return CI=CI||new Ji}function Bo(n){Rr.call(this,Uo.Ta,n)}function um(n){const e=Ph();gr(e,new Bo(e))}function dm(n,e){Rr.call(this,Uo.STAT_EVENT,n),this.stat=e}function $i(n){const e=Ph();gr(e,new dm(e,n))}function II(n,e){Rr.call(this,Uo.Ua,n),this.size=e}function hm(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Bt.setTimeout(function(){n()},e)}Uo.Ta="serverreachability",Vi(Bo,Rr),Uo.STAT_EVENT="statevent",Vi(dm,Rr),Uo.Ua="timingevent",Vi(II,Rr);var ly={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},fm={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Nh(){}function DI(){}Nh.prototype.h=null;var uy,Fh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function cy(){Rr.call(this,"d")}function pm(){Rr.call(this,"c")}function dy(){}function mm(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new kh(this),this.P=S0,this.V=new oy(n=X_?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new PA}function PA(){this.i=null,this.g="",this.h=!1}Vi(cy,Rr),Vi(pm,Rr),Vi(dy,Nh),dy.prototype.g=function(){return new XMLHttpRequest},dy.prototype.i=function(){return{}},uy=new dy;var S0=45e3,gm={},_m={};function ym(n,e,t){n.L=1,n.v=R0(Ml(e)),n.s=t,n.S=!0,hy(n,null)}function hy(n,e){n.G=Date.now(),vm(n),n.A=Ml(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),O0(t.i,"t",i),n.C=0,t=n.l.I,n.h=new PA,n.g=Im(n.l,t?e:null,!n.s),0<n.O&&(n.M=new vI(mr(n.Pa,n,n.g),n.O)),T0(n.U,n.g,"readystatechange",n.nb),e=n.I?TA(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),um(),function kA(n,e,t,i,r,a){n.info(function(){if(n.g)if(a)for(var u="",f=a.split("&"),_=0;_<f.length;_++){var w=f[_].split("=");if(1<w.length){var I=w[0];w=w[1];var M=I.split("_");u=2<=M.length&&"type"==M[1]?u+(I+"=")+w+"&":u+(I+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.W,n.s)}function SI(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function AI(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=NA(n,t),r==_m){4==e&&(n.o=4,$i(14),i=!1),Oh(n.j,n.m,null,"[Incomplete Response]");break}if(r==gm){n.o=4,$i(15),Oh(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Oh(n.j,n.m,r,null),fy(n,r)}SI(n)&&r!=_m&&r!=gm&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,$i(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ca&&(n.ca=!0,(e=n.l).g==n&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Cm(e),e.L=!0,$i(11))):(Oh(n.j,n.m,t,"[Invalid Chunked Response]"),Rc(n),Vh(n))}function NA(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?_m:(t=Number(e.substring(t,i)),isNaN(t)?gm:(i+=1)+t>e.length?_m:(e=e.substr(i,t),n.C=i+t,e))}function vm(n){n.Y=Date.now()+n.P,A0(n,n.P)}function A0(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=hm(mr(n.lb,n),e)}function Lh(n){n.B&&(Bt.clearTimeout(n.B),n.B=null)}function Vh(n){0==n.l.H||n.J||q0(n.l,n)}function Rc(n){Lh(n);var e=n.M;e&&"function"==typeof e.ra&&e.ra(),n.M=null,Qu(n.V),bI(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.ra())}function fy(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Pc(t.h,n)))if(!n.K&&Pc(t.h,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Ey(t),H0(t)}$I(t),$i(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.M&&0==t.A&&!t.v&&(t.v=hm(mr(t.ib,t),6e3));if(1>=N0(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else ed(t,11)}else if((n.K||t.g==n)&&Ey(t),!Y_(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let w=r[e];if(t.V=w[0],w=w[1],2==t.H)if("c"==w[0]){t.J=w[1],t.oa=w[2];const I=w[3];null!=I&&(t.qa=I,t.j.info("VER="+t.qa));const M=w[4];null!=M&&(t.Ga=M,t.j.info("SVER="+t.Ga));const P=w[5];null!=P&&"number"==typeof P&&0<P&&(t.K=i=1.5*P,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const V=n.g;if(V){const q=V.g?V.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(q){var a=i.h;a.g||-1==q.indexOf("spdy")&&-1==q.indexOf("quic")&&-1==q.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(F0(a,a.h),a.h=null))}if(i.F){const ne=V.g?V.g.getResponseHeader("X-HTTP-Session-Id"):null;ne&&(i.Da=ne,ei(i.G,i.F,ne))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-n.G,t.j.info("Handshake RTT: "+t.S+"ms"));var u=n;if((i=t).wa=GI(i,i.I?i.oa:null,i.Y),u.K){L0(i.h,u);var f=u,_=i.K;_&&f.setTimeout(_),f.B&&(Lh(f),vm(f)),i.g=u}else z0(i);0<t.i.length&&Ju(t)}else"stop"!=w[0]&&"close"!=w[0]||ed(t,7);else 3==t.H&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?ed(t,7):jI(t):"noop"!=w[0]&&t.l&&t.l.Aa(w),t.A=0)}um()}catch{}}function M0(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Z_(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function FA(n){if(n.sa&&"function"==typeof n.sa)return n.sa();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Z_(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function MI(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Z_(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,a=0;a<r;a++)e.call(void 0,i[a],t&&t[a],n)}(tt=mm.prototype).setTimeout=function(n){this.P=n},tt.nb=function(n){n=n.target;const e=this.M;e&&3==Ma(n)?e.l():this.Pa(n)},tt.Pa=function(n){try{if(n==this.g)e:{const I=Ma(this.g);var e=this.g.Ia();if(this.g.da(),!(3>I)&&(3!=I||X_||this.g&&(this.h.h||this.g.ja()||qA(this.g)))){this.J||4!=I||7==e||um(),Lh(this);var t=this.g.da();this.aa=t;t:if(SI(this)){var i=qA(this.g);n="";var r=i.length,a=4==Ma(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Rc(this),Vh(this);var u="";break t}this.h.i=new Bt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:a&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==t,function wI(n,e,t,i,r,a,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+a+" "+u})}(this.j,this.u,this.A,this.m,this.W,I,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y_(f)){var w=f;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,$i(12),Rc(this),Vh(this);break e}Oh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fy(this,t)}this.S?(AI(this,I,u),X_&&this.i&&3==I&&(T0(this.U,this.V,"tick",this.mb),this.V.start())):(Oh(this.j,this.m,u,null),fy(this,u)),4==I&&Rc(this),this.i&&!this.J&&(4==I?q0(this.l,this):(this.i=!1,vm(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,$i(12)):(this.o=0,$i(13)),Rc(this),Vh(this)}}}catch{}},tt.mb=function(){if(this.g){var n=Ma(this.g),e=this.g.ja();this.C<e.length&&(Lh(this),AI(this,n,e),this.i&&4!=n&&vm(this))}},tt.cancel=function(){this.J=!0,Rc(this)},tt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function EI(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(um(),$i(17)),Rc(this),this.o=2,Vh(this)):A0(this,this.Y-n)};var x0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kc(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof kc){this.h=void 0!==e?e:n.h,er(this,n.j),this.s=n.s,this.g=n.g,xl(this,n.m),this.l=n.l,e=n.i;var t=new bm;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),xI(this,t),this.o=n.o}else n&&(t=String(n).match(x0))?(this.h=!!e,er(this,t[1]||"",!0),this.s=py(t[2]||""),this.g=py(t[3]||"",!0),xl(this,t[4]),this.l=py(t[5]||"",!0),xI(this,t[6]||"",!0),this.o=py(t[7]||"")):(this.h=!!e,this.i=new bm(null,this.h))}function Ml(n){return new kc(n)}function er(n,e,t){n.j=t?py(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function xl(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function xI(n,e,t){e instanceof bm?(n.i=e,function gy(n,e){e&&!n.j&&(Oc(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(OI(this,i),O0(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Uh(e,UA)),n.i=new bm(e,n.h))}function ei(n,e,t){n.i.set(e,t)}function R0(n){return ei(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function py(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Uh(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,RI),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function RI(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}kc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Uh(e,Bh,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Uh(e,Bh,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Uh(t,"/"==t.charAt(0)?k0:VA,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Uh(t,kI)),n.join("")};var Bh=/[#\/\?@]/g,VA=/[#\?:]/g,k0=/[#\?]/g,UA=/[#\?@]/g,kI=/#/g;function bm(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Oc(n){n.g||(n.g=new Map,n.h=0,n.i&&function LA(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var a=n[t].substring(0,i);r=n[t].substring(i+1)}else a=n[t];e(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function OI(n,e){Oc(n),e=Xu(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function my(n,e){return Oc(n),e=Xu(n,e),n.g.has(e)}function O0(n,e,t){OI(n,e),0<t.length&&(n.i=null,n.g.set(Xu(n,e),e0(t)),n.h+=t.length)}function Xu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function BA(n){this.l=n||PI,n=Bt.PerformanceNavigationTiming?0<(n=Bt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Bt.g&&Bt.g.Ka&&Bt.g.Ka()&&Bt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(tt=bm.prototype).add=function(n,e){Oc(this),this.i=null,n=Xu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},tt.forEach=function(n,e){Oc(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},tt.sa=function(){Oc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let a=0;a<r.length;a++)t.push(e[i])}return t},tt.Z=function(n){Oc(this);let e=[];if("string"==typeof n)my(this,n)&&(e=e.concat(this.g.get(Xu(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},tt.set=function(n,e){return Oc(this),this.i=null,my(this,n=Xu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},tt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},tt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const a=encodeURIComponent(String(i)),u=this.Z(i);for(i=0;i<u.length;i++){var r=a;""!==u[i]&&(r+="="+encodeURIComponent(String(u[i]))),n.push(r)}}return this.i=n.join("&")};var PI=10;function NI(n){return!!n.h||!!n.g&&n.g.size>=n.j}function N0(n){return n.h?1:n.g?n.g.size:0}function Pc(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function F0(n,e){n.g?n.g.add(e):n.h=e}function L0(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function _y(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return e0(n.i)}function FI(){}function HA(){this.g=new FI}function ek(n,e,t){const i=t||"";try{M0(n,function(r,a){let u=r;Al(r)&&(u=pI(r)),e.push(i+a+"="+encodeURIComponent(u))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function yy(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function wm(n){this.l=n.fc||null,this.j=n.ob||!1}function Em(n,e){Ji.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=vy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}BA.prototype.cancel=function(){if(this.i=_y(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},FI.prototype.stringify=function(n){return Bt.JSON.stringify(n,void 0)},FI.prototype.parse=function(n){return Bt.JSON.parse(n,void 0)},Vi(wm,Nh),wm.prototype.g=function(){return new Em(this.l,this.j)},wm.prototype.i=function(n){return function(){return n}}({}),Vi(Em,Ji);var vy=0;function LI(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Hh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,jh(n)}function jh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(tt=Em.prototype).open=function(n,e){if(this.readyState!=vy)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,jh(this)},tt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Bt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},tt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Hh(this)),this.readyState=vy},tt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,jh(this)),this.g&&(this.readyState=3,jh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Bt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;LI(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},tt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Hh(this):jh(this),3==this.readyState&&LI(this)}},tt.Za=function(n){this.g&&(this.response=this.responseText=n,Hh(this))},tt.Ya=function(n){this.g&&(this.response=n,Hh(this))},tt.ka=function(){this.g&&Hh(this)},tt.setRequestHeader=function(n,e){this.v.append(n,e)},tt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},tt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Em.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var $A=Bt.JSON.parse;function pi(n){Ji.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=V0,this.L=this.M=!1}Vi(pi,Ji);var V0="",zA=/^https?$/i,VI=["POST","PUT"];function U0(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,B0(n),by(n)}function B0(n){n.F||(n.F=!0,gr(n,"complete"),gr(n,"error"))}function BI(n){if(n.h&&typeof Xb<"u"&&(!n.C[1]||4!=Ma(n)||2!=n.da()))if(n.v&&4==Ma(n))ay(n.La,0,n);else if(gr(n,"readystatechange"),4==Ma(n)){n.h=!1;try{const f=n.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===f){var r=String(n.I).match(x0)[1]||null;if(!r&&Bt.self&&Bt.self.location){var a=Bt.self.location.protocol;r=a.substr(0,a.length-1)}i=!zA.test(r?r.toLowerCase():"")}t=i}if(t)gr(n,"complete"),gr(n,"success");else{n.m=6;try{var u=2<Ma(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.da()+"]",B0(n)}}finally{by(n)}}}function by(n,e){if(n.g){GA(n);const t=n.g,i=n.C[0]?q_:null;n.g=null,n.C=null,e||gr(n,"ready");try{t.onreadystatechange=i}catch{}}}function GA(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Bt.clearTimeout(n.A),n.A=null)}function Ma(n){return n.g?n.g.readyState:0}function qA(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case V0:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function ZA(n){let e="";return f0(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function HI(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=ZA(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ei(n,e,t))}function wy(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function WA(n){this.Ga=0,this.i=[],this.j=new D0,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=wy("failFast",!1,n),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=wy("baseRetryDelayMs",5e3,n),this.hb=wy("retryDelaySeedMs",1e4,n),this.eb=wy("forwardChannelMaxRetries",2,n),this.xa=wy("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.K=void 0,this.I=n&&n.supportsCrossDomainXhr||!1,this.J="",this.h=new BA(n&&n.concurrentRequestLimit),this.Ja=new HA,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.j.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function jI(n){if(KA(n),3==n.H){var e=n.W++,t=Ml(n.G);ei(t,"SID",n.J),ei(t,"RID",e),ei(t,"TYPE","terminate"),Nc(n,t),(e=new mm(n,n.j,e,void 0)).L=2,e.v=R0(Ml(t)),t=!1,Bt.navigator&&Bt.navigator.sendBeacon&&(t=Bt.navigator.sendBeacon(e.v.toString(),"")),!t&&Bt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Im(e.l,null),e.g.ha(e.v)),e.G=Date.now(),vm(e)}zI(n)}function H0(n){n.g&&(Cm(n),n.g.cancel(),n.g=null)}function KA(n){H0(n),n.u&&(Bt.clearTimeout(n.u),n.u=null),Ey(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Bt.clearTimeout(n.m),n.m=null)}function Ju(n){NI(n.h)||n.m||(n.m=!0,_I(n.Na,n),n.C=0)}function j0(n,e){var t;t=e?e.m:n.W++;const i=Ml(n.G);ei(i,"SID",n.J),ei(i,"RID",t),ei(i,"AID",n.V),Nc(n,i),n.o&&n.s&&HI(i,n.o,n.s),t=new mm(n,n.j,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.i=e.F.concat(n.i)),e=$0(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),F0(n.h,t),ym(t,i,e)}function Nc(n,e){n.ma&&f0(n.ma,function(t,i){ei(e,i,t)}),n.l&&M0({},function(t,i){ei(e,i,t)})}function $0(n,e,t){t=Math.min(n.i.length,t);var i=n.l?mr(n.l.Va,n.l,n):null;e:{var r=n.i;let a=-1;for(;;){const u=["count="+t];-1==a?0<t?(a=r[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);let f=!0;for(let _=0;_<t;_++){let w=r[_].h;const I=r[_].g;if(w-=a,0>w)a=Math.max(0,r[_].h-100),f=!1;else try{ek(I,u,"req"+w+"_")}catch{i&&i(I)}}if(f){i=u.join("&");break e}}}return n=n.i.splice(0,t),e.F=n,i}function z0(n){n.g||n.u||(n.ba=1,_I(n.Ma,n),n.A=0)}function $I(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=hm(mr(n.Ma,n),YA(n,n.A)),n.A++,0))}function Cm(n){null!=n.B&&(Bt.clearTimeout(n.B),n.B=null)}function G0(n){n.g=new mm(n,n.j,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Ml(n.wa);ei(e,"RID","rpc"),ei(e,"SID",n.J),ei(e,"CI",n.M?"0":"1"),ei(e,"AID",n.V),ei(e,"TYPE","xmlhttp"),Nc(n,e),n.o&&n.s&&HI(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.oa,t.L=1,t.v=R0(Ml(e)),t.s=null,t.S=!0,hy(t,n)}function Ey(n){null!=n.v&&(Bt.clearTimeout(n.v),n.v=null)}function q0(n,e){var t=null;if(n.g==e){Ey(n),Cm(n),n.g=null;var i=2}else{if(!Pc(n.h,e))return;t=e.F,L0(n.h,e),i=1}if(0!=n.H)if(n.ta=e.aa,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;gr(i=Ph(),new II(i,t)),Ju(n)}else z0(n);else if(3==(r=e.o)||0==r&&0<n.ta||!(1==i&&function tk(n,e){return!(N0(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.F.concat(n.i),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=hm(mr(n.Na,n,e),YA(n,n.C)),n.C++,0)))}(n,e)||2==i&&$I(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),r){case 1:ed(n,5);break;case 4:ed(n,10);break;case 3:ed(n,6);break;default:ed(n,2)}}function YA(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.l||(t*=2),t*e}function ed(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=mr(n.pb,n);t||(t=new kc("//www.google.com/images/cleardot.gif"),Bt.location&&"http"==Bt.location.protocol||er(t,"https"),R0(t)),function jA(n,e){const t=new D0;if(Bt.Image){const i=new Image;i.onload=K_(yy,t,i,"TestLoadImage: loaded",!0,e),i.onerror=K_(yy,t,i,"TestLoadImage: error",!1,e),i.onabort=K_(yy,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=K_(yy,t,i,"TestLoadImage: timeout",!1,e),Bt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else $i(2);n.H=0,n.l&&n.l.za(e),zI(n),KA(n)}function zI(n){if(n.H=0,n.pa=[],n.l){const e=_y(n.h);(0!=e.length||0!=n.i.length)&&(sI(n.pa,e),sI(n.pa,n.i),n.h.i.length=0,e0(n.i),n.i.length=0),n.l.ya()}}function GI(n,e,t){var i=t instanceof kc?Ml(t):new kc(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),xl(i,i.m);else{var r=Bt.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var a=new kc(null,void 0);i&&er(a,i),e&&(a.g=e),r&&xl(a,r),t&&(a.l=t),i=a}return e=n.Da,(t=n.F)&&e&&ei(i,t,e),ei(i,"VER",n.qa),Nc(n,i),i}function Im(n,e,t){if(e&&!n.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new pi(t&&n.Ha&&!n.va?new wm({ob:!0}):n.va)).Oa(n.I),e}function qI(){}function Z0(){if(xh&&!(10<=Number(IA)))throw Error("Environmental error: no available transport.")}function ao(n,e){Ji.call(this),this.g=new WA(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Y_(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Y_(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new $h(this)}function QA(n){cy.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function ZI(){pm.call(this),this.status=1}function $h(n){this.g=n}function xa(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function W0(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var a=n.g[3],u=(e=n.g[0])+(a^(t=n.g[1])&((r=n.g[2])^a))+i[0]+3614090360&4294967295;u=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=t+(u<<7&4294967295|u>>>25))+((u=a+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|u>>>20))+((u=r+(t^a&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^r&(a^e))+i[3]+3250441966&4294967295)<<22&4294967295|u>>>10))+((u=e+(a^t&(r^a))+i[4]+4118548399&4294967295)<<7&4294967295|u>>>25))+((u=a+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|u>>>20))+((u=r+(t^a&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^r&(a^e))+i[7]+4249261313&4294967295)<<22&4294967295|u>>>10))+((u=e+(a^t&(r^a))+i[8]+1770035416&4294967295)<<7&4294967295|u>>>25))+((u=a+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|u>>>20))+((u=r+(t^a&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^r&(a^e))+i[11]+2304563134&4294967295)<<22&4294967295|u>>>10))+((u=e+(a^t&(r^a))+i[12]+1804603682&4294967295)<<7&4294967295|u>>>25))+((u=a+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|u>>>20))+((u=r+(t^a&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^r&(a^e))+i[15]+1236535329&4294967295)<<22&4294967295|u>>>10))+((u=e+(r^a&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|u>>>27))+((u=a+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|u>>>23))+((u=r+(e^t&(a^e))+i[11]+643717713&4294967295)<<14&4294967295|u>>>18))+((u=t+(a^e&(r^a))+i[0]+3921069994&4294967295)<<20&4294967295|u>>>12))+((u=e+(r^a&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|u>>>27))+((u=a+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|u>>>23))+((u=r+(e^t&(a^e))+i[15]+3634488961&4294967295)<<14&4294967295|u>>>18))+((u=t+(a^e&(r^a))+i[4]+3889429448&4294967295)<<20&4294967295|u>>>12))+((u=e+(r^a&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|u>>>27))+((u=a+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|u>>>23))+((u=r+(e^t&(a^e))+i[3]+4107603335&4294967295)<<14&4294967295|u>>>18))+((u=t+(a^e&(r^a))+i[8]+1163531501&4294967295)<<20&4294967295|u>>>12))+((u=e+(r^a&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|u>>>27))+((u=a+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|u>>>23))+((u=r+(e^t&(a^e))+i[7]+1735328473&4294967295)<<14&4294967295|u>>>18))+((u=t+(a^e&(r^a))+i[12]+2368359562&4294967295)<<20&4294967295|u>>>12))+((u=e+(t^r^a)+i[5]+4294588738&4294967295)<<4&4294967295|u>>>28))+((u=a+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|u>>>21))+((u=r+(a^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|u>>>16))+((u=t+(r^a^e)+i[14]+4259657740&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^r^a)+i[1]+2763975236&4294967295)<<4&4294967295|u>>>28))+((u=a+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|u>>>21))+((u=r+(a^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|u>>>16))+((u=t+(r^a^e)+i[10]+3200236656&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^r^a)+i[13]+681279174&4294967295)<<4&4294967295|u>>>28))+((u=a+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|u>>>21))+((u=r+(a^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|u>>>16))+((u=t+(r^a^e)+i[6]+76029189&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^r^a)+i[9]+3654602809&4294967295)<<4&4294967295|u>>>28))+((u=a+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|u>>>21))+((u=r+(a^e^t)+i[15]+530742520&4294967295)<<16&4294967295|u>>>16))+((u=t+(r^a^e)+i[2]+3299628645&4294967295)<<23&4294967295|u>>>9))+((u=e+(r^(t|~a))+i[0]+4096336452&4294967295)<<6&4294967295|u>>>26))+((u=a+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|u>>>22))+((u=r+(e^(a|~t))+i[14]+2878612391&4294967295)<<15&4294967295|u>>>17))+((u=t+(a^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|u>>>11))+((u=e+(r^(t|~a))+i[12]+1700485571&4294967295)<<6&4294967295|u>>>26))+((u=a+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|u>>>22))+((u=r+(e^(a|~t))+i[10]+4293915773&4294967295)<<15&4294967295|u>>>17))+((u=t+(a^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|u>>>11))+((u=e+(r^(t|~a))+i[8]+1873313359&4294967295)<<6&4294967295|u>>>26))+((u=a+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|u>>>22))+((u=r+(e^(a|~t))+i[6]+2734768916&4294967295)<<15&4294967295|u>>>17))+((u=t+(a^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|u>>>11))+((a=(e=t+((u=e+(r^(t|~a))+i[4]+4149444226&4294967295)<<6&4294967295|u>>>26))+((u=a+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|u>>>22))^((r=a+((u=r+(e^(a|~t))+i[2]+718787259&4294967295)<<15&4294967295|u>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(u<<21&4294967295|u>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+a&4294967295}function Dn(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var a=0|n[r];i&&a==e||(t[r]=a,i=!1)}this.g=t}(tt=pi.prototype).Oa=function(n){this.M=n},tt.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():uy.g(),this.C=function TI(n){return n.h||(n.h=n.i())}(this.u?this.u:uy),this.g.onreadystatechange=mr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(a){return void U0(this,a)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const a of i.keys())t.set(a,i.get(a))}i=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),r=Bt.FormData&&n instanceof Bt.FormData,!(0<=Jb(VI,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,u]of t)this.g.setRequestHeader(a,u);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{GA(this),0<this.B&&((this.L=function UI(n){return xh&&function d0(){return oI(u0,9,function(){let n=0;const e=n0(String(rm)).split("."),t=n0("9").split("."),i=Math.max(e.length,t.length);for(let u=0;0==n&&u<i;u++){var r=e[u]||"",a=t[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==r[0].length&&0==a[0].length)break;n=r0(0==r[1].length?0:parseInt(r[1],10),0==a[1].length?0:parseInt(a[1],10))||r0(0==r[2].length,0==a[2].length)||r0(r[2],a[2]),r=r[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=mr(this.ua,this)):this.A=ay(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){U0(this,a)}},tt.ua=function(){typeof Xb<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,gr(this,"timeout"),this.abort(8))},tt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,gr(this,"complete"),gr(this,"abort"),by(this))},tt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),by(this,!0)),pi.$.N.call(this)},tt.La=function(){this.s||(this.G||this.v||this.l?BI(this):this.kb())},tt.kb=function(){BI(this)},tt.da=function(){try{return 2<Ma(this)?this.g.status:-1}catch{return-1}},tt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},tt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),$A(e)}},tt.Ia=function(){return this.m},tt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(tt=WA.prototype).qa=8,tt.H=1,tt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new mm(this,this.j,n,void 0);let a=this.s;if(this.U&&(a?(a=TA(a),ty(a,this.U)):a=this.U),null!==this.o||this.O||(r.I=a,a=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=$0(this,r,e),ei(t=Ml(this.G),"RID",n),ei(t,"CVER",22),this.F&&ei(t,"X-HTTP-Session-Id",this.F),Nc(this,t),a&&(this.O?e="headers="+encodeURIComponent(String(ZA(a)))+"&"+e:this.o&&HI(t,this.o,a)),F0(this.h,r),this.bb&&ei(t,"TYPE","init"),this.P?(ei(t,"$req",e),ei(t,"SID","null"),r.ba=!0,ym(r,t,null)):ym(r,t,e),this.H=2}}else 3==this.H&&(n?j0(this,n):0==this.i.length||NI(this.h)||j0(this))},tt.Ma=function(){if(this.u=null,G0(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var n=2*this.S;this.j.info("BP detection timer enabled: "+n),this.B=hm(mr(this.jb,this),n)}},tt.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,$i(10),H0(this),G0(this))},tt.ib=function(){null!=this.v&&(this.v=null,H0(this),$I(this),$i(19))},tt.pb=function(n){n?(this.j.info("Successfully pinged google.com"),$i(2)):(this.j.info("Failed to ping google.com"),$i(1))},(tt=qI.prototype).Ba=function(){},tt.Aa=function(){},tt.za=function(){},tt.ya=function(){},tt.Va=function(){},Z0.prototype.g=function(n,e){return new ao(n,e)},Vi(ao,Ji),ao.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var n=this.g,e=this.l,t=this.h||void 0;$i(0),n.Y=e,n.ma=t||{},n.M=n.aa,n.G=GI(n,null,n.Y),Ju(n)},ao.prototype.close=function(){jI(this.g)},ao.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=pI(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.fb++,n)),3==e.H&&Ju(e)},ao.prototype.N=function(){this.g.l=null,delete this.j,jI(this.g),delete this.g,ao.$.N.call(this)},Vi(QA,cy),Vi(ZI,pm),Vi($h,qI),$h.prototype.Ba=function(){gr(this.g,"a")},$h.prototype.Aa=function(n){gr(this.g,new QA(n))},$h.prototype.za=function(n){gr(this.g,new ZI)},$h.prototype.ya=function(){gr(this.g,"b")},Vi(xa,function XA(){this.blockSize=-1}),xa.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},xa.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,a=0;a<e;){if(0==r)for(;a<=t;)W0(this,n,a),a+=this.blockSize;if("string"==typeof n){for(;a<e;)if(i[r++]=n.charCodeAt(a++),r==this.blockSize){W0(this,i),r=0;break}}else for(;a<e;)if(i[r++]=n[a++],r==this.blockSize){W0(this,i),r=0;break}}this.h=r,this.i+=e},xa.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var WI={};function KI(n){return-128<=n&&128>n?oI(WI,n,function(e){return new Dn([0|e],0>e?-1:0)}):new Dn([0|n],0>n?-1:0)}function Ui(n){if(isNaN(n)||!isFinite(n))return zh;if(0>n)return _r(Ui(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=Tm;return new Dn(e,0)}var Tm=4294967296,zh=KI(0),ys=KI(1),QI=KI(16777216);function Ho(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function lo(n){return-1==n.h}function _r(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Dn(t,~n.h).add(ys)}function Gh(n,e){return n.add(_r(e))}function Dm(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function qh(n,e){this.g=n,this.h=e}function Cy(n,e){if(Ho(e))throw Error("division by zero");if(Ho(n))return new qh(zh,zh);if(lo(n))return e=Cy(_r(n),e),new qh(_r(e.g),_r(e.h));if(lo(e))return e=Cy(n,_r(e)),new qh(_r(e.g),e.h);if(30<n.g.length){if(lo(n)||lo(e))throw Error("slowDivide_ only works with positive integers.");for(var t=ys,i=e;0>=i.X(n);)t=K0(t),i=K0(i);var r=td(t,1),a=td(i,1);for(i=td(i,2),t=td(t,2);!Ho(i);){var u=a.add(i);0>=u.X(n)&&(r=r.add(t),a=u),i=td(i,1),t=td(t,1)}return e=Gh(n,r.R(e)),new qh(r,e)}for(r=zh;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),u=(a=Ui(t)).R(e);lo(u)||0<u.X(n);)u=(a=Ui(t-=i)).R(e);Ho(a)&&(a=ys),r=r.add(a),n=Gh(n,u)}return new qh(r,n)}function K0(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Dn(t,n.h)}function td(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],a=0;a<i;a++)r[a]=0<e?n.D(a+t)>>>e|n.D(a+t+1)<<32-e:n.D(a+t);return new Dn(r,n.h)}(tt=Dn.prototype).ea=function(){if(lo(this))return-_r(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:Tm+i)*e,e*=Tm}return n},tt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ho(this))return"0";if(lo(this))return"-"+_r(this).toString(n);for(var e=Ui(Math.pow(n,6)),t=this,i="";;){var r=Cy(t,e).g,a=((0<(t=Gh(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Ho(t=r))return a+i;for(;6>a.length;)a="0"+a;i=a+i}},tt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},tt.X=function(n){return lo(n=Gh(this,n))?-1:Ho(n)?0:1},tt.abs=function(){return lo(this)?_r(this):this},tt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var a=i+(65535&this.D(r))+(65535&n.D(r)),u=(a>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=u>>>16,t[r]=(u&=65535)<<16|(a&=65535)}return new Dn(t,-2147483648&t[t.length-1]?-1:0)},tt.R=function(n){if(Ho(this)||Ho(n))return zh;if(lo(this))return lo(n)?_r(this).R(_r(n)):_r(_r(this).R(n));if(lo(n))return _r(this.R(_r(n)));if(0>this.X(QI)&&0>n.X(QI))return Ui(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var a=this.D(i)>>>16,u=65535&this.D(i),f=n.D(r)>>>16,_=65535&n.D(r);t[2*i+2*r]+=u*_,Dm(t,2*i+2*r),t[2*i+2*r+1]+=a*_,Dm(t,2*i+2*r+1),t[2*i+2*r+1]+=u*f,Dm(t,2*i+2*r+1),t[2*i+2*r+2]+=a*f,Dm(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Dn(t,0)},tt.gb=function(n){return Cy(this,n).h},tt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Dn(t,this.h&n.h)},tt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Dn(t,this.h|n.h)},tt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Dn(t,this.h^n.h)},Z0.prototype.createWebChannel=Z0.prototype.g,ao.prototype.send=ao.prototype.u,ao.prototype.open=ao.prototype.m,ao.prototype.close=ao.prototype.close,ly.NO_ERROR=0,ly.TIMEOUT=8,ly.HTTP_ERROR=6,fm.COMPLETE="complete",DI.EventType=Fh,Fh.OPEN="a",Fh.CLOSE="b",Fh.ERROR="c",Fh.MESSAGE="d",Ji.prototype.listen=Ji.prototype.O,pi.prototype.listenOnce=pi.prototype.P,pi.prototype.getLastError=pi.prototype.Sa,pi.prototype.getLastErrorCode=pi.prototype.Ia,pi.prototype.getStatus=pi.prototype.da,pi.prototype.getResponseJson=pi.prototype.Wa,pi.prototype.getResponseText=pi.prototype.ja,pi.prototype.send=pi.prototype.ha,pi.prototype.setWithCredentials=pi.prototype.Oa,xa.prototype.digest=xa.prototype.l,xa.prototype.reset=xa.prototype.reset,xa.prototype.update=xa.prototype.j,Dn.prototype.add=Dn.prototype.add,Dn.prototype.multiply=Dn.prototype.R,Dn.prototype.modulo=Dn.prototype.gb,Dn.prototype.compare=Dn.prototype.X,Dn.prototype.toNumber=Dn.prototype.ea,Dn.prototype.toString=Dn.prototype.toString,Dn.prototype.getBits=Dn.prototype.D,Dn.fromNumber=Ui,Dn.fromString=function YI(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return _r(YI(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Ui(Math.pow(e,8)),i=zh,r=0;r<n.length;r+=8){var a=Math.min(8,n.length-r),u=parseInt(n.substring(r,r+a),e);8>a?(a=Ui(Math.pow(e,a)),i=i.R(a).add(Ui(u))):i=(i=i.R(t)).add(Ui(u))}return i};var JA=Vo.createWebChannelTransport=function(){return new Z0},XI=Vo.getStatEventTarget=function(){return Ph()},Y0=Vo.ErrorCode=ly,Q0=Vo.EventType=fm,Fc=Vo.Event=Uo,X0=Vo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},J0=Vo.FetchXmlHttpFactory=wm,co=Vo.WebChannel=DI,eM=Vo.XhrIo=pi,nk=Vo.Md5=xa,Zh=Vo.Integer=Dn;const JI="@firebase/firestore";class tr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tr.UNAUTHENTICATED=new tr(null),tr.GOOGLE_CREDENTIALS=new tr("google-credentials-uid"),tr.FIRST_PARTY=new tr("first-party-uid"),tr.MOCK_USER=new tr("mock-user");let Wh="9.21.0";const Rl=new Sl.Yd("@firebase/firestore");function eT(){return Rl.logLevel}function Le(n,...e){if(Rl.logLevel<=Sl.in.DEBUG){const t=e.map(Sm);Rl.debug(`Firestore (${Wh}): ${n}`,...t)}}function mi(n,...e){if(Rl.logLevel<=Sl.in.ERROR){const t=e.map(Sm);Rl.error(`Firestore (${Wh}): ${n}`,...t)}}function jo(n,...e){if(Rl.logLevel<=Sl.in.WARN){const t=e.map(Sm);Rl.warn(`Firestore (${Wh}): ${n}`,...t)}}function Sm(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function rt(n="Unexpected state"){const e=`FIRESTORE (${Wh}) INTERNAL ASSERTION FAILED: `+n;throw mi(e),new Error(e)}function _t(n,e){n||rt()}function Qe(n,e){return n}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends vn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ew{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(tr.UNAUTHENTICATED))}shutdown(){}}class iT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class rT{constructor(e){this.t=e,this.currentUser=tr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const a=w=>this.i!==r?(r=this.i,t(w)):Promise.resolve();let u=new gi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new gi,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const w=u;e.enqueueRetryable((0,we.Z)(function*(){yield w.promise,yield a(i.currentUser)}))},_=w=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(w=>_(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?_(w):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new gi)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(_t("string"==typeof i.accessToken),new ew(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return _t(null===e||"string"==typeof e),new tr(e)}}class nM{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=tr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class iM{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new nM(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(tr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ik{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=a=>{null!=a.error&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.T;return this.T=a.token,Le("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const r=a=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?r(a):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(_t("string"==typeof t.token),this.T=t.token,new rM(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function oM(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class sT{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=oM(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%e.length))}return i}}function Ht(n,e){return n<e?-1:n>e?1:0}function Am(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function aM(n){return n+"\0"}class ri{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Me(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Me(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Me(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ri.fromMillis(Date.now())}static fromDate(e){return ri.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new ri(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ht(this.nanoseconds,e.nanoseconds):Ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ct{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ct(e)}static min(){return new Ct(new ri(0,0))}static max(){return new Ct(new ri(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Iy{constructor(e,t,i){void 0===t?t=0:t>e.length&&rt(),void 0===i?i=e.length-t:i>e.length-t&&rt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Iy.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Iy?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=e.get(r),u=t.get(r);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class fn extends Iy{construct(e,t,i){return new fn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Me(ce.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new fn(t)}static emptyPath(){return new fn([])}}const Ty=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _i extends Iy{construct(e,t,i){return new _i(e,t,i)}static isValidIdentifier(e){return Ty.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_i.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new _i(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(0===i.length)throw new Me(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;r<e.length;){const f=e[r];if("\\"===f){if(r+1===e.length)throw new Me(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Me(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=_,r+=2}else"`"===f?(u=!u,r++):"."!==f||u?(i+=f,r++):(a(),r++)}if(a(),u)throw new Me(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _i(t)}static emptyPath(){return new _i([])}}class Ke{constructor(e){this.path=e}static fromPath(e){return new Ke(fn.fromString(e))}static fromName(e){return new Ke(fn.fromString(e).popFirst(5))}static empty(){return new Ke(fn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===fn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return fn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ke(new fn(e.slice()))}}class Mm{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function kl(n){return n.fields.find(e=>2===e.kind)}function Lc(n){return n.fields.filter(e=>2!==e.kind)}Mm.UNKNOWN_ID=-1;class Kh{constructor(e,t){this.fieldPath=e,this.kind=t}}class nd{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new nd(0,uo.min())}}function Dy(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Ct.fromTimestamp(1e9===i?new ri(t+1,0):new ri(t,i));return new uo(r,Ke.empty(),e)}function xm(n){return new uo(n.readTime,n.key,-1)}class uo{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new uo(Ct.min(),Ke.empty(),-1)}static max(){return new uo(Ct.max(),Ke.empty(),-1)}}function oT(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ke.comparator(n.documentKey,e.documentKey),0!==t?t:Ht(n.largestBatchId,e.largestBatchId))}const cM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ol(n){return nw.apply(this,arguments)}function nw(){return nw=(0,we.Z)(function*(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==cM)throw n;Le("LocalStore","Unexpectedly lost primary lease")}),nw.apply(this,arguments)}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):se.reject(t)}static resolve(e){return new se((t,i)=>{t(e)})}static reject(e){return new se((t,i)=>{i(e)})}static waitFor(e){return new se((t,i)=>{let r=0,a=0,u=!1;e.forEach(f=>{++r,f.next(()=>{++a,u&&a===r&&t()},_=>i(_))}),u=!0,a===r&&t()})}static or(e){let t=se.resolve(!1);for(const i of e)t=t.next(r=>r?se.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,a)=>{i.push(t.call(this,r,a))}),this.waitFor(i)}static mapArray(e,t){return new se((i,r)=>{const a=e.length,u=new Array(a);let f=0;for(let _=0;_<a;_++){const w=_;t(e[w]).next(I=>{u[w]=I,++f,f===a&&i(u)},I=>r(I))}})}static doWhile(e,t){return new se((i,r)=>{const a=()=>{!0===e()?t().next(()=>{a()},r):i()};a()})}}class Sy{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.R=new gi,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{t.error?this.R.reject(new Yh(e,t.error)):this.R.resolve()},this.transaction.onerror=i=>{const r=Rm(i.target.error);this.R.reject(new Yh(e,r))}}static open(e,t,i,r){try{return new Sy(t,e.transaction(r,i))}catch(a){throw new Yh(t,a)}}get v(){return this.R.promise}abort(e){e&&this.R.reject(e),this.aborted||(Le("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new dM(t)}}class $o{constructor(e,t,i){this.name=e,this.version=t,this.V=i,12.2===$o.S((0,vn.z$)())&&mi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Le("SimpleDb","Removing database:",e),id(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,vn.hl)())return!1;if($o.C())return!0;const e=(0,vn.z$)(),t=$o.S(e),i=0<t&&t<10,r=$o.N(e),a=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||a)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(e){var t=this;return(0,we.Z)(function*(){return t.db||(Le("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=u=>{i(u.target.result)},a.onblocked=()=>{r(new Yh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const f=u.target.error;r("VersionError"===f.name?new Me(ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Me(ce.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Yh(e,f))},a.onupgradeneeded=u=>{Le("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.V.$(u.target.result,a.transaction,u.oldVersion,t.version).next(()=>{Le("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=i=>t.F(i)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var a=this;return(0,we.Z)(function*(){const u="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.O(e);const _=Sy.open(a.db,e,u?"readonly":"readwrite",i),w=r(_).next(I=>(_.P(),I)).catch(I=>(_.abort(I),se.reject(I))).toPromise();return w.catch(()=>{}),yield _.v,w}catch(_){const w=_,I="FirebaseError"!==w.name&&f<3;if(Le("SimpleDb","Transaction failed with error:",w.message,"Retrying:",I),a.close(),!I)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class aT{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return id(this.L.delete())}}class Yh extends Me{constructor(e,t){super(ce.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Pl(n){return"IndexedDbTransactionError"===n.name}class dM{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Le("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Le("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),id(i)}add(e){return Le("SimpleDb","ADD",this.store.name,e,e),id(this.store.add(e))}get(e){return id(this.store.get(e)).next(t=>(void 0===t&&(t=null),Le("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Le("SimpleDb","DELETE",this.store.name,e),id(this.store.delete(e))}count(){return Le("SimpleDb","COUNT",this.store.name),id(this.store.count())}j(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),a=[];return this.W(r,(u,f)=>{a.push(f)}).next(()=>a)}{const r=this.store.getAll(i.range);return new se((a,u)=>{r.onerror=f=>{u(f.target.error)},r.onsuccess=f=>{a(f.target.result)}})}}H(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new se((r,a)=>{i.onerror=u=>{a(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}J(e,t){Le("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const r=this.cursor(i);return this.W(r,(a,u,f)=>f.delete())}X(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.W(r,t)}Z(e){const t=this.cursor({});return new se((i,r)=>{t.onerror=a=>{const u=Rm(a.target.error);r(u)},t.onsuccess=a=>{const u=a.target.result;u?e(u.primaryKey,u.value).next(f=>{f?u.continue():i()}):i()}})}W(e,t){const i=[];return new se((r,a)=>{e.onerror=u=>{a(u.target.error)},e.onsuccess=u=>{const f=u.target.result;if(!f)return void r();const _=new aT(f),w=t(f.primaryKey,f.value,_);if(w instanceof se){const I=w.catch(M=>(_.done(),se.reject(M)));i.push(I)}_.isDone?r():null===_.K?f.continue():f.continue(_.K)}}).next(()=>se.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function id(n){return new se((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=Rm(i.target.error);t(r)}})}let iw=!1;function Rm(n){const e=$o.S((0,vn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Me("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return iw||(iw=!0,setTimeout(()=>{throw i},0)),i}}return n}class rk{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Le("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,we.Z)(function*(){t.task=null;try{Le("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(i){Pl(i)?Le("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Ol(i)}yield t.et(6e4)}))}}class lT{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,we.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.st(i,e))})()}st(e,t){const i=new Set;let r=t,a=!0;return se.doWhile(()=>!0===a&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!i.has(u))return Le("IndexBackiller",`Processing collection: ${u}`),this.it(e,u,r).next(f=>{r-=f,i.add(u)});a=!1})).next(()=>t-r)}it(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(a=>{const u=a.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.rt(r,a)).next(f=>(Le("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>u.size)}))}rt(e,t){let i=e;return t.changes.forEach((r,a)=>{const u=xm(a);oT(u,i)>0&&(i=u)}),new uo(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Qr=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function km(n){return null==n}function Om(n){return 0===n&&1/n==-1/0}function hM(n){return"number"==typeof n&&Number.isInteger(n)&&!Om(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Xr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=cT(e)),e=fM(n.get(t),e);return cT(e)}function fM(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function cT(n){return n+"\x01\x01"}function Ra(n){const e=n.length;if(_t(e>=2),2===e)return _t("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),fn.emptyPath();const t=e-2,i=[];let r="";for(let a=0;a<e;){const u=n.indexOf("\x01",a);switch((u<0||u>t)&&rt(),n.charAt(u+1)){case"\x01":const f=n.substring(a,u);let _;0===r.length?_=f:(r+=f,_=r,r=""),i.push(_);break;case"\x10":r+=n.substring(a,u),r+="\0";break;case"\x11":r+=n.substring(a,u+1);break;default:rt()}a=u+2}return new fn(i)}const pM=["userId","batchId"];function rw(n,e){return[n,Xr(e)]}function mM(n,e,t){return[n,Xr(e),t]}const sk={},ok=["prefixPath","collectionGroup","readTime","documentId"],gM=["prefixPath","collectionGroup","documentId"],ak=["collectionGroup","readTime","prefixPath","documentId"],lk=["canonicalId","targetId"],ck=["targetId","path"],uk=["path","targetId"],dk=["collectionId","parent"],hk=["indexId","uid"],s=["uid","sequenceNumber"],o=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],c=["indexId","uid","orderedDocumentKey"],d=["userId","collectionPath","documentId"],h=["userId","collectionPath","largestBatchId"],g=["userId","collectionGroup","largestBatchId"],v=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],E=[...v,"documentOverlays"],T=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],A=T,k=[...A,"indexConfiguration","indexState","indexEntries"];class F extends uM{constructor(e,t){super(),this.at=e,this.currentSequenceNumber=t}}function B(n,e){const t=Qe(n);return $o.M(t.at,e)}function J(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ge(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Be(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Ne{constructor(e,t){this.comparator=e,this.root=t||st.EMPTY}insert(e,t){return new Ne(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,st.BLACK,null,null))}remove(e){return new Ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,st.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lt(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lt(this.root,e,this.comparator,!1)}getReverseIterator(){return new lt(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lt(this.root,e,this.comparator,!0)}}class lt{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class st{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=i??st.RED,this.left=r??st.EMPTY,this.right=a??st.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new st(e??this.key,t??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return st.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return st.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,st.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,st.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const e=this.left.check();if(e!==this.right.check())throw rt();return e+(this.isRed()?0:1)}}st.EMPTY=null,st.RED=!0,st.BLACK=!1,st.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new st(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class fe{constructor(e){this.comparator=e,this.data=new Ne(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ot(this.data.getIterator())}getIteratorFrom(e){return new Ot(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof fe)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(0!==this.comparator(r,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new fe(this.comparator);return t.data=e,t}}class Ot{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function on(n){return n.hasNext()?n.getNext():void 0}class rn{constructor(e){this.fields=e,e.sort(_i.comparator)}static empty(){return new rn([])}unionWith(e){let t=new fe(_i.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new rn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Am(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class Vc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ai{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new Vc("Invalid base64 string: "+r):r}}(e);return new Ai(t)}static fromUint8Array(e){const t=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(e);return new Ai(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ai.EMPTY_BYTE_STRING=new Ai("");const ow=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ka(n){if(_t(!!n),"string"==typeof n){let e=0;const t=ow.exec(n);if(_t(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ti(n.seconds),nanos:ti(n.nanos)}}function ti(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function zo(n){return"string"==typeof n?Ai.fromBase64String(n):Ai.fromUint8Array(n)}function Qh(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Xh(n){const e=n.mapValue.fields.__previous_value__;return Qh(e)?Xh(e):e}function rd(n){const e=ka(n.mapValue.fields.__local_write_time__.timestampValue);return new ri(e.seconds,e.nanos)}class VL{constructor(e,t,i,r,a,u,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class Jh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Jh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Jh&&e.projectId===this.projectId&&e.database===this.database}}const ef={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},uT={nullValue:"NULL_VALUE"};function tf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Qh(n)?4:gk(n)?9007199254740991:10:rt()}function Uc(n,e){if(n===e)return!0;const t=tf(n);if(t!==tf(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return rd(n).isEqual(rd(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=ka(i.timestampValue),u=ka(r.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,zo(n.bytesValue).isEqual(zo(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return ti(i.geoPointValue.latitude)===ti(r.geoPointValue.latitude)&&ti(i.geoPointValue.longitude)===ti(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return ti(i.integerValue)===ti(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=ti(i.doubleValue),u=ti(r.doubleValue);return a===u?Om(a)===Om(u):isNaN(a)&&isNaN(u)}return!1}(n,e);case 9:return Am(n.arrayValue.values||[],e.arrayValue.values||[],Uc);case 10:return function(i,r){const a=i.mapValue.fields||{},u=r.mapValue.fields||{};if(J(a)!==J(u))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===u[f]||!Uc(a[f],u[f])))return!1;return!0}(n,e);default:return rt()}var r}function aw(n,e){return void 0!==(n.values||[]).find(t=>Uc(t,e))}function nf(n,e){if(n===e)return 0;const t=tf(n),i=tf(e);if(t!==i)return Ht(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ht(n.booleanValue,e.booleanValue);case 2:return function(r,a){const u=ti(r.integerValue||r.doubleValue),f=ti(a.integerValue||a.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return fk(n.timestampValue,e.timestampValue);case 4:return fk(rd(n),rd(e));case 5:return Ht(n.stringValue,e.stringValue);case 6:return function(r,a){const u=zo(r),f=zo(a);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(r,a){const u=r.split("/"),f=a.split("/");for(let _=0;_<u.length&&_<f.length;_++){const w=Ht(u[_],f[_]);if(0!==w)return w}return Ht(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,a){const u=Ht(ti(r.latitude),ti(a.latitude));return 0!==u?u:Ht(ti(r.longitude),ti(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,a){const u=r.values||[],f=a.values||[];for(let _=0;_<u.length&&_<f.length;++_){const w=nf(u[_],f[_]);if(w)return w}return Ht(u.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,a){if(r===ef.mapValue&&a===ef.mapValue)return 0;if(r===ef.mapValue)return 1;if(a===ef.mapValue)return-1;const u=r.fields||{},f=Object.keys(u),_=a.fields||{},w=Object.keys(_);f.sort(),w.sort();for(let I=0;I<f.length&&I<w.length;++I){const M=Ht(f[I],w[I]);if(0!==M)return M;const P=nf(u[f[I]],_[w[I]]);if(0!==P)return P}return Ht(f.length,w.length)}(n.mapValue,e.mapValue);default:throw rt()}}function fk(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ht(n,e);const t=ka(n),i=ka(e),r=Ht(t.seconds,i.seconds);return 0!==r?r:Ht(t.nanos,i.nanos)}function Ay(n){return _M(n)}function _M(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=ka(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?zo(n.bytesValue).toBase64():"referenceValue"in n?Ke.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",a=!0;for(const u of i.values||[])a?a=!1:r+=",",r+=_M(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let a="{",u=!0;for(const f of r)u?u=!1:a+=",",a+=`${f}:${_M(i.fields[f])}`;return a+"}"}(n.mapValue):rt();var e}function Pm(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function yM(n){return!!n&&"integerValue"in n}function lw(n){return!!n&&"arrayValue"in n}function pk(n){return!!n&&"nullValue"in n}function mk(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function hT(n){return!!n&&"mapValue"in n}function cw(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ge(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=cw(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=cw(n.arrayValue.values[t]);return e}return Object.assign({},n)}function gk(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function UL(n){return"nullValue"in n?uT:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Pm(Jh.empty(),Ke.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:rt()}function BL(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Pm(Jh.empty(),Ke.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?ef:rt()}function _k(n,e){const t=nf(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function yk(n,e){const t=nf(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Jr{constructor(e){this.value=e}static empty(){return new Jr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!hT(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=cw(t)}setAll(e){let t=_i.emptyPath(),i={},r=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,i,r),i={},r=[],t=f.popLast()}u?i[f.lastSegment()]=cw(u):r.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());hT(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Uc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];hT(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){ge(t,(r,a)=>e[r]=a);for(const r of i)delete e[r]}clone(){return new Jr(cw(this.value))}}function vk(n){const e=[];return ge(n.fields,(t,i)=>{const r=new _i([t]);if(hT(i)){const a=vk(i.mapValue).fields;if(0===a.length)e.push(r);else for(const u of a)e.push(r.child(u))}else e.push(r)}),new rn(e)}class si{constructor(e,t,i,r,a,u,f){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=a,this.data=u,this.documentState=f}static newInvalidDocument(e){return new si(e,0,Ct.min(),Ct.min(),Ct.min(),Jr.empty(),0)}static newFoundDocument(e,t,i,r){return new si(e,1,t,Ct.min(),i,r,0)}static newNoDocument(e,t){return new si(e,2,t,Ct.min(),Ct.min(),Jr.empty(),0)}static newUnknownDocument(e,t){return new si(e,3,t,Ct.min(),Ct.min(),Jr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ct.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof si&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new si(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rf{constructor(e,t){this.position=e,this.inclusive=t}}function bk(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],u=n.position[r];if(i=a.field.isKeyField()?Ke.comparator(Ke.fromName(u.referenceValue),t.key):nf(u,t.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return i}function wk(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Uc(n.position[t],e.position[t]))return!1;return!0}class My{constructor(e,t="asc"){this.field=e,this.dir=t}}function HL(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Ek{}class pn extends Ek{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new jL(e,t,i):"array-contains"===t?new GL(e,i):"in"===t?new Ak(e,i):"not-in"===t?new qL(e,i):"array-contains-any"===t?new ZL(e,i):new pn(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new $L(e,i):new zL(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(nf(t,this.value)):null!==t&&tf(this.value)===tf(t)&&this.matchesComparison(nf(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Fn extends Ek{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Fn(e,t)}matches(e){return xy(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function xy(n){return"and"===n.op}function vM(n){return"or"===n.op}function bM(n){return Ck(n)&&xy(n)}function Ck(n){for(const e of n.filters)if(e instanceof Fn)return!1;return!0}function wM(n){if(n instanceof pn)return n.field.canonicalString()+n.op.toString()+Ay(n.value);if(bM(n))return n.filters.map(e=>wM(e)).join(",");{const e=n.filters.map(t=>wM(t)).join(",");return`${n.op}(${e})`}}function Ik(n,e){return n instanceof pn?(t=n,(i=e)instanceof pn&&t.op===i.op&&t.field.isEqual(i.field)&&Uc(t.value,i.value)):n instanceof Fn?function(t,i){return i instanceof Fn&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,a,u)=>r&&Ik(a,i.filters[u]),!0)}(n,e):void rt();var t,i}function Tk(n,e){const t=n.filters.concat(e);return Fn.create(t,n.op)}function Dk(n){return n instanceof pn?`${(e=n).field.canonicalString()} ${e.op} ${Ay(e.value)}`:n instanceof Fn?function(e){return e.op.toString()+" {"+e.getFilters().map(Dk).join(" ,")+"}"}(n):"Filter";var e}class jL extends pn{constructor(e,t,i){super(e,t,i),this.key=Ke.fromName(i.referenceValue)}matches(e){const t=Ke.comparator(e.key,this.key);return this.matchesComparison(t)}}class $L extends pn{constructor(e,t){super(e,"in",t),this.keys=Sk(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class zL extends pn{constructor(e,t){super(e,"not-in",t),this.keys=Sk(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Sk(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Ke.fromName(i.referenceValue))}class GL extends pn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return lw(t)&&aw(t.arrayValue,this.value)}}class Ak extends pn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&aw(this.value.arrayValue,t)}}class qL extends pn{constructor(e,t){super(e,"not-in",t)}matches(e){if(aw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!aw(this.value.arrayValue,t)}}class ZL extends pn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!lw(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>aw(this.value.arrayValue,i))}}class WL{constructor(e,t=null,i=[],r=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=u,this.endAt=f,this.ft=null}}function EM(n,e=null,t=[],i=[],r=null,a=null,u=null){return new WL(n,e,t,i,r,a,u)}function Nm(n){const e=Qe(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>wM(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),km(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Ay(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Ay(i)).join(",")),e.ft=t}return e.ft}function uw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!HL(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Ik(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!wk(n.startAt,e.startAt)&&wk(n.endAt,e.endAt)}function fT(n){return Ke.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function pT(n,e){return n.filters.filter(t=>t instanceof pn&&t.field.isEqual(e))}function Mk(n,e,t){let i=uT,r=!0;for(const a of pT(n,e)){let u=uT,f=!0;switch(a.op){case"<":case"<=":u=UL(a.value);break;case"==":case"in":case">=":u=a.value;break;case">":u=a.value,f=!1;break;case"!=":case"not-in":u=uT}_k({value:i,inclusive:r},{value:u,inclusive:f})<0&&(i=u,r=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];_k({value:i,inclusive:r},{value:u,inclusive:t.inclusive})<0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}function xk(n,e,t){let i=ef,r=!0;for(const a of pT(n,e)){let u=ef,f=!0;switch(a.op){case">=":case">":u=BL(a.value),f=!1;break;case"==":case"in":case"<=":u=a.value;break;case"<":u=a.value,f=!1;break;case"!=":case"not-in":u=ef}yk({value:i,inclusive:r},{value:u,inclusive:f})>0&&(i=u,r=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];yk({value:i,inclusive:r},{value:u,inclusive:t.inclusive})>0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}class sd{constructor(e,t=null,i=[],r=[],a=null,u="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=_,this.dt=null,this._t=null}}function Rk(n,e,t,i,r,a,u,f){return new sd(n,e,t,i,r,a,u,f)}function Ry(n){return new sd(n)}function kk(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function CM(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function mT(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function IM(n){return null!==n.collectionGroup}function Fm(n){const e=Qe(n);if(null===e.dt){e.dt=[];const t=mT(e),i=CM(e);if(null!==t&&null===i)t.isKeyField()||e.dt.push(new My(t)),e.dt.push(new My(_i.keyField(),"asc"));else{let r=!1;for(const a of e.explicitOrderBy)e.dt.push(a),a.field.isKeyField()&&(r=!0);if(!r){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new My(_i.keyField(),a))}}}return e.dt}function Fs(n){const e=Qe(n);if(!e._t)if("F"===e.limitType)e._t=EM(e.path,e.collectionGroup,Fm(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Fm(e))t.push(new My(a.field,"desc"===a.dir?"asc":"desc"));const i=e.endAt?new rf(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new rf(e.startAt.position,e.startAt.inclusive):null;e._t=EM(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function TM(n,e){e.getFirstInequalityField(),mT(n);const t=n.filters.concat([e]);return new sd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function gT(n,e,t){return new sd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function dw(n,e){return uw(Fs(n),Fs(e))&&n.limitType===e.limitType}function Ok(n){return`${Nm(Fs(n))}|lt:${n.limitType}`}function DM(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>Dk(i)).join(", ")}]`),km(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Ay(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Ay(i)).join(",")),`Target(${t})`}(Fs(n))}; limitType=${n.limitType})`}function hw(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):Ke.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of Fm(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,a,u){const f=bk(r,a,u);return r.inclusive?f<=0:f<0}(t.startAt,Fm(t),i)||t.endAt&&!function(r,a,u){const f=bk(r,a,u);return r.inclusive?f>=0:f>0}(t.endAt,Fm(t),i)));var t,i}function Pk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Nk(n){return(e,t)=>{let i=!1;for(const r of Fm(n)){const a=KL(r,e,t);if(0!==a)return a;i=i||r.field.isKeyField()}return 0}}function KL(n,e,t){const i=n.field.isKeyField()?Ke.comparator(e.key,t.key):function(r,a,u){const f=a.data.field(r),_=u.data.field(r);return null!==f&&null!==_?nf(f,_):rt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return rt()}}class od{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,a]of i)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ge(this.inner,(t,i)=>{for(const[r,a]of i)e(r,a)})}isEmpty(){return Be(this.inner)}size(){return this.innerSize}}const YL=new Ne(Ke.comparator);function ho(){return YL}const Fk=new Ne(Ke.comparator);function fw(...n){let e=Fk;for(const t of n)e=e.insert(t.key,t);return e}function Lk(n){let e=Fk;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Bc(){return pw()}function Vk(){return pw()}function pw(){return new od(n=>n.toString(),(n,e)=>n.isEqual(e))}const QL=new Ne(Ke.comparator),XL=new fe(Ke.comparator);function Jt(...n){let e=XL;for(const t of n)e=e.add(t);return e}const JL=new fe(Ht);function SM(){return JL}function Uk(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Om(e)?"-0":e}}function Bk(n){return{integerValue:""+n}}function Hk(n,e){return hM(e)?Bk(e):Uk(n,e)}class _T{constructor(){this._=void 0}}function e2(n,e,t){return n instanceof ky?function(i,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&Qh(r)&&(r=Xh(r)),r&&(a.fields.__previous_value__=r),{mapValue:a}}(t,e):n instanceof Lm?$k(n,e):n instanceof Vm?zk(n,e):function(i,r){const a=jk(i,r),u=Gk(a)+Gk(i.wt);return yM(a)&&yM(i.wt)?Bk(u):Uk(i.serializer,u)}(n,e)}function t2(n,e,t){return n instanceof Lm?$k(n,e):n instanceof Vm?zk(n,e):t}function jk(n,e){return n instanceof Oy?yM(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class ky extends _T{}class Lm extends _T{constructor(e){super(),this.elements=e}}function $k(n,e){const t=qk(e);for(const i of n.elements)t.some(r=>Uc(r,i))||t.push(i);return{arrayValue:{values:t}}}class Vm extends _T{constructor(e){super(),this.elements=e}}function zk(n,e){let t=qk(e);for(const i of n.elements)t=t.filter(r=>!Uc(r,i));return{arrayValue:{values:t}}}class Oy extends _T{constructor(e,t){super(),this.serializer=e,this.wt=t}}function Gk(n){return ti(n.integerValue||n.doubleValue)}function qk(n){return lw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class mw{constructor(e,t){this.field=e,this.transform=t}}class r2{constructor(e,t){this.version=e,this.transformResults=t}}class yi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new yi}static exists(e){return new yi(void 0,e)}static updateTime(e){return new yi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yT(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class vT{}function Zk(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Ny(n.key,yi.none()):new Py(n.key,n.data,yi.none());{const t=n.data,i=Jr.empty();let r=new fe(_i.comparator);for(let a of e.fields)if(!r.has(a)){let u=t.field(a);null===u&&a.length>1&&(a=a.popLast(),u=t.field(a)),null===u?i.delete(a):i.set(a,u),r=r.add(a)}return new ad(n.key,i,new rn(r.toArray()),yi.none())}}function s2(n,e,t){n instanceof Py?function(i,r,a){const u=i.value.clone(),f=Yk(i.fieldTransforms,r,a.transformResults);u.setAll(f),r.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):n instanceof ad?function(i,r,a){if(!yT(i.precondition,r))return void r.convertToUnknownDocument(a.version);const u=Yk(i.fieldTransforms,r,a.transformResults),f=r.data;f.setAll(Kk(i)),f.setAll(u),r.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function gw(n,e,t,i){return n instanceof Py?function(r,a,u,f){if(!yT(r.precondition,a))return u;const _=r.value.clone(),w=Qk(r.fieldTransforms,f,a);return _.setAll(w),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(n,e,t,i):n instanceof ad?function(r,a,u,f){if(!yT(r.precondition,a))return u;const _=Qk(r.fieldTransforms,f,a),w=a.data;return w.setAll(Kk(r)),w.setAll(_),a.convertToFoundDocument(a.version,w).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(I=>I.field))}(n,e,t,i):(u=t,yT(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u);var a,u}function o2(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=jk(i.transform,r||null);null!=a&&(null===t&&(t=Jr.empty()),t.set(i.field,a))}return t||null}function Wk(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Am(t,i,(r,a)=>function n2(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Lm&&i instanceof Lm||t instanceof Vm&&i instanceof Vm?Am(t.elements,i.elements,Uc):t instanceof Oy&&i instanceof Oy?Uc(t.wt,i.wt):t instanceof ky&&i instanceof ky);var t,i}(r,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Py extends vT{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ad extends vT{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Kk(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Yk(n,e,t){const i=new Map;_t(n.length===t.length);for(let r=0;r<t.length;r++){const a=n[r],u=a.transform,f=e.data.field(a.field);i.set(a.field,t2(u,f,t[r]))}return i}function Qk(n,e,t){const i=new Map;for(const r of n){const a=r.transform,u=t.data.field(r.field);i.set(r.field,e2(a,u,e))}return i}class Ny extends vT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AM extends vT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class MM{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&s2(a,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=gw(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=gw(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Vk();return this.mutations.forEach(r=>{const a=e.get(r.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=t.has(r.key)?null:f;const _=Zk(u,f);null!==_&&i.set(r.key,_),u.isValidDocument()||u.convertToNoDocument(Ct.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Jt())}isEqual(e){return this.batchId===e.batchId&&Am(this.mutations,e.mutations,(t,i)=>Wk(t,i))&&Am(this.baseMutations,e.baseMutations,(t,i)=>Wk(t,i))}}class xM{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){_t(e.mutations.length===i.length);let r=QL;const a=e.mutations;for(let u=0;u<a.length;u++)r=r.insert(a[u].key,i[u].version);return new xM(e,t,i,r)}}class RM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class l2{constructor(e,t){this.count=e,this.unchangedNames=t}}var nr,bn;function Xk(n){switch(n){default:return rt();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}function Jk(n){if(void 0===n)return mi("GRPC error has no .code"),ce.UNKNOWN;switch(n){case nr.OK:return ce.OK;case nr.CANCELLED:return ce.CANCELLED;case nr.UNKNOWN:return ce.UNKNOWN;case nr.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case nr.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case nr.INTERNAL:return ce.INTERNAL;case nr.UNAVAILABLE:return ce.UNAVAILABLE;case nr.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case nr.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case nr.NOT_FOUND:return ce.NOT_FOUND;case nr.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case nr.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case nr.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case nr.ABORTED:return ce.ABORTED;case nr.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case nr.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case nr.DATA_LOSS:return ce.DATA_LOSS;default:return rt()}}(bn=nr||(nr={}))[bn.OK=0]="OK",bn[bn.CANCELLED=1]="CANCELLED",bn[bn.UNKNOWN=2]="UNKNOWN",bn[bn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bn[bn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bn[bn.NOT_FOUND=5]="NOT_FOUND",bn[bn.ALREADY_EXISTS=6]="ALREADY_EXISTS",bn[bn.PERMISSION_DENIED=7]="PERMISSION_DENIED",bn[bn.UNAUTHENTICATED=16]="UNAUTHENTICATED",bn[bn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bn[bn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bn[bn.ABORTED=10]="ABORTED",bn[bn.OUT_OF_RANGE=11]="OUT_OF_RANGE",bn[bn.UNIMPLEMENTED=12]="UNIMPLEMENTED",bn[bn.INTERNAL=13]="INTERNAL",bn[bn.UNAVAILABLE=14]="UNAVAILABLE",bn[bn.DATA_LOSS=15]="DATA_LOSS";class kM{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return bT}static getOrCreateInstance(){return null===bT&&(bT=new kM),bT}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let bT=null;function eO(){return new TextEncoder}const c2=new Zh([4294967295,4294967295],0);function tO(n){const e=eO().encode(n),t=new nk;return t.update(e),new Uint8Array(t.digest())}function nO(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Zh([t,i],0),new Zh([r,a],0)]}class OM{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new _w(`Invalid padding: ${t}`);if(i<0)throw new _w(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new _w(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new _w(`Invalid padding when bitmap length is 0: ${t}`);this.yt=8*e.length-t,this.It=Zh.fromNumber(this.yt)}Tt(e,t,i){let r=e.add(t.multiply(Zh.fromNumber(i)));return 1===r.compare(c2)&&(r=new Zh([r.getBits(0),r.getBits(1)],0)),r.modulo(this.It).toNumber()}Et(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}At(e){if(0===this.yt)return!1;const t=tO(e),[i,r]=nO(t);for(let a=0;a<this.hashCount;a++){const u=this.Tt(i,r,a);if(!this.Et(u))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new OM(a,r,t);return i.forEach(f=>u.insert(f)),u}insert(e){if(0===this.yt)return;const t=tO(e),[i,r]=nO(t);for(let a=0;a<this.hashCount;a++){const u=this.Tt(i,r,a);this.Rt(u)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class _w extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class yw{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,vw.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new yw(Ct.min(),r,new Ne(Ht),ho(),Jt())}}class vw{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new vw(i,t,Jt(),Jt(),Jt())}}class wT{constructor(e,t,i,r){this.vt=e,this.removedTargetIds=t,this.key=i,this.Pt=r}}class iO{constructor(e,t){this.targetId=e,this.bt=t}}class rO{constructor(e,t,i=Ai.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class sO{constructor(){this.Vt=0,this.St=aO(),this.Dt=Ai.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return 0!==this.Vt}get kt(){return this.xt}Mt(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}Ot(){let e=Jt(),t=Jt(),i=Jt();return this.St.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:rt()}}),new vw(this.Dt,this.Ct,e,t,i)}$t(){this.xt=!1,this.St=aO()}Ft(e,t){this.xt=!0,this.St=this.St.insert(e,t)}Bt(e){this.xt=!0,this.St=this.St.remove(e)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class u2{constructor(e){this.Kt=e,this.Gt=new Map,this.Qt=ho(),this.jt=oO(),this.zt=new Ne(Ht)}Wt(e){for(const t of e.vt)e.Pt&&e.Pt.isFoundDocument()?this.Ht(t,e.Pt):this.Jt(t,e.key,e.Pt);for(const t of e.removedTargetIds)this.Jt(t,e.key,e.Pt)}Yt(e){this.forEachTarget(e,t=>{const i=this.Xt(t);switch(e.state){case 0:this.Zt(t)&&i.Mt(e.resumeToken);break;case 1:i.qt(),i.Nt||i.$t(),i.Mt(e.resumeToken);break;case 2:i.qt(),i.Nt||this.removeTarget(t);break;case 3:this.Zt(t)&&(i.Ut(),i.Mt(e.resumeToken));break;case 4:this.Zt(t)&&(this.te(t),i.Mt(e.resumeToken));break;default:rt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Gt.forEach((i,r)=>{this.Zt(r)&&t(r)})}ee(e){var t;const i=e.targetId,r=e.bt.count,a=this.ne(i);if(a){const u=a.target;if(fT(u))if(0===r){const f=new Ke(u.path);this.Jt(i,f,si.newNoDocument(f,Ct.min()))}else _t(1===r);else{const f=this.se(i);if(f!==r){const _=this.ie(e,f);0!==_&&(this.te(i),this.zt=this.zt.insert(i,2===_?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=kM.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(w,I,M){var P,V,q,ne,_e,$e;const nt={localCacheCount:I,existenceFilterCount:M.count},Xe=M.unchangedNames;return Xe&&(nt.bloomFilter={applied:0===w,hashCount:null!==(P=Xe?.hashCount)&&void 0!==P?P:0,bitmapLength:null!==(ne=null===(q=null===(V=Xe?.bits)||void 0===V?void 0:V.bitmap)||void 0===q?void 0:q.length)&&void 0!==ne?ne:0,padding:null!==($e=null===(_e=Xe?.bits)||void 0===_e?void 0:_e.padding)&&void 0!==$e?$e:0}),nt}(_,f,e.bt))}}}}ie(e,t){const{unchangedNames:i,count:r}=e.bt;if(!i||!i.bits)return 1;const{bits:{bitmap:a="",padding:u=0},hashCount:f=0}=i;let _,w;try{_=zo(a).toUint8Array()}catch(I){if(I instanceof Vc)return jo("Decoding the base64 bloom filter in existence filter failed ("+I.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw I}try{w=new OM(_,u,f)}catch(I){return jo(I instanceof _w?"BloomFilter error: ":"Applying bloom filter failed: ",I),1}return 0===w.yt?1:r!==t-this.re(e.targetId,w)?2:0}re(e,t){const i=this.Kt.getRemoteKeysForTarget(e);let r=0;return i.forEach(a=>{const u=this.Kt.oe(),f=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;t.At(f)||(this.Jt(e,a,null),r++)}),r}ue(e){const t=new Map;this.Gt.forEach((a,u)=>{const f=this.ne(u);if(f){if(a.current&&fT(f.target)){const _=new Ke(f.target.path);null!==this.Qt.get(_)||this.ce(u,_)||this.Jt(u,_,si.newNoDocument(_,e))}a.kt&&(t.set(u,a.Ot()),a.$t())}});let i=Jt();this.jt.forEach((a,u)=>{let f=!0;u.forEachWhile(_=>{const w=this.ne(_);return!w||"TargetPurposeLimboResolution"===w.purpose||(f=!1,!1)}),f&&(i=i.add(a))}),this.Qt.forEach((a,u)=>u.setReadTime(e));const r=new yw(e,t,this.zt,this.Qt,i);return this.Qt=ho(),this.jt=oO(),this.zt=new Ne(Ht),r}Ht(e,t){if(!this.Zt(e))return;const i=this.ce(e,t.key)?2:0;this.Xt(e).Ft(t.key,i),this.Qt=this.Qt.insert(t.key,t),this.jt=this.jt.insert(t.key,this.ae(t.key).add(e))}Jt(e,t,i){if(!this.Zt(e))return;const r=this.Xt(e);this.ce(e,t)?r.Ft(t,1):r.Bt(t),this.jt=this.jt.insert(t,this.ae(t).delete(e)),i&&(this.Qt=this.Qt.insert(t,i))}removeTarget(e){this.Gt.delete(e)}se(e){const t=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Lt(e){this.Xt(e).Lt()}Xt(e){let t=this.Gt.get(e);return t||(t=new sO,this.Gt.set(e,t)),t}ae(e){let t=this.jt.get(e);return t||(t=new fe(Ht),this.jt=this.jt.insert(e,t)),t}Zt(e){const t=null!==this.ne(e);return t||Le("WatchChangeAggregator","Detected inactive target",e),t}ne(e){const t=this.Gt.get(e);return t&&t.Nt?null:this.Kt.he(e)}te(e){this.Gt.set(e,new sO),this.Kt.getRemoteKeysForTarget(e).forEach(t=>{this.Jt(e,t,null)})}ce(e,t){return this.Kt.getRemoteKeysForTarget(e).has(t)}}function oO(){return new Ne(Ke.comparator)}function aO(){return new Ne(Ke.comparator)}const d2={asc:"ASCENDING",desc:"DESCENDING"},h2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},f2={and:"AND",or:"OR"};class p2{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function PM(n,e){return n.useProto3Json||km(e)?e:{value:e}}function Fy(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lO(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function m2(n,e){return Fy(n,e.toTimestamp())}function zi(n){return _t(!!n),Ct.fromTimestamp(function(e){const t=ka(e);return new ri(t.seconds,t.nanos)}(n))}function NM(n,e){return(t=n,new fn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function cO(n){const e=fn.fromString(n);return _t(yO(e)),e}function bw(n,e){return NM(n.databaseId,e.path)}function Hc(n,e){const t=cO(e);if(t.get(1)!==n.databaseId.projectId)throw new Me(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Me(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ke(dO(t))}function FM(n,e){return NM(n.databaseId,e)}function uO(n){const e=cO(n);return 4===e.length?fn.emptyPath():dO(e)}function ww(n){return new fn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function dO(n){return _t(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function hO(n,e,t){return{name:bw(n,e),fields:t.value.mapValue.fields}}function fO(n,e,t){const i=Hc(n,e.name),r=zi(e.updateTime),a=e.createTime?zi(e.createTime):Ct.min(),u=new Jr({mapValue:{fields:e.fields}}),f=si.newFoundDocument(i,r,a,u);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function Ew(n,e){let t;if(e instanceof Py)t={update:hO(n,e.key,e.value)};else if(e instanceof Ny)t={delete:bw(n,e.key)};else if(e instanceof ad)t={update:hO(n,e.key,e.data),updateMask:C2(e.fieldMask)};else{if(!(e instanceof AM))return rt();t={verify:bw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const u=a.transform;if(u instanceof ky)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Lm)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Vm)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Oy)return{fieldPath:a.field.canonicalString(),increment:u.wt};throw rt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:m2(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:rt()),t;var r}function LM(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?yi.updateTime(zi(r.updateTime)):void 0!==r.exists?yi.exists(r.exists):yi.none():yi.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(a,u){let f=null;"setToServerValue"in u?(_t("REQUEST_TIME"===u.setToServerValue),f=new ky):"appendMissingElements"in u?f=new Lm(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new Vm(u.removeAllFromArray.values||[]):"increment"in u?f=new Oy(a,u.increment):rt();const _=_i.fromServerFormat(u.fieldPath);return new mw(_,f)}(n,r)):[];var r;if(e.update){const r=Hc(n,e.update.name),a=new Jr({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new rn((e.updateMask.fieldPaths||[]).map(w=>_i.fromServerFormat(w)));return new ad(r,a,u,t,i)}return new Py(r,a,t,i)}if(e.delete){const r=Hc(n,e.delete);return new Ny(r,t)}if(e.verify){const r=Hc(n,e.verify);return new AM(r,t)}return rt()}function pO(n,e){return{documents:[FM(n,e.path)]}}function VM(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=FM(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=FM(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(_){if(0!==_.length)return _O(Fn.create(_,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const a=function(_){if(0!==_.length)return _.map(w=>{return{field:sf((I=w).field),direction:b2(I.dir)};var I})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const u=PM(n,e.limit);var f,_;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function mO(n){let e=uO(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){_t(1===i);const I=t.from[0];I.allDescendants?r=I.collectionId:e=e.child(I.collectionId)}let a=[];t.where&&(a=function(I){const M=gO(I);return M instanceof Fn&&bM(M)?M.getFilters():[M]}(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(I=>{return new My(Ly((M=I).field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let f=null;t.limit&&(f=function(I){let M;return M="object"==typeof I?I.value:I,km(M)?null:M}(t.limit));let _=null;var I;t.startAt&&(_=new rf((I=t.startAt).values||[],!!I.before));let w=null;return t.endAt&&(w=function(I){return new rf(I.values||[],!I.before)}(t.endAt)),Rk(e,r,u,a,f,"F",_,w)}function gO(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ly(e.unaryFilter.field);return pn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=Ly(e.unaryFilter.field);return pn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ly(e.unaryFilter.field);return pn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Ly(e.unaryFilter.field);return pn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}(n):void 0!==n.fieldFilter?pn.create(Ly((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Fn.create(e.compositeFilter.filters.map(t=>gO(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return rt()}}(e.compositeFilter.op))}(n):rt();var e}function b2(n){return d2[n]}function w2(n){return h2[n]}function E2(n){return f2[n]}function sf(n){return{fieldPath:n.canonicalString()}}function Ly(n){return _i.fromServerFormat(n.fieldPath)}function _O(n){return n instanceof pn?function(e){if("=="===e.op){if(mk(e.value))return{unaryFilter:{field:sf(e.field),op:"IS_NAN"}};if(pk(e.value))return{unaryFilter:{field:sf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(mk(e.value))return{unaryFilter:{field:sf(e.field),op:"IS_NOT_NAN"}};if(pk(e.value))return{unaryFilter:{field:sf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sf(e.field),op:w2(e.op),value:e.value}}}(n):n instanceof Fn?function(e){const t=e.getFilters().map(i=>_O(i));return 1===t.length?t[0]:{compositeFilter:{op:E2(e.op),filters:t}}}(n):rt()}function C2(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function yO(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class ld{constructor(e,t,i,r,a=Ct.min(),u=Ct.min(),f=Ai.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=_}withSequenceNumber(e){return new ld(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ld(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ld(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ld(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class vO{constructor(e){this.le=e}}function bO(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:ET(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:bw(r=n.le,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:Fy(r,a.version.toTimestamp()),createTime:Fy(r,a.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Um(e.version)};else{if(!e.isUnknownDocument())return rt();i.unknownDocument={path:t.path.toArray(),version:Um(e.version)}}var r,a;return i}function ET(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Um(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Bm(n){const e=new ri(n.seconds,n.nanoseconds);return Ct.fromTimestamp(e)}function Hm(n,e){const t=(e.baseMutations||[]).map(a=>LM(n.le,a));for(let a=0;a<e.mutations.length-1;++a){const u=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(u.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const i=e.mutations.map(a=>LM(n.le,a)),r=ri.fromMillis(e.localWriteTimeMs);return new MM(e.batchId,r,t,i)}function Cw(n){const e=Bm(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Bm(n.lastLimboFreeSnapshotVersion):Ct.min();let i;var r;return void 0!==n.query.documents?(_t(1===(r=n.query).documents.length),i=Fs(Ry(uO(r.documents[0])))):i=Fs(mO(n.query)),new ld(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Ai.fromBase64String(n.resumeToken))}function wO(n,e){const t=Um(e.snapshotVersion),i=Um(e.lastLimboFreeSnapshotVersion);let r;r=fT(e.target)?pO(n.le,e.target):VM(n.le,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Nm(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function UM(n){const e=mO({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?gT(e,e.limit,"L"):e}function BM(n,e){return new RM(e.largestBatchId,LM(n.le,e.overlayMutation))}function EO(n,e){const t=e.path.lastSegment();return[n,Xr(e.path.popLast()),t]}function CO(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Um(i.readTime),documentKey:Xr(i.documentKey.path),largestBatchId:i.largestBatchId}}class T2{getBundleMetadata(e,t){return IO(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Bm(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return IO(e).put({bundleId:(i=t).id,createTime:Um(zi(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return TO(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:UM(r.bundledQuery),readTime:Bm(r.readTime)};var r})}saveNamedQuery(e,t){return TO(e).put({name:(i=t).name,readTime:Um(zi(i.readTime)),bundledQuery:i.bundledQuery});var i}}function IO(n){return B(n,"bundles")}function TO(n){return B(n,"namedQueries")}class CT{constructor(e,t){this.serializer=e,this.userId=t}static fe(e,t){return new CT(e,t.uid||"")}getOverlay(e,t){return Iw(e).get(EO(this.userId,t)).next(i=>i?BM(this.serializer,i):null)}getOverlays(e,t){const i=Bc();return se.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((a,u)=>{const f=new RM(t,u);r.push(this.de(e,f))}),se.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(u=>r.add(Xr(u.getCollectionPath())));const a=[];return r.forEach(u=>{const f=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);a.push(Iw(e).J("collectionPathOverlayIndex",f))}),se.waitFor(a)}getOverlaysForCollection(e,t,i){const r=Bc(),a=Xr(t),u=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Iw(e).j("collectionPathOverlayIndex",u).next(f=>{for(const _ of f){const w=BM(this.serializer,_);r.set(w.getKey(),w)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const a=Bc();let u;const f=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Iw(e).X({index:"collectionGroupOverlayIndex",range:f},(_,w,I)=>{const M=BM(this.serializer,w);a.size()<r||M.largestBatchId===u?(a.set(M.getKey(),M),u=M.largestBatchId):I.done()}).next(()=>a)}de(e,t){return Iw(e).put(function(i,r,a){const[u,f,_]=EO(r,a.mutation.key);return{userId:r,collectionPath:f,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Ew(i.le,a.mutation)}}(this.serializer,this.userId,t))}}function Iw(n){return B(n,"documentOverlays")}class jm{constructor(){}_e(e,t){this.we(e,t),t.me()}we(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye(ti(e.integerValue));else if("doubleValue"in e){const i=ti(e.doubleValue);isNaN(i)?this.ge(t,13):(this.ge(t,15),Om(i)?t.ye(0):t.ye(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ge(t,20),"string"==typeof i?t.pe(i):(t.pe(`${i.seconds||""}`),t.ye(i.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(zo(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ge(t,45),t.ye(i.latitude||0),t.ye(i.longitude||0)}else"mapValue"in e?gk(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):rt()}Ie(e,t){this.ge(t,25),this.Pe(e,t)}Pe(e,t){t.pe(e)}Re(e,t){const i=e.fields||{};this.ge(t,55);for(const r of Object.keys(i))this.Ie(r,t),this.we(i[r],t)}ve(e,t){const i=e.values||[];this.ge(t,50);for(const r of i)this.we(r,t)}Ae(e,t){this.ge(t,37),Ke.fromName(e).path.forEach(i=>{this.ge(t,60),this.Pe(i,t)})}ge(e,t){e.ye(t)}Te(e){e.ye(2)}}function D2(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function DO(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const a=D2(255&t[r]);if(i+=a,8!==a)break}return i}(n);return Math.ceil(e/8)}jm.be=new jm;class S2{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ve(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Se(i.value),i=t.next();this.De()}Ce(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.xe(i.value),i=t.next();this.Ne()}ke(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Se(i);else if(i<2048)this.Se(960|i>>>6),this.Se(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Se(480|i>>>12),this.Se(128|63&i>>>6),this.Se(128|63&i);else{const r=t.codePointAt(0);this.Se(240|r>>>18),this.Se(128|63&r>>>12),this.Se(128|63&r>>>6),this.Se(128|63&r)}}this.De()}Me(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.xe(i);else if(i<2048)this.xe(960|i>>>6),this.xe(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.xe(480|i>>>12),this.xe(128|63&i>>>6),this.xe(128|63&i);else{const r=t.codePointAt(0);this.xe(240|r>>>18),this.xe(128|63&r>>>12),this.xe(128|63&r>>>6),this.xe(128|63&r)}}this.Ne()}Oe(e){const t=this.$e(e),i=DO(t);this.Fe(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Be(e){const t=this.$e(e),i=DO(t);this.Fe(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Le(){this.qe(255),this.qe(255)}Ue(){this.Ke(255),this.Ke(255)}reset(){this.position=0}seed(e){this.Fe(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ge(){return this.buffer.slice(0,this.position)}$e(e){const t=function(r){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,r,!1),new Uint8Array(a.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Se(e){const t=255&e;0===t?(this.qe(0),this.qe(255)):255===t?(this.qe(255),this.qe(0)):this.qe(t)}xe(e){const t=255&e;0===t?(this.Ke(0),this.Ke(255)):255===t?(this.Ke(255),this.Ke(0)):this.Ke(e)}De(){this.qe(0),this.qe(1)}Ne(){this.Ke(0),this.Ke(1)}qe(e){this.Fe(1),this.buffer[this.position++]=e}Ke(e){this.Fe(1),this.buffer[this.position++]=~e}Fe(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class A2{constructor(e){this.Qe=e}Ee(e){this.Qe.Ve(e)}pe(e){this.Qe.ke(e)}ye(e){this.Qe.Oe(e)}me(){this.Qe.Le()}}class M2{constructor(e){this.Qe=e}Ee(e){this.Qe.Ce(e)}pe(e){this.Qe.Me(e)}ye(e){this.Qe.Be(e)}me(){this.Qe.Ue()}}class Tw{constructor(){this.Qe=new S2,this.je=new A2(this.Qe),this.ze=new M2(this.Qe)}seed(e){this.Qe.seed(e)}We(e){return 0===e?this.je:this.ze}Ge(){return this.Qe.Ge()}reset(){this.Qe.reset()}}class $m{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}He(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new $m(this.indexId,this.documentKey,this.arrayValue,i)}}function af(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=SO(n.arrayValue,e.arrayValue),0!==t?t:(t=SO(n.directionalValue,e.directionalValue),0!==t?t:Ke.comparator(n.documentKey,e.documentKey)))}function SO(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class x2{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Je=e.orderBy,this.Ye=[];for(const t of e.filters){const i=t;i.isInequality()?this.Xe=i:this.Ye.push(i)}}Ze(e){_t(e.collectionGroup===this.collectionId);const t=kl(e);if(void 0!==t&&!this.tn(t))return!1;const i=Lc(e);let r=0,a=0;for(;r<i.length&&this.tn(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Xe){const u=i[r];if(!this.en(this.Xe,u)||!this.nn(this.Je[a++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(a>=this.Je.length||!this.nn(this.Je[a++],u))return!1}return!0}tn(e){for(const t of this.Ye)if(this.en(t,e))return!0;return!1}en(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}nn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function AO(n){var e,t;if(_t(n instanceof pn||n instanceof Fn),n instanceof pn){if(n instanceof Ak){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(a=>pn.create(n.field,"==",a)))||[];return Fn.create(r,"or")}return n}const i=n.filters.map(r=>AO(r));return Fn.create(i,n.op)}function R2(n){if(0===n.getFilters().length)return[];const e=$M(AO(n));return _t(MO(e)),HM(e)||jM(e)?[e]:e.getFilters()}function HM(n){return n instanceof pn}function jM(n){return n instanceof Fn&&bM(n)}function MO(n){return HM(n)||jM(n)||function(e){if(e instanceof Fn&&vM(e)){for(const t of e.getFilters())if(!HM(t)&&!jM(t))return!1;return!0}return!1}(n)}function $M(n){if(_t(n instanceof pn||n instanceof Fn),n instanceof pn)return n;if(1===n.filters.length)return $M(n.filters[0]);const e=n.filters.map(i=>$M(i));let t=Fn.create(e,n.op);return t=IT(t),MO(t)?t:(_t(t instanceof Fn),_t(xy(t)),_t(t.filters.length>1),t.filters.reduce((i,r)=>zM(i,r)))}function zM(n,e){let t;return _t(n instanceof pn||n instanceof Fn),_t(e instanceof pn||e instanceof Fn),t=n instanceof pn?e instanceof pn?Fn.create([n,e],"and"):xO(n,e):e instanceof pn?xO(e,n):function(i,r){if(_t(i.filters.length>0&&r.filters.length>0),xy(i)&&xy(r))return Tk(i,r.getFilters());const a=vM(i)?i:r,u=vM(i)?r:i,f=a.filters.map(_=>zM(_,u));return Fn.create(f,"or")}(n,e),IT(t)}function xO(n,e){if(xy(e))return Tk(e,n.getFilters());{const t=e.filters.map(i=>zM(n,i));return Fn.create(t,"or")}}function IT(n){if(_t(n instanceof pn||n instanceof Fn),n instanceof pn)return n;const e=n.getFilters();if(1===e.length)return IT(e[0]);if(Ck(n))return n;const t=e.map(r=>IT(r)),i=[];return t.forEach(r=>{r instanceof pn?i.push(r):r instanceof Fn&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Fn.create(i,n.op)}class k2{constructor(){this.sn=new GM}addToCollectionParentIndex(e,t){return this.sn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.sn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(uo.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(uo.min())}updateCollectionGroup(e,t,i){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class GM{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new fe(fn.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new fe(fn.comparator)).toArray()}}const TT=new Uint8Array(0);class O2{constructor(e,t){this.user=e,this.databaseId=t,this.rn=new GM,this.on=new od(i=>Nm(i),(i,r)=>uw(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.rn.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.rn.add(t)});const a={collectionId:i,parent:Xr(r)};return RO(e).put(a)}return se.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[aM(t),""],!1,!0);return RO(e).j(r).next(a=>{for(const u of a){if(u.collectionId!==t)break;i.push(Ra(u.parent))}return i})}addFieldIndex(e,t){const i=DT(e),r={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var u;delete r.indexId;const a=i.add(r);if(t.indexState){const u=Sw(e);return a.next(f=>{u.put(CO(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const i=DT(e),r=Sw(e),a=Dw(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=Dw(e);let r=!0;const a=new Map;return se.forEach(this.un(t),u=>this.cn(e,u).next(f=>{r&&(r=!!f),a.set(u,f)})).next(()=>{if(r){let u=Jt();const f=[];return se.forEach(a,(_,w)=>{var I;Le("IndexedDbIndexManager",`Using index ${I=_,`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(Xe=>`${Xe.fieldPath}:${Xe.kind}`).join(",")}`} to execute ${Nm(t)}`);const M=function(Xe,It){const jt=kl(It);if(void 0===jt)return null;for(const qt of pT(Xe,jt.fieldPath))switch(qt.op){case"array-contains-any":return qt.value.arrayValue.values||[];case"array-contains":return[qt.value]}return null}(w,_),P=function(Xe,It){const jt=new Map;for(const qt of Lc(It))for(const An of pT(Xe,qt.fieldPath))switch(An.op){case"==":case"in":jt.set(qt.fieldPath.canonicalString(),An.value);break;case"not-in":case"!=":return jt.set(qt.fieldPath.canonicalString(),An.value),Array.from(jt.values())}return null}(w,_),V=function(Xe,It){const jt=[];let qt=!0;for(const An of Lc(It)){const Or=0===An.kind?Mk(Xe,An.fieldPath,Xe.startAt):xk(Xe,An.fieldPath,Xe.startAt);jt.push(Or.value),qt&&(qt=Or.inclusive)}return new rf(jt,qt)}(w,_),q=function(Xe,It){const jt=[];let qt=!0;for(const An of Lc(It)){const Or=0===An.kind?xk(Xe,An.fieldPath,Xe.endAt):Mk(Xe,An.fieldPath,Xe.endAt);jt.push(Or.value),qt&&(qt=Or.inclusive)}return new rf(jt,qt)}(w,_),ne=this.an(_,w,V),_e=this.an(_,w,q),$e=this.hn(_,w,P),nt=this.ln(_.indexId,M,ne,V.inclusive,_e,q.inclusive,$e);return se.forEach(nt,Xe=>i.H(Xe,t.limit).next(It=>{It.forEach(jt=>{const qt=Ke.fromSegments(jt.documentKey);u.has(qt)||(u=u.add(qt),f.push(qt))})}))}).next(()=>f)}return se.resolve(null)})}un(e){let t=this.on.get(e);return t||(t=0===e.filters.length?[e]:R2(Fn.create(e.filters,"and")).map(i=>EM(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.on.set(e,t),t)}ln(e,t,i,r,a,u,f){const _=(null!=t?t.length:1)*Math.max(i.length,a.length),w=_/(null!=t?t.length:1),I=[];for(let M=0;M<_;++M){const P=t?this.fn(t[M/w]):TT,V=this.dn(e,P,i[M%w],r),q=this._n(e,P,a[M%w],u),ne=f.map(_e=>this.dn(e,P,_e,!0));I.push(...this.createRange(V,q,ne))}return I}dn(e,t,i,r){const a=new $m(e,Ke.empty(),t,i);return r?a:a.He()}_n(e,t,i,r){const a=new $m(e,Ke.empty(),t,i);return r?a.He():a}cn(e,t){const i=new x2(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(a=>{let u=null;for(const f of a)i.Ze(f)&&(!u||f.fields.length>u.fields.length)&&(u=f);return u})}getIndexType(e,t){let i=2;const r=this.un(t);return se.forEach(r,a=>this.cn(e,a).next(u=>{u?0!==i&&u.fields.length<function(f){let _=new fe(_i.comparator),w=!1;for(const I of f.filters)for(const M of I.getFlattenedFilters())M.field.isKeyField()||("array-contains"===M.op||"array-contains-any"===M.op?w=!0:_=_.add(M.field));for(const I of f.orderBy)I.field.isKeyField()||(_=_.add(I.field));return _.size+(w?1:0)}(a)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}wn(e,t){const i=new Tw;for(const r of Lc(e)){const a=t.data.field(r.fieldPath);if(null==a)return null;const u=i.We(r.kind);jm.be._e(a,u)}return i.Ge()}fn(e){const t=new Tw;return jm.be._e(e,t.We(0)),t.Ge()}mn(e,t){const i=new Tw;return jm.be._e(Pm(this.databaseId,t),i.We(function(r){const a=Lc(r);return 0===a.length?0:a[a.length-1].kind}(e))),i.Ge()}hn(e,t,i){if(null===i)return[];let r=[];r.push(new Tw);let a=0;for(const u of Lc(e)){const f=i[a++];for(const _ of r)if(this.gn(t,u.fieldPath)&&lw(f))r=this.yn(r,u,f);else{const w=_.We(u.kind);jm.be._e(f,w)}}return this.pn(r)}an(e,t,i){return this.hn(e,t,i.position)}pn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Ge();return t}yn(e,t,i){const r=[...e],a=[];for(const u of i.arrayValue.values||[])for(const f of r){const _=new Tw;_.seed(f.Ge()),jm.be._e(u,_.We(t.kind)),a.push(_)}return a}gn(e,t){return!!e.filters.find(i=>i instanceof pn&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=DT(e),r=Sw(e);return(t?i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.j()).next(a=>{const u=[];return se.forEach(a,f=>r.get([f.indexId,this.uid]).next(_=>{u.push(function(w,I){const M=I?new nd(I.sequenceNumber,new uo(Bm(I.readTime),new Ke(Ra(I.documentKey)),I.largestBatchId)):nd.empty(),P=w.fields.map(([V,q])=>new Kh(_i.fromServerFormat(V),q));return new Mm(w.indexId,w.collectionGroup,P,M)}(f,_))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const a=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==a?a:Ht(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=DT(e),a=Sw(e);return this.In(e).next(u=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>se.forEach(f,_=>a.put(CO(_.indexId,this.user,u,i)))))}updateIndexEntries(e,t){const i=new Map;return se.forEach(t,(r,a)=>{const u=i.get(r.collectionGroup);return(u?se.resolve(u):this.getFieldIndexes(e,r.collectionGroup)).next(f=>(i.set(r.collectionGroup,f),se.forEach(f,_=>this.Tn(e,r,_).next(w=>{const I=this.En(a,_);return w.isEqual(I)?se.resolve():this.An(e,a,_,w,I)}))))})}Rn(e,t,i,r){return Dw(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.mn(i,t.key),documentKey:t.key.path.toArray()})}vn(e,t,i,r){return Dw(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.mn(i,t.key),t.key.path.toArray()])}Tn(e,t,i){const r=Dw(e);let a=new fe(af);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.mn(i,t)])},(u,f)=>{a=a.add(new $m(i.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}En(e,t){let i=new fe(af);const r=this.wn(t,e);if(null==r)return i;const a=kl(t);if(null!=a){const u=e.data.field(a.fieldPath);if(lw(u))for(const f of u.arrayValue.values||[])i=i.add(new $m(t.indexId,e.key,this.fn(f),r))}else i=i.add(new $m(t.indexId,e.key,TT,r));return i}An(e,t,i,r,a){Le("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(f,_,w,I,M){const P=f.getIterator(),V=_.getIterator();let q=on(P),ne=on(V);for(;q||ne;){let _e=!1,$e=!1;if(q&&ne){const nt=w(q,ne);nt<0?$e=!0:nt>0&&(_e=!0)}else null!=q?$e=!0:_e=!0;_e?(I(ne),ne=on(V)):$e?(M(q),q=on(P)):(q=on(P),ne=on(V))}}(r,a,af,f=>{u.push(this.Rn(e,t,i,f))},f=>{u.push(this.vn(e,t,i,f))}),se.waitFor(u)}In(e){let t=1;return Sw(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,a)=>{a.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((u,f)=>af(u,f)).filter((u,f,_)=>!f||0!==af(u,_[f-1]));const r=[];r.push(e);for(const u of i){const f=af(u,e),_=af(u,t);if(0===f)r[0]=e.He();else if(f>0&&_<0)r.push(u),r.push(u.He());else if(_>0)break}r.push(t);const a=[];for(let u=0;u<r.length;u+=2){if(this.Pn(r[u],r[u+1]))return[];a.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,TT,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,TT,[]]))}return a}Pn(e,t){return af(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(kO)}getMinOffset(e,t){return se.mapArray(this.un(t),i=>this.cn(e,i).next(r=>r||rt())).next(kO)}}function RO(n){return B(n,"collectionParents")}function Dw(n){return B(n,"indexEntries")}function DT(n){return B(n,"indexConfiguration")}function Sw(n){return B(n,"indexState")}function kO(n){_t(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;oT(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new uo(e.readTime,e.documentKey,t)}const OO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class vs{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new vs(e,vs.DEFAULT_COLLECTION_PERCENTILE,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function PO(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),a=[],u=IDBKeyRange.only(t.batchId);let f=0;const _=i.X({range:u},(I,M,P)=>(f++,P.delete()));a.push(_.next(()=>{_t(1===f)}));const w=[];for(const I of t.mutations){const M=mM(e,I.key.path,t.batchId);a.push(r.delete(M)),w.push(I.key)}return se.waitFor(a).next(()=>w)}function ST(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw rt();e=n.noDocument}return JSON.stringify(e).length}vs.DEFAULT_COLLECTION_PERCENTILE=10,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vs.DEFAULT=new vs(41943040,vs.DEFAULT_COLLECTION_PERCENTILE,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vs.DISABLED=new vs(-1,0,0);class AT{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.bn={}}static fe(e,t,i,r){_t(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new AT(a,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return lf(e).X({index:"userMutationsIndex",range:i},(r,a,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const a=Vy(e),u=lf(e);return u.add({}).next(f=>{_t("number"==typeof f);const _=new MM(f,t,i,r),w=function(P,V,q){const ne=q.baseMutations.map($e=>Ew(P.le,$e)),_e=q.mutations.map($e=>Ew(P.le,$e));return{userId:V,batchId:q.batchId,localWriteTimeMs:q.localWriteTime.toMillis(),baseMutations:ne,mutations:_e}}(this.serializer,this.userId,_),I=[];let M=new fe((P,V)=>Ht(P.canonicalString(),V.canonicalString()));for(const P of r){const V=mM(this.userId,P.key.path,f);M=M.add(P.key.path.popLast()),I.push(u.put(w)),I.push(a.put(V,sk))}return M.forEach(P=>{I.push(this.indexManager.addToCollectionParentIndex(e,P))}),e.addOnCommittedListener(()=>{this.bn[f]=_.keys()}),se.waitFor(I).next(()=>_)})}lookupMutationBatch(e,t){return lf(e).get(t).next(i=>i?(_t(i.userId===this.userId),Hm(this.serializer,i)):null)}Vn(e,t){return this.bn[t]?se.resolve(this.bn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.bn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let a=null;return lf(e).X({index:"userMutationsIndex",range:r},(u,f,_)=>{f.userId===this.userId&&(_t(f.batchId>=i),a=Hm(this.serializer,f)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return lf(e).X({index:"userMutationsIndex",range:t,reverse:!0},(r,a,u)=>{i=a.batchId,u.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return lf(e).j("userMutationsIndex",t).next(i=>i.map(r=>Hm(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=rw(this.userId,t.path),r=IDBKeyRange.lowerBound(i),a=[];return Vy(e).X({range:r},(u,f,_)=>{const[w,I,M]=u,P=Ra(I);if(w===this.userId&&t.path.isEqual(P))return lf(e).get(M).next(V=>{if(!V)throw rt();_t(V.userId===this.userId),a.push(Hm(this.serializer,V))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new fe(Ht);const r=[];return t.forEach(a=>{const u=rw(this.userId,a.path),f=IDBKeyRange.lowerBound(u),_=Vy(e).X({range:f},(w,I,M)=>{const[P,V,q]=w,ne=Ra(V);P===this.userId&&a.path.isEqual(ne)?i=i.add(q):M.done()});r.push(_)}),se.waitFor(r).next(()=>this.Sn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,a=rw(this.userId,i),u=IDBKeyRange.lowerBound(a);let f=new fe(Ht);return Vy(e).X({range:u},(_,w,I)=>{const[M,P,V]=_,q=Ra(P);M===this.userId&&i.isPrefixOf(q)?q.length===r&&(f=f.add(V)):I.done()}).next(()=>this.Sn(e,f))}Sn(e,t){const i=[],r=[];return t.forEach(a=>{r.push(lf(e).get(a).next(u=>{if(null===u)throw rt();_t(u.userId===this.userId),i.push(Hm(this.serializer,u))}))}),se.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return PO(e.at,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Dn(t.batchId)}),se.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Dn(e){delete this.bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return se.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Vy(e).X({range:i},(a,u,f)=>{if(a[0]===this.userId){const _=Ra(a[1]);r.push(_)}else f.done()}).next(()=>{_t(0===r.length)})})}containsKey(e,t){return NO(e,this.userId,t)}Cn(e){return FO(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function NO(n,e,t){const i=rw(e,t.path),r=i[1],a=IDBKeyRange.lowerBound(i);let u=!1;return Vy(n).X({range:a,Y:!0},(f,_,w)=>{const[I,M,P]=f;I===e&&M===r&&(u=!0),w.done()}).next(()=>u)}function lf(n){return B(n,"mutations")}function Vy(n){return B(n,"documentMutations")}function FO(n){return B(n,"mutationQueues")}class zm{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static Nn(){return new zm(0)}static kn(){return new zm(-1)}}class P2{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Mn(e).next(t=>{const i=new zm(t.highestTargetId);return t.highestTargetId=i.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Mn(e).next(t=>Ct.fromTimestamp(new ri(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Mn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Mn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r)))}addTargetData(e,t){return this.$n(e,t).next(()=>this.Mn(e).next(i=>(i.targetCount+=1,this.Fn(t,i),this.On(e,i))))}updateTargetData(e,t){return this.$n(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Uy(e).delete(t.targetId)).next(()=>this.Mn(e)).next(i=>(_t(i.targetCount>0),i.targetCount-=1,this.On(e,i)))}removeTargets(e,t,i){let r=0;const a=[];return Uy(e).X((u,f)=>{const _=Cw(f);_.sequenceNumber<=t&&null===i.get(_.targetId)&&(r++,a.push(this.removeTargetData(e,_)))}).next(()=>se.waitFor(a)).next(()=>r)}forEachTarget(e,t){return Uy(e).X((i,r)=>{const a=Cw(r);t(a)})}Mn(e){return LO(e).get("targetGlobalKey").next(t=>(_t(null!==t),t))}On(e,t){return LO(e).put("targetGlobalKey",t)}$n(e,t){return Uy(e).put(wO(this.serializer,t))}Fn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Mn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Nm(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let a=null;return Uy(e).X({range:r,index:"queryTargetsIndex"},(u,f,_)=>{const w=Cw(f);uw(t,w.target)&&(a=w,_.done())}).next(()=>a)}addMatchingKeys(e,t,i){const r=[],a=cf(e);return t.forEach(u=>{const f=Xr(u.path);r.push(a.put({targetId:i,path:f})),r.push(this.referenceDelegate.addReference(e,i,u))}),se.waitFor(r)}removeMatchingKeys(e,t,i){const r=cf(e);return se.forEach(t,a=>{const u=Xr(a.path);return se.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(e,i,a)])})}removeMatchingKeysForTargetId(e,t){const i=cf(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=cf(e);let a=Jt();return r.X({range:i,Y:!0},(u,f,_)=>{const w=Ra(u[1]),I=new Ke(w);a=a.add(I)}).next(()=>a)}containsKey(e,t){const i=Xr(t.path),r=IDBKeyRange.bound([i],[aM(i)],!1,!0);let a=0;return cf(e).X({index:"documentTargetsIndex",Y:!0,range:r},([u,f],_,w)=>{0!==u&&(a++,w.done())}).next(()=>a>0)}he(e,t){return Uy(e).get(t).next(i=>i?Cw(i):null)}}function Uy(n){return B(n,"targets")}function LO(n){return B(n,"targetGlobal")}function cf(n){return B(n,"targetDocuments")}function VO([n,e],[t,i]){const r=Ht(n,t);return 0===r?Ht(e,i):r}class N2{constructor(e){this.Bn=e,this.buffer=new fe(VO),this.Ln=0}qn(){return++this.Ln}Un(e){const t=[e,this.qn()];if(this.buffer.size<this.Bn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();VO(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class UO{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Kn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Kn&&(this.Kn.cancel(),this.Kn=null)}get started(){return null!==this.Kn}Gn(e){var t=this;Le("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Kn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,we.Z)(function*(){t.Kn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Pl(i)?Le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Ol(i)}yield t.Gn(3e5)}))}}class F2{constructor(e,t){this.Qn=e,this.params=t}calculateTargetCount(e,t){return this.Qn.jn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return se.resolve(Qr.ct);const i=new N2(t);return this.Qn.forEachTarget(e,r=>i.Un(r.sequenceNumber)).next(()=>this.Qn.zn(e,r=>i.Un(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Qn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Qn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(OO)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),OO):this.Wn(e,t))}getCacheSize(e){return this.Qn.getCacheSize(e)}Wn(e,t){let i,r,a,u,f,_,w;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),r=this.params.maximumSequenceNumbersToCollect):r=M,u=Date.now(),this.nthSequenceNumber(e,r))).next(M=>(i=M,f=Date.now(),this.removeTargets(e,i,t))).next(M=>(a=M,_=Date.now(),this.removeOrphanedDocuments(e,i))).next(M=>(w=Date.now(),eT()<=Sl.in.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-I}ms\n\tDetermined least recently used ${r} in `+(f-u)+`ms\n\tRemoved ${a} targets in `+(_-f)+`ms\n\tRemoved ${M} documents in `+(w-_)+`ms\nTotal Duration: ${w-I}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:M})))}}class L2{constructor(e,t){this.db=e,this.garbageCollector=function BO(n,e){return new F2(n,e)}(this,t)}jn(e){const t=this.Hn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Hn(e){let t=0;return this.zn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}zn(e,t){return this.Jn(e,(i,r)=>t(r))}addReference(e,t,i){return MT(e,i)}removeReference(e,t,i){return MT(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return MT(e,t)}Yn(e,t){return function(i,r){let a=!1;return FO(i).Z(u=>NO(i,u,r).next(f=>(f&&(a=!0),se.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let a=0;return this.Jn(e,(u,f)=>{if(f<=t){const _=this.Yn(e,u).next(w=>{if(!w)return a++,i.getEntry(e,u).next(()=>(i.removeEntry(u,Ct.min()),cf(e).delete([0,Xr(u.path)])))});r.push(_)}}).next(()=>se.waitFor(r)).next(()=>i.apply(e)).next(()=>a)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return MT(e,t)}Jn(e,t){const i=cf(e);let r,a=Qr.ct;return i.X({index:"documentTargetsIndex"},([u,f],{path:_,sequenceNumber:w})=>{0===u?(a!==Qr.ct&&t(new Ke(Ra(r)),a),a=w,r=_):a=Qr.ct}).next(()=>{a!==Qr.ct&&t(new Ke(Ra(r)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function MT(n,e){return cf(n).put((i=n.currentSequenceNumber,{targetId:0,path:Xr(e.path),sequenceNumber:i}));var i}class HO{constructor(){this.changes=new od(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,si.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?se.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class V2{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Gm(e).put(i)}removeEntry(e,t,i){return Gm(e).delete(function(r,a){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],ET(a),u[u.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Xn(e,i)))}getEntry(e,t){let i=si.newInvalidDocument(t);return Gm(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Aw(t))},(r,a)=>{i=this.Zn(t,a)}).next(()=>i)}ts(e,t){let i={size:0,document:si.newInvalidDocument(t)};return Gm(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Aw(t))},(r,a)=>{i={document:this.Zn(t,a),size:ST(a)}}).next(()=>i)}getEntries(e,t){let i=ho();return this.es(e,t,(r,a)=>{const u=this.Zn(r,a);i=i.insert(r,u)}).next(()=>i)}ns(e,t){let i=ho(),r=new Ne(Ke.comparator);return this.es(e,t,(a,u)=>{const f=this.Zn(a,u);i=i.insert(a,f),r=r.insert(a,ST(u))}).next(()=>({documents:i,ss:r}))}es(e,t,i){if(t.isEmpty())return se.resolve();let r=new fe(GO);t.forEach(_=>r=r.add(_));const a=IDBKeyRange.bound(Aw(r.first()),Aw(r.last())),u=r.getIterator();let f=u.getNext();return Gm(e).X({index:"documentKeyIndex",range:a},(_,w,I)=>{const M=Ke.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;f&&GO(f,M)<0;)i(f,null),f=u.getNext();f&&f.isEqual(M)&&(i(f,w),f=u.hasNext()?u.getNext():null),f?I.G(Aw(f)):I.done()}).next(()=>{for(;f;)i(f,null),f=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,i,r){const a=t.path,u=[a.popLast().toArray(),a.lastSegment(),ET(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],f=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Gm(e).j(IDBKeyRange.bound(u,f,!0)).next(_=>{let w=ho();for(const I of _){const M=this.Zn(Ke.fromSegments(I.prefixPath.concat(I.collectionGroup,I.documentId)),I);M.isFoundDocument()&&(hw(t,M)||r.has(M.key))&&(w=w.insert(M.key,M))}return w})}getAllFromCollectionGroup(e,t,i,r){let a=ho();const u=zO(t,i),f=zO(t,uo.max());return Gm(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,f,!0)},(_,w,I)=>{const M=this.Zn(Ke.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);a=a.insert(M.key,M),a.size===r&&I.done()}).next(()=>a)}newChangeBuffer(e){return new U2(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return $O(e).get("remoteDocumentGlobalKey").next(t=>(_t(!!t),t))}Xn(e,t){return $O(e).put("remoteDocumentGlobalKey",t)}Zn(e,t){if(t){const i=function I2(n,e){let t;if(e.document)t=fO(n.le,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=Ke.fromSegments(e.noDocument.path),r=Bm(e.noDocument.readTime);t=si.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return rt();{const i=Ke.fromSegments(e.unknownDocument.path),r=Bm(e.unknownDocument.version);t=si.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new ri(i[0],i[1]);return Ct.fromTimestamp(r)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(Ct.min()))return i}return si.newInvalidDocument(e)}}function jO(n){return new V2(n)}class U2 extends HO{constructor(e,t){super(),this.rs=e,this.trackRemovals=t,this.os=new od(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new fe((a,u)=>Ht(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const f=this.os.get(a);if(t.push(this.rs.removeEntry(e,a,f.readTime)),u.isValidDocument()){const _=bO(this.rs.serializer,u);r=r.add(a.path.popLast()),i+=ST(_)-f.size,t.push(this.rs.addEntry(e,a,_))}else if(i-=f.size,this.trackRemovals){const _=bO(this.rs.serializer,u.convertToNoDocument(Ct.min()));t.push(this.rs.addEntry(e,a,_))}}),r.forEach(a=>{t.push(this.rs.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.rs.updateMetadata(e,i)),se.waitFor(t)}getFromCache(e,t){return this.rs.ts(e,t).next(i=>(this.os.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.rs.ns(e,t).next(({documents:i,ss:r})=>(r.forEach((a,u)=>{this.os.set(a,{size:u,readTime:i.get(a).readTime})}),i))}}function $O(n){return B(n,"remoteDocumentGlobal")}function Gm(n){return B(n,"remoteDocumentsV14")}function Aw(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function zO(n,e){const t=e.documentKey.path.toArray();return[n,ET(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function GO(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let a=0;a<t.length-2&&a<i.length-2;++a)if(r=Ht(t[a],i[a]),r)return r;return r=Ht(t.length,i.length),r||(r=Ht(t[t.length-2],i[i.length-2]),r||Ht(t[t.length-1],i[i.length-1]))}class B2{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class qO{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&gw(i.mutation,r,rn.empty(),ri.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Jt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Jt()){const r=Bc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(a=>{let u=fw();return a.forEach((f,_)=>{u=u.insert(f,_.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=Bc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Jt()))}populateOverlays(e,t,i){const r=[];return i.forEach(a=>{t.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,i,r){let a=ho();const u=pw(),f=pw();return t.forEach((_,w)=>{const I=i.get(w.key);r.has(w.key)&&(void 0===I||I.mutation instanceof ad)?a=a.insert(w.key,w):void 0!==I?(u.set(w.key,I.mutation.getFieldMask()),gw(I.mutation,w,I.mutation.getFieldMask(),ri.now())):u.set(w.key,rn.empty())}),this.recalculateAndSaveOverlays(e,a).next(_=>(_.forEach((w,I)=>u.set(w,I)),t.forEach((w,I)=>{var M;return f.set(w,new B2(I,null!==(M=u.get(w))&&void 0!==M?M:null))}),f))}recalculateAndSaveOverlays(e,t){const i=pw();let r=new Ne((u,f)=>u-f),a=Jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(_=>{const w=t.get(_);if(null===w)return;let I=i.get(_)||rn.empty();I=f.applyToLocalView(w,I),i.set(_,I);const M=(r.get(f.batchId)||Jt()).add(_);r=r.insert(f.batchId,M)})}).next(()=>{const u=[],f=r.getReverseIterator();for(;f.hasNext();){const _=f.getNext(),w=_.key,I=_.value,M=Vk();I.forEach(P=>{if(!a.has(P)){const V=Zk(t.get(P),i.get(P));null!==V&&M.set(P,V),a=a.add(P)}}),u.push(this.documentOverlayCache.saveOverlays(e,w,M))}return se.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return Ke.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):IM(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(a=>{const u=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-a.size):se.resolve(Bc());let f=-1,_=a;return u.next(w=>se.forEach(w,(I,M)=>(f<M.largestBatchId&&(f=M.largestBatchId),a.get(I)?se.resolve():this.remoteDocumentCache.getEntry(e,I).next(P=>{_=_.insert(I,P)}))).next(()=>this.populateOverlays(e,w,a)).next(()=>this.computeViews(e,_,w,Jt())).next(I=>({batchId:f,changes:Lk(I)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ke(t)).next(i=>{let r=fw();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let a=fw();return this.indexManager.getCollectionParents(e,r).next(u=>se.forEach(u,f=>{const _=(w=t,I=f.child(r),new sd(I,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,I;return this.getDocumentsMatchingCollectionQuery(e,_,i).next(w=>{w.forEach((I,M)=>{a=a.insert(I,M)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(a=>{r.forEach((f,_)=>{const w=_.getKey();null===a.get(w)&&(a=a.insert(w,si.newInvalidDocument(w)))});let u=fw();return a.forEach((f,_)=>{const w=r.get(f);void 0!==w&&gw(w.mutation,_,rn.empty(),ri.now()),hw(t,_)&&(u=u.insert(f,_))}),u})}}class H2{constructor(e){this.serializer=e,this.us=new Map,this.cs=new Map}getBundleMetadata(e,t){return se.resolve(this.us.get(t))}saveBundleMetadata(e,t){var i;return this.us.set(t.id,{id:(i=t).id,version:i.version,createTime:zi(i.createTime)}),se.resolve()}getNamedQuery(e,t){return se.resolve(this.cs.get(t))}saveNamedQuery(e,t){return this.cs.set(t.name,{name:(i=t).name,query:UM(i.bundledQuery),readTime:zi(i.readTime)}),se.resolve();var i}}class j2{constructor(){this.overlays=new Ne(Ke.comparator),this.hs=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Bc();return se.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,a)=>{this.de(e,t,a)}),se.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.hs.get(i);return void 0!==r&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.hs.delete(i)),se.resolve()}getOverlaysForCollection(e,t,i){const r=Bc(),a=t.length+1,u=new Ke(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const _=f.getNext().value,w=_.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===a&&_.largestBatchId>i&&r.set(_.getKey(),_)}return se.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new Ne((w,I)=>w-I);const u=this.overlays.getIterator();for(;u.hasNext();){const w=u.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>i){let I=a.get(w.largestBatchId);null===I&&(I=Bc(),a=a.insert(w.largestBatchId,I)),I.set(w.getKey(),w)}}const f=Bc(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((w,I)=>f.set(w,I)),!(f.size()>=r)););return se.resolve(f)}de(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.hs.get(r.largestBatchId).delete(i.key);this.hs.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new RM(t,i));let a=this.hs.get(t);void 0===a&&(a=Jt(),this.hs.set(t,a)),this.hs.set(t,a.add(i.key))}}class qM{constructor(){this.ls=new fe(kr.fs),this.ds=new fe(kr._s)}isEmpty(){return this.ls.isEmpty()}addReference(e,t){const i=new kr(e,t);this.ls=this.ls.add(i),this.ds=this.ds.add(i)}ws(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gs(new kr(e,t))}ys(e,t){e.forEach(i=>this.removeReference(i,t))}ps(e){const t=new Ke(new fn([])),i=new kr(t,e),r=new kr(t,e+1),a=[];return this.ds.forEachInRange([i,r],u=>{this.gs(u),a.push(u.key)}),a}Is(){this.ls.forEach(e=>this.gs(e))}gs(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}Ts(e){const t=new Ke(new fn([])),i=new kr(t,e),r=new kr(t,e+1);let a=Jt();return this.ds.forEachInRange([i,r],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new kr(e,0),i=this.ls.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class kr{constructor(e,t){this.key=e,this.Es=t}static fs(e,t){return Ke.comparator(e.key,t.key)||Ht(e.Es,t.Es)}static _s(e,t){return Ht(e.Es,t.Es)||Ke.comparator(e.key,t.key)}}class $2{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.As=1,this.Rs=new fe(kr.fs)}checkEmpty(e){return se.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const a=this.As;this.As++;const u=new MM(a,t,i,r);this.mutationQueue.push(u);for(const f of r)this.Rs=this.Rs.add(new kr(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return se.resolve(u)}lookupMutationBatch(e,t){return se.resolve(this.vs(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.Ps(t+1),a=r<0?0:r;return se.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(0===this.mutationQueue.length?-1:this.As-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new kr(t,0),r=new kr(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([i,r],u=>{const f=this.vs(u.Es);a.push(f)}),se.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new fe(Ht);return t.forEach(r=>{const a=new kr(r,0),u=new kr(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([a,u],f=>{i=i.add(f.Es)})}),se.resolve(this.bs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;Ke.isDocumentKey(a)||(a=a.child(""));const u=new kr(new Ke(a),0);let f=new fe(Ht);return this.Rs.forEachWhile(_=>{const w=_.key.path;return!!i.isPrefixOf(w)&&(w.length===r&&(f=f.add(_.Es)),!0)},u),se.resolve(this.bs(f))}bs(e){const t=[];return e.forEach(i=>{const r=this.vs(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){_t(0===this.Vs(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return se.forEach(t.mutations,r=>{const a=new kr(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Dn(e){}containsKey(e,t){const i=new kr(t,0),r=this.Rs.firstAfterOrEqual(i);return se.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return se.resolve()}Vs(e,t){return this.Ps(e)}Ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}vs(e){const t=this.Ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class z2{constructor(e){this.Ss=e,this.docs=new Ne(Ke.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,u=this.Ss(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return se.resolve(i?i.document.mutableCopy():si.newInvalidDocument(t))}getEntries(e,t){let i=ho();return t.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():si.newInvalidDocument(r))}),se.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let a=ho();const u=t.path,f=new Ke(u.child("")),_=this.docs.getIteratorFrom(f);for(;_.hasNext();){const{key:w,value:{document:I}}=_.getNext();if(!u.isPrefixOf(w.path))break;w.path.length>u.length+1||oT(xm(I),i)<=0||(r.has(I.key)||hw(t,I))&&(a=a.insert(I.key,I.mutableCopy()))}return se.resolve(a)}getAllFromCollectionGroup(e,t,i,r){rt()}Ds(e,t){return se.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new G2(this)}getSize(e){return se.resolve(this.size)}}class G2 extends HO{constructor(e){super(),this.rs=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.rs.addEntry(e,r)):this.rs.removeEntry(i)}),se.waitFor(t)}getFromCache(e,t){return this.rs.getEntry(e,t)}getAllFromCache(e,t){return this.rs.getEntries(e,t)}}class q2{constructor(e){this.persistence=e,this.Cs=new od(t=>Nm(t),uw),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.xs=0,this.Ns=new qM,this.targetCount=0,this.ks=zm.Nn()}forEachTarget(e,t){return this.Cs.forEach((i,r)=>t(r)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.xs)}allocateTargetId(e){return this.highestTargetId=this.ks.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.xs&&(this.xs=t),se.resolve()}$n(e){this.Cs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ks=new zm(t),this.highestTargetId=t),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}addTargetData(e,t){return this.$n(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.$n(t),se.resolve()}removeTargetData(e,t){return this.Cs.delete(t.target),this.Ns.ps(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.Cs.forEach((u,f)=>{f.sequenceNumber<=t&&null===i.get(f.targetId)&&(this.Cs.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),r++)}),se.waitFor(a).next(()=>r)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const i=this.Cs.get(t)||null;return se.resolve(i)}addMatchingKeys(e,t,i){return this.Ns.ws(t,i),se.resolve()}removeMatchingKeys(e,t,i){this.Ns.ys(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(u=>{a.push(r.markPotentiallyOrphaned(e,u))}),se.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ns.ps(t),se.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ns.Ts(t);return se.resolve(i)}containsKey(e,t){return se.resolve(this.Ns.containsKey(t))}}class ZM{constructor(e,t){this.Ms={},this.overlays={},this.Os=new Qr(0),this.$s=!1,this.$s=!0,this.referenceDelegate=e(this),this.Fs=new q2(this),this.indexManager=new k2,this.remoteDocumentCache=new z2(i=>this.referenceDelegate.Bs(i)),this.serializer=new vO(t),this.Ls=new H2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new j2,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Ms[e.toKey()];return i||(i=new $2(t,this.referenceDelegate),this.Ms[e.toKey()]=i),i}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(e,t,i){Le("MemoryPersistence","Starting transaction:",e);const r=new Z2(this.Os.next());return this.referenceDelegate.qs(),i(r).next(a=>this.referenceDelegate.Us(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Ks(e,t){return se.or(Object.values(this.Ms).map(i=>()=>i.containsKey(e,t)))}}class Z2 extends uM{constructor(e){super(),this.currentSequenceNumber=e}}class xT{constructor(e){this.persistence=e,this.Gs=new qM,this.Qs=null}static js(e){return new xT(e)}get zs(){if(this.Qs)return this.Qs;throw rt()}addReference(e,t,i){return this.Gs.addReference(i,t),this.zs.delete(i.toString()),se.resolve()}removeReference(e,t,i){return this.Gs.removeReference(i,t),this.zs.add(i.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.zs.add(t.toString()),se.resolve()}removeTarget(e,t){this.Gs.ps(t.targetId).forEach(r=>this.zs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(a=>this.zs.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}qs(){this.Qs=new Set}Us(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.zs,i=>{const r=Ke.fromPath(i);return this.Ws(e,r).next(a=>{a||t.removeEntry(r,Ct.min())})}).next(()=>(this.Qs=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ws(e,t).next(i=>{i?this.zs.delete(t.toString()):this.zs.add(t.toString())})}Bs(e){return 0}Ws(e,t){return se.or([()=>se.resolve(this.Gs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ks(e,t)])}}class W2{constructor(e){this.serializer=e}$(e,t,i,r){const a=new Sy("createOrUpgrade",t);var f;i<1&&r>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pM,{unique:!0}),f.createObjectStore("documentMutations"),ZO(e),function(f){f.createObjectStore("remoteDocuments")}(e));let u=se.resolve();return i<3&&r>=3&&(0!==i&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),ZO(e)),u=u.next(()=>function(f){const _=f.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ct.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",w)}(a))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(f,_){return _.store("mutations").j().next(w=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pM,{unique:!0});const I=_.store("mutations"),M=w.map(P=>I.put(P));return se.waitFor(M)})}(e,a))),u=u.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(u=u.next(()=>this.Js(a))),i<6&&r>=6&&(u=u.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Ys(a)))),i<7&&r>=7&&(u=u.next(()=>this.Xs(a))),i<8&&r>=8&&(u=u.next(()=>this.Zs(e,a))),i<9&&r>=9&&(u=u.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(u=u.next(()=>this.ti(a))),i<11&&r>=11&&(u=u.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(u=u.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:d});_.createIndex("collectionPathOverlayIndex",h,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",g,{unique:!1})}(e)})),i<13&&r>=13&&(u=u.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:ok});_.createIndex("documentKeyIndex",gM),_.createIndex("collectionGroupIndex",ak)}(e)).next(()=>this.ei(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.ni(e,a))),i<15&&r>=15&&(u=u.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:hk}).createIndex("sequenceNumberIndex",s,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:o}).createIndex("documentKeyIndex",c,{unique:!1})}(e))),u}Ys(e){let t=0;return e.store("remoteDocuments").X((i,r)=>{t+=ST(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Js(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.j().next(r=>se.forEach(r,a=>{const u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",u).next(f=>se.forEach(f,_=>{_t(_.userId===a.userId);const w=Hm(this.serializer,_);return PO(e,a.userId,w).next(()=>{})}))}))}Xs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const a=[];return i.X((u,f)=>{const _=new fn(u),w=[0,Xr(_)];a.push(t.get(w).next(I=>I?se.resolve():t.put({targetId:0,path:Xr(_),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>se.waitFor(a))})}Zs(e,t){e.createObjectStore("collectionParents",{keyPath:dk});const i=t.store("collectionParents"),r=new GM,a=u=>{if(r.add(u)){const f=u.lastSegment(),_=u.popLast();return i.put({collectionId:f,parent:Xr(_)})}};return t.store("remoteDocuments").X({Y:!0},(u,f)=>{const _=new fn(u);return a(_.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([u,f,_],w)=>{const I=Ra(f);return a(I.popLast())}))}ti(e){const t=e.store("targets");return t.X((i,r)=>{const a=Cw(r),u=wO(this.serializer,a);return t.put(u)})}ei(e,t){const i=t.store("remoteDocuments"),r=[];return i.X((a,u)=>{const f=t.store("remoteDocumentsV14"),_=(w=u,w.document?new Ke(fn.fromString(w.document.name).popFirst(5)):w.noDocument?Ke.fromSegments(w.noDocument.path):w.unknownDocument?Ke.fromSegments(w.unknownDocument.path):rt()).path.toArray();var w;const I={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(f.put(I))}).next(()=>se.waitFor(r))}ni(e,t){const i=t.store("mutations"),r=jO(this.serializer),a=new ZM(xT.js,this.serializer.le);return i.j().next(u=>{const f=new Map;return u.forEach(_=>{var w;let I=null!==(w=f.get(_.userId))&&void 0!==w?w:Jt();Hm(this.serializer,_).keys().forEach(M=>I=I.add(M)),f.set(_.userId,I)}),se.forEach(f,(_,w)=>{const I=new tr(w),M=CT.fe(this.serializer,I),P=a.getIndexManager(I),V=AT.fe(I,this.serializer,P,a.referenceDelegate);return new qO(r,V,M,P).recalculateAndSaveOverlaysForDocumentKeys(new F(t,Qr.ct),_).next()})})}}function ZO(n){n.createObjectStore("targetDocuments",{keyPath:ck}).createIndex("documentTargetsIndex",uk,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",lk,{unique:!0}),n.createObjectStore("targetGlobal")}const WM="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class KM{constructor(e,t,i,r,a,u,f,_,w,I,M=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.si=a,this.window=u,this.document=f,this.ii=w,this.ri=I,this.oi=M,this.Os=null,this.$s=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.ai=null,this.hi=Number.NEGATIVE_INFINITY,this.li=P=>Promise.resolve(),!KM.D())throw new Me(ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new L2(this,r),this.fi=t+"main",this.serializer=new vO(_),this.di=new $o(this.fi,this.oi,new W2(this.serializer)),this.Fs=new P2(this.referenceDelegate,this.serializer),this.remoteDocumentCache=jO(this.serializer),this.Ls=new T2,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===I&&mi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Me(ce.FAILED_PRECONDITION,WM);return this.mi(),this.gi(),this.yi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Fs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Qr(e,this.ii)}).then(()=>{this.$s=!0}).catch(e=>(this.di&&this.di.close(),Promise.reject(e)))}pi(e){var t=this;return this.li=function(){var i=(0,we.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.di.B(function(){var t=(0,we.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,we.Z)(function*(){t.started&&(yield t.wi())})))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>kT(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ii(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)))})}).next(()=>this.Ti(e)).next(t=>this.isPrimary&&!t?this.Ei(e).next(()=>!1):!!t&&this.Ai(e).next(()=>!0))).catch(e=>{if(Pl(e))return Le("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Le("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.li(e)),this.isPrimary=e})}Ii(e){return Mw(e).get("owner").next(t=>se.resolve(this.Ri(t)))}vi(e){return kT(e).delete(this.clientId)}Pi(){var e=this;return(0,we.Z)(function*(){if(e.isPrimary&&!e.bi(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=B(i,"clientMetadata");return r.j().next(a=>{const u=e.Vi(a,18e5),f=a.filter(_=>-1===u.indexOf(_));return se.forEach(f,_=>r.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e._i)for(const i of t)e._i.removeItem(e.Si(i.clientId))}})()}yi(){this.ai=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Pi()).then(()=>this.yi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ti(e){return this.ri?se.resolve(!0):Mw(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Me(ce.FAILED_PRECONDITION,WM);return!1}}return!(!this.networkEnabled||!this.inForeground)||kT(e).j().next(i=>void 0===this.Vi(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,f=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Le("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,we.Z)(function*(){e.$s=!1,e.Ci(),e.ai&&(e.ai.cancel(),e.ai=null),e.xi(),e.Ni(),yield e.di.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new F(t,Qr.ct);return e.Ei(i).next(()=>e.vi(i))}),e.di.close(),e.ki()})()}Vi(e,t){return e.filter(i=>this.bi(i.updateTimeMs,t)&&!this.Di(i.clientId))}Mi(){return this.runTransaction("getActiveClients","readonly",e=>kT(e).j().next(t=>this.Vi(t,18e5).map(i=>i.clientId)))}get started(){return this.$s}getMutationQueue(e,t){return AT.fe(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new O2(e,this.serializer.le.databaseId)}getDocumentOverlayCache(e){return CT.fe(this.serializer,e)}getBundleCache(){return this.Ls}runTransaction(e,t,i){Le("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",a=15===(u=this.oi)?k:14===u?A:13===u?T:12===u?E:11===u?v:void rt();var u;let f;return this.di.runTransaction(e,r,a,_=>(f=new F(_,this.Os?this.Os.next():Qr.ct),"readwrite-primary"===t?this.Ii(f).next(w=>!!w||this.Ti(f)).next(w=>{if(!w)throw mi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)),new Me(ce.FAILED_PRECONDITION,cM);return i(f)}).next(w=>this.Ai(f).next(()=>w)):this.Oi(f).next(()=>i(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}Oi(e){return Mw(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)&&!this.Ri(t)&&!(this.ri||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Me(ce.FAILED_PRECONDITION,WM)})}Ai(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Mw(e).put("owner",t)}static D(){return $o.D()}Ei(e){const t=Mw(e);return t.get("owner").next(i=>this.Ri(i)?(Le("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):se.resolve())}bi(e,t){const i=Date.now();return!(e<i-t||e>i&&(mi(`Detected an update time that is in the future: ${e} > ${i}`),1))}mi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.wi()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Ci();const t=/(?:Version|Mobile)\/1[456]/;(0,vn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Ni(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Di(e){var t;try{const i=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Si(e)));return Le("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return mi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ci(){if(this._i)try{this._i.setItem(this.Si(this.clientId),String(Date.now()))}catch(e){mi("Failed to set zombie client id.",e)}}ki(){if(this._i)try{this._i.removeItem(this.Si(this.clientId))}catch{}}Si(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Mw(n){return B(n,"owner")}function kT(n){return B(n,"clientMetadata")}function YM(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class QM{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.$i=i,this.Fi=r}static Bi(e,t){let i=Jt(),r=Jt();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new QM(e,t.fromCache,i,r)}}class WO{constructor(){this.Li=!1}initialize(e,t){this.qi=e,this.indexManager=t,this.Li=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ui(e,t).next(a=>a||this.Ki(e,t,r,i)).next(a=>a||this.Gi(e,t))}Ui(e,t){if(kk(t))return se.resolve(null);let i=Fs(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=gT(t,null,"F"),i=Fs(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const u=Jt(...a);return this.qi.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,i).next(_=>{const w=this.Qi(t,f);return this.ji(t,w,u,_.readTime)?this.Ui(e,gT(t,null,"F")):this.zi(e,w,t,_)}))})))}Ki(e,t,i,r){return kk(t)||r.isEqual(Ct.min())?this.Gi(e,t):this.qi.getDocuments(e,i).next(a=>{const u=this.Qi(t,a);return this.ji(t,u,i,r)?this.Gi(e,t):(eT()<=Sl.in.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),DM(t)),this.zi(e,u,t,Dy(r,-1)))})}Qi(e,t){let i=new fe(Nk(e));return t.forEach((r,a)=>{hw(e,a)&&(i=i.add(a))}),i}ji(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Gi(e,t){return eT()<=Sl.in.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",DM(t)),this.qi.getDocumentsMatchingQuery(e,t,uo.min())}zi(e,t,i,r){return this.qi.getDocumentsMatchingQuery(e,i,r).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}class K2{constructor(e,t,i,r){this.persistence=e,this.Wi=t,this.serializer=r,this.Hi=new Ne(Ht),this.Ji=new od(a=>Nm(a),uw),this.Yi=new Map,this.Xi=e.getRemoteDocumentCache(),this.Fs=e.getTargetCache(),this.Ls=e.getBundleCache(),this.Zi(i)}Zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qO(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Hi))}}function KO(n,e,t,i){return new K2(n,e,t,i)}function YO(n,e){return XM.apply(this,arguments)}function XM(){return XM=(0,we.Z)(function*(n,e){const t=Qe(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,t.Zi(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const u=[],f=[];let _=Jt();for(const w of r){u.push(w.batchId);for(const I of w.mutations)_=_.add(I.key)}for(const w of a){f.push(w.batchId);for(const I of w.mutations)_=_.add(I.key)}return t.localDocuments.getDocuments(i,_).next(w=>({tr:w,removedBatchIds:u,addedBatchIds:f}))})})}),XM.apply(this,arguments)}function Y2(n,e){const t=Qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),a=t.Xi.newChangeBuffer({trackRemovals:!0});return function(u,f,_,w){const I=_.batch,M=I.keys();let P=se.resolve();return M.forEach(V=>{P=P.next(()=>w.getEntry(f,V)).next(q=>{const ne=_.docVersions.get(V);_t(null!==ne),q.version.compareTo(ne)<0&&(I.applyToRemoteDocument(q,_),q.isValidDocument()&&(q.setReadTime(_.commitVersion),w.addEntry(q)))})}),P.next(()=>u.mutationQueue.removeMutationBatch(f,I))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let f=Jt();for(let _=0;_<u.mutationResults.length;++_)u.mutationResults[_].transformResults.length>0&&(f=f.add(u.batch.mutations[_].key));return f}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function QO(n){const e=Qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Fs.getLastRemoteSnapshotVersion(t))}function Q2(n,e){const t=Qe(n),i=e.snapshotVersion;let r=t.Hi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Xi.newChangeBuffer({trackRemovals:!0});r=t.Hi;const f=[];e.targetChanges.forEach((I,M)=>{const P=r.get(M);if(!P)return;f.push(t.Fs.removeMatchingKeys(a,I.removedDocuments,M).next(()=>t.Fs.addMatchingKeys(a,I.addedDocuments,M)));let V=P.withSequenceNumber(a.currentSequenceNumber);var q,ne,_e;null!==e.targetMismatches.get(M)?V=V.withResumeToken(Ai.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):I.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(I.resumeToken,i)),r=r.insert(M,V),ne=V,_e=I,(0===(q=P).resumeToken.approximateByteSize()||ne.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=3e8||_e.addedDocuments.size+_e.modifiedDocuments.size+_e.removedDocuments.size>0)&&f.push(t.Fs.updateTargetData(a,V))});let _=ho(),w=Jt();if(e.documentUpdates.forEach(I=>{e.resolvedLimboDocuments.has(I)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,I))}),f.push(XO(a,u,e.documentUpdates).next(I=>{_=I.er,w=I.nr})),!i.isEqual(Ct.min())){const I=t.Fs.getLastRemoteSnapshotVersion(a).next(M=>t.Fs.setTargetsMetadata(a,a.currentSequenceNumber,i));f.push(I)}return se.waitFor(f).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,_,w)).next(()=>_)}).then(a=>(t.Hi=r,a))}function XO(n,e,t){let i=Jt(),r=Jt();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let u=ho();return t.forEach((f,_)=>{const w=a.get(f);_.isFoundDocument()!==w.isFoundDocument()&&(r=r.add(f)),_.isNoDocument()&&_.version.isEqual(Ct.min())?(e.removeEntry(f,_.readTime),u=u.insert(f,_)):!w.isValidDocument()||_.version.compareTo(w.version)>0||0===_.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(_),u=u.insert(f,_)):Le("LocalStore","Ignoring outdated watch update for ",f,". Current version:",w.version," Watch version:",_.version)}),{er:u,nr:r}})}function X2(n,e){const t=Qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function By(n,e){const t=Qe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Fs.getTargetData(i,e).next(a=>a?(r=a,se.resolve(r)):t.Fs.allocateTargetId(i).next(u=>(r=new ld(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Fs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Hi.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Hi=t.Hi.insert(i.targetId,i),t.Ji.set(e,i.targetId)),i})}function Hy(n,e,t){return JM.apply(this,arguments)}function JM(){return JM=(0,we.Z)(function*(n,e,t){const i=Qe(n),r=i.Hi.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!Pl(u))throw u;Le("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.Hi=i.Hi.remove(e),i.Ji.delete(r.target)}),JM.apply(this,arguments)}function OT(n,e,t){const i=Qe(n);let r=Ct.min(),a=Jt();return i.persistence.runTransaction("Execute query","readonly",u=>function(f,_,w){const I=Qe(f),M=I.Ji.get(w);return void 0!==M?se.resolve(I.Hi.get(M)):I.Fs.getTargetData(_,w)}(i,u,Fs(e)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.Fs.getMatchingKeysForTargetId(u,f.targetId).next(_=>{a=_})}).next(()=>i.Wi.getDocumentsMatchingQuery(u,e,t?r:Ct.min(),t?a:Jt())).next(f=>(tP(i,Pk(e),f),{documents:f,sr:a})))}function JO(n,e){const t=Qe(n),i=Qe(t.Fs),r=t.Hi.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",a=>i.he(a,e).next(u=>u?u.target:null))}function eP(n,e){const t=Qe(n),i=t.Yi.get(e)||Ct.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Xi.getAllFromCollectionGroup(r,e,Dy(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(tP(t,e,r),r))}function tP(n,e,t){let i=n.Yi.get(e)||Ct.min();t.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Yi.set(e,i)}function ex(){return ex=(0,we.Z)(function*(n,e,t,i){const r=Qe(n);let a=Jt(),u=ho();for(const w of t){const I=e.ir(w.metadata.name);w.document&&(a=a.add(I));const M=e.rr(w);M.setReadTime(e.ur(w.metadata.readTime)),u=u.insert(I,M)}const f=r.Xi.newChangeBuffer({trackRemovals:!0}),_=yield By(r,(w=i,Fs(Ry(fn.fromString(`__bundle__/docs/${w}`)))));var w;return r.persistence.runTransaction("Apply bundle documents","readwrite",w=>XO(w,f,u).next(I=>(f.apply(w),I)).next(I=>r.Fs.removeMatchingKeysForTargetId(w,_.targetId).next(()=>r.Fs.addMatchingKeys(w,a,_.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(w,I.er,I.nr)).next(()=>I.er)))}),ex.apply(this,arguments)}function eV(n,e){return tx.apply(this,arguments)}function tx(){return tx=(0,we.Z)(function*(n,e,t=Jt()){const i=yield By(n,Fs(UM(e.bundledQuery))),r=Qe(n);return r.persistence.runTransaction("Save named query","readwrite",a=>{const u=zi(e.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.Ls.saveNamedQuery(a,e);const f=i.withResumeToken(Ai.EMPTY_BYTE_STRING,u);return r.Hi=r.Hi.insert(f.targetId,f),r.Fs.updateTargetData(a,f).next(()=>r.Fs.removeMatchingKeysForTargetId(a,i.targetId)).next(()=>r.Fs.addMatchingKeys(a,t,i.targetId)).next(()=>r.Ls.saveNamedQuery(a,e))})}),tx.apply(this,arguments)}function nP(n,e){return`firestore_clients_${n}_${e}`}function iP(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function nx(n,e){return`firestore_targets_${n}_${e}`}class PT{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static cr(e,t,i){const r=JSON.parse(i);let a,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(a=new Me(r.error.code,r.error.message))),u?new PT(e,t,r.state,a):(mi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class xw{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static cr(e,t){const i=JSON.parse(t);let r,a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new Me(i.error.code,i.error.message))),a?new xw(e,i.state,r):(mi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class NT{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static cr(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,a=SM();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=hM(i.activeTargetIds[u]),a=a.add(i.activeTargetIds[u]);return r?new NT(e,a):(mi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class ix{constructor(e,t){this.clientId=e,this.onlineState=t}static cr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new ix(t.clientId,t.onlineState):(mi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class rx{constructor(){this.activeTargetIds=SM()}hr(e){this.activeTargetIds=this.activeTargetIds.add(e)}lr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ar(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sx{constructor(e,t,i,r,a){this.window=e,this.si=t,this.persistenceKey=i,this.dr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.wr.bind(this),this.mr=new Ne(Ht),this.started=!1,this.gr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.yr=nP(this.persistenceKey,this.dr),this.pr=`firestore_sequence_number_${this.persistenceKey}`,this.mr=this.mr.insert(this.dr,new rx),this.Ir=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.Tr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.Er=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.Ar=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,we.Z)(function*(){const t=yield e.syncEngine.Mi();for(const r of t){if(r===e.dr)continue;const a=e.getItem(nP(e.persistenceKey,r));if(a){const u=NT.cr(r,a);u&&(e.mr=e.mr.insert(u.clientId,u))}}e.vr();const i=e.storage.getItem(e.Ar);if(i){const r=e.Pr(i);r&&e.br(r)}for(const r of e.gr)e.wr(r);e.gr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.pr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Vr(this.mr)}isActiveQueryTarget(e){let t=!1;return this.mr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Sr(e,"pending")}updateMutationState(e,t,i){this.Sr(e,t,i),this.Dr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(nx(this.persistenceKey,e));if(i){const r=xw.cr(e,i);r&&(t=r.state)}}return this.Cr.hr(e),this.vr(),t}removeLocalQueryTarget(e){this.Cr.lr(e),this.vr()}isLocalQueryTarget(e){return this.Cr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(nx(this.persistenceKey,e))}updateQueryState(e,t,i){this.Nr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Dr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.kr(e)}notifyBundleLoaded(e){this.Mr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.yr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Le("SharedClientState","READ",e,t),t}setItem(e,t){Le("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Le("SharedClientState","REMOVE",e),this.storage.removeItem(e)}wr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Le("SharedClientState","EVENT",i.key,i.newValue),i.key===this.yr)return void mi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,we.Z)(function*(){if(t.started){if(null!==i.key)if(t.Ir.test(i.key)){if(null==i.newValue){const r=t.Or(i.key);return t.$r(r,null)}{const r=t.Fr(i.key,i.newValue);if(r)return t.$r(r.clientId,r)}}else if(t.Tr.test(i.key)){if(null!==i.newValue){const r=t.Br(i.key,i.newValue);if(r)return t.Lr(r)}}else if(t.Er.test(i.key)){if(null!==i.newValue){const r=t.qr(i.key,i.newValue);if(r)return t.Ur(r)}}else if(i.key===t.Ar){if(null!==i.newValue){const r=t.Pr(i.newValue);if(r)return t.br(r)}}else if(i.key===t.pr){const r=function(a){let u=Qr.ct;if(null!=a)try{const f=JSON.parse(a);_t("number"==typeof f),u=f}catch(f){mi("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(i.newValue);r!==Qr.ct&&t.sequenceNumberHandler(r)}else if(i.key===t.Rr){const r=t.Kr(i.newValue);yield Promise.all(r.map(a=>t.syncEngine.Gr(a)))}}else t.gr.push(i)}))}}get Cr(){return this.mr.get(this.dr)}vr(){this.setItem(this.yr,this.Cr.ar())}Sr(e,t,i){const r=new PT(this.currentUser,e,t,i),a=iP(this.persistenceKey,this.currentUser,e);this.setItem(a,r.ar())}Dr(e){const t=iP(this.persistenceKey,this.currentUser,e);this.removeItem(t)}kr(e){this.storage.setItem(this.Ar,JSON.stringify({clientId:this.dr,onlineState:e}))}Nr(e,t,i){const r=nx(this.persistenceKey,e),a=new xw(e,t,i);this.setItem(r,a.ar())}Mr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Ir.exec(e);return t?t[1]:null}Fr(e,t){const i=this.Or(e);return NT.cr(i,t)}Br(e,t){const i=this.Tr.exec(e),r=Number(i[1]);return PT.cr(new tr(void 0!==i[2]?i[2]:null),r,t)}qr(e,t){const i=this.Er.exec(e),r=Number(i[1]);return xw.cr(r,t)}Pr(e){return ix.cr(e)}Kr(e){return JSON.parse(e)}Lr(e){var t=this;return(0,we.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Qr(e.batchId,e.state,e.error);Le("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Ur(e){return this.syncEngine.jr(e.targetId,e.state,e.error)}$r(e,t){const i=t?this.mr.insert(e,t):this.mr.remove(e),r=this.Vr(this.mr),a=this.Vr(i),u=[],f=[];return a.forEach(_=>{r.has(_)||u.push(_)}),r.forEach(_=>{a.has(_)||f.push(_)}),this.syncEngine.zr(u,f).then(()=>{this.mr=i})}br(e){this.mr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Vr(e){let t=SM();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class rP{constructor(){this.Wr=new rx,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}updateQueryState(e,t,i){this.Hr[e]=t}removeLocalQueryTarget(e){this.Wr.lr(e)}isLocalQueryTarget(e){return this.Wr.activeTargetIds.has(e)}clearQueryState(e){delete this.Hr[e]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(e){return this.Wr.activeTargetIds.has(e)}start(){return this.Wr=new rx,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class tV{Jr(e){}shutdown(){}}class sP{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(e){this.no.push(e)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.no)e(0)}eo(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.no)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let FT=null;function ox(){return null===FT?FT=268435456+Math.round(2147483648*Math.random()):FT++,"0x"+FT.toString(16)}const nV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class iV{constructor(e){this.io=e.io,this.ro=e.ro}oo(e){this.uo=e}co(e){this.ao=e}onMessage(e){this.ho=e}close(){this.ro()}send(e){this.io(e)}lo(){this.uo()}fo(e){this.ao(e)}_o(e){this.ho(e)}}const bs="WebChannelConnection";class rV extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.wo=(e.ssl?"https":"http")+"://"+e.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(e,t,i,r,a){const u=ox(),f=this.Io(e,t);Le("RestConnection",`Sending RPC '${e}' ${u}:`,f,i);const _={};return this.To(_,r,a),this.Eo(e,f,_,i).then(w=>(Le("RestConnection",`Received RPC '${e}' ${u}: `,w),w),w=>{throw jo("RestConnection",`RPC '${e}' ${u} failed with error: `,w,"url: ",f,"request:",i),w})}Ao(e,t,i,r,a,u){return this.po(e,t,i,r,a)}To(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Wh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,a)=>e[a]=r),i&&i.headers.forEach((r,a)=>e[a]=r)}Io(e,t){return`${this.wo}/v1/${t}:${nV[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Eo(e,t,i,r){const a=ox();return new Promise((u,f)=>{const _=new eM;_.setWithCredentials(!0),_.listenOnce(Q0.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Y0.NO_ERROR:const I=_.getResponseJson();Le(bs,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(I)),u(I);break;case Y0.TIMEOUT:Le(bs,`RPC '${e}' ${a} timed out`),f(new Me(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Y0.HTTP_ERROR:const M=_.getStatus();if(Le(bs,`RPC '${e}' ${a} failed with status:`,M,"response text:",_.getResponseText()),M>0){let P=_.getResponseJson();Array.isArray(P)&&(P=P[0]);const V=P?.error;if(V&&V.status&&V.message){const q=function(ne){const _e=ne.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(_e)>=0?_e:ce.UNKNOWN}(V.status);f(new Me(q,V.message))}else f(new Me(ce.UNKNOWN,"Server responded with status "+_.getStatus()))}else f(new Me(ce.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{Le(bs,`RPC '${e}' ${a} completed.`)}});const w=JSON.stringify(r);Le(bs,`RPC '${e}' ${a} sending request:`,r),_.send(t,"POST",w,i,15)})}Ro(e,t,i){const r=ox(),a=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=JA(),f=XI(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(_.xmlHttpFactory=new J0({})),this.To(_.initMessageHeaders,t,i),_.encodeInitMessageHeaders=!0;const w=a.join("");Le(bs,`Creating RPC '${e}' stream ${r}: ${w}`,_);const I=u.createWebChannel(w,_);let M=!1,P=!1;const V=new iV({io:ne=>{P?Le(bs,`Not sending because RPC '${e}' stream ${r} is closed:`,ne):(M||(Le(bs,`Opening RPC '${e}' stream ${r} transport.`),I.open(),M=!0),Le(bs,`RPC '${e}' stream ${r} sending:`,ne),I.send(ne))},ro:()=>I.close()}),q=(ne,_e,$e)=>{ne.listen(_e,nt=>{try{$e(nt)}catch(Xe){setTimeout(()=>{throw Xe},0)}})};return q(I,co.EventType.OPEN,()=>{P||Le(bs,`RPC '${e}' stream ${r} transport opened.`)}),q(I,co.EventType.CLOSE,()=>{P||(P=!0,Le(bs,`RPC '${e}' stream ${r} transport closed`),V.fo())}),q(I,co.EventType.ERROR,ne=>{P||(P=!0,jo(bs,`RPC '${e}' stream ${r} transport errored:`,ne),V.fo(new Me(ce.UNAVAILABLE,"The operation could not be completed")))}),q(I,co.EventType.MESSAGE,ne=>{var _e;if(!P){const $e=ne.data[0];_t(!!$e);const nt=$e,Xe=nt.error||(null===(_e=nt[0])||void 0===_e?void 0:_e.error);if(Xe){Le(bs,`RPC '${e}' stream ${r} received error:`,Xe);const It=Xe.status;let jt=function(An){const Or=nr[An];if(void 0!==Or)return Jk(Or)}(It),qt=Xe.message;void 0===jt&&(jt=ce.INTERNAL,qt="Unknown error status: "+It+" with message "+Xe.message),P=!0,V.fo(new Me(jt,qt)),I.close()}else Le(bs,`RPC '${e}' stream ${r} received:`,$e),V._o($e)}}),q(f,Fc.STAT_EVENT,ne=>{ne.stat===X0.PROXY?Le(bs,`RPC '${e}' stream ${r} detected buffering proxy`):ne.stat===X0.NOPROXY&&Le(bs,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{V.lo()},0),V}}function oP(){return typeof window<"u"?window:null}function LT(){return typeof document<"u"?document:null}function Rw(n){return new p2(n,!0)}class ax{constructor(e,t,i=1e3,r=1.5,a=6e4){this.si=e,this.timerId=t,this.vo=i,this.Po=r,this.bo=a,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();const t=Math.floor(this.Vo+this.No()),i=Math.max(0,Date.now()-this.Do),r=Math.max(0,t-i);r>0&&Le("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Vo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Do=Date.now(),e())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){null!==this.So&&(this.So.skipDelay(),this.So=null)}cancel(){null!==this.So&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}class aP{constructor(e,t,i,r,a,u,f,_){this.si=e,this.Mo=i,this.Oo=r,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new ax(e,t)}qo(){return 1===this.state||5===this.state||this.Uo()}Uo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Ko()}stop(){var e=this;return(0,we.Z)(function*(){e.qo()&&(yield e.close(0))})()}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(e){this.Wo(),this.stream.send(e)}jo(){var e=this;return(0,we.Z)(function*(){if(e.Uo())return e.close(0)})()}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}close(e,t){var i=this;return(0,we.Z)(function*(){i.Wo(),i.Ho(),i.Lo.cancel(),i.$o++,4!==e?i.Lo.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(mi(t.toString()),mi("Using maximum backoff delay to prevent overloading the backend."),i.Lo.Co()):t&&t.code===ce.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Jo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.co(t)})()}Jo(){}auth(){this.state=1;const e=this.Yo(this.$o),t=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.$o===t&&this.Xo(i,r)},i=>{e(()=>{const r=new Me(ce.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Zo(r)})})}Xo(e,t){const i=this.Yo(this.$o);this.stream=this.tu(e,t),this.stream.oo(()=>{i(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(r=>{i(()=>this.Zo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Ko(){var e=this;this.state=5,this.Lo.xo((0,we.Z)(function*(){e.state=0,e.start()}))}Zo(e){return Le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Yo(e){return t=>{this.si.enqueueAndForget(()=>this.$o===e?t():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sV extends aP{constructor(e,t,i,r,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,u),this.serializer=a}tu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.Lo.reset();const t=function _2(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:rt(),r=e.targetChange.targetIds||[],a=function(_,w){return _.useProto3Json?(_t(void 0===w||"string"==typeof w),Ai.fromBase64String(w||"")):(_t(void 0===w||w instanceof Uint8Array),Ai.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(_){const w=void 0===_.code?ce.UNKNOWN:Jk(_.code);return new Me(w,_.message||"")}(u);t=new rO(i,r,a,f||null)}else if("documentChange"in e){const i=e.documentChange,r=Hc(n,i.document.name),a=zi(i.document.updateTime),u=i.document.createTime?zi(i.document.createTime):Ct.min(),f=new Jr({mapValue:{fields:i.document.fields}}),_=si.newFoundDocument(r,a,u,f);t=new wT(i.targetIds||[],i.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const i=e.documentDelete,r=Hc(n,i.document),a=i.readTime?zi(i.readTime):Ct.min(),u=si.newNoDocument(r,a);t=new wT([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const i=e.documentRemove,r=Hc(n,i.document);t=new wT([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return rt();{const i=e.filter,{count:r=0,unchangedNames:a}=i,u=new l2(r,a);t=new iO(i.targetId,u)}}var _;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return Ct.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?Ct.min():a.readTime?zi(a.readTime):Ct.min()}(e);return this.listener.eu(t,i)}nu(e){const t={};t.database=ww(this.serializer),t.addTarget=function(r,a){let u;const f=a.target;if(u=fT(f)?{documents:pO(r,f)}:{query:VM(r,f)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){u.resumeToken=lO(r,a.resumeToken);const _=PM(r,a.expectedCount);null!==_&&(u.expectedCount=_)}else if(a.snapshotVersion.compareTo(Ct.min())>0){u.readTime=Fy(r,a.snapshotVersion.toTimestamp());const _=PM(r,a.expectedCount);null!==_&&(u.expectedCount=_)}return u}(this.serializer,e);const i=function v2(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return rt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.zo(t)}su(e){const t={};t.database=ww(this.serializer),t.removeTarget=e,this.zo(t)}}class oV extends aP{constructor(e,t,i,r,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,u),this.serializer=a,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(_t(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();const t=function y2(n,e){return n&&n.length>0?(_t(void 0!==e),n.map(t=>function(i,r){let a=zi(i.updateTime?i.updateTime:r);return a.isEqual(Ct.min())&&(a=zi(r)),new r2(a,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=zi(e.commitTime);return this.listener.uu(i,t)}return _t(!e.writeResults||0===e.writeResults.length),this.iu=!0,this.listener.cu()}au(){const e={};e.database=ww(this.serializer),this.zo(e)}ou(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Ew(this.serializer,i))};this.zo(t)}}class aV extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.hu=!1}lu(){if(this.hu)throw new Me(ce.FAILED_PRECONDITION,"The client has already been terminated.")}po(e,t,i){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.po(e,t,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Me(ce.UNKNOWN,r.toString())})}Ao(e,t,i,r){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Ao(e,t,i,a,u,r)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Me(ce.UNKNOWN,a.toString())})}terminate(){this.hu=!0}}class cV{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(e){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.gu("Offline")))}set(e){this.Iu(),this.du=0,"Online"===e&&(this.wu=!1),this.gu(e)}gu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}yu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(mi(t),this.wu=!1):Le("OnlineStateTracker",t)}Iu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class uV{constructor(e,t,i,r,a){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=a,this.vu.Jr(f=>{i.enqueueAndForget((0,we.Z)(function*(){var _;uf(u)&&(Le("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,we.Z)(function*(w){const I=Qe(w);I.Au.add(4),yield jy(I),I.Pu.set("Unknown"),I.Au.delete(4),yield kw(I)}),function(w){return _.apply(this,arguments)})(u))}))}),this.Pu=new cV(i,r)}}function kw(n){return cx.apply(this,arguments)}function cx(){return cx=(0,we.Z)(function*(n){if(uf(n))for(const e of n.Ru)yield e(!0)}),cx.apply(this,arguments)}function jy(n){return ux.apply(this,arguments)}function ux(){return ux=(0,we.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),ux.apply(this,arguments)}function VT(n,e){const t=Qe(n);t.Eu.has(e.targetId)||(t.Eu.set(e.targetId,e),fx(t)?hx(t):zy(t).Uo()&&dx(t,e))}function Ow(n,e){const t=Qe(n),i=zy(t);t.Eu.delete(e),i.Uo()&&lP(t,e),0===t.Eu.size&&(i.Uo()?i.Qo():uf(t)&&t.Pu.set("Unknown"))}function dx(n,e){if(n.bu.Lt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ct.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}zy(n).nu(e)}function lP(n,e){n.bu.Lt(e),zy(n).su(e)}function hx(n){n.bu=new u2({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),he:e=>n.Eu.get(e)||null,oe:()=>n.datastore.serializer.databaseId}),zy(n).start(),n.Pu.mu()}function fx(n){return uf(n)&&!zy(n).qo()&&n.Eu.size>0}function uf(n){return 0===Qe(n).Au.size}function cP(n){n.bu=void 0}function dV(n){return px.apply(this,arguments)}function px(){return px=(0,we.Z)(function*(n){n.Eu.forEach((e,t)=>{dx(n,e)})}),px.apply(this,arguments)}function hV(n,e){return mx.apply(this,arguments)}function mx(){return mx=(0,we.Z)(function*(n,e){cP(n),fx(n)?(n.Pu.pu(e),hx(n)):n.Pu.set("Unknown")}),mx.apply(this,arguments)}function fV(n,e,t){return gx.apply(this,arguments)}function gx(){return gx=(0,we.Z)(function*(n,e,t){if(n.Pu.set("Online"),e instanceof rO&&2===e.state&&e.cause)try{yield(i=(0,we.Z)(function*(r,a){const u=a.cause;for(const f of a.targetIds)r.Eu.has(f)&&(yield r.remoteSyncer.rejectListen(f,u),r.Eu.delete(f),r.bu.removeTarget(f))}),function(r,a){return i.apply(this,arguments)})(n,e)}catch(i){Le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield UT(n,i)}else if(e instanceof wT?n.bu.Wt(e):e instanceof iO?n.bu.ee(e):n.bu.Yt(e),!t.isEqual(Ct.min()))try{const i=yield QO(n.localStore);t.compareTo(i)>=0&&(yield function(r,a){const u=r.bu.ue(a);return u.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const w=r.Eu.get(_);w&&r.Eu.set(_,w.withResumeToken(f.resumeToken,a))}}),u.targetMismatches.forEach((f,_)=>{const w=r.Eu.get(f);if(!w)return;r.Eu.set(f,w.withResumeToken(Ai.EMPTY_BYTE_STRING,w.snapshotVersion)),lP(r,f);const I=new ld(w.target,f,_,w.sequenceNumber);dx(r,I)}),r.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(i){Le("RemoteStore","Failed to raise snapshot:",i),yield UT(n,i)}var i}),gx.apply(this,arguments)}function UT(n,e,t){return _x.apply(this,arguments)}function _x(){return _x=(0,we.Z)(function*(n,e,t){if(!Pl(e))throw e;n.Au.add(1),yield jy(n),n.Pu.set("Offline"),t||(t=()=>QO(n.localStore)),n.asyncQueue.enqueueRetryable((0,we.Z)(function*(){Le("RemoteStore","Retrying IndexedDB access"),yield t(),n.Au.delete(1),yield kw(n)}))}),_x.apply(this,arguments)}function uP(n,e){return e().catch(t=>UT(n,t,e))}function $y(n){return yx.apply(this,arguments)}function yx(){return yx=(0,we.Z)(function*(n){const e=Qe(n),t=df(e);let i=e.Tu.length>0?e.Tu[e.Tu.length-1].batchId:-1;for(;pV(e);)try{const r=yield X2(e.localStore,i);if(null===r){0===e.Tu.length&&t.Qo();break}i=r.batchId,mV(e,r)}catch(r){yield UT(e,r)}dP(e)&&hP(e)}),yx.apply(this,arguments)}function pV(n){return uf(n)&&n.Tu.length<10}function mV(n,e){n.Tu.push(e);const t=df(n);t.Uo()&&t.ru&&t.ou(e.mutations)}function dP(n){return uf(n)&&!df(n).qo()&&n.Tu.length>0}function hP(n){df(n).start()}function gV(n){return vx.apply(this,arguments)}function vx(){return vx=(0,we.Z)(function*(n){df(n).au()}),vx.apply(this,arguments)}function _V(n){return bx.apply(this,arguments)}function bx(){return bx=(0,we.Z)(function*(n){const e=df(n);for(const t of n.Tu)e.ou(t.mutations)}),bx.apply(this,arguments)}function yV(n,e,t){return wx.apply(this,arguments)}function wx(){return wx=(0,we.Z)(function*(n,e,t){const i=n.Tu.shift(),r=xM.from(i,e,t);yield uP(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield $y(n)}),wx.apply(this,arguments)}function vV(n,e){return Ex.apply(this,arguments)}function Ex(){return Ex=(0,we.Z)(function*(n,e){var t;e&&df(n).ru&&(yield(t=(0,we.Z)(function*(i,r){if(Xk(a=r.code)&&a!==ce.ABORTED){const u=i.Tu.shift();df(i).Go(),yield uP(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield $y(i)}var a}),function(i,r){return t.apply(this,arguments)})(n,e)),dP(n)&&hP(n)}),Ex.apply(this,arguments)}function fP(n,e){return Cx.apply(this,arguments)}function Cx(){return Cx=(0,we.Z)(function*(n,e){const t=Qe(n);t.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const i=uf(t);t.Au.add(3),yield jy(t),i&&t.Pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Au.delete(3),yield kw(t)}),Cx.apply(this,arguments)}function Ix(n,e){return Tx.apply(this,arguments)}function Tx(){return Tx=(0,we.Z)(function*(n,e){const t=Qe(n);e?(t.Au.delete(2),yield kw(t)):e||(t.Au.add(2),yield jy(t),t.Pu.set("Unknown"))}),Tx.apply(this,arguments)}function zy(n){return n.Vu||(n.Vu=function(e,t,i){const r=Qe(e);return r.lu(),new sV(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{oo:dV.bind(null,n),co:hV.bind(null,n),eu:fV.bind(null,n)}),n.Ru.push(function(){var e=(0,we.Z)(function*(t){t?(n.Vu.Go(),fx(n)?hx(n):n.Pu.set("Unknown")):(yield n.Vu.stop(),cP(n))});return function(t){return e.apply(this,arguments)}}())),n.Vu}function df(n){return n.Su||(n.Su=function(e,t,i){const r=Qe(e);return r.lu(),new oV(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{oo:gV.bind(null,n),co:vV.bind(null,n),cu:_V.bind(null,n),uu:yV.bind(null,n)}),n.Ru.push(function(){var e=(0,we.Z)(function*(t){t?(n.Su.Go(),yield $y(n)):(yield n.Su.stop(),n.Tu.length>0&&(Le("RemoteStore",`Stopping write stream with ${n.Tu.length} pending writes`),n.Tu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Su}class Dx{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,i,r,a){const u=Date.now()+i,f=new Dx(e,t,u,r,a);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Me(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gy(n,e){if(mi("AsyncQueue",`${e}: ${n}`),Pl(n))return new Me(ce.UNAVAILABLE,`${e}: ${n}`);throw n}class qy{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ke.comparator(t.key,i.key):(t,i)=>Ke.comparator(t.key,i.key),this.keyedMap=fw(),this.sortedSet=new Ne(this.comparator)}static emptySet(e){return new qy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof qy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new qy;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class pP{constructor(){this.Du=new Ne(Ke.comparator)}track(e){const t=e.doc.key,i=this.Du.get(t);i?0!==e.type&&3===i.type?this.Du=this.Du.insert(t,e):3===e.type&&1!==i.type?this.Du=this.Du.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Du=this.Du.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Du=this.Du.remove(t):1===e.type&&2===i.type?this.Du=this.Du.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):rt():this.Du=this.Du.insert(t,e)}Cu(){const e=[];return this.Du.inorderTraversal((t,i)=>{e.push(i)}),e}}class Zy{constructor(e,t,i,r,a,u,f,_,w){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=_,this.hasCachedResults=w}static fromInitialDocuments(e,t,i,r,a){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new Zy(e,t,qy.emptySet(t),u,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class bV{constructor(){this.xu=void 0,this.listeners=[]}}class wV{constructor(){this.queries=new od(e=>Ok(e),dw),this.onlineState="Unknown",this.Nu=new Set}}function Sx(n,e){return Ax.apply(this,arguments)}function Ax(){return Ax=(0,we.Z)(function*(n,e){const t=Qe(n),i=e.query;let r=!1,a=t.queries.get(i);if(a||(r=!0,a=new bV),r)try{a.xu=yield t.onListen(i)}catch(u){const f=Gy(u,`Initialization of query '${DM(e.query)}' failed`);return void e.onError(f)}t.queries.set(i,a),a.listeners.push(e),e.ku(t.onlineState),a.xu&&e.Mu(a.xu)&&Rx(t)}),Ax.apply(this,arguments)}function Mx(n,e){return xx.apply(this,arguments)}function xx(){return xx=(0,we.Z)(function*(n,e){const t=Qe(n),i=e.query;let r=!1;const a=t.queries.get(i);if(a){const u=a.listeners.indexOf(e);u>=0&&(a.listeners.splice(u,1),r=0===a.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),xx.apply(this,arguments)}function EV(n,e){const t=Qe(n);let i=!1;for(const r of e){const u=t.queries.get(r.query);if(u){for(const f of u.listeners)f.Mu(r)&&(i=!0);u.xu=r}}i&&Rx(t)}function CV(n,e,t){const i=Qe(n),r=i.queries.get(e);if(r)for(const a of r.listeners)a.onError(t);i.queries.delete(e)}function Rx(n){n.Nu.forEach(e=>{e.next()})}class kx{constructor(e,t,i){this.query=e,this.Ou=t,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=i||{}}Mu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Zy(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),t=!0):this.Lu(e,this.onlineState)&&(this.qu(e),t=!0),this.Fu=e,t}onError(e){this.Ou.error(e)}ku(e){this.onlineState=e;let t=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),t=!0),t}Lu(e,t){return!e.fromCache||(!this.options.Uu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Bu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}qu(e){e=Zy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}class IV{constructor(e,t){this.Ku=e,this.byteLength=t}Gu(){return"metadata"in this.Ku}}class mP{constructor(e){this.serializer=e}ir(e){return Hc(this.serializer,e)}rr(e){return e.metadata.exists?fO(this.serializer,e.document,!1):si.newNoDocument(this.ir(e.metadata.name),this.ur(e.metadata.readTime))}ur(e){return zi(e)}}class TV{constructor(e,t,i){this.Qu=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=gP(e)}ju(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ku.namedQuery)this.queries.push(e.Ku.namedQuery);else if(e.Ku.documentMetadata){this.documents.push({metadata:e.Ku.documentMetadata}),e.Ku.documentMetadata.exists||++t;const i=fn.fromString(e.Ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Ku.document&&(this.documents[this.documents.length-1].document=e.Ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}zu(e){const t=new Map,i=new mP(this.serializer);for(const r of e)if(r.metadata.queries){const a=i.ir(r.metadata.name);for(const u of r.metadata.queries){const f=(t.get(u)||Jt()).add(a);t.set(u,f)}}return t}complete(){var e=this;return(0,we.Z)(function*(){const t=yield function J2(n,e,t,i){return ex.apply(this,arguments)}(e.localStore,new mP(e.serializer),e.documents,e.Qu.id),i=e.zu(e.documents);for(const r of e.queries)yield eV(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Wu:e.collectionGroups,Hu:t}})()}}function gP(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class _P{constructor(e){this.key=e}}class yP{constructor(e){this.key=e}}class vP{constructor(e,t){this.query=e,this.Ju=t,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=Jt(),this.mutatedKeys=Jt(),this.Zu=Nk(e),this.tc=new qy(this.Zu)}get ec(){return this.Ju}nc(e,t){const i=t?t.sc:new pP,r=t?t.tc:this.tc;let a=t?t.mutatedKeys:this.mutatedKeys,u=r,f=!1;const _="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,w="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((I,M)=>{const P=r.get(I),V=hw(this.query,M)?M:null,q=!!P&&this.mutatedKeys.has(P.key),ne=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let _e=!1;P&&V?P.data.isEqual(V.data)?q!==ne&&(i.track({type:3,doc:V}),_e=!0):this.ic(P,V)||(i.track({type:2,doc:V}),_e=!0,(_&&this.Zu(V,_)>0||w&&this.Zu(V,w)<0)&&(f=!0)):!P&&V?(i.track({type:0,doc:V}),_e=!0):P&&!V&&(i.track({type:1,doc:P}),_e=!0,(_||w)&&(f=!0)),_e&&(V?(u=u.add(V),a=ne?a.add(I):a.delete(I)):(u=u.delete(I),a=a.delete(I)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const I="F"===this.query.limitType?u.last():u.first();u=u.delete(I.key),a=a.delete(I.key),i.track({type:1,doc:I})}return{tc:u,sc:i,ji:f,mutatedKeys:a}}ic(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;const a=e.sc.Cu();a.sort((w,I)=>function(M,P){const V=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return V(M)-V(P)}(w.type,I.type)||this.Zu(w.doc,I.doc)),this.rc(i);const u=t?this.oc():[],f=0===this.Xu.size&&this.current?1:0,_=f!==this.Yu;return this.Yu=f,0!==a.length||_?{snapshot:new Zy(this.query,e.tc,r,a,e.mutatedKeys,0===f,_,!1,!!i&&i.resumeToken.approximateByteSize()>0),uc:u}:{uc:u}}ku(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tc:this.tc,sc:new pP,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}rc(e){e&&(e.addedDocuments.forEach(t=>this.Ju=this.Ju.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ju=this.Ju.delete(t)),this.current=e.current)}oc(){if(!this.current)return[];const e=this.Xu;this.Xu=Jt(),this.tc.forEach(i=>{this.cc(i.key)&&(this.Xu=this.Xu.add(i.key))});const t=[];return e.forEach(i=>{this.Xu.has(i)||t.push(new yP(i))}),this.Xu.forEach(i=>{e.has(i)||t.push(new _P(i))}),t}ac(e){this.Ju=e.sr,this.Xu=Jt();const t=this.nc(e.documents);return this.applyChanges(t,!0)}hc(){return Zy.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}class DV{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class SV{constructor(e){this.key=e,this.lc=!1}}class AV{constructor(e,t,i,r,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.fc={},this.dc=new od(f=>Ok(f),dw),this._c=new Map,this.wc=new Set,this.mc=new Ne(Ke.comparator),this.gc=new Map,this.yc=new qM,this.Ic={},this.Tc=new Map,this.Ec=zm.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return!0===this.Ac}}function MV(n,e){return Ox.apply(this,arguments)}function Ox(){return Ox=(0,we.Z)(function*(n,e){const t=nR(n);let i,r;const a=t.dc.get(e);if(a)i=a.targetId,t.sharedClientState.addLocalQueryTarget(i),r=a.view.hc();else{const u=yield By(t.localStore,Fs(e)),f=t.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield Px(t,e,i,"current"===f,u.resumeToken),t.isPrimaryClient&&VT(t.remoteStore,u)}return r}),Ox.apply(this,arguments)}function Px(n,e,t,i,r){return Nx.apply(this,arguments)}function Nx(){return Nx=(0,we.Z)(function*(n,e,t,i,r){n.Rc=(M,P,V)=>{return(q=(0,we.Z)(function*(ne,_e,$e,nt){let Xe=_e.view.nc($e);Xe.ji&&(Xe=yield OT(ne.localStore,_e.query,!1).then(({documents:qt})=>_e.view.nc(qt,Xe)));const It=nt&&nt.targetChanges.get(_e.targetId),jt=_e.view.applyChanges(Xe,ne.isPrimaryClient,It);return Gx(ne,_e.targetId,jt.uc),jt.snapshot}),function(ne,_e,$e,nt){return q.apply(this,arguments)})(n,M,P,V);var q};const a=yield OT(n.localStore,e,!0),u=new vP(e,a.sr),f=u.nc(a.documents),_=vw.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),w=u.applyChanges(f,n.isPrimaryClient,_);Gx(n,t,w.uc);const I=new DV(e,t,u);return n.dc.set(e,I),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),w.snapshot}),Nx.apply(this,arguments)}function xV(n,e){return Fx.apply(this,arguments)}function Fx(){return Fx=(0,we.Z)(function*(n,e){const t=Qe(n),i=t.dc.get(e),r=t._c.get(i.targetId);if(r.length>1)return t._c.set(i.targetId,r.filter(a=>!dw(a,e))),void t.dc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Hy(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Ow(t.remoteStore,i.targetId),Wy(t,i.targetId)}).catch(Ol))):(Wy(t,i.targetId),yield Hy(t.localStore,i.targetId,!0))}),Fx.apply(this,arguments)}function Lx(){return Lx=(0,we.Z)(function*(n,e,t){const i=iR(n);try{const r=yield function(a,u){const f=Qe(a),_=ri.now(),w=u.reduce((P,V)=>P.add(V.key),Jt());let I,M;return f.persistence.runTransaction("Locally write mutations","readwrite",P=>{let V=ho(),q=Jt();return f.Xi.getEntries(P,w).next(ne=>{V=ne,V.forEach((_e,$e)=>{$e.isValidDocument()||(q=q.add(_e))})}).next(()=>f.localDocuments.getOverlayedDocuments(P,V)).next(ne=>{I=ne;const _e=[];for(const $e of u){const nt=o2($e,I.get($e.key).overlayedDocument);null!=nt&&_e.push(new ad($e.key,nt,vk(nt.value.mapValue),yi.exists(!0)))}return f.mutationQueue.addMutationBatch(P,_,_e,u)}).next(ne=>{M=ne;const _e=ne.applyToLocalDocumentSet(I,q);return f.documentOverlayCache.saveOverlays(P,ne.batchId,_e)})}).then(()=>({batchId:M.batchId,changes:Lk(I)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,u,f){let _=a.Ic[a.currentUser.toKey()];_||(_=new Ne(Ht)),_=_.insert(u,f),a.Ic[a.currentUser.toKey()]=_}(i,r.batchId,t),yield cd(i,r.changes),yield $y(i.remoteStore)}catch(r){const a=Gy(r,"Failed to persist write");t.reject(a)}}),Lx.apply(this,arguments)}function bP(n,e){return Vx.apply(this,arguments)}function Vx(){return Vx=(0,we.Z)(function*(n,e){const t=Qe(n);try{const i=yield Q2(t.localStore,e);e.targetChanges.forEach((r,a)=>{const u=t.gc.get(a);u&&(_t(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.lc=!0:r.modifiedDocuments.size>0?_t(u.lc):r.removedDocuments.size>0&&(_t(u.lc),u.lc=!1))}),yield cd(t,i,e)}catch(i){yield Ol(i)}}),Vx.apply(this,arguments)}function wP(n,e,t){const i=Qe(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.dc.forEach((a,u)=>{const f=u.view.ku(e);f.snapshot&&r.push(f.snapshot)}),function(a,u){const f=Qe(a);f.onlineState=u;let _=!1;f.queries.forEach((w,I)=>{for(const M of I.listeners)M.ku(u)&&(_=!0)}),_&&Rx(f)}(i.eventManager,e),r.length&&i.fc.eu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function kV(n,e,t){return Ux.apply(this,arguments)}function Ux(){return Ux=(0,we.Z)(function*(n,e,t){const i=Qe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.gc.get(e),a=r&&r.key;if(a){let u=new Ne(Ke.comparator);u=u.insert(a,si.newNoDocument(a,Ct.min()));const f=Jt().add(a),_=new yw(Ct.min(),new Map,new Ne(Ht),u,f);yield bP(i,_),i.mc=i.mc.remove(a),i.gc.delete(e),qx(i)}else yield Hy(i.localStore,e,!1).then(()=>Wy(i,e,t)).catch(Ol)}),Ux.apply(this,arguments)}function OV(n,e){return Bx.apply(this,arguments)}function Bx(){return Bx=(0,we.Z)(function*(n,e){const t=Qe(n),i=e.batch.batchId;try{const r=yield Y2(t.localStore,e);zx(t,i,null),$x(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield cd(t,r)}catch(r){yield Ol(r)}}),Bx.apply(this,arguments)}function PV(n,e,t){return Hx.apply(this,arguments)}function Hx(){return Hx=(0,we.Z)(function*(n,e,t){const i=Qe(n);try{const r=yield function(a,u){const f=Qe(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return f.mutationQueue.lookupMutationBatch(_,u).next(I=>(_t(null!==I),w=I.keys(),f.mutationQueue.removeMutationBatch(_,I))).next(()=>f.mutationQueue.performConsistencyCheck(_)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(_,w,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w)).next(()=>f.localDocuments.getDocuments(_,w))})}(i.localStore,e);zx(i,e,t),$x(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield cd(i,r)}catch(r){yield Ol(r)}}),Hx.apply(this,arguments)}function jx(){return jx=(0,we.Z)(function*(n,e){const t=Qe(n);uf(t.remoteStore)||Le("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(a){const u=Qe(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===i)return void e.resolve();const r=t.Tc.get(i)||[];r.push(e),t.Tc.set(i,r)}catch(i){const r=Gy(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),jx.apply(this,arguments)}function $x(n,e){(n.Tc.get(e)||[]).forEach(t=>{t.resolve()}),n.Tc.delete(e)}function zx(n,e,t){const i=Qe(n);let r=i.Ic[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.Ic[i.currentUser.toKey()]=r}}function Wy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.dc.delete(i),t&&n.fc.vc(i,t);n._c.delete(e),n.isPrimaryClient&&n.yc.ps(e).forEach(i=>{n.yc.containsKey(i)||EP(n,i)})}function EP(n,e){n.wc.delete(e.path.canonicalString());const t=n.mc.get(e);null!==t&&(Ow(n.remoteStore,t),n.mc=n.mc.remove(e),n.gc.delete(t),qx(n))}function Gx(n,e,t){for(const i of t)i instanceof _P?(n.yc.addReference(i.key,e),FV(n,i)):i instanceof yP?(Le("SyncEngine","Document no longer in limbo: "+i.key),n.yc.removeReference(i.key,e),n.yc.containsKey(i.key)||EP(n,i.key)):rt()}function FV(n,e){const t=e.key,i=t.path.canonicalString();n.mc.get(t)||n.wc.has(i)||(Le("SyncEngine","New document in limbo: "+t),n.wc.add(i),qx(n))}function qx(n){for(;n.wc.size>0&&n.mc.size<n.maxConcurrentLimboResolutions;){const e=n.wc.values().next().value;n.wc.delete(e);const t=new Ke(fn.fromString(e)),i=n.Ec.next();n.gc.set(i,new SV(t)),n.mc=n.mc.insert(t,i),VT(n.remoteStore,new ld(Fs(Ry(t.path)),i,"TargetPurposeLimboResolution",Qr.ct))}}function cd(n,e,t){return Zx.apply(this,arguments)}function Zx(){return Zx=(0,we.Z)(function*(n,e,t){const i=Qe(n),r=[],a=[],u=[];var f;i.dc.isEmpty()||(i.dc.forEach((f,_)=>{u.push(i.Rc(_,e,t).then(w=>{if((w||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,w?.fromCache?"not-current":"current"),w){r.push(w);const I=QM.Bi(_.targetId,w);a.push(I)}}))}),yield Promise.all(u),i.fc.eu(r),yield(f=(0,we.Z)(function*(_,w){const I=Qe(_);try{yield I.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>se.forEach(w,P=>se.forEach(P.$i,V=>I.persistence.referenceDelegate.addReference(M,P.targetId,V)).next(()=>se.forEach(P.Fi,V=>I.persistence.referenceDelegate.removeReference(M,P.targetId,V)))))}catch(M){if(!Pl(M))throw M;Le("LocalStore","Failed to update sequence numbers: "+M)}for(const M of w){const P=M.targetId;if(!M.fromCache){const V=I.Hi.get(P),ne=V.withLastLimboFreeSnapshotVersion(V.snapshotVersion);I.Hi=I.Hi.insert(P,ne)}}}),function(_,w){return f.apply(this,arguments)})(i.localStore,a))}),Zx.apply(this,arguments)}function LV(n,e){return Wx.apply(this,arguments)}function Wx(){return Wx=(0,we.Z)(function*(n,e){const t=Qe(n);if(!t.currentUser.isEqual(e)){Le("SyncEngine","User change. New user:",e.toKey());const i=yield YO(t.localStore,e);t.currentUser=e,(r=t).Tc.forEach(u=>{u.forEach(f=>{f.reject(new Me(ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Tc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield cd(t,i.tr)}var r}),Wx.apply(this,arguments)}function VV(n,e){const t=Qe(n),i=t.gc.get(e);if(i&&i.lc)return Jt().add(i.key);{let r=Jt();const a=t._c.get(e);if(!a)return r;for(const u of a){const f=t.dc.get(u);r=r.unionWith(f.view.ec)}return r}}function UV(n,e){return Kx.apply(this,arguments)}function Kx(){return Kx=(0,we.Z)(function*(n,e){const t=Qe(n),i=yield OT(t.localStore,e.query,!0),r=e.view.ac(i);return t.isPrimaryClient&&Gx(t,e.targetId,r.uc),r}),Kx.apply(this,arguments)}function BV(n,e){return Yx.apply(this,arguments)}function Yx(){return Yx=(0,we.Z)(function*(n,e){const t=Qe(n);return eP(t.localStore,e).then(i=>cd(t,i))}),Yx.apply(this,arguments)}function HV(n,e,t,i){return Qx.apply(this,arguments)}function Qx(){return Qx=(0,we.Z)(function*(n,e,t,i){const r=Qe(n),a=yield function(u,f){const _=Qe(u),w=Qe(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",I=>w.Vn(I,f).next(M=>M?_.localDocuments.getDocuments(I,M):se.resolve(null)))}(r.localStore,e);var f;null!==a?("pending"===t?yield $y(r.remoteStore):"acknowledged"===t||"rejected"===t?(zx(r,e,i||null),$x(r,e),f=e,Qe(Qe(r.localStore).mutationQueue).Dn(f)):rt(),yield cd(r,a)):Le("SyncEngine","Cannot apply mutation batch with id: "+e)}),Qx.apply(this,arguments)}function Xx(){return Xx=(0,we.Z)(function*(n,e){const t=Qe(n);if(nR(t),iR(t),!0===e&&!0!==t.Ac){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield CP(t,i.toArray());t.Ac=!0,yield Ix(t.remoteStore,!0);for(const a of r)VT(t.remoteStore,a)}else if(!1===e&&!1!==t.Ac){const i=[];let r=Promise.resolve();t._c.forEach((a,u)=>{t.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(Wy(t,u),Hy(t.localStore,u,!0))),Ow(t.remoteStore,u)}),yield r,yield CP(t,i),function(a){const u=Qe(a);u.gc.forEach((f,_)=>{Ow(u.remoteStore,_)}),u.yc.Is(),u.gc=new Map,u.mc=new Ne(Ke.comparator)}(t),t.Ac=!1,yield Ix(t.remoteStore,!1)}}),Xx.apply(this,arguments)}function CP(n,e,t){return Jx.apply(this,arguments)}function Jx(){return Jx=(0,we.Z)(function*(n,e,t){const i=Qe(n),r=[],a=[];for(const u of e){let f;const _=i._c.get(u);if(_&&0!==_.length){f=yield By(i.localStore,Fs(_[0]));for(const w of _){const I=i.dc.get(w),M=yield UV(i,I);M.snapshot&&a.push(M.snapshot)}}else{const w=yield JO(i.localStore,u);f=yield By(i.localStore,w),yield Px(i,IP(w),u,!1,f.resumeToken)}r.push(f)}return i.fc.eu(a),r}),Jx.apply(this,arguments)}function IP(n){return Rk(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function $V(n){const e=Qe(n);return Qe(Qe(e.localStore).persistence).Mi()}function zV(n,e,t,i){return eR.apply(this,arguments)}function eR(){return eR=(0,we.Z)(function*(n,e,t,i){const r=Qe(n);if(r.Ac)return void Le("SyncEngine","Ignoring unexpected query state notification.");const a=r._c.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const u=yield eP(r.localStore,Pk(a[0])),f=yw.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Ai.EMPTY_BYTE_STRING);yield cd(r,u,f);break}case"rejected":yield Hy(r.localStore,e,!0),Wy(r,e,i);break;default:rt()}}),eR.apply(this,arguments)}function GV(n,e,t){return tR.apply(this,arguments)}function tR(){return tR=(0,we.Z)(function*(n,e,t){const i=nR(n);if(i.Ac){for(const r of e){if(i._c.has(r)){Le("SyncEngine","Adding an already active target "+r);continue}const a=yield JO(i.localStore,r),u=yield By(i.localStore,a);yield Px(i,IP(a),u.targetId,!1,u.resumeToken),VT(i.remoteStore,u)}for(const r of t)i._c.has(r)&&(yield Hy(i.localStore,r,!1).then(()=>{Ow(i.remoteStore,r),Wy(i,r)}).catch(Ol))}}),tR.apply(this,arguments)}function nR(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=bP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kV.bind(null,e),e.fc.eu=EV.bind(null,e.eventManager),e.fc.vc=CV.bind(null,e.eventManager),e}function iR(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=OV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PV.bind(null,e),e}class Pw{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,we.Z)(function*(){t.serializer=Rw(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return KO(this.persistence,new WO,e.initialUser,this.serializer)}createPersistence(e){return new ZM(xT.js,this.serializer)}createSharedClientState(e){return new rP}terminate(){var e=this;return(0,we.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class rR extends Pw{constructor(e,t,i){super(),this.bc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,we.Z)(function*(){yield t().call(i,e),yield i.bc.initialize(i,e),yield iR(i.bc.syncEngine),yield $y(i.bc.remoteStore),yield i.persistence.pi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return KO(this.persistence,new WO,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new UO(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new lT(t,this.persistence);return new rk(e.asyncQueue,i)}createPersistence(e){const t=YM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?vs.withCacheSize(this.cacheSizeBytes):vs.DEFAULT;return new KM(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,oP(),LT(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new rP}}class TP extends rR{constructor(e,t){super(e,t,!1),this.bc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,we.Z)(function*(){yield t().call(i,e);const r=i.bc.syncEngine;i.sharedClientState instanceof sx&&(i.sharedClientState.syncEngine={Qr:HV.bind(null,r),jr:zV.bind(null,r),zr:GV.bind(null,r),Mi:$V.bind(null,r),Gr:BV.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.pi(function(){var a=(0,we.Z)(function*(u){yield function jV(n,e){return Xx.apply(this,arguments)}(i.bc.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return a.apply(this,arguments)}}())})()}createSharedClientState(e){const t=oP();if(!sx.D(t))throw new Me(ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=YM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new sx(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class Ky{initialize(e,t){var i=this;return(0,we.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>wP(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=LV.bind(null,i.syncEngine),yield Ix(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new wV}createDatastore(e){const t=Rw(e.databaseInfo.databaseId),i=new rV(e.databaseInfo);return new aV(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,a=f=>wP(this.syncEngine,f,0),u=sP.D()?new sP:new tV,new uV(t,i,r,a,u);var t,i,r,a,u}createSyncEngine(e,t){return function(i,r,a,u,f,_,w){const I=new AV(i,r,a,u,f,_);return w&&(I.Ac=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,we.Z)(function*(t){const i=Qe(t);Le("RemoteStore","RemoteStore shutting down."),i.Au.add(5),yield jy(i),i.vu.shutdown(),i.Pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function DP(n,e=10240){let t=0;return{read:()=>(0,we.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,we.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class BT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Vc(this.observer.next,e)}error(e){this.observer.error?this.Vc(this.observer.error,e):mi("Uncaught Error in snapshot listener:",e.toString())}Sc(){this.muted=!0}Vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class WV{constructor(e,t){this.Dc=e,this.serializer=t,this.metadata=new gi,this.buffer=new Uint8Array,this.Cc=new TextDecoder("utf-8"),this.xc().then(i=>{i&&i.Gu()?this.metadata.resolve(i.Ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Ku)}`))},i=>this.metadata.reject(i))}close(){return this.Dc.cancel()}getMetadata(){var e=this;return(0,we.Z)(function*(){return e.metadata.promise})()}Pc(){var e=this;return(0,we.Z)(function*(){return yield e.getMetadata(),e.xc()})()}xc(){var e=this;return(0,we.Z)(function*(){const t=yield e.Nc();if(null===t)return null;const i=e.Cc.decode(t),r=Number(i);isNaN(r)&&e.kc(`length string (${i}) is not valid number`);const a=yield e.Mc(r);return new IV(JSON.parse(a),t.length+r)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Nc(){var e=this;return(0,we.Z)(function*(){for(;e.Oc()<0&&!(yield e.$c()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.kc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Mc(e){var t=this;return(0,we.Z)(function*(){for(;t.buffer.length<e;)(yield t.$c())&&t.kc("Reached the end of bundle when more is expected.");const i=t.Cc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}kc(e){throw this.Dc.cancel(),new Error(`Invalid bundle format: ${e}`)}$c(){var e=this;return(0,we.Z)(function*(){const t=yield e.Dc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class KV{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,we.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Me(ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,we.Z)(function*(a,u){const f=Qe(a),_=ww(f.serializer)+"/documents",w={documents:u.map(V=>bw(f.serializer,V))},I=yield f.Ao("BatchGetDocuments",_,w,u.length),M=new Map;I.forEach(V=>{const q=function g2(n,e){return"found"in e?function(t,i){_t(!!i.found);const r=Hc(t,i.found.name),a=zi(i.found.updateTime),u=i.found.createTime?zi(i.found.createTime):Ct.min(),f=new Jr({mapValue:{fields:i.found.fields}});return si.newFoundDocument(r,a,u,f)}(n,e):"missing"in e?function(t,i){_t(!!i.missing),_t(!!i.readTime);const r=Hc(t,i.missing),a=zi(i.readTime);return si.newNoDocument(r,a)}(n,e):rt()}(f.serializer,V);M.set(q.key.toString(),q)});const P=[];return u.forEach(V=>{const q=M.get(V.toString());_t(!!q),P.push(q)}),P}),function(a,u){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ny(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,we.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const a=Ke.fromPath(r);e.mutations.push(new AM(a,e.precondition(a)))}),yield(i=(0,we.Z)(function*(r,a){const u=Qe(r),f=ww(u.serializer)+"/documents",_={writes:a.map(w=>Ew(u.serializer,w))};yield u.po("Commit",f,_)}),function(r,a){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw rt();t=Ct.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Me(ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ct.min())?yi.exists(!1):yi.updateTime(t):yi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ct.min()))throw new Me(ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return yi.updateTime(t)}return yi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class YV{constructor(e,t,i,r,a){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=a,this.Fc=i.maxAttempts,this.Lo=new ax(this.asyncQueue,"transaction_retry")}run(){this.Fc-=1,this.Bc()}Bc(){var e=this;this.Lo.xo((0,we.Z)(function*(){const t=new KV(e.datastore),i=e.Lc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(a=>{e.qc(a)}))}).catch(r=>{e.qc(r)})}))}Lc(e){try{const t=this.updateFunction(e);return!km(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}qc(e){this.Fc>0&&this.Uc(e)?(this.Fc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Bc(),Promise.resolve()))):this.deferred.reject(e)}Uc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Xk(t)}return!1}}class QV{constructor(e,t,i,r){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=tr.UNAUTHENTICATED,this.clientId=sT.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,we.Z)(function*(f){Le("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Le("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,we.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Me(ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Gy(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function HT(n,e){return sR.apply(this,arguments)}function sR(){return sR=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,we.Z)(function*(a){i.isEqual(a)||(yield YO(e.localStore,a),i=a)});return function(a){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),sR.apply(this,arguments)}function oR(n,e){return aR.apply(this,arguments)}function aR(){return aR=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield lR(n);Le("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>fP(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>fP(e.remoteStore,a)),n._onlineComponents=e}),aR.apply(this,arguments)}function SP(n){return"FirebaseError"===n.name?n.code===ce.FAILED_PRECONDITION||n.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function lR(n){return cR.apply(this,arguments)}function cR(){return cR=(0,we.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Le("FirestoreClient","Using user provided OfflineComponentProvider");try{yield HT(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!SP(t))throw t;jo("Error using user provided cache. Falling back to memory cache: "+t),yield HT(n,new Pw)}}else Le("FirestoreClient","Using default OfflineComponentProvider"),yield HT(n,new Pw);return n._offlineComponents}),cR.apply(this,arguments)}function jT(n){return uR.apply(this,arguments)}function uR(){return uR=(0,we.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Le("FirestoreClient","Using user provided OnlineComponentProvider"),yield oR(n,n._uninitializedComponentsProvider._online)):(Le("FirestoreClient","Using default OnlineComponentProvider"),yield oR(n,new Ky))),n._onlineComponents}),uR.apply(this,arguments)}function AP(n){return lR(n).then(e=>e.persistence)}function $T(n){return lR(n).then(e=>e.localStore)}function MP(n){return jT(n).then(e=>e.remoteStore)}function dR(n){return jT(n).then(e=>e.syncEngine)}function Yy(n){return hR.apply(this,arguments)}function hR(){return hR=(0,we.Z)(function*(n){const e=yield jT(n),t=e.eventManager;return t.onListen=MV.bind(null,e.syncEngine),t.onUnlisten=xV.bind(null,e.syncEngine),t}),hR.apply(this,arguments)}function RP(n,e,t={}){const i=new gi;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(r,a,u,f,_){const w=new BT({next:M=>{a.enqueueAndForget(()=>Mx(r,I));const P=M.docs.has(u);!P&&M.fromCache?_.reject(new Me(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&M.fromCache&&f&&"server"===f.source?_.reject(new Me(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),I=new kx(Ry(u.path),w,{includeMetadataChanges:!0,Uu:!0});return Sx(r,I)}(yield Yy(n),n.asyncQueue,e,t,i)})),i.promise}function kP(n,e,t={}){const i=new gi;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(r,a,u,f,_){const w=new BT({next:M=>{a.enqueueAndForget(()=>Mx(r,I)),M.fromCache&&"server"===f.source?_.reject(new Me(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(M)},error:M=>_.reject(M)}),I=new kx(u,w,{includeMetadataChanges:!0,Uu:!0});return Sx(r,I)}(yield Yy(n),n.asyncQueue,e,t,i)})),i.promise}const OP=new Map;function fR(n,e,t){if(!t)throw new Me(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function PP(n,e,t,i){if(!0===e&&!0===i)throw new Me(ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function NP(n){if(!Ke.isDocumentKey(n))throw new Me(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function FP(n){if(Ke.isDocumentKey(n))throw new Me(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function zT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":rt()}function mn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Me(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=zT(n);throw new Me(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function LP(n,e){if(e<=0)throw new Me(ce.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class VP{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Me(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Me(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!this.experimentalForceLongPolling&&void 0!==e.experimentalAutoDetectLongPolling&&!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nw{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VP({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Me(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Me(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VP(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new tM;switch(t.type){case"firstParty":return new iM(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Me(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=OP.get(e);t&&(Le("ComponentProvider","Removing Datastore"),OP.delete(e),t.terminate())}(this),Promise.resolve()}}class oi{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new oi(this.firestore,e,this._key)}}class es{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new es(this.firestore,e,this._query)}}class jc extends es{constructor(e,t,i){super(e,t,Ry(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new oi(this.firestore,null,new Ke(e))}withConverter(e){return new jc(this.firestore,e,this._path)}}function BP(n,e,...t){if(n=(0,vn.m9)(n),fR("collection","path",e),n instanceof Nw){const i=fn.fromString(e,...t);return FP(i),new jc(n,null,i)}{if(!(n instanceof oi||n instanceof jc))throw new Me(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(fn.fromString(e,...t));return FP(i),new jc(n.firestore,null,i)}}function GT(n,e,...t){if(n=(0,vn.m9)(n),1===arguments.length&&(e=sT.A()),fR("doc","path",e),n instanceof Nw){const i=fn.fromString(e,...t);return NP(i),new oi(n,null,new Ke(i))}{if(!(n instanceof oi||n instanceof jc))throw new Me(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(fn.fromString(e,...t));return NP(i),new oi(n.firestore,n instanceof jc?n.converter:null,new Ke(i))}}function HP(n,e){return n=(0,vn.m9)(n),e=(0,vn.m9)(e),(n instanceof oi||n instanceof jc)&&(e instanceof oi||e instanceof jc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function pR(n,e){return n=(0,vn.m9)(n),e=(0,vn.m9)(e),n instanceof es&&e instanceof es&&n.firestore===e.firestore&&dw(n._query,e._query)&&n.converter===e.converter}class aU{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new ax(this,"async_queue_retry"),this.Yc=()=>{const t=LT();t&&Le("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Lo.ko()};const e=LT();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;const t=LT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise(()=>{});const t=new gi;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Gc.push(e),this.ta()))}ta(){var e=this;return(0,we.Z)(function*(){if(0!==e.Gc.length){try{yield e.Gc[0](),e.Gc.shift(),e.Lo.reset()}catch(t){if(!Pl(t))throw t;Le("AsyncQueue","Operation failed with retryable error: "+t)}e.Gc.length>0&&e.Lo.xo(()=>e.ta())}})()}Zc(e){const t=this.Kc.then(()=>(this.Wc=!0,e().catch(i=>{throw this.zc=i,this.Wc=!1,mi("INTERNAL UNHANDLED ERROR: ",function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),u}(i)),i}).then(i=>(this.Wc=!1,i))));return this.Kc=t,t}enqueueAfterDelay(e,t,i){this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);const r=Dx.createAndSchedule(this,e,t,i,a=>this.ea(a));return this.jc.push(r),r}Xc(){this.zc&&rt()}verifyOperationInProgress(){}na(){var e=this;return(0,we.Z)(function*(){let t;do{t=e.Kc,yield t}while(t!==e.Kc)})()}sa(e){for(const t of this.jc)if(t.timerId===e)return!0;return!1}ia(e){return this.na().then(()=>{this.jc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.jc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.na()})}ra(e){this.Jc.push(e)}ea(e){const t=this.jc.indexOf(e);this.jc.splice(t,1)}}function mR(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class lU{constructor(){this._progressObserver={},this._taskCompletionResolver=new gi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ai extends Nw{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new aU,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||jP(this),this._firestoreClient.terminate()}}function Gi(n){return n._firestoreClient||jP(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function jP(n){var e,t,i;const r=n._freezeSettings(),a=(f=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new VL(n._databaseId,f,n._persistenceKey,(w=r).host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,w.useFetchStreams));var f,w;n._firestoreClient=new QV(n._authCredentials,n._appCheckCredentials,n._queue,a),(null===(t=r.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(i=r.cache)||void 0===i?void 0:i._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function $P(n,e,t){const i=new gi;return n.asyncQueue.enqueue((0,we.Z)(function*(){try{yield HT(n,t),yield oR(n,e),i.resolve()}catch(r){const a=r;if(!SP(a))throw a;jo("Error enabling indexeddb cache. Falling back to memory cache: "+a),i.reject(a)}})).then(()=>i.promise)}function zP(n){if(n._initialized||n._terminated)throw new Me(ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class $c{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $c(Ai.fromBase64String(e))}catch(t){throw new Me(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new $c(Ai.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ud{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Me(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _i(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class qm{constructor(e){this._methodName=e}}class qT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Me(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Me(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ht(this._lat,e._lat)||Ht(this._long,e._long)}}const vU=/^__.*__$/;class bU{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new ad(e,this.data,this.fieldMask,t,this.fieldTransforms):new Py(e,this.data,t,this.fieldTransforms)}}class GP{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ad(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function qP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt()}}class ZT{constructor(e,t,i,r,a,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===a&&this.oa(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(e){return new ZT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ca({path:i,ha:!1});return r.la(e),r}fa(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ca({path:i,ha:!1});return r.oa(),r}da(e){return this.ca({path:void 0,ha:!0})}_a(e){return YT(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}oa(){if(this.path)for(let e=0;e<this.path.length;e++)this.la(this.path.get(e))}la(e){if(0===e.length)throw this._a("Document fields must not be empty");if(qP(this.ua)&&vU.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class wU{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Rw(e)}ga(e,t,i,r=!1){return new ZT({ua:e,methodName:t,ma:i,path:_i.emptyPath(),ha:!1,wa:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zm(n){const e=n._freezeSettings(),t=Rw(n._databaseId);return new wU(n._databaseId,!!e.ignoreUndefinedProperties,t)}function WT(n,e,t,i,r,a={}){const u=n.ga(a.merge||a.mergeFields?2:0,e,t,r);vR("Data must be an object, but it was:",u,i);const f=KP(i,u);let _,w;if(a.merge)_=new rn(u.fieldMask),w=u.fieldTransforms;else if(a.mergeFields){const I=[];for(const M of a.mergeFields){const P=Vw(e,M,t);if(!u.contains(P))throw new Me(ce.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);QP(I,P)||I.push(P)}_=new rn(I),w=u.fieldTransforms.filter(M=>_.covers(M.field))}else _=null,w=u.fieldTransforms;return new bU(new Jr(f),_,w)}class Lw extends qm{_toFieldTransform(e){if(2!==e.ua)throw e._a(1===e.ua?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lw}}function ZP(n,e,t){return new ZT({ua:3,ma:e.settings.ma,methodName:n._methodName,ha:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class gR extends qm{_toFieldTransform(e){return new mw(e.path,new ky)}isEqual(e){return e instanceof gR}}class EU extends qm{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=ZP(this,e,!0),i=this.ya.map(a=>Wm(a,t)),r=new Lm(i);return new mw(e.path,r)}isEqual(e){return this===e}}class CU extends qm{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=ZP(this,e,!0),i=this.ya.map(a=>Wm(a,t)),r=new Vm(i);return new mw(e.path,r)}isEqual(e){return this===e}}class IU extends qm{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=new Oy(e.serializer,Hk(e.serializer,this.pa));return new mw(e.path,t)}isEqual(e){return this===e}}function _R(n,e,t,i){const r=n.ga(1,e,t);vR("Data must be an object, but it was:",r,i);const a=[],u=Jr.empty();ge(i,(_,w)=>{const I=KT(e,_,t);w=(0,vn.m9)(w);const M=r.fa(I);if(w instanceof Lw)a.push(I);else{const P=Wm(w,M);null!=P&&(a.push(I),u.set(I,P))}});const f=new rn(a);return new GP(u,f,r.fieldTransforms)}function yR(n,e,t,i,r,a){const u=n.ga(1,e,t),f=[Vw(e,i,t)],_=[r];if(a.length%2!=0)throw new Me(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let P=0;P<a.length;P+=2)f.push(Vw(e,a[P])),_.push(a[P+1]);const w=[],I=Jr.empty();for(let P=f.length-1;P>=0;--P)if(!QP(w,f[P])){const V=f[P];let q=_[P];q=(0,vn.m9)(q);const ne=u.fa(V);if(q instanceof Lw)w.push(V);else{const _e=Wm(q,ne);null!=_e&&(w.push(V),I.set(V,_e))}}const M=new rn(w);return new GP(I,M,u.fieldTransforms)}function WP(n,e,t,i=!1){return Wm(t,n.ga(i?4:3,e))}function Wm(n,e){if(YP(n=(0,vn.m9)(n)))return vR("Unsupported field value:",e,n),KP(n,e);if(n instanceof qm)return function(t,i){if(!qP(i.ua))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ha&&4!==e.ua)throw e._a("Nested arrays are not supported");return function(t,i){const r=[];let a=0;for(const u of t){let f=Wm(u,i.da(a));null==f&&(f={nullValue:"NULL_VALUE"}),r.push(f),a++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,vn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Hk(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=ri.fromDate(t);return{timestampValue:Fy(i.serializer,r)}}if(t instanceof ri){const r=new ri(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Fy(i.serializer,r)}}if(t instanceof qT)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof $c)return{bytesValue:lO(i.serializer,t._byteString)};if(t instanceof oi){const r=i.databaseId,a=t.firestore._databaseId;if(!a.isEqual(r))throw i._a(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:NM(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${zT(t)}`)}(n,e)}function KP(n,e){const t={};return Be(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ge(n,(i,r)=>{const a=Wm(r,e.aa(i));null!=a&&(t[i]=a)}),{mapValue:{fields:t}}}function YP(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ri||n instanceof qT||n instanceof $c||n instanceof oi||n instanceof qm)}function vR(n,e,t){if(!YP(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=zT(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function Vw(n,e,t){if((e=(0,vn.m9)(e))instanceof ud)return e._internalPath;if("string"==typeof e)return KT(n,e);throw YT("Field path arguments must be of type string or ",n,!1,void 0,t)}const TU=new RegExp("[~\\*/\\[\\]]");function KT(n,e,t){if(e.search(TU)>=0)throw YT(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ud(...e.split("."))._internalPath}catch{throw YT(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function YT(n,e,t,i,r){const a=i&&!i.isEmpty(),u=void 0!==r;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(a||u)&&(_+=" (found",a&&(_+=` in field ${i}`),u&&(_+=` in document ${r}`),_+=")"),new Me(ce.INVALID_ARGUMENT,f+n+_)}function QP(n,e){return n.some(t=>t.isEqual(e))}class Uw{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new oi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new DU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(QT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class DU extends Uw{data(){return super.data()}}function QT(n,e){return"string"==typeof e?KT(n,e):e instanceof ud?e._internalPath:e._delegate._internalPath}function XP(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Me(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bR{}class Bw extends bR{}function hf(n,e,...t){let i=[];e instanceof bR&&i.push(e),i=i.concat(t),function(r){const a=r.filter(f=>f instanceof Qy).length,u=r.filter(f=>f instanceof Hw).length;if(a>1||a>0&&u>0)throw new Me(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Hw extends Bw{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Hw(e,t,i)}_apply(e){const t=this._parse(e);return nN(e._query,t),new es(e.firestore,e.converter,TM(e._query,t))}_parse(e){const t=Zm(e.firestore);return function(r,a,u,f,_,w,I){let M;if(_.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Me(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){tN(I,w);const P=[];for(const V of I)P.push(eN(f,r,V));M={arrayValue:{values:P}}}else M=eN(f,r,I)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||tN(I,w),M=WP(u,"where",I,"in"===w||"not-in"===w);return pn.create(_,w,M)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Qy extends bR{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Qy(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Fn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let a=i;const u=r.getFlattenedFilters();for(const f of u)nN(a,f),a=TM(a,f)}(e._query,t),new es(e.firestore,e.converter,TM(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class wR extends Bw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new wR(e,t)}_apply(e){const t=function(i,r,a){if(null!==i.startAt)throw new Me(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Me(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new My(r,a);return function(f,_){if(null===CM(f)){const w=mT(f);null!==w&&iN(0,w,_.field)}}(i,u),u}(e._query,this._field,this._direction);return new es(e.firestore,e.converter,function(i,r){const a=i.explicitOrderBy.concat([r]);return new sd(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class XT extends Bw{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new XT(e,t,i)}_apply(e){return new es(e.firestore,e.converter,gT(e._query,this._limit,this._limitType))}}class JT extends Bw{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new JT(e,t,i)}_apply(e){const t=JP(e,this.type,this._docOrFields,this._inclusive);return new es(e.firestore,e.converter,(r=t,new sd((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class eD extends Bw{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new eD(e,t,i)}_apply(e){const t=JP(e,this.type,this._docOrFields,this._inclusive);return new es(e.firestore,e.converter,(r=t,new sd((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function JP(n,e,t,i){if(t[0]=(0,vn.m9)(t[0]),t[0]instanceof Uw)return function(r,a,u,f,_){if(!f)throw new Me(ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const w=[];for(const I of Fm(r))if(I.field.isKeyField())w.push(Pm(a,f.key));else{const M=f.data.field(I.field);if(Qh(M))throw new Me(ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const P=I.field.canonicalString();throw new Me(ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${P}' (used as the orderBy) does not exist.`)}w.push(M)}return new rf(w,_)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Zm(n.firestore);return function(a,u,f,_,w,I){const M=a.explicitOrderBy;if(w.length>M.length)throw new Me(ce.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const P=[];for(let V=0;V<w.length;V++){const q=w[V];if(M[V].field.isKeyField()){if("string"!=typeof q)throw new Me(ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof q}`);if(!IM(a)&&-1!==q.indexOf("/"))throw new Me(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${q}' contains a slash.`);const ne=a.path.child(fn.fromString(q));if(!Ke.isDocumentKey(ne))throw new Me(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${ne}' is not because it contains an odd number of segments.`);const _e=new Ke(ne);P.push(Pm(u,_e))}else{const ne=WP(f,_,q);P.push(ne)}}return new rf(P,I)}(n._query,n.firestore._databaseId,r,e,t,i)}}function eN(n,e,t){if("string"==typeof(t=(0,vn.m9)(t))){if(""===t)throw new Me(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!IM(e)&&-1!==t.indexOf("/"))throw new Me(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(fn.fromString(t));if(!Ke.isDocumentKey(i))throw new Me(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Pm(n,new Ke(i))}if(t instanceof oi)return Pm(n,t._key);throw new Me(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zT(t)}.`)}function tN(n,e){if(!Array.isArray(n)||0===n.length)throw new Me(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nN(n,e){if(e.isInequality()){const i=mT(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new Me(ce.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const a=CM(n);null!==a&&iN(0,r,a)}const t=function(i,r){for(const a of i)for(const u of a.getFlattenedFilters())if(r.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Me(ce.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function iN(n,e,t){if(!t.isEqual(e))throw new Me(ce.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class ER{convertValue(e,t="none"){switch(tf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ti(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(zo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw rt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ge(e,(r,a)=>{i[r]=this.convertValue(a,t)}),i}convertGeoPoint(e){return new qT(ti(e.latitude),ti(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Xh(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(rd(e));default:return null}}convertTimestamp(e){const t=ka(e);return new ri(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=fn.fromString(e);_t(yO(i));const r=new Jh(i.get(1),i.get(3)),a=new Ke(i.popFirst(5));return r.isEqual(t)||mi(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function tD(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class NU extends ER{constructor(e){super(),this.firestore=e}convertBytes(e){return new $c(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new oi(this.firestore,null,t)}}class Km{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dd extends Uw{constructor(e,t,i,r,a,u){super(e,t,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new jw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(QT("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class jw extends dd{data(e={}){return super.data(e)}}class ff{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Km(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new jw(this._firestore,this._userDataWriter,i.key,i,new Km(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Me(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new jw(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Km(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const f=new jw(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Km(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,w=-1;return 0!==u.type&&(_=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),1!==u.type&&(a=a.add(u.doc),w=a.indexOf(u.doc.key)),{type:LU(u.type),doc:f,oldIndex:_,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function LU(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt()}}function sN(n,e){return n instanceof dd&&e instanceof dd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof ff&&e instanceof ff&&n._firestore===e._firestore&&pR(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class pf extends ER{constructor(e){super(),this.firestore=e}convertBytes(e){return new $c(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new oi(this.firestore,null,t)}}function oN(n,e,t){n=mn(n,oi);const i=mn(n.firestore,ai),r=tD(n.converter,e,t);return Xy(i,[WT(Zm(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,yi.none())])}function aN(n,e,t,...i){n=mn(n,oi);const r=mn(n.firestore,ai),a=Zm(r);let u;return u="string"==typeof(e=(0,vn.m9)(e))||e instanceof ud?yR(a,"updateDoc",n._key,e,t,i):_R(a,"updateDoc",n._key,e),Xy(r,[u.toMutation(n._key,yi.exists(!0))])}function lN(n,...e){var t,i,r;n=(0,vn.m9)(n);let a={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||mR(e[u])||(a=e[u],u++);const f={includeMetadataChanges:a.includeMetadataChanges};if(mR(e[u])){const M=e[u];e[u]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[u+1]=null===(i=M.error)||void 0===i?void 0:i.bind(M),e[u+2]=null===(r=M.complete)||void 0===r?void 0:r.bind(M)}let _,w,I;if(n instanceof oi)w=mn(n.firestore,ai),I=Ry(n._key.path),_={next:M=>{e[u]&&e[u](CR(w,n,M))},error:e[u+1],complete:e[u+2]};else{const M=mn(n,es);w=mn(M.firestore,ai),I=M._query;const P=new pf(w);_={next:V=>{e[u]&&e[u](new ff(w,P,M,V))},error:e[u+1],complete:e[u+2]},XP(n._query)}return function(M,P,V,q){const ne=new BT(q),_e=new kx(P,ne,V);return M.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return Sx(yield Yy(M),_e)})),()=>{ne.Sc(),M.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return Mx(yield Yy(M),_e)}))}}(Gi(w),I,f,_)}function Xy(n,e){return function(t,i){const r=new gi;return t.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function RV(n,e,t){return Lx.apply(this,arguments)}(yield dR(t),i,r)})),r.promise}(Gi(n),e)}function CR(n,e,t){const i=t.docs.get(e._key),r=new pf(n);return new dd(n,r,e._key,i,new Km(t.hasPendingWrites,t.fromCache),e.converter)}const tB={maxAttempts:5};class cN{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Zm(e)}set(e,t,i){this._verifyNotCommitted();const r=mf(e,this._firestore),a=tD(r.converter,t,i),u=WT(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,yi.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const a=mf(e,this._firestore);let u;return u="string"==typeof(t=(0,vn.m9)(t))||t instanceof ud?yR(this._dataReader,"WriteBatch.update",a._key,t,i,r):_R(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(u.toMutation(a._key,yi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=mf(e,this._firestore);return this._mutations=this._mutations.concat(new Ny(t._key,yi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Me(ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function mf(n,e){if((n=(0,vn.m9)(n)).firestore!==e)throw new Me(ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class nB extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Zm(e)}get(e){const t=mf(e,this._firestore),i=new NU(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return rt();const a=r[0];if(a.isFoundDocument())return new Uw(this._firestore,i,a.key,a,t.converter);if(a.isNoDocument())return new Uw(this._firestore,i,t._key,null,t.converter);throw rt()})}set(e,t,i){const r=mf(e,this._firestore),a=tD(r.converter,t,i),u=WT(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(e,t,i,...r){const a=mf(e,this._firestore);let u;return u="string"==typeof(t=(0,vn.m9)(t))||t instanceof ud?yR(this._dataReader,"Transaction.update",a._key,t,i,r):_R(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,u),this}delete(e){const t=mf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=mf(e,this._firestore),i=new pf(this._firestore);return super.get(e).then(r=>new dd(this._firestore,i,t._key,r._document,new Km(!1,!1),t.converter))}}function IR(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Me("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function dN(){if(typeof Uint8Array>"u")throw new Me("unimplemented","Uint8Arrays are not available in this environment.")}function hN(){if(!function sw(){return typeof atob<"u"}())throw new Me("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Wh=so.SDK_VERSION,(0,so._registerComponent)(new O_.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const a=t.getProvider("app").getImmediate(),u=new ai(new rT(t.getProvider("auth-internal")),new ik(t.getProvider("app-check-internal")),function(f,_){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Me(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jh(f.options.projectId,_)}(a,i),a);return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC").setMultipleInstances(!0)),(0,so.registerVersion)(JI,"3.11.0",n),(0,so.registerVersion)(JI,"3.11.0","esm2017")}();class $w{constructor(e){this._delegate=e}static fromBase64String(e){return hN(),new $w($c.fromBase64String(e))}static fromUint8Array(e){return dN(),new $w($c.fromUint8Array(e))}toBase64(){return hN(),this._delegate.toBase64()}toUint8Array(){return dN(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function TR(n){return function dB(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class hB{enableIndexedDbPersistence(e,t){return function uU(n,e){zP(n=mn(n,ai));const t=Gi(n);if(t._uninitializedComponentsProvider)throw new Me(ce.FAILED_PRECONDITION,"SDK cache is already specified.");jo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new Ky;return $P(t,r,new rR(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function dU(n){zP(n=mn(n,ai));const e=Gi(n);if(e._uninitializedComponentsProvider)throw new Me(ce.FAILED_PRECONDITION,"SDK cache is already specified.");jo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new Ky;return $P(e,i,new TP(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function hU(n){if(n._initialized&&!n._terminated)throw new Me(ce.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new gi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{yield(t=(0,we.Z)(function*(i){if(!$o.D())return Promise.resolve();const r=i+"main";yield $o.delete(r)}),function(i){return t.apply(this,arguments)})(YM(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class fN{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Jh||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&jo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function UP(n,e,t,i={}){var r;const a=(n=mn(n,Nw))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&jo("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let u,f;if("string"==typeof i.mockUserToken)u=i.mockUserToken,f=tr.MOCK_USER;else{u=(0,vn.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new Me(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new tr(_)}n._authCredentials=new iT(new ew(u,f))}}(this._delegate,e,t,i)}enableNetwork(){return function pU(n){return function XV(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield AP(n),t=yield MP(n);return e.setNetworkEnabled(!0),function(i){const r=Qe(i);return r.Au.delete(0),kw(r)}(t)}))}(Gi(n=mn(n,ai)))}(this._delegate)}disableNetwork(){return function mU(n){return function JV(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield AP(n),t=yield MP(n);return e.setNetworkEnabled(!1),(i=(0,we.Z)(function*(r){const a=Qe(r);a.Au.add(0),yield jy(a),a.Pu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(Gi(n=mn(n,ai)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,PP("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function fU(n){return function(e){const t=new gi;return e.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function NV(n,e){return jx.apply(this,arguments)}(yield dR(e),t)})),t.promise}(Gi(n=mn(n,ai)))}(this._delegate)}onSnapshotsInSync(e){return function qU(n,e){return function nU(n,e){const t=new BT(e);return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return i=yield Yy(n),r=t,Qe(i).Nu.add(r),void r.next();var i,r})),()=>{t.Sc(),n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return i=yield Yy(n),r=t,void Qe(i).Nu.delete(r);var i,r}))}}(Gi(n=mn(n,ai)),mR(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Me("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Jy(this,BP(this._delegate,e))}catch(t){throw Ls(t,"collection()","Firestore.collection()")}}doc(e){try{return new Oa(this,GT(this._delegate,e))}catch(t){throw Ls(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Vs(this,function oU(n,e){if(n=mn(n,Nw),fR("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Me(ce.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new es(n,null,(t=e,new sd(fn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ls(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function iB(n,e,t){n=mn(n,ai);const i=Object.assign(Object.assign({},tB),t);return function(r){if(r.maxAttempts<1)throw new Me(ce.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,a,u){const f=new gi;return r.asyncQueue.enqueueAndForget((0,we.Z)(function*(){const _=yield function xP(n){return jT(n).then(e=>e.datastore)}(r);new YV(r.asyncQueue,_,u,a,f).run()})),f.promise}(Gi(n),r=>e(new nB(n,r)),i)}(this._delegate,t=>e(new pN(this,t)))}batch(){return Gi(this._delegate),new mN(new cN(this._delegate,e=>Xy(this._delegate,e)))}loadBundle(e){return function gU(n,e){const t=Gi(n=mn(n,ai)),i=new lU;return function iU(n,e,t,i){const r=function(a,u){let f;return f="string"==typeof a?eO().encode(a):a,_=function(_,w){if(_ instanceof Uint8Array)return DP(_,w);if(_ instanceof ArrayBuffer)return DP(new Uint8Array(_),w);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new WV(_,u);var _}(t,Rw(e));n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){!function qV(n,e,t){const i=Qe(n);var r;(r=(0,we.Z)(function*(a,u,f){try{const _=yield u.getMetadata();if(yield function(P,V){const q=Qe(P),ne=zi(V.createTime);return q.persistence.runTransaction("hasNewerBundle","readonly",_e=>q.Ls.getBundleMetadata(_e,V.id)).then(_e=>!!_e&&_e.createTime.compareTo(ne)>=0)}(a.localStore,_))return yield u.close(),f._completeWith({taskState:"Success",documentsLoaded:(P=_).totalDocuments,bytesLoaded:P.totalBytes,totalDocuments:P.totalDocuments,totalBytes:P.totalBytes}),Promise.resolve(new Set);f._updateProgress(gP(_));const w=new TV(_,a.localStore,u.serializer);let I=yield u.Pc();for(;I;){const P=yield w.ju(I);P&&f._updateProgress(P),I=yield u.Pc()}const M=yield w.complete();return yield cd(a,M.Hu,void 0),yield function(P,V){const q=Qe(P);return q.persistence.runTransaction("Save bundle","readwrite",ne=>q.Ls.saveBundleMetadata(ne,V))}(a.localStore,_),f._completeWith(M.progress),Promise.resolve(M.Wu)}catch(_){return jo("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var P}),function(a,u,f){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield dR(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function _U(n,e){return function rU(n,e){return n.asyncQueue.enqueue((0,we.Z)(function*(){return function(t,i){const r=Qe(t);return r.persistence.runTransaction("Get named query","readonly",a=>r.Ls.getNamedQuery(a,i))}(yield $T(n),e)}))}(Gi(n=mn(n,ai)),e).then(t=>t?new es(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Vs(this,t):null)}}class nD extends ER{constructor(e){super(),this.firestore=e}convertBytes(e){return new $w(new $c(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Oa.forKey(t,this.firestore,null)}}class pN{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new nD(e)}get(e){const t=Qm(e);return this._delegate.get(t).then(i=>new zw(this._firestore,new dd(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=Qm(e);return i?(IR("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=Qm(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=Qm(e);return this._delegate.delete(t),this}}class mN{constructor(e){this._delegate=e}set(e,t,i){const r=Qm(e);return i?(IR("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=Qm(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=Qm(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Ym{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new jw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Gw(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Ym.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let a=r.get(t);return a||(a=new Ym(e,new nD(e),t),r.set(t,a)),a}}Ym.INSTANCES=new WeakMap;class Oa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new nD(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Me("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Oa(t,new oi(t._delegate,i,new Ke(e)))}static forKey(e,t,i){return new Oa(t,new oi(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Jy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Jy(this.firestore,BP(this._delegate,e))}catch(t){throw Ls(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,vn.m9)(e))instanceof oi&&HP(this._delegate,e)}set(e,t){t=IR("DocumentReference.set",t);try{return t?oN(this._delegate,e,t):oN(this._delegate,e)}catch(i){throw Ls(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?aN(this._delegate,e):aN(this._delegate,e,t,...i)}catch(r){throw Ls(r,"updateDoc()","DocumentReference.update()")}}delete(){return function zU(n){return Xy(mn(n.firestore,ai),[new Ny(n._key,yi.none())])}(this._delegate)}onSnapshot(...e){const t=gN(e),i=_N(e,r=>new zw(this.firestore,new dd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return lN(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function UU(n){n=mn(n,oi);const e=mn(n.firestore,ai),t=Gi(e),i=new pf(e);return function eU(n,e){const t=new gi;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(i=(0,we.Z)(function*(r,a,u){try{const f=yield function(_,w){const I=Qe(_);return I.persistence.runTransaction("read document","readonly",M=>I.localDocuments.getDocument(M,w))}(r,a);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new Me(ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=Gy(f,`Failed to get document '${a} from cache`);u.reject(_)}}),function(r,a,u){return i.apply(this,arguments)})(yield $T(n),e,t);var i})),t.promise}(t,n._key).then(r=>new dd(e,i,n._key,r,new Km(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function BU(n){n=mn(n,oi);const e=mn(n.firestore,ai);return RP(Gi(e),n._key,{source:"server"}).then(t=>CR(e,n,t))}(this._delegate):function VU(n){n=mn(n,oi);const e=mn(n.firestore,ai);return RP(Gi(e),n._key).then(t=>CR(e,n,t))}(this._delegate),t.then(i=>new zw(this.firestore,new dd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Oa(this.firestore,this._delegate.withConverter(e?Ym.getInstance(this.firestore,e):null))}}function Ls(n,e,t){return n.message=n.message.replace(e,t),n}function gN(n){for(const e of n)if("object"==typeof e&&!TR(e))return e;return{}}function _N(n,e){var t,i;let r;return r=TR(n[0])?n[0]:TR(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{r.next&&r.next(e(a))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class zw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Oa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return sN(this._delegate,e._delegate)}}class Gw extends zw{data(e){const t=this._delegate.data(e);return function nT(n,e){n||rt()}(void 0!==t),t}}class Vs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new nD(e)}where(e,t,i){try{return new Vs(this.firestore,hf(this._delegate,function SU(n,e,t){const i=e,r=QT("where",n);return Hw._create(r,i,t)}(e,t,i)))}catch(r){throw Ls(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Vs(this.firestore,hf(this._delegate,function AU(n,e="asc"){const t=e,i=QT("orderBy",n);return wR._create(i,t)}(e,t)))}catch(i){throw Ls(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Vs(this.firestore,hf(this._delegate,function MU(n){return LP("limit",n),XT._create("limit",n,"F")}(e)))}catch(t){throw Ls(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Vs(this.firestore,hf(this._delegate,function xU(n){return LP("limitToLast",n),XT._create("limitToLast",n,"L")}(e)))}catch(t){throw Ls(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Vs(this.firestore,hf(this._delegate,function RU(...n){return JT._create("startAt",n,!0)}(...e)))}catch(t){throw Ls(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Vs(this.firestore,hf(this._delegate,function kU(...n){return JT._create("startAfter",n,!1)}(...e)))}catch(t){throw Ls(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Vs(this.firestore,hf(this._delegate,function OU(...n){return eD._create("endBefore",n,!1)}(...e)))}catch(t){throw Ls(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Vs(this.firestore,hf(this._delegate,function PU(...n){return eD._create("endAt",n,!0)}(...e)))}catch(t){throw Ls(t,"endAt()","Query.endAt()")}}isEqual(e){return pR(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function jU(n){n=mn(n,es);const e=mn(n.firestore,ai),t=Gi(e),i=new pf(e);return function tU(n,e){const t=new gi;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(i=(0,we.Z)(function*(r,a,u){try{const f=yield OT(r,a,!0),_=new vP(a,f.sr),w=_.nc(f.documents),I=_.applyChanges(w,!1);u.resolve(I.snapshot)}catch(f){const _=Gy(f,`Failed to execute query '${a} against cache`);u.reject(_)}}),function(r,a,u){return i.apply(this,arguments)})(yield $T(n),e,t);var i})),t.promise}(t,n._query).then(r=>new ff(e,i,n,r))}(this._delegate):"server"===e?.source?function $U(n){n=mn(n,es);const e=mn(n.firestore,ai),t=Gi(e),i=new pf(e);return kP(t,n._query,{source:"server"}).then(r=>new ff(e,i,n,r))}(this._delegate):function HU(n){n=mn(n,es);const e=mn(n.firestore,ai),t=Gi(e),i=new pf(e);return XP(n._query),kP(t,n._query).then(r=>new ff(e,i,n,r))}(this._delegate),t.then(i=>new DR(this.firestore,new ff(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=gN(e),i=_N(e,r=>new DR(this.firestore,new ff(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return lN(this._delegate,t,i)}withConverter(e){return new Vs(this.firestore,this._delegate.withConverter(e?Ym.getInstance(this.firestore,e):null))}}class pB{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Gw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class DR{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Vs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Gw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new pB(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Gw(this._firestore,i))})}isEqual(e){return sN(this._delegate,e._delegate)}}class Jy extends Vs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Oa(this.firestore,e):null}doc(e){try{return new Oa(this.firestore,void 0===e?GT(this._delegate):GT(this._delegate,e))}catch(t){throw Ls(t,"doc()","CollectionReference.doc()")}}add(e){return function GU(n,e){const t=mn(n.firestore,ai),i=GT(n),r=tD(n.converter,e);return Xy(t,[WT(Zm(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,yi.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Oa(this.firestore,t))}isEqual(e){return HP(this._delegate,e._delegate)}withConverter(e){return new Jy(this.firestore,this._delegate.withConverter(e?Ym.getInstance(this.firestore,e):null))}}function Qm(n){return mn(n,oi)}class SR{constructor(...e){this._delegate=new ud(...e)}static documentId(){return new SR(_i.keyField().canonicalString())}isEqual(e){return(e=(0,vn.m9)(e))instanceof ud&&this._delegate._internalPath.isEqual(e._internalPath)}}class Xm{constructor(e){this._delegate=e}static serverTimestamp(){const e=function sB(){return new gR("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Xm(e)}static delete(){const e=function rB(){return new Lw("deleteField")}();return e._methodName="FieldValue.delete",new Xm(e)}static arrayUnion(...e){const t=function oB(...n){return new EU("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Xm(t)}static arrayRemove(...e){const t=function aB(...n){return new CU("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Xm(t)}static increment(e){const t=function lB(n){return new IU("increment",n)}(e);return t._methodName="FieldValue.increment",new Xm(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const mB={Firestore:fN,GeoPoint:qT,Timestamp:ri,Blob:$w,Transaction:pN,WriteBatch:mN,DocumentReference:Oa,DocumentSnapshot:zw,Query:Vs,QueryDocumentSnapshot:Gw,QuerySnapshot:DR,CollectionReference:Jy,FieldPath:SR,FieldValue:Xm,setLogLevel:function fB(n){!function tT(n){Rl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function yN(n,e){return function yB(n,e=Yu.z){return new Wn.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function AR(n,e){return yN(n,e).pipe((0,pt.U)(t=>({payload:t,type:"query"})))}function iD(n,e){return AR(n,e).pipe(Ea(void 0),Yb(),(0,pt.U)(([t,i])=>{const r=i.payload.docChanges(),a=r.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,f)=>{const _=r.find(I=>I.doc.ref.isEqual(u.ref)),w=t?.payload.docs.find(I=>I.ref.isEqual(u.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(u.metadata)||!_&&w&&JSON.stringify(w.metadata)===JSON.stringify(u.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:u}})}),a}))}function vN(n,e,t){return iD(n,t).pipe(Cp((i,r)=>function bB(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function wB(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return MR(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return MR(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return MR(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(a=>a.payload),e),[]),Qb(),(0,pt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function MR(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function bN(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function _B(n){(function gB(n,e){n.INTERNAL.registerComponent(new O_.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},mB)))})(n,(e,t)=>new fN(e,t,new hB)),n.registerVersion("@firebase/firestore-compat","0.3.8")}(_A.Z);class wN{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=iD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,pt.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Ea(void 0),Yb(),Qn(([i,r])=>r.length>0||!i),(0,pt.U)(([i,r])=>r),fr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Cp((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=bN(e);return vN(this.query,t,this.afs.schedulers.outsideAngular).pipe(fr.iC)}valueChanges(e={}){return AR(this.query,this.afs.schedulers.outsideAngular).pipe((0,pt.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),fr.iC)}get(e){return(0,nn.D)(this.query.get(e)).pipe(fr.iC)}add(e){return this.ref.add(e)}doc(e){return new EN(this.ref.doc(e),this.afs)}}class EN{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:a}=CN(i,t);return new wN(r,a,this.afs)}snapshotChanges(){return function vB(n,e){return yN(n,e).pipe(Ea(void 0),Yb(),(0,pt.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(fr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,pt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,nn.D)(this.ref.get(e)).pipe(fr.iC)}}class EB{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?iD(this.query,this.afs.schedulers.outsideAngular).pipe((0,pt.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),Qn(t=>t.length>0),fr.iC):iD(this.query,this.afs.schedulers.outsideAngular).pipe(fr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Cp((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=bN(e);return vN(this.query,t,this.afs.schedulers.outsideAngular).pipe(fr.iC)}valueChanges(e={}){return AR(this.query,this.afs.schedulers.outsideAngular).pipe((0,pt.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),fr.iC)}get(e){return(0,nn.D)(this.query.get(e)).pipe(fr.iC)}}const CB=new l.OlP("angularfire2.enableFirestorePersistence"),IB=new l.OlP("angularfire2.firestore.persistenceSettings"),TB=new l.OlP("angularfire2.firestore.settings"),DB=new l.OlP("angularfire2.firestore.use-emulator");function CN(n,e=(t=>t)){return{query:e(n),ref:n}}let rD=(()=>{class n{constructor(t,i,r,a,u,f,_,w,I,M,P,V,q,ne,_e,$e,nt){this.schedulers=_;const Xe=(0,xo.on)(t,f,i),It=I;M&&mA(Xe,f,P,q,ne,_e,V,$e),[this.firestore,this.persistenceEnabled$]=(0,xo.cc)(`${Xe.name}.firestore`,"AngularFirestore",Xe.name,()=>{const jt=f.runOutsideAngular(()=>Xe.firestore());if(a&&jt.settings(a),It&&jt.useEmulator(...It),r&&!jl(u)){const qt=()=>{try{return(0,nn.D)(jt.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(An){return typeof console<"u"&&console.warn(An),dt(!1)}};return[jt,f.runOutsideAngular(qt)]}return[jt,dt(!1)]},[a,It,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:u}=CN(r,i),f=this.schedulers.ngZone.run(()=>a);return new wN(f,u,this)}collectionGroup(t,i){const r=i||(u=>u),a=this.firestore.collectionGroup(t);return new EB(r(a),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new EN(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(xo.Dh),l.LFG(xo.xv,8),l.LFG(CB,8),l.LFG(TB,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(fr.HU),l.LFG(IB,8),l.LFG(DB,8),l.LFG(Ku,8),l.LFG(JC,8),l.LFG(Kb,8),l.LFG(eI,8),l.LFG(tI,8),l.LFG(fA,8),l.LFG(pA,8),l.LFG(qb,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),ev=(()=>{class n{constructor(t){this.firestore=t}getProducts(){return this.firestore.collection("productos",t=>t.orderBy("nombre","asc")).snapshotChanges()}getProducto(t){return this.firestore.collection("productos").doc(t).snapshotChanges()}agregarproducto(t){return this.firestore.collection("productos").add(t)}deleteProducts(t){return this.firestore.collection("productos").doc(t).delete()}update(t,i){return this.firestore.collection("productos").doc(t).update(i)}updateProducts(t){const i=this.firestore.firestore.batch();return t.forEach(r=>{const a=this.firestore.collection("productos").doc(r.id);i.update(a.ref,r)}),i.commit()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(rD))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),IN=(()=>{class n{constructor(t){this.firestore=t}addReport(t){return this.firestore.collection("reportes").add(t)}getReportes(){return this.firestore.collection("reportes",t=>t.orderBy("fechaCreacion","desc")).snapshotChanges()}obtReports(){return this.firestore.collection("reportes",t=>t.orderBy("fechaCreacion","desc")).snapshotChanges()}deleteProducts(t){return this.firestore.collection("reportes").doc(t).delete()}deleteAllReports(){const t=this.firestore.firestore.batch();return this.firestore.collection("reportes").ref.get().then(i=>(i.forEach(r=>{t.delete(r.ref)}),t.commit())).catch(i=>{console.error("Error al eliminar los reportes:",i)})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(rD))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),SB=(()=>{class n{constructor(t){this.firestore=t}agregarDaily(t){return this.firestore.collection("daily").add(t)}obtDaily(){return this.firestore.collection("daily").snapshotChanges()}deleteDaily(t){return this.firestore.collection("daily").doc(t).delete()}updateDaily(t,i){return this.firestore.collection("daily").doc(t).update(i)}deleteAllDaily(){const t=this.firestore.firestore.batch();return this.firestore.collection("daily").ref.get().then(i=>(i.forEach(r=>{t.delete(r.ref)}),t.commit())).catch(i=>{console.error("Error al eliminar los daily:",i)})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(rD))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const TN=["toast-component",""];function AB(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",5),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.remove())}),l.TgZ(1,"span",6),l._uU(2,"\xd7"),l.qZA()()}}function MB(n,e){if(1&n&&(l.ynx(0),l._uU(1),l.BQk()),2&n){const t=l.oxw(2);l.xp6(1),l.hij("[",t.duplicatesCount+1,"]")}}function xB(n,e){if(1&n&&(l.TgZ(0,"div"),l._uU(1),l.YNc(2,MB,2,1,"ng-container",4),l.qZA()),2&n){const t=l.oxw();l.Tol(t.options.titleClass),l.uIk("aria-label",t.title),l.xp6(1),l.hij(" ",t.title," "),l.xp6(1),l.Q6J("ngIf",t.duplicatesCount)}}function RB(n,e){if(1&n&&l._UZ(0,"div",7),2&n){const t=l.oxw();l.Tol(t.options.messageClass),l.Q6J("innerHTML",t.message,l.oJD)}}function kB(n,e){if(1&n&&(l.TgZ(0,"div",8),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.Tol(t.options.messageClass),l.uIk("aria-label",t.message),l.xp6(1),l.hij(" ",t.message," ")}}function OB(n,e){if(1&n&&(l.TgZ(0,"div"),l._UZ(1,"div",9),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Udp("width",t.width+"%")}}class BB{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class sD{constructor(e,t,i,r,a,u){this.toastId=e,this.config=t,this.message=i,this.title=r,this.toastType=a,this.toastRef=u,this._onTap=new Yt.x,this._onAction=new Yt.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const SN=new l.OlP("ToastConfig");class jB{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new Yt.x,this._activate=new Yt.x,this._manualClose=new Yt.x,this._resetTimeout=new Yt.x,this._countDuplicate=new Yt.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class $B{constructor(e,t){this._toastPackage=e,this._parentInjector=t}get(e,t,i){return e===sD?this._toastPackage:this._parentInjector.get(e,t,i)}}class zB extends class HB{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,i){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=i}attachComponentPortal(e,t){const i=this._componentFactoryResolver.resolveComponentFactory(e.component);let r;return r=i.create(e.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class GB{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let qB=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ZB=(()=>{class n{constructor(t,i,r,a){this._overlayContainer=t,this._componentFactoryResolver=i,this._appRef=r,this._document=a,this._paneElements=new Map}create(t,i){return this._createOverlayRef(this.getPaneElement(t,i))}getPaneElement(t="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[t]||(this._paneElements.get(i)[t]=this._createPaneElement(t,i)),this._paneElements.get(i)[t]}_createPaneElement(t,i){const r=this._document.createElement("div");return r.id="toast-container",r.classList.add(t),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(t){return new zB(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new GB(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(qB),l.LFG(l._Vd),l.LFG(l.z2F),l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fo=(()=>{class n{constructor(t,i,r,a,u){this.overlay=i,this._injector=r,this.sanitizer=a,this.ngZone=u,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,i,r={},a=""){return this._preBuildNotification(a,t,i,this.applyConfig(r))}success(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,i,this.applyConfig(r))}error(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,i,this.applyConfig(r))}info(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,i,this.applyConfig(r))}warning(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,i,this.applyConfig(r))}clear(t){for(const i of this.toasts)if(void 0!==t){if(i.toastId===t)return void i.toastRef.manualClose()}else i.toastRef.manualClose()}remove(t){const i=this._findToast(t);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(t="",i="",r,a){const{includeTitleDuplicates:u}=this.toastrConfig;for(const f of this.toasts){const _=u&&f.title===t;if((!u||_)&&f.message===i)return f.toastRef.onDuplicate(r,a),f}return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===t)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(t,i,r,a){return a.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,i,r,a)):this._buildNotification(t,i,r,a)}_buildNotification(t,i,r,a){if(!a.toastComponent)throw new Error("toastComponent required");const u=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&a.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&null!==u)return u;this.previousToastMessage=i;let f=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(f=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const _=this.overlay.create(a.positionClass,this.overlayContainer);this.index=this.index+1;let w=i;i&&a.enableHtml&&(w=this.sanitizer.sanitize(l.q3G.HTML,i));const I=new jB(_),M=new sD(this.index,a,w,r,t,I),P=new $B(M,this._injector),V=new BB(a.toastComponent,P),q=_.attach(V,this.toastrConfig.newestOnTop);I.componentInstance=q.instance;const ne={toastId:this.index,title:r||"",message:i||"",toastRef:I,onShown:I.afterActivate(),onHidden:I.afterClosed(),onTap:M.onTap(),onAction:M.onAction(),portal:q};return f||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{ne.toastRef.activate()})),this.toasts.push(ne),ne}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(SN),l.LFG(ZB),l.LFG(l.zs3),l.LFG(ol),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const WB={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class n{constructor(t,i,r){this.toastrService=t,this.toastPackage=i,this.ngZone=r,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(a=>{this.duplicatesCount=a})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),i)):this.timeout=setTimeout(()=>t(),i)}outsideInterval(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),i)):this.intervalId=setInterval(()=>t(),i)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(fo),l.Y36(sD),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,i){1&t&&l.NdJ("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&t&&(l.d8E("@flyInOut",i.state),l.Tol(i.toastClasses),l.Udp("display",i.displayStyle))},attrs:TN,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,i){1&t&&(l.YNc(0,AB,3,0,"button",0),l.YNc(1,xB,3,5,"div",1),l.YNc(2,RB,1,3,"div",2),l.YNc(3,kB,2,4,"div",3),l.YNc(4,OB,2,2,"div",4)),2&t&&(l.Q6J("ngIf",i.options.closeButton),l.xp6(1),l.Q6J("ngIf",i.title),l.xp6(1),l.Q6J("ngIf",i.message&&i.options.enableHtml),l.xp6(1),l.Q6J("ngIf",i.message&&!i.options.enableHtml),l.xp6(1),l.Q6J("ngIf",i.options.progressBar))},dependencies:[dn],encapsulation:2,data:{animation:[Wp("flyInOut",[ro("inactive",_s({opacity:0})),ro("active",_s({opacity:1})),ro("removed",_s({opacity:0})),Da("inactive => active",io("{{ easeTime }}ms {{ easing }}")),Da("active => removed",io("{{ easeTime }}ms {{ easing }}"))])]}}),n})()};let RR,KB=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:SN,useValue:{default:WB,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[_o]]}),n})(),xR=(()=>{class n{constructor(t){this.firestore=t}addRegistros(t){return this.firestore.collection("registros").add(t)}obtRegistros(){return this.firestore.collection("registros").snapshotChanges()}updateProducts(t){const i=this.firestore.firestore.batch();return t.forEach(r=>{const a=this.firestore.collection("registros").doc(r.id);i.update(a.ref,r)}),i.commit()}deleteAllRegistros(){this.firestore.collection("registros").snapshotChanges().subscribe(r=>{r.forEach(a=>{this.firestore.collection("registros").doc(a.payload.doc.id).delete()})})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(rD))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),AN=(()=>{class n{constructor(){this.valorEnviado=new l.vpe}enviarValor(t){this.valorEnviado.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();try{RR=typeof Intl<"u"&&Intl.v8BreakIterator}catch{RR=!1}let qw,aD,Jm,kR,Pa=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Mf(n){return n===Hl}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!RR)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function oD(n){return function YB(){if(null==qw&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>qw=!0}))}finally{qw=qw||!1}return qw}()?n:!!n.capture}function xN(){if(null==Jm){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Jm=!1,Jm;if("scrollBehavior"in document.documentElement.style)Jm=!0;else{const n=Element.prototype.scrollTo;Jm=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Jm}function Zw(){if("object"!=typeof document||!document)return 0;if(null==aD){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),aD=0,0===n.scrollLeft&&(n.scrollLeft=1,aD=0===n.scrollLeft?1:2),n.remove()}return aD}function eg(n){return n.composedPath?n.composedPath()[0]:n.target}function OR(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var gH=N(5032);function ts(n){return(0,Yn.e)((e,t)=>{(0,Sr.Xf)(n).subscribe((0,$t.x)(t,()=>t.complete(),gH.Z)),!t.closed&&e.subscribe(t)})}function po(n){return null!=n&&"false"!=`${n}`}function NN(n,e=0){return function _H(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function FN(n){return Array.isArray(n)?n:[n]}function ir(n){return null==n?"":"string"==typeof n?n:`${n}px`}function nv(n){return n instanceof l.SBq?n.nativeElement:n}let UN=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function CH(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function EH(n){try{return n.frameElement}catch{return null}}(function RH(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===HN(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),a=HN(t);return t.hasAttribute("contenteditable")?-1!==a:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function MH(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==a:"video"===r?-1!==a&&(null!==a||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function xH(n){return!function TH(n){return function SH(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function IH(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function DH(n){return function AH(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||BN(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Pa))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function BN(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function HN(n){if(!BN(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class kH{constructor(e,t,i,r,a=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(wa(1)).subscribe(e)}}let OH=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new kH(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(UN),l.LFG(l.R0b),l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jN(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function $N(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const PH=new l.OlP("cdk-input-modality-detector-options"),NH={ignoreKeys:[18,17,224,91,16]},iv=oD({passive:!0,capture:!0});let FH=(()=>{class n{constructor(t,i,r,a){this._platform=t,this._mostRecentTarget=null,this._modality=new eo(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(f=>f===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=eg(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(jN(u)?"keyboard":"mouse"),this._mostRecentTarget=eg(u))},this._onTouchstart=u=>{$N(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=eg(u))},this._options={...NH,...a},this.modalityDetected=this._modality.pipe(function mH(n){return Qn((e,t)=>n<=t)}(1)),this.modalityChanged=this.modalityDetected.pipe(Qb()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,iv),r.addEventListener("mousedown",this._onMousedown,iv),r.addEventListener("touchstart",this._onTouchstart,iv)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,iv),document.removeEventListener("mousedown",this._onMousedown,iv),document.removeEventListener("touchstart",this._onTouchstart,iv))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Pa),l.LFG(l.R0b),l.LFG(ie),l.LFG(PH,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const VH=new l.OlP("cdk-focus-monitor-default-options"),cD=oD({passive:!0,capture:!0});let GN=(()=>{class n{constructor(t,i,r,a,u){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Yt.x,this._rootNodeFocusAndBlurListener=f=>{const _=eg(f),w="focus"===f.type?this._onFocus:this._onBlur;for(let I=_;I;I=I.parentElement)w.call(this,f,I)},this._document=a,this._detectionMode=u?.detectionMode||0}monitor(t,i=!1){const r=nv(t);if(!this._platform.isBrowser||1!==r.nodeType)return dt(null);const a=function XB(n){if(function QB(){if(null==kR){const n=typeof document<"u"?document.head:null;kR=!(!n||!n.createShadowRoot&&!n.attachShadow)}return kR}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const f={checkChildren:i,subject:new Yt.x,rootNode:a};return this._elementInfo.set(r,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const i=nv(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const a=nv(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([f,_])=>this._originChanged(f,i,_)):(this._setOrigin(i),"function"==typeof a.focus&&a.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),a=eg(t);!r||!r.checkChildren&&i!==a||this._originChanged(i,this._getFocusOrigin(a),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(t,i){this._ngZone.run(()=>t.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,cD),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,cD)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ts(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,cD),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,cD),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,a)=>{(a===t||r.checkChildren&&a.contains(t))&&i.push([a,r])}),i}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(Pa),l.LFG(FH),l.LFG(ie,8),l.LFG(VH,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qN="cdk-high-contrast-black-on-white",ZN="cdk-high-contrast-white-on-black",PR="cdk-high-contrast-active";let UH=(()=>{class n{constructor(t,i){this._platform=t,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,a=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(PR),t.remove(qN),t.remove(ZN),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(t.add(PR),t.add(qN)):2===i&&(t.add(PR),t.add(ZN))}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Pa),l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const BH=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function HH(){return(0,l.f3M)(ie)}}),jH=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let NR=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new l.vpe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function $H(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?jH.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(BH,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ww=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const GH=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function zH(){return!0}});let ns=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!OR()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(UH),l.LFG(GH,8),l.LFG(ie))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Ww],Ww]}),n})();function qH(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=po(e)}}}function YN(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function uD(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=po(e)}}}let QN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function Kw(n,e,t){n.nativeElement.classList.toggle(e,t)}let JN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[ns],ns]}),n})();class WH{constructor(e,t,i){this._renderer=e,this.element=t,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const eF={enterDuration:225,exitDuration:150},FR=oD({passive:!0}),tF=["mousedown","touchstart"],nF=["mouseup","mouseleave","touchend","touchcancel"];class YH{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=nv(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...eF,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const u=i.radius||function XH(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),f=e-r.left,_=t-r.top,w=a.enterDuration,I=document.createElement("div");I.classList.add("mat-ripple-element"),I.style.left=f-u+"px",I.style.top=_-u+"px",I.style.height=2*u+"px",I.style.width=2*u+"px",null!=i.color&&(I.style.backgroundColor=i.color),I.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(I),function QH(n){window.getComputedStyle(n).getPropertyValue("opacity")}(I),I.style.transform="scale(1)";const M=new WH(this,I,i);return M.state=0,this._activeRipples.add(M),i.persistent||(this._mostRecentTransientRipple=M),this._runTimeoutOutsideZone(()=>{const P=M===this._mostRecentTransientRipple;M.state=1,!i.persistent&&(!P||!this._isPointerDown)&&M.fadeOut()},w),M}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const i=e.element,r={...eF,...e.config.animation};i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=nv(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(tF))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(nF),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=jN(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!$N(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,FR)})})}_removeTriggerEvents(){this._triggerElement&&(tF.forEach(e=>{this._triggerElement.removeEventListener(e,this,FR)}),this._pointerUpEventsRegistered&&nF.forEach(e=>{this._triggerElement.removeEventListener(e,this,FR)}))}}const JH=new l.OlP("mat-ripple-global-options");let iF=(()=>{class n{constructor(t,i,r,a,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new YH(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(Pa),l.Y36(JH,8),l.Y36(l.QbO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),rF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[ns],ns]}),n})(),sF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[ns]]}),n})();const tj=["*",[["mat-toolbar-row"]]],nj=["*","mat-toolbar-row"],ij=YN(class{constructor(n){this._elementRef=n}});let rj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),sj=(()=>{class n extends ij{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(Pa),l.Y36(ie))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(1&t&&l.Suo(r,rj,5),2&t){let a;l.iGM(a=l.CRH())&&(i._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&l.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[l.qOj],ngContentSelectors:nj,decls:2,vars:0,template:function(t,i){1&t&&(l.F$t(tj),l.Hsn(0),l.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),oF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[ns],ns]}),n})();class oj{}class gf{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),a=r.toLowerCase(),u=t.slice(i+1).trim();this.maybeSetNormalizedName(r,a),this.headers.has(a)?this.headers.get(a).push(u):this.headers.set(a,[u])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof gf?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new gf;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof gf?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const a=e.value;if(a){let u=this.headers.get(t);if(!u)return;u=u.filter(f=>-1===a.indexOf(f)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class aj{encodeKey(e){return aF(e)}encodeValue(e){return aF(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const cj=/%(\d[a-f0-9])/gi,uj={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function aF(n){return encodeURIComponent(n).replace(cj,(e,t)=>uj[t]??e)}function dD(n){return`${n}`}class _f{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new aj,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function lj(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const a=r.indexOf("="),[u,f]=-1==a?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,a)),e.decodeValue(r.slice(a+1))],_=t.get(u)||[];_.push(f),t.set(u,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(dD):[dD(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(a=>{t.push({param:i,value:a,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new _f({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(dD(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(dD(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class dj{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function lF(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function cF(n){return typeof Blob<"u"&&n instanceof Blob}function uF(n){return typeof FormData<"u"&&n instanceof FormData}class Yw{constructor(e,t,i,r){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function hj(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,a=r):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new gf),this.context||(this.context=new dj),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+u}}else this.params=new _f,this.urlWithParams=t}serializeBody(){return null===this.body?null:lF(this.body)||cF(this.body)||uF(this.body)||function fj(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof _f?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||uF(this.body)?null:cF(this.body)?this.body.type||null:lF(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof _f?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let _=e.headers||this.headers,w=e.params||this.params;const I=e.context??this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((M,P)=>M.set(P,e.setHeaders[P]),_)),e.setParams&&(w=Object.keys(e.setParams).reduce((M,P)=>M.set(P,e.setParams[P]),w)),new Yw(t,i,a,{params:w,headers:_,context:I,reportProgress:f,responseType:r,withCredentials:u})}}var is=(()=>((is=is||{})[is.Sent=0]="Sent",is[is.UploadProgress=1]="UploadProgress",is[is.ResponseHeader=2]="ResponseHeader",is[is.DownloadProgress=3]="DownloadProgress",is[is.Response=4]="Response",is[is.User=5]="User",is))();class LR extends class pj{constructor(e,t=200,i="OK"){this.headers=e.headers||new gf,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=is.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new LR({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function VR(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let hF=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let a;if(t instanceof Yw)a=t;else{let _,w;_=r.headers instanceof gf?r.headers:new gf(r.headers),r.params&&(w=r.params instanceof _f?r.params:new _f({fromObject:r.params})),a=new Yw(t,i,void 0!==r.body?r.body:null,{headers:_,context:r.context,params:w,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=dt(a).pipe(El(_=>this.handler.handle(_)));if(t instanceof Yw||"events"===r.observe)return u;const f=u.pipe(Qn(_=>_ instanceof LR));switch(r.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,pt.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return f.pipe((0,pt.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return f.pipe((0,pt.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return f.pipe((0,pt.U)(_=>_.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new _f).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,VR(r,i))}post(t,i,r={}){return this.request("POST",t,VR(r,i))}put(t,i,r={}){return this.request("PUT",t,VR(r,i))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(oj))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const gj=["*"];let hD;function Qw(n){return function _j(){if(void 0===hD&&(hD=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(hD=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return hD}()?.createHTML(n)||n}function fF(n){return Error(`Unable to find icon with the name "${n}"`)}function pF(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function mF(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class tg{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let fD=(()=>{class n{constructor(t,i,r,a){this._httpClient=t,this._sanitizer=i,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,a){return this._addSvgIconConfig(t,i,new tg(r,null,a))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,a){const u=this._sanitizer.sanitize(l.q3G.HTML,r);if(!u)throw mF(r);const f=Qw(u);return this._addSvgIconConfig(t,i,new tg("",f,a))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new tg(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const a=this._sanitizer.sanitize(l.q3G.HTML,i);if(!a)throw mF(i);const u=Qw(a);return this._addSvgIconSetConfig(t,new tg("",u,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,t);if(!i)throw pF(t);const r=this._cachedIconsByUrl.get(i);return r?dt(pD(r)):this._loadSvgIconFromConfig(new tg(t,null)).pipe((0,qn.b)(a=>this._cachedIconsByUrl.set(i,a)),(0,pt.U)(a=>pD(a)))}getNamedSvgIcon(t,i=""){const r=gF(i,t);let a=this._svgIconConfigs.get(r);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(i,t),a)return this._svgIconConfigs.set(r,a),this._getSvgFromConfig(a);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(t,u):yc(fF(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?dt(pD(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,pt.U)(i=>pD(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?dt(r):uc(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(Cl(f=>{const w=`Loading icon set URL: ${this._sanitizer.sanitize(l.q3G.RESOURCE_URL,u.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(w)),dt(null)})))).pipe((0,pt.U)(()=>{const u=this._extractIconWithNameFromAnySet(t,i);if(!u)throw fF(t);return u}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const a=i[r];if(a.svgText&&a.svgText.toString().indexOf(t)>-1){const u=this._svgElementFromConfig(a),f=this._extractSvgIconFromSet(u,t,a.options);if(f)return f}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,qn.b)(i=>t.svgText=i),(0,pt.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?dt(null):this._fetchIcon(t).pipe((0,qn.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const a=t.querySelector(`[id="${i}"]`);if(!a)return null;const u=a.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const f=this._svgElementFromString(Qw("<svg></svg>"));return f.appendChild(u),this._setSvgAttributes(f,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(Qw("<svg></svg>")),r=t.attributes;for(let a=0;a<r.length;a++){const{name:u,value:f}=r[a];"id"!==u&&i.setAttribute(u,f)}for(let a=0;a<t.childNodes.length;a++)t.childNodes[a].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[a].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,a=r?.withCredentials??!1;if(!this._httpClient)throw function yj(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const u=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,i);if(!u)throw pF(i);const f=this._inProgressUrlFetches.get(u);if(f)return f;const _=this._httpClient.get(u,{responseType:"text",withCredentials:a}).pipe((0,pt.U)(w=>Qw(w)),qg(()=>this._inProgressUrlFetches.delete(u)),(0,yb.B)());return this._inProgressUrlFetches.set(u,_),_}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(gF(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const a=this._resolvers[r](i,t);if(a)return bj(a)?new tg(a.url,null,a.options):new tg(a,null)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(hF,8),l.LFG(ol),l.LFG(ie,8),l.LFG(l.qLn))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function pD(n){return n.cloneNode(!0)}function gF(n,e){return n+":"+e}function bj(n){return!(!n.url||!n.options)}const wj=YN(class{constructor(n){this._elementRef=n}}),Ej=new l.OlP("mat-icon-location",{providedIn:"root",factory:function Cj(){const n=(0,l.f3M)(ie),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),_F=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Ij=_F.map(n=>`[${n}]`).join(", "),Tj=/^url\(['"]?#(.*?)['"]?\)$/;let Dj=(()=>{class n extends wj{constructor(t,i,r,a,u){super(t),this._iconRegistry=i,this._location=a,this._errorHandler=u,this._inline=!1,this._currentIconFetch=bc.w0.EMPTY,r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=po(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),i&&t.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,a)=>{r.forEach(u=>{a.setAttribute(u.name,`url('${t}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(Ij),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<i.length;a++)_F.forEach(u=>{const f=i[a],_=f.getAttribute(u),w=_?_.match(Tj):null;if(w){let I=r.get(f);I||(I=[],r.set(f,I)),I.push({name:u,value:w[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(wa(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${a.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(fD),l.$8M("aria-hidden"),l.Y36(Ej),l.Y36(l.qLn))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,i){2&t&&(l.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),l.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[l.qOj],ngContentSelectors:gj,decls:1,vars:0,template:function(t,i){1&t&&(l.F$t(),l.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),Sj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[ns],ns]}),n})();var Aj=N(1144);const Mj=["addListener","removeListener"],xj=["addEventListener","removeEventListener"],Rj=["on","off"];function Xw(n,e,t,i){if((0,ba.m)(t)&&(i=t,t=void 0),i)return Xw(n,e,t).pipe(Rs(i));const[r,a]=function Pj(n){return(0,ba.m)(n.addEventListener)&&(0,ba.m)(n.removeEventListener)}(n)?xj.map(u=>f=>n[u](e,f,t)):function kj(n){return(0,ba.m)(n.addListener)&&(0,ba.m)(n.removeListener)}(n)?Mj.map(yF(n,e)):function Oj(n){return(0,ba.m)(n.on)&&(0,ba.m)(n.off)}(n)?Rj.map(yF(n,e)):[];if(!r&&(0,Aj.z)(n))return(0,hi.z)(u=>Xw(u,e,t))((0,Sr.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Wn.y(u=>{const f=(..._)=>u.next(1<_.length?_:_[0]);return r(f),()=>a(f)})}function yF(n,e){return t=>i=>n[t](e,i)}var vF=N(4408);const Jw={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=Jw;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(a=>{t=void 0,n(a)});return new bc.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=Jw;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Jw;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var bF=N(7565);new class Fj extends bF.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class Nj extends vF.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Jw.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:a}=e;null!=t&&(null===(r=a[a.length-1])||void 0===r?void 0:r.id)!==t&&(Jw.cancelAnimationFrame(t),e._scheduled=void 0)}});let UR,Vj=1;const mD={};function wF(n){return n in mD&&(delete mD[n],!0)}const Uj={setImmediate(n){const e=Vj++;return mD[e]=!0,UR||(UR=Promise.resolve()),UR.then(()=>wF(e)&&n()),e},clearImmediate(n){wF(n)}},{setImmediate:Bj,clearImmediate:Hj}=Uj,gD={setImmediate(...n){const{delegate:e}=gD;return(e?.setImmediate||Bj)(...n)},clearImmediate(n){const{delegate:e}=gD;return(e?.clearImmediate||Hj)(n)},delegate:void 0};new class $j extends bF.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class jj extends vF.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=gD.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:a}=e;null!=t&&(null===(r=a[a.length-1])||void 0===r?void 0:r.id)!==t&&(gD.clearImmediate(t),e._scheduled=void 0)}});var qj=N(3532);function EF(n,e=Yu.z){return function Gj(n){return(0,Yn.e)((e,t)=>{let i=!1,r=null,a=null,u=!1;const f=()=>{if(a?.unsubscribe(),a=null,i){i=!1;const w=r;r=null,t.next(w)}u&&t.complete()},_=()=>{a=null,u&&t.complete()};e.subscribe((0,$t.x)(t,w=>{i=!0,r=w,a||(0,Sr.Xf)(n(w)).subscribe(a=(0,$t.x)(t,f,_))},()=>{u=!0,(!i||!a||a.closed)&&t.complete()}))})}(()=>function Wj(n=0,e,t=Yu.P){let i=-1;return null!=e&&((0,qj.K)(e)?t=e:i=e),new Wn.y(r=>{let a=function Zj(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let u=0;return t.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},a)})}(n,e))}let _D=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Yt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Wn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(EF(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):dt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Qn(a=>!a||r.indexOf(a)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,a)=>{this._scrollableContainsElement(a,t)&&i.push(a)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=nv(i),a=t.getElementRef().nativeElement;do{if(r==a)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Xw(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(Pa),l.LFG(ie,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eE=(()=>{class n{constructor(t,i,r,a){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=a,this._destroyed=new Yt.x,this._elementScrolled=new Wn.y(u=>this.ngZone.runOutsideAngular(()=>Xw(this.elementRef.nativeElement,"scroll").pipe(ts(this._destroyed)).subscribe(u)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=Zw()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==Zw()?t.left=t.right:1==Zw()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;xN()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",r="right",a=this.elementRef.nativeElement;if("top"==t)return a.scrollTop;if("bottom"==t)return a.scrollHeight-a.clientHeight-a.scrollTop;const u=this.dir&&"rtl"==this.dir.value;return"start"==t?t=u?r:i:"end"==t&&(t=u?i:r),u&&2==Zw()?t==i?a.scrollWidth-a.clientWidth-a.scrollLeft:a.scrollLeft:u&&1==Zw()?t==i?a.scrollLeft+a.scrollWidth-a.clientWidth:-a.scrollLeft:t==i?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(_D),l.Y36(l.R0b),l.Y36(NR,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),BR=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Yt.x,this._changeListener=a=>{this._change.next(a)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,a=r.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-a.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(EF(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Pa),l.LFG(l.R0b),l.LFG(ie,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),CF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Ww,tE],Ww,tE]}),n})();const yD=["*"],Qj=["content"];function Xj(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",2),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r._onBackdropClicked())}),l.qZA()}if(2&n){const t=l.oxw();l.ekj("mat-drawer-shown",t._isShowingBackdrop())}}function Jj(n,e){1&n&&(l.TgZ(0,"mat-drawer-content"),l.Hsn(1,2),l.qZA())}const e3=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],t3=["mat-drawer","mat-drawer-content","*"];function n3(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",2),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r._onBackdropClicked())}),l.qZA()}if(2&n){const t=l.oxw();l.ekj("mat-drawer-shown",t._isShowingBackdrop())}}function r3(n,e){1&n&&(l.TgZ(0,"mat-sidenav-content"),l.Hsn(1,2),l.qZA())}const s3=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],o3=["mat-sidenav","mat-sidenav-content","*"],IF={transformDrawer:Wp("transform",[ro("open, open-instant",_s({transform:"none",visibility:"visible"})),ro("void",_s({"box-shadow":"none",visibility:"hidden"})),Da("void => open-instant",io("0ms")),Da("void <=> open, open-instant => void",io("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},l3=new l.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function c3(){return!1}}),HR=new l.OlP("MAT_DRAWER_CONTAINER");let vD=(()=>{class n extends eE{constructor(t,i,r,a,u){super(r,a,u),this._changeDetectorRef=t,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO),l.Y36((0,l.Gpc)(()=>DF)),l.Y36(l.SBq),l.Y36(_D),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,i){2&t&&l.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[l._Bn([{provide:eE,useExisting:n}]),l.qOj],ngContentSelectors:yD,decls:1,vars:0,template:function(t,i){1&t&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),TF=(()=>{class n{constructor(t,i,r,a,u,f,_,w){this._elementRef=t,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=a,this._ngZone=u,this._interactivityChecker=f,this._doc=_,this._container=w,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Yt.x,this._animationEnd=new Yt.x,this._animationState="void",this.openedChange=new l.vpe(!0),this._openedStream=this.openedChange.pipe(Qn(I=>I),(0,pt.U)(()=>{})),this.openedStart=this._animationStarted.pipe(Qn(I=>I.fromState!==I.toState&&0===I.toState.indexOf("open")),Gg(void 0)),this._closedStream=this.openedChange.pipe(Qn(I=>!I),(0,pt.U)(()=>{})),this.closedStart=this._animationStarted.pipe(Qn(I=>I.fromState!==I.toState&&"void"===I.toState),Gg(void 0)),this._destroyed=new Yt.x,this.onPositionChanged=new l.vpe,this._modeChanged=new Yt.x,this.openedChange.subscribe(I=>{I?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Xw(this._elementRef.nativeElement,"keydown").pipe(Qn(I=>27===I.keyCode&&!this.disableClose&&!function lD(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(I)),ts(this._destroyed)).subscribe(I=>this._ngZone.run(()=>{this.close(),I.stopPropagation(),I.preventDefault()}))}),this._animationEnd.pipe(Qb((I,M)=>I.fromState===M.fromState&&I.toState===M.toState)).subscribe(I=>{const{fromState:M,toState:P}=I;(0===P.indexOf("open")&&"void"===M||"void"===P&&0===M.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=po(t)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=po(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(po(t))}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,i){t&&i&&(this._openedVia=i);const r=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),r}_setOpen(t,i,r){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(a=>{this.openedChange.pipe(wa(1)).subscribe(u=>a(u?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(t){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(OH),l.Y36(GN),l.Y36(Pa),l.Y36(l.R0b),l.Y36(UN),l.Y36(ie,8),l.Y36(HR,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(t,i){if(1&t&&l.Gf(Qj,5),2&t){let r;l.iGM(r=l.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,i){1&t&&l.WFA("@transform.start",function(a){return i._animationStarted.next(a)})("@transform.done",function(a){return i._animationEnd.next(a)}),2&t&&(l.uIk("align",null),l.d8E("@transform",i._animationState),l.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:yD,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"div",0,1),l.Hsn(2),l.qZA())},dependencies:[eE],encapsulation:2,data:{animation:[IF.transformDrawer]},changeDetection:0}),n})(),DF=(()=>{class n{constructor(t,i,r,a,u,f=!1,_){this._dir=t,this._element=i,this._ngZone=r,this._changeDetectorRef=a,this._animationMode=_,this._drawers=new l.n_E,this.backdropClick=new l.vpe,this._destroyed=new Yt.x,this._doCheckSubject=new Yt.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Yt.x,t&&t.change.pipe(ts(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),u.change().pipe(ts(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=f}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=po(t)}get hasBackdrop(){return this._backdropOverride??(!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode)}set hasBackdrop(t){this._backdropOverride=null==t?null:po(t)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Ea(this._allDrawers),ts(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Ea(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(function PN(n,e=Yu.z){return(0,Yn.e)((t,i)=>{let r=null,a=null,u=null;const f=()=>{if(r){r.unsubscribe(),r=null;const w=a;a=null,i.next(w)}};function _(){const w=u+n,I=e.now();if(I<w)return r=this.schedule(void 0,w-I),void i.add(r);f()}t.subscribe((0,$t.x)(i,w=>{a=w,u=e.now(),r||(r=e.schedule(_,n),i.add(r))},()=>{f(),i.complete()},void 0,()=>{a=r=null}))})}(10),ts(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();t+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,t-=r}t=t||null,i=i||null,(t!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:t,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(Qn(i=>i.fromState!==i.toState),ts(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(ts(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){!t||t.onPositionChanged.pipe(ts(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(wa(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(ts((0,M_.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";t?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(NR,8),l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(l.sBO),l.Y36(BR),l.Y36(l3),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,vD,5),l.Suo(r,TF,5)),2&t){let a;l.iGM(a=l.CRH())&&(i._content=a.first),l.iGM(a=l.CRH())&&(i._allDrawers=a)}},viewQuery:function(t,i){if(1&t&&l.Gf(vD,5),2&t){let r;l.iGM(r=l.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[l._Bn([{provide:HR,useExisting:n}])],ngContentSelectors:t3,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){1&t&&(l.F$t(e3),l.YNc(0,Xj,1,2,"div",0),l.Hsn(1),l.Hsn(2,1),l.YNc(3,Jj,2,0,"mat-drawer-content",1)),2&t&&(l.Q6J("ngIf",i.hasBackdrop),l.xp6(3),l.Q6J("ngIf",!i._content))},dependencies:[vD,dn],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),n})(),SF=(()=>{class n extends vD{constructor(t,i,r,a,u){super(t,i,r,a,u)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO),l.Y36((0,l.Gpc)(()=>MF)),l.Y36(l.SBq),l.Y36(_D),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(t,i){2&t&&l.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[l._Bn([{provide:eE,useExisting:n}]),l.qOj],ngContentSelectors:yD,decls:1,vars:0,template:function(t,i){1&t&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),AF=(()=>{class n extends TF{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=po(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=NN(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=NN(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(t,i){2&t&&(l.uIk("align",null),l.Udp("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),l.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[l.qOj],ngContentSelectors:yD,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"div",0,1),l.Hsn(2),l.qZA())},dependencies:[eE],encapsulation:2,data:{animation:[IF.transformDrawer]},changeDetection:0}),n})(),MF=(()=>{class n extends DF{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,SF,5),l.Suo(r,AF,5)),2&t){let a;l.iGM(a=l.CRH())&&(i._content=a.first),l.iGM(a=l.CRH())&&(i._allDrawers=a)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[l._Bn([{provide:HR,useExisting:n}]),l.qOj],ngContentSelectors:o3,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){1&t&&(l.F$t(s3),l.YNc(0,n3,1,2,"div",0),l.Hsn(1),l.Hsn(2,1),l.YNc(3,r3,2,0,"mat-sidenav-content",1)),2&t&&(l.Q6J("ngIf",i.hasBackdrop),l.xp6(3),l.Q6J("ngIf",!i._content))},dependencies:[SF,dn],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),n})(),u3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[_o,ns,tE],tE,ns]}),n})(),d3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[ns],ns]}),n})();const RF=["*"],f3=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],p3=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],v3=qH(uD(class{})),b3=uD(class{}),w3=new l.OlP("MatList"),kF=new l.OlP("MatNavList");let E3=(()=>{class n extends v3{constructor(){super(...arguments),this._stateChanges=new Yt.x}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[l._Bn([{provide:kF,useExisting:n}]),l.qOj,l.TTD],ngContentSelectors:RF,decls:1,vars:0,template:function(t,i){1&t&&(l.F$t(),l.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),n})(),OF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),PF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})(),C3=(()=>{class n extends b3{constructor(t,i,r,a){super(),this._element=t,this._isInteractiveList=!1,this._destroyed=new Yt.x,this._disabled=!1,this._isInteractiveList=!!(r||a&&"action-list"===a._getListType()),this._list=r||a;const u=this._getHostElement();"button"===u.nodeName.toLowerCase()&&!u.hasAttribute("type")&&u.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(ts(this._destroyed)).subscribe(()=>{i.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(t){this._disabled=po(t)}ngAfterContentInit(){!function XN(n,e,t="mat"){n.changes.pipe(Ea(n)).subscribe(({length:i})=>{Kw(e,`${t}-2-line`,!1),Kw(e,`${t}-3-line`,!1),Kw(e,`${t}-multi-line`,!1),2===i||3===i?Kw(e,`${t}-${i}-line`,!0):i>3&&Kw(e,`${t}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(kF,8),l.Y36(w3,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,OF,5),l.Suo(r,PF,5),l.Suo(r,QN,5)),2&t){let a;l.iGM(a=l.CRH())&&(i._avatar=a.first),l.iGM(a=l.CRH())&&(i._icon=a.first),l.iGM(a=l.CRH())&&(i._lines=a)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(t,i){2&t&&l.ekj("mat-list-item-disabled",i.disabled)("mat-list-item-avatar",i._avatar||i._icon)("mat-list-item-with-avatar",i._avatar||i._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[l.qOj],ngContentSelectors:p3,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(t,i){1&t&&(l.F$t(f3),l.TgZ(0,"span",0),l._UZ(1,"span",1),l.Hsn(2),l.TgZ(3,"span",2),l.Hsn(4,1),l.qZA(),l.Hsn(5,2),l.qZA()),2&t&&(l.xp6(1),l.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i._isRippleDisabled()))},dependencies:[iF],encapsulation:2,changeDetection:0}),n})(),M3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[JN,rF,ns,sF,_o],JN,ns,sF,d3]}),n})();const x3=["drawer"];function R3(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",20)(1,"div",21)(2,"p"),l._uU(3,"App created by Edwin"),l.qZA(),l.TgZ(4,"p"),l._uU(5,"Todos los derechos reservados | \xa9 2023"),l.qZA(),l.TgZ(6,"button",22),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.cerrar())}),l._uU(7,"cerrar"),l.qZA()()()}}let ng=(()=>{class n{constructor(t,i,r,a){this.afAuth=t,this.router=i,this.toastr=r,this._comunication=a,this.modal=!1,this.today=new Date,this.mostrarVentana=!1,this.valor=!1}ngOnInit(){setInterval(()=>{this.today=new Date},1e3),this.afAuth.currentUser.then(t=>{if(t)switch(t.email){case"dlaleja10@hotmail.com":this.dataUser="Alejandra";break;case"administrador.sistema@gmail.com":this.dataUser="Administrador";break;case"brahianriver99@gmail.com":this.dataUser="Brahian";break;case"edwinkaycut@gmail.com":this.dataUser="EdwinK"}else this.router.navigate(["/login"])})}logout(){this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}abrir(){this.modal=!0}cerrar(){this.modal=!1}enviarValor(){this.valor=!this.valor,this._comunication.enviarValor(this.valor)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ku),l.Y36(Xn),l.Y36(fo),l.Y36(AN))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-navbar"]],viewQuery:function(t,i){if(1&t&&l.Gf(x3,5),2&t){let r;l.iGM(r=l.CRH())&&(i.drawer=r.first)}},decls:35,vars:6,consts:[["color","warn",1,"nav"],[2,"display","flex"],[2,"display","flex","align-items","center"],["mat-icon-button","",2,"width","40px","height","38px",3,"click"],[2,"display","grid","font-size","26px","justify-content","center"],[1,"title"],["routerLink","/list-products",1,"logout","elH2",2,"padding-left","8px","cursor","pointer"],[1,"spa"],[1,"tit"],[1,"welcome"],[1,"fas","fa-shopping-cart",2,"font-size","30px","cursor","pointer",3,"click"],[2,"position","unset"],["mode","over"],["drawer",""],["mat-list-item","","routerLink","/list-products"],["mat-list-item","","routerLink","/info-product"],["mat-list-item","","routerLink","/reportes"],["mat-list-item","","routerLink","/estadisticas"],["mat-list-item","",3,"click"],["class","modal",4,"ngIf"],[1,"modal"],[1,"contenido-modal"],[3,"click"]],template:function(t,i){if(1&t){const r=l.EpF();l.TgZ(0,"mat-toolbar",0)(1,"div",1)(2,"div",2)(3,"button",3),l.NdJ("click",function(){l.CHM(r);const u=l.MAs(20);return l.KtG(u.toggle())}),l.TgZ(4,"mat-icon",4),l._uU(5,"menu"),l.qZA()()(),l.TgZ(6,"div",5)(7,"span",6),l._uU(8,"LicorMania"),l.qZA(),l.TgZ(9,"span",7),l._uU(10),l.ALo(11,"date"),l.qZA()()(),l.TgZ(12,"div",8)(13,"div")(14,"h3",9),l._uU(15),l.qZA()(),l.TgZ(16,"div")(17,"i",10),l.NdJ("click",function(){return i.enviarValor()}),l.qZA()()()(),l.TgZ(18,"mat-sidenav-container",11)(19,"mat-sidenav",12,13)(21,"mat-nav-list")(22,"a",14),l._uU(23,"Pagina principal"),l.qZA(),l.TgZ(24,"a",15),l._uU(25,"Productos Info"),l.qZA(),l.TgZ(26,"a",16),l._uU(27,"Reportes"),l.qZA(),l.TgZ(28,"a",17),l._uU(29,"Estadisticas"),l.qZA(),l.TgZ(30,"a",18),l.NdJ("click",function(){return i.logout()}),l._uU(31,"Cerrar Sesion"),l.qZA(),l.TgZ(32,"a",18),l.NdJ("click",function(){return i.abrir()}),l._uU(33,"Acerca de"),l.qZA()()(),l.YNc(34,R3,8,0,"div",19),l.qZA()}2&t&&(l.xp6(10),l.Oqu(l.xi3(11,3,i.today,"d MMM y, EEEE h:mm:ss a")),l.xp6(5),l.hij("Hola!! ",i.dataUser,""),l.xp6(19),l.Q6J("ngIf",i.modal))},dependencies:[dn,Po,Gp,sj,Dj,AF,MF,E3,C3,Kc],styles:['.navbar[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 2px 4px #0000001a;padding:1rem}.navbar-brand[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.navbar-toggler[_ngcontent-%COMP%]{border:none;padding:.25rem .5rem}.navbar-toggler-icon[_ngcontent-%COMP%]{display:inline-block;width:1.5rem;height:1.5rem;background-repeat:no-repeat;background-position:center;background-size:cover;background-image:url(\'data:image/svg+xml;charset=UTF-8,%3Csvg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"%3E%3Cpath stroke="%23333" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M1 1h14M1 8h14M1 15h14"/%3E%3C/svg%3E\')}.navbar-nav[_ngcontent-%COMP%]{flex-direction:column;padding-top:1rem}.nav-item[_ngcontent-%COMP%]{margin-bottom:.5rem}@media (min-width: 768px){.navbar-nav[_ngcontent-%COMP%]{flex-direction:row}.nav-item[_ngcontent-%COMP%]{margin:0 .5rem}}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0003;display:flex;justify-content:center;align-items:center;z-index:100}.contenido-modal[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0003;display:flex;flex-direction:column;align-items:center}.logout[_ngcontent-%COMP%]{cursor:pointer}.logout[_ngcontent-%COMP%]:hover{color:#d7d2d2}.elH2[_ngcontent-%COMP%]{font-size:32px;font-family:Arial,sans-serif;color:#505cfb;text-align:center;text-shadow:2px 2px #f3f0f0}.nav[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.spa[_ngcontent-%COMP%]{margin-left:16px}.tit[_ngcontent-%COMP%]{display:flex;gap:92px}@media screen and (max-width: 600px){.nav[_ngcontent-%COMP%]{height:250px;white-space:initial;display:flex;flex-direction:column;justify-content:space-evenly}.title[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.spa[_ngcontent-%COMP%]{margin-left:10%;text-align:center}.tit[_ngcontent-%COMP%]{position:relative;left:25px}}']}),n})();function k3(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",5)(1,"div",6),l.NdJ("click",function(){const a=l.CHM(t).$implicit,u=l.oxw();return l.KtG(u.abrirModal(a))}),l._UZ(2,"img",7),l.TgZ(3,"h3",8),l._uU(4),l.qZA(),l.TgZ(5,"p"),l._uU(6),l.ALo(7,"currency"),l.qZA(),l.TgZ(8,"p",8),l._uU(9),l.qZA(),l.TgZ(10,"p"),l._uU(11),l.qZA(),l.TgZ(12,"p",9),l._uU(13),l.qZA()()()}if(2&n){const t=e.$implicit,i=l.oxw();l.xp6(2),l.Q6J("src",t.imagenes,l.LSH),l.xp6(2),l.Oqu(t.nombre),l.xp6(2),l.hij("$",l.gM2(7,6,t.precio," ","symbol","1.0"),""),l.xp6(3),l.Oqu(t.descripcion),l.xp6(2),l.hij(" Disponible: ",t.disponible?t.disponible:"No disponible"," "),l.xp6(2),l.Oqu(t.disponible?"":i.message)}}function O3(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",10)(1,"div",11),l._UZ(2,"img",12),l.TgZ(3,"h3"),l._uU(4),l.qZA(),l.TgZ(5,"p"),l._uU(6),l.qZA(),l.TgZ(7,"p",8),l._uU(8," Precio: "),l.TgZ(9,"input",13),l.NdJ("ngModelChange",function(r){l.CHM(t);const a=l.oxw();return l.KtG(a.productoSeleccionado.precio=r)})("input",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.actualizarPrecioTotal())}),l.qZA()(),l.TgZ(10,"p"),l._uU(11),l.qZA(),l.TgZ(12,"div",14)(13,"button",15),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.decrementarCantidad())}),l._uU(14," - "),l.qZA(),l.TgZ(15,"input",16),l.NdJ("ngModelChange",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.onInputChange())})("ngModelChange",function(r){l.CHM(t);const a=l.oxw();return l.KtG(a.productoSeleccionado.cantidad=r)})("input",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.actualizarPrecioTotal())}),l.qZA(),l.TgZ(16,"button",17),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.incrementarCantidad())}),l._uU(17," + "),l.qZA()(),l.TgZ(18,"p"),l._uU(19),l.ALo(20,"currency"),l.qZA(),l.TgZ(21,"div",18)(22,"button",19),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.cerrarModal())}),l._uU(23," Cerrar "),l.qZA(),l.TgZ(24,"button",20),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.registrarProducto())}),l._uU(25," Agregar "),l.qZA()()()()}if(2&n){const t=l.oxw();l.xp6(2),l.Q6J("src",t.productoSeleccionado.imagenes,l.LSH),l.xp6(2),l.Oqu(t.productoSeleccionado.nombre),l.xp6(2),l.hij("Descripci\xf3n: ",t.productoSeleccionado.descripcion,""),l.xp6(3),l.Q6J("ngModel",t.productoSeleccionado.precio),l.xp6(2),l.hij(" Disponible: ",t.productoSeleccionado.disponible?t.productoSeleccionado.disponible:"No disponible"," "),l.xp6(4),l.Q6J("ngModel",t.productoSeleccionado.cantidad),l.xp6(1),l.Q6J("disabled",t.enabledButton),l.xp6(3),l.hij(" Precio Total: $",l.gM2(20,9,t.productoSeleccionado.precioTotal," ","symbol","1.0")," "),l.xp6(5),l.Q6J("disabled",t.habilitar)}}function P3(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",10)(1,"div",11)(2,"span"),l._uU(3,"Total a pagar: "),l.qZA(),l.TgZ(4,"p"),l._uU(5),l.ALo(6,"currency"),l.qZA(),l.TgZ(7,"p"),l._uU(8),l.qZA(),l.TgZ(9,"div",31)(10,"label")(11,"input",32),l.NdJ("ngModelChange",function(r){l.CHM(t);const a=l.oxw(3);return l.KtG(a.valorRestado=r)})("ngModelChange",function(){l.CHM(t);const r=l.oxw(3);return l.KtG(r.restarValor())}),l.qZA()()(),l.TgZ(12,"div",33)(13,"button",34),l.NdJ("click",function(){l.CHM(t);const r=l.oxw(3);return l.KtG(r.cerrarModal())}),l._uU(14," Cerrar "),l.qZA(),l.TgZ(15,"button",20),l.NdJ("click",function(){l.CHM(t);const r=l.oxw(3);return l.KtG(r.actualizar())}),l._uU(16," Pagar "),l.qZA()()()()}if(2&n){const t=l.oxw().$implicit,i=l.oxw(2);l.xp6(5),l.hij("$ ",l.gM2(6,4,t.precioTotal," ","symbol","1.0"),""),l.xp6(3),l.hij("Devuelta: $",i.valorRestado-t.precioTotal>=0?i.valorRestado-t.precioTotal:0,""),l.xp6(3),l.Q6J("ngModel",i.valorRestado),l.xp6(4),l.Q6J("disabled",i.limitarClick)}}function N3(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"tr")(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l._uU(8),l.ALo(9,"currency"),l.qZA(),l.TgZ(10,"td"),l._uU(11),l.ALo(12,"currency"),l.qZA(),l.TgZ(13,"td")(14,"input",27),l.NdJ("ngModelChange",function(r){const u=l.CHM(t).$implicit;return l.KtG(u.pago=r)}),l.qZA()(),l.TgZ(15,"td")(16,"button",28),l.NdJ("click",function(){const a=l.CHM(t).$implicit,u=l.oxw(2);return l.KtG(u.abrirPago(a.id))}),l._uU(17,"Pagar"),l.qZA(),l.YNc(18,P3,17,9,"div",3),l.qZA(),l.TgZ(19,"td")(20,"textarea",29),l._uU(21," "),l.qZA()(),l.TgZ(22,"td")(23,"button",30),l.NdJ("click",function(){const a=l.CHM(t).$implicit,u=l.oxw(2);return l.KtG(u.eliminarProducto(a.id))}),l._uU(24," X "),l.qZA()()()}if(2&n){const t=e.$implicit,i=l.oxw(2);l.xp6(2),l.Oqu(t.nombre),l.xp6(2),l.Oqu(t.descripcion),l.xp6(2),l.Oqu(t.cantidad),l.xp6(2),l.hij("$ ",l.gM2(9,8,t.precio," ","symbol","1.0"),""),l.xp6(3),l.hij("$ ",l.gM2(12,13,t.precioTotal," ","symbol","1.0"),""),l.xp6(3),l.Q6J("disabled",!0)("ngModel",t.pago),l.xp6(4),l.Q6J("ngIf",i.pagarModal)}}function F3(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",10)(1,"div",11)(2,"span",36),l._uU(3,"\xbfEstas seguro? al hacer esto se borrara todo el contenido del dia, pero se guardara en un reporte"),l.qZA(),l.TgZ(4,"div",33)(5,"button",34),l.NdJ("click",function(){l.CHM(t);const r=l.oxw(3);return l.KtG(r.cerrarModal())}),l._uU(6," Cerrar "),l.qZA(),l.TgZ(7,"button",20),l.NdJ("click",function(){l.CHM(t);const r=l.oxw(3);return l.KtG(r.agregarReporte())}),l._uU(8," Crear "),l.qZA()()()()}if(2&n){const t=l.oxw(3);l.xp6(7),l.Q6J("disabled",t.limitarClick)}}function L3(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"tfoot")(1,"tr",35)(2,"th"),l._uU(3,"Total:"),l.qZA(),l.TgZ(4,"th"),l._uU(5),l.qZA(),l.TgZ(6,"th"),l._uU(7,"Ganancia:"),l.qZA(),l.TgZ(8,"th"),l._uU(9),l.qZA(),l.TgZ(10,"th")(11,"button",28),l.NdJ("click",function(){l.CHM(t);const r=l.oxw(2);return l.KtG(r.modalRegistrar())}),l._uU(12," Agregar Reporte "),l.qZA(),l.YNc(13,F3,9,1,"div",3),l.qZA()()()}if(2&n){const t=l.oxw(2);l.xp6(5),l.hij("$",t.total,""),l.xp6(4),l.hij("$",t.ganancia,""),l.xp6(4),l.Q6J("ngIf",t.registrarActivo)}}function V3(n,e){1&n&&(l.TgZ(0,"p",37),l._uU(1," No hay productos seleccionados "),l.qZA())}function U3(n,e){if(1&n&&(l.TgZ(0,"div",21)(1,"table",22)(2,"thead")(3,"tr")(4,"th",23),l._uU(5,"Nombre"),l.qZA(),l.TgZ(6,"th",23),l._uU(7,"descripcion"),l.qZA(),l.TgZ(8,"th",23),l._uU(9,"Cantidad"),l.qZA(),l.TgZ(10,"th",23),l._uU(11,"precio"),l.qZA(),l.TgZ(12,"th",23),l._uU(13,"Total"),l.qZA(),l.TgZ(14,"th",23),l._uU(15,"pago?"),l.qZA(),l.TgZ(16,"th",23),l._uU(17,"pagar"),l.qZA(),l.TgZ(18,"th",23),l._uU(19,"Nota"),l.qZA(),l.TgZ(20,"th",23),l._uU(21,"Eliminar"),l.qZA()()(),l.TgZ(22,"tbody"),l.YNc(23,N3,25,18,"tr",24),l.qZA(),l.YNc(24,L3,14,3,"tfoot",25),l.YNc(25,V3,2,0,"p",26),l.qZA()()),2&n){const t=l.oxw();l.Q6J("@slideInFromRight",void 0),l.xp6(23),l.Q6J("ngForOf",t.daily),l.xp6(1),l.Q6J("ngIf",0!==t.daily.length),l.xp6(1),l.Q6J("ngIf",0==t.daily.length)}}let B3=(()=>{class n{constructor(t,i,r,a,u,f,_,w){this.afAuth=t,this._productService=i,this._reportes=r,this._daily=a,this.toastr=u,this.router=f,this._registros=_,this._comunication=w,this.productoSeleccionado=null,this.modalActivo=!1,this.productosRegistrados=[],this.message="",this.enabledButton=!1,this.habilitar=!0,this.products=[],this.daily=[],this.registrarActivo=!1,this.pagarModal=!1,this.total=0,this.idp="",this.ganancia=0,this.resultado=0,this.valor=!1,this.esPoker=!1,this.limitarClick=!1,this.cantidadOriginal=0}ngOnInit(){this._comunication.valorEnviado.subscribe(t=>{this.valor=t}),this.getDaily(),this.getProducts(),this.afAuth.currentUser.then(t=>{t?this.dataUser=t:this.router.navigate(["/login"])})}getProducts(){this._productService.getProducts().subscribe(t=>{this.products=[],t.forEach(i=>{this.products.push({id:i.payload.doc.id,...i.payload.doc.data()})})})}getDaily(){this._daily.obtDaily().subscribe(t=>{this.daily=[],t.forEach(i=>{this.daily.push({id:i.payload.doc.id,...i.payload.doc.data()}),console.log(this.daily);let r=0;this.daily.forEach(u=>{r+=u.precioTotal}),this.total=r;let a=0;this.daily.forEach(u=>{a+=u.ganancia}),this.ganancia=a})})}actualizarPrecioTotal(){this.productoSeleccionado.precioTotal=this.productoSeleccionado.precio*this.productoSeleccionado.cantidad,this.enabledButton=!1,this.habilitar=!(this.productoSeleccionado.cantidad<=this.productoSeleccionado.disponible),(0==this.productoSeleccionado.cantidad||null==this.productoSeleccionado.cantidad||null==this.productoSeleccionado.cantidad)&&(this.habilitar=!0)}onInputChange(){this.habilitar=!1}calcularPrecioTotal(t){return this.productoSeleccionado.precio*t}abrirModal(t){this.cantidadOriginal=t.cantidad,this.habilitar=!0,this.productoSeleccionado=t,this.productoSeleccionado.cantidad=0;const i=this.products.find(r=>r.nombre==this.productoSeleccionado.nombre);Number.isNaN(i?.disponible)||0==i?.disponible?(this.modalActivo=!1,this.message="* Producto agotado!!",setTimeout(()=>{this.message=""},2e3)):this.modalActivo=!0}cerrarModal(){this.pagarModal=!1,this.registrarActivo=!1,this.enabledButton=!1,this.modalActivo=!1,this.productoSeleccionado.cantidad=0,this.valorRestado=null,this.resultado=0,this.productoSeleccionado.precioTotal=0}incrementarCantidad(){this.habilitar=!1,this.maxCantidad=this.productoSeleccionado.cantidad,this.enabledButton=this.maxCantidad+1==this.productoSeleccionado.disponible,this.productoSeleccionado.cantidad++,this.productoSeleccionado.precioTotal=this.productoSeleccionado.cantidad*this.productoSeleccionado.precio}decrementarCantidad(){this.enabledButton=!1,this.productoSeleccionado.cantidad>0&&(this.productoSeleccionado.cantidad--,this.productoSeleccionado.precioTotal=this.productoSeleccionado.cantidad*this.productoSeleccionado.precio),0==this.productoSeleccionado.cantidad&&(this.habilitar=!0)}registrarProducto(){let{nombre:i,cantidad:r,descripcion:a,disponible:u,imagenes:f,precio:_,precioCompra:w,precioTotal:I}=this.productoSeleccionado;const M=this.products.find(Xe=>Xe.nombre===i);M&&(M.disponible-=r,u=M.disponible);const q=r*w;this.productosRegistrados.push({nombre:i,cantidad:r,descripcion:a,disponible:u,imagenes:f,precio:_,precioCompra:w,precioTotalCompra:q,ganancia:I-q,precioTotal:I,cantidadTotal:r+this.cantidadOriginal,pago:!1});const nt={nombre:this.productoSeleccionado.nombre,cantidad:this.productoSeleccionado.cantidad,descripcion:this.productoSeleccionado.descripcion,disponible:this.productoSeleccionado.disponible,precio:this.productoSeleccionado.precio,precioTotal:this.productoSeleccionado.precioTotal,precioCompra:this.productoSeleccionado.precioCompra,pago:!1,ganancia:(this.productoSeleccionado.precio-this.productoSeleccionado.precioCompra)*r};console.log("proggg",this.productoSeleccionado),this._daily.agregarDaily(nt).then(()=>{console.log("producto agregado")}),this.modalActivo=!1,this.enabledButton=!1,this.productoSeleccionado.cantidad=0,this.productoSeleccionado.precioTotal=0}eliminarProducto(t){this._daily.deleteDaily(t).then(()=>{console.log("Eliminado exitosamente")}).catch(i=>{console.error("Error al eliminar:",i)})}calcularTotal(){let t=0;return this.productosRegistrados.forEach(i=>{t+=i.precioTotal}),t}modalRegistrar(){this.registrarActivo=!0}restarValor(){}agregarReporte(){this.limitarClick=!0,setTimeout(()=>{this.limitarClick=!1},2e3),console.log(this.productosRegistrados),this._productService.updateProducts(this.productosRegistrados).then(()=>{}),this.productosRegistrados.map(V=>V.id);const i=this.productosRegistrados.map(V=>V.nombre),r=this.productosRegistrados.map(V=>V.cantidad),a=this.productosRegistrados.map(V=>V.disponible),u=this.productosRegistrados.map(V=>V.descripcion),f=this.productosRegistrados.map(V=>V.precio),_=this.productosRegistrados.map(V=>V.precioCompra),w=this.productosRegistrados.map(V=>V.precioTotal),I=this.productosRegistrados.map(V=>V.ganancia),P={nombre:i,cantidad:r,descripcion:u,disponible:a,precio:f,precioCompra:_,precioTotalCompra:this.productosRegistrados.map(V=>V.precioTotalCompra),ganancia:I,precioTotal:w,total:this.calcularTotal(),fechaCreacion:new Date};this._reportes.addReport(P).then(()=>{this.toastr.success("Registrado con exito","Reporte Registrado!!"),this.productosRegistrados=[],this.registrarActivo=!1}),this.getProducts(),this.productoSeleccionado=null,this._daily.deleteAllDaily().then(()=>{})}abrirPago(t){this.idp=t,this.pagarModal=!0}actualizar(){this._daily.updateDaily(this.idp,{pago:!0}).then(()=>{console.log("actualizado")}),this.pagarModal=!1}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ku),l.Y36(ev),l.Y36(IN),l.Y36(SB),l.Y36(fo),l.Y36(Xn),l.Y36(xR),l.Y36(AN))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-list-products"]],decls:7,vars:3,consts:[[1,"table-responsive"],[2,"display","flex","flex-wrap","wrap","justify-content","center","row-gap","6px"],["class","product",4,"ngFor","ngForOf"],["class","modal",4,"ngIf"],["class","contenedor-flotante",4,"ngIf"],[1,"product"],[1,"producto",2,"border","1px solid #8080802e","border-radius","6px","margin","2px",3,"click"],["alt","Imagen no disponible","width","100","height","100",3,"src"],[2,"text-align","center"],[2,"color","red"],[1,"modal"],[1,"contenido-modal"],["alt","Imagen no disponible","width","200","height","200",3,"src"],["type","number",2,"text-align","center",3,"ngModel","ngModelChange","input"],[1,"input-group"],[1,"btn-cantidad","btn-decrementar",3,"click"],["id","cantidad","type","number","min","0",3,"ngModel","ngModelChange","input"],[1,"btn-cantidad","btn-incrementar",3,"disabled","click"],[1,"botones"],[2,"background-color","red",3,"click"],["type","button",1,"btn","btn-success",2,"background-color","green",3,"disabled","click"],[1,"contenedor-flotante"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[4,"ngIf"],["style","margin: 6px",4,"ngIf"],["type","checkbox",1,"styled-checkbox",3,"disabled","ngModel","ngModelChange"],[1,"btn","btn-success",3,"click"],["name","","id","","cols","30","rows","1"],[1,"btn","btn-danger",3,"click"],[2,"display","contents"],["type","number",3,"ngModel","ngModelChange"],[2,"gap","7px","display","flex"],[1,"btn","btn-danger",2,"background-color","blue",3,"click"],[2,"background-color","#0014ff2b"],[2,"margin-bottom","14px"],[2,"margin","6px"]],template:function(t,i){1&t&&(l._UZ(0,"app-navbar"),l.TgZ(1,"div")(2,"div",0)(3,"div",1),l.YNc(4,k3,14,11,"div",2),l.YNc(5,O3,26,14,"div",3),l.qZA()(),l.YNc(6,U3,26,4,"div",4),l.qZA()),2&t&&(l.xp6(4),l.Q6J("ngForOf",i.products),l.xp6(1),l.Q6J("ngIf",i.modalActivo),l.xp6(1),l.Q6J("ngIf",i.valor))},dependencies:[un,dn,Zr,gc,qr,dc,S,Mu,ng,go],styles:['@charset "UTF-8";.producto[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;cursor:pointer;margin:10px;height:285px}.product[_ngcontent-%COMP%]{width:140px;height:285px}.producto[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:10px}.producto[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:5px}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:100}.contenido-modal[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #00000080;display:flex;flex-direction:column;align-items:center}.contenido-modal[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:10px}.contenido-modal[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:10px}.contenido-modal[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.contenido-modal[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:10px;padding:5px;width:100%;box-sizing:border-box;border:1px solid #ccc;border-radius:5px}.contenido-modal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px 10px;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer}.btn-cantidad[_ngcontent-%COMP%]{padding:5px;border:none;background-color:#eee;cursor:pointer}.btn-decrementar[_ngcontent-%COMP%]{border-radius:5px 0 0 5px}.btn-incrementar[_ngcontent-%COMP%]{border-radius:0 5px 5px 0}.input-group[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}#cantidad[_ngcontent-%COMP%]{width:40px;text-align:center}.btn-decrementar[_ngcontent-%COMP%]{height:32px;order:1}#cantidad[_ngcontent-%COMP%]{order:2}.btn-incrementar[_ngcontent-%COMP%]{height:32px;order:3}.input-group[_ngcontent-%COMP%]{display:flex;align-items:flex-start;margin-bottom:10px;justify-content:space-between;width:100px}.botones[_ngcontent-%COMP%]{display:flex;gap:12px}@media screen and (max-width: 600px){.producto[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;row-gap:6px;align-items:center;justify-content:space-around;height:300px}.product[_ngcontent-%COMP%]{width:140px;height:300px}.contenedor-flotante[_ngcontent-%COMP%]{position:absolute;top:0;right:-400px;width:400px;height:100%;background-color:#fff;box-shadow:-2px 0 6px #0000004d;padding:20px;z-index:1000;transition:right .3s ease-in-out}@keyframes slideInFromRight{0%{right:-400px}to{right:0}}.changeV[_ngcontent-%COMP%]{position:absolute;color:#007bff}}'],data:{animation:[Wp("slideInFromRight",[ro("void",_s({transform:"translateX(100%)"})),ro("*",_s({transform:"translateX(0)"})),Da(":enter",io("300ms ease-in-out")),Da(":leave",io("300ms ease-in-out"))])]}}),n})();function H3(n,e){1&n&&(l.TgZ(0,"div",17),l._uU(1," Los campos con * son obligatorios "),l.qZA())}let FF=(()=>{class n{constructor(t,i,r,a,u,f){this.location=t,this._productService=i,this.toastr=r,this.fb=a,this.router=u,this.aRouter=f,this.subbmited=!1,this.titleChange="Agregar Producto",this.urlImagen="https://media.istockphoto.com/id/1162198273/es/vector/dise%C3%B1o-de-ilustraci%C3%B3n-vectorial-plana-icono-de-signo-de-interrogaci%C3%B3n.jpg?s=1024x1024&w=is&k=20&c=pZBCbPrSZDpGfF0OzRN78BeLUIJbiWaRxeKVO2TG7sA=",this.cantidadTotal=0,this.disponibleTotal=0,this.nuevoSurtido=0,this.disponible=0,this.resultado=0,this.resultadoTotal=0,this.isDisabled=!0,this.createProduct=this.fb.group({nombre:["",Hn.required],descripcion:[""],precioCompra:["",Hn.required],precio:["",Hn.required],imagenes:[""],disponible:[{value:"",disabled:!0},Hn.required],disponibleTotal:[{value:"",disabled:!0},Hn.required],cantidadTotal:[""],nuevoSurtido:[""]}),this.id=this.aRouter.snapshot.paramMap.get("id")}ngOnInit(){this.EXeditProducto()}change(){const t=this.createProduct.get("disponibleTotal"),i=this.createProduct.get("disponible");console.log(t),t?.disabled?t.enable():t?.disable(),i?.disabled?i.enable():i?.disable()}sumar(){this.resultado=this.nuevoSurtido+this.disponible,this.resultadoTotal=this.nuevoSurtido+this.disponibleTotal}verificar(){return!!this.createProduct.valid||(this.subbmited=!0,setTimeout(()=>{this.subbmited=!1},4e3),!1)}agregarEditarProducto(){this.subbmited=!0,!this.createProduct.invalid&&(null===this.id?this.agregarProducto():this.editarProducto(this.id))}agregarProducto(){this._productService.agregarproducto({nombre:this.createProduct.value.nombre,descripcion:this.createProduct.value.descripcion,precioCompra:this.createProduct.value.precioCompra,precio:this.createProduct.value.precio,cantidad:0,cantidadTotal:this.createProduct.value.cantidadTotal,precioTotal:0,imagenes:this.createProduct.value.imagenes,disponible:this.resultado,disponibleTotal:this.resultadoTotal,nuevoSurtido:0}).then(()=>{this.toastr.success("Agregado con exito!!","Producto Agregado"),this.router.navigate(["/reporte-por-producto"])})}editarProducto(t){this._productService.update(t,{nombre:this.createProduct.value.nombre,descripcion:this.createProduct.value.descripcion,precioCompra:this.createProduct.value.precioCompra,precio:this.createProduct.value.precio,cantidadTotal:this.createProduct.value.cantidadTotal,imagenes:this.createProduct.value.imagenes,disponible:this.resultado,disponibleTotal:this.resultadoTotal,nuevoSurtido:0}).then(()=>{this.toastr.info("Producto modificado con exito","Actualizacion Exitosa"),this.router.navigate(["/reporte-por-producto"])})}EXeditProducto(){null!==this.id&&(this.titleChange="Editar Producto",this._productService.getProducto(this.id).subscribe(t=>{const{disponible:i,disponibleTotal:r}=t.payload.data();this.createProduct.setValue({nombre:t.payload.data().nombre,descripcion:t.payload.data().descripcion,precioCompra:t.payload.data().precioCompra,precio:t.payload.data().precio,cantidadTotal:t.payload.data().cantidadTotal,imagenes:t.payload.data().imagenes,disponible:i,disponibleTotal:t.payload.data().disponibleTotal,nuevoSurtido:t.payload.data().nuevoSurtido}),this.disponible=i,this.disponibleTotal=r}))}goBack(){this.location.back()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Oe),l.Y36(ev),l.Y36(fo),l.Y36(bp),l.Y36(Xn),l.Y36(Tl))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-create-product"]],decls:48,vars:7,consts:[[2,"display","flex","flex-direction","column","align-items","center"],[3,"click"],[3,"formGroup","ngSubmit"],[1,"container-form"],[1,"container-element"],["type","text","placeholder","Nombre del producto","formControlName","nombre",1,"form-control","mt-2","text-center"],["type","text","placeholder","Descripci\xf3n","formControlName","descripcion",1,"form-control","mt-2","text-center"],["type","number","placeholder","precio de compra","formControlName","precioCompra",1,"form-control","mt-2","text-center"],["type","number","placeholder","precio de venta","formControlName","precio",1,"form-control","mt-2","text-center"],["type","text","placeholder","url de imagen","formControlName","imagenes",1,"form-control","mt-2","text-center",3,"ngModel","ngModelChange"],["type","number","placeholder","Disponible Total","formControlName","disponibleTotal","id","valor1",1,"form-control","mt-2","text-center",3,"ngModel","ngModelChange"],["type","number","placeholder","Nuevo surtido","formControlName","nuevoSurtido","id","valor1",1,"form-control","mt-2","text-center",3,"ngModel","ngModelChange","input"],["type","number","placeholder","Disponible","formControlName","disponible","id","disponible",1,"form-control","mt-2","text-center",3,"ngModel","ngModelChange"],[2,"display","flex","gap","11px","margin","14px 0 0 0","justify-content","space-between"],[1,"btn","btn-danger",3,"click"],["type","submit",1,"btn","btn-success",3,"click"],["style","color: red",4,"ngIf"],[2,"color","red"]],template:function(t,i){1&t&&(l._UZ(0,"app-navbar"),l.TgZ(1,"div",0)(2,"div")(3,"h2",1),l.NdJ("click",function(){return i.change()}),l._uU(4),l.qZA()(),l.TgZ(5,"div")(6,"form",2),l.NdJ("ngSubmit",function(){return i.agregarEditarProducto()}),l.TgZ(7,"div",3)(8,"div",4)(9,"label"),l._uU(10,"* Nombre "),l._UZ(11,"input",5),l.qZA()(),l.TgZ(12,"div",4)(13,"label"),l._uU(14,"Descripci\xf3n "),l._UZ(15,"input",6),l.qZA()(),l.TgZ(16,"div",4)(17,"label"),l._uU(18,"* Precio de compra "),l._UZ(19,"input",7),l.qZA()(),l.TgZ(20,"div",4)(21,"label"),l._uU(22,"* Precio de venta "),l._UZ(23,"input",8),l.qZA()(),l.TgZ(24,"div",4)(25,"label"),l._uU(26,"Imagen "),l.TgZ(27,"input",9),l.NdJ("ngModelChange",function(a){return i.urlImagen=a}),l.qZA()()(),l.TgZ(28,"div",4)(29,"label"),l._uU(30,"* Disponible total "),l.TgZ(31,"input",10),l.NdJ("ngModelChange",function(a){return i.resultadoTotal=a}),l.qZA()()(),l.TgZ(32,"div",4)(33,"label"),l._uU(34,"Nuevo surtido "),l.TgZ(35,"input",11),l.NdJ("ngModelChange",function(a){return i.nuevoSurtido=a})("input",function(){return i.sumar()}),l.qZA()()(),l.TgZ(36,"div",4)(37,"label"),l._uU(38,"* Disponible "),l.TgZ(39,"input",12),l.NdJ("ngModelChange",function(a){return i.resultado=a}),l.qZA()()(),l.TgZ(40,"div",13)(41,"div",4)(42,"button",14),l.NdJ("click",function(){return i.goBack()}),l._uU(43,"Volver"),l.qZA()(),l.TgZ(44,"div",4)(45,"button",15),l.NdJ("click",function(){return i.verificar()}),l._uU(46," Aceptar "),l.qZA()()(),l.YNc(47,H3,2,0,"div",16),l.qZA()()()()),2&t&&(l.xp6(4),l.Oqu(i.titleChange),l.xp6(2),l.Q6J("formGroup",i.createProduct),l.xp6(21),l.Q6J("ngModel",i.urlImagen),l.xp6(4),l.Q6J("ngModel",i.resultadoTotal),l.xp6(4),l.Q6J("ngModel",i.nuevoSurtido),l.xp6(4),l.Q6J("ngModel",i.resultado),l.xp6(8),l.Q6J("ngIf",i.subbmited&&i.createProduct.invalid))},dependencies:[dn,yl,Zr,gc,dc,hl,Qs,Ti,ng]}),n})();function j3(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",15)(1,"div",16)(2,"p"),l._uU(3,"\xbfestas seguro que deseas eliminar este producto?"),l.qZA(),l.TgZ(4,"div",17)(5,"button",18),l.NdJ("click",function(){l.CHM(t);const r=l.oxw(2);return l.KtG(r.cerrarModalEliminar())}),l._uU(6," Cerrar "),l.qZA(),l.TgZ(7,"button",19),l.NdJ("click",function(){l.CHM(t);const r=l.oxw(2);return l.KtG(r.eliminarProducto2())}),l._uU(8," Eliminar "),l.qZA()()()()}}const $3=function(n){return["/edit-product/",n]};function z3(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"tr")(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l._UZ(8,"img",9),l.qZA(),l.TgZ(9,"td"),l._uU(10),l.ALo(11,"currency"),l.qZA(),l.TgZ(12,"td"),l._uU(13),l.ALo(14,"currency"),l.qZA(),l.TgZ(15,"td",10)(16,"div",11)(17,"div"),l._UZ(18,"i",12),l.qZA(),l.TgZ(19,"div")(20,"i",13),l.NdJ("click",function(){const a=l.CHM(t).$implicit,u=l.oxw();return l.KtG(u.abrirModalEliminar(a.id))}),l.qZA(),l.YNc(21,j3,9,0,"div",14),l.qZA()()()()}if(2&n){const t=e.$implicit,i=l.oxw();l.xp6(2),l.Oqu(t.nombre),l.xp6(2),l.Oqu(t.descripcion),l.xp6(2),l.Oqu(t.disponible),l.xp6(2),l.Q6J("src",t.imagenes,l.LSH),l.xp6(2),l.hij("$",l.gM2(11,8,t.precioCompra," ","symbol","1.0"),""),l.xp6(3),l.hij("$",l.gM2(14,13,t.precio," ","symbol","1.0"),""),l.xp6(5),l.Q6J("routerLink",l.VKq(18,$3,t.id)),l.xp6(3),l.Q6J("ngIf",i.modalActivoEliminar)}}function G3(n,e){1&n&&(l.TgZ(0,"p"),l._uU(1,"No hay productos seleccionados"),l.qZA())}let q3=(()=>{class n{constructor(t,i){this._productService=t,this.toastr=i,this.products=[],this.modalActivoEliminar=!1}ngOnInit(){this.getProducts()}getProducts(){this._productService.getProducts().subscribe(t=>{this.products=[],t.forEach(i=>{this.products.push({id:i.payload.doc.id,...i.payload.doc.data()})})})}abrirModalEliminar(t){this.idObtenido=t,this.modalActivoEliminar=!0}cerrarModalEliminar(){this.modalActivoEliminar=!1}eliminarProducto2(){this._productService.deleteProducts(this.idObtenido).then(()=>{this.modalActivoEliminar=!1,this.toastr.error("El producto fue eliminado con exito","Producto eliminado")})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ev),l.Y36(fo))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-info-product"]],decls:32,vars:2,consts:[[2,"margin","6px 6px 12px 6px"],[2,"display","flex","justify-content","space-between"],[1,"float"],["routerLink","/create-product",1,"btn","btn-dark","btn-lg"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[4,"ngIf"],["routerLink","/list-products",1,"btn","btn-danger"],["width","50","height","50","alt","url no valida",3,"src"],[2,"width","85px"],[2,"display","flex","justify-content","space-evenly"],[1,"fas","fa-edit","fa-lg","text-info",2,"cursor","pointer",3,"routerLink"],[1,"fas","fa-trash-alt","fa-lg","text-danger",2,"cursor","pointer",3,"click"],["class","modal",4,"ngIf"],[1,"modal"],[1,"contenido-modal"],[1,"botones",2,"display","flex","gap","8px","justify-content","center"],[1,"btn","btn-danger",2,"background-color","blue",3,"click"],["type","button",1,"btn","btn-success",2,"background-color","red",3,"click"]],template:function(t,i){1&t&&(l._UZ(0,"app-navbar"),l.TgZ(1,"div",0)(2,"div",1)(3,"div")(4,"H3"),l._uU(5,"LISTA DE PRODUCTOS"),l.qZA()(),l.TgZ(6,"div",2)(7,"button",3),l._uU(8," Agregar nuevo producto "),l.qZA()()()(),l.TgZ(9,"table",4)(10,"thead")(11,"tr")(12,"th",5),l._uU(13,"Nombre"),l.qZA(),l.TgZ(14,"th",5),l._uU(15,"Descripcion"),l.qZA(),l.TgZ(16,"th",5),l._uU(17,"Disponible"),l.qZA(),l.TgZ(18,"th",5),l._uU(19,"URL imagen"),l.qZA(),l.TgZ(20,"th",5),l._uU(21,"Precio compra"),l.qZA(),l.TgZ(22,"th",5),l._uU(23,"Precio venta"),l.qZA(),l.TgZ(24,"th",5),l._uU(25,"Acciones"),l.qZA()()(),l.TgZ(26,"tbody"),l.YNc(27,z3,22,20,"tr",6),l.qZA(),l.YNc(28,G3,2,0,"p",7),l.qZA(),l.TgZ(29,"div",0)(30,"button",8),l._uU(31,"Volver"),l.qZA()()),2&t&&(l.xp6(27),l.Q6J("ngForOf",i.products),l.xp6(1),l.Q6J("ngIf",0==i.products.length))},dependencies:[un,dn,Po,ng,go],styles:[".modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0000001a;display:flex;justify-content:center;align-items:center;z-index:100}.contenido-modal[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a;display:flex;flex-direction:column;align-items:center}"]}),n})();function Z3(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",11)(1,"div",12)(2,"p"),l._uU(3,' Al hacer esto se almacena en "Registros" creando una tabla de ventas '),l.qZA(),l.TgZ(4,"div",2)(5,"button",13),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.cerrarModalEliminar())}),l._uU(6," Cerrar "),l.qZA(),l.TgZ(7,"button",6),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.eliminarReportes())}),l._uU(8," Registrar "),l.qZA()()()()}}function W3(n,e){if(1&n&&(l.TgZ(0,"tr")(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l._uU(8),l.ALo(9,"currency"),l.qZA()()),2&n){const t=e.$implicit,i=l.oxw();l.xp6(2),l.hij(" ",t.fechaCreacion," "),l.xp6(2),l.hij(" ",i.countOccurrences(t.nombre).join(", ")," "),l.xp6(2),l.hij("$",t.gananciaObtenida,""),l.xp6(2),l.hij("$",l.gM2(9,4,t.total," ","symbol","1.0"),"")}}let K3=(()=>{class n{constructor(t,i,r,a){this._products=t,this._reportes=i,this._registro=r,this.toastr=a,this.reportes=[],this.reports=[],this.totalVentas=0,this.gananciaObtenida=0,this.modalActivoEliminar=!1}ngOnInit(){this.obtReportes()}obtReportes(){this._reportes.obtReports().subscribe(t=>{t.forEach(a=>{this.reportes.push({id:a.payload.doc.id,...a.payload.doc.data()})});let i=this.reportes.reduce((a,u)=>a+u.total,0);this.totalVentas=i;for(const a of this.reportes)a.gananciaObtenida=parseInt(a.ganancia);let r=this.reportes.reduce((a,u)=>a+u.gananciaObtenida,0);this.gananciaObtenida=r,console.log("mostrar",r);for(const a of this.reportes){const u=a.fechaCreacion;if(u&&u.seconds&&u.nanoseconds){const _=new Date(1e3*u.seconds+u.nanoseconds/1e6),w=new Intl.DateTimeFormat("en-US",{timeZone:"America/Bogota",dateStyle:"medium",timeStyle:"medium"}).format(_);a.fechaCreacion=w}}})}joinArray(t,i){return t.join(i)}countOccurrences(t){const i=[],r={};for(const a of t)a in r?r[a]+=1:r[a]=1;for(const[a,u]of Object.entries(r))i.push(`${a}${u>1?" x"+u:""}`);return i}abrirModalEliminar(){this.modalActivoEliminar=!0}cerrarModalEliminar(){this.modalActivoEliminar=!1}eliminarReportes(){const t=this.reportes.map(w=>w.nombre),i=this.reportes.map(w=>w.cantidad),r=this.gananciaObtenida,a=this.totalVentas,u=t.flat(),f=i.flat();console.log(u);const _={nombres:u,cantidades:f,gananciaObtenida:r,total:a};console.log(_),this._registro.addRegistros(_).then(()=>{}),this.modalActivoEliminar=!1,this._reportes.deleteAllReports().then(()=>{this.reportes=[],this.gananciaObtenida=0,this.totalVentas=0,this.toastr.info("Registrado con exito","Reporte Registrados!!")})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ev),l.Y36(IN),l.Y36(xR),l.Y36(fo))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-reportes"]],decls:42,vars:9,consts:[[2,"margin","6px"],[2,"display","flex","justify-content","space-between"],[2,"display","flex","gap","9px"],[2,"margin","10px 0 6px 0"],["routerLink","/reporte-por-producto"],["routerLink","/registros"],[1,"btn","btn-info",3,"click"],["class","modal",4,"ngIf"],[1,"table","table-striped"],[1,"col"],[4,"ngFor","ngForOf"],[1,"modal"],[1,"contenido-modal"],[1,"btn","btn-danger",2,"background-color","blue",3,"click"]],template:function(t,i){1&t&&(l._UZ(0,"app-navbar"),l.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"button",4),l._uU(6,"REPORTE GENERAL"),l.qZA()(),l.TgZ(7,"div",3)(8,"button",4),l._uU(9,"REPORTE POR PRODUCTO"),l.qZA()(),l.TgZ(10,"div",3)(11,"button",5),l._uU(12,"REGISTROS"),l.qZA()()(),l.TgZ(13,"div")(14,"button",6),l.NdJ("click",function(){return i.abrirModalEliminar()}),l._uU(15," Enviar a Registros "),l.qZA(),l.YNc(16,Z3,9,0,"div",7),l.qZA()(),l.TgZ(17,"table",8)(18,"thead")(19,"th",9),l._uU(20,"Fecha"),l.qZA(),l.TgZ(21,"th",9),l._uU(22,"Nombre"),l.qZA(),l.TgZ(23,"th",9),l._uU(24,"ganancia"),l.qZA(),l.TgZ(25,"th",9),l._uU(26,"Total"),l.qZA()(),l.TgZ(27,"tbody"),l.YNc(28,W3,10,9,"tr",10),l.qZA()(),l.TgZ(29,"table",8)(30,"thead")(31,"th",9),l._uU(32,"Ganacia Obtenida"),l.qZA(),l.TgZ(33,"th",9),l._uU(34,"Total ventas"),l.qZA()(),l.TgZ(35,"tbody")(36,"tr")(37,"td"),l._uU(38),l.qZA(),l.TgZ(39,"td"),l._uU(40),l.ALo(41,"currency"),l.qZA()()()()()),2&t&&(l.xp6(16),l.Q6J("ngIf",i.modalActivoEliminar),l.xp6(12),l.Q6J("ngForOf",i.reportes),l.xp6(10),l.hij("$",i.gananciaObtenida,""),l.xp6(2),l.hij("$",l.gM2(41,4,i.totalVentas," ","symbol","1.0"),""))},dependencies:[un,dn,Po,ng,go],styles:[".modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:100}.contenido-modal[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #00000080;display:flex;flex-direction:column;align-items:center}"]}),n})(),LF=(()=>{class n{constructor(t){this.toastr=t}errorFirebase(t){switch(t){case"auth/user-not-found":case"auth/wrong-password":this.toastr.error("Usuario/Contrase\xf1a invalida","Error");break;case"auth/invalid-email":this.toastr.error("No hay correo valido o llena todos los campos","Error");break;case"auth/email-already-in-use":this.toastr.error("Usuario ya registrado","Error");break;case"auth/weak-password":this.toastr.error("Contrase\xf1a Debil","Error");break;case"auth/internal-error":this.toastr.error("Correo no valido","Error")}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fo))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jR=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-spinner"]],decls:3,vars:0,consts:[["role","status",1,"spinner-border","text-primary","posicion"],[1,"visually-hidden"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"span",1),l._uU(2,"Loading..."),l.qZA()())}}),n})();function Y3(n,e){1&n&&(l.TgZ(0,"span",19),l._uU(1,"El "),l.TgZ(2,"strong"),l._uU(3,"correo "),l.qZA(),l._uU(4,"es requerido"),l.qZA())}function Q3(n,e){1&n&&(l.TgZ(0,"span",19),l._uU(1,"El "),l.TgZ(2,"strong"),l._uU(3,"correo "),l.qZA(),l._uU(4,"es invalido"),l.qZA())}function X3(n,e){1&n&&(l.TgZ(0,"span",19),l._uU(1,"La "),l.TgZ(2,"strong"),l._uU(3,"contrase\xf1a "),l.qZA(),l._uU(4,"debe contener mas de 6 caracteres"),l.qZA())}function J3(n,e){if(1&n&&(l.TgZ(0,"span",20),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Oqu(t.message)}}function e6(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",4)(1,"form",5),l.NdJ("ngSubmit",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.login())}),l.TgZ(2,"div")(3,"h2",6),l._uU(4,"LicorMania"),l.qZA()(),l.TgZ(5,"h2",7),l._uU(6,"Iniciar sesi\xf3n"),l.qZA(),l.TgZ(7,"div",8)(8,"label",9),l._uU(9,"Correo electr\xf3nico"),l.qZA(),l._UZ(10,"input",10),l.YNc(11,Y3,5,0,"span",11),l.YNc(12,Q3,5,0,"span",11),l.qZA(),l.TgZ(13,"div",8)(14,"label",12),l._uU(15,"Contrase\xf1a"),l.qZA(),l._UZ(16,"input",13),l.YNc(17,X3,5,0,"span",11),l.qZA(),l.TgZ(18,"div",14)(19,"a",15),l._uU(20,"\xbfOlvidaste tu contrase\xf1a?"),l.qZA(),l.TgZ(21,"a",16),l._uU(22,"Registrarse"),l.qZA()(),l.TgZ(23,"button",17),l._uU(24,"Iniciar sesi\xf3n"),l.qZA(),l.YNc(25,J3,2,1,"span",18),l.qZA()()}if(2&n){const t=l.oxw();let i,r,a;l.xp6(1),l.Q6J("formGroup",t.loginUsuario),l.xp6(9),l.Q6J("value","administrador.sistema@gmail.com"),l.xp6(1),l.Q6J("ngIf",(null==(i=t.loginUsuario.get("email"))?null:i.hasError("required"))&&(null==(i=t.loginUsuario.get("email"))?null:i.touched)),l.xp6(1),l.Q6J("ngIf",(null==(r=t.loginUsuario.get("email"))?null:r.hasError("email"))&&(null==(r=t.loginUsuario.get("email"))?null:r.touched)),l.xp6(5),l.Q6J("ngIf",(null==(a=t.loginUsuario.get("password"))?null:a.hasError("required"))&&(null==(a=t.loginUsuario.get("password"))?null:a.touched)),l.xp6(6),l.Q6J("disabled",t.loginUsuario.invalid),l.xp6(2),l.Q6J("ngIf",t.verificar)}}function t6(n,e){1&n&&(l.TgZ(0,"div",21)(1,"h2",6),l._uU(2,"LicorMania"),l.qZA(),l.TgZ(3,"span",22),l._uU(4,"Iniciando sesion..."),l.qZA(),l._UZ(5,"app-spinner"),l.qZA())}let n6=(()=>{class n{constructor(t,i,r,a,u){this.firebaseError=t,this.fb=i,this.afAuth=r,this.toastr=a,this.router=u,this.loading=!1,this.verificar=!1,this.message="",this.loginUsuario=this.fb.group({email:["",[Hn.required,Hn.email]],password:["",Hn.required]})}ngOnInit(){this.loginUsuario.patchValue({email:"administrador.sistema@gmail.com",password:"123400"})}login(){const t=this.loginUsuario.value.email,i=this.loginUsuario.value.password;"administrador.sistema@gmail.com"===t||"dlaleja10@hotmail.com"===t||"brahianriver99@gmail.com"===t||"edwinkaycut@gmail.com"===t?(this.loading=!0,this.afAuth.signInWithEmailAndPassword(t,i).then(r=>{this.router.navigate(["/list-products"]),console.log(r)}).catch(r=>{this.firebaseError.errorFirebase(r.code),this.loading=!1})):(this.verificar=!0,this.message="No estas Autorizado, comunicate con el administrador del sistema,",setTimeout(()=>{this.message=""},2e3))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(LF),l.Y36(bp),l.Y36(Ku),l.Y36(fo),l.Y36(Xn))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-login-form"]],decls:4,vars:2,consts:[["src","../../../assets/image/big.png","alt","",1,"logo"],[2,"display","flex","justify-content","center"],["class","container-login",4,"ngIf"],["style","    display: flex;\n    position: absolute;\n    top: 42%;\n    flex-direction: column;\n    align-items: center;",4,"ngIf"],[1,"container-login"],[1,"form-contenedor",3,"formGroup","ngSubmit"],[1,"elH2"],[1,"form-title"],[1,"form-group"],["for","email"],["type","email","name","email","placeholder","correo electronico","formControlName","email",3,"value"],["class","text-danger errorLabel",4,"ngIf"],["for","password"],["type","password","id","password","name","password","placeholder","Contrase\xf1a","formControlName","password"],[1,"form-group","form-links"],["href","#","routerLink","/recuperar",1,"forgot-password"],["href","#","routerLink","/registrar",1,"register-link"],["type","submit",1,"submit-button",3,"disabled"],["style","color: red;",4,"ngIf"],[1,"text-danger","errorLabel"],[2,"color","red"],[2,"display","flex","position","absolute","top","42%","flex-direction","column","align-items","center"],[2,"margin-bottom","18px"]],template:function(t,i){1&t&&(l._UZ(0,"img",0),l.TgZ(1,"div",1),l.YNc(2,e6,26,7,"div",2),l.YNc(3,t6,6,0,"div",3),l.qZA()),2&t&&(l.xp6(2),l.Q6J("ngIf",!i.loading),l.xp6(1),l.Q6J("ngIf",i.loading))},dependencies:[dn,Gp,yl,Zr,dc,hl,Qs,Ti,jR],styles:[".login-form[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a}.form-title[_ngcontent-%COMP%]{font-size:24px;text-align:center;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;font-size:16px;font-weight:700;margin-bottom:5px}input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{display:block;width:100%;padding:10px;font-size:16px;border-radius:5px;border:1px solid #ccc}.submit-button[_ngcontent-%COMP%]{display:block;width:100%;padding:10px;font-size:16px;background-color:#f43a3a;color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease-in-out}.submit-button[_ngcontent-%COMP%]:hover{background-color:#d40e0e;color:#fffefe}.form-links[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.forgot-password[_ngcontent-%COMP%], .register-link[_ngcontent-%COMP%]{font-size:14px;text-decoration:none;color:#007bff;transition:color .3s ease-in-out}.forgot-password[_ngcontent-%COMP%]:hover, .register-link[_ngcontent-%COMP%]:hover{color:#0056b3}.elH2[_ngcontent-%COMP%]{font-size:36px;font-family:Arial,sans-serif;color:#ff6f61;text-align:center;text-shadow:2px 2px #000}.container-login[_ngcontent-%COMP%]{margin-top:8%;width:30%}.logo[_ngcontent-%COMP%]{position:absolute}@media screen and (max-width: 600px){.container-login[_ngcontent-%COMP%]{margin-top:19%;width:87%}.logo[_ngcontent-%COMP%]{display:none}}"]}),n})();function i6(n,e){1&n&&(l.TgZ(0,"span",12),l._uU(1,"El "),l.TgZ(2,"strong"),l._uU(3,"correo "),l.qZA(),l._uU(4,"es requerido"),l.qZA())}function r6(n,e){1&n&&(l.TgZ(0,"span",12),l._uU(1,"El "),l.TgZ(2,"strong"),l._uU(3,"correo "),l.qZA(),l._uU(4,"es invalido"),l.qZA())}function s6(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",2)(1,"form",3),l.NdJ("ngSubmit",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.recuperar())}),l.TgZ(2,"h2",4),l._uU(3,"LicorMania"),l.qZA(),l.TgZ(4,"h2",5),l._uU(5,"RECUPERAR CUENTA"),l.qZA(),l.TgZ(6,"div",6),l._UZ(7,"input",7),l.YNc(8,i6,5,0,"span",8),l.YNc(9,r6,5,0,"span",8),l.qZA(),l.TgZ(10,"div",9)(11,"button",10),l._uU(12," Volver "),l.qZA(),l.TgZ(13,"button",11),l._uU(14,"Aceptar"),l.qZA()()()()}if(2&n){const t=l.oxw();let i,r;l.xp6(1),l.Q6J("formGroup",t.recuperarUsuario),l.xp6(7),l.Q6J("ngIf",(null==(i=t.recuperarUsuario.get("email"))?null:i.hasError("required"))&&(null==(i=t.recuperarUsuario.get("email"))?null:i.touched)),l.xp6(1),l.Q6J("ngIf",(null==(r=t.recuperarUsuario.get("email"))?null:r.hasError("email"))&&(null==(r=t.recuperarUsuario.get("email"))?null:r.touched)),l.xp6(4),l.Q6J("disabled",t.recuperarUsuario.invalid)}}function o6(n,e){1&n&&(l.TgZ(0,"div",13)(1,"h2",4),l._uU(2,"LicorMania"),l.qZA(),l.TgZ(3,"span",14),l._uU(4,"Enviando peticion..."),l.qZA(),l._UZ(5,"app-spinner"),l.qZA())}let a6=(()=>{class n{constructor(t,i,r,a){this.fb=t,this.afAuth=i,this.toastr=r,this.router=a,this.loading=!1,this.recuperarUsuario=this.fb.group({email:["",[Hn.required,Hn.email]]})}ngOnInit(){}recuperar(){const t=this.recuperarUsuario.value.email;this.loading=!0,this.afAuth.sendPasswordResetEmail(t).then(()=>{this.router.navigate(["/login"]),this.toastr.info("Revisa tu correo para restablecer tu contrase\xf1a","Peticion Aceptada")}).catch(i=>{this.loading=!1,this.firebaseError(i.code)})}firebaseError(t){switch(t){case"auth/user-not-found":this.toastr.error("Este correo no es valido","Error");break;case"auth/missing-email":this.toastr.error("Inserta un correo","Error")}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(bp),l.Y36(Ku),l.Y36(fo),l.Y36(Xn))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-recuperar-contrasena"]],decls:3,vars:2,consts:[["style","margin-top: 8%",4,"ngIf"],["style","display: flex;\n    position: absolute;\n    left: 44%;\n    top: 42%;\n    flex-direction: column;\n    align-items: center;",4,"ngIf"],[2,"margin-top","8%"],[1,"login-form",3,"formGroup","ngSubmit"],[1,"elH2"],[1,"form-title"],[1,"form-group"],["type","email","name","email","placeholder","Correo electr\xf3nico","formControlName","email"],["class","text-danger errorLabel",4,"ngIf"],[2,"display","flex","gap","2px"],["type","button","routerLink","/login",1,"submit-button",2,"background-color","blue"],["type","submit",1,"submit-button",3,"disabled"],[1,"text-danger","errorLabel"],[2,"display","flex","position","absolute","left","44%","top","42%","flex-direction","column","align-items","center"],[2,"margin-bottom","18px"]],template:function(t,i){1&t&&(l.TgZ(0,"div"),l.YNc(1,s6,15,4,"div",0),l.YNc(2,o6,6,0,"div",1),l.qZA()),2&t&&(l.xp6(1),l.Q6J("ngIf",!i.loading),l.xp6(1),l.Q6J("ngIf",i.loading))},dependencies:[dn,Po,yl,Zr,dc,hl,Qs,Ti,jR],styles:[".login-form[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a}.form-title[_ngcontent-%COMP%]{font-size:24px;text-align:center;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;font-size:16px;font-weight:700;margin-bottom:5px}input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{display:block;width:100%;padding:10px;font-size:16px;border-radius:5px;border:1px solid #ccc}.submit-button[_ngcontent-%COMP%]{display:block;width:100%;padding:10px;font-size:16px;background-color:red;color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease-in-out}.submit-button[_ngcontent-%COMP%]:hover{background-color:red}.form-links[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.forgot-password[_ngcontent-%COMP%], .register-link[_ngcontent-%COMP%]{font-size:14px;text-decoration:none;color:#007bff;transition:color .3s ease-in-out}.forgot-password[_ngcontent-%COMP%]:hover, .register-link[_ngcontent-%COMP%]:hover{color:#0056b3}.elH2[_ngcontent-%COMP%]{font-size:36px;font-family:Arial,sans-serif;color:#ff6f61;text-align:center;text-shadow:2px 2px #000}"]}),n})();function l6(n,e){1&n&&(l.TgZ(0,"span",17),l._uU(1,"El "),l.TgZ(2,"strong"),l._uU(3,"correo "),l.qZA(),l._uU(4,"es requerido"),l.qZA())}function c6(n,e){1&n&&(l.TgZ(0,"span",17),l._uU(1,"El "),l.TgZ(2,"strong"),l._uU(3,"correo "),l.qZA(),l._uU(4,"es invalido"),l.qZA())}function u6(n,e){1&n&&(l.TgZ(0,"span",17),l._uU(1,"La "),l.TgZ(2,"strong"),l._uU(3,"contrase\xf1a "),l.qZA(),l._uU(4,"debe contener mas de 6 caracteres"),l.qZA())}function d6(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",2)(1,"form",3,4),l.NdJ("ngSubmit",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.registrar())}),l.TgZ(3,"h2",5),l._uU(4,"LicorMania"),l.qZA(),l.TgZ(5,"h2",6),l._uU(6,"REGISTRARSE"),l.qZA(),l.TgZ(7,"div",7)(8,"label",8),l._uU(9,"Correo electr\xf3nico"),l.qZA(),l._UZ(10,"input",9),l.YNc(11,l6,5,0,"span",10),l.YNc(12,c6,5,0,"span",10),l.qZA(),l.TgZ(13,"div",7)(14,"label",11),l._uU(15,"Contrase\xf1a"),l.qZA(),l._UZ(16,"input",12),l.YNc(17,u6,5,0,"span",10),l.qZA(),l.TgZ(18,"div",7),l._UZ(19,"input",13),l.qZA(),l.TgZ(20,"div",14)(21,"button",15),l._uU(22," Volver "),l.qZA(),l.TgZ(23,"button",16),l._uU(24,"Registrar"),l.qZA()()()()}if(2&n){const t=l.oxw();let i,r,a;l.xp6(1),l.Q6J("formGroup",t.registrarUsuario),l.xp6(10),l.Q6J("ngIf",(null==(i=t.registrarUsuario.get("email"))?null:i.hasError("required"))&&(null==(i=t.registrarUsuario.get("email"))?null:i.touched)),l.xp6(1),l.Q6J("ngIf",(null==(r=t.registrarUsuario.get("email"))?null:r.hasError("email"))&&(null==(r=t.registrarUsuario.get("email"))?null:r.touched)),l.xp6(5),l.Q6J("ngIf",(null==(a=t.registrarUsuario.get("password"))?null:a.hasError("required"))&&(null==(a=t.registrarUsuario.get("password"))?null:a.touched)),l.xp6(6),l.Q6J("disabled",t.registrarUsuario.invalid)}}function h6(n,e){1&n&&(l.TgZ(0,"div",18)(1,"h2",5),l._uU(2,"LicorMania"),l.qZA(),l.TgZ(3,"span",19),l._uU(4,"Registrando..."),l.qZA(),l._UZ(5,"app-spinner"),l.qZA())}let f6=(()=>{class n{constructor(t,i,r,a,u){this.firebaseError=t,this.fb=i,this.afAuth=r,this.toastr=a,this.router=u,this.loading=!1,this.registrarUsuario=this.fb.group({email:["",[Hn.required,Hn.email]],password:["",[Hn.required,Hn.minLength(6)]],repetirPassword:["",Hn.required]})}ngOnInit(){}registrar(){const t=this.registrarUsuario.value.email,i=this.registrarUsuario.value.password;i===this.registrarUsuario.value.repetirPassword?(this.loading=!0,this.afAuth.createUserWithEmailAndPassword(t,i).then(a=>{this.toastr.success("El usuario fue registrado con exito!!","Usuario Registrado"),this.router.navigate(["/login"])}).catch(a=>{this.loading=!1,console.log(a),this.firebaseError.errorFirebase(a.code)})):this.toastr.error("Las contrase\xf1as no coinciden","Error")}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(LF),l.Y36(bp),l.Y36(Ku),l.Y36(fo),l.Y36(Xn))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-registrar-usuario"]],decls:3,vars:2,consts:[["style","margin-top: 8%",4,"ngIf"],["style","display: flex;\n    position: absolute;\n    left: 44%;\n    top: 42%;\n    flex-direction: column;\n    align-items: center;",4,"ngIf"],[2,"margin-top","8%"],[1,"login-form",3,"formGroup","ngSubmit"],["loginForm","ngForm"],[1,"elH2"],[1,"form-title"],[1,"form-group"],["for","email"],["type","email","name","email","placeholder","Correo electr\xf3nico","formControlName","email"],["class","text-danger errorLabel",4,"ngIf"],["for","password"],["type","password","name","password","placeholder","Contrase\xf1a","formControlName","password"],["type","password","name","password","placeholder","Repetir contrase\xf1a","formControlName","repetirPassword"],[2,"display","flex","gap","2px"],["type","button","routerLink","/login",1,"submit-button",2,"background-color","blue"],["type","submit",1,"submit-button",3,"disabled"],[1,"text-danger","errorLabel"],[2,"display","flex","position","absolute","left","44%","top","42%","flex-direction","column","align-items","center"],[2,"margin-bottom","18px"]],template:function(t,i){1&t&&(l.TgZ(0,"div"),l.YNc(1,d6,25,5,"div",0),l.YNc(2,h6,6,0,"div",1),l.qZA()),2&t&&(l.xp6(1),l.Q6J("ngIf",!i.loading),l.xp6(1),l.Q6J("ngIf",i.loading))},dependencies:[dn,Po,yl,Zr,dc,hl,Qs,Ti,jR],styles:[".login-form[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a}.form-title[_ngcontent-%COMP%]{font-size:24px;text-align:center;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;font-size:16px;font-weight:700;margin-bottom:5px}input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{display:block;width:100%;padding:10px;font-size:16px;border-radius:5px;border:1px solid #ccc}.submit-button[_ngcontent-%COMP%]{display:block;width:100%;padding:10px;font-size:16px;background-color:red;color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease-in-out}.submit-button[_ngcontent-%COMP%]:hover{background-color:red}.form-links[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.forgot-password[_ngcontent-%COMP%], .register-link[_ngcontent-%COMP%]{font-size:14px;text-decoration:none;color:#007bff;transition:color .3s ease-in-out}.forgot-password[_ngcontent-%COMP%]:hover, .register-link[_ngcontent-%COMP%]:hover{color:#0056b3}.elH2[_ngcontent-%COMP%]{font-size:36px;font-family:Arial,sans-serif;color:#ff6f61;text-align:center;text-shadow:2px 2px #000}"]}),n})(),p6=(()=>{class n{constructor(t){this.afAuth=t}isLoggedIn(){return this.afAuth.authState.pipe((0,pt.U)(t=>!!t))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ku))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yf=(()=>{class n{constructor(t,i){this.authService=t,this.router=i}canActivate(t,i){return this.authService.isLoggedIn().pipe((0,pt.U)(r=>!!r||(this.router.navigate(["/login"]),!1)))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(p6),l.LFG(Xn))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const m6=function(n){return["/edit-product/",n]};function g6(n,e){if(1&n&&(l.TgZ(0,"tr")(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l._uU(8),l.ALo(9,"currency"),l.qZA(),l.TgZ(10,"td"),l._uU(11),l.ALo(12,"currency"),l.qZA(),l.TgZ(13,"td"),l._uU(14),l.ALo(15,"currency"),l.qZA(),l.TgZ(16,"td"),l._uU(17),l.ALo(18,"currency"),l.qZA(),l.TgZ(19,"td"),l._uU(20),l.ALo(21,"currency"),l.qZA(),l.TgZ(22,"td"),l._UZ(23,"i",8),l.qZA()()),2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.nombre),l.xp6(2),l.Oqu(t.descripcion),l.xp6(2),l.Oqu(t.disponible),l.xp6(2),l.hij(" $",l.gM2(9,9,t.precioCompra," ","symbol","1.0")," "),l.xp6(3),l.hij("$",l.gM2(12,14,t.precio," ","symbol","1.0"),""),l.xp6(3),l.hij("$",l.gM2(15,19,t.venta," ","symbol","1.0"),""),l.xp6(3),l.hij("$",l.gM2(18,24,t.invertido," ","symbol","1.0"),""),l.xp6(3),l.hij("$",l.gM2(21,29,t.ganancia," ","symbol","1.0"),""),l.xp6(3),l.Q6J("routerLink",l.VKq(34,m6,t.id))}}function _6(n,e){1&n&&(l.TgZ(0,"p"),l._uU(1,"No hay productos seleccionados"),l.qZA())}let y6=(()=>{class n{constructor(t,i){this._productService=t,this.toastr=i,this.products=[],this.modalActivoEliminar=!1}ngOnInit(){this.getProducts()}getProducts(){this._productService.getProducts().subscribe(t=>{this.products=[],t.forEach(a=>{this.products.push({id:a.payload.doc.id,...a.payload.doc.data()})});for(const a of this.products){const f=a.disponible,w=a.precioCompra*f,I=a.precio*f,M=I-w;a.invertido=w,a.venta=I,a.ganancia=M}console.log(this.products);const i=this.products.reduce((a,u)=>a+u.invertido,0);this.invertido=i;const r=this.products.reduce((a,u)=>a+u.ganancia,0);this.ganancia=r})}abrirModalEliminar(t){this.idObtenido=t,this.modalActivoEliminar=!0}cerrarModalEliminar(){this.modalActivoEliminar=!1}eliminarProducto2(){console.log(this.idObtenido),this._productService.deleteProducts(this.idObtenido).then(()=>{this.modalActivoEliminar=!1,this.toastr.error("El producto fue eliminado con exito","Producto eliminado"),console.log("deleted...")})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ev),l.Y36(fo))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-ganancia"]],decls:49,vars:14,consts:[[1,"ganacia-container"],[2,"margin","6px 6px 12px 6px"],[2,"display","flex","justify-content","space-between"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[4,"ngIf"],["routerLink","/list-products",1,"btn","btn-danger"],[1,"fas","fa-edit","fa-lg","text-info",2,"cursor","pointer",3,"routerLink"]],template:function(t,i){1&t&&(l._UZ(0,"app-navbar"),l.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"div")(5,"H3"),l._uU(6,"Balance General"),l.qZA()()()(),l.TgZ(7,"table",3)(8,"thead")(9,"tr")(10,"th",4),l._uU(11,"Nombre"),l.qZA(),l.TgZ(12,"th",4),l._uU(13,"Descripcion"),l.qZA(),l.TgZ(14,"th",4),l._uU(15,"Disponible"),l.qZA(),l.TgZ(16,"th",4),l._uU(17,"Precio compra"),l.qZA(),l.TgZ(18,"th",4),l._uU(19,"Precio venta"),l.qZA(),l.TgZ(20,"th",4),l._uU(21,"total venta"),l.qZA(),l.TgZ(22,"th",4),l._uU(23,"Invertido"),l.qZA(),l.TgZ(24,"th",4),l._uU(25,"Ganancia"),l.qZA(),l.TgZ(26,"th",4),l._uU(27,"Acc"),l.qZA()()(),l.TgZ(28,"tbody"),l.YNc(29,g6,24,36,"tr",5),l.qZA(),l.YNc(30,_6,2,0,"p",6),l.qZA(),l.TgZ(31,"table",3)(32,"thead")(33,"tr")(34,"th",4),l._uU(35,"Invertido Total"),l.qZA(),l.TgZ(36,"th",4),l._uU(37,"Ganacia Total"),l.qZA()()(),l.TgZ(38,"tbody")(39,"tr")(40,"td"),l._uU(41),l.ALo(42,"currency"),l.qZA(),l.TgZ(43,"td"),l._uU(44),l.ALo(45,"currency"),l.qZA()()()(),l.TgZ(46,"div",1)(47,"button",7),l._uU(48,"Volver"),l.qZA()()()),2&t&&(l.xp6(29),l.Q6J("ngForOf",i.products),l.xp6(1),l.Q6J("ngIf",0==i.products.length),l.xp6(11),l.hij("$",l.gM2(42,4,i.invertido," ","symbol","1.0"),""),l.xp6(3),l.hij("$",l.gM2(45,9,i.ganancia," ","symbol","1.0"),""))},dependencies:[un,dn,Po,ng,go]}),n})();const v6=function(n){return["/edit-product/",n]};function b6(n,e){if(1&n&&(l.TgZ(0,"tr")(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l._uU(8),l.qZA(),l.TgZ(9,"td"),l._uU(10),l.qZA(),l.TgZ(11,"td"),l._uU(12),l.qZA(),l.TgZ(13,"td"),l._uU(14),l.ALo(15,"currency"),l.qZA(),l.TgZ(16,"td"),l._UZ(17,"i",12),l.qZA()()),2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.nombre),l.xp6(2),l.Oqu(t.descripcion),l.xp6(2),l.Oqu(t.disponible),l.xp6(2),l.Oqu(t.cantidadTotal),l.xp6(2),l.Oqu(t.disponibleTotal),l.xp6(2),l.Oqu(t.totalVenta),l.xp6(2),l.hij("$",l.gM2(15,8,t.ganancia," ","symbol","1.0")," "),l.xp6(3),l.Q6J("routerLink",l.VKq(13,v6,t.id))}}function w6(n,e){1&n&&(l.TgZ(0,"p"),l._uU(1,"No hay productos seleccionados"),l.qZA())}let E6=(()=>{class n{constructor(t,i){this._productService=t,this.toastr=i,this.products=[],this.totalVenta=0,this.ganancia=0}ngOnInit(){this.getProducts()}getProducts(){this._productService.getProducts().subscribe(t=>{this.products=[],t.forEach(i=>{this.products.push({id:i.payload.doc.id,...i.payload.doc.data()});for(const u of this.products){const I=u.cantidadTotal,P=u.precio*I,q=P-u.precioCompra*I;u.cantidadTotal=u.disponibleTotal-u.disponible,u.totalVenta=P,u.ganancia=q}const r=this.products.reduce((u,f)=>u+f.totalVenta,0);this.totalVenta=r;const a=this.products.reduce((u,f)=>u+f.ganancia,0);this.ganancia=a,console.log(r,a)})})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ev),l.Y36(fo))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-rpt-product"]],decls:53,vars:14,consts:[[2,"margin","6px 6px 12px 6px"],[2,"display","flex","justify-content","space-between"],[2,"display","flex","gap","9px"],[2,"margin","10px 0 6px 0"],["routerLink","/reportes"],["routerLink","/reporte-por-producto"],["routerLink","/registros"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[4,"ngIf"],["routerLink","/reportes",1,"btn","btn-danger"],[1,"fas","fa-edit","fa-lg","text-info",2,"cursor","pointer",3,"routerLink"]],template:function(t,i){1&t&&(l._UZ(0,"app-navbar"),l.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"button",4),l._uU(6,"REPORTE GENERAL"),l.qZA()(),l.TgZ(7,"div",3)(8,"button",5),l._uU(9,"REPORTE POR PRODUCTO"),l.qZA()(),l.TgZ(10,"div",3)(11,"button",6),l._uU(12,"REGISTROS"),l.qZA()()()()(),l.TgZ(13,"table",7)(14,"thead")(15,"tr")(16,"th",8),l._uU(17,"Nombre"),l.qZA(),l.TgZ(18,"th",8),l._uU(19,"Descripcion"),l.qZA(),l.TgZ(20,"th",8),l._uU(21,"Disponible"),l.qZA(),l.TgZ(22,"th",8),l._uU(23,"cantidad vendida"),l.qZA(),l.TgZ(24,"th",8),l._uU(25,"Disponible Total"),l.qZA(),l.TgZ(26,"th",8),l._uU(27,"Total venta"),l.qZA(),l.TgZ(28,"th",8),l._uU(29,"Ganancia"),l.qZA(),l.TgZ(30,"th",8),l._uU(31,"Acc"),l.qZA()()(),l.TgZ(32,"tbody"),l.YNc(33,b6,18,15,"tr",9),l.qZA(),l.YNc(34,w6,2,0,"p",10),l.qZA(),l.TgZ(35,"table",7)(36,"thead")(37,"tr")(38,"th",8),l._uU(39,"Venta Total"),l.qZA(),l.TgZ(40,"th",8),l._uU(41,"Ganacia Total"),l.qZA()()(),l.TgZ(42,"tbody")(43,"tr")(44,"td"),l._uU(45),l.ALo(46,"currency"),l.qZA(),l.TgZ(47,"td"),l._uU(48),l.ALo(49,"currency"),l.qZA()()()(),l.TgZ(50,"div",0)(51,"button",11),l._uU(52,"Volver"),l.qZA()()),2&t&&(l.xp6(33),l.Q6J("ngForOf",i.products),l.xp6(1),l.Q6J("ngIf",0==i.products.length),l.xp6(11),l.hij("$",l.gM2(46,4,i.totalVenta," ","symbol","1.0"),""),l.xp6(3),l.hij("$",l.gM2(49,9,i.ganancia," ","symbol","1.0"),""))},dependencies:[un,dn,Po,ng,go]}),n})();function C6(n,e){if(1&n&&(l.TgZ(0,"td"),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.hij(" ",t," ")}}function I6(n,e){if(1&n&&(l.TgZ(0,"tr",11),l.YNc(1,C6,2,1,"td",10),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.Q6J("ngForOf",t)}}function T6(n,e){if(1&n&&(l.TgZ(0,"td"),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.hij(" ",t," ")}}function D6(n,e){if(1&n&&(l.TgZ(0,"tr",11),l.YNc(1,T6,2,1,"td",10),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.Q6J("ngForOf",t)}}function S6(n,e){if(1&n&&(l.TgZ(0,"div")(1,"div")(2,"strong"),l._uU(3,"Ganancia Obtenida: $"),l.qZA(),l._uU(4),l.qZA()()),2&n){const t=e.$implicit;l.xp6(4),l.hij(" ",t.gananciaObtenida,"")}}function A6(n,e){if(1&n&&(l.TgZ(0,"div")(1,"div")(2,"strong"),l._uU(3,"Total: $"),l.qZA(),l._uU(4),l.qZA()()),2&n){const t=e.$implicit;l.xp6(4),l.hij(" ",t.total,"")}}const M6=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"list-products",component:B3,canActivate:[yf]},{path:"create-product",component:FF,canActivate:[yf]},{path:"edit-product/:id",component:FF,canActivate:[yf]},{path:"info-product",component:q3,canActivate:[yf]},{path:"reportes",component:K3,canActivate:[yf]},{path:"estadisticas",component:y6,canActivate:[yf]},{path:"reporte-por-producto",component:E6,canActivate:[yf]},{path:"registros",component:(()=>{class n{constructor(t,i){this._registro=t,this.toastr=i,this.registros=[],this.nombre=[],this.cantidades=[]}ngOnInit(){this.obtregistros()}obtregistros(){this._registro.obtRegistros().subscribe(t=>{t.forEach(w=>{this.registros.push({id:w.payload.doc.id,...w.payload.doc.data()})});const i=this.registros.map(w=>w.nombres);this.nombre=i;const r=this.registros.map(w=>w.cantidades);this.cantidades=r;const a=this.registros.map(w=>w.gananciaObtenida);this.ganancia=a;const u=this.registros.map(w=>w.total);this.total=u;const f=a.reduce((w,I)=>w+I,0);this.gananciaTotal=f;const _=u.reduce((w,I)=>w+I,0);this.sumaTotal=_})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(xR),l.Y36(fo))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-registros"]],decls:42,vars:6,consts:[[2,"margin","6px 6px 12px 6px"],[2,"display","flex","justify-content","space-between"],[2,"display","flex","gap","9px"],[2,"margin","10px 0 6px 0"],["routerLink","/reportes"],["routerLink","/reporte-por-producto"],["routerLink","/registros"],[2,"display","flex","gap","36px","margin","21px 0 0 21px"],["style","display: flex; flex-direction: column",4,"ngFor","ngForOf"],[2,"display","flex","gap","36px"],[4,"ngFor","ngForOf"],[2,"display","flex","flex-direction","column"]],template:function(t,i){1&t&&(l._UZ(0,"app-navbar"),l.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"button",4),l._uU(6,"REPORTE GENERAL"),l.qZA()(),l.TgZ(7,"div",3)(8,"button",5),l._uU(9,"REPORTE POR PRODUCTO"),l.qZA()(),l.TgZ(10,"div",3)(11,"button",6),l._uU(12,"REGISTROS"),l.qZA()()()()(),l.TgZ(13,"div",7)(14,"div")(15,"table")(16,"thead")(17,"tr")(18,"th"),l._uU(19,"Nombre"),l.qZA()()(),l.TgZ(20,"tbody"),l.YNc(21,I6,2,1,"tr",8),l.qZA()()(),l.TgZ(22,"div")(23,"table")(24,"thead")(25,"tr")(26,"th"),l._uU(27,"cantidad"),l.qZA()()(),l.TgZ(28,"tbody"),l.YNc(29,D6,2,1,"tr",8),l.qZA()()(),l.TgZ(30,"div",9)(31,"div"),l.YNc(32,S6,5,1,"div",10),l.qZA(),l.TgZ(33,"div"),l.YNc(34,A6,5,1,"div",10),l.qZA()(),l.TgZ(35,"div")(36,"div")(37,"strong"),l._uU(38),l.qZA()(),l.TgZ(39,"div")(40,"strong"),l._uU(41),l.qZA()()()()),2&t&&(l.xp6(21),l.Q6J("ngForOf",i.nombre),l.xp6(8),l.Q6J("ngForOf",i.cantidades),l.xp6(3),l.Q6J("ngForOf",i.registros),l.xp6(2),l.Q6J("ngForOf",i.registros),l.xp6(4),l.hij("Ganancia Total: $",i.gananciaTotal,""),l.xp6(3),l.hij("SumaTotal: $",i.sumaTotal,""))},dependencies:[un,Po,ng],styles:[".modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:100}.contenido-modal[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #00000080;display:flex;flex-direction:column;align-items:center}"]}),n})(),canActivate:[yf]},{path:"login",component:n6},{path:"recuperar",component:a6},{path:"registrar",component:f6},{path:"**",redirectTo:"login",pathMatch:"full"}];let x6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[hb.forRoot(M6),hb]}),n})(),R6=(()=>{class n{constructor(){this.title="licorApp"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,i){1&t&&l._UZ(0,"router-outlet")},dependencies:[UE]}),n})();function VF(n){return new l.vHH(3e3,!1)}function h$(){return typeof window<"u"&&typeof window.document<"u"}function $R(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function vf(n){switch(n.length){case 0:return new Kp;case 1:return n[0];default:return new _b(n)}}function UF(n,e,t,i,r=new Map,a=new Map){const u=[],f=[];let _=-1,w=null;if(i.forEach(I=>{const M=I.get("offset"),P=M==_,V=P&&w||new Map;I.forEach((q,ne)=>{let _e=ne,$e=q;if("offset"!==ne)switch(_e=e.normalizePropertyName(_e,u),$e){case"!":$e=r.get(ne);break;case Fo:$e=a.get(ne);break;default:$e=e.normalizeStyleValue(ne,_e,$e,u)}V.set(_e,$e)}),P||f.push(V),w=V,_=M}),u.length)throw function e$(n){return new l.vHH(3502,!1)}();return f}function zR(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&GR(t,"start",n)));break;case"done":n.onDone(()=>i(t&&GR(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&GR(t,"destroy",n)))}}function GR(n,e,t){const a=qR(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),u=n._data;return null!=u&&(a._data=u),a}function qR(n,e,t,i,r="",a=0,u){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:a,disabled:!!u}}function Go(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function BF(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let ZR=(n,e)=>!1,HF=(n,e,t)=>[],jF=null;function WR(n){const e=n.parentNode||n.host;return e===jF?null:e}($R()||typeof Element<"u")&&(h$()?(jF=(()=>document.documentElement)(),ZR=(n,e)=>{for(;e;){if(e===n)return!0;e=WR(e)}return!1}):ZR=(n,e)=>n.contains(e),HF=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let ig=null,$F=!1;const zF=ZR,GF=HF;let qF=(()=>{class n{validateStyleProperty(t){return function p$(n){ig||(ig=function m$(){return typeof document<"u"?document.body:null}()||{},$F=!!ig.style&&"WebkitAppearance"in ig.style);let e=!0;return ig.style&&!function f$(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in ig.style,!e&&$F&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ig.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return zF(t,i)}getParentElement(t){return WR(t)}query(t,i,r){return GF(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,a,u,f=[],_){return new Kp(r,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),KR=(()=>{class n{}return n.NOOP=new qF,n})();const YR="ng-enter",bD="ng-leave",wD="ng-trigger",ED=".ng-trigger",WF="ng-animating",QR=".ng-animating";function hd(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:XR(parseFloat(e[1]),e[2])}function XR(n,e){return"s"===e?1e3*n:n}function CD(n,e,t){return n.hasOwnProperty("duration")?n:function y$(n,e,t){let r,a=0,u="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(VF()),{duration:0,delay:0,easing:""};r=XR(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(a=XR(parseFloat(_),f[4]));const w=f[5];w&&(u=w)}else r=n;if(!t){let f=!1,_=e.length;r<0&&(e.push(function k6(){return new l.vHH(3100,!1)}()),f=!0),a<0&&(e.push(function O6(){return new l.vHH(3101,!1)}()),f=!0),f&&e.splice(_,0,VF())}return{duration:r,delay:a,easing:u}}(n,e,t)}function nE(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function KF(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function bf(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function QF(n,e,t){return t?e+":"+t+";":""}function XF(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=QF(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=QF(0,E$(t),n.style[t]));n.setAttribute("style",e)}function zc(n,e,t){n.style&&(e.forEach((i,r)=>{const a=e1(r);t&&!t.has(r)&&t.set(r,n.style[a]),n.style[a]=i}),$R()&&XF(n))}function rg(n,e){n.style&&(e.forEach((t,i)=>{const r=e1(i);n.style[r]=""}),$R()&&XF(n))}function iE(n){return Array.isArray(n)?1==n.length?n[0]:D_(n):n}const JR=new RegExp("{{\\s*(.+?)\\s*}}","g");function JF(n){let e=[];if("string"==typeof n){let t;for(;t=JR.exec(n);)e.push(t[1]);JR.lastIndex=0}return e}function rE(n,e,t){const i=n.toString(),r=i.replace(JR,(a,u)=>{let f=e[u];return null==f&&(t.push(function N6(n){return new l.vHH(3003,!1)}()),f=""),f.toString()});return r==i?n:r}function ID(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const w$=/-+([a-z0-9])/g;function e1(n){return n.replace(w$,(...e)=>e[1].toUpperCase())}function E$(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function qo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function F6(n){return new l.vHH(3004,!1)}()}}function eL(n,e){return window.getComputedStyle(n)[e]}function A$(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function M$(n,e,t){if(":"==n[0]){const _=function x$(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function Y6(n){return new l.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function K6(n){return new l.vHH(3015,!1)}()),e;const r=i[1],a=i[2],u=i[3];e.push(tL(r,u));"<"==a[0]&&!("*"==r&&"*"==u)&&e.push(tL(u,r))}(i,t,e)):t.push(n),t}const AD=new Set(["true","1"]),MD=new Set(["false","0"]);function tL(n,e){const t=AD.has(n)||MD.has(n),i=AD.has(e)||MD.has(e);return(r,a)=>{let u="*"==n||n==r,f="*"==e||e==a;return!u&&t&&"boolean"==typeof r&&(u=r?AD.has(n):MD.has(n)),!f&&i&&"boolean"==typeof a&&(f=a?AD.has(e):MD.has(e)),u&&f}}const R$=new RegExp("s*:selfs*,?","g");function t1(n,e,t,i){return new k$(n).build(e,t,i)}class k${constructor(e){this._driver=e}build(e,t,i){const r=new N$(t);return this._resetContextStyleTimingState(r),qo(this,iE(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const a=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function V6(){return new l.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,w=_.name;w.toString().split(/\s*,\s*/).forEach(I=>{_.name=I,a.push(this.visitState(_,t))}),_.name=w}else if(1==f.type){const _=this.visitTransition(f,t);i+=_.queryCount,r+=_.depCount,u.push(_)}else t.errors.push(function U6(){return new l.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:u,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const a=new Set,u=r||{};i.styles.forEach(f=>{f instanceof Map&&f.forEach(_=>{JF(_).forEach(w=>{u.hasOwnProperty(w)||a.add(w)})})}),a.size&&(ID(a.values()),t.errors.push(function B6(n,e){return new l.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=qo(this,iE(e.animation),t);return{type:1,matchers:A$(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:sg(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>qo(this,i,t)),options:sg(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const a=e.steps.map(u=>{t.currentTime=i;const f=qo(this,u,t);return r=Math.max(r,t.currentTime),f});return t.currentTime=r,{type:3,steps:a,options:sg(e.options)}}visitAnimate(e,t){const i=function L$(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return n1(CD(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=n1(0,0,"");return a.dynamic=!0,a.strValue=t,a}const r=CD(t,e);return n1(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,a=e.styles?e.styles:_s({});if(5==a.type)r=this.visitKeyframes(a,t);else{let u=e.styles,f=!1;if(!u){f=!0;const w={};i.easing&&(w.easing=i.easing),u=_s(w)}t.currentTime+=i.duration+i.delay;const _=this.visitStyle(u,t);_.isEmptyStep=f,r=_}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of r)"string"==typeof f?f===Fo?i.push(f):t.errors.push(new l.vHH(3002,!1)):i.push(KF(f));let a=!1,u=null;return i.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(u=f.get("easing"),f.delete("easing")),!a))for(let _ of f.values())if(_.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:i,easing:u,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,a=t.currentTime;i&&a>0&&(a-=i.duration+i.delay),e.styles.forEach(u=>{"string"!=typeof u&&u.forEach((f,_)=>{const w=t.collectedStyles.get(t.currentQuerySelector),I=w.get(_);let M=!0;I&&(a!=r&&a>=I.startTime&&r<=I.endTime&&(t.errors.push(function j6(n,e,t,i,r){return new l.vHH(3010,!1)}()),M=!1),a=I.startTime),M&&w.set(_,{startTime:a,endTime:r}),t.options&&function b$(n,e,t){const i=e.params||{},r=JF(n);r.length&&r.forEach(a=>{i.hasOwnProperty(a)||t.push(function P6(n){return new l.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function $6(){return new l.vHH(3011,!1)}()),i;let a=0;const u=[];let f=!1,_=!1,w=0;const I=e.steps.map($e=>{const nt=this._makeStyleAst($e,t);let Xe=null!=nt.offset?nt.offset:function F$(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(nt.styles),It=0;return null!=Xe&&(a++,It=nt.offset=Xe),_=_||It<0||It>1,f=f||It<w,w=It,u.push(It),nt});_&&t.errors.push(function z6(){return new l.vHH(3012,!1)}()),f&&t.errors.push(function G6(){return new l.vHH(3200,!1)}());const M=e.steps.length;let P=0;a>0&&a<M?t.errors.push(function q6(){return new l.vHH(3202,!1)}()):0==a&&(P=1/(M-1));const V=M-1,q=t.currentTime,ne=t.currentAnimateTimings,_e=ne.duration;return I.forEach(($e,nt)=>{const Xe=P>0?nt==V?1:P*nt:u[nt],It=Xe*_e;t.currentTime=q+ne.delay+It,ne.duration=It,this._validateStyleAst($e,t),$e.offset=Xe,i.styles.push($e)}),i}visitReference(e,t){return{type:8,animation:qo(this,iE(e.animation),t),options:sg(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:sg(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:sg(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[a,u]=function O$(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(R$,"")),n=n.replace(/@\*/g,ED).replace(/@\w+/g,t=>ED+"-"+t.slice(1)).replace(/:animating/g,QR),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+a:a,Go(t.collectedStyles,t.currentQuerySelector,new Map);const f=qo(this,iE(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:f,originalSelector:e.selector,options:sg(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Z6(){return new l.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:CD(e.timings,t.errors,!0);return{type:12,animation:qo(this,iE(e.animation),t),timings:i,options:null}}}class N${constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function sg(n){return n?(n=nE(n)).params&&(n.params=function P$(n){return n?nE(n):null}(n.params)):n={},n}function n1(n,e,t){return{duration:n,delay:e,easing:t}}function r1(n,e,t,i,r,a,u=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:u,subTimeline:f}}class xD{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const B$=new RegExp(":enter","g"),j$=new RegExp(":leave","g");function s1(n,e,t,i,r,a=new Map,u=new Map,f,_,w=[]){return(new $$).buildKeyframes(n,e,t,i,r,a,u,f,_,w)}class $${buildKeyframes(e,t,i,r,a,u,f,_,w,I=[]){w=w||new xD;const M=new o1(e,t,w,r,a,I,[]);M.options=_;const P=_.delay?hd(_.delay):0;M.currentTimeline.delayNextStep(P),M.currentTimeline.setStyles([u],null,M.errors,_),qo(this,i,M);const V=M.timelines.filter(q=>q.containsAnimation());if(V.length&&f.size){let q;for(let ne=V.length-1;ne>=0;ne--){const _e=V[ne];if(_e.element===t){q=_e;break}}q&&!q.allowOnlyTimelineStyles()&&q.setStyles([f],null,M.errors,_)}return V.length?V.map(q=>q.buildKeyframes()):[r1(t,[],[],[],0,P,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),a=t.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);a!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const a=r?.delay;if(a){const u="number"==typeof a?a:hd(rE(a,r?.params??{},t.errors));i.delayNextStep(u)}}}_visitSubInstructions(e,t,i){let a=t.currentTimeline.currentTime;const u=null!=i.duration?hd(i.duration):null,f=null!=i.delay?hd(i.delay):null;return 0!==u&&e.forEach(_=>{const w=t.appendInstructionToTimeline(_,u,f);a=Math.max(a,w.duration+w.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),qo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const a=e.options;if(a&&(a.params||a.delay)&&(r=t.createSubContext(a),r.transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=RD);const u=hd(a.delay);r.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>qo(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?hd(e.options.delay):0;e.steps.forEach(u=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),qo(this,u,f),r=Math.max(r,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return CD(t.params?rE(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(i.duration),this.visitStyle(a,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const a=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(a):i.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,a=i.duration,f=t.createSubContext().currentTimeline;f.easing=i.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*a),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(r+a),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},a=r.delay?hd(r.delay):0;a&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=RD);let u=i;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((w,I)=>{t.currentQueryIndex=I;const M=t.createSubContext(e.options,w);a&&M.delayNextStep(a),w===t.element&&(_=M.currentTimeline),qo(this,e.animation,M),M.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,M.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,a=e.timings,u=Math.abs(a.duration),f=u*(t.currentQueryTotal-1);let _=u*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=f-_;break;case"full":_=i.currentStaggerTime}const I=t.currentTimeline;_&&I.delayNextStep(_);const M=I.currentTime;qo(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-M+(r.startTime-i.currentTimeline.startTime)}}const RD={};class o1{constructor(e,t,i,r,a,u,f,_){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=a,this.errors=u,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=RD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new kD(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=hd(i.duration)),null!=i.delay&&(r.delay=hd(i.delay));const a=i.params;if(a){let u=r.params;u||(u=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!u.hasOwnProperty(f))&&(u[f]=rE(a[f],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,a=new o1(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=RD,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},a=new z$(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(a),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,a,u){let f=[];if(r&&f.push(this.element),e.length>0){e=(e=e.replace(B$,"."+this._enterClassName)).replace(j$,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=i);0!==i&&(w=i<0?w.slice(w.length+i,w.length):w.slice(0,i)),f.push(...w)}return!a&&0==f.length&&u.push(function W6(n){return new l.vHH(3014,!1)}()),f}}class kD{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new kD(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Fo),this._currentKeyframe.set(t,Fo);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const a=r&&r.params||{},u=function G$(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let a of i)t.set(a,Fo)}else bf(r,t)}),t}(e,this._globalTimelineStyles);for(let[f,_]of u){const w=rE(_,a,i);this._pendingStyles.set(f,w),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??Fo),this._updateStyle(f,w)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((f,_)=>{const w=bf(f,new Map,this._backFill);w.forEach((I,M)=>{"!"===I?e.add(M):I===Fo&&t.add(M)}),i||w.set("offset",_/this.duration),r.push(w)});const a=e.size?ID(e.values()):[],u=t.size?ID(t.values()):[];if(i){const f=r[0],_=new Map(f);f.set("offset",0),_.set("offset",1),r=[f,_]}return r1(this.element,r,a,u,this.duration,this.startTime,this.easing,!1)}}class z$ extends kD{constructor(e,t,i,r,a,u,f=!1){super(e,t,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],u=i+t,f=t/u,_=bf(e[0]);_.set("offset",0),a.push(_);const w=bf(e[0]);w.set("offset",rL(f)),a.push(w);const I=e.length-1;for(let M=1;M<=I;M++){let P=bf(e[M]);const V=P.get("offset");P.set("offset",rL((t+V*i)/u)),a.push(P)}i=u,t=0,r="",e=a}return r1(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function rL(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class a1{}const q$=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Z$ extends a1{normalizePropertyName(e,t){return e1(e)}normalizeStyleValue(e,t,i,r){let a="";const u=i.toString().trim();if(q$.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&r.push(function L6(n,e){return new l.vHH(3005,!1)}())}return u+a}}function sL(n,e,t,i,r,a,u,f,_,w,I,M,P){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:a,toState:i,toStyles:u,timelines:f,queriedElements:_,preStyleProps:w,postStyleProps:I,totalTime:M,errors:P}}const l1={};class oL{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function W$(n,e,t,i,r){return n.some(a=>a(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,a,u,f,_,w,I){const M=[],P=this.ast.options&&this.ast.options.params||l1,q=this.buildStyles(i,f&&f.params||l1,M),ne=_&&_.params||l1,_e=this.buildStyles(r,ne,M),$e=new Set,nt=new Map,Xe=new Map,It="void"===r,jt={params:K$(ne,P),delay:this.ast.options?.delay},qt=I?[]:s1(e,t,this.ast.animation,a,u,q,_e,jt,w,M);let An=0;if(qt.forEach(fd=>{An=Math.max(fd.duration+fd.delay,An)}),M.length)return sL(t,this._triggerName,i,r,It,q,_e,[],[],nt,Xe,An,M);qt.forEach(fd=>{const pd=fd.element,xL=Go(nt,pd,new Set);fd.preStyleProps.forEach(ag=>xL.add(ag));const oE=Go(Xe,pd,new Set);fd.postStyleProps.forEach(ag=>oE.add(ag)),pd!==t&&$e.add(pd)});const Or=ID($e.values());return sL(t,this._triggerName,i,r,It,q,_e,qt,Or,nt,Xe,An)}}function K$(n,e){const t=nE(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class Y${constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=nE(this.defaultParams);return Object.keys(e).forEach(a=>{const u=e[a];null!==u&&(r[a]=u)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((u,f)=>{u&&(u=rE(u,r,t));const _=this.normalizer.normalizePropertyName(f,t);u=this.normalizer.normalizeStyleValue(f,_,u,t),i.set(_,u)})}),i}}class X${constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new Y$(r.style,r.options&&r.options.params||{},i))}),aL(this.states,"true","1"),aL(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new oL(e,r,this.states))}),this.fallbackTransition=function J$(n,e,t){return new oL(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(u=>u.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function aL(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const e4=new xD;class t4{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],a=t1(this._driver,t,i,[]);if(i.length)throw function t$(n){return new l.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,i){const r=e.element,a=UF(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],a=this._animations.get(e);let u;const f=new Map;if(a?(u=s1(this._driver,t,a,YR,bD,new Map,new Map,i,e4,r),u.forEach(I=>{const M=Go(f,I.element,new Map);I.postStyleProps.forEach(P=>M.set(P,null))})):(r.push(function n$(){return new l.vHH(3300,!1)}()),u=[]),r.length)throw function i$(n){return new l.vHH(3504,!1)}();f.forEach((I,M)=>{I.forEach((P,V)=>{I.set(V,this._driver.computeStyle(M,V,Fo))})});const w=vf(u.map(I=>{const M=f.get(I.element);return this._buildPlayer(I,new Map,M)}));return this._playersById.set(e,w),w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function r$(n){return new l.vHH(3301,!1)}();return t}listen(e,t,i,r){const a=qR(t,"","","");return zR(this._getPlayer(e),i,a,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const a=this._getPlayer(e);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const lL="ng-animate-queued",c1="ng-animate-disabled",o4=[],cL={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},a4={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Na="__ng_removed";class u1{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function d4(n){return n??null}(i?e.value:e),i){const a=nE(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const sE="void",d1=new u1(sE);class l4{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Fa(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function s$(n,e){return new l.vHH(3302,!1)}();if(null==i||0==i.length)throw function o$(n){return new l.vHH(3303,!1)}();if(!function h4(n){return"start"==n||"done"==n}(i))throw function a$(n,e){return new l.vHH(3400,!1)}();const a=Go(this._elementListeners,e,[]),u={name:t,phase:i,callback:r};a.push(u);const f=Go(this._engine.statesByElement,e,new Map);return f.has(t)||(Fa(e,wD),Fa(e,wD+"-"+t),f.set(t,d1)),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(u);_>=0&&a.splice(_,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function l$(n){return new l.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const a=this._getTrigger(t),u=new h1(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Fa(e,wD),Fa(e,wD+"-"+t),this._engine.statesByElement.set(e,f=new Map));let _=f.get(t);const w=new u1(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&w.absorbOptions(_.options),f.set(t,w),_||(_=d1),w.value!==sE&&_.value===w.value){if(!function m4(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const a=t[r];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,w.params)){const ne=[],_e=a.matchStyles(_.value,_.params,ne),$e=a.matchStyles(w.value,w.params,ne);ne.length?this._engine.reportError(ne):this._engine.afterFlush(()=>{rg(e,_e),zc(e,$e)})}return}const P=Go(this._engine.playersByElement,e,[]);P.forEach(ne=>{ne.namespaceId==this.id&&ne.triggerName==t&&ne.queued&&ne.destroy()});let V=a.matchTransition(_.value,w.value,e,w.params),q=!1;if(!V){if(!r)return;V=a.fallbackTransition,q=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:V,fromState:_,toState:w,player:u,isFallbackTransition:q}),q||(Fa(e,lL),u.onStart(()=>{rv(e,lL)})),u.onDone(()=>{let ne=this.players.indexOf(u);ne>=0&&this.players.splice(ne,1);const _e=this._engine.playersByElement.get(e);if(_e){let $e=_e.indexOf(u);$e>=0&&_e.splice($e,1)}}),this.players.push(u),P.push(u),u}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,ED,!0);i.forEach(r=>{if(r[Na])return;const a=this._engine.fetchNamespacesByElement(r);a.size?a.forEach(u=>u.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const a=this._engine.statesByElement.get(e),u=new Map;if(a){const f=[];if(a.forEach((_,w)=>{if(u.set(w,_.value),this._triggers.has(w)){const I=this.trigger(e,w,sE,r);I&&f.push(I)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),i&&vf(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(a=>{const u=a.name;if(r.has(u))return;r.add(u);const _=this._triggers.get(u).fallbackTransition,w=i.get(u)||d1,I=new u1(sE),M=new h1(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:_,fromState:w,toState:I,player:M,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(e):[];if(a&&a.length)r=!0;else{let u=e;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Na];(!a||a===cL)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Fa(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const a=i.element,u=this._elementListeners.get(a);u&&u.forEach(f=>{if(f.name==i.triggerName){const _=qR(a,i.triggerName,i.fromState.value,i.toState.value);_._data=e,zR(i.player,f.phase,_,f.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const a=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==a||0==u?a-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class c4{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new l4(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,f=this.driver.getParentElement(t);for(;f;){const _=r.get(f);if(_){const w=i.indexOf(_);i.splice(w+1,0,e),u=!0;break}f=this.driver.getParentElement(f)}u||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const a=this._fetchNamespace(r.namespaceId);a&&t.add(a)}return t}trigger(e,t,i,r){if(OD(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!OD(t))return;const a=t[Na];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Fa(e,c1)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),rv(e,c1))}removeNode(e,t,i,r){if(OD(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,a){this.collectedLeaveElements.push(t),t[Na]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,i,r,a){return OD(t)?this._fetchNamespace(e).listen(t,i,r,a):()=>{}}_buildInstruction(e,t,i,r,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,ED,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,QR,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return vf(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Na];if(t&&t.setForRemoval){if(e[Na]=cL,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(c1)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Fa(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?vf(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function c$(n){return new l.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new xD,r=[],a=new Map,u=[],f=new Map,_=new Map,w=new Map,I=new Set;this.disabledNodes.forEach(bt=>{I.add(bt);const Pt=this.driver.query(bt,".ng-animate-queued",!0);for(let Ut=0;Ut<Pt.length;Ut++)I.add(Pt[Ut])});const M=this.bodyNode,P=Array.from(this.statesByElement.keys()),V=hL(P,this.collectedEnterElements),q=new Map;let ne=0;V.forEach((bt,Pt)=>{const Ut=YR+ne++;q.set(Pt,Ut),bt.forEach(Tn=>Fa(Tn,Ut))});const _e=[],$e=new Set,nt=new Set;for(let bt=0;bt<this.collectedLeaveElements.length;bt++){const Pt=this.collectedLeaveElements[bt],Ut=Pt[Na];Ut&&Ut.setForRemoval&&(_e.push(Pt),$e.add(Pt),Ut.hasAnimation?this.driver.query(Pt,".ng-star-inserted",!0).forEach(Tn=>$e.add(Tn)):nt.add(Pt))}const Xe=new Map,It=hL(P,Array.from($e));It.forEach((bt,Pt)=>{const Ut=bD+ne++;Xe.set(Pt,Ut),bt.forEach(Tn=>Fa(Tn,Ut))}),e.push(()=>{V.forEach((bt,Pt)=>{const Ut=q.get(Pt);bt.forEach(Tn=>rv(Tn,Ut))}),It.forEach((bt,Pt)=>{const Ut=Xe.get(Pt);bt.forEach(Tn=>rv(Tn,Ut))}),_e.forEach(bt=>{this.processLeaveNode(bt)})});const jt=[],qt=[];for(let bt=this._namespaceList.length-1;bt>=0;bt--)this._namespaceList[bt].drainQueuedTransitions(t).forEach(Ut=>{const Tn=Ut.player,Pr=Ut.element;if(jt.push(Tn),this.collectedEnterElements.length){const ws=Pr[Na];if(ws&&ws.setForMove){if(ws.previousTriggersValues&&ws.previousTriggersValues.has(Ut.triggerName)){const lg=ws.previousTriggersValues.get(Ut.triggerName),La=this.statesByElement.get(Ut.element);if(La&&La.has(Ut.triggerName)){const FD=La.get(Ut.triggerName);FD.value=lg,La.set(Ut.triggerName,FD)}}return void Tn.destroy()}}const Gc=!M||!this.driver.containsElement(M,Pr),Zo=Xe.get(Pr),wf=q.get(Pr),Mi=this._buildInstruction(Ut,i,wf,Zo,Gc);if(Mi.errors&&Mi.errors.length)return void qt.push(Mi);if(Gc)return Tn.onStart(()=>rg(Pr,Mi.fromStyles)),Tn.onDestroy(()=>zc(Pr,Mi.toStyles)),void r.push(Tn);if(Ut.isFallbackTransition)return Tn.onStart(()=>rg(Pr,Mi.fromStyles)),Tn.onDestroy(()=>zc(Pr,Mi.toStyles)),void r.push(Tn);const OL=[];Mi.timelines.forEach(ws=>{ws.stretchStartingKeyframe=!0,this.disabledNodes.has(ws.element)||OL.push(ws)}),Mi.timelines=OL,i.append(Pr,Mi.timelines),u.push({instruction:Mi,player:Tn,element:Pr}),Mi.queriedElements.forEach(ws=>Go(f,ws,[]).push(Tn)),Mi.preStyleProps.forEach((ws,lg)=>{if(ws.size){let La=_.get(lg);La||_.set(lg,La=new Set),ws.forEach((FD,v1)=>La.add(v1))}}),Mi.postStyleProps.forEach((ws,lg)=>{let La=w.get(lg);La||w.set(lg,La=new Set),ws.forEach((FD,v1)=>La.add(v1))})});if(qt.length){const bt=[];qt.forEach(Pt=>{bt.push(function u$(n,e){return new l.vHH(3505,!1)}())}),jt.forEach(Pt=>Pt.destroy()),this.reportError(bt)}const An=new Map,Or=new Map;u.forEach(bt=>{const Pt=bt.element;i.has(Pt)&&(Or.set(Pt,Pt),this._beforeAnimationBuild(bt.player.namespaceId,bt.instruction,An))}),r.forEach(bt=>{const Pt=bt.element;this._getPreviousPlayers(Pt,!1,bt.namespaceId,bt.triggerName,null).forEach(Tn=>{Go(An,Pt,[]).push(Tn),Tn.destroy()})});const fd=_e.filter(bt=>pL(bt,_,w)),pd=new Map;dL(pd,this.driver,nt,w,Fo).forEach(bt=>{pL(bt,_,w)&&fd.push(bt)});const oE=new Map;V.forEach((bt,Pt)=>{dL(oE,this.driver,new Set(bt),_,"!")}),fd.forEach(bt=>{const Pt=pd.get(bt),Ut=oE.get(bt);pd.set(bt,new Map([...Array.from(Pt?.entries()??[]),...Array.from(Ut?.entries()??[])]))});const ag=[],RL=[],kL={};u.forEach(bt=>{const{element:Pt,player:Ut,instruction:Tn}=bt;if(i.has(Pt)){if(I.has(Pt))return Ut.onDestroy(()=>zc(Pt,Tn.toStyles)),Ut.disabled=!0,Ut.overrideTotalTime(Tn.totalTime),void r.push(Ut);let Pr=kL;if(Or.size>1){let Zo=Pt;const wf=[];for(;Zo=Zo.parentNode;){const Mi=Or.get(Zo);if(Mi){Pr=Mi;break}wf.push(Zo)}wf.forEach(Mi=>Or.set(Mi,Pr))}const Gc=this._buildAnimation(Ut.namespaceId,Tn,An,a,oE,pd);if(Ut.setRealPlayer(Gc),Pr===kL)ag.push(Ut);else{const Zo=this.playersByElement.get(Pr);Zo&&Zo.length&&(Ut.parentPlayer=vf(Zo)),r.push(Ut)}}else rg(Pt,Tn.fromStyles),Ut.onDestroy(()=>zc(Pt,Tn.toStyles)),RL.push(Ut),I.has(Pt)&&r.push(Ut)}),RL.forEach(bt=>{const Pt=a.get(bt.element);if(Pt&&Pt.length){const Ut=vf(Pt);bt.setRealPlayer(Ut)}}),r.forEach(bt=>{bt.parentPlayer?bt.syncPlayerEvents(bt.parentPlayer):bt.destroy()});for(let bt=0;bt<_e.length;bt++){const Pt=_e[bt],Ut=Pt[Na];if(rv(Pt,bD),Ut&&Ut.hasAnimation)continue;let Tn=[];if(f.size){let Gc=f.get(Pt);Gc&&Gc.length&&Tn.push(...Gc);let Zo=this.driver.query(Pt,QR,!0);for(let wf=0;wf<Zo.length;wf++){let Mi=f.get(Zo[wf]);Mi&&Mi.length&&Tn.push(...Mi)}}const Pr=Tn.filter(Gc=>!Gc.destroyed);Pr.length?f4(this,Pt,Pr):this.processLeaveNode(Pt)}return _e.length=0,ag.forEach(bt=>{this.players.push(bt),bt.onDone(()=>{bt.destroy();const Pt=this.players.indexOf(bt);this.players.splice(Pt,1)}),bt.play()}),ag}elementContainsData(e,t){let i=!1;const r=t[Na];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,a){let u=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(u=f)}else{const f=this.playersByElement.get(e);if(f){const _=!a||a==sE;f.forEach(w=>{w.queued||!_&&w.triggerName!=r||u.push(w)})}}return(i||r)&&(u=u.filter(f=>!(i&&i!=f.namespaceId||r&&r!=f.triggerName))),u}_beforeAnimationBuild(e,t,i){const a=t.element,u=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const w=_.element,I=w!==a,M=Go(i,w,[]);this._getPreviousPlayers(w,I,u,f,t.toState).forEach(V=>{const q=V.getRealPlayer();q.beforeDestroy&&q.beforeDestroy(),V.destroy(),M.push(V)})}rg(a,t.fromStyles)}_buildAnimation(e,t,i,r,a,u){const f=t.triggerName,_=t.element,w=[],I=new Set,M=new Set,P=t.timelines.map(q=>{const ne=q.element;I.add(ne);const _e=ne[Na];if(_e&&_e.removedBeforeQueried)return new Kp(q.duration,q.delay);const $e=ne!==_,nt=function p4(n){const e=[];return fL(n,e),e}((i.get(ne)||o4).map(An=>An.getRealPlayer())).filter(An=>!!An.element&&An.element===ne),Xe=a.get(ne),It=u.get(ne),jt=UF(0,this._normalizer,0,q.keyframes,Xe,It),qt=this._buildPlayer(q,jt,nt);if(q.subTimeline&&r&&M.add(ne),$e){const An=new h1(e,f,ne);An.setRealPlayer(qt),w.push(An)}return qt});w.forEach(q=>{Go(this.playersByQueriedElement,q.element,[]).push(q),q.onDone(()=>function u4(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,q.element,q))}),I.forEach(q=>Fa(q,WF));const V=vf(P);return V.onDestroy(()=>{I.forEach(q=>rv(q,WF)),zc(_,t.toStyles)}),M.forEach(q=>{Go(r,q,[]).push(V)}),V}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Kp(e.duration,e.delay)}}class h1{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Kp,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>zR(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Go(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function OD(n){return n&&1===n.nodeType}function uL(n,e){const t=n.style.display;return n.style.display=e??"none",t}function dL(n,e,t,i,r){const a=[];t.forEach(_=>a.push(uL(_)));const u=[];i.forEach((_,w)=>{const I=new Map;_.forEach(M=>{const P=e.computeStyle(w,M,r);I.set(M,P),(!P||0==P.length)&&(w[Na]=a4,u.push(w))}),n.set(w,I)});let f=0;return t.forEach(_=>uL(_,a[f++])),u}function hL(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const r=new Set(e),a=new Map;function u(f){if(!f)return 1;let _=a.get(f);if(_)return _;const w=f.parentNode;return _=t.has(w)?w:r.has(w)?1:u(w),a.set(f,_),_}return e.forEach(f=>{const _=u(f);1!==_&&t.get(_).push(f)}),t}function Fa(n,e){n.classList?.add(e)}function rv(n,e){n.classList?.remove(e)}function f4(n,e,t){vf(t).onDone(()=>n.processLeaveNode(e))}function fL(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof _b?fL(i.players,e):e.push(i)}}function pL(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(a=>r.add(a)):e.set(n,i),t.delete(n),!0}class PD{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,a)=>{},this._transitionEngine=new c4(e,t,i),this._timelineEngine=new t4(e,t,i),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(e,t,i,r,a){const u=e+"-"+r;let f=this._triggerCache[u];if(!f){const _=[],I=t1(this._driver,a,_,[]);if(_.length)throw function J6(n,e){return new l.vHH(3404,!1)}();f=function Q$(n,e,t){return new X$(n,e,t)}(r,I,this._normalizer),this._triggerCache[u]=f}this._transitionEngine.registerTrigger(t,r,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[a,u]=BF(i);this._timelineEngine.command(a,t,u,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,a){if("@"==i.charAt(0)){const[u,f]=BF(i);return this._timelineEngine.listen(u,t,f,a)}return this._transitionEngine.listen(e,t,i,r,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let _4=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&zc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(zc(this._element,this._initialStyles),this._endStyles&&(zc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(rg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(rg(this._element,this._endStyles),this._endStyles=null),zc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function f1(n){let e=null;return n.forEach((t,i)=>{(function y4(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class mL{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:eL(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class v4{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return zF(e,t)}getParentElement(e){return WR(e)}query(e,t,i){return GF(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,a,u=[]){const _={duration:i,delay:r,fill:0==r?"both":"forwards"};a&&(_.easing=a);const w=new Map,I=u.filter(V=>V instanceof mL);(function C$(n,e){return 0===n||0===e})(i,r)&&I.forEach(V=>{V.currentSnapshot.forEach((q,ne)=>w.set(ne,q))});let M=function v$(n){return n.length?n[0]instanceof Map?n:n.map(e=>KF(e)):[]}(t).map(V=>bf(V));M=function I$(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((a,u)=>{i.has(u)||r.push(u),i.set(u,a)}),r.length)for(let a=1;a<e.length;a++){let u=e[a];r.forEach(f=>u.set(f,eL(n,f)))}}return e}(e,M,w);const P=function g4(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=f1(e[0]),e.length>1&&(i=f1(e[e.length-1]))):e instanceof Map&&(t=f1(e)),t||i?new _4(n,t,i):null}(e,M);return new mL(e,M,_,P)}}let b4=(()=>{class n extends fb{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?D_(t):t;return gL(this._renderer,null,i,"register",[r]),new w4(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class w4 extends class pb{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new E4(this._id,e,t||{},this._renderer)}}class E4{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return gL(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function gL(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const _L="@.disabled";let C4=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(a,u)=>{const f=u?.parentNode(a);f&&u.removeChild(f,a)}}createRenderer(t,i){const a=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let I=this._rendererCache.get(a);return I||(I=new yL("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,I)),I}const u=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=I=>{Array.isArray(I)?I.forEach(_):this.engine.registerTrigger(u,f,t,I.name,I)};return i.data.animation.forEach(_),new I4(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[u,f]=a;u(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(PD),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class yL{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==_L?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class I4 extends yL{constructor(e,t,i,r,a){super(t,i,r,a),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==_L?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function T4(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),u="";return"@"!=a.charAt(0)&&([a,u]=function D4(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,r,a,u,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(e,t,i)}}let S4=(()=>{class n extends PD{constructor(t,i,r,a){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie),l.LFG(KR),l.LFG(a1),l.LFG(l.z2F))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const vL=[{provide:fb,useClass:b4},{provide:a1,useFactory:function A4(){return new Z$}},{provide:PD,useClass:S4},{provide:l.FYo,useFactory:function M4(n,e,t){return new C4(n,e,t)},deps:[Ja,PD,l.R0b]}],p1=[{provide:KR,useFactory:()=>new v4},{provide:l.QbO,useValue:"BrowserAnimations"},...vL],m1=[{provide:KR,useClass:qF},{provide:l.QbO,useValue:"NoopAnimations"},...vL];let x4=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?m1:p1}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:p1,imports:[il]}),n})(),R4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:m1,imports:[il]}),n})();class g1{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class k4 extends g1{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class O4 extends g1{constructor(e,t,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class P4 extends g1{constructor(e){super(),this.element=e instanceof l.SBq?e.nativeElement:e}}class F4 extends class N4{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof k4?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof O4?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof P4?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(e,t,i,r,a){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const f=u.element,_=this._document.createComment("dom-portal");f.parentNode.insertBefore(_,f),this.outletElement.appendChild(f),this._attachedPortal=u,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(f,_)})},this._document=a}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||l.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let L4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const bL=xN();class V4{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=ir(-this._previousScrollPosition.left),e.style.top=ir(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,a=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),bL&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),bL&&(i.scrollBehavior=a,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class U4{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class wL{enable(){}disable(){}attach(){}}function _1(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function EL(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class B4{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();_1(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let H4=(()=>{class n{constructor(t,i,r,a){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new wL,this.close=u=>new U4(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new V4(this._viewportRuler,this._document),this.reposition=u=>new B4(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=a}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(_D),l.LFG(BR),l.LFG(l.R0b),l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class j4{constructor(e){if(this.scrollStrategy=new wL,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class $4{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let CL=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),z4=(()=>{class n extends CL{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const a=this._attachedOverlays;for(let u=a.length-1;u>-1;u--)if(a[u]._keydownEvents.observers.length>0){const f=a[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(r)):f.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),G4=(()=>{class n extends CL{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=eg(a)},this._clickListener=a=>{const u=eg(a),f="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let w=_.length-1;w>-1;w--){const I=_[w];if(I._outsidePointerEvents.observers.length<1||!I.hasAttached())continue;if(I.overlayElement.contains(u)||I.overlayElement.contains(f))break;const M=I._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>M.next(a)):M.next(a)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie),l.LFG(Pa),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),IL=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||OR()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<r.length;a++)r[a].remove()}const i=this._document.createElement("div");i.classList.add(t),OR()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ie),l.LFG(Pa))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class q4{constructor(e,t,i,r,a,u,f,_,w){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=a,this._keyboardDispatcher=u,this._document=f,this._location=_,this._outsideClickDispatcher=w,this._backdropElement=null,this._backdropClick=new Yt.x,this._attachments=new Yt.x,this._detachments=new Yt.x,this._locationChanges=bc.w0.EMPTY,this._backdropClickHandler=I=>this._backdropClick.next(I),this._backdropTransitionendHandler=I=>{this._disposeBackdrop(I.target)},this._keydownEvents=new Yt.x,this._outsidePointerEvents=new Yt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(wa(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=ir(this._config.width),e.height=ir(this._config.height),e.minWidth=ir(this._config.minWidth),e.minHeight=ir(this._config.minHeight),e.maxWidth=ir(this._config.maxWidth),e.maxHeight=ir(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;!e||(e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500)))}_toggleClasses(e,t,i){const r=FN(t||[]).filter(a=>!!a);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(ts((0,M_.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const TL="cdk-overlay-connected-position-bounding-box",Z4=/([A-Za-z%]+)$/;class W4{constructor(e,t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Yt.x,this._resizeSubscription=bc.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(TL),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,a=[];let u;for(let f of this._preferredPositions){let _=this._getOriginPoint(e,r,f),w=this._getOverlayPoint(_,t,f),I=this._getOverlayFit(w,t,i,f);if(I.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,_);this._canFitWithFlexibleDimensions(I,w,i)?a.push({position:f,origin:_,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(_,f)}):(!u||u.overlayFit.visibleArea<I.visibleArea)&&(u={overlayFit:I,overlayPoint:w,originPoint:_,position:f,overlayRect:t})}if(a.length){let f=null,_=-1;for(const w of a){const I=w.boundingBoxRect.width*w.boundingBoxRect.height*(w.position.weight||1);I>_&&(_=I,f=w)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&og(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(TL),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,a;if("center"==i.originX)r=e.left+e.width/2;else{const u=this._isRtl()?e.right:e.left,f=this._isRtl()?e.left:e.right;r="start"==i.originX?u:f}return t.left<0&&(r-=t.left),a="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(a-=t.top),{x:r,y:a}}_getOverlayPoint(e,t,i){let r,a;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+a}}_getOverlayFit(e,t,i,r){const a=SL(t);let{x:u,y:f}=e,_=this._getOffset(r,"x"),w=this._getOffset(r,"y");_&&(u+=_),w&&(f+=w);let P=0-f,V=f+a.height-i.height,q=this._subtractOverflows(a.width,0-u,u+a.width-i.width),ne=this._subtractOverflows(a.height,P,V),_e=q*ne;return{visibleArea:_e,isCompletelyWithinViewport:a.width*a.height===_e,fitsInViewportVertically:ne===a.height,fitsInViewportHorizontally:q==a.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,a=i.right-t.x,u=DL(this._overlayRef.getConfig().minHeight),f=DL(this._overlayRef.getConfig().minWidth),w=e.fitsInViewportHorizontally||null!=f&&f<=a;return(e.fitsInViewportVertically||null!=u&&u<=r)&&w}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=SL(t),a=this._viewportRect,u=Math.max(e.x+r.width-a.width,0),f=Math.max(e.y+r.height-a.height,0),_=Math.max(a.top-i.top-e.y,0),w=Math.max(a.left-i.left-e.x,0);let I=0,M=0;return I=r.width<=a.width?w||-u:e.x<this._viewportMargin?a.left-i.left-e.x:0,M=r.height<=a.height?_||-f:e.y<this._viewportMargin?a.top-i.top-e.y:0,this._previousPushAmount={x:I,y:M},{x:e.x+I,y:e.y+M}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new $4(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let a,u,f,I,M,P;if("top"===t.overlayY)u=e.y,a=i.height-u+this._viewportMargin;else if("bottom"===t.overlayY)f=i.height-e.y+2*this._viewportMargin,a=i.height-f+this._viewportMargin;else{const V=Math.min(i.bottom-e.y+i.top,e.y),q=this._lastBoundingBoxSize.height;a=2*V,u=e.y-V,a>q&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-q/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)P=i.width-e.x+this._viewportMargin,I=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)M=e.x,I=i.right-e.x;else{const V=Math.min(i.right-e.x+i.left,e.x),q=this._lastBoundingBoxSize.width;I=2*V,M=e.x-V,I>q&&!this._isInitialRender&&!this._growAfterOpen&&(M=e.x-q/2)}return{top:u,left:M,bottom:f,right:P,width:I,height:a}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=ir(i.height),r.top=ir(i.top),r.bottom=ir(i.bottom),r.width=ir(i.width),r.left=ir(i.left),r.right=ir(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(r.maxHeight=ir(a)),u&&(r.maxWidth=ir(u))}this._lastBoundingBoxSize=i,og(this._boundingBox.style,r)}_resetBoundingBoxStyles(){og(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){og(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),a=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const I=this._viewportRuler.getViewportScrollPosition();og(i,this._getExactOverlayY(t,e,I)),og(i,this._getExactOverlayX(t,e,I))}else i.position="static";let f="",_=this._getOffset(t,"x"),w=this._getOffset(t,"y");_&&(f+=`translateX(${_}px) `),w&&(f+=`translateY(${w}px)`),i.transform=f.trim(),u.maxHeight&&(r?i.maxHeight=ir(u.maxHeight):a&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=ir(u.maxWidth):a&&(i.maxWidth="")),og(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":r.top=ir(a.y),r}_getExactOverlayX(e,t,i){let u,r={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),u=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":r.left=ir(a.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:EL(e,i),isOriginOutsideView:_1(e,i),isOverlayClipped:EL(t,i),isOverlayOutsideView:_1(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?e.offsetX??this._offsetX:e.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&FN(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof l.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function og(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function DL(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Z4);return t&&"px"!==t?null:parseFloat(e)}return n||null}function SL(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const AL="cdk-global-overlay-wrapper";class K4{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(AL),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:a,maxWidth:u,maxHeight:f}=i,_=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),w=!("100%"!==a&&"100vh"!==a||f&&"100%"!==f&&"100vh"!==f);e.position=this._cssPosition,e.marginLeft=_?"0":this._leftOffset,e.marginTop=w?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,_?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=w?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(AL),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Y4=(()=>{class n{constructor(t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a}global(){return new K4}flexibleConnectedTo(t){return new W4(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(BR),l.LFG(ie),l.LFG(Pa),l.LFG(IL))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Q4=0,y1=(()=>{class n{constructor(t,i,r,a,u,f,_,w,I,M,P){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=a,this._keyboardDispatcher=u,this._injector=f,this._ngZone=_,this._document=w,this._directionality=I,this._location=M,this._outsideClickDispatcher=P}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),a=this._createPortalOutlet(r),u=new j4(t);return u.direction=u.direction||this._directionality.value,new q4(a,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Q4++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(l.z2F)),new F4(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(H4),l.LFG(IL),l.LFG(l._Vd),l.LFG(Y4),l.LFG(z4),l.LFG(l.zs3),l.LFG(l.R0b),l.LFG(ie),l.LFG(NR),l.LFG(Oe),l.LFG(G4))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const ez={provide:new l.OlP("cdk-connected-overlay-scroll-strategy"),deps:[y1],useFactory:function J4(n){return()=>n.scrollStrategies.reposition()}};let tz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[y1,ez],imports:[[Ww,L4,CF],CF]}),n})();const sz={provide:new l.OlP("mat-menu-scroll-strategy"),deps:[y1],useFactory:function rz(n){return()=>n.scrollStrategies.reposition()}};let oz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[sz],imports:[[_o,ns,rF,tz],tE,ns]}),n})();!function Qo(n,e,t){(0,l.dwT)(n,e,t)}(zf);let az=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[R6]}),n.\u0275inj=l.cJS({providers:[{provide:l.soG,useValue:"es"}],imports:[il,x6,x4,R4,vp,oF,Sj,oz,u3,M3,vl,xo.hO.initializeApp(hE_firebase),KB.forRoot({timeOut:4e3,positionClass:"toast-bottom-right",preventDuplicates:!0}),oF]}),n})();(0,l.G48)(),la().bootstrapModule(az).catch(n=>console.error(n))},9751:(gt,De,N)=>{N.d(De,{y:()=>Ee});var l=N(930),X=N(727),O=N(8822),ae=N(9635),oe=N(2416),ue=N(576),ie=N(2806);let Ee=(()=>{class W{constructor(xe){xe&&(this._subscribe=xe)}lift(xe){const Ie=new W;return Ie.source=this,Ie.operator=xe,Ie}subscribe(xe,Ie,ot){const ve=function $(W){return W&&W instanceof l.Lv||function z(W){return W&&(0,ue.m)(W.next)&&(0,ue.m)(W.error)&&(0,ue.m)(W.complete)}(W)&&(0,X.Nn)(W)}(xe)?xe:new l.Hp(xe,Ie,ot);return(0,ie.x)(()=>{const{operator:ye,source:yt}=this;ve.add(ye?ye.call(ve,yt):yt?this._subscribe(ve):this._trySubscribe(ve))}),ve}_trySubscribe(xe){try{return this._subscribe(xe)}catch(Ie){xe.error(Ie)}}forEach(xe,Ie){return new(Ie=he(Ie))((ot,ve)=>{const ye=new l.Hp({next:yt=>{try{xe(yt)}catch(Tt){ve(Tt),ye.unsubscribe()}},error:ve,complete:ot});this.subscribe(ye)})}_subscribe(xe){var Ie;return null===(Ie=this.source)||void 0===Ie?void 0:Ie.subscribe(xe)}[O.L](){return this}pipe(...xe){return(0,ae.U)(xe)(this)}toPromise(xe){return new(xe=he(xe))((Ie,ot)=>{let ve;this.subscribe(ye=>ve=ye,ye=>ot(ye),()=>Ie(ve))})}}return W.create=Ge=>new W(Ge),W})();function he(W){var Ge;return null!==(Ge=W??oe.v.Promise)&&void 0!==Ge?Ge:Promise}},7579:(gt,De,N)=>{N.d(De,{x:()=>ie});var l=N(9751),X=N(727);const ae=(0,N(3888).d)(he=>function(){he(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=N(8737),ue=N(2806);let ie=(()=>{class he extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const W=new Ee(this,this);return W.operator=$,W}_throwIfClosed(){if(this.closed)throw new ae}next($){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const W of this.currentObservers)W.next($)}})}error($){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:W}=this;for(;W.length;)W.shift().error($)}})}complete(){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:W,isStopped:Ge,observers:xe}=this;return W||Ge?X.Lc:(this.currentObservers=null,xe.push($),new X.w0(()=>{this.currentObservers=null,(0,oe.P)(xe,$)}))}_checkFinalizedStatuses($){const{hasError:W,thrownError:Ge,isStopped:xe}=this;W?$.error(Ge):xe&&$.complete()}asObservable(){const $=new l.y;return $.source=this,$}}return he.create=(z,$)=>new Ee(z,$),he})();class Ee extends ie{constructor(z,$){super(),this.destination=z,this.source=$}next(z){var $,W;null===(W=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===W||W.call($,z)}error(z){var $,W;null===(W=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===W||W.call($,z)}complete(){var z,$;null===($=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===$||$.call(z)}_subscribe(z){var $,W;return null!==(W=null===($=this.source)||void 0===$?void 0:$.subscribe(z))&&void 0!==W?W:X.Lc}}},930:(gt,De,N)=>{N.d(De,{Hp:()=>ot,Lv:()=>W});var l=N(576),X=N(727),O=N(2416),ae=N(7849),oe=N(5032);const ue=he("C",void 0,void 0);function he(Oe,Ce,pe){return{kind:Oe,value:Ce,error:pe}}var z=N(3410),$=N(2806);class W extends X.w0{constructor(Ce){super(),this.isStopped=!1,Ce?(this.destination=Ce,(0,X.Nn)(Ce)&&Ce.add(this)):this.destination=Tt}static create(Ce,pe,qe){return new ot(Ce,pe,qe)}next(Ce){this.isStopped?yt(function Ee(Oe){return he("N",Oe,void 0)}(Ce),this):this._next(Ce)}error(Ce){this.isStopped?yt(function ie(Oe){return he("E",void 0,Oe)}(Ce),this):(this.isStopped=!0,this._error(Ce))}complete(){this.isStopped?yt(ue,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ce){this.destination.next(Ce)}_error(Ce){try{this.destination.error(Ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ge=Function.prototype.bind;function xe(Oe,Ce){return Ge.call(Oe,Ce)}class Ie{constructor(Ce){this.partialObserver=Ce}next(Ce){const{partialObserver:pe}=this;if(pe.next)try{pe.next(Ce)}catch(qe){ve(qe)}}error(Ce){const{partialObserver:pe}=this;if(pe.error)try{pe.error(Ce)}catch(qe){ve(qe)}else ve(Ce)}complete(){const{partialObserver:Ce}=this;if(Ce.complete)try{Ce.complete()}catch(pe){ve(pe)}}}class ot extends W{constructor(Ce,pe,qe){let je;if(super(),(0,l.m)(Ce)||!Ce)je={next:Ce??void 0,error:pe??void 0,complete:qe??void 0};else{let Je;this&&O.v.useDeprecatedNextContext?(Je=Object.create(Ce),Je.unsubscribe=()=>this.unsubscribe(),je={next:Ce.next&&xe(Ce.next,Je),error:Ce.error&&xe(Ce.error,Je),complete:Ce.complete&&xe(Ce.complete,Je)}):je=Ce}this.destination=new Ie(je)}}function ve(Oe){O.v.useDeprecatedSynchronousErrorHandling?(0,$.O)(Oe):(0,ae.h)(Oe)}function yt(Oe,Ce){const{onStoppedNotification:pe}=O.v;pe&&z.z.setTimeout(()=>pe(Oe,Ce))}const Tt={closed:!0,next:oe.Z,error:function ye(Oe){throw Oe},complete:oe.Z}},727:(gt,De,N)=>{N.d(De,{Lc:()=>ue,w0:()=>oe,Nn:()=>ie});var l=N(576);const O=(0,N(3888).d)(he=>function($){he(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((W,Ge)=>`${Ge+1}) ${W.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var ae=N(8737);class oe{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const xe of $)xe.remove(this);else $.remove(this);const{initialTeardown:W}=this;if((0,l.m)(W))try{W()}catch(xe){z=xe instanceof O?xe.errors:[xe]}const{_finalizers:Ge}=this;if(Ge){this._finalizers=null;for(const xe of Ge)try{Ee(xe)}catch(Ie){z=z??[],Ie instanceof O?z=[...z,...Ie.errors]:z.push(Ie)}}if(z)throw new O(z)}}add(z){var $;if(z&&z!==this)if(this.closed)Ee(z);else{if(z instanceof oe){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(z)}}_hasParent(z){const{_parentage:$}=this;return $===z||Array.isArray($)&&$.includes(z)}_addParent(z){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(z),$):$?[$,z]:z}_removeParent(z){const{_parentage:$}=this;$===z?this._parentage=null:Array.isArray($)&&(0,ae.P)($,z)}remove(z){const{_finalizers:$}=this;$&&(0,ae.P)($,z),z instanceof oe&&z._removeParent(this)}}oe.EMPTY=(()=>{const he=new oe;return he.closed=!0,he})();const ue=oe.EMPTY;function ie(he){return he instanceof oe||he&&"closed"in he&&(0,l.m)(he.remove)&&(0,l.m)(he.add)&&(0,l.m)(he.unsubscribe)}function Ee(he){(0,l.m)(he)?he():he.unsubscribe()}},2416:(gt,De,N)=>{N.d(De,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(gt,De,N)=>{N.d(De,{E:()=>X});const X=new(N(9751).y)(oe=>oe.complete())},8996:(gt,De,N)=>{N.d(De,{D:()=>Ce});var l=N(8421),X=N(5363),O=N(9468),ue=N(9751),Ee=N(2202),he=N(576),z=N(9672);function W(pe,qe){if(!pe)throw new Error("Iterable cannot be null");return new ue.y(je=>{(0,z.f)(je,qe,()=>{const Je=pe[Symbol.asyncIterator]();(0,z.f)(je,qe,()=>{Je.next().then(ee=>{ee.done?je.complete():je.next(ee.value)})},0,!0)})})}var Ge=N(3670),xe=N(8239),Ie=N(1144),ot=N(6495),ve=N(2206),ye=N(4532),yt=N(3260);function Ce(pe,qe){return qe?function Oe(pe,qe){if(null!=pe){if((0,Ge.c)(pe))return function ae(pe,qe){return(0,l.Xf)(pe).pipe((0,O.R)(qe),(0,X.Q)(qe))}(pe,qe);if((0,Ie.z)(pe))return function ie(pe,qe){return new ue.y(je=>{let Je=0;return qe.schedule(function(){Je===pe.length?je.complete():(je.next(pe[Je++]),je.closed||this.schedule())})})}(pe,qe);if((0,xe.t)(pe))return function oe(pe,qe){return(0,l.Xf)(pe).pipe((0,O.R)(qe),(0,X.Q)(qe))}(pe,qe);if((0,ve.D)(pe))return W(pe,qe);if((0,ot.T)(pe))return function $(pe,qe){return new ue.y(je=>{let Je;return(0,z.f)(je,qe,()=>{Je=pe[Ee.h](),(0,z.f)(je,qe,()=>{let ee,Mt;try{({value:ee,done:Mt}=Je.next())}catch(ht){return void je.error(ht)}Mt?je.complete():je.next(ee)},0,!0)}),()=>(0,he.m)(Je?.return)&&Je.return()})}(pe,qe);if((0,yt.L)(pe))return function Tt(pe,qe){return W((0,yt.Q)(pe),qe)}(pe,qe)}throw(0,ye.z)(pe)}(pe,qe):(0,l.Xf)(pe)}},8421:(gt,De,N)=>{N.d(De,{Xf:()=>Ge});var l=N(655),X=N(1144),O=N(8239),ae=N(9751),oe=N(3670),ue=N(2206),ie=N(4532),Ee=N(6495),he=N(3260),z=N(576),$=N(7849),W=N(8822);function Ge(Oe){if(Oe instanceof ae.y)return Oe;if(null!=Oe){if((0,oe.c)(Oe))return function xe(Oe){return new ae.y(Ce=>{const pe=Oe[W.L]();if((0,z.m)(pe.subscribe))return pe.subscribe(Ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Oe);if((0,X.z)(Oe))return function Ie(Oe){return new ae.y(Ce=>{for(let pe=0;pe<Oe.length&&!Ce.closed;pe++)Ce.next(Oe[pe]);Ce.complete()})}(Oe);if((0,O.t)(Oe))return function ot(Oe){return new ae.y(Ce=>{Oe.then(pe=>{Ce.closed||(Ce.next(pe),Ce.complete())},pe=>Ce.error(pe)).then(null,$.h)})}(Oe);if((0,ue.D)(Oe))return ye(Oe);if((0,Ee.T)(Oe))return function ve(Oe){return new ae.y(Ce=>{for(const pe of Oe)if(Ce.next(pe),Ce.closed)return;Ce.complete()})}(Oe);if((0,he.L)(Oe))return function yt(Oe){return ye((0,he.Q)(Oe))}(Oe)}throw(0,ie.z)(Oe)}function ye(Oe){return new ae.y(Ce=>{(function Tt(Oe,Ce){var pe,qe,je,Je;return(0,l.mG)(this,void 0,void 0,function*(){try{for(pe=(0,l.KL)(Oe);!(qe=yield pe.next()).done;)if(Ce.next(qe.value),Ce.closed)return}catch(ee){je={error:ee}}finally{try{qe&&!qe.done&&(Je=pe.return)&&(yield Je.call(pe))}finally{if(je)throw je.error}}Ce.complete()})})(Oe,Ce).catch(pe=>Ce.error(pe))})}},6451:(gt,De,N)=>{N.d(De,{T:()=>ue});var l=N(8189),X=N(8421),O=N(515),ae=N(3269),oe=N(8996);function ue(...ie){const Ee=(0,ae.yG)(ie),he=(0,ae._6)(ie,1/0),z=ie;return z.length?1===z.length?(0,X.Xf)(z[0]):(0,l.J)(he)((0,oe.D)(z,Ee)):O.E}},5403:(gt,De,N)=>{N.d(De,{x:()=>X});var l=N(930);function X(ae,oe,ue,ie,Ee){return new O(ae,oe,ue,ie,Ee)}class O extends l.Lv{constructor(oe,ue,ie,Ee,he,z){super(oe),this.onFinalize=he,this.shouldUnsubscribe=z,this._next=ue?function($){try{ue($)}catch(W){oe.error(W)}}:super._next,this._error=Ee?function($){try{Ee($)}catch(W){oe.error(W)}finally{this.unsubscribe()}}:super._error,this._complete=ie?function(){try{ie()}catch($){oe.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ue}=this;super.unsubscribe(),!ue&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}}},4004:(gt,De,N)=>{N.d(De,{U:()=>O});var l=N(4482),X=N(5403);function O(ae,oe){return(0,l.e)((ue,ie)=>{let Ee=0;ue.subscribe((0,X.x)(ie,he=>{ie.next(ae.call(oe,he,Ee++))}))})}},8189:(gt,De,N)=>{N.d(De,{J:()=>O});var l=N(5577),X=N(4671);function O(ae=1/0){return(0,l.z)(X.y,ae)}},5577:(gt,De,N)=>{N.d(De,{z:()=>Ee});var l=N(4004),X=N(8421),O=N(4482),ae=N(9672),oe=N(5403),ie=N(576);function Ee(he,z,$=1/0){return(0,ie.m)(z)?Ee((W,Ge)=>(0,l.U)((xe,Ie)=>z(W,xe,Ge,Ie))((0,X.Xf)(he(W,Ge))),$):("number"==typeof z&&($=z),(0,O.e)((W,Ge)=>function ue(he,z,$,W,Ge,xe,Ie,ot){const ve=[];let ye=0,yt=0,Tt=!1;const Oe=()=>{Tt&&!ve.length&&!ye&&z.complete()},Ce=qe=>ye<W?pe(qe):ve.push(qe),pe=qe=>{xe&&z.next(qe),ye++;let je=!1;(0,X.Xf)($(qe,yt++)).subscribe((0,oe.x)(z,Je=>{Ge?.(Je),xe?Ce(Je):z.next(Je)},()=>{je=!0},void 0,()=>{if(je)try{for(ye--;ve.length&&ye<W;){const Je=ve.shift();Ie?(0,ae.f)(z,Ie,()=>pe(Je)):pe(Je)}Oe()}catch(Je){z.error(Je)}}))};return he.subscribe((0,oe.x)(z,Ce,()=>{Tt=!0,Oe()})),()=>{ot?.()}}(W,Ge,he,$)))}},5363:(gt,De,N)=>{N.d(De,{Q:()=>ae});var l=N(9672),X=N(4482),O=N(5403);function ae(oe,ue=0){return(0,X.e)((ie,Ee)=>{ie.subscribe((0,O.x)(Ee,he=>(0,l.f)(Ee,oe,()=>Ee.next(he),ue),()=>(0,l.f)(Ee,oe,()=>Ee.complete(),ue),he=>(0,l.f)(Ee,oe,()=>Ee.error(he),ue)))})}},3099:(gt,De,N)=>{N.d(De,{B:()=>oe});var l=N(8421),X=N(7579),O=N(930),ae=N(4482);function oe(ie={}){const{connector:Ee=(()=>new X.x),resetOnError:he=!0,resetOnComplete:z=!0,resetOnRefCountZero:$=!0}=ie;return W=>{let Ge,xe,Ie,ot=0,ve=!1,ye=!1;const yt=()=>{xe?.unsubscribe(),xe=void 0},Tt=()=>{yt(),Ge=Ie=void 0,ve=ye=!1},Oe=()=>{const Ce=Ge;Tt(),Ce?.unsubscribe()};return(0,ae.e)((Ce,pe)=>{ot++,!ye&&!ve&&yt();const qe=Ie=Ie??Ee();pe.add(()=>{ot--,0===ot&&!ye&&!ve&&(xe=ue(Oe,$))}),qe.subscribe(pe),!Ge&&ot>0&&(Ge=new O.Hp({next:je=>qe.next(je),error:je=>{ye=!0,yt(),xe=ue(Tt,he,je),qe.error(je)},complete:()=>{ve=!0,yt(),xe=ue(Tt,z),qe.complete()}}),(0,l.Xf)(Ce).subscribe(Ge))})(W)}}function ue(ie,Ee,...he){if(!0===Ee)return void ie();if(!1===Ee)return;const z=new O.Hp({next:()=>{z.unsubscribe(),ie()}});return Ee(...he).subscribe(z)}},9468:(gt,De,N)=>{N.d(De,{R:()=>X});var l=N(4482);function X(O,ae=0){return(0,l.e)((oe,ue)=>{ue.add(O.schedule(()=>oe.subscribe(ue),ae))})}},8505:(gt,De,N)=>{N.d(De,{b:()=>oe});var l=N(576),X=N(4482),O=N(5403),ae=N(4671);function oe(ue,ie,Ee){const he=(0,l.m)(ue)||ie||Ee?{next:ue,error:ie,complete:Ee}:ue;return he?(0,X.e)((z,$)=>{var W;null===(W=he.subscribe)||void 0===W||W.call(he);let Ge=!0;z.subscribe((0,O.x)($,xe=>{var Ie;null===(Ie=he.next)||void 0===Ie||Ie.call(he,xe),$.next(xe)},()=>{var xe;Ge=!1,null===(xe=he.complete)||void 0===xe||xe.call(he),$.complete()},xe=>{var Ie;Ge=!1,null===(Ie=he.error)||void 0===Ie||Ie.call(he,xe),$.error(xe)},()=>{var xe,Ie;Ge&&(null===(xe=he.unsubscribe)||void 0===xe||xe.call(he)),null===(Ie=he.finalize)||void 0===Ie||Ie.call(he)}))}):ae.y}},4408:(gt,De,N)=>{N.d(De,{o:()=>oe});var l=N(727);class X extends l.w0{constructor(ie,Ee){super()}schedule(ie,Ee=0){return this}}const O={setInterval(ue,ie,...Ee){const{delegate:he}=O;return he?.setInterval?he.setInterval(ue,ie,...Ee):setInterval(ue,ie,...Ee)},clearInterval(ue){const{delegate:ie}=O;return(ie?.clearInterval||clearInterval)(ue)},delegate:void 0};var ae=N(8737);class oe extends X{constructor(ie,Ee){super(ie,Ee),this.scheduler=ie,this.work=Ee,this.pending=!1}schedule(ie,Ee=0){var he;if(this.closed)return this;this.state=ie;const z=this.id,$=this.scheduler;return null!=z&&(this.id=this.recycleAsyncId($,z,Ee)),this.pending=!0,this.delay=Ee,this.id=null!==(he=this.id)&&void 0!==he?he:this.requestAsyncId($,this.id,Ee),this}requestAsyncId(ie,Ee,he=0){return O.setInterval(ie.flush.bind(ie,this),he)}recycleAsyncId(ie,Ee,he=0){if(null!=he&&this.delay===he&&!1===this.pending)return Ee;null!=Ee&&O.clearInterval(Ee)}execute(ie,Ee){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const he=this._execute(ie,Ee);if(he)return he;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ie,Ee){let z,he=!1;try{this.work(ie)}catch($){he=!0,z=$||new Error("Scheduled action threw falsy error")}if(he)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:ie,scheduler:Ee}=this,{actions:he}=Ee;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(he,this),null!=ie&&(this.id=this.recycleAsyncId(Ee,ie,null)),this.delay=null,super.unsubscribe()}}}},7565:(gt,De,N)=>{N.d(De,{v:()=>O});var l=N(6063);class X{constructor(oe,ue=X.now){this.schedulerActionCtor=oe,this.now=ue}schedule(oe,ue=0,ie){return new this.schedulerActionCtor(this,oe).schedule(ie,ue)}}X.now=l.l.now;class O extends X{constructor(oe,ue=X.now){super(oe,ue),this.actions=[],this._active=!1}flush(oe){const{actions:ue}=this;if(this._active)return void ue.push(oe);let ie;this._active=!0;do{if(ie=oe.execute(oe.state,oe.delay))break}while(oe=ue.shift());if(this._active=!1,ie){for(;oe=ue.shift();)oe.unsubscribe();throw ie}}}},4986:(gt,De,N)=>{N.d(De,{P:()=>ae,z:()=>O});var l=N(4408);const O=new(N(7565).v)(l.o),ae=O},6063:(gt,De,N)=>{N.d(De,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(gt,De,N)=>{N.d(De,{z:()=>l});const l={setTimeout(X,O,...ae){const{delegate:oe}=l;return oe?.setTimeout?oe.setTimeout(X,O,...ae):setTimeout(X,O,...ae)},clearTimeout(X){const{delegate:O}=l;return(O?.clearTimeout||clearTimeout)(X)},delegate:void 0}},2202:(gt,De,N)=>{N.d(De,{h:()=>X});const X=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(gt,De,N)=>{N.d(De,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(gt,De,N)=>{N.d(De,{_6:()=>ue,jO:()=>ae,yG:()=>oe});var l=N(576),X=N(3532);function O(ie){return ie[ie.length-1]}function ae(ie){return(0,l.m)(O(ie))?ie.pop():void 0}function oe(ie){return(0,X.K)(O(ie))?ie.pop():void 0}function ue(ie,Ee){return"number"==typeof O(ie)?ie.pop():Ee}},8737:(gt,De,N)=>{function l(X,O){if(X){const ae=X.indexOf(O);0<=ae&&X.splice(ae,1)}}N.d(De,{P:()=>l})},3888:(gt,De,N)=>{function l(X){const ae=X(oe=>{Error.call(oe),oe.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}N.d(De,{d:()=>l})},2806:(gt,De,N)=>{N.d(De,{O:()=>ae,x:()=>O});var l=N(2416);let X=null;function O(oe){if(l.v.useDeprecatedSynchronousErrorHandling){const ue=!X;if(ue&&(X={errorThrown:!1,error:null}),oe(),ue){const{errorThrown:ie,error:Ee}=X;if(X=null,ie)throw Ee}}else oe()}function ae(oe){l.v.useDeprecatedSynchronousErrorHandling&&X&&(X.errorThrown=!0,X.error=oe)}},9672:(gt,De,N)=>{function l(X,O,ae,oe=0,ue=!1){const ie=O.schedule(function(){ae(),ue?X.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(X.add(ie),!ue)return ie}N.d(De,{f:()=>l})},4671:(gt,De,N)=>{function l(X){return X}N.d(De,{y:()=>l})},1144:(gt,De,N)=>{N.d(De,{z:()=>l});const l=X=>X&&"number"==typeof X.length&&"function"!=typeof X},2206:(gt,De,N)=>{N.d(De,{D:()=>X});var l=N(576);function X(O){return Symbol.asyncIterator&&(0,l.m)(O?.[Symbol.asyncIterator])}},576:(gt,De,N)=>{function l(X){return"function"==typeof X}N.d(De,{m:()=>l})},3670:(gt,De,N)=>{N.d(De,{c:()=>O});var l=N(8822),X=N(576);function O(ae){return(0,X.m)(ae[l.L])}},6495:(gt,De,N)=>{N.d(De,{T:()=>O});var l=N(2202),X=N(576);function O(ae){return(0,X.m)(ae?.[l.h])}},8239:(gt,De,N)=>{N.d(De,{t:()=>X});var l=N(576);function X(O){return(0,l.m)(O?.then)}},3260:(gt,De,N)=>{N.d(De,{L:()=>ae,Q:()=>O});var l=N(655),X=N(576);function O(oe){return(0,l.FC)(this,arguments,function*(){const ie=oe.getReader();try{for(;;){const{value:Ee,done:he}=yield(0,l.qq)(ie.read());if(he)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(Ee)}}finally{ie.releaseLock()}})}function ae(oe){return(0,X.m)(oe?.getReader)}},3532:(gt,De,N)=>{N.d(De,{K:()=>X});var l=N(576);function X(O){return O&&(0,l.m)(O.schedule)}},4482:(gt,De,N)=>{N.d(De,{A:()=>X,e:()=>O});var l=N(576);function X(ae){return(0,l.m)(ae?.lift)}function O(ae){return oe=>{if(X(oe))return oe.lift(function(ue){try{return ae(ue,this)}catch(ie){this.error(ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(gt,De,N)=>{function l(){}N.d(De,{Z:()=>l})},9635:(gt,De,N)=>{N.d(De,{U:()=>O,z:()=>X});var l=N(4671);function X(...ae){return O(ae)}function O(ae){return 0===ae.length?l.y:1===ae.length?ae[0]:function(ue){return ae.reduce((ie,Ee)=>Ee(ie),ue)}}},7849:(gt,De,N)=>{N.d(De,{h:()=>O});var l=N(2416),X=N(3410);function O(ae){X.z.setTimeout(()=>{const{onUnhandledError:oe}=l.v;if(!oe)throw ae;oe(ae)})}},4532:(gt,De,N)=>{function l(X){return new TypeError(`You provided ${null!==X&&"object"==typeof X?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(De,{z:()=>l})},655:(gt,De,N)=>{function ae(de,me){var Se={};for(var ke in de)Object.prototype.hasOwnProperty.call(de,ke)&&me.indexOf(ke)<0&&(Se[ke]=de[ke]);if(null!=de&&"function"==typeof Object.getOwnPropertySymbols){var Ve=0;for(ke=Object.getOwnPropertySymbols(de);Ve<ke.length;Ve++)me.indexOf(ke[Ve])<0&&Object.prototype.propertyIsEnumerable.call(de,ke[Ve])&&(Se[ke[Ve]]=de[ke[Ve]])}return Se}function W(de,me,Se,ke){return new(Se||(Se=Promise))(function(Te,xt){function sn(Gt){try{He(ke.next(Gt))}catch(Wt){xt(Wt)}}function Ft(Gt){try{He(ke.throw(Gt))}catch(Wt){xt(Wt)}}function He(Gt){Gt.done?Te(Gt.value):function Ve(Te){return Te instanceof Se?Te:new Se(function(xt){xt(Te)})}(Gt.value).then(sn,Ft)}He((ke=ke.apply(de,me||[])).next())})}function Oe(de){return this instanceof Oe?(this.v=de,this):new Oe(de)}function Ce(de,me,Se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,ke=Se.apply(de,me||[]),Te=[];return Ve={},xt("next"),xt("throw"),xt("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve;function xt(en){ke[en]&&(Ve[en]=function(On){return new Promise(function(jn,Bi){Te.push([en,On,jn,Bi])>1||sn(en,On)})})}function sn(en,On){try{!function Ft(en){en.value instanceof Oe?Promise.resolve(en.value.v).then(He,Gt):Wt(Te[0][2],en)}(ke[en](On))}catch(jn){Wt(Te[0][3],jn)}}function He(en){sn("next",en)}function Gt(en){sn("throw",en)}function Wt(en,On){en(On),Te.shift(),Te.length&&sn(Te[0][0],Te[0][1])}}function qe(de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Se,me=de[Symbol.asyncIterator];return me?me.call(de):(de=function ot(de){var me="function"==typeof Symbol&&Symbol.iterator,Se=me&&de[me],ke=0;if(Se)return Se.call(de);if(de&&"number"==typeof de.length)return{next:function(){return de&&ke>=de.length&&(de=void 0),{value:de&&de[ke++],done:!de}}};throw new TypeError(me?"Object is not iterable.":"Symbol.iterator is not defined.")}(de),Se={},ke("next"),ke("throw"),ke("return"),Se[Symbol.asyncIterator]=function(){return this},Se);function ke(Te){Se[Te]=de[Te]&&function(xt){return new Promise(function(sn,Ft){!function Ve(Te,xt,sn,Ft){Promise.resolve(Ft).then(function(He){Te({value:He,done:sn})},xt)}(sn,Ft,(xt=de[Te](xt)).done,xt.value)})}}}N.d(De,{FC:()=>Ce,KL:()=>qe,_T:()=>ae,mG:()=>W,qq:()=>Oe})},4650:(gt,De,N)=>{N.d(De,{$8M:()=>oc,$Z:()=>Uu,AFp:()=>$0,ALo:()=>T0,AaK:()=>Ee,BQk:()=>gb,CHM:()=>cs,CRH:()=>MI,CZH:()=>Nc,CqO:()=>BS,D6c:()=>Ra,EJc:()=>qI,EiD:()=>hh,EpF:()=>VS,F$t:()=>TC,F4k:()=>US,FYo:()=>Rv,FiY:()=>wi,G48:()=>iM,Gf:()=>Rc,GfV:()=>Wg,Gpc:()=>$,Hsn:()=>yb,JOm:()=>Mo,JVY:()=>mp,KtG:()=>$a,L6k:()=>bv,LAX:()=>gp,LFG:()=>$t,LSH:()=>dE,Lbi:()=>Ey,Lck:()=>f0,MAs:()=>fb,MMx:()=>lm,NdJ:()=>IC,OlP:()=>hn,Oqu:()=>F_,PXZ:()=>JI,Q6J:()=>pb,QGY:()=>CC,QP$:()=>At,QbO:()=>ed,Qsj:()=>C1,R0b:()=>ys,RDi:()=>Rg,Rgc:()=>$i,SBq:()=>ps,Sil:()=>$h,Suo:()=>fy,TTD:()=>br,TgZ:()=>io,Tol:()=>MC,Udp:()=>Jn,VKq:()=>gI,WFA:()=>S_,X6Q:()=>nM,XFs:()=>ft,Xpm:()=>Ln,Xts:()=>Dv,Y36:()=>ms,YKP:()=>am,YNc:()=>EC,Yjl:()=>Z,Yz7:()=>He,Z0I:()=>On,ZZ4:()=>Rm,_Bn:()=>cI,_UZ:()=>D_,_Vd:()=>Ca,_c5:()=>fM,_uU:()=>Sh,aQg:()=>Qr,c2e:()=>zI,cJS:()=>Wt,cg1:()=>Mh,d8E:()=>Hb,dDg:()=>JA,dqk:()=>wn,dwT:()=>rA,eBb:()=>Ng,eFA:()=>tT,ekj:()=>Cb,eoX:()=>XI,f3M:()=>lc,g9A:()=>G0,gM2:()=>EI,h0i:()=>Rh,hGG:()=>cT,hij:()=>Gu,iGM:()=>Vh,ifc:()=>wt,ip1:()=>j0,jDz:()=>iy,kL8:()=>jb,lG2:()=>U,lqb:()=>hi,lri:()=>K0,mCW:()=>b,n5z:()=>Bn,n_E:()=>dm,oAB:()=>or,oJD:()=>bp,oxw:()=>Yp,pB0:()=>wv,q3G:()=>Kn,q4F:()=>gE,qLn:()=>ph,qOj:()=>cb,qZA:()=>mb,qzn:()=>Js,rWj:()=>td,sBO:()=>oM,sIi:()=>C_,s_b:()=>Nh,soG:()=>Im,tb:()=>q0,tp0:()=>qr,uIk:()=>T_,vHH:()=>Ie,vpe:()=>Bo,wAp:()=>Rt,xi3:()=>wI,xp6:()=>Ec,ynx:()=>ro,z2F:()=>Me,z3N:()=>Di,zSh:()=>jg,zs3:()=>Lu});var l=N(7579),X=N(727),O=N(9751),ae=N(6451),oe=N(3099);function ue(s){for(let o in s)if(s[o]===ue)return o;throw Error("Could not find renamed property on target object.")}function ie(s,o){for(const c in o)o.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=o[c])}function Ee(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(Ee).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const c=o.indexOf("\n");return-1===c?o:o.substring(0,c)}function he(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const z=ue({__forward_ref__:ue});function $(s){return s.__forward_ref__=$,s.toString=function(){return Ee(this())},s}function W(s){return Ge(s)?s():s}function Ge(s){return"function"==typeof s&&s.hasOwnProperty(z)&&s.__forward_ref__===$}class Ie extends Error{constructor(o,c){super(function ot(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,c)),this.code=o}}function ve(s){return"string"==typeof s?s:null==s?"":String(s)}function Ce(s,o){throw new Ie(-201,!1)}function Ve(s,o){null==s&&function Te(s,o,c,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${c} ${d} ${o} <=Actual]`))}(o,s,null,"!=")}function He(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Wt(s){return{providers:s.providers||[],imports:s.imports||[]}}function en(s){return jn(s,rs)||jn(s,Va)}function On(s){return null!==en(s)}function jn(s,o){return s.hasOwnProperty(o)?s[o]:null}function xi(s){return s&&(s.hasOwnProperty(Nr)||s.hasOwnProperty(Wo))?s[Nr]:null}const rs=ue({\u0275prov:ue}),Nr=ue({\u0275inj:ue}),Va=ue({ngInjectableDef:ue}),Wo=ue({ngInjectorDef:ue});var ft=(()=>((ft=ft||{})[ft.Default=0]="Default",ft[ft.Host=1]="Host",ft[ft.Self=2]="Self",ft[ft.SkipSelf=4]="SkipSelf",ft[ft.Optional=8]="Optional",ft))();let qi;function Zi(s){const o=qi;return qi=s,o}function Ko(s,o,c){const d=en(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&ft.Optional?null:void 0!==o?o:void Ce(Ee(s))}function li(s){return{toString:s}.toString()}var Mn=(()=>((Mn=Mn||{})[Mn.OnPush=0]="OnPush",Mn[Mn.Default=1]="Default",Mn))(),wt=(()=>{return(s=wt||(wt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",wt;var s})();const wn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ni={},St=[],Ri=ue({\u0275cmp:ue}),yn=ue({\u0275dir:ue}),Yo=ue({\u0275pipe:ue}),ln=ue({\u0275mod:ue}),ci=ue({\u0275fac:ue}),ki=ue({__NG_ELEMENT_ID__:ue});let Lr=0;function Ln(s){return li(()=>{const c=!0===s.standalone,d={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Mn.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||St,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||wt.Emulated,id:"c"+Lr++,styles:s.styles||St,_:null,setInput:null,schemas:s.schemas||null,tView:null},g=s.dependencies,v=s.features;return h.inputs=H(s.inputs,d),h.outputs=H(s.outputs),v&&v.forEach(E=>E(h)),h.directiveDefs=g?()=>("function"==typeof g?g():g).map(os).filter($n):null,h.pipeDefs=g?()=>("function"==typeof g?g():g).map(Ze).filter($n):null,h})}function os(s){return le(s)||Y(s)}function $n(s){return null!==s}function or(s){return li(()=>({type:s.type,bootstrap:s.bootstrap||St,declarations:s.declarations||St,imports:s.imports||St,exports:s.exports||St,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function H(s,o){if(null==s)return ni;const c={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),c[h]=d,o&&(o[h]=g)}return c}const U=Ln;function Z(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function le(s){return s[Ri]||null}function Y(s){return s[yn]||null}function Ze(s){return s[Yo]||null}function At(s){const o=le(s)||Y(s)||Ze(s);return null!==o&&o.standalone}function Lt(s,o){const c=s[ln]||null;if(!c&&!0===o)throw new Error(`Type ${Ee(s)} does not have '\u0275mod' property.`);return c}function ui(s){return Array.isArray(s)&&"object"==typeof s[1]}function Ki(s){return Array.isArray(s)&&!0===s[1]}function Jo(s){return 0!=(8&s.flags)}function Ll(s){return 2==(2&s.flags)}function Es(s){return 1==(1&s.flags)}function Ur(s){return null!==s.template}function ea(s){return 0!=(256&s[2])}function Cs(s,o){return s.hasOwnProperty(ci)?s[ci]:null}class Df{constructor(o,c,d){this.previousValue=o,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function br(){return go}function go(s){return s.type.prototype.ngOnChanges&&(s.setInput=Xc),Ua}function Ua(){const s=Sf(this),o=s?.current;if(o){const c=s.previous;if(c===ni)s.previous=o;else for(let d in o)c[d]=o[d];s.current=null,this.ngOnChanges(o)}}function Xc(s,o,c,d){const h=Sf(s)||function _o(s,o){return s[Bl]=o}(s,{previous:ni,current:null}),g=h.current||(h.current={}),v=h.previous,E=this.declaredInputs[c],T=v[E];g[E]=new Df(T&&T.currentValue,o,v===ni),s[d]=o}br.ngInherit=!0;const Bl="__ngSimpleChanges__";function Sf(s){return s[Bl]||null}function zn(s){for(;Array.isArray(s);)s=s[0];return s}function wr(s,o){return zn(o[s])}function Yi(s,o){return zn(o[s.index])}function Gl(s,o){return s.data[o]}function Ba(s,o){return s[o]}function Gn(s,o){const c=o[s];return ui(c)?c:c[0]}function Bs(s){return 64==(64&s[2])}function Hr(s,o){return null==o?null:s[o]}function yo(s){s[18]=0}function lr(s,o){s[5]+=o;let c=s,d=s[3];for(;null!==d&&(1===o&&1===c[5]||-1===o&&0===c[5]);)d[5]+=o,c=d,d=d[3]}const Et={lFrame:Rd(null),bindingsEnabled:!0};function Sd(){return Et.bindingsEnabled}function Ae(){return Et.lFrame.lView}function Kt(){return Et.lFrame.tView}function cs(s){return Et.lFrame.contextLView=s,s[8]}function $a(s){return Et.lFrame.contextLView=null,s}function Vn(){let s=ql();for(;null!==s&&64===s.type;)s=s.parent;return s}function ql(){return Et.lFrame.currentTNode}function ji(s,o){const c=Et.lFrame;c.currentTNode=s,c.isParent=o}function vo(){return Et.lFrame.isParent}function tu(){Et.lFrame.isParent=!1}function Fi(){const s=Et.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function jr(){return Et.lFrame.bindingIndex++}function Er(s){const o=Et.lFrame,c=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,c}function Md(s,o){const c=Et.lFrame;c.bindingIndex=c.bindingRootIndex=s,Kl(o)}function Kl(s){Et.lFrame.currentDirectiveIndex=s}function za(s){const o=Et.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function Yl(){return Et.lFrame.currentQueryIndex}function $r(s){Et.lFrame.currentQueryIndex=s}function xd(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Ga(s,o,c){if(c&ft.SkipSelf){let h=o,g=s;for(;!(h=h.parent,null!==h||c&ft.Host||(h=xd(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;o=h,s=g}const d=Et.lFrame=bo();return d.currentTNode=o,d.lView=s,!0}function Ql(s){const o=bo(),c=s[1];Et.lFrame=o,o.currentTNode=c.firstChild,o.lView=s,o.tView=c,o.contextLView=s,o.bindingIndex=c.bindingStartIndex,o.inI18n=!1}function bo(){const s=Et.lFrame,o=null===s?null:s.child;return null===o?Rd(s):o}function Rd(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function qa(){const s=Et.lFrame;return Et.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const kd=qa;function na(){const s=qa();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Qi(){return Et.lFrame.selectedIndex}function Ds(s){Et.lFrame.selectedIndex=s}function Un(){const s=Et.lFrame;return Gl(s.tView,s.selectedIndex)}function wo(s,o){for(let c=o.directiveStart,d=o.directiveEnd;c<d;c++){const g=s.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:T,ngAfterViewChecked:A,ngOnDestroy:k}=g;v&&(s.contentHooks||(s.contentHooks=[])).push(-c,v),E&&((s.contentHooks||(s.contentHooks=[])).push(c,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(c,E)),T&&(s.viewHooks||(s.viewHooks=[])).push(-c,T),A&&((s.viewHooks||(s.viewHooks=[])).push(c,A),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(c,A)),null!=k&&(s.destroyHooks||(s.destroyHooks=[])).push(c,k)}}function Xl(s,o,c){Za(s,o,3,c)}function js(s,o,c,d){(3&s[2])===c&&Za(s,o,c,d)}function Ud(s,o){let c=s[2];(3&c)===o&&(c&=2047,c+=1,s[2]=c)}function Za(s,o,c,d){const g=d??-1,v=o.length-1;let E=0;for(let T=void 0!==d?65535&s[18]:0;T<v;T++)if("number"==typeof o[T+1]){if(E=o[T],null!=d&&E>=d)break}else o[T]<0&&(s[18]+=65536),(E<g||-1==g)&&(Of(s,c,o,T),s[18]=(4294901760&s[18])+T+2),T++}function Of(s,o,c,d){const h=c[d]<0,g=c[d+1],E=s[h?-c[d]:c[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(E)}finally{}}}else try{g.call(E)}finally{}}class Wa{constructor(o,c,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function tc(s,o,c){let d=0;for(;d<c.length;){const h=c[d];if("number"==typeof h){if(0!==h)break;d++;const g=c[d++],v=c[d++],E=c[d++];s.setAttribute(o,v,E,g)}else{const g=h,v=c[++d];iu(g)?s.setProperty(o,g,v):s.setAttribute(o,g,v),d++}}return d}function Ya(s){return 3===s||4===s||6===s}function iu(s){return 64===s.charCodeAt(0)}function Qa(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let c=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?c=h:0===c||nc(s,c,h,null,-1===c||2===c?o[++d]:null)}}return s}function nc(s,o,c,d,h){let g=0,v=s.length;if(-1===o)v=-1;else for(;g<s.length;){const E=s[g++];if("number"==typeof E){if(E===o){v=-1;break}if(E>o){v=g-1;break}}}for(;g<s.length;){const E=s[g];if("number"==typeof E)break;if(E===c){if(null===d)return void(null!==h&&(s[g+1]=h));if(d===s[g+1])return void(s[g+2]=h)}g++,null!==d&&g++,null!==h&&g++}-1!==v&&(s.splice(v,0,o),g=v+1),s.splice(g++,0,c),null!==d&&s.splice(g++,0,d),null!==h&&s.splice(g++,0,h)}function Nf(s){return-1!==s}function ic(s){return 32767&s}function ds(s,o){let c=function sv(s){return s>>16}(s),d=o;for(;c>0;)d=d[15],c--;return d}let rc=!0;function ia(s){const o=rc;return rc=s,o}let su=0;const Cr={};function Nn(s,o){const c=ii(s,o);if(-1!==c)return c;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,au(d.data,s),au(o,null),au(d.blueprint,null));const h=ra(s,o),g=s.injectorIndex;if(Nf(h)){const v=ic(h),E=ds(h,o),T=E[1].data;for(let A=0;A<8;A++)o[g+A]=E[v+A]|T[v+A]}return o[g+8]=h,g}function au(s,o){s.push(0,0,0,0,0,0,0,0,o)}function ii(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function ra(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,d=null,h=o;for(;null!==h;){if(d=cu(h),null===d)return-1;if(c++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function Xa(s,o,c){!function ou(s,o,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(ki)&&(d=c[ki]),null==d&&(d=c[ki]=su++);const h=255&d;o.data[s+(h>>5)]|=1<<h}(s,o,c)}function sc(s,o,c){if(c&ft.Optional||void 0!==s)return s;Ce()}function Ff(s,o,c,d){if(c&ft.Optional&&void 0===d&&(d=null),0==(c&(ft.Self|ft.Host))){const h=s[9],g=Zi(void 0);try{return h?h.get(o,d,c&ft.Optional):Ko(o,d,c&ft.Optional)}finally{Zi(g)}}return sc(d,0,c)}function Ja(s,o,c,d=ft.Default,h){if(null!==s){if(1024&o[2]){const v=function tl(s,o,c,d,h){let g=s,v=o;for(;null!==g&&null!==v&&1024&v[2]&&!(256&v[2]);){const E=sa(g,v,c,d|ft.Self,Cr);if(E!==Cr)return E;let T=g.parent;if(!T){const A=v[21];if(A){const k=A.get(c,Cr,d);if(k!==Cr)return k}T=cu(v),v=v[15]}g=T}return h}(s,o,c,d,Cr);if(v!==Cr)return v}const g=sa(s,o,c,d,Cr);if(g!==Cr)return g}return Ff(o,c,d,h)}function sa(s,o,c,d,h){const g=function zs(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(ki)?s[ki]:void 0;return"number"==typeof o?o>=0?255&o:Lf:o}(c);if("function"==typeof g){if(!Ga(o,s,d))return d&ft.Host?sc(h,0,d):Ff(o,c,d,h);try{const v=g(d);if(null!=v||d&ft.Optional)return v;Ce()}finally{kd()}}else if("number"==typeof g){let v=null,E=ii(s,o),T=-1,A=d&ft.Host?o[16][6]:null;for((-1===E||d&ft.SkipSelf)&&(T=-1===E?ra(s,o):o[E+8],-1!==T&&$d(d,!1)?(v=o[1],E=ic(T),o=ds(T,o)):E=-1);-1!==E;){const k=o[1];if(jd(g,E,k.data)){const F=hg(E,o,c,v,d,A);if(F!==Cr)return F}T=o[E+8],-1!==T&&$d(d,o[1].data[E+8]===A)&&jd(g,E,o)?(v=k,E=ic(T),o=ds(T,o)):E=-1}}return h}function hg(s,o,c,d,h,g){const v=o[1],E=v.data[s+8],k=fs(E,v,c,null==d?Ll(E)&&rc:d!=v&&0!=(3&E.type),h&ft.Host&&g===E);return null!==k?el(o,v,k,E):Cr}function fs(s,o,c,d,h){const g=s.providerIndexes,v=o.data,E=1048575&g,T=s.directiveStart,k=g>>20,B=h?E+k:s.directiveEnd;for(let J=d?E:E+k;J<B;J++){const ge=v[J];if(J<T&&c===ge||J>=T&&ge.type===c)return J}if(h){const J=v[T];if(J&&Ur(J)&&J.type===c)return T}return null}function el(s,o,c,d){let h=s[c];const g=o.data;if(function Jl(s){return s instanceof Wa}(h)){const v=h;v.resolving&&function yt(s,o){const c=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Ie(-200,`Circular dependency in DI detected for ${s}${c}`)}(function ye(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ve(s)}(g[c]));const E=ia(v.canSeeViewProviders);v.resolving=!0;const T=v.injectImpl?Zi(v.injectImpl):null;Ga(s,d,ft.Default);try{h=s[c]=v.factory(void 0,g,s,d),o.firstCreatePass&&c>=d.directiveStart&&function Vd(s,o,c){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(d){const v=go(o);(c.preOrderHooks||(c.preOrderHooks=[])).push(s,v),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,v)}h&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-s,h),g&&((c.preOrderHooks||(c.preOrderHooks=[])).push(s,g),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,g))}(c,g[c],o)}finally{null!==T&&Zi(T),ia(E),v.resolving=!1,kd()}}return h}function jd(s,o,c){return!!(c[o+(s>>5)]&1<<s)}function $d(s,o){return!(s&ft.Self||s&ft.Host&&o)}class zr{constructor(o,c){this._tNode=o,this._lView=c}get(o,c,d){return Ja(this._tNode,this._lView,o,d,c)}}function Lf(){return new zr(Vn(),Ae())}function Bn(s){return li(()=>{const o=s.prototype.constructor,c=o[ci]||lu(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const g=h[ci]||lu(h);if(g&&g!==c)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function lu(s){return Ge(s)?()=>{const o=lu(W(s));return o&&o()}:Cs(s)}function cu(s){const o=s[1],c=o.type;return 2===c?o.declTNode:1===c?s[6]:null}function oc(s){return function Eo(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const c=s.attrs;if(c){const d=c.length;let h=0;for(;h<d;){const g=c[h];if(Ya(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<d&&"string"==typeof c[h];)h++;else{if(g===o)return c[h+1];h+=2}}}return null}(Vn(),s)}const oa="__parameters__";function Gs(s,o,c){return li(()=>{const d=function aa(s){return function(...c){if(s){const d=s(...c);for(const h in d)this[h]=d[h]}}}(o);function h(...g){if(this instanceof h)return d.apply(this,g),this;const v=new h(...g);return E.annotation=v,E;function E(T,A,k){const F=T.hasOwnProperty(oa)?T[oa]:Object.defineProperty(T,oa,{value:[]})[oa];for(;F.length<=k;)F.push(null);return(F[k]=F[k]||[]).push(v),T}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class hn{constructor(o,c){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=He({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function di(s,o){void 0===o&&(o=s);for(let c=0;c<s.length;c++){let d=s[c];Array.isArray(d)?(o===s&&(o=s.slice(0,c)),di(d,o)):o!==s&&o.push(d)}return o}function Ir(s,o){s.forEach(c=>Array.isArray(c)?Ir(c,o):o(c))}function Hf(s,o,c){o>=s.length?s.push(c):s.splice(o,0,c)}function Tr(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Io(s,o){const c=[];for(let d=0;d<s;d++)c.push(o);return c}function Dr(s,o,c){let d=sl(s,o);return d>=0?s[1|d]=c:(d=~d,function jf(s,o,c,d){let h=s.length;if(h==o)s.push(c,d);else if(1===h)s.push(d,s[0]),s[0]=c;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=c,s[o+1]=d}}(s,d,o,c)),d}function qd(s,o){const c=sl(s,o);if(c>=0)return s[1|c]}function sl(s,o){return function $f(s,o,c){let d=0,h=s.length>>c;for(;h!==d;){const g=d+(h-d>>1),v=s[g<<c];if(o===v)return g<<c;v>o?h=g:d=g+1}return~(h<<c)}(s,o,1)}const nn={},Wn="__NG_DI_FLAG__",To="ngTempTokenPath",Gf=/\n/gm,al="__source";let da;function Sr(s){const o=da;return da=s,o}function ha(s,o=ft.Default){if(void 0===da)throw new Ie(-203,!1);return null===da?Ko(s,void 0,o):da.get(s,o&ft.Optional?null:void 0,o)}function $t(s,o=ft.Default){return(function Fr(){return qi}()||ha)(W(s),o)}function lc(s,o=ft.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),$t(s,o)}function gu(s){const o=[];for(let c=0;c<s.length;c++){const d=W(s[c]);if(Array.isArray(d)){if(0===d.length)throw new Ie(900,!1);let h,g=ft.Default;for(let v=0;v<d.length;v++){const E=d[v],T=cc(E);"number"==typeof T?-1===T?h=E.token:g|=T:h=E}o.push($t(h,g))}else o.push($t(d))}return o}function Rs(s,o){return s[Wn]=o,s.prototype[Wn]=o,s}function cc(s){return s[Wn]}const wi=Rs(Gs("Optional"),8),qr=Rs(Gs("SkipSelf"),4);var Mo=(()=>((Mo=Mo||{})[Mo.Important=1]="Important",Mo[Mo.DashCase=2]="DashCase",Mo))();const hc=new Map;let av=0;const Jd="__ngContext__";function Li(s,o){ui(o)?(s[Jd]=o[20],function lv(s){hc.set(s[20],s)}(o)):s[Jd]=o}function Cu(s,o){return undefined(s,o)}function _a(s){const o=s[3];return Ki(o)?o[3]:o}function wg(s){return pl(s[13])}function Jf(s){return pl(s[4])}function pl(s){for(;null!==s&&!Ki(s);)s=s[4];return s}function Ys(s,o,c,d,h){if(null!=d){let g,v=!1;Ki(d)?g=d:ui(d)&&(v=!0,d=d[0]);const E=zn(d);0===s&&null!==c?null==h?oh(o,c,E):Os(o,c,E,h||null,!0):1===s&&null!==c?Os(o,c,E,h||null,!0):2===s?function up(s,o,c){const d=mc(s,o);d&&function mv(s,o,c,d){s.removeChild(o,c,d)}(s,d,o,c)}(o,E,v):3===s&&o.destroyNode(E),null!=g&&function yl(s,o,c,d,h){const g=c[7];g!==zn(c)&&Ys(o,s,d,g,h);for(let E=10;E<c.length;E++){const T=c[E];Au(T[1],T,s,o,d,g)}}(o,s,g,c,h)}}function Du(s,o,c){return s.createElement(o,c)}function Ig(s,o){const c=s[9],d=c.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,lr(h,-1)),c.splice(d,1)}function Tg(s,o){if(s.length<=10)return;const c=10+o,d=s[c];if(d){const h=d[17];null!==h&&h!==s&&Ig(h,d),o>0&&(s[c-1][4]=d[4]);const g=Tr(s,10+o);!function rh(s,o){Au(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const v=g[19];null!==v&&v.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function Dg(s,o){if(!(128&o[2])){const c=o[11];c.destroyNode&&Au(s,o,c,3,null,null),function Eg(s){let o=s[13];if(!o)return sh(s[1],s);for(;o;){let c=null;if(ui(o))c=o[13];else{const d=o[10];d&&(c=d)}if(!c){for(;o&&!o[4]&&o!==s;)ui(o)&&sh(o[1],o),o=o[3];null===o&&(o=s),ui(o)&&sh(o[1],o),c=o&&o[4]}o=c}}(o)}}function sh(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function Su(s,o){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let d=0;d<c.length;d+=2){const h=o[c[d]];if(!(h instanceof Wa)){const g=c[d+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const E=h[g[v]],T=g[v+1];try{T.call(E)}finally{}}else try{g.call(h)}finally{}}}}(s,o),function fv(s,o){const c=s.cleanup,d=o[7];let h=-1;if(null!==c)for(let g=0;g<c.length-1;g+=2)if("string"==typeof c[g]){const v=c[g+1],E="function"==typeof v?v(o):zn(o[v]),T=d[h=c[g+2]],A=c[g+3];"boolean"==typeof A?E.removeEventListener(c[g],T,A):A>=0?d[h=A]():d[h=-A].unsubscribe(),g+=2}else{const v=d[h=c[g+1]];c[g].call(v)}if(null!==d){for(let g=h+1;g<d.length;g++)(0,d[g])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const c=o[17];if(null!==c&&Ki(o[3])){c!==o[3]&&Ig(c,o);const d=o[19];null!==d&&d.detachView(s)}!function cE(s){hc.delete(s[20])}(o)}}function Sg(s,o,c){return function rp(s,o,c){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return c[0];if(2&d.flags){const h=s.data[d.directiveStart].encapsulation;if(h===wt.None||h===wt.Emulated)return null}return Yi(d,c)}(s,o.parent,c)}function Os(s,o,c,d,h){s.insertBefore(o,c,d,h)}function oh(s,o,c){s.appendChild(o,c)}function pv(s,o,c,d,h){null!==d?Os(s,o,c,d,h):oh(s,o,c)}function mc(s,o){return s.parentNode(o)}function sp(s,o,c){return gv(s,o,c)}let xu,ku,Qs,gv=function gl(s,o,c){return 40&s.type?Yi(s,c):null};function lp(s,o,c,d){const h=Sg(s,d,o),g=o[11],E=sp(d.parent||o[6],d,o);if(null!=h)if(Array.isArray(c))for(let T=0;T<c.length;T++)pv(g,h,c[T],E,!1);else pv(g,h,c,E,!1)}function _l(s,o){if(null!==o){const c=o.type;if(3&c)return Yi(o,s);if(4&c)return cp(-1,s[o.index]);if(8&c){const d=o.child;if(null!==d)return _l(s,d);{const h=s[o.index];return Ki(h)?cp(-1,h):zn(h)}}if(32&c)return Cu(o,s)()||zn(s[o.index]);{const d=_v(s,o);return null!==d?Array.isArray(d)?d[0]:_l(_a(s[16]),d):_l(s,o.next)}}return null}function _v(s,o){return null!==o?s[16][6].projection[o.projection]:null}function cp(s,o){const c=10+s+1;if(c<o.length){const d=o[c],h=d[1].firstChild;if(null!==h)return _l(d,h)}return o[7]}function ah(s,o,c,d,h,g,v){for(;null!=c;){const E=d[c.index],T=c.type;if(v&&0===o&&(E&&Li(zn(E),d),c.flags|=4),64!=(64&c.flags))if(8&T)ah(s,o,c.child,d,h,g,!1),Ys(o,s,h,E,g);else if(32&T){const A=Cu(c,d);let k;for(;k=A();)Ys(o,s,h,k,g);Ys(o,s,h,E,g)}else 16&T?Mu(s,o,d,c,h,g):Ys(o,s,h,E,g);c=v?c.projectionNext:c.next}}function Au(s,o,c,d,h,g){ah(c,d,s.firstChild,o,h,g,!1)}function Mu(s,o,c,d,h,g){const v=c[16],T=v[6].projection[d.projection];if(Array.isArray(T))for(let A=0;A<T.length;A++)Ys(o,s,h,T[A],g);else ah(s,o,T,v[3],h,g,!0)}function gc(s,o,c){s.setAttribute(o,"style",c)}function hp(s,o,c){""===c?s.removeAttribute(o,"class"):s.setAttribute(o,"class",c)}function Ii(s){return function lh(){if(void 0===xu&&(xu=null,wn.trustedTypes))try{xu=wn.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return xu}()?.createHTML(s)||s}function Rg(s){ku=s}function Ou(s){return function Xs(){if(void 0===Qs&&(Qs=null,wn.trustedTypes))try{Qs=wn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Qs}()?.createHTML(s)||s}class va{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Og extends va{getTypeName(){return"HTML"}}class Ti extends va{getTypeName(){return"Style"}}class pp extends va{getTypeName(){return"Script"}}class uh extends va{getTypeName(){return"URL"}}class vv extends va{getTypeName(){return"ResourceURL"}}function Di(s){return s instanceof va?s.changingThisBreaksApplicationSecurity:s}function Js(s,o){const c=function Pg(s){return s instanceof va&&s.getTypeName()||null}(s);if(null!=c&&c!==o){if("ResourceURL"===c&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===o}function mp(s){return new Og(s)}function bv(s){return new Ti(s)}function Ng(s){return new pp(s)}function gp(s){return new uh(s)}function wv(s){return new vv(s)}class Fg{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const c=(new window.DOMParser).parseFromString(Ii(o),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(o):(c.removeChild(c.firstChild),c)}catch{return null}}}class y{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(o){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=Ii(o),c;const d=this.inertDocument.createElement("body");return d.innerHTML=Ii(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(o){const c=o.attributes;for(let h=c.length-1;0<h;h--){const v=c.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let d=o.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const m=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function b(s){return(s=String(s)).match(m)?s:"unsafe:"+s}function S(s){const o={};for(const c of s.split(","))o[c]=!0;return o}function R(...s){const o={};for(const c of s)for(const d in c)c.hasOwnProperty(d)&&(o[d]=!0);return o}const j=S("area,br,col,hr,img,wbr"),K=S("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Re=S("rp,rt"),kn=R(j,R(K,S("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),R(Re,S("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),R(Re,K)),Kr=S("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Pu=R(Kr,S("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),S("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Cv=S("script,style,template");class Iv{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let c=o.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let h=this.checkClobberedElement(c,c.nextSibling);if(h){c=h;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(o){const c=o.nodeName.toLowerCase();if(!kn.hasOwnProperty(c))return this.sanitizedSomething=!0,!Cv.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=o.attributes;for(let h=0;h<d.length;h++){const g=d.item(h),v=g.name,E=v.toLowerCase();if(!Pu.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let T=g.value;Kr[E]&&(T=b(T)),this.buf.push(" ",v,'="',vp(T),'"')}return this.buf.push(">"),!0}endElement(o){const c=o.nodeName.toLowerCase();kn.hasOwnProperty(c)&&!j.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(o){this.buf.push(vp(o))}checkClobberedElement(o,c){if(c&&(o.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return c}}const Lg=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,yp=/([^\#-~ |!])/g;function vp(s){return s.replace(/&/g,"&amp;").replace(Lg,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(yp,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let vl;function hh(s,o){let c=null;try{vl=vl||function _p(s){const o=new y(s);return function p(){try{return!!(new window.DOMParser).parseFromString(Ii(""),"text/html")}catch{return!1}}()?new Fg(o):o}(s);let d=o?String(o):"";c=vl.getInertBodyElement(d);let h=5,g=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=g,g=c.innerHTML,c=vl.getInertBodyElement(d)}while(d!==g);return Ii((new Iv).sanitizeChildren(Vg(c)||c))}finally{if(c){const d=Vg(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Vg(s){return"content"in s&&function Ug(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Kn=(()=>((Kn=Kn||{})[Kn.NONE=0]="NONE",Kn[Kn.HTML=1]="HTML",Kn[Kn.STYLE=2]="STYLE",Kn[Kn.SCRIPT=3]="SCRIPT",Kn[Kn.URL=4]="URL",Kn[Kn.RESOURCE_URL=5]="RESOURCE_URL",Kn))();function bp(s){const o=bl();return o?Ou(o.sanitize(Kn.HTML,s)||""):Js(s,"HTML")?Ou(Di(s)):hh(function fp(){return void 0!==ku?ku:typeof document<"u"?document:void 0}(),ve(s))}function dE(s){const o=bl();return o?o.sanitize(Kn.URL,s)||"":Js(s,"URL")?Di(s):b(ve(s))}function bl(){const s=Ae();return s&&s[12]}const Dv=new hn("ENVIRONMENT_INITIALIZER"),Sv=new hn("INJECTOR",-1),fE=new hn("INJECTOR_DEF_TYPES");class Av{get(o,c=nn){if(c===nn){const d=new Error(`NullInjectorError: No provider for ${Ee(o)}!`);throw d.name="NullInjectorError",d}return c}}function wp(...s){return{\u0275providers:pE(0,s)}}function pE(s,...o){const c=[],d=new Set;let h;return Ir(o,g=>{const v=g;Hg(v,c,[],d)&&(h||(h=[]),h.push(v))}),void 0!==h&&Bg(h,c),c}function Bg(s,o){for(let c=0;c<s.length;c++){const{providers:h}=s[c];Ir(h,g=>{o.push(g)})}}function Hg(s,o,c,d){if(!(s=W(s)))return!1;let h=null,g=xi(s);const v=!g&&le(s);if(g||v){if(v&&!v.standalone)return!1;h=s}else{const T=s.ngModule;if(g=xi(T),!g)return!1;h=T}const E=d.has(h);if(v){if(E)return!1;if(d.add(h),v.dependencies){const T="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const A of T)Hg(A,o,c,d)}}else{if(!g)return!1;{if(null!=g.imports&&!E){let A;d.add(h);try{Ir(g.imports,k=>{Hg(k,o,c,d)&&(A||(A=[]),A.push(k))})}finally{}void 0!==A&&Bg(A,o)}if(!E){const A=Cs(h)||(()=>new h);o.push({provide:h,useFactory:A,deps:St},{provide:fE,useValue:h,multi:!0},{provide:Dv,useValue:()=>$t(h),multi:!0})}const T=g.providers;null==T||E||Ir(T,k=>{o.push(k)})}}return h!==s&&void 0!==s.providers}const ba=ue({provide:String,useValue:ue});function yc(s){return null!==s&&"object"==typeof s&&ba in s}function Yn(s){return"function"==typeof s}const jg=new hn("Set Injector scope."),Si={},wa={};let Ea;function Qn(){return void 0===Ea&&(Ea=new Av),Ea}class hi{}class Ep extends hi{constructor(o,c,d,h){super(),this.parent=c,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,zg(o,v=>this.processProvider(v)),this.records.set(Sv,qn(void 0,this)),h.has("environment")&&this.records.set(hi,qn(void 0,this));const g=this.records.get(jg);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(fE.multi,St,ft.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const c=Sr(this),d=Zi(void 0);try{return o()}finally{Sr(c),Zi(d)}}get(o,c=nn,d=ft.Default){this.assertNotDestroyed();const h=Sr(this),g=Zi(void 0);try{if(!(d&ft.SkipSelf)){let E=this.records.get(o);if(void 0===E){const T=function Cp(s){return"function"==typeof s||"object"==typeof s&&s instanceof hn}(o)&&en(o);E=T&&this.injectableDefInScope(T)?qn($g(o),Si):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(d&ft.Self?Qn():this.parent).get(o,c=d&ft.Optional&&c===nn?null:c)}catch(v){if("NullInjectorError"===v.name){if((v[To]=v[To]||[]).unshift(Ee(o)),h)throw v;return function uc(s,o,c,d){const h=s[To];throw o[al]&&h.unshift(o[al]),s.message=function Zs(s,o,c,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=Ee(o);if(Array.isArray(o))h=o.map(Ee).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let E=o[v];g.push(v+":"+("string"==typeof E?JSON.stringify(E):Ee(E)))}h=`{${g.join(", ")}}`}return`${c}${d?"("+d+")":""}[${h}]: ${s.replace(Gf,"\n  ")}`}("\n"+s.message,h,c,d),s.ngTokenPath=h,s[To]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{Zi(g),Sr(h)}}resolveInjectorInitializers(){const o=Sr(this),c=Zi(void 0);try{const d=this.get(Dv.multi,St,ft.Self);for(const h of d)h()}finally{Sr(o),Zi(c)}}toString(){const o=[],c=this.records;for(const d of c.keys())o.push(Ee(d));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ie(205,!1)}processProvider(o){let c=Yn(o=W(o))?o:W(o&&o.provide);const d=function wl(s){return yc(s)?qn(void 0,s.useValue):qn(El(s),Si)}(o);if(Yn(o)||!0!==o.multi)this.records.get(c);else{let h=this.records.get(c);h||(h=qn(void 0,Si,!0),h.factory=()=>gu(h.multi),this.records.set(c,h)),c=o,h.multi.push(o)}this.records.set(c,d)}hydrate(o,c){return c.value===Si&&(c.value=wa,c.value=c.factory()),"object"==typeof c.value&&c.value&&function UD(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(o){if(!o.providedIn)return!1;const c=W(o.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function $g(s){const o=en(s),c=null!==o?o.factory:Cs(s);if(null!==c)return c;if(s instanceof hn)throw new Ie(204,!1);if(s instanceof Function)return function VD(s){const o=s.length;if(o>0)throw Io(o,"?"),new Ie(204,!1);const c=function Bi(s){const o=s&&(s[rs]||s[Va]);if(o){const c=function rr(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),o}return null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new Ie(204,!1)}function El(s,o,c){let d;if(Yn(s)){const h=W(s);return Cs(h)||$g(h)}if(yc(s))d=()=>W(s.useValue);else if(function bc(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...gu(s.deps||[]));else if(function vc(s){return!(!s||!s.useExisting)}(s))d=()=>$t(W(s.useExisting));else{const h=W(s&&(s.useClass||s.provide));if(!function Cl(s){return!!s.deps}(s))return Cs(h)||$g(h);d=()=>new h(...gu(s.deps))}return d}function qn(s,o,c=!1){return{factory:s,value:o,multi:c?[]:void 0}}function xv(s){return!!s.\u0275providers}function zg(s,o){for(const c of s)Array.isArray(c)?zg(c,o):xv(c)?zg(c.\u0275providers,o):o(c)}class Gg{}class HD{resolveComponentFactory(o){throw function qg(s){const o=Error(`No component factory found for ${Ee(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Ca=(()=>{class s{}return s.NULL=new HD,s})();function jD(){return fh(Vn(),Ae())}function fh(s,o){return new ps(Yi(s,o))}let ps=(()=>{class s{constructor(c){this.nativeElement=c}}return s.__NG_ELEMENT_ID__=jD,s})();function mE(s){return s instanceof ps?s.nativeElement:s}class Rv{}let C1=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function dr(){const s=Ae(),c=Gn(Vn().index,s);return(ui(c)?c:s)[11]}(),s})(),wc=(()=>{class s{}return s.\u0275prov=He({token:s,providedIn:"root",factory:()=>null}),s})();class Wg{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const gE=new Wg("14.3.0"),kv={};function Ov(s){return s.ngOriginalError}class ph{constructor(){this._console=console}handleError(o){const c=this._findOriginalError(o);this._console.error("ERROR",o),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(o){let c=o&&Ov(o);for(;c&&Ov(c);)c=Ov(c);return c||null}}function Yr(s){return s instanceof Function?s():s}function Pv(s,o,c){let d=s.length;for(;;){const h=s.indexOf(o,c);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=o.length;if(h+g===d||s.charCodeAt(h+g)<=32)return h}c=h+1}}const EE="ng-template";function Fv(s,o,c){let d=0;for(;d<s.length;){let h=s[d++];if(c&&"class"===h){if(h=s[d],-1!==Pv(h.toLowerCase(),o,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function Dp(s){return 4===s.type&&s.value!==EE}function CE(s,o,c){return o===(4!==s.type||c?s.value:EE)}function IE(s,o,c){let d=4;const h=s.attrs||[],g=function ZD(s){for(let o=0;o<s.length;o++)if(Ya(s[o]))return o;return s.length}(h);let v=!1;for(let E=0;E<o.length;E++){const T=o[E];if("number"!=typeof T){if(!v)if(4&d){if(d=2|1&d,""!==T&&!CE(s,T,c)||""===T&&1===o.length){if(Ro(d))return!1;v=!0}}else{const A=8&d?T:o[++E];if(8&d&&null!==s.attrs){if(!Fv(s.attrs,A,c)){if(Ro(d))return!1;v=!0}continue}const F=qD(8&d?"class":T,h,Dp(s),c);if(-1===F){if(Ro(d))return!1;v=!0;continue}if(""!==A){let B;B=F>g?"":h[F+1].toLowerCase();const J=8&d?B:null;if(J&&-1!==Pv(J,A,0)||2&d&&A!==B){if(Ro(d))return!1;v=!0}}}}else{if(!v&&!Ro(d)&&!Ro(T))return!1;if(v&&Ro(T))continue;v=!1,d=T|1&d}}return Ro(d)||v}function Ro(s){return 0==(1&s)}function qD(s,o,c,d){if(null===o)return-1;let h=0;if(d||!c){let g=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)g=!0;else{if(1===v||2===v){let E=o[++h];for(;"string"==typeof E;)E=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=g?1:2}return-1}return function WD(s,o){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const d=s[c];if("number"==typeof d)return-1;if(d===o)return c;c++}return-1}(o,s)}function TE(s,o,c=!1){for(let d=0;d<o.length;d++)if(IE(s,o[d],c))return!0;return!1}function KD(s,o){e:for(let c=0;c<o.length;c++){const d=o[c];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function DE(s,o){return s?":not("+o.trim()+")":o}function YD(s){let o=s[0],c=1,d=2,h="",g=!1;for(;c<s.length;){let v=s[c];if("string"==typeof v)if(2&d){const E=s[++c];h+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&d?h+="."+v:4&d&&(h+=" "+v);else""!==h&&!Ro(v)&&(o+=DE(g,h),h=""),d=v,g=g||!Ro(d);c++}return""!==h&&(o+=DE(g,h)),o}const zt={};function Ec(s){e_(Kt(),Ae(),Qi()+s,!1)}function e_(s,o,c,d){if(!d)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&Xl(o,g,c)}else{const g=s.preOrderHooks;null!==g&&js(o,g,0,c)}Ds(c)}function Vv(s,o=null,c=null,d){const h=Fu(s,o,c,d);return h.resolveInjectorInitializers(),h}function Fu(s,o=null,c=null,d,h=new Set){const g=[c||St,wp(s)];return d=d||("object"==typeof s?void 0:Ee(s)),new Ep(g,o||Qn(),d||null,h)}let Lu=(()=>{class s{static create(c,d){if(Array.isArray(c))return Vv({name:""},d,c,"");{const h=c.name??"";return Vv({name:h},c.parent,c.providers,h)}}}return s.THROW_IF_NOT_FOUND=nn,s.NULL=new Av,s.\u0275prov=He({token:s,providedIn:"any",factory:()=>$t(Sv)}),s.__NG_ELEMENT_ID__=-1,s})();function ms(s,o=ft.Default){const c=Ae();return null===c?$t(s,o):Ja(Vn(),c,W(s),o)}function Uu(){throw new Error("invalid")}function xp(s,o){return s<<17|o<<2}function ko(s){return s>>17&32767}function zv(s){return 2|s}function to(s){return(131068&s)>>2}function s_(s,o){return-131069&s|o<<2}function a_(s){return 1|s}function qE(s,o){const c=s.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const h=c[d],g=c[d+1];if(-1!==g){const v=s.data[g];$r(h),v.contentQueries(2,o[g],g)}}}function f_(s,o,c,d,h,g,v,E,T,A,k){const F=o.blueprint.slice();return F[0]=h,F[2]=76|d,(null!==k||s&&1024&s[2])&&(F[2]|=1024),yo(F),F[3]=F[15]=s,F[8]=c,F[10]=v||s&&s[10],F[11]=E||s&&s[11],F[12]=T||s&&s[12]||null,F[9]=A||s&&s[9]||null,F[6]=g,F[20]=function Qf(){return av++}(),F[21]=k,F[16]=2==o.type?s[16]:F,F}function yh(s,o,c,d,h){let g=s.data[o];if(null===g)g=function Kv(s,o,c,d,h){const g=ql(),v=vo(),T=s.data[o]=function vS(s,o,c,d,h,g){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,c,o,d,h);return null===s.firstChild&&(s.firstChild=T),null!==g&&(v?null==g.child&&null!==T.parent&&(g.child=T):null===g.next&&(g.next=T)),T}(s,o,c,d,h),function Wl(){return Et.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=c,g.value=d,g.attrs=h;const v=function Ts(){const s=Et.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return ji(g,!0),g}function Vp(s,o,c,d){if(0===c)return-1;const h=o.length;for(let g=0;g<c;g++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function Yv(s,o,c){Ql(o);try{const d=s.viewQuery;null!==d&&b_(1,d,c);const h=s.template;null!==h&&Up(s,o,h,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&qE(s,o),s.staticViewQueries&&b_(2,s.viewQuery,c);const g=s.components;null!==g&&function gS(s,o){for(let c=0;c<o.length;c++)iC(s,o[c])}(o,g)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,na()}}function vh(s,o,c,d){const h=o[2];if(128!=(128&h)){Ql(o);try{yo(o),function nu(s){return Et.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&Up(s,o,c,2,d);const v=3==(3&h);if(v){const A=s.preOrderCheckHooks;null!==A&&Xl(o,A,null)}else{const A=s.preOrderHooks;null!==A&&js(o,A,0,null),Ud(o,0)}if(function IS(s){for(let o=wg(s);null!==o;o=Jf(o)){if(!o[2])continue;const c=o[9];for(let d=0;d<c.length;d++){const h=c[d],g=h[3];0==(512&h[2])&&lr(g,1),h[2]|=512}}}(o),function CS(s){for(let o=wg(s);null!==o;o=Jf(o))for(let c=10;c<o.length;c++){const d=o[c],h=d[1];Bs(d)&&vh(h,d,h.template,d[8])}}(o),null!==s.contentQueries&&qE(s,o),v){const A=s.contentCheckHooks;null!==A&&Xl(o,A)}else{const A=s.contentHooks;null!==A&&js(o,A,1),Ud(o,1)}!function Lp(s,o){const c=s.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const h=c[d];if(h<0)Ds(~h);else{const g=h,v=c[++d],E=c[++d];Md(v,g),E(2,o[g])}}}finally{Ds(-1)}}(s,o);const E=s.components;null!==E&&function mS(s,o){for(let c=0;c<o.length;c++)TS(s,o[c])}(o,E);const T=s.viewQuery;if(null!==T&&b_(2,T,d),v){const A=s.viewCheckHooks;null!==A&&Xl(o,A)}else{const A=s.viewHooks;null!==A&&js(o,A,2),Ud(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,lr(o[3],-1))}finally{na()}}}function Up(s,o,c,d,h){const g=Qi(),v=2&d;try{Ds(-1),v&&o.length>22&&e_(s,o,22,!1),c(d,h)}finally{Ds(g)}}function Bu(s,o,c){if(Jo(o)){const h=o.directiveEnd;for(let g=o.directiveStart;g<h;g++){const v=s.data[g];v.contentQueries&&v.contentQueries(1,c[g],g)}}}function Qv(s,o,c){!Sd()||(function QE(s,o,c,d){const h=c.directiveStart,g=c.directiveEnd;s.firstCreatePass||Nn(c,o),Li(d,o);const v=c.initialInputs;for(let E=h;E<g;E++){const T=s.data[E],A=Ur(T);A&&wS(o,c,T);const k=el(o,s,E,c);Li(k,o),null!==v&&y_(0,E-h,k,T,0,v),A&&(Gn(c.index,o)[8]=k)}}(s,o,c,Yi(c,o)),128==(128&c.flags)&&function XE(s,o,c){const d=c.directiveStart,h=c.directiveEnd,g=c.index,v=function ta(){return Et.lFrame.currentDirectiveIndex}();try{Ds(g);for(let E=d;E<h;E++){const T=s.data[E],A=o[E];Kl(E),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&Bp(T,A)}}finally{Ds(-1),Kl(v)}}(s,o,c))}function Xv(s,o,c=Yi){const d=o.localNames;if(null!==d){let h=o.index+1;for(let g=0;g<d.length;g+=2){const v=d[g+1],E=-1===v?c(o,s):s[v];s[h++]=E}}}function ZE(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Jv(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Jv(s,o,c,d,h,g,v,E,T,A){const k=22+d,F=k+h,B=function _S(s,o){const c=[];for(let d=0;d<o;d++)c.push(d<s?null:zt);return c}(k,F),J="function"==typeof A?A():A;return B[1]={type:s,blueprint:B,template:c,queries:null,viewQuery:E,declTNode:o,data:B.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:T,consts:J,incompleteFirstPass:!1}}function WE(s,o,c,d){const h=rC(o);null===c?h.push(d):(h.push(c),s.firstCreatePass&&sC(s).push(d,h.length-1))}function eb(s,o,c){for(let d in s)if(s.hasOwnProperty(d)){const h=s[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(o,h):c[d]=[o,h]}return c}function KE(s,o){const d=o.directiveEnd,h=s.data,g=o.attrs,v=[];let E=null,T=null;for(let A=o.directiveStart;A<d;A++){const k=h[A],F=k.inputs,B=null===g||Dp(o)?null:ES(F,g);v.push(B),E=eb(F,A,E),T=eb(k.outputs,A,T)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=16),E.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=E,o.outputs=T}function gs(s,o,c,d,h,g,v,E){const T=Yi(o,c);let k,A=o.inputs;!E&&null!=A&&(k=A[d])?(ob(s,c,k,d,h),Ll(o)&&p_(c,o.index)):3&o.type&&(d=function tb(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=v?v(h,o.value||"",d):h,g.setProperty(T,d,h))}function p_(s,o){const c=Gn(o,s);16&c[2]||(c[2]|=32)}function nb(s,o,c,d){let h=!1;if(Sd()){const g=function __(s,o,c){const d=s.directiveRegistry;let h=null;if(d)for(let g=0;g<d.length;g++){const v=d[g];TE(c,v.selectors,!1)&&(h||(h=[]),Xa(Nn(c,o),s,v.type),Ur(v)?(ib(s,c),h.unshift(v)):h.push(v))}return h}(s,o,c),v=null===d?null:{"":-1};if(null!==g){h=!0,eC(c,s.data.length,g.length);for(let k=0;k<g.length;k++){const F=g[k];F.providersResolver&&F.providersResolver(F)}let E=!1,T=!1,A=Vp(s,o,g.length,null);for(let k=0;k<g.length;k++){const F=g[k];c.mergedAttrs=Qa(c.mergedAttrs,F.hostAttrs),tC(s,c,o,A,F),JE(A,F,v),null!==F.contentQueries&&(c.flags|=8),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(c.flags|=128);const B=F.type.prototype;!E&&(B.ngOnChanges||B.ngOnInit||B.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(c.index),E=!0),!T&&(B.ngOnChanges||B.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(c.index),T=!0),A++}KE(s,c)}v&&function Hp(s,o,c){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const g=c[o[h+1]];if(null==g)throw new Ie(-301,!1);d.push(o[h],g)}}}(c,d,v)}return c.mergedAttrs=Qa(c.mergedAttrs,c.attrs),h}function YE(s,o,c,d,h,g){const v=g.hostBindings;if(v){let E=s.hostBindingOpCodes;null===E&&(E=s.hostBindingOpCodes=[]);const T=~o.index;(function g_(s){let o=s.length;for(;o>0;){const c=s[--o];if("number"==typeof c&&c<0)return c}return 0})(E)!=T&&E.push(T),E.push(d,h,v)}}function Bp(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function ib(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function JE(s,o,c){if(c){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)c[o.exportAs[d]]=s;Ur(o)&&(c[""]=s)}}function eC(s,o,c){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+c,s.providerIndexes=o}function tC(s,o,c,d,h){s.data[d]=h;const g=h.factory||(h.factory=Cs(h.type)),v=new Wa(g,Ur(h),ms);s.blueprint[d]=v,c[d]=v,YE(s,o,0,d,Vp(s,c,h.hostVars,zt),h)}function wS(s,o,c){const d=Yi(o,s),h=ZE(c),g=s[10],v=jp(s,f_(s,h,null,c.onPush?32:16,d,o,g,g.createRenderer(d,c),null,null,null));s[o.index]=v}function Ia(s,o,c,d,h,g){const v=Yi(s,o);!function rb(s,o,c,d,h,g,v){if(null==g)s.removeAttribute(o,h,c);else{const E=null==v?ve(g):v(g,d||"",h);s.setAttribute(o,h,E,c)}}(o[11],v,g,s.value,c,d,h)}function y_(s,o,c,d,h,g){const v=g[o];if(null!==v){const E=d.setInput;for(let T=0;T<v.length;){const A=v[T++],k=v[T++],F=v[T++];null!==E?d.setInput(c,F,A,k):c[k]=F}}}function ES(s,o){let c=null,d=0;for(;d<o.length;){const h=o[d];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===c&&(c=[]),c.push(h,s[h],o[d+1])),d+=2}else d+=2;else d+=4}return c}function nC(s,o,c,d){return new Array(s,!0,!1,o,null,0,d,c,null,null)}function TS(s,o){const c=Gn(o,s);if(Bs(c)){const d=c[1];48&c[2]?vh(d,c,d.template,c[8]):c[5]>0&&sb(c)}}function sb(s){for(let d=wg(s);null!==d;d=Jf(d))for(let h=10;h<d.length;h++){const g=d[h];if(Bs(g))if(512&g[2]){const v=g[1];vh(v,g,v.template,g[8])}else g[5]>0&&sb(g)}const c=s[1].components;if(null!==c)for(let d=0;d<c.length;d++){const h=Gn(c[d],s);Bs(h)&&h[5]>0&&sb(h)}}function iC(s,o){const c=Gn(o,s),d=c[1];(function DS(s,o){for(let c=o.length;c<s.blueprint.length;c++)o.push(s.blueprint[c])})(d,c),Yv(d,c,c[8])}function jp(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function v_(s){for(;s;){s[2]|=32;const o=_a(s);if(ea(s)&&!o)return s;s=o}return null}function $p(s,o,c,d=!0){const h=o[10];h.begin&&h.begin();try{vh(s,o,s.template,c)}catch(v){throw d&&aC(o,v),v}finally{h.end&&h.end()}}function b_(s,o,c){$r(0),o(s,c)}function rC(s){return s[7]||(s[7]=[])}function sC(s){return s.cleanup||(s.cleanup=[])}function oC(s,o,c){return(null===s||Ur(s))&&(c=function Is(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(c[o.index])),c[11]}function aC(s,o){const c=s[9],d=c?c.get(ph,null):null;d&&d.handleError(o)}function ob(s,o,c,d,h){for(let g=0;g<c.length;){const v=c[g++],E=c[g++],T=o[v],A=s.data[v];null!==A.setInput?A.setInput(T,h,d,E):T[E]=h}}function bh(s,o,c){let d=c?s.styles:null,h=c?s.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const E=o[v];"number"==typeof E?g=E:1==g?h=he(h,E):2==g&&(d=he(d,E+": "+o[++v]+";"))}c?s.styles=d:s.stylesWithoutHost=d,c?s.classes=h:s.classesWithoutHost=h}function zp(s,o,c,d,h=!1){for(;null!==c;){const g=o[c.index];if(null!==g&&d.push(zn(g)),Ki(g))for(let E=10;E<g.length;E++){const T=g[E],A=T[1].firstChild;null!==A&&zp(T[1],T,A,d)}const v=c.type;if(8&v)zp(s,o,c.child,d);else if(32&v){const E=Cu(c,o);let T;for(;T=E();)d.push(T)}else if(16&v){const E=_v(o,c);if(Array.isArray(E))d.push(...E);else{const T=_a(o[16]);zp(T[1],T,E,d,!0)}}c=h?c.projectionNext:c.next}return d}class wh{constructor(o,c){this._lView=o,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,c=o[1];return zp(c,o,c.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Ki(o)){const c=o[8],d=c?c.indexOf(this):-1;d>-1&&(Tg(o,d),Tr(c,d))}this._attachedToViewContainer=!1}Dg(this._lView[1],this._lView)}onDestroy(o){WE(this._lView[1],this._lView,null,o)}markForCheck(){v_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){$p(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function hv(s,o){Au(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Ie(902,!1);this._appRef=o}}class L1 extends wh{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;$p(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class ab extends Ca{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const c=le(o);return new Ac(c,this.ngModule)}}function lC(s){const o=[];for(let c in s)s.hasOwnProperty(c)&&o.push({propName:s[c],templateName:c});return o}class MS{constructor(o,c){this.injector=o,this.parentInjector=c}get(o,c,d){const h=this.injector.get(o,kv,d);return h!==kv||c===kv?h:this.parentInjector.get(o,c,d)}}class Ac extends Gg{constructor(o,c){super(),this.componentDef=o,this.ngModule=c,this.componentType=o.type,this.selector=function Lv(s){return s.map(YD).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return lC(this.componentDef.inputs)}get outputs(){return lC(this.componentDef.outputs)}create(o,c,d,h){let g=(h=h||this.ngModule)instanceof hi?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new MS(o,g):o,E=v.get(Rv,null);if(null===E)throw new Ie(407,!1);const T=v.get(wc,null),A=E.createRenderer(null,this.componentDef),k=this.componentDef.selectors[0][0]||"div",F=d?function yS(s,o,c){return s.selectRootElement(o,c===wt.ShadowDom)}(A,d,this.componentDef.encapsulation):Du(A,k,function AS(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(k)),B=this.componentDef.onPush?288:272,J=Jv(0,null,null,1,0,null,null,null,null,null),ge=f_(null,J,null,B,null,null,E,A,T,v,null);let Be,Ne;Ql(ge);try{const lt=function xS(s,o,c,d,h,g){const v=c[1];c[22]=s;const T=yh(v,22,2,"#host",null),A=T.mergedAttrs=o.hostAttrs;null!==A&&(bh(T,A,!0),null!==s&&(tc(h,s,A),null!==T.classes&&hp(h,s,T.classes),null!==T.styles&&gc(h,s,T.styles)));const k=d.createRenderer(s,o),F=f_(c,ZE(o),null,o.onPush?32:16,c[22],T,d,k,g||null,null,null);return v.firstCreatePass&&(Xa(Nn(T,c),v,o.type),ib(v,T),eC(T,c.length,1)),jp(c,F),c[22]=F}(F,this.componentDef,ge,E,A);if(F)if(d)tc(A,F,["ng-version",gE.full]);else{const{attrs:st,classes:fe}=function Jg(s){const o=[],c=[];let d=1,h=2;for(;d<s.length;){let g=s[d];if("string"==typeof g)2===h?""!==g&&o.push(g,s[++d]):8===h&&c.push(g);else{if(!Ro(h))break;h=g}d++}return{attrs:o,classes:c}}(this.componentDef.selectors[0]);st&&tc(A,F,st),fe&&fe.length>0&&hp(A,F,fe.join(" "))}if(Ne=Gl(J,22),void 0!==c){const st=Ne.projection=[];for(let fe=0;fe<this.ngContentSelectors.length;fe++){const Ot=c[fe];st.push(null!=Ot?Array.from(Ot):null)}}Be=function w_(s,o,c,d){const h=c[1],g=function bS(s,o,c){const d=Vn();s.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),tC(s,d,o,Vp(s,o,1,null),c),KE(s,d));const h=el(o,s,d.directiveStart,d);Li(h,o);const g=Yi(d,o);return g&&Li(g,o),h}(h,c,o);if(s[8]=c[8]=g,null!==d)for(const E of d)E(g,o);if(o.contentQueries){const E=Vn();o.contentQueries(1,g,E.directiveStart)}const v=Vn();return!h.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Ds(v.index),YE(c[1],v,0,v.directiveStart,v.directiveEnd,o),Bp(o,g)),g}(lt,this.componentDef,ge,[RS]),Yv(J,ge,null)}finally{na()}return new lb(this.componentType,Be,fh(Ne,ge),ge,Ne)}}class lb extends class BD{}{constructor(o,c,d,h,g){super(),this.location=d,this._rootLView=h,this._tNode=g,this.instance=c,this.hostView=this.changeDetectorRef=new L1(h),this.componentType=o}setInput(o,c){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[o])){const g=this._rootLView;ob(g[1],g,h,o,c),p_(g,this._tNode.index)}}get injector(){return new zr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function RS(){const s=Vn();wo(Ae()[1],s)}function cb(s){let o=function dC(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const d=[s];for(;o;){let h;if(Ur(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Ie(903,!1);h=o.\u0275dir}if(h){if(c){d.push(h);const v=s;v.inputs=ub(s.inputs),v.declaredInputs=ub(s.declaredInputs),v.outputs=ub(s.outputs);const E=h.hostBindings;E&&OS(s,E);const T=h.viewQuery,A=h.contentQueries;if(T&&hC(s,T),A&&Xn(s,A),ie(s.inputs,h.inputs),ie(s.declaredInputs,h.declaredInputs),ie(s.outputs,h.outputs),Ur(h)&&h.data.animation){const k=s.data;k.animation=(k.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let v=0;v<g.length;v++){const E=g[v];E&&E.ngInherit&&E(s),E===cb&&(c=!1)}}o=Object.getPrototypeOf(o)}!function kS(s){let o=0,c=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=Qa(h.hostAttrs,c=Qa(c,h.hostAttrs))}}(d)}function ub(s){return s===ni?{}:s===St?[]:s}function hC(s,o){const c=s.viewQuery;s.viewQuery=c?(d,h)=>{o(d,h),c(d,h)}:o}function Xn(s,o){const c=s.contentQueries;s.contentQueries=c?(d,h,g)=>{o(d,h,g),c(d,h,g)}:o}function OS(s,o){const c=s.hostBindings;s.hostBindings=c?(d,h)=>{o(d,h),c(d,h)}:o}let E_=null;function Hu(){if(!E_){const s=wn.Symbol;if(s&&s.iterator)E_=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<o.length;++c){const d=o[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(E_=d)}}}return E_}function C_(s){return!!qp(s)&&(Array.isArray(s)||!(s instanceof Map)&&Hu()in s)}function qp(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ps(s,o,c){return s[o]=c}function hr(s,o,c){return!Object.is(s[o],c)&&(s[o]=c,!0)}function no(s,o,c,d){const h=hr(s,o,c);return hr(s,o+1,d)||h}function T_(s,o,c,d){const h=Ae();return hr(h,jr(),o)&&(Kt(),Ia(Un(),h,s,o,c,d)),T_}function EC(s,o,c,d,h,g,v,E){const T=Ae(),A=Kt(),k=s+22,F=A.firstCreatePass?function wC(s,o,c,d,h,g,v,E,T){const A=o.consts,k=yh(o,s,4,v||null,Hr(A,E));nb(o,c,k,Hr(A,T)),wo(o,k);const F=k.tViews=Jv(2,k,d,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,A);return null!==o.queries&&(o.queries.template(o,k),F.queries=o.queries.embeddedTView(k)),k}(k,A,T,o,c,d,h,g,v):A.data[k];ji(F,!1);const B=T[11].createComment("");lp(A,T,B,F),Li(B,T),jp(T,T[k]=nC(B,T,B,F)),Es(F)&&Qv(A,T,F),null!=v&&Xv(T,F,E)}function fb(s){return Ba(function xn(){return Et.lFrame.contextLView}(),22+s)}function pb(s,o,c){const d=Ae();return hr(d,jr(),o)&&gs(Kt(),Un(),d,s,o,d[11],c,!1),pb}function Fo(s,o,c,d,h){const v=h?"class":"style";ob(s,c,o.inputs[v],v,d)}function io(s,o,c,d){const h=Ae(),g=Kt(),v=22+s,E=h[11],T=h[v]=Du(E,o,function Ld(){return Et.lFrame.currentNamespace}()),A=g.firstCreatePass?function Wp(s,o,c,d,h,g,v){const E=o.consts,A=yh(o,s,2,h,Hr(E,g));return nb(o,c,A,Hr(E,v)),null!==A.attrs&&bh(A,A.attrs,!1),null!==A.mergedAttrs&&bh(A,A.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,A),A}(v,g,h,0,o,c,d):g.data[v];ji(A,!0);const k=A.mergedAttrs;null!==k&&tc(E,T,k);const F=A.classes;null!==F&&hp(E,T,F);const B=A.styles;return null!==B&&gc(E,T,B),64!=(64&A.flags)&&lp(g,h,T,A),0===function Ha(){return Et.lFrame.elementDepthCount}()&&Li(T,h),function Dd(){Et.lFrame.elementDepthCount++}(),Es(A)&&(Qv(g,h,A),Bu(g,A,h)),null!==d&&Xv(h,A),io}function mb(){let s=Vn();vo()?tu():(s=s.parent,ji(s,!1));const o=s;!function eu(){Et.lFrame.elementDepthCount--}();const c=Kt();return c.firstCreatePass&&(wo(c,s),Jo(s)&&c.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Pf(s){return 0!=(16&s.flags)}(o)&&Fo(c,o,Ae(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Bd(s){return 0!=(32&s.flags)}(o)&&Fo(c,o,Ae(),o.stylesWithoutHost,!1),mb}function D_(s,o,c,d){return io(s,o,c,d),mb(),D_}function ro(s,o,c){const d=Ae(),h=Kt(),g=s+22,v=h.firstCreatePass?function _s(s,o,c,d,h){const g=o.consts,v=Hr(g,d),E=yh(o,s,8,"ng-container",v);return null!==v&&bh(E,v,!0),nb(o,c,E,Hr(g,h)),null!==o.queries&&o.queries.elementStart(o,E),E}(g,h,d,o,c):h.data[g];ji(v,!0);const E=d[g]=d[11].createComment("");return lp(h,d,E,v),Li(E,d),Es(v)&&(Qv(h,d,v),Bu(h,v,d)),null!=c&&Xv(d,v),ro}function gb(){let s=Vn();const o=Kt();return vo()?tu():(s=s.parent,ji(s,!1)),o.firstCreatePass&&(wo(o,s),Jo(s)&&o.queries.elementEnd(s)),gb}function VS(){return Ae()}function CC(s){return!!s&&"function"==typeof s.then}function US(s){return!!s&&"function"==typeof s.subscribe}const BS=US;function IC(s,o,c,d){const h=Ae(),g=Kt(),v=Vn();return _b(g,h,h[11],v,s,o,0,d),IC}function S_(s,o){const c=Vn(),d=Ae(),h=Kt();return _b(h,d,oC(za(h.data),c,d),c,s,o),S_}function _b(s,o,c,d,h,g,v,E){const T=Es(d),k=s.firstCreatePass&&sC(s),F=o[8],B=rC(o);let J=!0;if(3&d.type||E){const Ne=Yi(d,o),lt=E?E(Ne):Ne,st=B.length,fe=E?on=>E(zn(on[d.index])):d.index;let Ot=null;if(!E&&T&&(Ot=function Kp(s,o,c,d){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const v=h[g];if(v===c&&h[g+1]===d){const E=o[7],T=h[g+2];return E.length>T?E[T]:null}"string"==typeof v&&(g+=2)}return null}(s,o,h,d.index)),null!==Ot)(Ot.__ngLastListenerFn__||Ot).__ngNextListenerFn__=g,Ot.__ngLastListenerFn__=g,J=!1;else{g=M_(d,o,F,g,!1);const on=c.listen(lt,h,g);B.push(g,on),k&&k.push(h,fe,st,st+1)}}else g=M_(d,o,F,g,!1);const ge=d.outputs;let Be;if(J&&null!==ge&&(Be=ge[h])){const Ne=Be.length;if(Ne)for(let lt=0;lt<Ne;lt+=2){const rn=o[Be[lt]][Be[lt+1]].subscribe(g),Vc=B.length;B.push(g,rn),k&&k.push(h,d.index,Vc,-(Vc+1))}}}function A_(s,o,c,d){try{return!1!==c(d)}catch(h){return aC(s,h),!1}}function M_(s,o,c,d,h){return function g(v){if(v===Function)return d;v_(2&s.flags?Gn(s.index,o):o);let T=A_(o,0,d,v),A=g.__ngNextListenerFn__;for(;A;)T=A_(o,0,A,v)&&T,A=A.__ngNextListenerFn__;return h&&!1===T&&(v.preventDefault(),v.returnValue=!1),T}}function Yp(s=1){return function Od(s){return(Et.lFrame.contextLView=function Rf(s,o){for(;s>0;)o=o[15],s--;return o}(s,Et.lFrame.contextLView))[8]}(s)}function HS(s,o){let c=null;const d=function Xg(s){const o=s.attrs;if(null!=o){const c=o.indexOf(5);if(0==(1&c))return o[c+1]}return null}(s);for(let h=0;h<o.length;h++){const g=o[h];if("*"!==g){if(null===d?TE(s,g,!0):KD(d,g))return h}else c=h}return c}function TC(s){const o=Ae()[16][6];if(!o.projection){const d=o.projection=Io(s?s.length:1,null),h=d.slice();let g=o.child;for(;null!==g;){const v=s?HS(g,s):0;null!==v&&(h[v]?h[v].projectionNext=g:d[v]=g,h[v]=g),g=g.next}}}function yb(s,o=0,c){const d=Ae(),h=Kt(),g=yh(h,22+s,16,null,c||null);null===g.projection&&(g.projection=o),tu(),64!=(64&g.flags)&&function Mg(s,o,c){Mu(o[11],0,o,c,Sg(s,c,o),sp(c.parent||o[6],c,o))}(h,d,g)}function AC(s,o,c,d,h){const g=s[c+1],v=null===o;let E=d?ko(g):to(g),T=!1;for(;0!==E&&(!1===T||v);){const k=s[E+1];j1(s[E],o)&&(T=!0,s[E+1]=d?a_(k):zv(k)),E=d?ko(k):to(k)}T&&(s[c+1]=d?zv(g):a_(g))}function j1(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&sl(s,o)>=0}const Xi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function zS(s){return s.substring(Xi.key,Xi.keyEnd)}function GS(s,o){const c=Xi.textEnd;return c===o?-1:(o=Xi.keyEnd=function O_(s,o,c){for(;o<c&&s.charCodeAt(o)>32;)o++;return o}(s,Xi.key=o,c),so(s,o,c))}function so(s,o,c){for(;o<c&&s.charCodeAt(o)<=32;)o++;return o}function Jn(s,o,c){return Lo(s,o,c,!1),Jn}function Cb(s,o){return Lo(s,o,null,!0),Cb}function MC(s){!function oo(s,o,c,d){const h=Kt(),g=Er(2);h.firstUpdatePass&&RC(h,null,g,d);const v=Ae();if(c!==zt&&hr(v,g,c)){const E=h.data[Qi()];if(PC(E,d)&&!xC(h,g)){let T=d?E.classesWithoutHost:E.stylesWithoutHost;null!==T&&(c=he(T,c||"")),Fo(h,E,v,c,d)}else!function Tb(s,o,c,d,h,g,v,E){h===zt&&(h=St);let T=0,A=0,k=0<h.length?h[0]:null,F=0<g.length?g[0]:null;for(;null!==k||null!==F;){const B=T<h.length?h[T+1]:void 0,J=A<g.length?g[A+1]:void 0;let Be,ge=null;k===F?(T+=2,A+=2,B!==J&&(ge=F,Be=J)):null===F||null!==k&&k<F?(T+=2,ge=k):(A+=2,ge=F,Be=J),null!==ge&&kC(s,o,c,d,ge,Be,v,E),k=T<h.length?h[T]:null,F=A<g.length?g[A]:null}}(h,E,v,v[11],v[g+1],v[g+1]=function N_(s,o,c){if(null==c||""===c)return St;const d=[],h=Di(c);if(Array.isArray(h))for(let g=0;g<h.length;g++)s(d,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&s(d,g,h[g]);else"string"==typeof h&&o(d,h);return d}(s,o,c),d,g)}}(Dr,Sa,s,!0)}function Sa(s,o){for(let c=function z1(s){return function we(s){Xi.key=0,Xi.keyEnd=0,Xi.value=0,Xi.valueEnd=0,Xi.textEnd=s.length}(s),GS(s,so(s,0,Xi.textEnd))}(o);c>=0;c=GS(o,c))Dr(s,zS(o),!0)}function Lo(s,o,c,d){const h=Ae(),g=Kt(),v=Er(2);g.firstUpdatePass&&RC(g,s,v,d),o!==zt&&hr(h,v,o)&&kC(g,g.data[Qi()],h,h[11],s,h[v+1]=function KS(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=Ee(Di(s)))),s}(o,c),d,v)}function xC(s,o){return o>=s.expandoStartIndex}function RC(s,o,c,d){const h=s.data;if(null===h[c+1]){const g=h[Qi()],v=xC(s,c);PC(g,d)&&null===o&&!v&&(o=!1),o=function ZS(s,o,c,d){const h=za(s);let g=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(c=zu(c=Xp(null,s,o,c,d),o.attrs,d),g=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(c=Xp(h,s,o,c,d),null===g){let T=function WS(s,o,c){const d=c?o.classBindings:o.styleBindings;if(0!==to(d))return s[ko(d)]}(s,o,d);void 0!==T&&Array.isArray(T)&&(T=Xp(null,s,o,T[1],d),T=zu(T,o.attrs,d),function pr(s,o,c,d){s[ko(c?o.classBindings:o.styleBindings)]=d}(s,o,d,T))}else g=function P_(s,o,c){let d;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)d=zu(d,s[g].hostAttrs,c);return zu(d,o.attrs,c)}(s,o,d)}return void 0!==g&&(d?o.residualClasses=g:o.residualStyles=g),c}(h,g,o,d),function H1(s,o,c,d,h,g){let v=g?o.classBindings:o.styleBindings,E=ko(v),T=to(v);s[d]=c;let k,A=!1;if(Array.isArray(c)){const F=c;k=F[1],(null===k||sl(F,k)>0)&&(A=!0)}else k=c;if(h)if(0!==T){const B=ko(s[E+1]);s[d+1]=xp(B,E),0!==B&&(s[B+1]=s_(s[B+1],d)),s[E+1]=function NE(s,o){return 131071&s|o<<17}(s[E+1],d)}else s[d+1]=xp(E,0),0!==E&&(s[E+1]=s_(s[E+1],d)),E=d;else s[d+1]=xp(T,0),0===E?E=d:s[T+1]=s_(s[T+1],d),T=d;A&&(s[d+1]=zv(s[d+1])),AC(s,k,d,!0),AC(s,k,d,!1),function $S(s,o,c,d,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&sl(g,o)>=0&&(c[d+1]=a_(c[d+1]))}(o,k,s,d,g),v=xp(E,T),g?o.classBindings=v:o.styleBindings=v}(h,g,o,c,v,d)}}function Xp(s,o,c,d,h){let g=null;const v=c.directiveEnd;let E=c.directiveStylingLast;for(-1===E?E=c.directiveStart:E++;E<v&&(g=o[E],d=zu(d,g.hostAttrs,h),g!==s);)E++;return null!==s&&(c.directiveStylingLast=E),d}function zu(s,o,c){const d=c?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?h=v:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Dr(s,v,!!c||o[++g]))}return void 0===s?null:s}function kC(s,o,c,d,h,g,v,E){if(!(3&o.type))return;const T=s.data,A=T[E+1];em(function o_(s){return 1==(1&s)}(A)?OC(T,o,c,h,to(A),v):void 0)||(em(g)||function Tl(s){return 2==(2&s)}(A)&&(g=OC(T,null,c,h,E,v)),function dp(s,o,c,d,h){if(o)h?s.addClass(c,d):s.removeClass(c,d);else{let g=-1===d.indexOf("-")?void 0:Mo.DashCase;null==h?s.removeStyle(c,d,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=Mo.Important),s.setStyle(c,d,h,g))}}(d,v,wr(Qi(),c),h,g))}function OC(s,o,c,d,h,g){const v=null===o;let E;for(;h>0;){const T=s[h],A=Array.isArray(T),k=A?T[1]:T,F=null===k;let B=c[h+1];B===zt&&(B=F?St:void 0);let J=F?qd(B,d):k===d?B:void 0;if(A&&!em(J)&&(J=qd(T,d)),em(J)&&(E=J,v))return E;const ge=s[h+1];h=v?ko(ge):to(ge)}if(null!==o){let T=g?o.residualClasses:o.residualStyles;null!=T&&(E=qd(T,d))}return E}function em(s){return void 0!==s}function PC(s,o){return 0!=(s.flags&(o?16:32))}function Sh(s,o=""){const c=Ae(),d=Kt(),h=s+22,g=d.firstCreatePass?yh(d,h,1,o,null):d.data[h],v=c[h]=function ya(s,o){return s.createText(o)}(c[11],o);lp(d,c,v,g),ji(g,!1)}function F_(s){return Gu("",s,""),F_}function Gu(s,o,c){const d=Ae(),h=function Mc(s,o,c,d){return hr(s,jr(),c)?o+ve(c)+d:zt}(d,s,o,c);return h!==zt&&function Ta(s,o,c){const d=wr(o,s);!function Tu(s,o,c){s.setValue(o,c)}(s[11],d,c)}(d,Qi(),h),Gu}function Hb(s,o,c){const d=Ae();if(hr(d,jr(),o)){const g=Kt(),v=Un();gs(g,v,d,s,o,oC(za(g.data),v,d),c,!0)}return Hb}const Zu=void 0;var iA=["en",[["a","p"],["AM","PM"],Zu],[["AM","PM"],Zu,Zu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zu,"{1} 'at' {0}",Zu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function nA(s){const c=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let Ah={};function rA(s,o,c){"string"!=typeof o&&(c=o,o=s[Rt.LocaleId]),o=o.toLowerCase().replace(/_/g,"-"),Ah[o]=s,c&&(Ah[o][Rt.ExtraData]=c)}function Mh(s){const o=function oA(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=H_(o);if(c)return c;const d=o.split("-")[0];if(c=H_(d),c)return c;if("en"===d)return iA;throw new Ie(701,!1)}function jb(s){return Mh(s)[Rt.PluralCase]}function H_(s){return s in Ah||(Ah[s]=wn.ng&&wn.ng.common&&wn.ng.common.locales&&wn.ng.common.locales[s]),Ah[s]}var Rt=(()=>((Rt=Rt||{})[Rt.LocaleId=0]="LocaleId",Rt[Rt.DayPeriodsFormat=1]="DayPeriodsFormat",Rt[Rt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Rt[Rt.DaysFormat=3]="DaysFormat",Rt[Rt.DaysStandalone=4]="DaysStandalone",Rt[Rt.MonthsFormat=5]="MonthsFormat",Rt[Rt.MonthsStandalone=6]="MonthsStandalone",Rt[Rt.Eras=7]="Eras",Rt[Rt.FirstDayOfWeek=8]="FirstDayOfWeek",Rt[Rt.WeekendRange=9]="WeekendRange",Rt[Rt.DateFormat=10]="DateFormat",Rt[Rt.TimeFormat=11]="TimeFormat",Rt[Rt.DateTimeFormat=12]="DateTimeFormat",Rt[Rt.NumberSymbols=13]="NumberSymbols",Rt[Rt.NumberFormats=14]="NumberFormats",Rt[Rt.CurrencyCode=15]="CurrencyCode",Rt[Rt.CurrencySymbol=16]="CurrencySymbol",Rt[Rt.CurrencyName=17]="CurrencyName",Rt[Rt.Currencies=18]="Currencies",Rt[Rt.Directionality=19]="Directionality",Rt[Rt.PluralCase=20]="PluralCase",Rt[Rt.ExtraData=21]="ExtraData",Rt))();const Wu="en-US";let aA=Wu;function u0(s,o,c,d,h){if(s=W(s),Array.isArray(s))for(let g=0;g<s.length;g++)u0(s[g],o,c,d,h);else{const g=Kt(),v=Ae();let E=Yn(s)?s:W(s.provide),T=El(s);const A=Vn(),k=1048575&A.providerIndexes,F=A.directiveStart,B=A.providerIndexes>>20;if(Yn(s)||!s.multi){const J=new Wa(T,h,ms),ge=ey(E,o,h?k:k+B,F);-1===ge?(Xa(Nn(A,v),g,E),d0(g,s,o.length),o.push(E),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),c.push(J),v.push(J)):(c[ge]=J,v[ge]=J)}else{const J=ey(E,o,k+B,F),ge=ey(E,o,k,k+B),Be=J>=0&&c[J],Ne=ge>=0&&c[ge];if(h&&!Ne||!h&&!Be){Xa(Nn(A,v),g,E);const lt=function om(s,o,c,d,h){const g=new Wa(s,c,ms);return g.multi=[],g.index=o,g.componentProviders=0,J_(g,h,d&&!c),g}(h?sm:IA,c.length,h,d,T);!h&&Ne&&(c[ge].providerFactory=lt),d0(g,s,o.length,0),o.push(E),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),c.push(lt),v.push(lt)}else d0(g,s,J>-1?J:ge,J_(c[h?ge:J],T,!h&&d));!h&&d&&Ne&&c[ge].componentProviders++}}}function d0(s,o,c,d){const h=Yn(o),g=function Mv(s){return!!s.useClass}(o);if(h||g){const T=(g?W(o.useClass):o).prototype.ngOnDestroy;if(T){const A=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const k=A.indexOf(c);-1===k?A.push(c,[d,T]):A[k+1].push(d,T)}else A.push(c,T)}}}function J_(s,o,c){return c&&s.componentProviders++,s.multi.push(o)-1}function ey(s,o,c,d){for(let h=c;h<d;h++)if(o[h]===s)return h;return-1}function IA(s,o,c,d){return h0(this.multi,[])}function sm(s,o,c,d){const h=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=el(c,c[1],this.providerFactory.index,d);g=E.slice(0,v),h0(h,g);for(let T=v;T<E.length;T++)g.push(E[T])}else g=[],h0(h,g);return g}function h0(s,o){for(let c=0;c<s.length;c++)o.push((0,s[c])());return o}function cI(s,o=[]){return c=>{c.providersResolver=(d,h)=>function c0(s,o,c){const d=Kt();if(d.firstCreatePass){const h=Ur(s);u0(c,d.data,d.blueprint,h,!0),u0(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class Rh{}class am{}function f0(s,o){return new p0(s,o??null)}class p0 extends Rh{constructor(o,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ab(this);const d=Lt(o);this._bootstrapComponents=Yr(d.bootstrap),this._r3Injector=Fu(o,c,[{provide:Rh,useValue:this},{provide:Ca,useValue:this.componentFactoryResolver}],Ee(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class ty extends am{constructor(o){super(),this.moduleType=o}create(o){return new p0(this.moduleType,o)}}class ny extends Rh{constructor(o,c,d){super(),this.componentFactoryResolver=new ab(this),this.instance=null;const h=new Ep([...o,{provide:Rh,useValue:this},{provide:Ca,useValue:this.componentFactoryResolver}],c||Qn(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function lm(s,o,c=null){return new ny(s,o,c).injector}let m0=(()=>{class s{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const d=pE(0,c.type),h=d.length>0?lm([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,h)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=He({token:s,providedIn:"environment",factory:()=>new s($t(hi))}),s})();function iy(s){s.getStandaloneInjector=o=>o.get(m0).getOrCreateStandaloneInjector(s)}function gI(s,o,c,d){return function ay(s,o,c,d,h,g){const v=o+c;return hr(s,v,h)?Ps(s,v+1,g?d.call(g,h):d(h)):Qu(s,v+1)}(Ae(),Fi(),s,o,c,d)}function Qu(s,o){const c=s[o];return c===zt?void 0:c}function kh(s,o,c,d,h,g,v,E,T){const A=o+c;return function No(s,o,c,d,h,g){const v=no(s,o,c,d);return no(s,o+2,h,g)||v}(s,A,h,g,v,E)?Ps(s,A+4,T?d.call(T,h,g,v,E):d(h,g,v,E)):Qu(s,A+4)}function T0(s,o){const c=Kt();let d;const h=s+22;c.firstCreatePass?(d=function bI(s,o){if(o)for(let c=o.length-1;c>=0;c--){const d=o[c];if(s===d.name)return d}}(o,c.pipeRegistry),c.data[h]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(h,d.onDestroy)):d=c.data[h];const g=d.factory||(d.factory=Cs(d.type)),v=Zi(ms);try{const E=ia(!1),T=g();return ia(E),function B1(s,o,c,d){c>=s.data.length&&(s.data[c]=null,s.blueprint[c]=null),o[c]=d}(c,Ae(),h,T),T}finally{Zi(v)}}function wI(s,o,c,d){const h=s+22,g=Ae(),v=Ba(g,h);return Uo(g,h)?function C0(s,o,c,d,h,g,v){const E=o+c;return no(s,E,h,g)?Ps(s,E+2,v?d.call(v,h,g):d(h,g)):Qu(s,E+2)}(g,Fi(),o,v.transform,c,d,v):v.transform(c,d)}function EI(s,o,c,d,h,g){const v=s+22,E=Ae(),T=Ba(E,v);return Uo(E,v)?kh(E,Fi(),o,T.transform,c,d,h,g,T):T.transform(c,d,h,g)}function Uo(s,o){return s[1].data[o].pure}function Ph(s){return o=>{setTimeout(s,void 0,o)}}const Bo=class CI extends l.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,c,d){let h=o,g=c||(()=>null),v=d;if(o&&"object"==typeof o){const T=o;h=T.next?.bind(T),g=T.error?.bind(T),v=T.complete?.bind(T)}this.__isAsync&&(g=Ph(g),h&&(h=Ph(h)),v&&(v=Ph(v)));const E=super.subscribe({next:h,error:g,complete:v});return o instanceof X.w0&&o.add(E),E}};function um(){return this._results[Hu()]()}class dm{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Hu(),d=dm.prototype;d[c]||(d[c]=um)}get changes(){return this._changes||(this._changes=new Bo)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,c){return this._results.reduce(o,c)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,c){const d=this;d.dirty=!1;const h=di(o);(this._changesDetected=!function hu(s,o,c){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],g=o[d];if(c&&(h=c(h),g=c(g)),g!==h)return!1}return!0}(d._results,h,c))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let $i=(()=>{class s{}return s.__NG_ELEMENT_ID__=ly,s})();const II=$i,hm=class extends II{constructor(o,c,d){super(),this._declarationLView=o,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(o,c){const d=this._declarationTContainer.tViews,h=f_(this._declarationLView,d,o,16,null,d.declTNode,null,null,null,null,c||null);h[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(h[19]=v.createEmbeddedView(d)),Yv(d,h,o),new wh(h)}};function ly(){return fm(Vn(),Ae())}function fm(s,o){return 4&s.type?new hm(o,s,fh(s,o)):null}let Nh=(()=>{class s{}return s.__NG_ELEMENT_ID__=TI,s})();function TI(){return uy(Vn(),Ae())}const DI=Nh,Fh=class extends DI{constructor(o,c,d){super(),this._lContainer=o,this._hostTNode=c,this._hostLView=d}get element(){return fh(this._hostTNode,this._hostLView)}get injector(){return new zr(this._hostTNode,this._hostLView)}get parentInjector(){const o=ra(this._hostTNode,this._hostLView);if(Nf(o)){const c=ds(o,this._hostLView),d=ic(o);return new zr(c[1].data[d+8],c)}return new zr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const c=cy(this._lContainer);return null!==c&&c[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,c,d){let h,g;"number"==typeof d?h=d:null!=d&&(h=d.index,g=d.injector);const v=o.createEmbeddedView(c||{},g);return this.insert(v,h),v}createComponent(o,c,d,h,g){const v=o&&!function cr(s){return"function"==typeof s}(o);let E;if(v)E=c;else{const F=c||{};E=F.index,d=F.injector,h=F.projectableNodes,g=F.environmentInjector||F.ngModuleRef}const T=v?o:new Ac(le(o)),A=d||this.parentInjector;if(!g&&null==T.ngModule){const B=(v?A:this.parentInjector).get(hi,null);B&&(g=B)}const k=T.create(A,h,void 0,g);return this.insert(k.hostView,E),k}insert(o,c){const d=o._lView,h=d[1];if(function Id(s){return Ki(s[3])}(d)){const k=this.indexOf(o);if(-1!==k)this.detach(k);else{const F=d[3],B=new Fh(F,F[6],F[3]);B.detach(B.indexOf(o))}}const g=this._adjustIndex(c),v=this._lContainer;!function ip(s,o,c,d){const h=10+d,g=c.length;d>0&&(c[h-1][4]=o),d<g-10?(o[4]=c[h],Hf(c,10+d,o)):(c.push(o),o[4]=null),o[3]=c;const v=o[17];null!==v&&c!==v&&function Cg(s,o){const c=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===c?s[9]=[o]:c.push(o)}(v,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=64}(h,d,v,g);const E=cp(g,v),T=d[11],A=mc(T,v[7]);return null!==A&&function np(s,o,c,d,h,g){d[0]=h,d[6]=o,Au(s,d,c,1,h,g)}(h,v[6],T,d,A,E),o.attachToViewContainerRef(),Hf(pm(v),g,o),o}move(o,c){return this.insert(o,c)}indexOf(o){const c=cy(this._lContainer);return null!==c?c.indexOf(o):-1}remove(o){const c=this._adjustIndex(o,-1),d=Tg(this._lContainer,c);d&&(Tr(pm(this._lContainer),c),Dg(d[1],d))}detach(o){const c=this._adjustIndex(o,-1),d=Tg(this._lContainer,c);return d&&null!=Tr(pm(this._lContainer),c)?new wh(d):null}_adjustIndex(o,c=0){return o??this.length+c}};function cy(s){return s[8]}function pm(s){return s[8]||(s[8]=[])}function uy(s,o){let c;const d=o[s.index];if(Ki(d))c=d;else{let h;if(8&s.type)h=zn(d);else{const g=o[11];h=g.createComment("");const v=Yi(s,o);Os(g,mc(g,v),h,function Ag(s,o){return s.nextSibling(o)}(g,v),!1)}o[s.index]=c=nC(d,o,h,s),jp(o,c)}return new Fh(c,s,o)}class S0{constructor(o){this.queryList=o,this.matches=null}clone(){return new S0(this.queryList)}setDirty(){this.queryList.setDirty()}}class gm{constructor(o=[]){this.queries=o}createEmbeddedView(o){const c=o.queries;if(null!==c){const d=null!==o.contentQueries?o.contentQueries[0]:c.length,h=[];for(let g=0;g<d;g++){const v=c.getByIndex(g);h.push(this.queries[v.indexInDeclarationView].clone())}return new gm(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let c=0;c<this.queries.length;c++)null!==kc(o,c).matches&&this.queries[c].setDirty()}}class _m{constructor(o,c,d=null){this.predicate=o,this.flags=c,this.read=d}}class ym{constructor(o=[]){this.queries=o}elementStart(o,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,c)}elementEnd(o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(o)}embeddedTView(o){let c=null;for(let d=0;d<this.length;d++){const h=null!==c?c.length:0,g=this.getByIndex(d).embeddedTView(o,h);g&&(g.indexInDeclarationView=d,null!==c?c.push(g):c=[g])}return null!==c?new ym(c):null}template(o,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,c)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class hy{constructor(o,c=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(o,c){this.isApplyingToNode(c)&&this.matchTNode(o,c)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,c){this.elementStart(o,c)}embeddedTView(o,c){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,c),new hy(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const g=d[h];this.matchTNodeWithReadOption(o,c,SI(c,g)),this.matchTNodeWithReadOption(o,c,fs(c,o,g,!1,!1))}else d===$i?4&c.type&&this.matchTNodeWithReadOption(o,c,-1):this.matchTNodeWithReadOption(o,c,fs(c,o,d,!1,!1))}matchTNodeWithReadOption(o,c,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===ps||h===Nh||h===$i&&4&c.type)this.addMatch(c.index,-2);else{const g=fs(c,o,h,!1,!1);null!==g&&this.addMatch(c.index,g)}else this.addMatch(c.index,d)}}addMatch(o,c){null===this.matches?this.matches=[o,c]:this.matches.push(o,c)}}function SI(s,o){const c=s.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===o)return c[d+1];return null}function NA(s,o,c,d){return-1===c?function AI(s,o){return 11&s.type?fh(s,o):4&s.type?fm(s,o):null}(o,s):-2===c?function vm(s,o,c){return c===ps?fh(o,s):c===$i?fm(o,s):c===Nh?uy(o,s):void 0}(s,o,d):el(s,s[1],c,o)}function A0(s,o,c,d){const h=o[19].queries[d];if(null===h.matches){const g=s.data,v=c.matches,E=[];for(let T=0;T<v.length;T+=2){const A=v[T];E.push(A<0?null:NA(o,g[A],v[T+1],c.metadata.read))}h.matches=E}return h.matches}function Lh(s,o,c,d){const h=s.queries.getByIndex(c),g=h.matches;if(null!==g){const v=A0(s,o,h,c);for(let E=0;E<g.length;E+=2){const T=g[E];if(T>0)d.push(v[E/2]);else{const A=g[E+1],k=o[-T];for(let F=10;F<k.length;F++){const B=k[F];B[17]===B[3]&&Lh(B[1],B,A,d)}if(null!==k[9]){const F=k[9];for(let B=0;B<F.length;B++){const J=F[B];Lh(J[1],J,A,d)}}}}}return d}function Vh(s){const o=Ae(),c=Kt(),d=Yl();$r(d+1);const h=kc(c,d);if(s.dirty&&function ug(s){return 4==(4&s[2])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?Lh(c,o,d,[]):A0(c,o,h,d);s.reset(g,mE),s.notifyOnChanges()}return!0}return!1}function Rc(s,o,c){const d=Kt();d.firstCreatePass&&(x0(d,new _m(s,o,c),-1),2==(2&o)&&(d.staticViewQueries=!0)),M0(d,Ae(),o)}function fy(s,o,c,d){const h=Kt();if(h.firstCreatePass){const g=Vn();x0(h,new _m(o,c,d),g.index),function LA(s,o){const c=s.contentQueries||(s.contentQueries=[]);o!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,o)}(h,s),2==(2&c)&&(h.staticContentQueries=!0)}M0(h,Ae(),c)}function MI(){return function FA(s,o){return s[19].queries[o].queryList}(Ae(),Yl())}function M0(s,o,c){const d=new dm(4==(4&c));WE(s,o,d,d.destroy),null===o[19]&&(o[19]=new gm),o[19].queries.push(new S0(d))}function x0(s,o,c){null===s.queries&&(s.queries=new ym),s.queries.track(new hy(o,c))}function kc(s,o){return s.queries.getByIndex(o)}function Ju(...s){}const j0=new hn("Application Initializer");let Nc=(()=>{class s{constructor(c){this.appInits=c,this.resolve=Ju,this.reject=Ju,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(CC(g))c.push(g);else if(BS(g)){const v=new Promise((E,T)=>{g.subscribe({complete:E,error:T})});c.push(v)}}Promise.all(c).then(()=>{d()}).catch(h=>{this.reject(h)}),0===c.length&&d(),this.initialized=!0}}return s.\u0275fac=function(c){return new(c||s)($t(j0,8))},s.\u0275prov=He({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const $0=new hn("AppId",{providedIn:"root",factory:function z0(){return`${Cm()}${Cm()}${Cm()}`}});function Cm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const G0=new hn("Platform Initializer"),Ey=new hn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),q0=new hn("appBootstrapListener"),ed=new hn("AnimationModuleType");let zI=(()=>{class s{log(c){console.log(c)}warn(c){console.warn(c)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=He({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Im=new hn("LocaleId",{providedIn:"root",factory:()=>lc(Im,ft.Optional|ft.SkipSelf)||function GI(){return typeof $localize<"u"&&$localize.locale||Wu}()}),qI=new hn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class ZI{constructor(o,c){this.ngModuleFactory=o,this.componentFactories=c}}let $h=(()=>{class s{compileModuleSync(c){return new ty(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),g=Yr(Lt(c).declarations).reduce((v,E)=>{const T=le(E);return T&&v.push(new Ac(T)),v},[]);return new ZI(d,g)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=He({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const YI=(()=>Promise.resolve(0))();function Tm(s){typeof Zone>"u"?YI.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class ys{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Bo(!1),this.onMicrotaskEmpty=new Bo(!1),this.onStable=new Bo(!1),this.onError=new Bo(!1),typeof Zone>"u")throw new Ie(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&c,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function zh(){let s=wn.requestAnimationFrame,o=wn.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function _r(s){const o=()=>{!function lo(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(wn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Gh(s),s.isCheckStableRunning=!0,Ho(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Gh(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,h,g,v,E)=>{try{return Dm(s),c.invokeTask(h,g,v,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),qh(s)}},onInvoke:(c,d,h,g,v,E,T)=>{try{return Dm(s),c.invoke(h,g,v,E,T)}finally{s.shouldCoalesceRunChangeDetection&&o(),qh(s)}},onHasTask:(c,d,h,g)=>{c.hasTask(h,g),d===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,Gh(s),Ho(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(c,d,h,g)=>(c.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ys.isInAngularZone())throw new Ie(909,!1)}static assertNotInAngularZone(){if(ys.isInAngularZone())throw new Ie(909,!1)}run(o,c,d){return this._inner.run(o,c,d)}runTask(o,c,d,h){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+h,o,QI,Ju,Ju);try{return g.runTask(v,c,d)}finally{g.cancelTask(v)}}runGuarded(o,c,d){return this._inner.runGuarded(o,c,d)}runOutsideAngular(o){return this._outer.run(o)}}const QI={};function Ho(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Gh(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Dm(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function qh(s){s._nesting--,Ho(s)}class Cy{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Bo,this.onMicrotaskEmpty=new Bo,this.onStable=new Bo,this.onError=new Bo}run(o,c,d){return o.apply(c,d)}runGuarded(o,c,d){return o.apply(c,d)}runOutsideAngular(o){return o()}runTask(o,c,d,h){return o.apply(c,d)}}const K0=new hn(""),td=new hn("");let Q0,JA=(()=>{class s{constructor(c,d,h){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Q0||(function Y0(s){Q0=s}(h),h.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ys.assertNotInAngularZone(),Tm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Tm(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,h){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:g,updateCb:h})}whenStable(c,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,h){return[]}}return s.\u0275fac=function(c){return new(c||s)($t(ys),$t(XI),$t(td))},s.\u0275prov=He({token:s,factory:s.\u0275fac}),s})(),XI=(()=>{class s{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return Q0?.findTestabilityInTree(this,c,d)??null}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=He({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Fc=null;const X0=new hn("AllowMultipleToken"),J0=new hn("PlatformDestroyListeners");class JI{constructor(o,c){this.name=o,this.token=c}}function tT(s,o,c=[]){const d=`Platform: ${o}`,h=new hn(d);return(g=[])=>{let v=Sm();if(!v||v.injector.get(X0,!1)){const E=[...c,...g,{provide:h,useValue:!0}];s?s(E):function tr(s){if(Fc&&!Fc.get(X0,!1))throw new Ie(400,!1);Fc=s;const o=s.get(rt);(function Rl(s){const o=s.get(G0,null);o&&o.forEach(c=>c())})(s)}(function mi(s=[],o){return Lu.create({name:o,providers:[{provide:jg,useValue:"platform"},{provide:J0,useValue:new Set([()=>Fc=null])},...s]})}(E,d))}return function Le(s){const o=Sm();if(!o)throw new Ie(401,!1);return o}()}}function Sm(){return Fc?.get(rt)??null}let rt=(()=>{class s{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const h=function nT(s,o){let c;return c="noop"===s?new Cy:("zone.js"===s?void 0:s)||new ys(o),c}(d?.ngZone,function _t(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),g=[{provide:ys,useValue:h}];return h.run(()=>{const v=Lu.create({providers:g,parent:this.injector,name:c.moduleType.name}),E=c.create(v),T=E.injector.get(ph,null);if(!T)throw new Ie(402,!1);return h.runOutsideAngular(()=>{const A=h.onError.subscribe({next:k=>{T.handleError(k)}});E.onDestroy(()=>{gi(this._modules,E),A.unsubscribe()})}),function Qe(s,o,c){try{const d=c();return CC(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(T,h,()=>{const A=E.injector.get(Nc);return A.runInitializers(),A.donePromise.then(()=>(function j_(s){Ve(s,"Expected localeId to be defined"),"string"==typeof s&&(aA=s.toLowerCase().replace(/_/g,"-"))}(E.injector.get(Im,Wu)||Wu),this._moduleDoBootstrap(E),E))})})}bootstrapModule(c,d=[]){const h=ce({},d);return function eM(s,o,c){const d=new ty(c);return Promise.resolve(d)}(0,0,c).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(c){const d=c.injector.get(Me);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new Ie(403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ie(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(J0,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(c){return new(c||s)($t(Lu))},s.\u0275prov=He({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function ce(s,o){return Array.isArray(o)?o.reduce(ce,s):{...s,...o}}let Me=(()=>{class s{constructor(c,d,h){this._zone=c,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new O.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),v=new O.y(E=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{ys.assertNotInAngularZone(),Tm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{ys.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{T.unsubscribe(),A.unsubscribe()}});this.isStable=(0,ae.T)(g,v.pipe((0,oe.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,d){const h=c instanceof Gg;if(!this._injector.get(Nc).done)throw!h&&At(c),new Ie(405,false);let v;v=h?c:this._injector.get(Ca).resolveComponentFactory(c),this.componentTypes.push(v.componentType);const E=function Zh(s){return s.isBoundToModule}(v)?void 0:this._injector.get(Rh),A=v.create(Lu.NULL,[],d||v.selector,E),k=A.location.nativeElement,F=A.injector.get(K0,null);return F?.registerApplication(k),A.onDestroy(()=>{this.detachView(A.hostView),gi(this.components,A),F?.unregisterApplication(k)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new Ie(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;gi(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(q0,[]).concat(this._bootstrapListeners).forEach(h=>h(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>gi(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new Ie(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(c){return new(c||s)($t(ys),$t(hi),$t(ph))},s.\u0275prov=He({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function gi(s,o){const c=s.indexOf(o);c>-1&&s.splice(c,1)}let iT=!0,rT=!1;function nM(){return rT=!0,iT}function iM(){if(rT)throw new Error("Cannot enable prod mode after platform setup.");iT=!1}let oM=(()=>{class s{}return s.__NG_ELEMENT_ID__=sT,s})();function sT(s){return function Ht(s,o,c){if(Ll(s)&&!c){const d=Gn(s.index,o);return new wh(d,d)}return 47&s.type?new wh(o[16],o):null}(Vn(),Ae(),16==(16&s))}class Ol{constructor(){}supports(o){return C_(o)}create(o){return new se(o)}}const nw=(s,o)=>o;class se{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||nw}forEachItem(o){let c;for(c=this._itHead;null!==c;c=c._next)o(c)}forEachOperation(o){let c=this._itHead,d=this._removalsHead,h=0,g=null;for(;c||d;){const v=!d||c&&c.currentIndex<Yh(d,h,g)?c:d,E=Yh(v,h,g),T=v.currentIndex;if(v===d)h--,d=d._nextRemoved;else if(c=c._next,null==v.previousIndex)h++;else{g||(g=[]);const A=E-h,k=T-h;if(A!=k){for(let B=0;B<A;B++){const J=B<g.length?g[B]:g[B]=0,ge=J+B;k<=ge&&ge<A&&(g[B]=J+1)}g[v.previousIndex]=k-A}}E!==T&&o(v,E,T)}}forEachPreviousItem(o){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachMovedItem(o){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}forEachIdentityChange(o){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)o(c)}diff(o){if(null==o&&(o=[]),!C_(o))throw new Ie(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,v,c=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)g=o[E],v=this._trackByFn(E,g),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,g,v,E)),Object.is(c.item,g)||this._addIdentityChange(c,g)):(c=this._mismatch(c,g,v,E),d=!0),c=c._next}else h=0,function NS(s,o){if(Array.isArray(s))for(let c=0;c<s.length;c++)o(s[c]);else{const c=s[Hu()]();let d;for(;!(d=c.next()).done;)o(d.value)}}(o,E=>{v=this._trackByFn(h,E),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,E,v,h)),Object.is(c.item,E)||this._addIdentityChange(c,E)):(c=this._mismatch(c,E,v,h),d=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,c,d,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._moveAfter(o,g,h)):o=this._addAfter(new Sy(c,d),g,h),o}_verifyReinsertion(o,c,d,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const c=o._next;this._addToRemovals(this._unlink(o)),o=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,c,d),this._addToMoves(o,d),o}_moveAfter(o,c,d){return this._unlink(o),this._insertAfter(o,c,d),this._addToMoves(o,d),o}_addAfter(o,c,d){return this._insertAfter(o,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,c,d){const h=null===c?this._itHead:c._next;return o._next=h,o._prev=c,null===h?this._itTail=o:h._prev=o,null===c?this._itHead=o:c._next=o,null===this._linkedRecords&&(this._linkedRecords=new aT),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const c=o._prev,d=o._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,o}_addToMoves(o,c){return o.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new aT),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,c){return o.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Sy{constructor(o,c){this.item=o,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class $o{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const c=o._prevDup,d=o._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class aT{constructor(){this.map=new Map}put(o){const c=o.trackById;let d=this.map.get(c);d||(d=new $o,this.map.set(c,d)),d.add(o)}get(o,c){const h=this.map.get(o);return h?h.get(o,c):null}remove(o){const c=o.trackById;return this.map.get(c).remove(o)&&this.map.delete(c),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Yh(s,o,c){const d=s.previousIndex;if(null===d)return d;let h=0;return c&&d<c.length&&(h=c[d]),d+o+h}class Pl{constructor(){}supports(o){return o instanceof Map||qp(o)}create(){return new dM}}class dM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let c;for(c=this._mapHead;null!==c;c=c._next)o(c)}forEachPreviousItem(o){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)o(c)}forEachChangedItem(o){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}diff(o){if(o){if(!(o instanceof Map||qp(o)))throw new Ie(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const g=this._getOrCreateRecordForKey(h,d);c=this._insertBeforeOrAppend(c,g)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,c){if(o){const d=o._prev;return c._next=o,c._prev=d,o._prev=c,d&&(d._next=c),o===this._mapHead&&(this._mapHead=c),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(o,c){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,c);const g=h._prev,v=h._next;return g&&(g._next=v),v&&(v._prev=g),h._next=null,h._prev=null,h}const d=new id(o);return this._records.set(o,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,c){Object.is(c,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=c,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,c){o instanceof Map?o.forEach(c):Object.keys(o).forEach(d=>c(o[d],d))}}class id{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function iw(){return new Rm([new Ol])}let Rm=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(null!=d){const h=d.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||iw()),deps:[[s,new qr,new wi]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(null!=d)return d;throw new Ie(901,!1)}}return s.\u0275prov=He({token:s,providedIn:"root",factory:iw}),s})();function lT(){return new Qr([new Pl])}let Qr=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(d){const h=d.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||lT()),deps:[[s,new qr,new wi]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(d)return d;throw new Ie(901,!1)}}return s.\u0275prov=He({token:s,providedIn:"root",factory:lT}),s})();const fM=tT(null,"core",[]);let cT=(()=>{class s{constructor(c){}}return s.\u0275fac=function(c){return new(c||s)($t(Me))},s.\u0275mod=or({type:s}),s.\u0275inj=Wt({}),s})();function Ra(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(gt,De,N)=>{N.d(De,{Z:()=>Ie});var l=N(2090),X=N(4859),O=N(2951),ae=N(1877);class oe{constructor(ve,ye){this._delegate=ve,this.firebase=ye,(0,O._addComponent)(ve,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=ve.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this._delegate.automaticDataCollectionEnabled=ve}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ve=>{this._delegate.checkDestroyed(),ve()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(ve,ye=O._DEFAULT_ENTRY_NAME){var yt;this._delegate.checkDestroyed();const Tt=this._delegate.container.getProvider(ve);return!Tt.isInitialized()&&"EXPLICIT"===(null===(yt=Tt.getComponent())||void 0===yt?void 0:yt.instantiationMode)&&Tt.initialize(),Tt.getImmediate({identifier:ye})}_removeServiceInstance(ve,ye=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ve).clearInstance(ye)}_addComponent(ve){(0,O._addComponent)(this._delegate,ve)}_addOrOverwriteComponent(ve){(0,O._addOrOverwriteComponent)(this._delegate,ve)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ie=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function he(){const ot=function Ee(ot){const ve={},ye={__esModule:!0,initializeApp:function Oe(je,Je={}){const ee=O.initializeApp(je,Je);if((0,l.r3)(ve,ee.name))return ve[ee.name];const Mt=new ot(ee,ye);return ve[ee.name]=Mt,Mt},app:Tt,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function pe(je){const Je=je.name,ee=Je.replace("-compat","");if(O._registerComponent(je)&&"PUBLIC"===je.type){const Mt=(ht=Tt())=>{if("function"!=typeof ht[ee])throw ie.create("invalid-app-argument",{appName:Je});return ht[ee]()};void 0!==je.serviceProps&&(0,l.ZB)(Mt,je.serviceProps),ye[ee]=Mt,ot.prototype[ee]=function(...ht){return this._getService.bind(this,Je).apply(this,je.multipleInstances?ht:[])}}return"PUBLIC"===je.type?ye[ee]:null},removeApp:function yt(je){delete ve[je]},useAsService:function qe(je,Je){return"serverAuth"===Je?null:Je},modularAPIs:O}};function Tt(je){if(!(0,l.r3)(ve,je=je||O._DEFAULT_ENTRY_NAME))throw ie.create("no-app",{appName:je});return ve[je]}return ye.default=ye,Object.defineProperty(ye,"apps",{get:function Ce(){return Object.keys(ve).map(je=>ve[je])}}),Tt.App=ot,ye}(oe);return ot.INTERNAL=Object.assign(Object.assign({},ot.INTERNAL),{createFirebaseNamespace:he,extendNamespace:function ve(ye){(0,l.ZB)(ot,ye)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),ot}(),$=new ae.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ot=self.firebase.SDK_VERSION;ot&&ot.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ie=z;!function xe(ot){(0,O.registerVersion)("@firebase/app-compat","0.2.9",ot)}()},2951:(gt,De,N)=>{N.r(De),N.d(De,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>Yo,_DEFAULT_ENTRY_NAME:()=>yr,_addComponent:()=>it,_addOrOverwriteComponent:()=>wt,_apps:()=>Mn,_clearComponents:()=>ni,_components:()=>an,_getProvider:()=>ss,_registerComponent:()=>wn,_removeServiceInstance:()=>sr,deleteApp:()=>Lr,getApp:()=>ci,getApps:()=>ki,initializeApp:()=>ln,onLog:()=>os,registerVersion:()=>Oi,setLogLevel:()=>$n});var l=N(5861),X=N(4859),O=N(1877),ae=N(2090);let ue,ie;const z=new WeakMap,$=new WeakMap,W=new WeakMap,Ge=new WeakMap,xe=new WeakMap;let ve={get(re,te,Pe){if(re instanceof IDBTransaction){if("done"===te)return $.get(re);if("objectStoreNames"===te)return re.objectStoreNames||W.get(re);if("store"===te)return Pe.objectStoreNames[1]?void 0:Pe.objectStore(Pe.objectStoreNames[0])}return Oe(re[te])},set:(re,te,Pe)=>(re[te]=Pe,!0),has:(re,te)=>re instanceof IDBTransaction&&("done"===te||"store"===te)||te in re};function Tt(re){return"function"==typeof re?function yt(re){return re!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function he(){return ie||(ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(re)?function(...te){return re.apply(Ce(this),te),Oe(z.get(this))}:function(...te){return Oe(re.apply(Ce(this),te))}:function(te,...Pe){const Fe=re.call(Ce(this),te,...Pe);return W.set(Fe,te.sort?te.sort():[te]),Oe(Fe)}}(re):(re instanceof IDBTransaction&&function ot(re){if($.has(re))return;const te=new Promise((Pe,Fe)=>{const Dt=()=>{re.removeEventListener("complete",Vt),re.removeEventListener("error",cn),re.removeEventListener("abort",cn)},Vt=()=>{Pe(),Dt()},cn=()=>{Fe(re.error||new DOMException("AbortError","AbortError")),Dt()};re.addEventListener("complete",Vt),re.addEventListener("error",cn),re.addEventListener("abort",cn)});$.set(re,te)}(re),((re,te)=>te.some(Pe=>re instanceof Pe))(re,function Ee(){return ue||(ue=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(re,ve):re)}function Oe(re){if(re instanceof IDBRequest)return function Ie(re){const te=new Promise((Pe,Fe)=>{const Dt=()=>{re.removeEventListener("success",Vt),re.removeEventListener("error",cn)},Vt=()=>{Pe(Oe(re.result)),Dt()},cn=()=>{Fe(re.error),Dt()};re.addEventListener("success",Vt),re.addEventListener("error",cn)});return te.then(Pe=>{Pe instanceof IDBCursor&&z.set(Pe,re)}).catch(()=>{}),xe.set(te,re),te}(re);if(Ge.has(re))return Ge.get(re);const te=Tt(re);return te!==re&&(Ge.set(re,te),xe.set(te,re)),te}const Ce=re=>xe.get(re),je=["get","getKey","getAll","getAllKeys","count"],Je=["put","add","delete","clear"],ee=new Map;function Mt(re,te){if(!(re instanceof IDBDatabase)||te in re||"string"!=typeof te)return;if(ee.get(te))return ee.get(te);const Pe=te.replace(/FromIndex$/,""),Fe=te!==Pe,Dt=Je.includes(Pe);if(!(Pe in(Fe?IDBIndex:IDBObjectStore).prototype)||!Dt&&!je.includes(Pe))return;const Vt=function(){var cn=(0,l.Z)(function*(Pn,...Qt){const Ni=this.transaction(Pn,Dt?"readwrite":"readonly");let vr=Ni.store;return Fe&&(vr=vr.index(Qt.shift())),(yield Promise.all([vr[Pe](...Qt),Dt&&Ni.done]))[0]});return function(Qt){return cn.apply(this,arguments)}}();return ee.set(te,Vt),Vt}!function ye(re){ve=re(ve)}(re=>({...re,get:(te,Pe,Fe)=>Mt(te,Pe)||re.get(te,Pe,Fe),has:(te,Pe)=>!!Mt(te,Pe)||re.has(te,Pe)}));class ht{constructor(te){this.container=te}getPlatformInfoString(){return this.container.getProviders().map(Pe=>{if(function Zt(re){return"VERSION"===re.getComponent()?.type}(Pe)){const Fe=Pe.getImmediate();return`${Fe.library}/${Fe.version}`}return null}).filter(Pe=>Pe).join(" ")}}const ct="@firebase/app",me=new O.Yd("@firebase/app"),yr="[DEFAULT]",li={[ct]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Mn=new Map,an=new Map;function it(re,te){try{re.container.addComponent(te)}catch(Pe){me.debug(`Component ${te.name} failed to register with FirebaseApp ${re.name}`,Pe)}}function wt(re,te){re.container.addOrOverwriteComponent(te)}function wn(re){const te=re.name;if(an.has(te))return me.debug(`There were multiple attempts to register component ${te}.`),!1;an.set(te,re);for(const Pe of Mn.values())it(Pe,re);return!0}function ss(re,te){const Pe=re.container.getProvider("heartbeat").getImmediate({optional:!0});return Pe&&Pe.triggerHeartbeat(),re.container.getProvider(te)}function sr(re,te,Pe=yr){ss(re,te).clearInstance(Pe)}function ni(){an.clear()}const Ri=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class yn{constructor(te,Pe,Fe){this._isDeleted=!1,this._options=Object.assign({},te),this._config=Object.assign({},Pe),this._name=Pe.name,this._automaticDataCollectionEnabled=Pe.automaticDataCollectionEnabled,this._container=Fe,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(te){this.checkDestroyed(),this._automaticDataCollectionEnabled=te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(te){this._isDeleted=te}checkDestroyed(){if(this.isDeleted)throw Ri.create("app-deleted",{appName:this._name})}}const Yo="9.21.0";function ln(re,te={}){let Pe=re;"object"!=typeof te&&(te={name:te});const Fe=Object.assign({name:yr,automaticDataCollectionEnabled:!1},te),Dt=Fe.name;if("string"!=typeof Dt||!Dt)throw Ri.create("bad-app-name",{appName:String(Dt)});if(Pe||(Pe=(0,ae.aH)()),!Pe)throw Ri.create("no-options");const Vt=Mn.get(Dt);if(Vt){if((0,ae.vZ)(Pe,Vt.options)&&(0,ae.vZ)(Fe,Vt.config))return Vt;throw Ri.create("duplicate-app",{appName:Dt})}const cn=new X.H0(Dt);for(const Qt of an.values())cn.addComponent(Qt);const Pn=new yn(Pe,Fe,cn);return Mn.set(Dt,Pn),Pn}function ci(re=yr){const te=Mn.get(re);if(!te&&re===yr)return ln();if(!te)throw Ri.create("no-app",{appName:re});return te}function ki(){return Array.from(Mn.values())}function Lr(re){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,l.Z)(function*(re){const te=re.name;Mn.has(te)&&(Mn.delete(te),yield Promise.all(re.container.getProviders().map(Pe=>Pe.delete())),re.isDeleted=!0)})).apply(this,arguments)}function Oi(re,te,Pe){var Fe;let Dt=null!==(Fe=li[re])&&void 0!==Fe?Fe:re;Pe&&(Dt+=`-${Pe}`);const Vt=Dt.match(/\s|\//),cn=te.match(/\s|\//);if(Vt||cn){const Pn=[`Unable to register library "${Dt}" with version "${te}":`];return Vt&&Pn.push(`library name "${Dt}" contains illegal characters (whitespace or "/")`),Vt&&cn&&Pn.push("and"),cn&&Pn.push(`version name "${te}" contains illegal characters (whitespace or "/")`),void me.warn(Pn.join(" "))}wn(new X.wA(`${Dt}-version`,()=>({library:Dt,version:te}),"VERSION"))}function os(re,te){if(null!==re&&"function"!=typeof re)throw Ri.create("invalid-log-argument");(0,O.Am)(re,te)}function $n(re){(0,O.Ub)(re)}const H="firebase-heartbeat-store";let U=null;function Z(){return U||(U=function pe(re,te,{blocked:Pe,upgrade:Fe,blocking:Dt,terminated:Vt}={}){const cn=indexedDB.open(re,te),Pn=Oe(cn);return Fe&&cn.addEventListener("upgradeneeded",Qt=>{Fe(Oe(cn.result),Qt.oldVersion,Qt.newVersion,Oe(cn.transaction),Qt)}),Pe&&cn.addEventListener("blocked",Qt=>Pe(Qt.oldVersion,Qt.newVersion,Qt)),Pn.then(Qt=>{Vt&&Qt.addEventListener("close",()=>Vt()),Dt&&Qt.addEventListener("versionchange",Ni=>Dt(Ni.oldVersion,Ni.newVersion,Ni))}).catch(()=>{}),Pn}("firebase-heartbeat-database",1,{upgrade:(re,te)=>{0===te&&re.createObjectStore(H)}}).catch(re=>{throw Ri.create("idb-open",{originalErrorMessage:re.message})})),U}function Y(){return(Y=(0,l.Z)(function*(re){try{return(yield Z()).transaction(H).objectStore(H).get(Lt(re))}catch(te){if(te instanceof ae.ZR)me.warn(te.message);else{const Pe=Ri.create("idb-get",{originalErrorMessage:te?.message});me.warn(Pe.message)}}})).apply(this,arguments)}function Ze(re,te){return At.apply(this,arguments)}function At(){return(At=(0,l.Z)(function*(re,te){try{const Fe=(yield Z()).transaction(H,"readwrite");return yield Fe.objectStore(H).put(te,Lt(re)),Fe.done}catch(Pe){if(Pe instanceof ae.ZR)me.warn(Pe.message);else{const Fe=Ri.create("idb-set",{originalErrorMessage:Pe?.message});me.warn(Fe.message)}}})).apply(this,arguments)}function Lt(re){return`${re.name}!${re.options.appId}`}class ut{constructor(te){this.container=te,this._heartbeatsCache=null;const Pe=this.container.getProvider("app").getImmediate();this._storage=new Pi(Pe),this._heartbeatsCachePromise=this._storage.read().then(Fe=>(this._heartbeatsCache=Fe,Fe))}triggerHeartbeat(){var te=this;return(0,l.Z)(function*(){const Fe=te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Dt=vt();if(null===te._heartbeatsCache&&(te._heartbeatsCache=yield te._heartbeatsCachePromise),te._heartbeatsCache.lastSentHeartbeatDate!==Dt&&!te._heartbeatsCache.heartbeats.some(Vt=>Vt.date===Dt))return te._heartbeatsCache.heartbeats.push({date:Dt,agent:Fe}),te._heartbeatsCache.heartbeats=te._heartbeatsCache.heartbeats.filter(Vt=>{const cn=new Date(Vt.date).valueOf();return Date.now()-cn<=2592e6}),te._storage.overwrite(te._heartbeatsCache)})()}getHeartbeatsHeader(){var te=this;return(0,l.Z)(function*(){if(null===te._heartbeatsCache&&(yield te._heartbeatsCachePromise),null===te._heartbeatsCache||0===te._heartbeatsCache.heartbeats.length)return"";const Pe=vt(),{heartbeatsToSend:Fe,unsentEntries:Dt}=function En(re,te=1024){const Pe=[];let Fe=re.slice();for(const Dt of re){const Vt=Pe.find(cn=>cn.agent===Dt.agent);if(Vt){if(Vt.dates.push(Dt.date),Cn(Pe)>te){Vt.dates.pop();break}}else if(Pe.push({agent:Dt.agent,dates:[Dt.date]}),Cn(Pe)>te){Pe.pop();break}Fe=Fe.slice(1)}return{heartbeatsToSend:Pe,unsentEntries:Fe}}(te._heartbeatsCache.heartbeats),Vt=(0,ae.L)(JSON.stringify({version:2,heartbeats:Fe}));return te._heartbeatsCache.lastSentHeartbeatDate=Pe,Dt.length>0?(te._heartbeatsCache.heartbeats=Dt,yield te._storage.overwrite(te._heartbeatsCache)):(te._heartbeatsCache.heartbeats=[],te._storage.overwrite(te._heartbeatsCache)),Vt})()}}function vt(){return(new Date).toISOString().substring(0,10)}class Pi{constructor(te){this.app=te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var te=this;return(0,l.Z)(function*(){return(yield te._canUseIndexedDBPromise)&&(yield function le(re){return Y.apply(this,arguments)}(te.app))||{heartbeats:[]}})()}overwrite(te){var Pe=this;return(0,l.Z)(function*(){var Fe;if(yield Pe._canUseIndexedDBPromise){const Vt=yield Pe.read();return Ze(Pe.app,{lastSentHeartbeatDate:null!==(Fe=te.lastSentHeartbeatDate)&&void 0!==Fe?Fe:Vt.lastSentHeartbeatDate,heartbeats:te.heartbeats})}})()}add(te){var Pe=this;return(0,l.Z)(function*(){var Fe;if(yield Pe._canUseIndexedDBPromise){const Vt=yield Pe.read();return Ze(Pe.app,{lastSentHeartbeatDate:null!==(Fe=te.lastSentHeartbeatDate)&&void 0!==Fe?Fe:Vt.lastSentHeartbeatDate,heartbeats:[...Vt.heartbeats,...te.heartbeats]})}})()}}function Cn(re){return(0,ae.L)(JSON.stringify({version:2,heartbeats:re})).length}!function Vr(re){wn(new X.wA("platform-logger",te=>new ht(te),"PRIVATE")),wn(new X.wA("heartbeat",te=>new ut(te),"PRIVATE")),Oi(ct,"0.9.9",re),Oi(ct,"0.9.9","esm2017"),Oi("fire-js","")}("")},4859:(gt,De,N)=>{N.d(De,{H0:()=>Ee,wA:()=>O});var l=N(5861),X=N(2090);class O{constructor(z,$,W){this.name=z,this.instanceFactory=$,this.type=W,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const ae="[DEFAULT]";class oe{constructor(z,$){this.name=z,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const $=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has($)){const W=new X.BH;if(this.instancesDeferred.set($,W),this.isInitialized($)||this.shouldAutoInitialize())try{const Ge=this.getOrInitializeService({instanceIdentifier:$});Ge&&W.resolve(Ge)}catch{}}return this.instancesDeferred.get($).promise}getImmediate(z){var $;const W=this.normalizeInstanceIdentifier(z?.identifier),Ge=null!==($=z?.optional)&&void 0!==$&&$;if(!this.isInitialized(W)&&!this.shouldAutoInitialize()){if(Ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:W})}catch(xe){if(Ge)return null;throw xe}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function ie(he){return"EAGER"===he.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:ae})}catch{}for(const[$,W]of this.instancesDeferred.entries()){const Ge=this.normalizeInstanceIdentifier($);try{const xe=this.getOrInitializeService({instanceIdentifier:Ge});W.resolve(xe)}catch{}}}}clearInstance(z=ae){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,l.Z)(function*(){const $=Array.from(z.instances.values());yield Promise.all([...$.filter(W=>"INTERNAL"in W).map(W=>W.INTERNAL.delete()),...$.filter(W=>"_delete"in W).map(W=>W._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=ae){return this.instances.has(z)}getOptions(z=ae){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:$={}}=z,W=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(W))throw Error(`${this.name}(${W}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ge=this.getOrInitializeService({instanceIdentifier:W,options:$});for(const[xe,Ie]of this.instancesDeferred.entries())W===this.normalizeInstanceIdentifier(xe)&&Ie.resolve(Ge);return Ge}onInit(z,$){var W;const Ge=this.normalizeInstanceIdentifier($),xe=null!==(W=this.onInitCallbacks.get(Ge))&&void 0!==W?W:new Set;xe.add(z),this.onInitCallbacks.set(Ge,xe);const Ie=this.instances.get(Ge);return Ie&&z(Ie,Ge),()=>{xe.delete(z)}}invokeOnInitCallbacks(z,$){const W=this.onInitCallbacks.get($);if(W)for(const Ge of W)try{Ge(z,$)}catch{}}getOrInitializeService({instanceIdentifier:z,options:$={}}){let W=this.instances.get(z);if(!W&&this.component&&(W=this.component.instanceFactory(this.container,{instanceIdentifier:(he=z,he===ae?void 0:he),options:$}),this.instances.set(z,W),this.instancesOptions.set(z,$),this.invokeOnInitCallbacks(W,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,W)}catch{}var he;return W||null}normalizeInstanceIdentifier(z=ae){return this.component?this.component.multipleInstances?z:ae:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ee{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const $=this.getProvider(z.name);if($.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);$.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const $=new oe(z,this);return this.providers.set(z,$),$}getProviders(){return Array.from(this.providers.values())}}},1877:(gt,De,N)=>{N.d(De,{Am:()=>he,Ub:()=>Ee,Yd:()=>ie,in:()=>X});const l=[];var X=(()=>{return(z=X||(X={}))[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",X;var z})();const O={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},ae=X.INFO,oe={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},ue=(z,$,...W)=>{if($<z.logLevel)return;const Ge=(new Date).toISOString(),xe=oe[$];if(!xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[xe](`[${Ge}]  ${z.name}:`,...W)};class ie{constructor($){this.name=$,this._logLevel=ae,this._logHandler=ue,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in X))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?O[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...$),this._logHandler(this,X.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...$),this._logHandler(this,X.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,X.INFO,...$),this._logHandler(this,X.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,X.WARN,...$),this._logHandler(this,X.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...$),this._logHandler(this,X.ERROR,...$)}}function Ee(z){l.forEach($=>{$.setLogLevel(z)})}function he(z,$){for(const W of l){let Ge=null;$&&$.level&&(Ge=O[$.level]),W.userLogHandler=null===z?null:(xe,Ie,...ot)=>{const ve=ot.map(ye=>{if(null==ye)return null;if("string"==typeof ye)return ye;if("number"==typeof ye||"boolean"==typeof ye)return ye.toString();if(ye instanceof Error)return ye.message;try{return JSON.stringify(ye)}catch{return null}}).filter(ye=>ye).join(" ");Ie>=(Ge??xe.logLevel)&&z({level:X[Ie].toLowerCase(),message:ve,args:ot,type:xe.name})}}}},259:(gt,De,N)=>{N.d(De,{C6:()=>l.getApps,Mq:()=>l.getApp});var l=N(2951);(0,l.registerVersion)("firebase","9.21.0","app")},9260:(gt,De,N)=>{N.d(De,{Z:()=>l.Z});var l=N(3942);l.Z.registerVersion("firebase","9.21.0","app-compat")},3042:(gt,De,N)=>{N.r(De);var l=N(5861),X=N(3942),O=N(2090),ae=N(2951),oe=N(655),ue=N(1877),ie=N(4859);const Ie=function Ge(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},ot=function xe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ve=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),yt=new ue.Yd("@firebase/auth");function Oe(y,...p){yt.logLevel<=ue.in.ERROR&&yt.error(`Auth (${ae.SDK_VERSION}): ${y}`,...p)}function Ce(y,...p){throw Je(y,...p)}function pe(y,...p){return Je(y,...p)}function qe(y,p,m){const b=Object.assign(Object.assign({},ot()),{[p]:m});return new O.LL("auth","Firebase",b).create(p,{appName:y.name})}function je(y,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Ce(y,"argument-error"),qe(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Je(y,...p){if("string"!=typeof y){const m=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(m,...b)}return ve.create(y,...p)}function ee(y,p,...m){if(!y)throw Je(p,...m)}function Mt(y){const p="INTERNAL ASSERTION FAILED: "+y;throw Oe(p),new Error(p)}function ht(y,p){y||Mt(p)}function Zt(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function ct(){return"http:"===de()||"https:"===de()}function de(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class ke{constructor(p,m){this.shortDelay=p,this.longDelay=m,ht(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function me(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ct()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ve(y,p){ht(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class Te{static initialize(p,m,b){this.fetchImpl=p,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Mt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Mt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Mt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},sn=new ke(3e4,6e4);function Ft(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function He(y,p,m,b){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,l.Z)(function*(y,p,m,b,S={}){return Wt(y,S,(0,l.Z)(function*(){let R={},j={};b&&("GET"===p?j=b:R={body:JSON.stringify(b)});const K=(0,O.xO)(Object.assign({key:y.config.apiKey},j)).slice(1),Re=yield y._getAdditionalHeaders();return Re["Content-Type"]="application/json",y.languageCode&&(Re["X-Firebase-Locale"]=y.languageCode),Te.fetch()(Bi(y,y.config.apiHost,m,K),Object.assign({method:p,headers:Re,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function Wt(y,p,m){return en.apply(this,arguments)}function en(){return(en=(0,l.Z)(function*(y,p,m){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},xt),p);try{const S=new rr(y),R=yield Promise.race([m(),S.promise]);S.clearNetworkTimeout();const j=yield R.json();if("needConfirmation"in j)throw xi(y,"account-exists-with-different-credential",j);if(R.ok&&!("errorMessage"in j))return j;{const K=R.ok?j.errorMessage:j.error.message,[Re,ze]=K.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Re)throw xi(y,"credential-already-in-use",j);if("EMAIL_EXISTS"===Re)throw xi(y,"email-already-in-use",j);if("USER_DISABLED"===Re)throw xi(y,"user-disabled",j);const et=b[Re]||Re.toLowerCase().replace(/[_\s]+/g,"-");if(ze)throw qe(y,et,ze);Ce(y,et)}}catch(S){if(S instanceof O.ZR)throw S;Ce(y,"network-request-failed",{message:String(S)})}})).apply(this,arguments)}function On(y,p,m,b){return jn.apply(this,arguments)}function jn(){return(jn=(0,l.Z)(function*(y,p,m,b,S={}){const R=yield He(y,p,m,b,S);return"mfaPendingCredential"in R&&Ce(y,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function Bi(y,p,m,b){const S=`${p}${m}?${b}`;return y.config.emulator?Ve(y.config,S):`${y.config.apiScheme}://${S}`}class rr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(pe(this.auth,"network-request-failed")),sn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xi(y,p,m){const b={appName:y.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const S=pe(y,p,b);return S.customData._tokenResponse=m,S}function Nr(){return(Nr=(0,l.Z)(function*(y,p){return He(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Va(y,p){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,l.Z)(function*(y,p){return He(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ft(y,p){return qi.apply(this,arguments)}function qi(){return(qi=(0,l.Z)(function*(y,p){return He(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Fr(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function yr(){return(yr=(0,l.Z)(function*(y,p=!1){const m=(0,O.m9)(y),b=yield m.getIdToken(p),S=Mn(b);ee(S&&S.exp&&S.auth_time&&S.iat,m.auth,"internal-error");const R="object"==typeof S.firebase?S.firebase:void 0,j=R?.sign_in_provider;return{claims:S,token:b,authTime:Fr(li(S.auth_time)),issuedAtTime:Fr(li(S.iat)),expirationTime:Fr(li(S.exp)),signInProvider:j||null,signInSecondFactor:R?.sign_in_second_factor||null}})).apply(this,arguments)}function li(y){return 1e3*Number(y)}function Mn(y){const[p,m,b]=y.split(".");if(void 0===p||void 0===m||void 0===b)return Oe("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,O.tV)(m);return S?JSON.parse(S):(Oe("Failed to decode base64 JWT payload"),null)}catch(S){return Oe("Caught error parsing JWT payload as JSON",S?.toString()),null}}function it(y,p){return wt.apply(this,arguments)}function wt(){return(wt=(0,l.Z)(function*(y,p,m=!1){if(m)return p;try{return yield p}catch(b){throw b instanceof O.ZR&&wn(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}function wn({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class ss{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const S=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,l.Z)(function*(){yield m.iteration()}),b)}iteration(){var p=this;return(0,l.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&p.schedule(!0))}p.schedule()})()}}class sr{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fr(this.lastLoginAt),this.creationTime=Fr(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ni(y){return St.apply(this,arguments)}function St(){return(St=(0,l.Z)(function*(y){var p;const m=y.auth,b=yield y.getIdToken(),S=yield it(y,ft(m,{idToken:b}));ee(S?.users.length,m,"internal-error");const R=S.users[0];y._notifyReloadListener(R);const j=null!==(p=R.providerUserInfo)&&void 0!==p&&p.length?ln(R.providerUserInfo):[],K=Yo(y.providerData,j),et=!!y.isAnonymous&&!(y.email&&R.passwordHash||K?.length),at={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:K,metadata:new sr(R.createdAt,R.lastLoginAt),isAnonymous:et};Object.assign(y,at)})).apply(this,arguments)}function yn(){return(yn=(0,l.Z)(function*(y){const p=(0,O.m9)(y);yield ni(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Yo(y,p){return[...y.filter(b=>!p.some(S=>S.providerId===b.providerId)),...p]}function ln(y){return y.map(p=>{var{providerId:m}=p,b=(0,oe._T)(p,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function ki(){return(ki=(0,l.Z)(function*(y,p){const m=yield Wt(y,{},(0,l.Z)(function*(){const b=(0,O.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:S,apiKey:R}=y.config,j=Bi(y,S,"/v1/token",`key=${R}`),K=yield y._getAdditionalHeaders();return K["Content-Type"]="application/x-www-form-urlencoded",Te.fetch()(j,{method:"POST",headers:K,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Lr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){ee(p.idToken,"internal-error"),ee(typeof p.idToken<"u","internal-error"),ee(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function an(y){const p=Mn(y);return ee(p,"internal-error"),ee(typeof p.exp<"u","internal-error"),ee(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var b=this;return(0,l.Z)(function*(){return ee(!b.accessToken||b.refreshToken,p,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var b=this;return(0,l.Z)(function*(){const{accessToken:S,refreshToken:R,expiresIn:j}=yield function ci(y,p){return ki.apply(this,arguments)}(p,m);b.updateTokensAndExpiration(S,R,Number(j))})()}updateTokensAndExpiration(p,m,b){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,m){const{refreshToken:b,accessToken:S,expirationTime:R}=m,j=new Lr;return b&&(ee("string"==typeof b,"internal-error",{appName:p}),j.refreshToken=b),S&&(ee("string"==typeof S,"internal-error",{appName:p}),j.accessToken=S),R&&(ee("number"==typeof R,"internal-error",{appName:p}),j.expirationTime=R),j}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Lr,this.toJSON())}_performRefresh(){return Mt("not implemented")}}function Ln(y,p){ee("string"==typeof y||typeof y>"u","internal-error",{appName:p})}class Oi{constructor(p){var{uid:m,auth:b,stsTokenManager:S}=p,R=(0,oe._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ss(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new sr(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,l.Z)(function*(){const b=yield it(m,m.stsTokenManager.getToken(m.auth,p));return ee(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(p){return function Ko(y){return yr.apply(this,arguments)}(this,p)}reload(){return function Ri(y){return yn.apply(this,arguments)}(this)}_assign(p){this!==p&&(ee(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const m=new Oi(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(p){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var b=this;return(0,l.Z)(function*(){let S=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),S=!0),m&&(yield ni(b)),yield b.auth._persistUserIfCurrent(b),S&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,l.Z)(function*(){const m=yield p.getIdToken();return yield it(p,function rs(y,p){return Nr.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var b,S,R,j,K,Re,ze,et;const at=null!==(b=m.displayName)&&void 0!==b?b:void 0,kn=null!==(S=m.email)&&void 0!==S?S:void 0,Kr=null!==(R=m.phoneNumber)&&void 0!==R?R:void 0,dh=null!==(j=m.photoURL)&&void 0!==j?j:void 0,Ev=null!==(K=m.tenantId)&&void 0!==K?K:void 0,Pu=null!==(Re=m._redirectEventId)&&void 0!==Re?Re:void 0,Cv=null!==(ze=m.createdAt)&&void 0!==ze?ze:void 0,Iv=null!==(et=m.lastLoginAt)&&void 0!==et?et:void 0,{uid:Lg,emailVerified:yp,isAnonymous:vp,providerData:vl,stsTokenManager:hh}=m;ee(Lg&&hh,p,"internal-error");const Vg=Lr.fromJSON(this.name,hh);ee("string"==typeof Lg,p,"internal-error"),Ln(at,p.name),Ln(kn,p.name),ee("boolean"==typeof yp,p,"internal-error"),ee("boolean"==typeof vp,p,"internal-error"),Ln(Kr,p.name),Ln(dh,p.name),Ln(Ev,p.name),Ln(Pu,p.name),Ln(Cv,p.name),Ln(Iv,p.name);const Ug=new Oi({uid:Lg,auth:p,email:kn,emailVerified:yp,displayName:at,isAnonymous:vp,photoURL:dh,phoneNumber:Kr,tenantId:Ev,stsTokenManager:Vg,createdAt:Cv,lastLoginAt:Iv});return vl&&Array.isArray(vl)&&(Ug.providerData=vl.map(Kn=>Object.assign({},Kn))),Pu&&(Ug._redirectEventId=Pu),Ug}static _fromIdTokenResponse(p,m,b=!1){return(0,l.Z)(function*(){const S=new Lr;S.updateFromServerResponse(m);const R=new Oi({uid:m.localId,auth:p,stsTokenManager:S,isAnonymous:b});return yield ni(R),R})()}}const os=new Map;function $n(y){ht(y instanceof Function,"Expected a class definition");let p=os.get(y);return p?(ht(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,os.set(y,p),p)}const Wi=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(m,b){var S=this;return(0,l.Z)(function*(){S.storage[m]=b})()}_get(m){var b=this;return(0,l.Z)(function*(){const S=b.storage[m];return void 0===S?null:S})()}_remove(m){var b=this;return(0,l.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return y.type="NONE",y})();function H(y,p,m){return`firebase:${y}:${p}:${m}`}class U{constructor(p,m,b){this.persistence=p,this.auth=m,this.userKey=b;const{config:S,name:R}=this.auth;this.fullUserKey=H(this.userKey,S.apiKey,R),this.fullPersistenceKey=H("persistence",S.apiKey,R),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,l.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?Oi._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,l.Z)(function*(){if(m.persistence===p)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,b="authUser"){return(0,l.Z)(function*(){if(!m.length)return new U($n(Wi),p,b);const S=(yield Promise.all(m.map(function(){var ze=(0,l.Z)(function*(et){if(yield et._isAvailable())return et});return function(et){return ze.apply(this,arguments)}}()))).filter(ze=>ze);let R=S[0]||$n(Wi);const j=H(b,p.config.apiKey,p.name);let K=null;for(const ze of m)try{const et=yield ze._get(j);if(et){const at=Oi._fromJSON(p,et);ze!==R&&(K=at),R=ze;break}}catch{}const Re=S.filter(ze=>ze._shouldAllowMigration);return R._shouldAllowMigration&&Re.length?(R=Re[0],K&&(yield R._set(j,K.toJSON())),yield Promise.all(m.map(function(){var ze=(0,l.Z)(function*(et){if(et!==R)try{yield et._remove(j)}catch{}});return function(et){return ze.apply(this,arguments)}}())),new U(R,p,b)):new U(R,p,b)})()}}function Z(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(At(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(le(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(gn(p))return"Blackberry";if(Ue(p))return"Webos";if(Y(p))return"Safari";if((p.includes("chrome/")||Ze(p))&&!p.includes("edge/"))return"Chrome";if(Lt(p))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function le(y=(0,O.z$)()){return/firefox\//i.test(y)}function Y(y=(0,O.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Ze(y=(0,O.z$)()){return/crios\//i.test(y)}function At(y=(0,O.z$)()){return/iemobile/i.test(y)}function Lt(y=(0,O.z$)()){return/android/i.test(y)}function gn(y=(0,O.z$)()){return/blackberry/i.test(y)}function Ue(y=(0,O.z$)()){return/webos/i.test(y)}function ut(y=(0,O.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Cn(y=(0,O.z$)()){return ut(y)||Lt(y)||Ue(y)||gn(y)||/windows phone/i.test(y)||At(y)}function re(y,p=[]){let m;switch(y){case"Browser":m=Z((0,O.z$)());break;case"Worker":m=`${Z((0,O.z$)())}-${y}`;break;default:m=y}const b=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${ae.SDK_VERSION}/${b}`}function Pe(){return(Pe=(0,l.Z)(function*(y){return(yield He(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Fe(y,p){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,l.Z)(function*(y,p){return He(y,"GET","/v2/recaptchaConfig",Ft(y,p))})).apply(this,arguments)}function Vt(y){return void 0!==y&&void 0!==y.getResponse}function cn(y){return void 0!==y&&void 0!==y.enterprise}class Pn{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(m=>"EMAIL_PASSWORD_PROVIDER"===m.provider&&"OFF"!==m.enforcementState)}}function Ni(y){return new Promise((p,m)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=p,b.onerror=S=>{const R=pe("internal-error");R.customData=S,m(R)},b.type="text/javascript",b.charset="UTF-8",function Qt(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(b)})}function vr(y){return`__${y}${Math.floor(1e6*Math.random())}`}class In{constructor(p){this.type="recaptcha-enterprise",this.auth=un(p)}verify(p="verify",m=!1){var b=this;return(0,l.Z)(function*(){function R(){return R=(0,l.Z)(function*(K){if(!m){if(null==K.tenantId&&null!=K._agentRecaptchaConfig)return K._agentRecaptchaConfig.siteKey;if(null!=K.tenantId&&void 0!==K._tenantRecaptchaConfigs[K.tenantId])return K._tenantRecaptchaConfigs[K.tenantId].siteKey}return new Promise(function(){var Re=(0,l.Z)(function*(ze,et){Fe(K,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(at=>{if(void 0!==at.recaptchaKey){const kn=new Pn(at);return null==K.tenantId?K._agentRecaptchaConfig=kn:K._tenantRecaptchaConfigs[K.tenantId]=kn,ze(kn.siteKey)}et(new Error("recaptcha Enterprise site key undefined"))}).catch(at=>{et(at)})});return function(ze,et){return Re.apply(this,arguments)}}())}),R.apply(this,arguments)}function j(K,Re,ze){const et=window.grecaptcha;cn(et)?et.enterprise.ready(()=>{et.enterprise.execute(K,{action:p}).then(at=>{Re(at)}).catch(()=>{Re("NO_RECAPTCHA")})}):ze(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((K,Re)=>{(function S(K){return R.apply(this,arguments)})(b.auth).then(ze=>{if(!m&&cn(window.grecaptcha))j(ze,K,Re);else{if(typeof window>"u")return void Re(new Error("RecaptchaVerifier is only supported in browser"));Ni("https://www.google.com/recaptcha/enterprise.js?render="+ze).then(()=>{j(ze,K,Re)}).catch(et=>{Re(et)})}}).catch(ze=>{Re(ze)})})})()}}function as(y,p,m){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,l.Z)(function*(y,p,m,b=!1){const S=new In(y);let R;try{R=yield S.verify(m)}catch{R=yield S.verify(m,!0)}const j=Object.assign({},p);return Object.assign(j,b?{captchaResp:R}:{captchaResponse:R}),Object.assign(j,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(j,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),j})).apply(this,arguments)}class mo{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const b=R=>new Promise((j,K)=>{try{j(p(R))}catch(Re){K(Re)}});b.onAbort=m,this.queue.push(b);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,l.Z)(function*(){if(m.auth.currentUser===p)return;const b=[];try{for(const S of m.queue)yield S(p),S.onAbort&&b.push(S.onAbort)}catch(S){b.reverse();for(const R of b)try{R()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:S?.message})}})()}}class qc{constructor(p,m,b,S){this.app=p,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=b,this.config=S,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Us(this),this.idTokenSubscription=new Us(this),this.beforeStateQueue=new mo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ve,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=S.sdkClientVersion}_initializeWithPersistence(p,m){var b=this;return m&&(this._popupRedirectResolver=$n(m)),this._initializationPromise=this.queue((0,l.Z)(function*(){var S,R;if(!b._deleted&&(b.persistenceManager=yield U.create(b,p),!b._deleted)){if(null!==(S=b._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(R=b.currentUser)||void 0===R?void 0:R.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,l.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,l.Z)(function*(){var b;const S=yield m.assertedPersistence.getCurrentUser();let R=S,j=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const K=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,Re=R?._redirectEventId,ze=yield m.tryRedirectSignIn(p);(!K||K===Re)&&ze?.user&&(R=ze.user,j=!0)}if(!R)return m.directlySetCurrentUser(null);if(!R._redirectEventId){if(j)try{yield m.beforeStateQueue.runMiddleware(R)}catch(K){R=S,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(K))}return R?m.reloadAndSetCurrentUserOrClear(R):m.directlySetCurrentUser(null)}return ee(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===R._redirectEventId?m.directlySetCurrentUser(R):m.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(p){var m=this;return(0,l.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,l.Z)(function*(){try{yield ni(p)}catch(b){if("auth/network-request-failed"!==b?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Se(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,l.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,l.Z)(function*(){const b=p?(0,O.m9)(p):null;return b&&ee(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(p,m=!1){var b=this;return(0,l.Z)(function*(){if(!b._deleted)return p&&ee(b.tenantId===p.tenantId,b,"tenant-id-mismatch"),m||(yield b.beforeStateQueue.runMiddleware(p)),b.queue((0,l.Z)(function*(){yield b.directlySetCurrentUser(p),b.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,l.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,l.Z)(function*(){yield m.assertedPersistence.setPersistence($n(p))}))}initializeRecaptchaConfig(){var p=this;return(0,l.Z)(function*(){const m=yield Fe(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),b=new Pn(m);null==p.tenantId?p._agentRecaptchaConfig=b:p._tenantRecaptchaConfigs[p.tenantId]=b,b.emailPasswordEnabled&&new In(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new O.LL("auth","Firebase",p())}onAuthStateChanged(p,m,b){return this.registerStateListener(this.authStateSubscription,p,m,b)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,b){return this.registerStateListener(this.idTokenSubscription,p,m,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var b=this;return(0,l.Z)(function*(){const S=yield b.getOrInitRedirectPersistenceManager(m);return null===p?S.removeCurrentUser():S.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,l.Z)(function*(){if(!m.redirectPersistenceManager){const b=p&&$n(p)||m._popupRedirectResolver;ee(b,m,"argument-error"),m.redirectPersistenceManager=yield U.create(m,[$n(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,l.Z)(function*(){var b,S;return m._isInitialized&&(yield m.queue((0,l.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===p?m._currentUser:(null===(S=m.redirectUser)||void 0===S?void 0:S._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,l.Z)(function*(){if(p===m.currentUser)return m.queue((0,l.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,b,S){if(this._deleted)return()=>{};const R="function"==typeof m?m:m.next.bind(m),j=this._isInitialized?Promise.resolve():this._initializationPromise;return ee(j,this,"internal-error"),j.then(()=>R(this.currentUser)),"function"==typeof m?p.addObserver(m,b,S):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,l.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=re(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,l.Z)(function*(){var m;const b={"X-Client-Version":p.clientVersion};p.app.options.appId&&(b["X-Firebase-gmpid"]=p.app.options.appId);const S=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();S&&(b["X-Firebase-Client"]=S);const R=yield p._getAppCheckToken();return R&&(b["X-Firebase-AppCheck"]=R),b})()}_getAppCheckToken(){var p=this;return(0,l.Z)(function*(){var m;const b=yield null===(m=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return b?.error&&function Tt(y,...p){yt.logLevel<=ue.in.WARN&&yt.warn(`Auth (${ae.SDK_VERSION}): ${y}`,...p)}(`Error while retrieving App Check token: ${b.error}`),b?.token})()}}function un(y){return(0,O.m9)(y)}class Us{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,O.ne)(m=>this.observer=m)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ui(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function Jo(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class Es{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return Mt("not implemented")}_getIdTokenResponse(p){return Mt("not implemented")}_linkToIdToken(p,m){return Mt("not implemented")}_getReauthenticationResolver(p){return Mt("not implemented")}}function Ur(y,p){return ea.apply(this,arguments)}function ea(){return(ea=(0,l.Z)(function*(y,p){return He(y,"POST","/v1/accounts:resetPassword",Ft(y,p))})).apply(this,arguments)}function gd(y,p){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,l.Z)(function*(y,p){return He(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function _d(y,p){return Ef.apply(this,arguments)}function Ef(){return(Ef=(0,l.Z)(function*(y,p){return He(y,"POST","/v1/accounts:update",Ft(y,p))})).apply(this,arguments)}function Sn(y,p){return yd.apply(this,arguments)}function yd(){return(yd=(0,l.Z)(function*(y,p){return On(y,"POST","/v1/accounts:signInWithPassword",Ft(y,p))})).apply(this,arguments)}function Wc(y,p){return vd.apply(this,arguments)}function vd(){return(vd=(0,l.Z)(function*(y,p){return He(y,"POST","/v1/accounts:sendOobCode",Ft(y,p))})).apply(this,arguments)}function Cf(y,p){return bd.apply(this,arguments)}function bd(){return(bd=(0,l.Z)(function*(y,p){return Wc(y,p)})).apply(this,arguments)}function Vl(y,p){return If.apply(this,arguments)}function If(){return(If=(0,l.Z)(function*(y,p){return Wc(y,p)})).apply(this,arguments)}function wd(y,p){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,l.Z)(function*(y,p){return Wc(y,p)})).apply(this,arguments)}function cg(y,p){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,l.Z)(function*(y,p){return Wc(y,p)})).apply(this,arguments)}function Yc(){return(Yc=(0,l.Z)(function*(y,p){return On(y,"POST","/v1/accounts:signInWithEmailLink",Ft(y,p))})).apply(this,arguments)}function Tf(){return(Tf=(0,l.Z)(function*(y,p){return On(y,"POST","/v1/accounts:signInWithEmailLink",Ft(y,p))})).apply(this,arguments)}class Qc extends Es{constructor(p,m,b,S=null){super("password",b),this._email=p,this._password=m,this._tenantId=S}static _fromEmailAndPassword(p,m){return new Qc(p,m,"password")}static _fromEmailAndCode(p,m,b=null){return new Qc(p,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,l.Z)(function*(){var b;switch(m.signInMethod){case"password":const S={returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(b=p._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const R=yield as(p,S,"signInWithPassword");return Sn(p,R)}return Sn(p,S).catch(function(){var R=(0,l.Z)(function*(j){if("auth/missing-recaptcha-token"===j.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const K=yield as(p,S,"signInWithPassword");return Sn(p,K)}return Promise.reject(j)});return function(j){return R.apply(this,arguments)}}());case"emailLink":return function Ed(y,p){return Yc.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Ce(p,"internal-error")}})()}_linkToIdToken(p,m){var b=this;return(0,l.Z)(function*(){switch(b.signInMethod){case"password":return gd(p,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function Cd(y,p){return Tf.apply(this,arguments)}(p,{idToken:m,email:b._email,oobCode:b._password});default:Ce(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Br(y,p){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,l.Z)(function*(y,p){return On(y,"POST","/v1/accounts:signInWithIdp",Ft(y,p))})).apply(this,arguments)}class br extends Es{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new br(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Ce("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:S}=m,R=(0,oe._T)(m,["providerId","signInMethod"]);if(!b||!S)return null;const j=new br(b,S);return j.idToken=R.idToken||void 0,j.accessToken=R.accessToken||void 0,j.secret=R.secret,j.nonce=R.nonce,j.pendingToken=R.pendingToken||null,j}_getIdTokenResponse(p){return Br(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,Br(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Br(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,O.xO)(m)}return p}}function go(y,p){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,l.Z)(function*(y,p){return He(y,"POST","/v1/accounts:sendVerificationCode",Ft(y,p))})).apply(this,arguments)}function Bl(){return(Bl=(0,l.Z)(function*(y,p){return On(y,"POST","/v1/accounts:signInWithPhoneNumber",Ft(y,p))})).apply(this,arguments)}function _o(){return(_o=(0,l.Z)(function*(y,p){const m=yield On(y,"POST","/v1/accounts:signInWithPhoneNumber",Ft(y,p));if(m.temporaryProof)throw xi(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Hl={USER_NOT_FOUND:"user-not-found"};function vi(){return(vi=(0,l.Z)(function*(y,p){return On(y,"POST","/v1/accounts:signInWithPhoneNumber",Ft(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Hl)})).apply(this,arguments)}class Hi extends Es{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new Hi({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new Hi({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function Xc(y,p){return Bl.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function Sf(y,p){return _o.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Af(y,p){return vi.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:b,verificationCode:S}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:b,code:S}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:b,phoneNumber:S,temporaryProof:R}=p;return b||m||S||R?new Hi({verificationId:m,verificationCode:b,phoneNumber:S,temporaryProof:R}):null}}class $l{constructor(p){var m,b,S,R,j,K;const Re=(0,O.zd)((0,O.pd)(p)),ze=null!==(m=Re.apiKey)&&void 0!==m?m:null,et=null!==(b=Re.oobCode)&&void 0!==b?b:null,at=function Mf(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Re.mode)&&void 0!==S?S:null);ee(ze&&et&&at,"argument-error"),this.apiKey=ze,this.operation=at,this.code=et,this.continueUrl=null!==(R=Re.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(j=Re.languageCode)&&void 0!==j?j:null,this.tenantId=null!==(K=Re.tenantId)&&void 0!==K?K:null}static parseLink(p){const m=function jl(y){const p=(0,O.zd)((0,O.pd)(y)).link,m=p?(0,O.zd)((0,O.pd)(p)).deep_link_id:null,b=(0,O.zd)((0,O.pd)(y)).deep_link_id;return(b?(0,O.zd)((0,O.pd)(b)).link:null)||b||m||p||y}(p);try{return new $l(m)}catch{return null}}}let zn=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,b){return Qc._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const S=$l.parseLink(b);return ee(S,"argument-error"),Qc._fromEmailAndCode(m,S.code,S.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Is{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class zl extends Is{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class wr extends zl{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return ee("providerId"in m&&"signInMethod"in m,"argument-error"),br._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return ee(p.idToken||p.accessToken,"argument-error"),br._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return wr.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return wr.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:S,pendingToken:R,nonce:j,providerId:K}=p;if(!b&&!S&&!m&&!R||!K)return null;try{return new wr(K)._credential({idToken:m,accessToken:b,nonce:j,pendingToken:R})}catch{return null}}}let Yi=(()=>{class y extends zl{constructor(){super("facebook.com")}static credential(m){return br._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Jc=(()=>{class y extends zl{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return br._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:S}=m;if(!b&&!S)return null;try{return y.credential(b,S)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Gl=(()=>{class y extends zl{constructor(){super("github.com")}static credential(m){return br._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Gn extends Es{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return Br(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,Br(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Br(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:S,pendingToken:R}=m;return b&&S&&R&&b===S?new Gn(b,R):null}static _create(p,m){return new Gn(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Bs extends Is{constructor(p){ee(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Bs.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Bs.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=Gn.fromJSON(p);return ee(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:b}=p;if(!m||!b)return null;try{return Gn._create(b,m)}catch{return null}}}let Id=(()=>{class y extends zl{constructor(){super("twitter.com")}static credential(m,b){return br._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:S}=m;if(!b||!S)return null;try{return y.credential(b,S)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Hr(y,p){return yo.apply(this,arguments)}function yo(){return(yo=(0,l.Z)(function*(y,p){return On(y,"POST","/v1/accounts:signUp",Ft(y,p))})).apply(this,arguments)}class lr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,b,S=!1){return(0,l.Z)(function*(){const R=yield Oi._fromIdTokenResponse(p,b,S),j=Et(b);return new lr({user:R,providerId:j,_tokenResponse:b,operationType:m})})()}static _forOperation(p,m,b){return(0,l.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const S=Et(b);return new lr({user:p,providerId:S,_tokenResponse:b,operationType:m})})()}}function Et(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Td(){return(Td=(0,l.Z)(function*(y){var p;const m=un(y);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new lr({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield Hr(m,{returnSecureToken:!0}),S=yield lr._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class Ha extends O.ZR{constructor(p,m,b,S){var R;super(m.code,m.message),this.operationType=b,this.user=S,Object.setPrototypeOf(this,Ha.prototype),this.customData={appName:p.name,tenantId:null!==(R=p.tenantId)&&void 0!==R?R:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,m,b,S){return new Ha(p,m,b,S)}}function Dd(y,p,m,b){return("reauthenticate"===p?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?Ha._fromErrorAndOperation(y,R,p,b):R})}function eu(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function ja(){return(ja=(0,l.Z)(function*(y,p){const m=(0,O.m9)(y);yield Kt(!0,m,p);const{providerUserInfo:b}=yield Va(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),S=eu(b||[]);return m.providerData=m.providerData.filter(R=>S.has(R.providerId)),S.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Ad(y,p){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,l.Z)(function*(y,p,m=!1){const b=yield it(y,p._linkToIdToken(y.auth,yield y.getIdToken()),m);return lr._forOperation(y,"link",b)})).apply(this,arguments)}function Kt(y,p,m){return cs.apply(this,arguments)}function cs(){return(cs=(0,l.Z)(function*(y,p,m){yield ni(p);const S=!1===y?"provider-already-linked":"no-such-provider";ee(eu(p.providerData).has(m)===y,p.auth,S)})).apply(this,arguments)}function $a(y,p){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,l.Z)(function*(y,p,m=!1){const{auth:b}=y,S="reauthenticate";try{const R=yield it(y,Dd(b,S,p,y),m);ee(R.idToken,b,"internal-error");const j=Mn(R.idToken);ee(j,b,"internal-error");const{sub:K}=j;return ee(y.uid===K,b,"user-mismatch"),lr._forOperation(y,S,R)}catch(R){throw"auth/user-not-found"===R?.code&&Ce(b,"user-mismatch"),R}})).apply(this,arguments)}function ql(y,p){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,l.Z)(function*(y,p,m=!1){const b="signIn",S=yield Dd(y,b,p),R=yield lr._fromIdTokenResponse(y,b,S);return m||(yield y._updateCurrentUser(R.user)),R})).apply(this,arguments)}function ji(y,p){return vo.apply(this,arguments)}function vo(){return(vo=(0,l.Z)(function*(y,p){return ql(un(y),p)})).apply(this,arguments)}function tu(y,p){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,l.Z)(function*(y,p){const m=(0,O.m9)(y);return yield Kt(!1,m,p.providerId),Ad(m,p)})).apply(this,arguments)}function xn(y,p){return xf.apply(this,arguments)}function xf(){return(xf=(0,l.Z)(function*(y,p){return $a((0,O.m9)(y),p)})).apply(this,arguments)}function bi(y,p){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,l.Z)(function*(y,p){return On(y,"POST","/v1/accounts:signInWithCustomToken",Ft(y,p))})).apply(this,arguments)}function nu(){return(nu=(0,l.Z)(function*(y,p){const m=un(y),b=yield bi(m,{token:p,returnSecureToken:!0}),S=yield lr._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class jr{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?Er._fromServerResponse(p,m):"totpInfo"in m?Wl._fromServerResponse(p,m):Ce(p,"internal-error")}}class Er extends jr{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new Er(m)}}class Wl extends jr{constructor(p){super("totp",p)}static _fromServerResponse(p,m){return new Wl(m)}}function Hs(y,p,m){var b;ee((null===(b=m.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),ee(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(ee(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(ee(m.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function ta(){return ta=(0,l.Z)(function*(y,p,m){var b;const S=un(y),R={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(b=S._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const j=yield as(S,R,"getOobCode",!0);m&&Hs(S,j,m),yield Vl(S,j)}else m&&Hs(S,R,m),yield Vl(S,R).catch(function(){var j=(0,l.Z)(function*(K){if("auth/missing-recaptcha-token"!==K.code)return Promise.reject(K);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Re=yield as(S,R,"getOobCode",!0);m&&Hs(S,Re,m),yield Vl(S,Re)}});return function(K){return j.apply(this,arguments)}}())}),ta.apply(this,arguments)}function za(){return(za=(0,l.Z)(function*(y,p,m){yield Ur((0,O.m9)(y),{oobCode:p,newPassword:m})})).apply(this,arguments)}function $r(){return($r=(0,l.Z)(function*(y,p){yield _d((0,O.m9)(y),{oobCode:p})})).apply(this,arguments)}function xd(y,p){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,l.Z)(function*(y,p){const m=(0,O.m9)(y),b=yield Ur(m,{oobCode:p}),S=b.requestType;switch(ee(S,m,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ee(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ee(b.mfaInfo,m,"internal-error");default:ee(b.email,m,"internal-error")}let R=null;return b.mfaInfo&&(R=jr._fromServerResponse(un(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:R},operation:S}})).apply(this,arguments)}function bo(){return(bo=(0,l.Z)(function*(y,p){const{data:m}=yield xd((0,O.m9)(y),p);return m.email})).apply(this,arguments)}function qa(){return qa=(0,l.Z)(function*(y,p,m){var b;const S=un(y),R={returnSecureToken:!0,email:p,password:m,clientType:"CLIENT_TYPE_WEB"};let j;if(null!==(b=S._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const ze=yield as(S,R,"signUpPassword");j=Hr(S,ze)}else j=Hr(S,R).catch(function(){var ze=(0,l.Z)(function*(et){if("auth/missing-recaptcha-token"===et.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const at=yield as(S,R,"signUpPassword");return Hr(S,at)}return Promise.reject(et)});return function(et){return ze.apply(this,arguments)}}());const K=yield j.catch(ze=>Promise.reject(ze)),Re=yield lr._fromIdTokenResponse(S,"signIn",K);return yield S._updateCurrentUser(Re.user),Re}),qa.apply(this,arguments)}function Od(){return Od=(0,l.Z)(function*(y,p,m){var b;const S=un(y),R={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function j(K,Re){ee(Re.handleCodeInApp,S,"argument-error"),Re&&Hs(S,K,Re)}if(null!==(b=S._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const K=yield as(S,R,"getOobCode",!0);j(K,m),yield wd(S,K)}else j(R,m),yield wd(S,R).catch(function(){var K=(0,l.Z)(function*(Re){if("auth/missing-recaptcha-token"!==Re.code)return Promise.reject(Re);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ze=yield as(S,R,"getOobCode",!0);j(ze,m),yield wd(S,ze)}});return function(Re){return K.apply(this,arguments)}}())}),Od.apply(this,arguments)}function Ds(){return(Ds=(0,l.Z)(function*(y,p,m){const b=(0,O.m9)(y),S=zn.credentialWithLink(p,m||Zt());return ee(S._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),ji(b,S)})).apply(this,arguments)}function Un(y,p){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,l.Z)(function*(y,p){return He(y,"POST","/v1/accounts:createAuthUri",Ft(y,p))})).apply(this,arguments)}function Nd(){return(Nd=(0,l.Z)(function*(y,p){const b={identifier:p,continueUri:ct()?Zt():"http://localhost"},{signinMethods:S}=yield Un((0,O.m9)(y),b);return S||[]})).apply(this,arguments)}function Ld(){return(Ld=(0,l.Z)(function*(y,p){const m=(0,O.m9)(y),S={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&Hs(m.auth,S,p);const{email:R}=yield Cf(m.auth,S);R!==y.email&&(yield y.reload())})).apply(this,arguments)}function wo(){return(wo=(0,l.Z)(function*(y,p,m){const b=(0,O.m9)(y),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};m&&Hs(b.auth,R,m);const{email:j}=yield cg(b.auth,R);j!==y.email&&(yield y.reload())})).apply(this,arguments)}function Xl(y,p){return js.apply(this,arguments)}function js(){return(js=(0,l.Z)(function*(y,p){return He(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Za(){return(Za=(0,l.Z)(function*(y,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const b=(0,O.m9)(y),R={idToken:yield b.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},j=yield it(b,Xl(b.auth,R));b.displayName=j.displayName||null,b.photoURL=j.photoUrl||null;const K=b.providerData.find(({providerId:Re})=>"password"===Re);K&&(K.displayName=b.displayName,K.photoURL=b.photoURL),yield b._updateTokensIfNecessary(j)})).apply(this,arguments)}function Wa(y,p,m){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,l.Z)(function*(y,p,m){const{auth:b}=y,R={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(R.email=p),m&&(R.password=m);const j=yield it(y,gd(b,R));yield y._updateTokensIfNecessary(j,!0)})).apply(this,arguments)}class As{constructor(p,m,b={}){this.isNewUser=p,this.providerId=m,this.profile=b}}class Ka extends As{constructor(p,m,b,S){super(p,m,b),this.username=S}}class Pf extends As{constructor(p,m){super(p,"facebook.com",m)}}class Bd extends Ka{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Hd extends As{constructor(p,m){super(p,"google.com",m)}}class ec extends Ka{constructor(p,m,b){super(p,"twitter.com",m,b)}}function tc(y){const{user:p,_tokenResponse:m}=y;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function dg(y){var p,m;if(!y)return null;const{providerId:b}=y,S=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},R=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&y?.idToken){const j=null===(m=null===(p=Mn(y.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(j)return new As(R,"anonymous"!==j&&"custom"!==j?j:null)}if(!b)return null;switch(b){case"facebook.com":return new Pf(R,S);case"github.com":return new Bd(R,S);case"google.com":return new Hd(R,S);case"twitter.com":return new ec(R,S,y.screenName||null);case"custom":case"anonymous":return new As(R,null);default:return new As(R,b,S)}}(m)}class hs{constructor(p,m,b){this.type=p,this.credential=m,this.auth=b}static _fromIdtoken(p,m){return new hs("enroll",p,m)}static _fromMfaPendingCredential(p){return new hs("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,b;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return hs._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(b=p.multiFactorSession)&&void 0!==b&&b.idToken)return hs._fromIdtoken(p.multiFactorSession.idToken)}return null}}class $s{constructor(p,m,b){this.session=p,this.hints=m,this.signInResolver=b}static _fromError(p,m){const b=un(p),S=m.customData._serverResponse,R=(S.mfaInfo||[]).map(K=>jr._fromServerResponse(b,K));ee(S.mfaPendingCredential,b,"internal-error");const j=hs._fromMfaPendingCredential(S.mfaPendingCredential);return new $s(j,R,function(){var K=(0,l.Z)(function*(Re){const ze=yield Re._process(b,j);delete S.mfaInfo,delete S.mfaPendingCredential;const et=Object.assign(Object.assign({},S),{idToken:ze.idToken,refreshToken:ze.refreshToken});switch(m.operationType){case"signIn":const at=yield lr._fromIdTokenResponse(b,m.operationType,et);return yield b._updateCurrentUser(at.user),at;case"reauthenticate":return ee(m.user,b,"internal-error"),lr._forOperation(m.user,m.operationType,et);default:Ce(b,"internal-error")}});return function(Re){return K.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,l.Z)(function*(){return m.signInResolver(p)})()}}function su(y,p){return He(y,"POST","/v2/accounts/mfaEnrollment:start",Ft(y,p))}class ii{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>jr._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new ii(p)}getSession(){var p=this;return(0,l.Z)(function*(){return hs._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var b=this;return(0,l.Z)(function*(){const S=p,R=yield b.getSession(),j=yield it(b.user,S._process(b.user.auth,R,m));return yield b.user._updateTokensIfNecessary(j),b.user.reload()})()}unenroll(p){var m=this;return(0,l.Z)(function*(){const b="string"==typeof p?p:p.uid,S=yield m.user.getIdToken();try{const R=yield it(m.user,function au(y,p){return He(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Ft(y,p))}(m.user.auth,{idToken:S,mfaEnrollmentId:b}));m.enrolledFactors=m.enrolledFactors.filter(({uid:j})=>j!==b),yield m.user._updateTokensIfNecessary(R),yield m.user.reload()}catch(R){throw R}})()}}const ra=new WeakMap,Eo="__sak";class sc{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Eo,"1"),this.storage.removeItem(Eo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const fs=(()=>{class y extends sc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ff(){const y=(0,O.z$)();return Y(y)||ut(y)}()&&function Vr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Cn(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const S=this.storage.getItem(b),R=this.localCache[b];S!==R&&m(b,R,S)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((K,Re,ze)=>{this.notifyListeners(K,ze)});const S=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const K=this.storage.getItem(S);if(m.newValue!==K)null!==m.newValue?this.storage.setItem(S,m.newValue):this.storage.removeItem(S);else if(this.localCache[S]===m.newValue&&!b)return}const R=()=>{const K=this.storage.getItem(S);!b&&this.localCache[S]===K||this.notifyListeners(S,K)},j=this.storage.getItem(S);!function Pi(){return(0,O.w1)()&&10===document.documentMode}()||j===m.newValue||m.newValue===m.oldValue?R():setTimeout(R,10)}notifyListeners(m,b){this.localCache[m]=b;const S=this.listeners[m];if(S)for(const R of Array.from(S))R(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var S=()=>super._set,R=this;return(0,l.Z)(function*(){yield S().call(R,m,b),R.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,S=this;return(0,l.Z)(function*(){const R=yield b().call(S,m);return S.localCache[m]=JSON.stringify(R),R})()}_remove(m){var b=()=>super._remove,S=this;return(0,l.Z)(function*(){yield b().call(S,m),delete S.localCache[m]})()}}return y.type="LOCAL",y})(),zs=(()=>{class y extends sc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return y.type="SESSION",y})();let $d=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(R=>R.isListeningto(m));if(b)return b;const S=new y(m);return this.receivers.push(S),S}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,l.Z)(function*(){const S=m,{eventId:R,eventType:j,data:K}=S.data,Re=b.handlersMap[j];if(!Re?.size)return;S.ports[0].postMessage({status:"ack",eventId:R,eventType:j});const ze=Array.from(Re).map(function(){var at=(0,l.Z)(function*(kn){return kn(S.origin,K)});return function(kn){return at.apply(this,arguments)}}()),et=yield function jd(y){return Promise.all(y.map(function(){var p=(0,l.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return p.apply(this,arguments)}}()))}(ze);S.ports[0].postMessage({status:"done",eventId:R,eventType:j,response:et})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function zr(y="",p=10){let m="";for(let b=0;b<p;b++)m+=Math.floor(10*Math.random());return y+m}class Lf{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,b=50){var S=this;return(0,l.Z)(function*(){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let j,K;return new Promise((Re,ze)=>{const et=zr("",20);R.port1.start();const at=setTimeout(()=>{ze(new Error("unsupported_event"))},b);K={messageChannel:R,onMessage(kn){const Kr=kn;if(Kr.data.eventId===et)switch(Kr.data.status){case"ack":clearTimeout(at),j=setTimeout(()=>{ze(new Error("timeout"))},3e3);break;case"done":clearTimeout(j),Re(Kr.data.response);break;default:clearTimeout(at),clearTimeout(j),ze(new Error("invalid_response"))}}},S.handlers.add(K),R.port1.addEventListener("message",K.onMessage),S.target.postMessage({eventType:p,eventId:et,data:m},[R.port2])}).finally(()=>{K&&S.removeMessageHandler(K)})})()}}function Bn(){return window}function tl(){return typeof Bn().WorkerGlobalScope<"u"&&"function"==typeof Bn().importScripts}function oc(){return(oc=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const xs="firebaseLocalStorageDb",aa="firebaseLocalStorage",Gs="fbase_key";class la{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function nl(y,p){return y.transaction([aa],p?"readwrite":"readonly").objectStore(aa)}function uu(){const y=indexedDB.open(xs,1);return new Promise((p,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore(aa,{keyPath:Gs})}catch(S){m(S)}}),y.addEventListener("success",(0,l.Z)(function*(){const b=y.result;b.objectStoreNames.contains(aa)?p(b):(b.close(),yield function hn(){const y=indexedDB.deleteDatabase(xs);return new la(y).toPromise()}(),p(yield uu()))}))})}function il(y,p,m){return Vf.apply(this,arguments)}function Vf(){return(Vf=(0,l.Z)(function*(y,p,m){const b=nl(y,!0).put({[Gs]:p,value:m});return new la(b).toPromise()})).apply(this,arguments)}function Uf(){return(Uf=(0,l.Z)(function*(y,p){const m=nl(y,!1).get(p),b=yield new la(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function du(y,p){const m=nl(y,!0).delete(p);return new la(m).toPromise()}const ca=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,l.Z)(function*(){return m.db||(m.db=yield uu()),m.db})()}_withRetries(m){var b=this;return(0,l.Z)(function*(){let S=0;for(;;)try{const R=yield b._openDb();return yield m(R)}catch(R){if(S++>3)throw R;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,l.Z)(function*(){return tl()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,l.Z)(function*(){m.receiver=$d._getInstance(function oa(){return tl()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,l.Z)(function*(S,R){return{keyProcessed:(yield m._poll()).includes(R.key)}});return function(S,R){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,l.Z)(function*(S,R){return["keyChanged"]});return function(S,R){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,l.Z)(function*(){var b,S;if(m.activeServiceWorker=yield function cu(){return oc.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Lf(m.activeServiceWorker);const R=yield m.sender._send("ping",{},800);!R||(null===(b=R[0])||void 0===b?void 0:b.fulfilled)&&(null===(S=R[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,l.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Ms(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const m=yield uu();return yield il(m,Eo,"1"),yield du(m,Eo),!0}catch{}return!1})()}_withPendingWrite(m){var b=this;return(0,l.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var S=this;return(0,l.Z)(function*(){return S._withPendingWrite((0,l.Z)(function*(){return yield S._withRetries(R=>il(R,m,b)),S.localCache[m]=b,S.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,l.Z)(function*(){const S=yield b._withRetries(R=>function Gd(y,p){return Uf.apply(this,arguments)}(R,m));return b.localCache[m]=S,S})()}_remove(m){var b=this;return(0,l.Z)(function*(){return b._withPendingWrite((0,l.Z)(function*(){return yield b._withRetries(S=>du(S,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,l.Z)(function*(){const b=yield m._withRetries(j=>{const K=nl(j,!1).getAll();return new la(K).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const S=[],R=new Set;for(const{fbase_key:j,value:K}of b)R.add(j),JSON.stringify(m.localCache[j])!==JSON.stringify(K)&&(m.notifyListeners(j,K),S.push(j));for(const j of Object.keys(m.localCache))m.localCache[j]&&!R.has(j)&&(m.notifyListeners(j,null),S.push(j));return S})()}notifyListeners(m,b){this.localCache[m]=b;const S=this.listeners[m];if(S)for(const R of Array.from(S))R(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Zn(y,p){return He(y,"POST","/v2/accounts/mfaSignIn:start",Ft(y,p))}const di=1e12;class Ir{constructor(p){this.auth=p,this.counter=di,this._widgets=new Map}render(p,m){const b=this.counter;return this._widgets.set(b,new Hf(p,this.auth.name,m||{})),this.counter++,b}reset(p){var m;const b=p||di;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(p){var m;return(null===(m=this._widgets.get(p||di))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,l.Z)(function*(){var b;return null===(b=m._widgets.get(p||di))||void 0===b||b.execute(),""})()}}class Hf{constructor(p,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof p?document.getElementById(p):p;ee(S,"argument-error",{appName:m}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Tr(y){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<y;b++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Io=vr("rcb"),fu=new ke(3e4,6e4);class jf{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Bn().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return ee(function pg(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),p,"argument-error"),this.shouldResolveImmediately(m)&&Vt(Bn().grecaptcha)?Promise.resolve(Bn().grecaptcha):new Promise((b,S)=>{const R=Bn().setTimeout(()=>{S(pe(p,"network-request-failed"))},fu.get());Bn()[Io]=()=>{Bn().clearTimeout(R),delete Bn()[Io];const K=Bn().grecaptcha;if(!K||!Vt(K))return void S(pe(p,"internal-error"));const Re=K.render;K.render=(ze,et)=>{const at=Re(ze,et);return this.counter++,at},this.hostLanguage=m,b(K)},Ni(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:Io,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(R),S(pe(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=Bn().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class qs{load(p){return(0,l.Z)(function*(){return new Ir(p)})()}clearedOneInstance(){}}const ac="recaptcha",Dr={theme:"light",type:"image"};class qd{constructor(p,m=Object.assign({},Dr),b){this.parameters=m,this.type=ac,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=un(b),this.isInvisible="invisible"===this.parameters.size,ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof p?document.getElementById(p):p;ee(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new qs:new jf,this.validateStartingState()}verify(){var p=this;return(0,l.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(m)||new Promise(R=>{const j=K=>{!K||(p.tokenChangeListeners.delete(j),R(K))};p.tokenChangeListeners.add(j),p.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){ee(!this.parameters.sitekey,this.auth,"argument-error"),ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof p)p(m);else if("string"==typeof p){const b=Bn()[p];"function"==typeof b&&b(m)}}}assertNotDestroyed(){ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,l.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,l.Z)(function*(){ee(ct()&&!tl(),p.auth,"internal-error"),yield function sl(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function te(y){return Pe.apply(this,arguments)}(p.auth);ee(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class mg{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=Hi._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function Zd(){return(Zd=(0,l.Z)(function*(y,p,m){const b=un(y),S=yield Kd(b,p,(0,O.m9)(m));return new mg(S,R=>ji(b,R))})).apply(this,arguments)}function ol(){return(ol=(0,l.Z)(function*(y,p,m){const b=(0,O.m9)(y);yield Kt(!1,b,"phone");const S=yield Kd(b.auth,p,(0,O.m9)(m));return new mg(S,R=>tu(b,R))})).apply(this,arguments)}function ua(){return(ua=(0,l.Z)(function*(y,p,m){const b=(0,O.m9)(y),S=yield Kd(b.auth,p,(0,O.m9)(m));return new mg(S,R=>xn(b,R))})).apply(this,arguments)}function Kd(y,p,m){return _n.apply(this,arguments)}function _n(){return(_n=(0,l.Z)(function*(y,p,m){var b;const S=yield m.verify();try{let R;if(ee("string"==typeof S,y,"argument-error"),ee(m.type===ac,y,"argument-error"),R="string"==typeof p?{phoneNumber:p}:p,"session"in R){const j=R.session;if("phoneNumber"in R)return ee("enroll"===j.type,y,"internal-error"),(yield su(y,{idToken:j.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{ee("signin"===j.type,y,"internal-error");const K=(null===(b=R.multiFactorHint)||void 0===b?void 0:b.uid)||R.multiFactorUid;return ee(K,y,"missing-multi-factor-info"),(yield Zn(y,{mfaPendingCredential:j.credential,mfaEnrollmentId:K,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:j}=yield go(y,{phoneNumber:R.phoneNumber,recaptchaToken:S});return j}}finally{m._reset()}})).apply(this,arguments)}function zf(){return(zf=(0,l.Z)(function*(y,p){yield Ad((0,O.m9)(y),p)})).apply(this,arguments)}let nn=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=un(m)}verifyPhoneNumber(m,b){return Kd(this.auth,m,(0,O.m9)(b))}static credential(m,b){return Hi._fromVerification(m,b)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:S}=m;return b&&S?Hi._fromTokenResponse(b,S):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Wn(y,p){return p?$n(p):(ee(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class To extends Es{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Br(p,this._buildIdpRequest())}_linkToIdToken(p,m){return Br(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return Br(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function Yd(y){return ql(y.auth,new To(y),y.bypassAuthState)}function Gf(y){const{auth:p,user:m}=y;return ee(m,p,"internal-error"),$a(m,new To(y),y.bypassAuthState)}function qf(y){return al.apply(this,arguments)}function al(){return(al=(0,l.Z)(function*(y){const{auth:p,user:m}=y;return ee(m,p,"internal-error"),Ad(m,new To(y),y.bypassAuthState)})).apply(this,arguments)}class da{constructor(p,m,b,S,R=!1){this.auth=p,this.resolver=b,this.user=S,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,l.Z)(function*(b,S){p.pendingPromise={resolve:b,reject:S};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(R){p.reject(R)}});return function(b,S){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,l.Z)(function*(){const{urlResponse:b,sessionId:S,postBody:R,tenantId:j,error:K,type:Re}=p;if(K)return void m.reject(K);const ze={auth:m.auth,requestUri:b,sessionId:S,tenantId:j||void 0,postBody:R||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Re)(ze))}catch(et){m.reject(et)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Yd;case"linkViaPopup":case"linkViaRedirect":return qf;case"reauthViaPopup":case"reauthViaRedirect":return Gf;default:Ce(this.auth,"internal-error")}}resolve(p){ht(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){ht(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Sr=new ke(2e3,1e4);function $t(){return($t=(0,l.Z)(function*(y,p,m){const b=un(y);je(y,p,Is);const S=Wn(b,m);return new cc(b,"signInViaPopup",p,S).executeNotNull()})).apply(this,arguments)}function lc(){return(lc=(0,l.Z)(function*(y,p,m){const b=(0,O.m9)(y);je(b.auth,p,Is);const S=Wn(b.auth,m);return new cc(b.auth,"reauthViaPopup",p,S,b).executeNotNull()})).apply(this,arguments)}function Rs(){return(Rs=(0,l.Z)(function*(y,p,m){const b=(0,O.m9)(y);je(b.auth,p,Is);const S=Wn(b.auth,m);return new cc(b.auth,"linkViaPopup",p,S,b).executeNotNull()})).apply(this,arguments)}let cc=(()=>{class y extends da{constructor(m,b,S,R,j){super(m,b,R,j),this.provider=S,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,l.Z)(function*(){const b=yield m.execute();return ee(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,l.Z)(function*(){ht(1===m.filter.length,"Popup operations only handle one event");const b=zr();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(S=>{m.reject(S)}),m.resolver._isIframeWebStorageSupported(m.auth,S=>{S||m.reject(pe(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(pe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,S;this.pollId=null!==(S=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(pe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,Sr.get())};m()}}return y.currentPopupAction=null,y})();const Zs=new Map;class Gr extends da{constructor(p,m,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,l.Z)(function*(){let b=Zs.get(m.auth._key());if(!b){try{const R=(yield function wi(y,p){return fa.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;b=()=>Promise.resolve(R)}catch(S){b=()=>Promise.reject(S)}Zs.set(m.auth._key(),b)}return m.bypassAuthState||Zs.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,b=this;return(0,l.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(b,p);if("unknown"!==p.type){if(p.eventId){const S=yield b.auth._redirectUserForId(p.eventId);if(S)return b.user=S,m().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function fa(){return(fa=(0,l.Z)(function*(y,p){const m=_u(p),b=Zr(y);if(!(yield b._isAvailable()))return!1;const S="true"===(yield b._get(m));return yield b._remove(m),S})).apply(this,arguments)}function qr(y,p){return ll.apply(this,arguments)}function ll(){return(ll=(0,l.Z)(function*(y,p){return Zr(y)._set(_u(p),"true")})).apply(this,arguments)}function pa(y,p){Zs.set(y._key(),p)}function Zr(y){return $n(y._redirectPersistence)}function _u(y){return H("pendingRedirect",y.config.apiKey,y.name)}function Rn(){return(Rn=(0,l.Z)(function*(y,p,m){const b=un(y);je(y,p,Is),yield b._initializationPromise;const S=Wn(b,m);return yield qr(S,b),S._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function Hn(){return(Hn=(0,l.Z)(function*(y,p,m){const b=(0,O.m9)(y);je(b.auth,p,Is),yield b.auth._initializationPromise;const S=Wn(b.auth,m);yield qr(S,b.auth);const R=yield vu(b);return S._openRedirect(b.auth,p,"reauthViaRedirect",R)})).apply(this,arguments)}function Qd(){return(Qd=(0,l.Z)(function*(y,p,m){const b=(0,O.m9)(y);je(b.auth,p,Is),yield b.auth._initializationPromise;const S=Wn(b.auth,m);yield Kt(!1,b,p.providerId),yield qr(S,b.auth);const R=yield vu(b);return S._openRedirect(b.auth,p,"linkViaRedirect",R)})).apply(this,arguments)}function cl(){return(cl=(0,l.Z)(function*(y,p){return yield un(y)._initializationPromise,ul(y,p,!1)})).apply(this,arguments)}function ul(y,p){return So.apply(this,arguments)}function So(){return(So=(0,l.Z)(function*(y,p,m=!1){const b=un(y),S=Wn(b,p),j=yield new Gr(b,S,m).execute();return j&&!m&&(delete j.user._redirectEventId,yield b._persistUserIfCurrent(j.user),yield b._setRedirectUser(null,p)),j})).apply(this,arguments)}function vu(y){return C.apply(this,arguments)}function C(){return(C=(0,l.Z)(function*(y){const p=zr(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class x{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(m=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Q(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return G(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var b;if(p.error&&!G(p)){const S=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(pe(this.auth,S))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const b=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(L(p))}saveEventToCache(p){this.cachedEventUids.add(L(p)),this.lastProcessedEventTime=Date.now()}}function L(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function G({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===p?.code}function be(y){return We.apply(this,arguments)}function We(){return(We=(0,l.Z)(function*(y,p={}){return He(y,"GET","/v1/projects",p)})).apply(this,arguments)}const Ye=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mt=/^https?/;function kt(){return(kt=(0,l.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield be(y);for(const m of p)try{if(Mr(m))return}catch{}Ce(y,"unauthorized-domain")})).apply(this,arguments)}function Mr(y){const p=Zt(),{protocol:m,hostname:b}=new URL(p);if(y.startsWith("chrome-extension://")){const j=new URL(y);return""===j.hostname&&""===b?"chrome-extension:"===m&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&j.hostname===b}if(!mt.test(m))return!1;if(Ye.test(y))return b===y;const S=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(b)}const Ei=new ke(3e4,6e4);function ma(){const y=Bn().___jsl;if(y?.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let ks=null;function ur(y){return ks=ks||function dl(y){return new Promise((p,m)=>{var b,S,R;function j(){ma(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{ma(),m(pe(y,"network-request-failed"))},timeout:Ei.get()})}if(null!==(S=null===(b=Bn().gapi)||void 0===b?void 0:b.iframes)&&void 0!==S&&S.Iframe)p(gapi.iframes.getContext());else{if(null===(R=Bn().gapi)||void 0===R||!R.load){const K=vr("iframefcb");return Bn()[K]=()=>{gapi.load?j():m(pe(y,"network-request-failed"))},Ni(`https://apis.google.com/js/api.js?onload=${K}`).catch(Re=>m(Re))}j()}}).catch(p=>{throw ks=null,p})}(y),ks}const Wr=new ke(5e3,15e3),Yf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Mo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lE(y){const p=y.config;ee(p.authDomain,y,"auth-domain-config-required");const m=p.emulator?Ve(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,b={apiKey:p.apiKey,appName:y.name,v:ae.SDK_VERSION},S=Mo.get(y.config.apiHost);S&&(b.eid=S);const R=y._getFrameworks();return R.length&&(b.fw=R.join(",")),`${m}?${(0,O.xO)(b).slice(1)}`}function hl(){return hl=(0,l.Z)(function*(y){const p=yield ur(y),m=Bn().gapi;return ee(m,y,"internal-error"),p.open({where:document.body,url:lE(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yf,dontclear:!0},b=>new Promise(function(){var S=(0,l.Z)(function*(R,j){yield b.restyle({setHideOnLeave:!1});const K=pe(y,"network-request-failed"),Re=Bn().setTimeout(()=>{j(K)},Wr.get());function ze(){Bn().clearTimeout(Re),R(b)}b.ping(ze).then(ze,()=>{j(K)})});return function(R,j){return S.apply(this,arguments)}}()))}),hl.apply(this,arguments)}const Xd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class _g{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const cv=encodeURIComponent("fac");function Jd(y,p,m,b,S,R){return Li.apply(this,arguments)}function Li(){return(Li=(0,l.Z)(function*(y,p,m,b,S,R){ee(y.config.authDomain,y,"auth-domain-config-required"),ee(y.config.apiKey,y,"invalid-api-key");const j={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:b,v:ae.SDK_VERSION,eventId:S};if(p instanceof Is){p.setDefaultLanguage(y.languageCode),j.providerId=p.providerId||"",(0,O.xb)(p.getCustomParameters())||(j.customParameters=JSON.stringify(p.getCustomParameters()));for(const[et,at]of Object.entries(R||{}))j[et]=at}if(p instanceof zl){const et=p.getScopes().filter(at=>""!==at);et.length>0&&(j.scopes=et.join(","))}y.tenantId&&(j.tid=y.tenantId);const K=j;for(const et of Object.keys(K))void 0===K[et]&&delete K[et];const Re=yield y._getAppCheckToken(),ze=Re?`#${cv}=${encodeURIComponent(Re)}`:"";return`${fc(y)}?${(0,O.xO)(K).slice(1)}${ze}`})).apply(this,arguments)}function fc({config:y}){return y.emulator?Ve(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}const eh="webStorageSupport";class fl extends class th{constructor(p){this.factorId=p}_process(p,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,b);case"signin":return this._finalizeSignIn(p,m.credential);default:return Mt("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new fl(p)}_finalizeEnroll(p,m,b){return function Cr(y,p){return He(y,"POST","/v2/accounts/mfaEnrollment:finalize",Ft(y,p))}(p,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function rl(y,p){return He(y,"POST","/v2/accounts/mfaSignIn:finalize",Ft(y,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let bu=(()=>{class y{constructor(){}static assertion(m){return fl._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var pc="@firebase/auth";class ih{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,l.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(b=>{p(b?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function pl(){return window}function ya(){return(ya=(0,l.Z)(function*(y,p,m){var b;const{BuildInfo:S}=pl();ht(p.sessionId,"AuthEvent did not contain a session ID");const R=yield Eg(p.sessionId),j={};return ut()?j.ibi=S.packageName:Lt()?j.apn=S.packageName:Ce(y,"operation-not-supported-in-this-environment"),S.displayName&&(j.appDisplayName=S.displayName),j.sessionId=R,Jd(y,m,p.type,void 0,null!==(b=p.eventId)&&void 0!==b?b:void 0,j)})).apply(this,arguments)}function tp(){return(tp=(0,l.Z)(function*(y){const{BuildInfo:p}=pl(),m={};ut()?m.iosBundleId=p.packageName:Lt()?m.androidPackageName=p.packageName:Ce(y,"operation-not-supported-in-this-environment"),yield be(y,m)})).apply(this,arguments)}function np(){return(np=(0,l.Z)(function*(y,p,m){const{cordova:b}=pl();let S=()=>{};try{yield new Promise((R,j)=>{let K=null;function Re(){var at;R();const kn=null===(at=b.plugins.browsertab)||void 0===at?void 0:at.close;"function"==typeof kn&&kn(),"function"==typeof m?.close&&m.close()}function ze(){K||(K=window.setTimeout(()=>{j(pe(y,"redirect-cancelled-by-user"))},2e3))}function et(){"visible"===document?.visibilityState&&ze()}p.addPassiveListener(Re),document.addEventListener("resume",ze,!1),Lt()&&document.addEventListener("visibilitychange",et,!1),S=()=>{p.removePassiveListener(Re),document.removeEventListener("resume",ze,!1),document.removeEventListener("visibilitychange",et,!1),K&&window.clearTimeout(K)}})}finally{S()}})).apply(this,arguments)}function Eg(y){return ip.apply(this,arguments)}function ip(){return(ip=(0,l.Z)(function*(y){const p=Cg(y),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Cg(y){if(ht(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),m=new Uint8Array(p);for(let b=0;b<y.length;b++)m[b]=y.charCodeAt(b);return m}(0,O.Pz)("authIdTokenMaxAge"),function bg(y){(0,ae._registerComponent)(new ie.wA("auth",(p,{options:m})=>{const b=p.getProvider("app").getImmediate(),S=p.getProvider("heartbeat"),R=p.getProvider("app-check-internal"),{apiKey:j,authDomain:K}=b.options;ee(j&&!j.includes(":"),"invalid-api-key",{appName:b.name}),ee(!K?.includes(":"),"argument-error",{appName:b.name});const Re={apiKey:j,authDomain:K,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:re(y)},ze=new qc(b,S,R,Re);return function dn(y,p){const m=p?.persistence||[],b=(Array.isArray(m)?m:[m]).map($n);p?.errorMap&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(b,p?.popupRedirectResolver)}(ze,m),ze},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,b)=>{p.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new ie.wA("auth-internal",p=>{const m=un(p.getProvider("auth").getImmediate());return new ih(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(pc,"0.23.1",function Xf(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ae.registerVersion)(pc,"0.23.1","esm2017")}("Browser");class Tg extends x{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,l.Z)(function*(){yield p.initPromise})()}}function fv(y){return Su.apply(this,arguments)}function Su(){return(Su=(0,l.Z)(function*(y){const p=yield Os()._get(oh(y));return p&&(yield Os()._remove(oh(y))),p})).apply(this,arguments)}function rp(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const b=Math.floor(Math.random()*p.length);y.push(p.charAt(b))}return y.join("")}function Os(){return $n(fs)}function oh(y){return H("authEvent",y.config.apiKey,y.name)}function ml(y){if(!y?.includes("?"))return{};const[p,...m]=y.split("?");return(0,O.zd)(m.join("?"))}function gl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:pe("no-auth-event")}}function _l(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function cp(y=(0,O.z$)()){return!("file:"!==_l()&&"ionic:"!==_l()&&"capacitor:"!==_l()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Mu(){try{const y=self.localStorage,p=zr();if(y)return y.setItem(p,"1"),y.removeItem(p),!function Mg(y=(0,O.z$)()){return function ah(){return(0,O.w1)()&&11===document?.documentMode}()||function Au(y=(0,O.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,O.hl)()}catch{return yl()&&(0,O.hl)()}return!1}function yl(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function dp(){return(function _v(){return"http:"===_l()||"https:"===_l()}()||(0,O.ru)()||cp())&&!function up(){return(0,O.b$)()||(0,O.UG)()}()&&Mu()&&!yl()}function gc(){return cp()&&typeof document<"u"}function xu(){return(xu=(0,l.Z)(function*(){return!!gc()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const Ii={LOCAL:"local",NONE:"none",SESSION:"session"},_c=ee,xg="persistence";function Ru(y){return ku.apply(this,arguments)}function ku(){return(ku=(0,l.Z)(function*(y){yield y._initializationPromise;const p=fp(),m=H(xg,y.config.apiKey,y.name);p&&p.setItem(m,y._getPersistence())})).apply(this,arguments)}function fp(){var y;try{return(null===(y=function lh(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const Qs=ee;class Xs{constructor(){this.browserResolver=$n(class uv{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zs,this._completeRedirectFn=ul,this._overrideRedirectResult=pa}_openPopup(p,m,b,S){var R=this;return(0,l.Z)(function*(){var j;ht(null===(j=R.eventManagers[p._key()])||void 0===j?void 0:j.manager,"_initialize() not called before _openPopup()");const K=yield Jd(p,m,b,Zt(),S);return function cE(y,p,m,b=500,S=600){const R=Math.max((window.screen.availHeight-S)/2,0).toString(),j=Math.max((window.screen.availWidth-b)/2,0).toString();let K="";const Re=Object.assign(Object.assign({},Xd),{width:b.toString(),height:S.toString(),top:R,left:j}),ze=(0,O.z$)().toLowerCase();m&&(K=Ze(ze)?"_blank":m),le(ze)&&(p=p||"http://localhost",Re.scrollbars="yes");const et=Object.entries(Re).reduce((kn,[Kr,dh])=>`${kn}${Kr}=${dh},`,"");if(function En(y=(0,O.z$)()){var p;return ut(y)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(ze)&&"_self"!==K)return function uE(y,p){const m=document.createElement("a");m.href=y,m.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(p||"",K),new _g(null);const at=window.open(p||"",K,et);ee(at,y,"popup-blocked");try{at.focus()}catch{}return new _g(at)}(p,K,zr())})()}_openRedirect(p,m,b,S){var R=this;return(0,l.Z)(function*(){return yield R._originValidation(p),function lu(y){Bn().location.href=y}(yield Jd(p,m,b,Zt(),S)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:S,promise:R}=this.eventManagers[m];return S?Promise.resolve(S):(ht(R,"If manager is not set, promise should be"),R)}const b=this.initAndGetManager(p);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(p){var m=this;return(0,l.Z)(function*(){const b=yield function dc(y){return hl.apply(this,arguments)}(p),S=new x(p);return b.register("authEvent",R=>(ee(R?.authEvent,p,"invalid-auth-event"),{status:S.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:S},m.iframes[p._key()]=b,S})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(eh,{type:eh},S=>{var R;const j=null===(R=S?.[0])||void 0===R?void 0:R[eh];void 0!==j&&m(!!j),Ce(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Nt(y){return kt.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return Cn()||Y()||ut()}}),this.cordovaResolver=$n(class Ag{constructor(){this._redirectPersistence=zs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ul,this._overrideRedirectResult=pa}_initialize(p){var m=this;return(0,l.Z)(function*(){const b=p._key();let S=m.eventManagers.get(b);return S||(S=new Tg(p),m.eventManagers.set(b,S),m.attachCallbackListeners(p,S)),S})()}_openPopup(p){Ce(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,b,S){var R=this;return(0,l.Z)(function*(){!function hv(y){var p,m,b,S,R,j,K,Re,ze,et;const at=pl();ee("function"==typeof(null===(p=at?.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ee(typeof(null===(m=at?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ee("function"==typeof(null===(R=null===(S=null===(b=at?.cordova)||void 0===b?void 0:b.plugins)||void 0===S?void 0:S.browsertab)||void 0===R?void 0:R.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee("function"==typeof(null===(Re=null===(K=null===(j=at?.cordova)||void 0===j?void 0:j.plugins)||void 0===K?void 0:K.browsertab)||void 0===Re?void 0:Re.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee("function"==typeof(null===(et=null===(ze=at?.cordova)||void 0===ze?void 0:ze.InAppBrowser)||void 0===et?void 0:et.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const j=yield R._initialize(p);yield j.initialized(),j.resetRedirect(),function Zf(){Zs.clear()}(),yield R._originValidation(p);const K=function Dg(y,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:rp(),postBody:null,tenantId:y.tenantId,error:pe(y,"no-auth-event")}}(p,b,S);yield function sh(y,p){return Os()._set(oh(y),p)}(p,K);const Re=yield function Ys(y,p,m){return ya.apply(this,arguments)}(p,K,m),ze=yield function Du(y){const{cordova:p}=pl();return new Promise(m=>{p.plugins.browsertab.isAvailable(b=>{let S=null;b?p.plugins.browsertab.openUrl(y):S=p.InAppBrowser.open(y,function vt(y=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(S)})})}(Re);return function rh(y,p,m){return np.apply(this,arguments)}(p,j,ze)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Tu(y){return tp.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:b,handleOpenURL:S,BuildInfo:R}=pl(),j=setTimeout((0,l.Z)(function*(){yield fv(p),m.onEvent(gl())}),500),K=function(){var et=(0,l.Z)(function*(at){clearTimeout(j);const kn=yield fv(p);let Kr=null;kn&&at?.url&&(Kr=function Sg(y,p){var m,b;const S=function mv(y){const p=ml(y),m=p.link?decodeURIComponent(p.link):void 0,b=ml(m).link,S=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return ml(S).link||S||b||m||y}(p);if(S.includes("/__/auth/callback")){const R=ml(S),j=R.firebaseError?function pv(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(R.firebaseError)):null,K=null===(b=null===(m=j?.code)||void 0===m?void 0:m.split("auth/"))||void 0===b?void 0:b[1],Re=K?pe(K):null;return Re?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Re,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:S,postBody:null}}return null}(kn,at.url)),m.onEvent(Kr||gl())});return function(kn){return et.apply(this,arguments)}}();typeof b<"u"&&"function"==typeof b.subscribe&&b.subscribe(null,K);const Re=S,ze=`${R.packageName.toLowerCase()}://`;pl().handleOpenURL=function(){var et=(0,l.Z)(function*(at){if(at.toLowerCase().startsWith(ze)&&K({url:at}),"function"==typeof Re)try{Re(at)}catch(kn){console.error(kn)}});return function(at){return et.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=zs,this._completeRedirectFn=ul,this._overrideRedirectResult=pa}_initialize(p){var m=this;return(0,l.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,b,S){var R=this;return(0,l.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(p,m,b,S)})()}_openRedirect(p,m,b,S){var R=this;return(0,l.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(p,m,b,S)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return gc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Qs(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,l.Z)(function*(){if(p.underlyingResolver)return;const m=yield function hp(){return xu.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function Ou(y){return y.unwrap()}function ch(y){return Og(y)}function Og(y){const{_tokenResponse:p}=y instanceof O.ZR?y.customData:y;if(!p)return null;if(!(y instanceof O.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return nn.credentialFromResult(y);const m=p.providerId;if(!m||"password"===m)return null;let b;switch(m){case"google.com":b=Jc;break;case"facebook.com":b=Yi;break;case"github.com":b=Gl;break;case"twitter.com":b=Id;break;default:const{oauthIdToken:S,oauthAccessToken:R,oauthTokenSecret:j,pendingToken:K,nonce:Re}=p;return R||j||S||K?K?m.startsWith("saml.")?Gn._create(m,K):br._fromParams({providerId:m,signInMethod:m,pendingToken:K,idToken:S,accessToken:R}):new wr(m).credential({idToken:S,accessToken:R,rawNonce:Re}):null}return y instanceof O.ZR?b.credentialFromError(y):b.credentialFromResult(y)}function Ti(y,p){return p.catch(m=>{throw m instanceof O.ZR&&function va(y,p){var m;const b=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===p?.code)p.resolver=new vv(y,function ru(y,p){var m;const b=(0,O.m9)(y),S=p;return ee(p.customData.operationType,b,"argument-error"),ee(null===(m=S.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),$s._fromError(b,S)}(y,p));else if(b){const S=Og(p),R=p;S&&(R.credential=S,R.tenantId=b.tenantId||void 0,R.email=b.email||void 0,R.phoneNumber=b.phoneNumber||void 0)}}(y,m),m}).then(m=>{const S=m.user;return{operationType:m.operationType,credential:ch(m),additionalUserInfo:tc(m),user:Di.getOrCreate(S)}})}function pp(y,p){return uh.apply(this,arguments)}function uh(){return(uh=(0,l.Z)(function*(y,p){const m=yield p;return{verificationId:m.verificationId,confirm:b=>Ti(y,m.confirm(b))}})).apply(this,arguments)}class vv{constructor(p,m){this.resolver=m,this.auth=function kg(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Ti(Ou(this.auth),this.resolver.resolveSignIn(p))}}class Di{constructor(p){this._delegate=p,this.multiFactor=function Xa(y){const p=(0,O.m9)(y);return ra.has(p)||ra.set(p,ii._fromUser(p)),ra.get(p)}(p)}static getOrCreate(p){return Di.USER_MAP.has(p)||Di.USER_MAP.set(p,new Di(p)),Di.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,l.Z)(function*(){return Ti(m.auth,tu(m._delegate,p))})()}linkWithPhoneNumber(p,m){var b=this;return(0,l.Z)(function*(){return pp(b.auth,function Wd(y,p,m){return ol.apply(this,arguments)}(b._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,l.Z)(function*(){return Ti(m.auth,function gu(y,p,m){return Rs.apply(this,arguments)}(m._delegate,p,Xs))})()}linkWithRedirect(p){var m=this;return(0,l.Z)(function*(){return yield Ru(un(m.auth)),function yu(y,p,m){return function Ks(y,p,m){return Qd.apply(this,arguments)}(y,p,m)}(m._delegate,p,Xs)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,l.Z)(function*(){return Ti(m.auth,xn(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return pp(this.auth,function gg(y,p,m){return ua.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return Ti(this.auth,function pt(y,p,m){return lc.apply(this,arguments)}(this._delegate,p,Xs))}reauthenticateWithRedirect(p){var m=this;return(0,l.Z)(function*(){return yield Ru(un(m.auth)),function Ar(y,p,m){return function Wf(y,p,m){return Hn.apply(this,arguments)}(y,p,m)}(m._delegate,p,Xs)})()}sendEmailVerification(p){return function Fd(y,p){return Ld.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,l.Z)(function*(){return yield function Sd(y,p){return ja.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function Of(y,p){return Wa((0,O.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function Ss(y,p){return Wa((0,O.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function mu(y,p){return zf.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function Ud(y,p){return Za.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function Vd(y,p,m){return wo.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Di.USER_MAP=new WeakMap;const Js=ee;let Pg=(()=>{class y{constructor(m,b){if(this.app=m,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=m.options;Js(S,"invalid-api-key",{appName:m.name}),Js(S,"invalid-api-key",{appName:m.name});const R=typeof window<"u"?Xs:void 0;this._delegate=b.initialize({options:{persistence:bv(S,m.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(Ie),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Di.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,b){!function md(y,p,m){const b=un(y);ee(b._canInitEmulator,b,"emulator-config-failed"),ee(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const S=!!m?.disableWarnings,R=ui(p),{host:j,port:K}=function Ki(y){const p=ui(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(b);if(S){const R=S[1];return{host:R,port:Jo(b.substr(R.length+1))}}{const[R,j]=b.split(":");return{host:R,port:Jo(j)}}}(p);b.config.emulator={url:`${R}//${j}${null===K?"":`:${K}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:j,port:K,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function Ll(){function y(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,b)}applyActionCode(m){return function Yl(y,p){return $r.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return xd(this._delegate,m)}confirmPasswordReset(m,b){return function Kl(y,p,m){return za.apply(this,arguments)}(this._delegate,m,b)}createUserWithEmailAndPassword(m,b){var S=this;return(0,l.Z)(function*(){return Ti(S._delegate,function Rd(y,p,m){return qa.apply(this,arguments)}(S._delegate,m,b))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function kf(y,p){return Nd.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Rf(y,p){return"EMAIL_SIGNIN"===$l.parseLink(p)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,l.Z)(function*(){Js(dp(),m._delegate,"operation-not-supported-in-this-environment");const b=yield function Kf(y,p){return cl.apply(this,arguments)}(m._delegate,Xs);return b?Ti(m._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function gv(y,p){un(y)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,b,S){const{next:R,error:j,complete:K}=mp(m,b,S);return this._delegate.onAuthStateChanged(R,j,K)}onIdTokenChanged(m,b,S){const{next:R,error:j,complete:K}=mp(m,b,S);return this._delegate.onIdTokenChanged(R,j,K)}sendSignInLinkToEmail(m,b){return function na(y,p,m){return Od.apply(this,arguments)}(this._delegate,m,b)}sendPasswordResetEmail(m,b){return function Md(y,p,m){return ta.apply(this,arguments)}(this._delegate,m,b||void 0)}setPersistence(m){var b=this;return(0,l.Z)(function*(){let S;switch(function yv(y,p){_c(Object.values(Ii).includes(p),y,"invalid-persistence-type"),(0,O.b$)()?_c(p!==Ii.SESSION,y,"unsupported-persistence-type"):(0,O.UG)()?_c(p===Ii.NONE,y,"unsupported-persistence-type"):yl()?_c(p===Ii.NONE||p===Ii.LOCAL&&(0,O.hl)(),y,"unsupported-persistence-type"):_c(p===Ii.NONE||Mu(),y,"unsupported-persistence-type")}(b._delegate,m),m){case Ii.SESSION:S=zs;break;case Ii.LOCAL:S=(yield $n(ca)._isAvailable())?ca:fs;break;case Ii.NONE:S=Wi;break;default:return Ce("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Ti(this._delegate,function ls(y){return Td.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Ti(this._delegate,ji(this._delegate,m))}signInWithCustomToken(m){return Ti(this._delegate,function us(y,p){return nu.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,b){return Ti(this._delegate,function kd(y,p,m){return ji((0,O.m9)(y),zn.credential(p,m))}(this._delegate,m,b))}signInWithEmailLink(m,b){return Ti(this._delegate,function Qi(y,p,m){return Ds.apply(this,arguments)}(this._delegate,m,b))}signInWithPhoneNumber(m,b){return pp(this._delegate,function $f(y,p,m){return Zd.apply(this,arguments)}(this._delegate,m,b))}signInWithPopup(m){var b=this;return(0,l.Z)(function*(){return Js(dp(),b._delegate,"operation-not-supported-in-this-environment"),Ti(b._delegate,function ha(y,p,m){return $t.apply(this,arguments)}(b._delegate,m,Xs))})()}signInWithRedirect(m){var b=this;return(0,l.Z)(function*(){return Js(dp(),b._delegate,"operation-not-supported-in-this-environment"),yield Ru(b._delegate),function Ws(y,p,m){return function Do(y,p,m){return Rn.apply(this,arguments)}(y,p,m)}(b._delegate,m,Xs)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Ql(y,p){return bo.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Ii,y})();function mp(y,p,m){let b=y;"function"!=typeof y&&({next:b,error:p,complete:m}=y);const S=b;return{next:j=>S(j&&Di.getOrCreate(j)),error:p,complete:m}}function bv(y,p){const m=function Rg(y,p){const m=fp();if(!m)return[];const b=H(xg,y,p);switch(m.getItem(b)){case Ii.NONE:return[Wi];case Ii.LOCAL:return[ca,zs];case Ii.SESSION:return[zs];default:return[]}}(y,p);if(typeof self<"u"&&!m.includes(ca)&&m.push(ca),typeof window<"u")for(const b of[fs,zs])m.includes(b)||m.push(b);return m.includes(Wi)||m.push(Wi),m}class Ng{constructor(){this.providerId="phone",this._delegate=new nn(Ou(X.Z.auth()))}static credential(p,m){return nn.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}Ng.PHONE_SIGN_IN_METHOD=nn.PHONE_SIGN_IN_METHOD,Ng.PROVIDER_ID=nn.PROVIDER_ID;const gp=ee;class wv{constructor(p,m,b=X.Z.app()){var S;gp(null===(S=b.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new qd(p,m,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Fg(y){y.INTERNAL.registerComponent(new ie.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),b=p.getProvider("auth");return new Pg(m,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:zn,FacebookAuthProvider:Yi,GithubAuthProvider:Gl,GoogleAuthProvider:Jc,OAuthProvider:wr,SAMLAuthProvider:Bs,PhoneAuthProvider:Ng,PhoneMultiFactorGenerator:bu,RecaptchaVerifier:wv,TwitterAuthProvider:Id,Auth:Pg,AuthCredential:Es,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.4.1")}(X.Z)},5861:(gt,De,N)=>{function l(O,ae,oe,ue,ie,Ee,he){try{var z=O[Ee](he),$=z.value}catch(W){return void oe(W)}z.done?ae($):Promise.resolve($).then(ue,ie)}function X(O){return function(){var ae=this,oe=arguments;return new Promise(function(ue,ie){var Ee=O.apply(ae,oe);function he($){l(Ee,ue,ie,he,z,"next",$)}function z($){l(Ee,ue,ie,he,z,"throw",$)}he(void 0)})}}N.d(De,{Z:()=>X})}},gt=>{gt(gt.s=5633)}]);